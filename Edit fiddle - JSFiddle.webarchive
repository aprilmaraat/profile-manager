bplist00”-_WebMainResource_WebSubframeArchives_WebSubresources’	
_WebResourceMIMEType_WebResourceTextEncodingName_WebResourceFrameName^WebResourceURL_WebResourceDataYtext/htmlUUTF-8P_+http://jsfiddle.net/Kyle_Sevenoaks/ZnfED/1/O¥ñ<!DOCTYPE html><html slick-uniqueid="3"><head>
    <meta charset="utf-8">
    <meta name="description" content="Test your JavaScript, CSS, HTML or CoffeeScript online with JSFiddle code editor.">
    <meta name="keywords" content="online javascript editor, testing javascript online, online ide, online code editor, html, css, coffeescript, scss online editor">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="author" content="JSFiddle">
    <meta name="copyright" content="share alike">

    

    <meta name="google-site-verification" content="9m4aWTtDLfQ1kJNm3NtNsCrtpsOx_QoOPQRJ7jAwup8">
    <script type="text/javascript" async="" src="https://widget.intercom.io/widget/wafdmsew"></script><script id="twitter-wjs" src="http://platform.twitter.com/widgets.js"></script><script async="" src="//www.google-analytics.com/analytics.js"></script><script async="" src="//rum-static.pingdom.net/prum.min.js"></script><script type="text/javascript" src="/js/moo-clientcide-1.3.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/lib/codemirror.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/mode/javascript/javascript.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/mode/css/css.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/mode/xml/xml.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/mode/htmlmixed/htmlmixed.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/mode/coffeescript/coffeescript.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/addon/search/searchcursor.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/addon/edit/matchbrackets.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/addon/hint/show-hint.js?update10082015"></script>
<script type="text/javascript" src="/js/codemirror/addon/hint/javascript-hint.js?update10082015"></script>
<script type="text/javascript" src="/js/jshint.js?update10082015"></script>
<script type="text/javascript" src="/js/emmet.js?update10082015"></script>
<script type="text/javascript" src="/js/Sidebar.js?update10082015"></script>
<script type="text/javascript" src="/js/LayoutCM.js?update10082015"></script>
<script type="text/javascript" src="/js/Actions.js?update10082015"></script>
<script type="text/javascript" src="/js/Resources.js?update10082015"></script>
<script type="text/javascript" src="/js/EditorCM.js?update10082015"></script>
<script type="text/javascript" src="/js/Settings.js?update10082015"></script>
<script type="text/javascript" src="/js/heyoffline.js?update10082015"></script>

    <!-- script src="/mooshellmedia/js/clientcide.2.2.0.js" type="text/javascript" charset="utf-8"></script -->


<script type="text/javascript" charset="utf-8">

	// switch this to false once on production
	var disqus_developer = false;

	// uniqie shell ID
	var disqus_identifier = 'ZnfED';

	// title
	var disqus_title = '';

</script>

<!--meta name="viewport" content="width=device-width, maximum-scale=0.5" /-->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-touch-fullscreen" content="yes">

    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css?update10082015">

    <link rel="stylesheet" type="text/css" href="/css/tricks.css?update10082015">

    <link rel="stylesheet" type="text/css" href="/css/elusive-webfont.css?update10082015">

    <link rel="stylesheet" type="text/css" href="/js/codemirror/lib/codemirror.css?update10082015">
    <link rel="stylesheet" type="text/css" href="/js/codemirror/addon/hint/show-hint.css?update10082015">
    <link rel="icon" href="/favicon.png">

    <!--[if lte IE 7]>
      <script src="/js/lte-ie7.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/css/screen.css?update10082015">

    <link rel="stylesheet" type="text/css" href="/css/light.css?update10082015">

    <script type="text/javascript">
      var csspath = "/css/",
        jspath = "/js/",
        imgpath = "/img/",
        mediapath = "/mooshellmedia/",
        codemirrorpath = "/codemirror/",
        panel_html = 'html',
        panel_css = 'css',
        panel_js = 'javascript',
        makefavouritepath = "/_make_favourite/",
        example_server = "//jsfiddle.net",
        username = "",
        static_hash = "update10082015",
        csrfToken = Cookie.read('csrftoken'),
        mooshell,
        preload_resources;
      
      Layout.skin = "";// "light"
      window.addEvent('domready', function() {
        if (panel_js != 'javascript' && $('jslint')) {
          $('jslint').getParent('li').hide();
        }

        $extend(Layout, new Events());
        mooshell = new MooShellActions({
          example_id: '507673',
          exampleURL: "//jsfiddle.net/Kyle_Sevenoaks/ZnfED/1/",
          exampleSaveUrl: '/_save/',
          // sendCallbackURL: '',
          loadDependenciesURL: '/_get_dependencies/{lib_id}/',
          loadLibraryVersionsURL: '/_get_library_versions/{group_id}/'
        });
        new MooShellEditor.JS(document.id('id_code_js'), {
          language: panel_js
        }); // add user defined parameters
        new MooShellEditor.HTML(document.id('id_code_html'), {
          language: panel_html
        }); // add user defined parameters
        new MooShellEditor.CSS(document.id('id_code_css'), {
          language: panel_css
        }); // add user defined parameters
        Layout.render();
        
      });
      window.addEvent('load', function(){
		

        // show editors and content when the last editor loads
        // this will prevent flickering, plus looks nice
        document.id('content').setStyle('opacity', 1);
        document.id('sidebar').setStyle('opacity', 1);

        // always keep this at the bottom
        $$('select.panelChoice').each(function(sel) {
          this.switchLanguage(sel);
        }, mooshell);
      });
      
    </script>
    

    
      <script>
        var _prum = [['id', '526a363eabe53df827000000'],
                     ['mark', 'firstbyte', (new Date()).getTime()]];
        (function() {
            var s = document.getElementsByTagName('script')[0]
              , p = document.createElement('script');
            p.async = 'async';
            p.src = '//rum-static.pingdom.net/prum.min.js';
            s.parentNode.insertBefore(p, s);
        })();
      </script>
      


  <script>
    window.intercomSettings = {
      app_id: "wafdmsew"
    };
  </script>

<script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/wafdmsew';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>

      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-366077-13', 'auto');
  ga('send', 'pageview', '/[user]/[fiddle]/[revision]/'); // where `url_structure` is for example `/[user]/[fiddle]/[revision]/embedded/js,css/`
</script>


      
    

    <title>Edit fiddle - JSFiddle</title>
  <style id="defaultStickyWinStyle">div.DefaultStickyWin {font-family:verdana; font-size:11px; line-height: 13px;position: relative;}div.DefaultStickyWin div.top{-moz-user-select: none;-khtml-user-select: none;}div.DefaultStickyWin div.top_ul{background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/full.png) top left no-repeat; height:30px; width:15px; float:left}div.DefaultStickyWin div.top_ur{position:relative; left:0px !important; left:-4px; background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/full.png) top right !important; height:30px; margin:0px 0px 0px 15px !important; margin-right:-4px; padding:0px}div.DefaultStickyWin h1.caption{clear: none !important; margin:0px !important; overflow: hidden; padding:0 !important; font-weight:bold; color:#555; font-size:14px !important; position:relative; top:8px !important; left:5px !important; float: left; height: 22px !important;}div.DefaultStickyWin div.middle, div.DefaultStickyWin div.closeBody {background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/body.png) top left repeat-y; margin:0px 20px 0px 0px !important;	margin-bottom: -3px; position: relative;	top: 0px !important; top: -3px;}div.DefaultStickyWin div.body{background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/body.png) top right repeat-y; padding:8px 23px 8px 0px !important; margin-left:5px !important; position:relative; right:-20px !important; z-index: 1;}div.DefaultStickyWin div.bottom{clear:both;}div.DefaultStickyWin div.bottom_ll{background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/full.png) bottom left no-repeat; width:15px; height:15px; float:left}div.DefaultStickyWin div.bottom_lr{background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/full.png) bottom right; position:relative; left:0px !important; left:-4px; margin:0px 0px 0px 15px !important; margin-right:-4px; height:15px}div.DefaultStickyWin div.closeButtons{text-align: center; background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/body.png) top right repeat-y; padding: 4px 30px 8px 0px; margin-left:5px; position:relative; right:-20px}div.DefaultStickyWin a.button:hover{background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/big_button_over.gif) repeat-x}div.DefaultStickyWin a.button {background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/big_button.gif) repeat-x; margin: 2px 8px 2px 8px; padding: 2px 12px; cursor:pointer; border: 1px solid #999 !important; text-decoration:none; color: #000 !important;}div.DefaultStickyWin div.closeButton{width:13px; height:13px; background:url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/closebtn.gif) no-repeat; position: absolute; right: 0px; margin:10px 15px 0px 0px !important; cursor:pointer;top:0px}div.DefaultStickyWin div.dragHandle {	width: 11px;	height: 25px;	position: relative;	top: 5px;	left: -3px;	cursor: move;	background: url(http://github.com/anutron/clientcide/raw/master/Assets/stickyWinHTML/drag_corner.gif); float: left;}</style><script src="/js/beautifier.js" type="text/javascript"></script></head>
  <body>
    <h1>Test your JavaScript, CSS, HTML or CoffeeScript online with JSFiddle code editor.</h1>
    <h2>online javascript editor, testing javascript online, online ide, online code editor, html, css, coffeescript, scss online editor</h2>
    <form method="post" id="show-result" target="result" action="//fiddle.jshell.net/_display/">
      
      
      <div style="display:none"><input type="hidden" name="csrfmiddlewaretoken" value="Ht0uskCSr9Ee3YMJmSITydt0eDBX9G24"></div>
      <div id="header">
        <div id="branding">
          <p id="name"><a title="JSFiddle " href="/" id="home">JSFiddle <span>Œ±</span></a></p>
        </div>
        <div id="actions">
	<ul class="actionCont collapsed" id="toggleSidebarUl">
		<li class="actionItem"><a class="aiButton" id="toggleSidebar" title="Toggle sidebar" href="#toggle-sidebar"><span>Hide sidebar</span></a></li>
  </ul>
	<ul class="actionCont collapsed">
		<li class="actionItem">
			<a class="aiButton" id="run" title="Run (CTRL + Return)" href="#run"><span class="icon-caret-right"></span>Run</a>
		</li>
    

    
    

    
     
      
        <li class="actionItem">
          <a class="aiButton" id="update" title="Update (CTRL + S)" href="#update"><span class="icon-pencil"></span>Update</a>
        </li>
        <li class="actionItem">
          <a class="aiButton" id="savenew" title="Fork into a new Fiddle" href="#fork"><span class="icon-fork"></span>Fork</a>
        </li>
      
    

		

    <li class="actionItem">
    	<a class="aiButton" id="tidy" title="Re-indent messy code" href="#tidy"><span class="icon-broom"></span>TidyUp</a>
    </li>
    <li class="actionItem">
    	<a class="aiButton" id="jslint" title="Run JSHint on the code" href="#jshint"><span class="icon-ok"></span>JSHint</a>
    </li>
    <li class="actionItem" style="display: none;">
    	<a class="aiButton" id="showjscode" title="Show JavaScript code" href="#showjs"><span class="icon-pencil"></span>Show JS</a>
    </li>
    <li class="actionItem">
    	<a class="aiButton" id="collaborate" title="" href="#collaborate"><span class="icon-group"></span>Collaboration</a>
    </li>
  </ul>

	
		<ul class="actionCont dropdown">
			<li class="actionItem">
				<a class="aiButton dropdownTrigger" id="share" title="Share this Fiddle" href="#share">Share<span class="icon-caret-down"></span></a>
				<div class="dropdownCont" style="opacity: 0; visibility: hidden;">
					<div class="dcWrapper">
						
						<div id="share_links_dropdown">
							<p>
								<label for="share_link_dropdown">Share link</label>
								<input id="share_link_dropdown" type="text" class="share" value="https://jsfiddle.net/Kyle_Sevenoaks/ZnfED/1/">
							</p>
							<p>
								<label for="share_result_dropdown">Share full screen result</label>
								<input id="share_result_dropdown" type="text" class="share" value="https://jsfiddle.net/Kyle_Sevenoaks/ZnfED/1/embedded/result/">
							</p>
							<p>
								<label for="share_embedded_dropdown">Embed on your page (<a href="http://doc.jsfiddle.net/use/embedding.html">embed options</a>)</label>
								<input id="share_embedded_dropdown" type="text" class="share" value="&lt;iframe width=&quot;100%&quot; height=&quot;300&quot; src=&quot;//jsfiddle.net/Kyle_Sevenoaks/ZnfED/1/embedded/&quot; allowfullscreen=&quot;allowfullscreen&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;">
							</p>
						</div>

						<ul id="share-social">
							<li class="ssItem twitter"><span class="icon-twitter"></span><a href="http://twitter.com/home?status=Check out my fiddle:  https://jsfiddle.net/Kyle_Sevenoaks/ZnfED/1/" title="Click to send this page to Twitter!" target="_blank">Share on Twitter</a></li>
							<li class="ssItem facebook"><span class="icon-facebook"></span><a href="javascript:var%20d=document,f='http://www.facebook.com/share',l=d.location,e=encodeURIComponent,p='.php?src=bm&v=4&i=1244125276&u='+e(l.href)+'&t='+e(d.title);1;try%7Bif%20(!/%5E(.*%5C.)?facebook%5C.%5B%5E.%5D*$/.test(l.host))throw(0);share_internal_bookmarklet(p)%7Dcatch(z)%20%7Ba=function()%20%7Bif%20(!window.open(f+'r'+p,'sharer','toolbar=0,status=0,resizable=1,width=626,height=436'))l.href=f+p%7D;if%20(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%7Ba()%7D%7Dvoid(0)" title="Post to Facebook">Post to Facebook</a></li>
						</ul>
					</div>
				</div>
			</li>
		</ul>
	
	
	<ul class="actionCont right">
		<!-- <li class="actionItem jobboard"><a class="aiButton" href="http://jobs.jsfiddle.net"><span class="icon-bullhorn"></span>JSFiddle Job Board</a></li> -->
		<li class="actionItem noIcon"><a class="aiButton" id="login" title="Login" href="/user/login/">Login/Sign up<span class="icon-user"></span></a></li>
	</ul>


</div>


      </div>
      <div id="sidebar" style="opacity: 1;">
        

<script type="text/javascript">
  var DP;

  window.addEvent('domready', function(){
    DP = new Dropdown();
  });
</script>

<h3 class="toggler active" id="settings_toggler">Frameworks &amp; Extensions</h3>
<div class="element" id="shell_settings">
  <div class="elementBody" style="padding-top: 0px; border-top-style: none; padding-bottom: 0px; border-bottom-style: none; overflow: hidden; opacity: 1; height: auto;">
    <div class="ebCont">
      
        
          
<select name="js_lib" id="js_lib">
	
		<optgroup label="Mootools">
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				<option value="59">Mootools (nightly)</option>
			
				<option value="218">Mootools 1.5.1 (nocompat)</option>
			
				<option value="216">Mootools 1.5.1</option>
			
				<option value="210">Mootools 1.5.0 (nocompat)</option>
			
				<option value="208">Mootools 1.5.0</option>
			
				<option value="96">Mootools 1.4.5 (compat)</option>
			
				<option value="95">Mootools 1.4.5</option>
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				<option value="41" selected="selected">Mootools 1.3 (compat)</option>
			
				<option value="63">Mootools 1.3.2 (compat)</option>
			
				<option value="62">Mootools 1.3.2</option>
			
				
			
				
			
				
			
				<option value="144">Mootools 1.2.6</option>
			
				
			
				
			
		</optgroup>
	
		<optgroup label="jQuery">
			
				<option value="146">jQuery Compat (edge)</option>
			
				
			
				<option value="46">jQuery (edge)</option>
			
				<option value="260">jQuery 3.0.0-alpha1</option>
			
				<option value="248">jQuery 2.1.3</option>
			
				<option value="188">jQuery 2.1.0</option>
			
				<option value="157">jQuery 2.0.2</option>
			
				
			
				
			
				
			
				
			
				<option value="186">jQuery 1.11.0</option>
			
				<option value="156">jQuery 1.10.1</option>
			
				
			
				<option value="131">jQuery 1.9.1</option>
			
				<option value="112">jQuery 1.8.3</option>
			
				<option value="101">jQuery 1.7.2</option>
			
				
			
				
			
				<option value="75">jQuery 1.6.4</option>
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
		</optgroup>
	
		<optgroup label="Prototype">
			
				
			
				<option value="254">Prototype 1.7.2</option>
			
				<option value="54">Prototype 1.7.1</option>
			
				<option value="4">Prototype 1.6.1.0</option>
			
		</optgroup>
	
		<optgroup label="YUI">
			
				
			
				<option value="230">YUI 3.17.2</option>
			
				<option value="204">YUI 3.16.0</option>
			
				<option value="182">YUI 3.14.0</option>
			
				<option value="153">YUI 3.10.1</option>
			
				
			
				<option value="130">YUI 3.8.0</option>
			
				<option value="123">YUI 3.7.3</option>
			
				<option value="118">YUI 3.6.0</option>
			
				<option value="102">YUI 3.5.0</option>
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				<option value="9">YUI 2.8.0r4</option>
			
				
			
		</optgroup>
	
		<optgroup label="Glow">
			
				
			
				
			
		</optgroup>
	
		<optgroup label="No-Library">
			
				<option value="11">No-Library (pure JS)</option>
			
		</optgroup>
	
		<optgroup label="Dojo">
			
				<option value="87">Dojo (nightly)</option>
			
				<option value="240">Dojo 1.10.4</option>
			
				
			
				
			
				<option value="242">Dojo 1.9.7</option>
			
				
			
				
			
				
			
				<option value="244">Dojo 1.8.10</option>
			
				
			
				
			
				
			
				
			
				
			
				<option value="246">Dojo 1.7.8</option>
			
				
			
				
			
				
			
				
			
				
			
				
			
				<option value="196">Dojo 1.6.2</option>
			
				
			
				
			
				<option value="194">Dojo 1.5.3</option>
			
				
			
				
			
				
			
				
			
		</optgroup>
	
		<optgroup label="Processing.js">
			
				<option value="206">Processing.js 1.4.7</option>
			
				<option value="135">Processing.js 1.4.1</option>
			
				<option value="81">Processing.js 1.3.6</option>
			
				<option value="67">Processing.js 1.2.3</option>
			
				
			
				
			
				
			
				
			
		</optgroup>
	
		<optgroup label="ExtJS">
			
				<option value="256">ExtJS 5.1.0</option>
			
				<option value="258">ExtJS 5.0.0</option>
			
				<option value="147">ExtJS 4.2.0</option>
			
				<option value="80">ExtJS 4.1.1</option>
			
				<option value="107">ExtJS 4.1.0</option>
			
				
			
				<option value="109">ExtJS 3.4.0</option>
			
				<option value="23">ExtJS 3.1.0</option>
			
				
			
		</optgroup>
	
		<optgroup label="Raphael">
			
				<option value="76">Raphael 2.1.0</option>
			
				<option value="36">Raphael 1.5.2 (min)</option>
			
				<option value="30">Raphael 1.4</option>
			
				
			
		</optgroup>
	
		<optgroup label="RightJS">
			
				<option value="136">RightJS 2.3.1</option>
			
				<option value="45">RightJS 2.1.1</option>
			
		</optgroup>
	
		<optgroup label="Three.js">
			
				<option value="82">Three.js r54</option>
			
		</optgroup>
	
		<optgroup label="Zepto">
			
				<option value="90">Zepto 1.0rc1</option>
			
		</optgroup>
	
		<optgroup label="Enyo">
			
				<option value="115">Enyo (nightly)</option>
			
				<option value="238">Enyo 2.5.1</option>
			
				<option value="214">Enyo 2.4.0</option>
			
				<option value="145">Enyo 2.2.0</option>
			
				<option value="121">Enyo 2.1</option>
			
				<option value="116">Enyo 2.0.1</option>
			
				
			
		</optgroup>
	
		<optgroup label="Shipyard">
			
				<option value="99">Shipyard (nightly)</option>
			
				<option value="105">Shipyard 0.2</option>
			
				
			
		</optgroup>
	
		<optgroup label="Knockout.js">
			
				<option value="172">Knockout.js 3.0.0</option>
			
				<option value="163">Knockout.js 2.3.0</option>
			
				<option value="122">Knockout.js 2.2.1</option>
			
				<option value="117">Knockout.js 2.1.0</option>
			
				<option value="104">Knockout.js 2.0.0</option>
			
		</optgroup>
	
		<optgroup label="The X Toolkit">
			
				<option value="106">The X Toolkit edge</option>
			
		</optgroup>
	
		<optgroup label="AngularJS">
			
				<option value="180">AngularJS 1.2.1</option>
			
				<option value="137">AngularJS 1.1.1</option>
			
				
			
				
			
		</optgroup>
	
		<optgroup label="Ember">
			
				<option value="190">Ember 1.3.1</option>
			
				
			
				
			
				
			
		</optgroup>
	
		<optgroup label="Underscore">
			
				<option value="160">Underscore 1.4.4</option>
			
				<option value="133">Underscore 1.4.3</option>
			
				<option value="111">Underscore 1.3.3</option>
			
		</optgroup>
	
		<optgroup label="Bonsai">
			
				<option value="120">Bonsai 0.4.1</option>
			
		</optgroup>
	
		<optgroup label="KineticJS">
			
				<option value="139">KineticJS 4.3.1</option>
			
				<option value="124">KineticJS 4.0.5</option>
			
		</optgroup>
	
		<optgroup label="FabricJS">
			
				<option value="250">FabricJS 1.5.0</option>
			
				<option value="178">FabricJS 1.4.0</option>
			
				<option value="161">FabricJS 1.2.0</option>
			
				<option value="125">FabricJS 0.9</option>
			
		</optgroup>
	
		<optgroup label="qooxdoo">
			
				<option value="126">qooxdoo 2.1</option>
			
				<option value="127">qooxdoo 2.0.3</option>
			
		</optgroup>
	
		<optgroup label="D3">
			
				<option value="134">D3 3.0.4</option>
			
		</optgroup>
	
		<optgroup label="CreateJS">
			
				<option value="170">CreateJS 2013.09.25</option>
			
				
			
		</optgroup>
	
		<optgroup label="WebApp Install">
			
				<option value="142">WebApp Install 0.1</option>
			
		</optgroup>
	
		<optgroup label="Thorax">
			
				<option value="174">Thorax 2.0.0rc6</option>
			
				<option value="143">Thorax 2.0.0rc3</option>
			
		</optgroup>
	
		<optgroup label="Paper.js">
			
				<option value="158">Paper.js 0.22</option>
			
		</optgroup>
	
		<optgroup label="React">
			
				<option value="192">React 0.9.0</option>
			
				<option value="184">React 0.8.0</option>
			
				<option value="166">React 0.4.0</option>
			
				<option value="159">React 0.3.2</option>
			
		</optgroup>
	
		<optgroup label="svg.js">
			
				<option value="162">svg.js 0.x (latest)</option>
			
		</optgroup>
	
		<optgroup label="Minified">
			
				<option value="164">Minified 1.0 beta1</option>
			
		</optgroup>
	
		<optgroup label="jTypes">
			
				<option value="165">jTypes 2.1.0</option>
			
		</optgroup>
	
		<optgroup label="Lo-Dash">
			
				<option value="167">Lo-Dash 2.2.1</option>
			
		</optgroup>
	
		<optgroup label="Brick">
			
				<option value="176">Brick edge</option>
			
		</optgroup>
	
		<optgroup label="RactiveJS">
			
				<option value="220">RactiveJS Latest</option>
			
				<option value="232">RactiveJS Edge</option>
			
		</optgroup>
	
		<optgroup label="Vue">
			
				<option value="236">Vue (edge)</option>
			
				<option value="234">Vue 0.11.0</option>
			
		</optgroup>
	
		<optgroup label="JSBlocks">
			
				<option value="252">JSBlocks (edge)</option>
			
		</optgroup>
	
</select>

<ul id="js_dependency">
	
	<li><input type="checkbox" id="dep_43" name="js_dependency[43]" value="43"><label for="dep_43">Mootools More 1.3.0.1 (compat)</label></li>

	<li><input type="checkbox" id="dep_33" name="js_dependency[33]" value="33"><label for="dep_33">ART 0.8.7</label></li>

	<li><input type="checkbox" id="dep_57" name="js_dependency[57]" value="57"><label for="dep_57">PowerTools 1.0.3</label></li>


</ul>

        
      

      <select name="js_wrap" id="id_js_wrap">
<option value="l" selected="selected">onLoad</option>
<option value="d">onDomready</option>
<option value="h">No wrap - in &lt;head&gt;</option>
<option value="b">No wrap - in &lt;body&gt;</option>
</select>
    </div>
  </div>
</div>

<script type="text/javascript">
  window.addEvent('load', function() {
    $('js_lib').addEvent('change', function() {
      mooshell.loadDependencies(this.value);
    })
    if ($('library_group')) $('library_group').addEvent('change', function() {
      mooshell.loadLibraryVersions(this.value);
    })
  });
</script>

        <h3 id="about_toggler" class="toggler">Fiddle Options</h3>
<div class="element">
  <div class="elementBody" style="padding-top: 0px; border-top-style: none; padding-bottom: 0px; border-bottom-style: none; overflow: hidden; opacity: 0; height: 0px;">
    <div class="ebCont">
      <p>
        <label>
          <input id="id_title" type="text" name="title" maxlength="255" value="" placeholder="Name your fiddle">
        </label>
      </p>
      <p>
        <label>
          <textarea id="id_description" rows="10" cols="40" name="description" placeholder="Description"></textarea>
        </label>
      </p>
      <p id="normalize_check">
        <input checked="checked" type="checkbox" name="normalize_css" id="id_normalize_css"> <label for="id_normalize_css">Normalized CSS</label><br>
        
      </p>
      <p>
        <label>
          Body tag
          <input id="id_body_tag" type="text" name="body_tag" value="&lt;body&gt;" maxlength="255">
        </label>
      </p>
      <p>
        <label>DTD
          <select name="doctype">
            
              <option id="dtd_XHTML 1.0 Strict" value="1">XHTML 1.0 Strict</option>
            
              <option id="dtd_XHTML 1.0 Transitional" value="2">XHTML 1.0 Transitional</option>
            
              <option selected="" id="dtd_HTML 5" value="3">HTML 5</option>
            
              <option id="dtd_HTML 4.01 Strict" value="4">HTML 4.01 Strict</option>
            
              <option id="dtd_HTML 4.01 Transitional" value="5">HTML 4.01 Transitional</option>
            
              <option id="dtd_HTML 4.01 Frameset" value="6">HTML 4.01 Frameset</option>
            
          </select>
        </label>
      </p>
      
        <p class="libraryTagAttributes">
          <label>
            Framework &lt;script&gt; attribute
            <input id="id_js_lib_option" type="text" name="js_lib_option" maxlength="255" placeholder="ie. data-type=&quot;&quot;" value="">
          </label>
        </p>
      
    </div>
  </div>
</div>

        

<h3 class="toggler" id="resources_toggler">
  External Resources
</h3>


<div class="element" id="resources_element">
  <div class="elementBody" style="padding-top: 0px; border-top-style: none; padding-bottom: 0px; border-bottom-style: none; overflow: hidden; opacity: 0; height: 0px;">
    <div class="ebCont">
      <div id="external-resources-form">
        <input id="external_resource" type="text" value="" placeholder="JavaScript/CSS URI">
        <a id="add_external_resource" class="submit" href="#" title="Add resource"><span class="icon-plus"></span></a>
      </div>
      <input type="hidden" value="" id="external_resources_id" name="add_external_resources">

      <ul id="external_resources_list">
      <script type="text/javascript">var resources = [];</script>
      
      </ul>
    </div>
  </div>
</div>

<script type="text/javascript">
  var default_text = 'JavaScript/CSS URL',
      add_external_resource_url = "/_add_external_resource/";
</script>

        
<h3 class="toggler" id="pannels_toggler">Languages</h3>
<div class="element" id="panels_settings">
  <div class="elementBody" style="padding-top: 0px; border-top-style: none; padding-bottom: 0px; border-bottom-style: none; overflow: hidden; opacity: 0; height: 0px;">
    <div class="ebCont">
      <div class="selectPanel">
          <select name="panel_html" class="panelChoice panelChoiceSelect html" id="panel_html_choice" disabled="disabled" data-panel_id="id_code_html" data-panel="html">
        
          <option data-mime-type="text/xml" value="0" selected="">HTML</option>
        
        </select>

        <select name="panel_css" class="panelChoice panelChoiceSelect css" id="panel_css_choice" data-panel_id="id_code_css" data-panel="css">
          
            <option data-mime-type="text/css" value="0" selected="">CSS</option>
          
            <option data-mime-type="text/css" value="1">SCSS</option>
          
        </select>

        <select name="panel_js" class="panelChoice panelChoiceSelect js" id="panel_js_choice" data-panel_id="id_code_js" data-panel="js">
          
            <option data-mime-type="text/javascript" value="0" selected="">JavaScript</option>
          
            <option data-mime-type="text/x-coffeescript" value="1">CoffeeScript</option>
          
            <option data-mime-type="application/javascript;version=1.7" value="2">JavaScript 1.7</option>
          
            <option data-mime-type="text/babel" value="3">Babel</option>
          
        </select>
        <span class="selectFake panelChoice result">Results</span>
      </div>
    </div>
  </div>
</div>


        <h3 class="toggler">Ajax Requests</h3>
<div class="element">
  <div class="elementBody" style="padding-top: 0px; border-top-style: none; padding-bottom: 0px; border-bottom-style: none; overflow: hidden; opacity: 0; height: 0px;">
    <div class="ebCont">

      <p>Echo apis are created to simulate Ajax calls:
        <code>/echo/json/</code> for JSON,
        <code>//jsfiddle.net/echo/jsonp/</code> for JSONP,
        <code>/echo/html/</code> for HTML and
        <code>/echo/xml/</code> for XML.
      </p>
      <p>Please <a href="http://doc.jsfiddle.net/use/echo.html" target="_new">read API documentation</a> and follow
        <a onclick="Layout.sidebar.accordion.display(Layout.sidebar.accordion.togglers.indexOf($('examples_toggler')))" href="#">examples</a>.
      </p>
    </div>
  </div>
</div>

        
        <h3 class="toggler">Legal, Credits and Links</h3>
<div class="element">
  <div class="elementBody" style="padding-top: 0px; border-top-style: none; padding-bottom: 0px; border-bottom-style: none; overflow: hidden; opacity: 0; height: 0px;">
    <div class="ebCont">
      <p>Created and maintained by <a title="Piotr's homepage" href="http://twitter.com/zalun" target="_blank">Piotr</a> and <a title="UX and UI Designer" href="https://twitter.com/oskar" target="_blank">Oskar</a>.</p>
      <p>Hosted by <a href="https://www.digitalocean.com/" target="_credits"><strong>DigitalOcean</strong></a></p>
      <p>Powered by <a href="http://customer.io/" target="_credits"><strong>Customer.io</strong></a></p>
      <!-- <p>Special thanks to <a href="http://mootools.net" target="_blank">MooTools</a> community.</p> -->
      <p><strong>License</strong></p>
      <p>All code belongs to the poster and no license is enforced.</p>
      <p>JSFiddle or its authors are not responsible or liable for any loss or damage of any kind during the usage of provided code.</p>
      <p><strong>Links</strong></p>
      <p>
        Please read the <a href="http://doc.jsfiddle.net/" target="_blank">documentation</a>.
      </p>
    </div>
  </div>
</div>

        

        <div class="twitterCont">
          <iframe id="twitter-widget-i1440571971435101856" scrolling="no" frameborder="0" allowtransparency="true" class="twitter-follow-button twitter-follow-button-rendered" src="http://platform.twitter.com/widgets/follow_button.8a755018e6a97b17947c10de5373fa76.en.html#_=1440571971455&amp;dnt=false&amp;id=twitter-widget-i1440571971435101856&amp;lang=en&amp;screen_name=jsfiddle&amp;show_count=true&amp;show_screen_name=true&amp;size=m" style="position: static; visibility: visible; width: 198px; height: 20px;" data-screen-name="jsfiddle"></iframe>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        </div>
        <a class="keyActions" href="#keyboard">Keyboard shortcuts</a>
      </div>
      <div id="content" style="height: 832px; opacity: 1;">
        
        

<input type="hidden" name="version" value="1" id="id_version">
<input type="hidden" id="id_slug" name="slug" value="ZnfED">
<fieldset class="column left">
    <div class="window top" id="panel_html" data-panel_type="html">
		<textarea id="id_code_html" rows="10" cols="40" name="code_html" style="display: none;">&lt;div class="strokeme"&gt;
    This text should have a stroke in some browsers
&lt;/div&gt;</textarea>
		<span class="window_label" style="opacity: 0.8;">HTML</span>
	<div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 33px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="min-width: 18px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 29px; margin-bottom: 0px; border-right-width: 30px; min-height: 59px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>3</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">class</span>=<span class="cm-string">"strokeme"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  This text should have a stroke in some browsers</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 59px;"></div><div class="CodeMirror-gutters" style="height: 238px;"><div class="CodeMirror-gutter note-gutter"></div><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></div>
	<div class="handler handler_horizontal" style="top: 204px;"></div>
	<div class="window bottom" id="panel_js" data-panel_type="javascript">
		<textarea id="id_code_js" rows="10" cols="40" name="code_js" style="display: none;"></textarea>
		<span class="window_label" style="opacity: 0.8;">JavaScript</span>
	<div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 33px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px; min-width: 18px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 29px; margin-bottom: 0px; border-right-width: 30px; min-height: 25px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>‚Äã</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style=""><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 25px;"></div><div class="CodeMirror-gutters" style="height: 654px;"><div class="CodeMirror-gutter note-gutter"></div><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></div>
	<div class="shim"></div>
</fieldset>

<div class="handler" id="handler_vertical" style="left: 834px;"></div>

<fieldset class="column right">
	<div class="window top" id="panel_css" data-panel_type="css">
		<textarea id="id_code_css" rows="10" cols="40" name="code_css" style="display: none;">.strokeme
{
    color: white;
    text-shadow:
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000;
    
}</textarea>
		<span class="window_label" style="opacity: 0;">CSS</span>
	<div class="CodeMirror cm-s-default CodeMirror-wrap CodeMirror-focused"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 123px; left: 97px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="min-width: 18px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="min-height: 18px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 29px; margin-bottom: 0px; border-right-width: 30px; min-height: 178px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>10</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style=""><div class="CodeMirror-cursor" style="left: 68px; top: 119px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-qualifier">.strokeme</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-property">color</span>: <span class="cm-keyword">white</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-property">text-shadow</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-number">-2px</span> <span class="cm-number">-2px</span> <span class="cm-number">0</span> <span class="cm-atom">#000</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-number">2px</span> <span class="cm-number">-2px</span> <span class="cm-number">0</span> <span class="cm-atom">#000</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-number">-2px</span> <span class="cm-number">2px</span> <span class="cm-number">0</span> <span class="cm-atom">#000</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-number">2px</span> <span class="cm-number">2px</span> <span class="cm-number">0</span> <span class="cm-atom">#000</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; top: 178px;"></div><div class="CodeMirror-gutters" style="height: 238px;"><div class="CodeMirror-gutter note-gutter"></div><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div><ul class="warningTooltip"></ul></div>
	<div class="handler handler_horizontal" style="top: 204px;"></div>
	<div id="result" class="window bottom">
      <iframe name="result" sandbox="allow-forms allow-popups allow-scripts allow-same-origin" frameborder="0" src="//fiddle.jshell.net/Kyle_Sevenoaks/ZnfED/1/show/"></iframe>
		<span class="window_label" style="opacity: 0.3;">Result</span>
	</div>
	<div class="shim"></div>
</fieldset>

      </div>
    </form>

    

<script>
  TogetherJSConfig_enableAnalytics = true;
  TogetherJSConfig_cloneClicks = "#run, .toggler";
  TogetherJSConfig_toolName = "Collaboration"
</script>
<script src="https://togetherjs.com/togetherjs.js"></script>

  

<span class="CodeMirror-error-tooltip"></span></body></html>¢“’	
_#twitter-widget-i1440571971435101856_Âhttp://platform.twitter.com/widgets/follow_button.8a755018e6a97b17947c10de5373fa76.en.html#_=1440571971455&dnt=false&id=twitter-widget-i1440571971435101856&lang=en&screen_name=jsfiddle&show_count=true&show_screen_name=true&size=mO „<!DOCTYPE html><html data-scribe="page:button" lang="en" class=" en"><head><meta charset="utf-8"><title>Twitter Follow Button</title><base target="_blank"><link rel="dns-prefetch" href="//twitter.com"><link rel="profile" href="http://microformats.org/profile/hcard"><style type="text/css">html{margin:0;padding:0;font:normal normal normal 11px/18px 'Helvetica Neue',Arial,sans-serif;color:#333;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;}body{margin:0;padding:0;background:transparent;}a{outline:none;text-decoration:none;}body.rtl{direction:rtl;}#widget{display:inline-block;white-space:nowrap;overflow:hidden;text-align:left;}.btn-o,.count-o,.btn,.btn .label,#count{display:inline-block;vertical-align:top;zoom:1;}.btn-o{max-width:100%;}.btn{position:relative;background-color:#eee;background-image:-webkit-linear-gradient(#fff,#dedede);background-image:linear-gradient(#fff,#dedede);border:#ccc solid 1px;border-radius:3px;color:#333;font-weight:bold;text-shadow:0 1px 0 rgba(255,255,255,.5);cursor:pointer;height:18px;}.btn:focus,.btn:hover,.btn:active{border-color:#bbb;background-color:#d9d9d9;background-image:-webkit-linear-gradient(#f8f8f8,#d9d9d9);background-image:linear-gradient(#f8f8f8,#d9d9d9);box-shadow:none;}.btn:active{background-color:#efefef;box-shadow:inset 0 3px 5px rgba(0,0,0,0.1);}.xl .btn:active{box-shadow:inset 0 3px 7px rgba(0,0,0,0.1);}.btn i{position:absolute;top:50%;left:2px;margin-top:-5px;width:16px;height:13px;background:transparent url(/widgets/images/btn.27237bab4db188ca749164efd38861b0.png) 0 0 no-repeat;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAoCAYAAABq13MpAAAGcklEQVRYw+2YXUyTVxjHz4vJLiZGd7MtXi2LkZtdELM7lyzOG7Nk2RJvl8iujBiNV2JcMA0fwqCFEGCAfJRC+SyltqWFgnwUlIKAWB3yOVrAttQWC1ZCOi6ePc8LL74tVD6ly2KTf87J6Tnv+3uf8zzP+WAAwEhMIj8h1MViEs0Jlqi+we5oJFjGCX3D9X+fmKTmq/f/rzkRlX5fzkmNPhLVqW2DQ1Ify9eFAZ8kafUsURMX+qCo1BYry3oILKcfmLQb2N3Wzqhk48xn6YbLuwJO1cQeydAvURkWONtk5UoGgKsaXRPWo3LarVHSJvkRmXHm+6pHV3h4YdDp0gE7D5XUJPo6QyzLfwKscgZY1UtgChuwkjH4tOhpQPp4Nn430GeU/TcJ4sif5iV2V/NL6P/H81oTOIUVuPsO4AyeNVG9ehw4xTP4oubZ268VFiP2jd4Y9Hufw8TKJoAgufT2RZZikJ8s7JMzxTQw1QKwhtdrZY0Likd9Azjm1G6gpcOz8VzdFHC1E8AV9gKXYdCI3eWc9q96Tj0DnHEBuObXa6J60yvgtC740Tw3jf0Sgtzj89JhK6tyAKt2Ag9f+AxY8SgPyQMLUs5hd/hut/5MH3mp3z3H6eeBa7ADV/4UuNxO4DINw1GyZklMw/MhTut8BywCj2mb9wvAQdBN0z5ldJ1zlbemygusdn5NVBeA8b/Tart/D8CMyVrjjteNeo81v1rljF7gdC7gVNPAKUeAdwuaAb17MzS6yTdGmzPoWWJLXLG8Go9We1aDLCtWnRskA27zXqCfuP0Xj9ZNBHgwwQWE6acP4Nu9m6FxZn7tmbWEg2Zpg670U1rXUpB1xVbWOsjKF/YCTQHU5X5rjmn3+IP8djthMJaNe+6EhUbFmub8jefaPZ5NbtHk8TuX/1HsEZiXetJz5rc+11BMxw7Bsc+3bS99oUH/bgGRYCL/o93Hp7gKO7B6zzqwF342L7jWgaP3A03jzxrGTJzm5dausIVrlP/tU22KD+FhFJ1djjfma4/mbdf6vbZrgz6bbOTN6IvFgGU9cvcLLOjqi6WA5bp10RbTuRDe4vhR1594bTT74aA3ghEVJxL575cHBLuhC3rr+bPN06ajOkdgS4tj26UB79w6A9sO+oMpKk0j5zKbOrksk48reLiW6mjFE0Oj1U+2elbK7P7nNCNh0+dhQZOLSa0u3U8dttmTOvsKv5DQUo2gx0wLqz88eu2RTbwZxX412y1ehwnN1mES1sE6RdKjkneaTg8b+kD0Efoj9P8WWiKRbHnmo/bExMQbWEqwjBPawvU/VOjk5GQ9gmxagdLS0qzZ2dmQm5sLWVlZkJ6e3pmamjqD5eWIQ8vlcjtBpaSkyAUrIlxsQUEBKJVKqK6uhsrKSigrK4Pi4uLA48eP4yMO3dfXZyovLweCzMjIWCT4e/fuySsqKkCtVkNjYyNf1tXVwdjY2K7PiB8EurS01FpTUwO1tbVA8AgM2MZDErAgsvgez4gHD22325UqlWqVrEmqr6/nJVhZsDSW/v288NatW++9sFkPcjm6po9EdcFdqbx9+3Zs0LbUYrGMazSaVbFlxcKPgqGhIfNegfGlsRjwS1SGA6bAz8/P52eZRHV0Vyu5KyUA9IIrQYMGBwfT9Xr9kti6YivrdLr9nBEZBvHNvLw8ykIEvunCRiaTJRQVFQG5aUNDAy+qU/CTuyLwWyyNm86IDoejsaOjwxPqFkaj0b+8vLyvMyIaJV6hUPAxk5OTA2g5DcJvuAvOZD1lqtB30wxTbLW1tfEXNhvTkpSUJM/MzPQJKY6+UhjU3d3tWgfe75HrVE9PzxzFCr2jsLAQpFIppdlh/ABJVVXVECWCrWYZPcAfesPEnxHRyube3l4b5mAbWsU2ir/FxcUDOyOiv8ahpb0UN0L6pJRaUlIC5BY0A2TVUGgyII5xRuSM6Ha7LyJkgMDEuV+YfnG7WDQzDx48sERqwxTtdDrNFB9bwYUTBSNO+p2I7fImJyfPoF8PNTc37wic+hgMhqALm0isaNEIY6KVdSfQ5BoTExOq/8J++ioFOAV7S0tLWItTOyWF0AubiO0fMOjO42JlwgAMhFvMMJNteWFzqKC0j8Cc3Il7cR/t0SnVUZCFLiaYk1empqbCXtgctoUTcO+iQ5eYRUuv0EJCOZhAtVrtaldXl2dkZGTbC5tIuMa+L2z+BexZXK+OBaruAAAAAElFTkSuQmCC);}.btn .label{padding:0 3px 0 19px;white-space:nowrap;}.btn .label b{font-weight:bold;white-space:nowrap;}.rtl .btn .label{padding:0 19px 0 3px;}.rtl .btn i{left:auto;right:2px;}.rtl .btn .label b{display:inline-block;direction:ltr;}.xl{font-size:13px;line-height:26px;}.xl .btn{border-radius:4px;height:26px;}.xl .btn i{background-position:-24px 0;width:21px;height:16px;left:4px;margin-top:-6px;}.xl .btn .label{padding:0 7px 0 29px;}.xl.rtl .btn .label{padding:0 29px 0 7px;}.xl.rtl .btn i{left:auto;right:6px;}@media(-webkit-min-device-pixel-ratio:1.5),(min-resolution:144dpi){.btn i{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABQCAYAAACZM2JkAAANzElEQVR42u1cW0wbVxo+6q72ZVkp2pVWbV/KQ5SX7gPavKyq1Za8pauVWlV5W6nK63YViUqVyjU4QEgaIA4kIdeNIVzM3RBIQiHgBCeljekaEgEFmpiEgBNMcDChTuJoz/7fmZnWNraZMbZxwUi/8GVmPOc73/n+y5lzGOecRctYpjGVZdbtJdNJZkyP5vU3ypjOsI1l1WeQmcjMwjKNBvr/UTgs/N77XSy7Li3iG8EPZzdyltfK2X4T/W/jLKeZs6wGl+8N4TXLpBuN8Lc03Rd+i+5tXdfIJuLkNLrYfmrPgQ7OCjol07VTG1s4y26wKW35uUOM9kCS+VzQqCNQbFpvTFw8p4nOo5s43MfZ0VuclX/L2bFvOCu9wVnRVQl0XBugoyPyTea4MBEAZTcYIgeZMMkn0hzqoTYNcnbKxtmZO5KdHOKsbIDadwWAu0T7chq5OL7gEtr3ZlCgf13QMcAKujjLbbFpYRvLbjKx4q84O0E/bJjirOYhZ3WzZI84uzjN2dkxzvRfc3FMcQ//3fGvJ7vuLdS+U95XETi8ojvcTemsuJuzQmoT7lErgXKN6QQYEYbu/T/fU3tmOGtwcNb0RDK8rpmWQAeh0L4v+/jvzwzZHSve1r8brZ/R76atZnSZhbPjVomVuS2ucPrjp8kEHjt9RwK3eYGzlkV/a5ynG3pANzsh2YVJ6pTviAndGTFlc9GVDFb5X4l5B2lUYdRpIRCxklXQyLxoJ2CpDa2Lq63lKbXvMWfV96ld1LaqH/iOtgfL7CS172C3LSij/1A1uiTYeHaUsyNmSWezGkzhWEc3kyFAq58jkJ+uBlkxfIdOaHIKxr9dNYrhvDdweEXT/lwzVCIAABNPDUvDXwzx+gwVo2GbYGn1Pbr/heAg+wG+IBk6hDrmjcqhka/nlnbTtbavAnrX5RmnAKLhscQ6DHdICRwaHF2QCOKPFZZSZvghOJNDAF72/fNxOhcatieWjN4/OJMvQAYARiLCOSJQ6XXJiWU32OHkQgJd2JnOTo9IbF0LZF9rdvJ3Lz+Zm/e8ttB1zgVldOM9d58AWhnu0NfKYYndBy7JEYTwpgbhWXOb09+9OGxmtTPqQIbR9WWQ/x0HZ7gnpfGR12+Iw4dADqDdiCIAeFa9PlBS3qm8+YE4FudpAZo6VW4fQE4JCvRD98uSDwcWHT+zD0wgwa+i4VNJ3rZ0ALrDRXSBKAIhDjQdsqEWaHKQ9Lc7TvFv2r7bT+2BjBMsPzcmOTk4MDA896cw1EyRg/7tU7c6hKPTAjKMHCT96QNB9gP6V2UW94f9jx0ppqde/+EuAw6Gn/9eAh2hG0I4vIfUqAWaOi1uScahq6lPPK+7d3QvLq9yYNDS2odSNHHCKkkKWA7yFF2WQjl8rxHolPoH3pD3o7x4o+T6SFjg4NAgLQAdoRskA6/V6jPZjtYHy/HL5ky631RaV3b1OZ1BJQCfgeHQb7AXUcOZu1KsjA5A+KYR6J2XHrrWBPpf16cnhEwI8J6qZ6lao2t+eG3WES+g/2K4+bFgJiIHAKomclDiY+i5mmgj4Px/9Dx6uCbQcyuvqt9qf+LRwlBNRg62/O7TnjjWKPb+1jD+SkhAqDg4mkad9OmtuetrAo0bs8y/tKaYFr2xADql+TH064s4Ap2279sFuwBZKzsjMRoJFsfzw2qAhqc0zr94bfnE+nwmpd0VVcD33V600/X/GufKW+fOay5XzEEm29H5eDlcbhD4wfa/dU47RDqtxNTRYHPbghcRwAaUOJGUmEGcmAJNjrVs9Nl4uEx31Qd/qrG9J4L1xidRc4p5w+4pudEbUU/Wl40vj5dNesZTOlzeWACd0jbvhY8LGwUF+bCwbHRpPFqM3tnrQsjTGSyIj5el1o5OstoHMXOKecNLU2slYsE+RCHEbHG+su7sW3KtB+S3Op955Lx/z0bOkJQOzX4q4mSEblrT6rW0mRIiNUQK9cVuOWcnwL3WHd1Ly5p1maIXRDFySrrR01F6aZRGl9Ep7Wijx6qGSCG/yBuwv//Paw8HU+oeeEW2qEGv0TFjS95BRDEbKRmBo7R99qVtx1dLy9ECumzix/HAKl1IoKX5PmUyleyLer2YlkE9+ss+SklHpHRbZSLzye3nMwgR5eG0PYEmWf1G6XojERlk1W1U6gJpmMcT812ozmEe7Ei/VJ1DBKKC0dBzMManTPhmAs5ooxx6Ls+2OJXS8tgbaSIjg2zWUolUEhWEXnu/mn72+fttE/3v1E8uiLoHSqBhoo+3up55wAwwRGGLXGtOSTSQMXHB8pr17GC3i5V/IxEItQ0tmkzh4YVpz12tIPtq9HbZaSlgmTH822df2fJGf5zaZ1uxK4Z4FJ/Pv/ifxfd4+fy0hAAVjwgoz19k1btYllGqOaP2fLhXmkdExU5NsUm2XQNupyyJ5khq6oEfvCkz8lwAiKHMKB+/PeEYrDOlsqIug5iYxXwhHg0AwJggrn+kGmQA7COJnZGWEX7xTxGFcXwYYXqk/kiPd/U+cQpdVgEw/A1G8pj79aAPqQrXI4mbFWhldH4ROAoBXvvcK9uF6Zd39w2THA7LckifWRb8fI0vwOuWxM0MtG9VcrcMWKdKSdTLSUjUIqetAHRi+IwkCEmgk0AnLQl0Eugk0EkQkkAngU5aEugk0Emgo3exzMzM1Ozs7L1kOhi9T0+CHAC0TqfbRuBEVKWSzzXk5uby/fv3c3rP8/PzeV5eHqfPXVlZWT8tPMJrMnOkv/WLB5pA0uXk5NgAmlaQ6VxbQUEBP3LkCD927Bg/fvw4r6io4GVlZby4uFiAjmuTueSOMG9ZRhcWFg4UFRWBkTYtbCPWmg4dOsRPnjzJq6qqeF1dHTcajby+vp7X1tby8+fP8/Lyco5jDh8+jOMm79+/X0udUQGp2XJA6/V6ARZYSWD7DfcwbE4FeGfPnhXgtra28ra2Nj9rbm4WgBsMBmHojMrKSjA9Y0sy+uLFi0tgIxhYWloqdJaYbQrHOpKLDIDW0NAQFGTF8B2spaVFMJ6Aj/k6w4QF+urVq04A0dTUJFiH4Q4pkR2aIVgEceLEidLq6uqwIAcCPjExEZd1hgkLtN1u7wPQvsP99OnTgt1wdDLgdgLcQLKSQYxPp2PM0GI1IMNw/TiuM0xMoN1ud8nNmzcdvuxrbGzkJCn81KlT/OjRoyKCAOiIIsh5Ck2HbKgFGp0Sx3WGCesM3Waz2dHR0eENHO4AHAy/cOGCAB2hG0I4vIfUqAUanbblExZi7Eg44BRnBtDBTBheq9VnmMlkWv4lgoRcAXJJZkKyBZMl9KNwWXJQoG/cuDEBxmkFT63hmn19fY54AgQgtCZggYaSAiVkLsglZBOSCTtw4IDIgpGIKXmH0iHwZXRO8B1oVlZWqkk2PLEAWXGwo6Oj8VxniGzXRUAY1nG+DmEucgVEYZBN5Aww+Cf4rYMHD4q8g8C1oQSB46lDQu9Ag7h2fn7eGqjRUWR0XNcZIiqC80aISgCYtDIbjASDATAkVZFKEAam+C2AjlIDMl8ke/TeTqRtpe8/882wV60zfPHihWVoaGjm0qVLUQWcrhnXdYbIPMFAMA+Aox6jpbQAVsLh19TUCGBDySF8GiQXWS9yCvghOfO1hV1n2NXV5UA6rcTU0bD29navx+OJ6zpDAqgEAICJyAcw/DHESUoy1Dg/sBTnq5FSJfNFh6BjCOiRubm54DvQ+Nzge8gMcVK09PrOnTtxX2c4ODiYD5DRBsT6KC0APDgxAtsOJxfqXHJ26WfOnNEUuioJ2eXLl+eIVKF3oPFdZ0hOazxajKZIY6PWGe4hoLy+QxwEghz4lG7tFCXoAyWFGPkBjtVKNBy/5g40gSuYnE6ntb+/37UekKl3PdD8DaprpMEvBDIOLPct3YLhPhMUZnqtJzZ3wNFpbS8c5Jo70IRawbSwsGDt6elZ1vqjiF7QWRu1zpBATIVfoL/lQNZBFlFFRDQBZ6lMUCA+RpSCTsD3WttMvm3tHWgCbWBg4P1r164N4mQMOy3DCB2ztLS0oesMiak6koAVki5nsHtXMl3ot1IvR6iGSAUdAHZqBbqzszP0DjTyfJ9OMWiWPKXFS0pKOJyC4lTU/JjVap2R5WJD1xkScB+DmYgc1PgbhekAWCuxlPN7e3vD70BDoKZhHk/OakS2A5CV6Sk1Pww9p5AmkdYZ7qV7fwUJCBUHRzvzvXXr1nVV6wynp6c/J23tJ7lYABMwrMKx4cqVKx4kN9DxBFxnmHb79m17NMPUtRyhw+FYcweaVesMMfzB0LGxsamRkRG7YlNTU+P4XJaHhFxn6LsDDcLLWIMs67OmHWg2zTpD3x1o4DdiCTJGDHIPTTvQbELTj9Pf5OTkeLTrNz51di+qn1v+2TsK3yYRwsXKKcolht1bHmhy2J8iTo7FpAYSovXsQLPp5AMaGm1GI/tFDX9dO9BsMhP1m9nZWVsk5YRQJj+jom4Hmi00E+1Xv0H8HwWQte1As4VM7EAzPDw8ham1SPUaEUwkO9BsCcMcYH5+vr64uNiF51KUyQ0tACM8pOx5XTvQbCrD7Iny/AUZZqhFzRm1Z/nRYVGx0zK5YbFYnD7Z8Lp3oNk0hkeKi4qKDKgzA1w8GgCAlRlttSADYJ9iWXIHmlA70KD4j9Cut7cXdWmvGoBRiUSNx+12J3egiXQHGoAHhkJrAwtlAVXI5A40yR1okhbS/g/H5BFic8lpAQAAAABJRU5ErkJggg==);background-size:45px 40px;margin-top:-6px;}.xl .btn i{margin-top:-7px;left:4px;}.xl.rtl .btn i{left:auto;right:3px;}.xl .btn .label{top:-1.5px;}}.aria{position:absolute;left:-999em;}.rtl .aria{left:auto;right:-999em;}.following .btn{color:#888;background:#eee;border:#ccc solid 1px;}.following .btn:active,.following .btn:hover{border:#bbb solid 1px;}.following .btn i{background-position:0 -20px;}.xl .following .btn i{background-position:-25px -25px;}.btn:focus,.following .btn:focus{border-color:#0089CB;}.count-o{position:relative;background:#fff;border:#bbb solid 1px;border-radius:3px;visibility:hidden;min-height:18px;min-width:15px;text-align:center;}#count{white-space:nowrap;color:#333;}#count:hover,#count:focus{color:#333;text-decoration:underline;}.ncount .count-o{display:none;}.count-ready .count-o{visibility:visible;}.count-o i,.count-o u{position:absolute;zoom:1;line-height:0;width:0;height:0;left:0;top:50%;margin:-4px 0 0 -4px;border:4px transparent solid;border-right-color:#aaa;border-left:0;}.count-o u{margin-left:-3px;border-right-color:#fff;}.rtl .count-o i,.rtl .count-o u{left:auto;right:0;margin:-4px -4px 0 0;border:4px transparent solid;border-left-color:#aaa;border-right:0;}.rtl .count-o u{margin-right:-3px;border-left-color:#fff;}.following .count-o i{border-right-color:#bbb;}.following.rtl .count-o i{border-left-color:#bbb;}.following .count-o{background:#f9f9f9;border-color:#ccc;}.following #count{color:#666;}.hcount .count-o{margin:0 0 0 5px;}.hcount.rtl .count-o{margin:0 5px 0 0;}.hcount #count{padding:0 3px;}.xl .count-o{border-radius:4px;}.xl.hcount .count-o{margin:0 0 0 6px;}.xl.rtl.hcount .count-o{margin:0 6px 0 0;}.xl.hcount .count-o i,.xl.hcount .count-o u{margin:-5px 0 0 -5px;border-width:5px 5px 5px 0;}.xl.hcount .count-o u{margin-left:-4px;}.xl.rtl.hcount .count-o i,.xl.rtl.hcount .count-o u{margin:-5px -5px 0 0;border-width:5px 0 5px 5px;}.xl.rtl.hcount .count-o u{margin-right:-4px;}.xl #count{padding:0 5px;}.vcount .btn-o{display:block;margin:0 auto;}.vcount .count-o,.xl.vcount .count-o{display:block;padding:0 5px;margin-bottom:5px;}.vcount .count-o i,.rtl.vcount .count-o i,.vcount .count-o u,.rtl.vcount .count-o u{line-height:0;top:auto;left:50%;bottom:0;right:auto;margin:0 0 -4px -4px;border:4px transparent solid;border-top-color:#aaa;border-bottom:0;}.rtl.vcount .count-o u,.vcount .count-o u{margin-bottom:-3px;border-top-color:#fff;}.vcount #count{font-size:16px;line-height:34px;}.xl.vcount #count{font-size:22px;line-height:44px;}</style><!--[if IE 9]><style type="text/css">.btn{-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#dedede')";}.btn:hover,.btn:focus,.btn:active{-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#f8f8f8',endColorstr='#d9d9d9')";}.btn,.xl.btn{border-radius:0;}</style><![endif]--></head><body data-scribe="section:follow" class=" ltr ready hcount count-ready"><div id="widget"><div class="btn-o" contextmenu="menu" data-scribe="component:button"><a id="follow-button" class="btn" title="Follow JSFiddle (@jsfiddle) on Twitter" href="https://twitter.com/intent/follow?original_referer=http%3A%2F%2Fjsfiddle.net%2FKyle_Sevenoaks%2FZnfED%2F1%2F&amp;ref_src=twsrc%5Etfw&amp;region=follow_link&amp;screen_name=jsfiddle&amp;tw_p=followbutton"><i></i><span class="label" id="l">Follow <b>@jsfiddle</b></span></a></div><div class="count-o" id="c" data-scribe="component:count"><i></i><u></u><a id="count" class="note" href="https://twitter.com/intent/user?original_referer=http%3A%2F%2Fjsfiddle.net%2FKyle_Sevenoaks%2FZnfED%2F1%2F&amp;ref_src=twsrc%5Etfw&amp;region=count_link&amp;screen_name=jsfiddle&amp;tw_p=followbutton">19.2K followers</a></div></div><div style="display:none"><menu type="context" id="menu" data-scribe="component:contextmenu"><menuitem id="m-follow" label="Follow user"></menuitem><menuitem id="m-profile" label="View user on Twitter"></menuitem><menuitem id="m-tweet" label="Send Tweet to user"></menuitem></menu></div><script type="text/javascript">window.__twttr=window.__twttr||{};var i18n = {};window._=function(s,reps){s=__twttr.lang&&i18n[__twttr.lang]&&i18n[__twttr.lang][s]||s;if(!reps)return s;return s.replace(/\%\{([a-z0-9_]+)\}/gi,function(m,k){return reps[k]||m})};</script><script>!function(){Function&&Function.prototype&&Function.prototype.bind&&(/MSIE [678]/.test(navigator.userAgent)||!function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){(function(){"use strict";function n(t){return"function"==typeof t||"object"==typeof t&&null!==t}function r(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function i(t){z=t}function s(t){K=t}function a(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(d)}}function u(){return function(){B(d)}}function c(){var t=0,e=new G(d),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function f(){var t=new MessageChannel;return t.port1.onmessage=d,function(){t.port2.postMessage(0)}}function l(){return function(){setTimeout(d,1)}}function d(){for(var t=0;W>t;t+=2){var e=Z[t],n=Z[t+1];e(n),Z[t]=void 0,Z[t+1]=void 0}W=0}function p(){try{var e=t,n=e("vertx");return B=n.runOnLoop||n.runOnContext,u()}catch(r){return l()}}function h(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(e){return rt.error=e,rt}}function w(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function y(t,e,n){K(function(t){var r=!1,o=w(n,e,function(n){r||(r=!0,e!==n?E(t,n):T(t,n))},function(e){r||(r=!0,I(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,I(t,o))},t)}function _(t,e){e._state===et?T(t,e._result):e._state===nt?I(t,e._result):O(e,void 0,function(e){E(t,e)},function(e){I(t,e)})}function b(t,e){if(e.constructor===t.constructor)_(t,e);else{var n=v(e);n===rt?I(t,rt.error):void 0===n?T(t,e):r(n)?y(t,e,n):T(t,e)}}function E(t,e){t===e?I(t,m()):n(e)?b(t,e):T(t,e)}function x(t){t._onerror&&t._onerror(t._result),C(t)}function T(t,e){t._state===tt&&(t._result=e,t._state=et,0!==t._subscribers.length&&K(C,t))}function I(t,e){t._state===tt&&(t._state=nt,t._result=e,K(x,t))}function O(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+et]=n,o[i+nt]=r,0===i&&t._state&&K(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?S(n,r,o,i):o(i);t._subscribers.length=0}}function N(){this.error=null}function R(t,e){try{return t(e)}catch(n){return ot.error=n,ot}}function S(t,e,n,o){var i,s,a,u,c=r(n);if(c){if(i=R(n,o),i===ot?(u=!0,s=i.error,i=null):a=!0,e===i)return void I(e,g())}else i=o,a=!0;e._state!==tt||(c&&a?E(e,i):u?I(e,s):t===et?T(e,i):t===nt&&I(e,i))}function L(t,e){try{e(function(e){E(t,e)},function(e){I(t,e)})}catch(n){I(t,n)}}function P(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(h),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?T(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&T(n.promise,n._result))):I(n.promise,n._validationError())}function j(t){return new it(this,t).promise}function k(t){function e(t){E(o,t)}function n(t){I(o,t)}var r=this,o=new r(h);if(!$(t))return I(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,s=0;o._state===tt&&i>s;s++)O(r.resolve(t[s]),void 0,e,n);return o}function A(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(h);return E(n,t),n}function U(t){var e=this,n=new e(h);return I(n,t),n}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(t){this._id=ft++,this._state=void 0,this._result=void 0,this._subscribers=[],h!==t&&(r(t)||F(),this instanceof D||M(),L(this,t))}function q(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=lt)}var H;H=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B,z,J,$=H,W=0,K=({}.toString,function(t,e){Z[W]=t,Z[W+1]=e,W+=2,2===W&&(z?z(d):J())}),V="undefined"!=typeof window?window:void 0,Y=V||{},G=Y.MutationObserver||Y.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3);J=X?a():G?c():Q?f():void 0===V&&"function"==typeof t?p():l();var tt=void 0,et=1,nt=2,rt=new N,ot=new N;P.prototype._validateInput=function(t){return $(t)},P.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},P.prototype._init=function(){this._result=new Array(this.length)};var it=P;P.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===tt&&e>o;o++)t._eachEntry(r[o],o)},P.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;o(t)?t.constructor===r&&t._state!==tt?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},P.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===tt&&(r._remaining--,t===nt?I(o,n):r._result[e]=n),0===r._remaining&&T(o,r._result)},P.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){n._settledAt(et,e,t)},function(t){n._settledAt(nt,e,t)})};var st=j,at=k,ut=A,ct=U,ft=0,lt=D;D.all=st,D.race=at,D.resolve=ut,D.reject=ct,D._setScheduler=i,D._setAsap=s,D._asap=K,D.prototype={constructor:D,then:function(t,e){var n=this,r=n._state;if(r===et&&!t||r===nt&&!e)return this;var o=new this.constructor(h),i=n._result;if(r){var s=arguments[r-1];K(function(){S(r,o,s,i)})}else O(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var dt=q,pt={Promise:lt,polyfill:dt};"function"==typeof define&&define.amd?define(function(){return pt}):"undefined"!=typeof e&&e.exports&&(e.exports=pt)}).call(this)},{}],2:[function(t,e,n){var r=t(3),o=t(37);e.exports=function(t,e,n){var i,s,a,u,c=o.aug({},n);return arguments.length>1&&"[object Object]"!==String(e)?((null===e||void 0===e)&&(c.expires=-1),"number"==typeof c.expires&&(i=c.expires,s=new Date((new Date).getTime()+60*i*1e3),c.expires=s),e=String(e),r.cookie=[encodeURIComponent(t),"=",c.raw?e:encodeURIComponent(e),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")):(c=e||{},u=c.raw?function(t){return t}:decodeURIComponent,(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(r.cookie))?u(a[1]):null)}},{3:3,37:37}],3:[function(t,e,n){e.exports=document},{}],4:[function(t,e,n){e.exports=location},{}],5:[function(t,e,n){e.exports=navigator},{}],6:[function(t,e,n){e.exports=window},{}],7:[function(t,e,n){function r(t){return a.isType("string",t)?t.split("."):a.isType("array",t)?t:[]}function o(t,e){var n=r(e),o=n.slice(0,-1);return o.reduce(function(t,e,n){if(t[e]=t[e]||{},!a.isObject(t[e]))throw new Error(o.slice(0,n+1).join(".")+" is already defined with a value.");return t[e]},t)}function i(t,e){e=e||s,e[t]=e[t]||{},Object.defineProperty(this,"base",{value:e[t]}),Object.defineProperty(this,"name",{value:t})}var s=t(6),a=t(37);a.aug(i.prototype,{get:function(t){var e=r(t);return e.reduce(function(t,e){return a.isObject(t)?t[e]:void 0},this.base)},set:function(t,e,n){var i=r(t),s=o(this.base,t),a=i.slice(-1);return n&&a in s?s[a]:s[a]=e},init:function(t,e){return this.set(t,e,!0)},unset:function(t){var e=r(t),n=this.get(e.slice(0,-1));n&&delete n[e.slice(-1)]},aug:function(t){var e=this.get(t),n=a.toRealArray(arguments).slice(1);if(e="undefined"!=typeof e?e:{},n.unshift(e),!n.every(a.isObject))throw new Error("Cannot augment non-object.");return this.set(t,a.aug.apply(null,n))},call:function(t){var e=this.get(t),n=a.toRealArray(arguments).slice(1);if(!a.isType("function",e))throw new Error("Function "+t+"does not exist.");return e.apply(null,n)},fullPath:function(t){var e=r(t);return e.unshift(this.name),e.join(".")}}),e.exports=i},{37:37,6:6}],8:[function(t,e,n){function r(t){var e,n,r,o=0;for(i={},t=t||s,e=t.getElementsByTagName("meta");n=e[o];o++)/^twitter:/.test(n.name)&&(r=n.name.replace(/^twitter:/,""),i[r]=n.content)}function o(t){return i[t]}var i,s=t(3);r(),e.exports={init:r,val:o}},{3:3}],9:[function(t,e,n){var r=t(7);e.exports=new r("__twttr")},{7:7}],10:[function(t,e,n){e.exports=["hi","zh-cn","fr","zh-tw","msa","fil","fi","sv","pl","ja","ko","de","it","pt","es","ru","id","tr","da","no","nl","hu","fa","ar","ur","he","th","cs","uk","vi","ro","bn","el"]},{}],11:[function(t,e,n){function r(t){if(t&&/^[\w_]{1,20}$/.test(t))return t;throw new Error("Invalid screen name")}function o(t,e){t.className+=" "+e}function i(t){return t&&"false"===t.toLowerCase()}function s(t){return st.getElementById(t)}function a(t){return t=t||U.event,t&&t.preventDefault?t.preventDefault():t.returnValue=!1,t&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,!1}function u(t){var e=I&&I.name?I.name+" (@"+ut+")":"@"+ut;return E?void(N.title=_("View your profile on Twitter")):t?(o(O,"following"),void(N.title=_("You are following %{name} on Twitter",{name:e}))):(O.className=O.className.replace(/ ?following/,""),void(N.title=_("Follow %{name} on Twitter",{name:e})))}function c(){return/following/.test(O.className)}function f(t,e){return e=e||{width:550,height:500},D.connect({window:e,src:t})}function l(t){return{screen_name:ut,original_referer:Q,region:t,partner:pt,tw_p:Z,ref_src:"twsrc^tfw"}}function d(){var t=f(Y.get("config.followURL")+"?"+F.encode(l()),{height:520,width:550});m(t,tt)}function p(t){var e=f(Y.get("config.userIntentURL")+"?"+F.encode(l(t)));m(e,t)}function h(t){var e=f(Y.get("config.mentionIntentURL")+"?"+F.encode(l(t)));m(e,t)}function m(t,e){q(t).expose({trigger:function(t,n){"follow"===t?u(!0):"unfollow"===t&&u(!1),z.withHub(function(r){n.region||(n.region=e),r.trigger(t,n,X.id)})}})}function g(){var t="@"+ut;B.clientEvent({page:"button",section:"follow",action:"impression"},{language:X.lang,message:[X.size,ft?"withcount":"nocount"].join(":")+":",widget_origin:Q},!1),st.title=_("Twitter Follow Button"),R.innerHTML=ct?_("Follow %{screen_name}",{screen_name:"<b>"+t+"</b>"}):_("Follow"),ct&&!X._&&O.offsetWidth<R.offsetWidth-10&&(ct=!1,R.innerHTML=_("Follow")),u(!1),P.label=_("%{name} on Twitter",{name:t}),L.label=_("Follow"),j.label=_("Tweet to %{name}",{name:t}),N.href=Y.get("config.followURL")+"?"+F.encode(l(et)),S.href=Y.get("config.userIntentURL")+"?"+F.encode(l(ot)),o(O,"ready"),o(O.parentNode,dt),ft||o(O,"ncount"),lt&&o(O,lt),G(C)}function v(){function t(t,e){return B.interaction(t,{},!1),z.withHub(function(t){t.trigger("click",{region:e},X.id)}),!(t.altKey||t.shiftKey||t.metaKey)||t.shiftKey&&t.metaKey?(J.ios()||J.android()||b?U.open(Y.get("config.twitterHost")+"/"+ut+"?"+F.encode(l())):E||c()||t&&t.metaKey&&t.shiftKey?p(e):d(),a(t)):void 0}function e(t,e){return B.interaction(t,{},!1),z.withHub(function(t){t.trigger("click",{region:e},X.id)}),t.altKey||t.shiftKey||t.metaKey?void 0:(p(e),a(t))}N.onclick=function(e){return t(e||U.event,c()?nt:tt)},L.onclick=function(e){return t(e||U.event,it)},S.onclick=function(t){return e(t||U.event,rt)},P.onclick=function(t){return e(t||U.event,it)},j.onclick=function(){return h(it)}}function w(){var t,e;H.isLoggedIn()?e=F.url(Y.get("config.followersInfoURL"),{screen_names:ut,requester_id:H.getUserId(),lang:dt,callback:Y.fullPath("setFollowersCountAndFollowing")}):ft&&(e=F.url(Y.get("config.cdnFollowersInfoURL"),{screen_names:ut,lang:dt,callback:Y.fullPath("setFollowersCountAndFollowing")})),e&&(t=st.createElement("script"),t.src=e,O.appendChild(t))}var y,b,E,x,T,I,O,C,N,R,S,L,P,j,k=t(3),A=t(4),U=t(6),F=t(31),M=t(28),D=t(43),q=t(42),H=t(19),B=t(15),z=t(38),J=t(23),$=t(10),W=t(22),K=t(34),V=t(37),Y=t(9),G=t(18),X=M.combined(A),Q=X.original_redirect_referrer||k.referrer,Z="followbutton",tt="follow",et="follow_link",nt="following",rt="count",ot="count_link",it="context_menu",st=k,at="true"==X.preview?!0:!1,ut=r(X.screen_name),ct=!i(X.show_screen_name),ft=!i(X.show_count),lt=V.contains(["left","right"],X.align)?X.align:null,dt=X.lang&&X.lang.toLowerCase(),pt=X.partner;K.asBoolean(X.dnt)&&W.setOn(),H.forwardSSL(Q)||(Y.aug("config",{cdnFollowersInfoURL:"https://cdn.syndication.twimg.com/widgets/followbutton/info.json",followersInfoURL:"https://syndication.twitter.com/widgets/followbutton/info.json",userIntentURL:"https://twitter.com/intent/user",followURL:"https://twitter.com/intent/follow",mentionIntentURL:"https://twitter.com/intent/tweet",twitterHost:"https://twitter.com"}),O=st.body,C=s("widget"),N=s("follow-button"),R=s("l"),S=s("count"),L=s("m-follow"),P=s("m-profile"),j=s("m-tweet"),dt=V.contains($,dt)?dt:"en",Y.set("lang",dt),O.parentNode.lang=dt,T=_("ltr"),o(O,T),"l"==X.size&&o(O,"xl"),Y.set("setFollowersCountAndFollowing",function(t){return t.error?void u(!1):void(t.length&&(I=t[0],S.innerHTML=I.formatted_followers_count||"",o(O,"hcount count-ready"),y=I["protected"],b=I.age_gated,x=I.id,x!==H.getUserId()||at||(E=!0,u(!1)),u(I.following),G(C)))}),g(),v(),w())},{10:10,15:15,18:18,19:19,22:22,23:23,28:28,3:3,31:31,34:34,37:37,38:38,4:4,42:42,43:43,6:6,9:9}],12:[function(t,e,n){function r(t){var e=[];return d.forIn(t,function(t,n){e.push(t+"="+n)}),e.join(",")}function o(){return p+l.generate()}function i(t,e){function n(t){return Math.round(t/2)}return t>e?{coordinate:0,size:e}:{coordinate:n(e)-n(t),size:t}}function s(t,e,n){var o,s;e=a.parse(e),n=n||{},o=i(e.width,n.width||h),e.left=o.coordinate,e.width=o.size,s=i(e.height,n.height||m),e.top=s.coordinate,e.height=s.size,this.win=t,this.features=r(e)}var a,u=t(6),c=t(27),f=t(33),l=t(35),d=t(37),p="intent_",h=u.screen.width,m=u.screen.height;a=(new c).defaults({width:550,height:520,personalbar:"0",toolbar:"0",location:"1",scrollbars:"1",resizable:"1"}),s.prototype.open=function(t){return f.isTwitterURL(t)?(this.name=o(),this.popup=this.win.open(t,this.name,this.features),this):void 0},s.open=function(t,e){var n=new s(u,e);return n.open(t)},e.exports=s},{27:27,33:33,35:35,37:37,6:6}],13:[function(t,e,n){function r(t){if(!t)throw new Error("JsonRpcClient requires a dispatcher");this.idIterator=0,this.dispatcher=t,this.idPrefix=String(+new Date)+a++}function o(t){var e={jsonrpc:s,method:t};return arguments.length>1&&(e.params=[].slice.call(arguments,1)),e}var i=t(30),s="2.0",a=0;r.prototype._generateId=function(){return this.idPrefix+this.idIterator++},r.prototype.notify=function(){this.dispatcher.send(o.apply(null,arguments))},r.prototype.request=function(){var t=o.apply(null,arguments);return t.id=this._generateId(),this.dispatcher.send(t).then(function(t){return"result"in t?t.result:i.reject(t.error)})},e.exports=r},{30:30}],14:[function(t,e,n){function r(t,e,n){var r;t&&t.postMessage&&(g?r=(n||"")+JSON.stringify(e):n?(r={},r[n]=e):r=e,t.postMessage(r,"*"))}function o(t){return p.isType("string",t)?t:"JSONRPC"}function i(t,e){return e?p.isType("string",t)&&0===t.indexOf(e)?t.substring(e.length):t[e]?t[e]:void 0:t}function s(t,e){var n=t.document;this.filter=o(e),this.server=null,this.isTwitterFrame=h.isTwitterURL(n.location.href),t.addEventListener("message",m(this._onMessage,this),!1)}function a(t,e){this.pending={},this.target=t,this.isTwitterHost=h.isTwitterURL(c.href),this.filter=o(e),f.addEventListener("message",m(this._onMessage,this),!1)}function u(t){return arguments.length>0&&(g=!!t),g}var c=t(4),f=t(6),l=t(29),d=t(23),p=t(37),h=t(33),m=t(25),g=d.ie9();p.aug(s.prototype,{_onMessage:function(t){var e,n=this;this.server&&(!this.isTwitterFrame||h.isTwitterURL(t.origin))&&(e=i(t.data,this.filter),e&&this.server.receive(e,t.source).then(function(e){e&&r(t.source,e,n.filter)}))},attachTo:function(t){this.server=t},detach:function(){this.server=null}}),p.aug(a.prototype,{_processResponse:function(t){var e=this.pending[t.id];e&&(e.resolve(t),delete this.pending[t.id])},_onMessage:function(t){var e;if((!this.isTwitterHost||h.isTwitterURL(t.origin))&&(e=i(t.data,this.filter))){if(p.isType("string",e))try{e=JSON.parse(e)}catch(n){return}e=p.isType("array",e)?e:[e],e.forEach(m(this._processResponse,this))}},send:function(t){var e=new l;return t.id?this.pending[t.id]=e:e.resolve(),r(this.target,t,this.filter),e.promise}}),e.exports={Receiver:s,Dispatcher:a,_stringifyPayload:u}},{23:23,25:25,29:29,33:33,37:37,4:4,6:6}],15:[function(t,e,n){function r(t,e,n){return o(t,e,n,2)}function o(t,e,n,r){var o=!h.isObject(t),i=e?!h.isObject(e):!1;o||i||s(p.formatClientEventNamespace(t),p.formatClientEventData(e,n,r),p.CLIENT_EVENT_ENDPOINT)}function i(t,e,n,r){var i=p.extractTermsFromDOM(t.target||t.srcElement);i.action=r||"click",o(i,e,n)}function s(t,e,n){var r,o;n&&h.isObject(t)&&h.isObject(e)&&(r=p.flattenClientEventPayload(t,e),o={l:p.stringify(r)},r.dnt&&(o.dnt=1),f(d.url(n,o)))}function a(t,e,n,r){var o,i=!h.isObject(t),s=e?!h.isObject(e):!1;if(!i&&!s)return o=p.flattenClientEventPayload(p.formatClientEventNamespace(t),p.formatClientEventData(e,n,r)),u(o)}function u(t){return g.push(t),g}function c(){var t,e,n=d.url(p.CLIENT_EVENT_ENDPOINT,{dnt:0,l:""}),r=encodeURIComponent(n).length;return g.length>1&&a({page:"widgets_js",component:"scribe_pixel",action:"batch_log"},{}),t=g,g=[],e=t.reduce(function(e,n,o){var i,s,a=e.length,u=a&&e[a-1],c=o+1==t.length;return c&&n.event_namespace&&"batch_log"==n.event_namespace.action&&(n.message=["entries:"+o,"requests:"+a].join("/")),i=p.stringify(n),s=encodeURIComponent(i).length+3,r+s>m?e:((!u||u.urlLength+s>m)&&(u={urlLength:r,items:[]},e.push(u)),u.urlLength+=s,u.items.push(i),e)},[]),e.map(function(t){var e={l:t.items};return l.enabled()&&(e.dnt=1),f(d.url(p.CLIENT_EVENT_ENDPOINT,e))})}function f(t){var e=new Image;return e.src=t}var l=t(22),d=t(31),p=t(16),h=t(37),m=2083,g=[];e.exports={_enqueueRawObject:u,scribe:s,clientEvent:o,clientEvent2:r,enqueueClientEvent:a,flushClientEvents:c,interaction:i}},{16:16,22:22,31:31,37:37}],16:[function(t,e,n){function r(t,e){var n;return e=e||{},t&&t.nodeType===Node.ELEMENT_NODE?((n=t.getAttribute("data-scribe"))&&n.split(" ").forEach(function(t){var n=t.trim().split(":"),r=n[0],o=n[1];r&&o&&!e[r]&&(e[r]=o)}),r(t.parentNode,e)):e}function o(t){return l.aug({client:"tfw"},t||{})}function i(t,e,n){var r=t&&t.widget_origin||c.referrer;return t=s("tfw_client_event",t,r),t.client_version=h,t.format_version=void 0!==n?n:1,e||(t.widget_origin=r),t}function s(t,e,n){return e=e||{},l.aug({},e,{_category_:t,triggered_on:e.triggered_on||+new Date,dnt:f.enabled(n)})}function a(t,e){return l.aug({},e,{event_namespace:t})}function u(t){var e,n=Array.prototype.toJSON;return delete Array.prototype.toJSON,e=JSON.stringify(t),n&&(Array.prototype.toJSON=n),e}var c=t(3),f=t(22),l=t(37),d=t(39),p=t(9),h=d.version,m=p.get("endpoints.rufous")||"https://syndication.twitter.com/i/jot",g=p.get("endpoints.rufousAudience")||"https://syndication.twitter.com/i/jot/syndication",v=p.get("endpoints.rufousRedirect")||"https://platform.twitter.com/jot.html";e.exports={extractTermsFromDOM:r,flattenClientEventPayload:a,formatGenericEventData:s,formatClientEventData:i,formatClientEventNamespace:o,stringify:u,AUDIENCE_ENDPOINT:g,CLIENT_EVENT_ENDPOINT:m,RUFOUS_REDIRECT:v}},{22:22,3:3,37:37,39:39,9:9}],17:[function(t,e,n){function r(){var t=36e5,e=s.combined(i)._;return void 0!==o?o:(o=!1,e&&/^\d+$/.test(e)&&(o=+new Date-parseInt(e)<t),o)}var o,i=t(4),s=t(28);e.exports={isDynamicWidget:r}},{28:28,4:4}],18:[function(t,e,n){function r(t){var e=t.offsetWidth,n=t.offsetHeight;a.notify("twttr.private.resizeButton",{width:e,height:n})}var o=t(6),i=t(13),s=t(14),a=new i(new s.Dispatcher(o.parent,"twttr.resize"));e.exports=r},{13:13,14:14,6:6}],19:[function(t,e,n){function r(t){var e=u("secure_session");return"true"==e||"default"==e?t?"https:"===s.protocol:!0:u("auth_token_session")?!0:!1}function o(t){return r()&&"https:"!==s.protocol?(a.onload=function(){s.replace("https://"+s.host+s.pathname+s.search+s.hash+"&original_redirect_referrer="+t)},!0):void 0}function i(){var t,e,n=u("twid");return n&&(t=n.split("|")[0])?(e=c.decode(t),e.c?e.c:e.u):void 0}var s=t(4),a=t(6),u=t(2),c=t(31);e.exports={isLoggedIn:r,forwardSSL:o,getUserId:i}},{2:2,31:31,4:4,6:6}],20:[function(t,e,n){function r(t){return t&&u.isType("string",t)&&(c=t),c}function o(){return f}function i(){return c!==f}var s=t(4),a=t(36),u=t(37),c=a.getCanonicalURL()||s.href,f=c;e.exports={isFramed:i,rootDocumentLocation:r,currentDocumentLocation:o}},{36:36,37:37,4:4}],21:[function(t,e,n){function r(){c=1;for(var t=0,e=f.length;e>t;t++)f[t]()}var o,i,s,a=t(3),u=t(6),c=0,f=[],l=!1,d=a.createElement("a");/^loade|c/.test(a.readyState)&&(c=1),a.addEventListener&&a.addEventListener("DOMContentLoaded",i=function(){a.removeEventListener("DOMContentLoaded",i,l),r()},l),d.doScroll&&a.attachEvent("onreadystatechange",o=function(){/^c/.test(a.readyState)&&(a.detachEvent("onreadystatechange",o),r())}),s=d.doScroll?function(t){u.self!=u.top?c?t():f.push(t):!function(){try{d.doScroll("left")}catch(e){return setTimeout(function(){s(t)},50)}t()}()}:function(t){c?t():f.push(t)},e.exports=s},{3:3,6:6}],22:[function(t,e,n){function r(){d=!0}function o(t,e){return d?!0:f.asBoolean(l.val("dnt"))?!0:!a||1!=a.doNotTrack&&1!=a.msDoNotTrack?c.isUrlSensitive(e||s.host)?!0:u.isFramed()&&c.isUrlSensitive(u.rootDocumentLocation())?!0:(t=p.test(t||i.referrer)&&RegExp.$1,t&&c.isUrlSensitive(t)?!0:!1):!0}var i=t(3),s=t(4),a=t(5),u=t(20),c=t(32),f=t(34),l=t(8),d=!1,p=/https?:\/\/([^\/]+).*/i;e.exports={setOn:r,enabled:o}},{20:20,3:3,32:32,34:34,4:4,5:5,8:8}],23:[function(t,e,n){function r(t){return t=t||g,t.devicePixelRatio?t.devicePixelRatio>=1.5:t.matchMedia?t.matchMedia("only screen and (min-resolution: 144dpi)").matches:!1}function o(t){return t=t||x,/(Trident|MSIE \d)/.test(t)}function i(t){return t=t||x,/MSIE 9/.test(t)}function s(t){return t=t||x,/(iPad|iPhone|iPod)/.test(t)}function a(t){return t=t||x,/^Mozilla\/5\.0 \(Linux; (U; )?Android/.test(t)}function u(){return T}function c(t,e){return t=t||g,e=e||x,t.postMessage&&!(o(e)&&t.opener)}function f(t){t=t||m;try{return!!t.plugins["Shockwave Flash"]||!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){return!1}}function l(t,e,n){return t=t||g,e=e||m,n=n||x,"ontouchstart"in t||/Opera Mini/.test(n)||e.msMaxTouchPoints>0}function d(){var t=h.body.style;return void 0!==t.transition||void 0!==t.webkitTransition||void 0!==t.mozTransition||void 0!==t.oTransition||void 0!==t.msTransition}function p(){return!!(g.Promise&&g.Promise.resolve&&g.Promise.reject&&g.Promise.all&&g.Promise.race&&function(){var t;return new g.Promise(function(e){t=e}),_.isType("function",t)}())}var h=t(3),m=t(5),g=t(6),v=t(21),w=t(26),y=t(34),_=t(37),b=t(8),E=t(9),x=m.userAgent,T=!1,I=!1,O="twitter-csp-test";E.set("verifyCSP",function(t){var e=h.getElementById(O);I=!0,T=!!t,e&&e.parentNode.removeChild(e)}),v(function(){var t;return y.asBoolean(b.val("widgets:csp"))?T=!0:(t=h.createElement("script"),t.id=O,t.text=E.fullPath("verifyCSP")+"(false);",h.body.appendChild(t),void g.setTimeout(function(){I||(w.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),w.warn("TWITTER: Please note: Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied."))},5e3))}),e.exports={retina:r,anyIE:o,ie9:i,ios:s,android:a,cspEnabled:u,flashEnabled:f,canPostMessage:c,touch:l,cssTransitions:d,hasPromiseSupport:p}},{21:21,26:26,3:3,34:34,37:37,5:5,6:6,8:8,9:9}],24:[function(t,e,n){var r=t(37),o=t(25),i={bind:function(t,e){return this._handlers=this._handlers||{},this._handlers[t]=this._handlers[t]||[],this._handlers[t].push(e)},unbind:function(t,e){if(this._handlers[t])if(e){var n=this._handlers[t].indexOf(e);n>=0&&this._handlers[t].splice(n,1)}else this._handlers[t]=[]},trigger:function(t,e){var n=this._handlers&&this._handlers[t];e=e||{},e.type=t,n&&n.forEach(function(t){r.async(o(t,this,e))})}};e.exports={Emitter:i}},{25:25,37:37}],25:[function(t,e,n){var r=t(37);e.exports=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){var o=r.toRealArray(arguments);return t.apply(e,n.concat(o))}}},{37:37}],26:[function(t,e,n){function r(){c("info",d.toRealArray(arguments))}function o(){c("warn",d.toRealArray(arguments))}function i(){c("error",d.toRealArray(arguments))}function s(t){m&&(h[t]=u())}function a(t){var e;m&&(h[t]?(e=u(),r("_twitter",t,e-h[t])):i("timeEnd() called before time() for id: ",t))}function u(){return l.performance&&+l.performance.now()||+new Date}function c(t,e){if(l[p]&&l[p][t])switch(e.length){case 1:l[p][t](e[0]);break;case 2:l[p][t](e[0],e[1]);break;case 3:l[p][t](e[0],e[1],e[2]);break;case 4:l[p][t](e[0],e[1],e[2],e[3]);break;case 5:l[p][t](e[0],e[1],e[2],e[3],e[4]);break;default:0!==e.length&&l[p].warn&&l[p].warn("too many params passed to logger."+t)}}var f=t(4),l=t(6),d=t(37),p=["con","sole"].join(""),h={},m=d.contains(f.href,"tw_debug=true");e.exports={info:r,warn:o,error:i,time:s,timeEnd:a}},{37:37,4:4,6:6}],27:[function(t,e,n){function r(t){return function(e){return i.hasValue(e[t])}}function o(){this.assertions=[],this._defaults={}}var i=t(34),s=t(37);o.prototype.assert=function(t,e){return this.assertions.push({fn:t,msg:e||"assertion failed"}),this},o.prototype.defaults=function(t){return this._defaults=t||this._defaults,this},o.prototype.require=function(t){var e=this;return t=Array.isArray(t)?t:s.toRealArray(arguments),t.forEach(function(t){e.assert(r(t),"required: "+t)}),this},o.prototype.parse=function(t){var e,n;if(e=s.aug({},this._defaults,t||{}),n=this.assertions.reduce(function(t,n){return n.fn(e)||t.push(n.msg),t},[]),n.length>0)throw new Error(n.join("\n"));return e},e.exports=o},{34:34,37:37}],28:[function(t,e,n){var r,o,i,s=t(31);r=function(t){var e=t.search.substr(1);return s.decode(e)},o=function(t){var e=t.href,n=e.indexOf("#"),r=0>n?"":e.substring(n+1);return s.decode(r)},i=function(t){var e,n={},i=r(t),s=o(t);for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);for(e in s)s.hasOwnProperty(e)&&(n[e]=s[e]);return n},e.exports={combined:i,fromQuery:r,fromFragment:o}},{31:31}],29:[function(t,e,n){function r(){var t=this;this.promise=new o(function(e,n){t.resolve=e,t.reject=n})}var o=t(30);e.exports=r},{30:30}],30:[function(t,e,n){var r=t(1).Promise,o=t(6),i=t(23);e.exports=i.hasPromiseSupport()?o.Promise:r},{1:1,23:23,6:6}],31:[function(t,e,n){function r(t){return encodeURIComponent(t).replace(/\+/g,"%2B").replace(/'/g,"%27")}function o(t){return decodeURIComponent(t)}function i(t){var e=[];return f.forIn(t,function(t,n){var o=r(t);f.isType("array",n)||(n=[n]),n.forEach(function(t){c.hasValue(t)&&e.push(o+"="+r(t))})}),e.sort().join("&")}function s(t){var e,n={};return t?(e=t.split("&"),e.forEach(function(t){var e=t.split("="),r=o(e[0]),i=o(e[1]);return 2==e.length?f.isType("array",n[r])?void n[r].push(i):r in n?(n[r]=[n[r]],void n[r].push(i)):void(n[r]=i):void 0}),n):{}}function a(t,e){var n=i(e);return n.length>0?f.contains(t,"?")?t+"&"+i(e):t+"?"+i(e):t}function u(t){var e=t&&t.split("?");return 2==e.length?s(e[1]):{}}var c=t(34),f=t(37);e.exports={url:a,decodeURL:u,decode:s,encode:i,encodePart:r,decodePart:o}},{34:34,37:37}],32:[function(t,e,n){function r(t){return t in a?a[t]:a[t]=s.test(t)}function o(){return r(i.host)}var i=t(4),s=/^[^#?]*\.(gov|mil)(:\d+)?([#?].*)?$/i,a={};e.exports={isUrlSensitive:r,isHostPageSensitive:o}},{4:4}],33:[function(t,e,n){function r(t){return"string"==typeof t&&g.test(t)&&RegExp.$1.length<=20}function o(t){return r(t)?RegExp.$1:void 0}function i(t,e){var n=m.decodeURL(t);return e=e||!1,n.screen_name=o(t),n.screen_name?m.url("https://twitter.com/intent/"+(e?"follow":"user"),n):void 0}function s(t){return i(t,!0)}function a(t){return"string"==typeof t&&_.test(t)}function u(t,e){return e=void 0===e?!0:e,a(t)?(e?"#":"")+RegExp.$1:void 0}function c(t){return"string"==typeof t&&v.test(t)}function f(t){return c(t)&&RegExp.$1}function l(t){return w.test(t)}function d(t){return y.test(t)}function p(t){return b.test(t)}function h(t){return E.test(t)&&RegExp.$1}var m=t(31),g=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,v=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,w=/^http(s?):\/\/(\w+\.)*twitter\.com([\:\/]|$)/i,y=/^http(s?):\/\/pbs\.twimg\.com\//,_=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/,b=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,E=/^https?:\/\/(?:www\.)?twitter\.com\/i\/moments\/(\d+)/i;e.exports={isHashTag:a,hashTag:u,isScreenName:r,screenName:o,isStatus:c,status:f,intentForProfileURL:i,intentForFollowURL:s,isTwitterURL:l,isTwimgURL:d,isIntentURL:p,regexen:{profile:g},momentId:h}},{31:31}],34:[function(t,e,n){function r(t){return void 0!==t&&null!==t&&""!==t}function o(t){return s(t)&&t%1===0}function i(t){return s(t)&&!o(t)}function s(t){return r(t)&&!isNaN(t)}function a(t){return r(t)&&"array"==h.toType(t)}function u(t){return h.contains(g,t)}function c(t){return h.contains(m,t)}function f(t){return r(t)?c(t)?!0:u(t)?!1:!!t:!1}function l(t){return s(t)?t:void 0}function d(t){return i(t)?t:void 0}function p(t){return o(t)?t:void 0}var h=t(37),m=[!0,1,"1","on","ON","true","TRUE","yes","YES"],g=[!1,0,"0","off","OFF","false","FALSE","no","NO"];e.exports={hasValue:r,isInt:o,isFloat:i,isNumber:s,isArray:a,isTruthValue:c,isFalseValue:u,asInt:p,asFloat:d,asNumber:l,asBoolean:f}},{37:37}],35:[function(t,e,n){function r(){return i+String(+new Date)+Math.floor(1e5*Math.random())+s++}function o(){return i+String(a++)}var i="i",s=0,a=0;e.exports={generate:r,deterministic:o}},{}],36:[function(t,e,n){function r(t,e){var n,r;return e=e||a,/^https?:\/\//.test(t)?t:/^\/\//.test(t)?e.protocol+t:(n=e.host+(e.port.length?":"+e.port:""),0!==t.indexOf("/")&&(r=e.pathname.split("/"),r.pop(),r.push(t),t="/"+r.join("/")),[e.protocol,"//",n,t].join(""))}function o(){for(var t,e=s.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"==t.rel)return r(t.href)}function i(){for(var t,e,n,r=s.getElementsByTagName("a"),o=s.getElementsByTagName("link"),i=[r,o],a=0,c=0,f=/\bme\b/;t=i[a];a++)for(c=0;e=t[c];c++)if(f.test(e.rel)&&(n=u.screenName(e.href)))return n}var s=t(3),a=t(4),u=t(33);e.exports={absolutize:r,getCanonicalURL:o,getScreenNameFromPage:i}},{3:3,33:33,4:4}],37:[function(t,e,n){function r(t){return l(arguments).slice(1).forEach(function(e){i(e,function(e,n){t[e]=n})}),t}function o(t){return i(t,function(e,n){u(n)&&(o(n),c(n)&&delete t[e]),(void 0===n||null===n||""===n)&&delete t[e]}),t}function i(t,e){for(var n in t)(!t.hasOwnProperty||t.hasOwnProperty(n))&&e(n,t[n]);return t}function s(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function a(t,e){return t==s(e)}function u(t){return t===Object(t)}function c(t){if(!u(t))return!1;if(Object.keys)return!Object.keys(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function f(t,e){p.setTimeout(function(){t.call(e||null)},0)}function l(t){return Array.prototype.slice.call(t)}function d(t,e){return t&&t.indexOf?t.indexOf(e)>-1:!1}var p=t(6);e.exports={aug:r,async:f,compact:o,contains:d,forIn:i,isObject:u,isEmptyObject:c,toType:s,isType:a,toRealArray:l}},{6:6}],38:[function(t,e,n){function r(){if(i)return i;if(c.isDynamicWidget()){var t,e=0,n=u.parent.frames.length;try{if(i=u.parent.frames[d])return i}catch(r){}if(f.anyIE())for(;n>e;e++)try{if(t=u.parent.frames[e],t&&"function"==typeof t.openIntent)return i=t}catch(r){}}}function o(){var t,e,n,i,a,f,l={};if("function"===(typeof arguments[0]).toLowerCase()?l.success=arguments[0]:l=arguments[0],t=l.success||function(){},e=l.timeout||function(){},n=l.nohub||function(){},i=l.complete||function(){},a=void 0!==l.attempt?l.attempt:m,!c.isDynamicWidget()||s)return n(),i(),!1;f=r(),a--;try{if(f&&f.trigger)return t(f),void i()}catch(d){}return 0>=a?(s=!0,e(),void i()):+new Date-p>h*m?(s=!0,void n()):void u.setTimeout(function(){o({success:t,timeout:e,nohub:n,attempt:a,complete:i})},h)}var i,s,a=t(4),u=t(6),c=t(17),f=t(23),l="twttrHubFrameSecure",d="http:"==a.protocol?"twttrHubFrame":l,p=+new Date,h=100,m=20;e.exports={withHub:o,contextualHubId:d,secureHubId:l}},{17:17,23:23,4:4,6:6}],39:[function(t,e,n){e.exports={version:"b6b62a0:1440535324533"}},{}],40:[function(t,e,n){function r(){}var o=t(37),i=t(24);o.aug(r.prototype,i.Emitter,{transportMethod:"",init:function(){},send:function(t){var e;this._ready?this._performSend(t):e=this.bind("ready",function(){this.unbind("ready",e),this._performSend(t)})},ready:function(){this.trigger("ready",this),this._ready=!0},isReady:function(){return!!this._ready},receive:function(t){this.trigger("message",t)}}),e.exports={Connection:r}},{24:24,37:37}],41:[function(t,e,n){function r(t,e){var n=e||Math.floor(100*Math.random()),r=['<object id="xdflashshim'+n+'" name="xdflashshim'+n+'"','type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"','width="1" height="1" style="position:absolute;left:-9999px;top:-9999px;">','<param name="movie" value="'+t+"&debug="+o.__XDDEBUG__+'">','<param name="wmode" value="window">','<param name="allowscriptaccess" value="always">',"</object>"].join(" ");return r}var o=t(6);e.exports={object:r}},{6:6}],42:[function(t,e,n){function r(t){return(JSON.parse||JSON.decode)(t)}function o(t){this.con=t}function i(){this.id=i.id++}var s=t(37),a=t(24);s.aug(o.prototype,{expose:function(t){this.con.bind("message",this._handleRequest(t))},call:function(t){var e,n=this;return this._requests||(this._requests={},this.con.bind("message",function(t){var e;try{t=r(t)}catch(o){return}t.callback&&"number"==typeof t.id&&(e=n._requests[t.id])&&(t.error?e.trigger("error",t):e.trigger("success",t),delete n._requests[t.id])})),e=new i,this._requests[e.id]=e,e.send(this.con,t,Array.prototype.slice.call(arguments,1))},_handleRequest:function(t){var e=this;return function(n){var o,i;try{n=r(n)}catch(s){return}n.callback||"number"==typeof n.id&&"function"==typeof t[n.method]&&(i=e._responseCallbacks(n.id),o=t[n.method].apply(t,n.params.concat(i)),"undefined"!=typeof o&&i[0](o))}},_responseCallbacks:function(t){var e=this.con;return[function(n){e.send(JSON.stringify({id:t,result:n,callback:!0}))},function n(r){e.send(JSON.stringify({id:t,error:n,callback:r}))}]}}),i.id=0,s.aug(i.prototype,a.Emitter,{send:function(t,e,n){return t.send(JSON.stringify({id:this.id,method:e,params:n})),this},success:function(t){return this.bind("success",t),this},error:function(t){return this.bind("error",t),this}}),e.exports=function(t){return new o(t)}},{24:24,37:37}],43:[function(t,e,n){function r(){}function o(t){this.transportMethod="PostMessage",this.options=t,this._createChild()}function i(t){this.transportMethod="Flash",this.options=t,this.token=Math.random().toString(16).substring(2),this._setup()}function s(t){this.transportMethod="Fallback",this.options=t,this._createChild()}var a,u=t(3),c=t(6),f=t(40),l=t(37),d=t(23),p=t(12),h="__ready__",m=0;r.prototype=new f.Connection,l.aug(r.prototype,{_createChild:function(){this.options.window?this._createWindow():this._createIframe()},_createIframe:function(){function t(){i.child=e.contentWindow,i._ready||i.init()}var e,n,r,o,i=this,s={allowTransparency:!0,frameBorder:"0",scrolling:"no",tabIndex:"0",name:this._name()},f=l.aug(l.aug({},s),this.options.iframe);c.postMessage?(a||(a=u.createElement("iframe")),e=a.cloneNode(!1)):e=u.createElement('<iframe name="'+f.name+'">'),e.id=f.name,l.forIn(f,function(t,n){"style"!=t&&e.setAttribute(t,n)}),o=e.getAttribute("style"),o&&"undefined"!=typeof o.cssText?o.cssText=f.style:e.style.cssText=f.style,e.addEventListener("load",t,!1),e.src=this._source(),(n=this.options.appendTo)?n.appendChild(e):(r=this.options.replace)?(n=r.parentNode,n&&n.replaceChild(e,r)):u.body.insertBefore(e,u.body.firstChild)},_createWindow:function(){var t=p.open(this._source()).popup;t&&t.focus(),this.child=t,this.init()},_source:function(){return this.options.src},_name:function(){var t="_xd_"+m++;return c.parent&&c.parent!=c&&c.name&&(t=c.name+t),t}}),o.prototype=new r,l.aug(o.prototype,{init:function(){function t(t){t.source===e.child&&(e._ready||t.data!==h?e.receive(t.data):e.ready())}var e=this;c.addEventListener("message",t,!1)},_performSend:function(t){this.child.postMessage(t,this.options.src)}}),i.prototype=new r,l.aug(i.prototype,{_setup:function(){var e=this,n=t(41);c["__xdcb"+e.token]={receive:function(t){e._ready||t!==h?e.receive(t):e.ready()},loaded:function(){}};var r=u.createElement("div");r.innerHTML=n.object("https://platform.twitter.com/xd/ft.swf?&token="+e.token+"&parent=true&callback=__xdcb"+e.token+"&xdomain="+e._host(),e.token),u.body.insertBefore(r,u.body.firstChild),e.proxy=r.firstChild,e._createChild()},init:function(){},_performSend:function(t){this.proxy.send(t)},_host:function(){return this.options.src.replace(/https?:\/\//,"").split(/(:|\/)/)[0]},_source:function(){return this.options.src+(this.options.src.match(/\?/)?"&":"?")+"xd_token="+c.escape(this.token)}}),s.prototype=new r,l.aug(s.prototype,{init:function(){},_performSend:function(){}}),e.exports={connect:function(t){return!d.canPostMessage()||d.anyIE()&&t.window?d.anyIE()&&d.flashEnabled()?new i(t):new s(t):new o(t)}}},{12:12,23:23,3:3,37:37,40:40,41:41,6:6}]},{},[11]))}();;</script><script src="https://cdn.syndication.twimg.com/widgets/followbutton/info.json?callback=__twttr.setFollowersCountAndFollowing&amp;lang=en&amp;screen_names=jsfiddle"></script></body></html>°’	_WebResourceResponse_application/javascriptUutf-8_çhttps://cdn.syndication.twimg.com/widgets/followbutton/info.json?callback=__twttr.setFollowersCountAndFollowing&lang=en&screen_names=jsfiddleO°bplist00‘ãåX$versionX$objectsY$archiverT$top Ü†Ø1#)*0123]^_`abcdefghijklmnopqrstuvwxyz{|}~ÄÅÑÖÜU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄ.Ä0ÄÄ/Ä”$%&'(WNS.base[NS.relativeÄ ÄÄ_çhttps://cdn.syndication.twimg.com/widgets/followbutton/info.json?callback=__twttr.setFollowersCountAndFollowing&lang=en&screen_names=jsfiddle“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçôƒ˘	 »”456I\WNS.keysZNS.objectsØ789:;<=>?@ABCDEFGHÄ	Ä
ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄØJKLMNOPQRSTUVWXYZ[ÄÄÄÄÄÄ Ä!Ä"Ä#Ä$Ä%Ä&Ä'Ä(Ä)Ä*Ä+Ä,Ä-\Content-Type]x-transaction_x-response-time_Content-DispositionZSet-CookieVServer_Content-Encoding_x-xss-protection_x-connection-hash_timing-allow-originWExpires]Cache-ControlTDate_Strict-Transport-Security^Content-Length_x-content-type-options_x-frame-options]Last-Modified_$application/javascript;charset=utf-8_2d26bb6301cf7ebcR12_ attachment; filename=jsonp.jsonp_lang=en; Path=/Utsa_aTgzip]1; mode=block_ 7ddb293780db04d0a5758fd3f122eafcQ*_Wed, 26 Aug 2015 07:02:53 GMT_must-revalidate, max-age=600_Wed, 26 Aug 2015 06:52:53 GMT_max-age=631138519S179WnosniffZSAMEORIGIN_Wed, 26 Aug 2015 06:52:53 GMT“+,ÇÉ\NSDictionary¢Ç/Ê_application/javascript“+,áà_NSHTTPURLResponse£âä/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—çé_WebResourceResponseÄ    # - 2 7 k q å è ì ñ ô ú † £ ™ ≠ ∞ ≥ ∂ π ª Ω ø ¡ √ ƒ ∆ »   Ã Œ – “ Ÿ · Ì Ô Ò ÛÉàìú¢•Æ∑πª¬ ’ÍÏÓÚÙˆ¯˙¸˛ 
#%')+-/13579;=?ACEGIVdvåóû±ƒÿÓˆ	%4M_mîß™ÕﬂÂÍ¯=\|êîúß«ÃŸ‹ﬁ˜¸(6HKa             è              cOÊ/**/__twttr.setFollowersCountAndFollowing([{"following":false,"id":"86026492","screen_name":"jsfiddle","name":"JSFiddle","protected":false,"followers_count":19195,"formatted_followers_count":"19.2K followers","age_gated":false}]);“"’	
 !Vresult_"http://fiddle.jshell.net/_display/O<!DOCTYPE html><html><head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title> - jsFiddle demo</title>
  
  
  <script type="text/javascript" src="/js/lib/mootools-core-1.3-full-compat-nc.js"></script>
  
  <link rel="stylesheet" type="text/css" href="/css/normalize.css">
  
  
  <link rel="stylesheet" type="text/css" href="/css/result-light.css">
  
  <style type="text/css">
    .strokeme
{
    color: white;
    text-shadow:
    -1px -1px 1 #000,
    1px -1px 1 #000,
    -1px 1px 1 #000,
    1px 1px 1 #000;
    
}
  </style>
  



<script type="text/javascript">//<![CDATA[
window.addEvent('load', function() {

});//]]> 

</script>

</head>
<body>
  <div class="strokeme">
    This text should have a stroke in some browsers
</div>
  




</body></html>¢#(‘	$%&'_application/javascript_Chttp://fiddle.jshell.net/js/lib/mootools-core-1.3-full-compat-nc.jsOèbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Chttp://fiddle.jshell.net/js/lib/mootools-core-1.3-full-compat-nc.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçôƒ/ù »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Fri, 13 Jun 2014 09:38:36 GMT_Wed, 16 Sep 2015 06:52:52 GMT_W/"539ac69c-226ab"_Wed, 26 Aug 2015 06:52:52 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/ˇˇˇˇˇˇˇˇ_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „).9BHKT]_ahp{Üàäåéêíîñòö•ß©´≠Ø±≥µ∑πª∆”⁄Ëı˙/:SYyôÆŒ”ÂÓÛ %*>BVdvyè             o              ëO &´/*
---
MooTools: the javascript framework

web build:
 - http://mootools.net/core/7c56cfef9dddcf170a5d68e3fb61cfd7

packager build:
 - packager build Core/Core Core/Array Core/String Core/Number Core/Function Core/Object Core/Event Core/Browser Core/Class Core/Class.Extras Core/Slick.Parser Core/Slick.Finder Core/Element Core/Element.Style Core/Element.Event Core/Element.Dimensions Core/Fx Core/Fx.CSS Core/Fx.Tween Core/Fx.Morph Core/Fx.Transitions Core/Request Core/Request.HTML Core/Request.JSON Core/Cookie Core/JSON Core/DOMReady Core/Swiff

/*
---

name: Core

description: The heart of MooTools.

license: MIT-style license.

copyright: Copyright (c) 2006-2010 [Valerio Proietti](http://mad4milk.net/).

authors: The MooTools production team (http://mootools.net/developers/)

inspiration:
  - Class implementation inspired by [Base.js](http://dean.edwards.name/weblog/2006/03/base/) Copyright (c) 2006 Dean Edwards, [GNU Lesser General Public License](http://opensource.org/licenses/lgpl-license.php)
  - Some functionality inspired by [Prototype.js](http://prototypejs.org) Copyright (c) 2005-2007 Sam Stephenson, [MIT License](http://opensource.org/licenses/mit-license.php)

provides: [Core, MooTools, Type, typeOf, instanceOf, Native]

...
*/

(function(){

this.MooTools = {
	version: '1.3',
	build: 'a3eed692dd85050d80168ec2c708efe901bb7db3'
};

// typeOf, instanceOf

var typeOf = this.typeOf = function(item){
	if (item == null) return 'null';
	if (item.$family) return item.$family();

	if (item.nodeName){
		if (item.nodeType == 1) return 'element';
		if (item.nodeType == 3) return (/\S/).test(item.nodeValue) ? 'textnode' : 'whitespace';
	} else if (typeof item.length == 'number'){
		if (item.callee) return 'arguments';
		if ('item' in item) return 'collection';
	}

	return typeof item;
};

var instanceOf = this.instanceOf = function(item, object){
	if (item == null) return false;
	var constructor = item.$constructor || item.constructor;
	while (constructor){
		if (constructor === object) return true;
		constructor = constructor.parent;
	}
	return item instanceof object;
};

// Function overloading

var Function = this.Function;

var enumerables = true;
for (var i in {toString: 1}) enumerables = null;
if (enumerables) enumerables = ['hasOwnProperty', 'valueOf', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'constructor'];

Function.prototype.overloadSetter = function(usePlural){
	var self = this;
	return function(a, b){
		if (a == null) return this;
		if (usePlural || typeof a != 'string'){
			for (var k in a) self.call(this, k, a[k]);
			if (enumerables) for (var i = enumerables.length; i--;){
				k = enumerables[i];
				if (a.hasOwnProperty(k)) self.call(this, k, a[k]);
			}
		} else {
			self.call(this, a, b);
		}
		return this;
	};
};

Function.prototype.overloadGetter = function(usePlural){
	var self = this;
	return function(a){
		var args, result;
		if (usePlural || typeof a != 'string') args = a;
		else if (arguments.length > 1) args = arguments;
		if (args){
			result = {};
			for (var i = 0; i < args.length; i++) result[args[i]] = self.call(this, args[i]);
		} else {
			result = self.call(this, a);
		}
		return result;
	};
};

Function.prototype.extend = function(key, value){
	this[key] = value;
}.overloadSetter();

Function.prototype.implement = function(key, value){
	this.prototype[key] = value;
}.overloadSetter();

// From

var slice = Array.prototype.slice;

Function.from = function(item){
	return (typeOf(item) == 'function') ? item : function(){
		return item;
	};
};

Array.from = function(item){
	if (item == null) return [];
	return (Type.isEnumerable(item) && typeof item != 'string') ? (typeOf(item) == 'array') ? item : slice.call(item) : [item];
};

Number.from = function(item){
	var number = parseFloat(item);
	return isFinite(number) ? number : null;
};

String.from = function(item){
	return item + '';
};

// hide, protect

Function.implement({

	hide: function(){
		this.$hidden = true;
		return this;
	},

	protect: function(){
		this.$protected = true;
		return this;
	}

});

// Type

var Type = this.Type = function(name, object){
	if (name){
		var lower = name.toLowerCase();
		var typeCheck = function(item){
			return (typeOf(item) == lower);
		};

		Type['is' + name] = typeCheck;
		if (object != null){
			object.prototype.$family = (function(){
				return lower;
			}).hide();
			//<1.2compat>
			object.type = typeCheck;
			//</1.2compat>
		}
	}

	if (object == null) return null;

	object.extend(this);
	object.$constructor = Type;
	object.prototype.$constructor = object;

	return object;
};

var toString = Object.prototype.toString;

Type.isEnumerable = function(item){
	return (item != null && typeof item.length == 'number' && toString.call(item) != '[object Function]' );
};

var hooks = {};

var hooksOf = function(object){
	var type = typeOf(object.prototype);
	return hooks[type] || (hooks[type] = []);
};

var implement = function(name, method){
	if (method && method.$hidden) return this;

	var hooks = hooksOf(this);

	for (var i = 0; i < hooks.length; i++){
		var hook = hooks[i];
		if (typeOf(hook) == 'type') implement.call(hook, name, method);
		else hook.call(this, name, method);
	}
	
	var previous = this.prototype[name];
	if (previous == null || !previous.$protected) this.prototype[name] = method;

	if (this[name] == null && typeOf(method) == 'function') extend.call(this, name, function(item){
		return method.apply(item, slice.call(arguments, 1));
	});

	return this;
};

var extend = function(name, method){
	if (method && method.$hidden) return this;
	var previous = this[name];
	if (previous == null || !previous.$protected) this[name] = method;
	return this;
};

Type.implement({

	implement: implement.overloadSetter(),

	extend: extend.overloadSetter(),

	alias: function(name, existing){
		implement.call(this, name, this.prototype[existing]);
	}.overloadSetter(),

	mirror: function(hook){
		hooksOf(this).push(hook);
		return this;
	}

});

new Type('Type', Type);

// Default Types

var force = function(name, object, methods){
	var isType = (object != Object),
		prototype = object.prototype;

	if (isType) object = new Type(name, object);

	for (var i = 0, l = methods.length; i < l; i++){
		var key = methods[i],
			generic = object[key],
			proto = prototype[key];

		if (generic) generic.protect();

		if (isType && proto){
			delete prototype[key];
			prototype[key] = proto.protect();
		}
	}

	if (isType) object.implement(prototype);

	return force;
};

force('String', String, [
	'charAt', 'charCodeAt', 'concat', 'indexOf', 'lastIndexOf', 'match', 'quote', 'replace', 'search',
	'slice', 'split', 'substr', 'substring', 'toLowerCase', 'toUpperCase'
])('Array', Array, [
	'pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift', 'concat', 'join', 'slice',
	'indexOf', 'lastIndexOf', 'filter', 'forEach', 'every', 'map', 'some', 'reduce', 'reduceRight'
])('Number', Number, [
	'toExponential', 'toFixed', 'toLocaleString', 'toPrecision'
])('Function', Function, [
	'apply', 'call', 'bind'
])('RegExp', RegExp, [
	'exec', 'test'
])('Object', Object, [
	'create', 'defineProperty', 'defineProperties', 'keys',
	'getPrototypeOf', 'getOwnPropertyDescriptor', 'getOwnPropertyNames',
	'preventExtensions', 'isExtensible', 'seal', 'isSealed', 'freeze', 'isFrozen'
])('Date', Date, ['now']);

Object.extend = extend.overloadSetter();

Date.extend('now', function(){
	return +(new Date);
});

new Type('Boolean', Boolean);

// fixes NaN returning as Number

Number.prototype.$family = function(){
	return isFinite(this) ? 'number' : 'null';
}.hide();

// Number.random

Number.extend('random', function(min, max){
	return Math.floor(Math.random() * (max - min + 1) + min);
});

// forEach, each

Object.extend('forEach', function(object, fn, bind){
	for (var key in object){
		if (object.hasOwnProperty(key)) fn.call(bind, object[key], key, object);
	}
});

Object.each = Object.forEach;

Array.implement({

	forEach: function(fn, bind){
		for (var i = 0, l = this.length; i < l; i++){
			if (i in this) fn.call(bind, this[i], i, this);
		}
	},

	each: function(fn, bind){
		Array.forEach(this, fn, bind);
		return this;
	}

});

// Array & Object cloning, Object merging and appending

var cloneOf = function(item){
	switch (typeOf(item)){
		case 'array': return item.clone();
		case 'object': return Object.clone(item);
		default: return item;
	}
};

Array.implement('clone', function(){
	var i = this.length, clone = new Array(i);
	while (i--) clone[i] = cloneOf(this[i]);
	return clone;
});

var mergeOne = function(source, key, current){
	switch (typeOf(current)){
		case 'object':
			if (typeOf(source[key]) == 'object') Object.merge(source[key], current);
			else source[key] = Object.clone(current);
		break;
		case 'array': source[key] = current.clone(); break;
		default: source[key] = current;
	}
	return source;
};

Object.extend({

	merge: function(source, k, v){
		if (typeOf(k) == 'string') return mergeOne(source, k, v);
		for (var i = 1, l = arguments.length; i < l; i++){
			var object = arguments[i];
			for (var key in object) mergeOne(source, key, object[key]);
		}
		return source;
	},

	clone: function(object){
		var clone = {};
		for (var key in object) clone[key] = cloneOf(object[key]);
		return clone;
	},

	append: function(original){
		for (var i = 1, l = arguments.length; i < l; i++){
			var extended = arguments[i] || {};
			for (var key in extended) original[key] = extended[key];
		}
		return original;
	}

});

// Object-less types

['Object', 'WhiteSpace', 'TextNode', 'Collection', 'Arguments'].each(function(name){
	new Type(name);
});

// Unique ID

var UID = Date.now();

String.extend('uniqueID', function(){
	return (UID++).toString(36);
});

//<1.2compat>

var Hash = this.Hash = new Type('Hash', function(object){
	if (typeOf(object) == 'hash') object = Object.clone(object.getClean());
	for (var key in object) this[key] = object[key];
	return this;
});

Hash.implement({

	forEach: function(fn, bind){
		Object.forEach(this, fn, bind);
	},

	getClean: function(){
		var clean = {};
		for (var key in this){
			if (this.hasOwnProperty(key)) clean[key] = this[key];
		}
		return clean;
	},

	getLength: function(){
		var length = 0;
		for (var key in this){
			if (this.hasOwnProperty(key)) length++;
		}
		return length;
	}

});

Hash.alias('each', 'forEach');

Object.type = Type.isObject;

var Native = this.Native = function(properties){
	return new Type(properties.name, properties.initialize);
};

Native.type = Type.type;

Native.implement = function(objects, methods){
	for (var i = 0; i < objects.length; i++) objects[i].implement(methods);
	return Native;
};

var arrayType = Array.type;
Array.type = function(item){
	return instanceOf(item, Array) || arrayType(item);
};

this.$A = function(item){
	return Array.from(item).slice();
};

this.$arguments = function(i){
	return function(){
		return arguments[i];
	};
};

this.$chk = function(obj){
	return !!(obj || obj === 0);
};

this.$clear = function(timer){
	clearTimeout(timer);
	clearInterval(timer);
	return null;
};

this.$defined = function(obj){
	return (obj != null);
};

this.$each = function(iterable, fn, bind){
	var type = typeOf(iterable);
	((type == 'arguments' || type == 'collection' || type == 'array' || type == 'elements') ? Array : Object).each(iterable, fn, bind);
};

this.$empty = function(){};

this.$extend = function(original, extended){
	return Object.append(original, extended);
};

this.$H = function(object){
	return new Hash(object);
};

this.$merge = function(){
	var args = Array.slice(arguments);
	args.unshift({});
	return Object.merge.apply(null, args);
};

this.$lambda = Function.from;
this.$mixin = Object.merge;
this.$random = Number.random;
this.$splat = Array.from;
this.$time = Date.now;

this.$type = function(object){
	var type = typeOf(object);
	if (type == 'elements') return 'array';
	return (type == 'null') ? false : type;
};

this.$unlink = function(object){
	switch (typeOf(object)){
		case 'object': return Object.clone(object);
		case 'array': return Array.clone(object);
		case 'hash': return new Hash(object);
		default: return object;
	}
};

//</1.2compat>

})();


/*
---

name: Array

description: Contains Array Prototypes like each, contains, and erase.

license: MIT-style license.

requires: Type

provides: Array

...
*/

Array.implement({

	invoke: function(methodName){
		var args = Array.slice(arguments, 1);
		return this.map(function(item){
			return item[methodName].apply(item, args);
		});
	},

	every: function(fn, bind){
		for (var i = 0, l = this.length; i < l; i++){
			if ((i in this) && !fn.call(bind, this[i], i, this)) return false;
		}
		return true;
	},

	filter: function(fn, bind){
		var results = [];
		for (var i = 0, l = this.length; i < l; i++){
			if ((i in this) && fn.call(bind, this[i], i, this)) results.push(this[i]);
		}
		return results;
	},

	clean: function(){
		return this.filter(function(item){
			return item != null;
		});
	},

	indexOf: function(item, from){
		var len = this.length;
		for (var i = (from < 0) ? Math.max(0, len + from) : from || 0; i < len; i++){
			if (this[i] === item) return i;
		}
		return -1;
	},

	map: function(fn, bind){
		var results = [];
		for (var i = 0, l = this.length; i < l; i++){
			if (i in this) results[i] = fn.call(bind, this[i], i, this);
		}
		return results;
	},

	some: function(fn, bind){
		for (var i = 0, l = this.length; i < l; i++){
			if ((i in this) && fn.call(bind, this[i], i, this)) return true;
		}
		return false;
	},

	associate: function(keys){
		var obj = {}, length = Math.min(this.length, keys.length);
		for (var i = 0; i < length; i++) obj[keys[i]] = this[i];
		return obj;
	},

	link: function(object){
		var result = {};
		for (var i = 0, l = this.length; i < l; i++){
			for (var key in object){
				if (object[key](this[i])){
					result[key] = this[i];
					delete object[key];
					break;
				}
			}
		}
		return result;
	},

	contains: function(item, from){
		return this.indexOf(item, from) != -1;
	},

	append: function(array){
		this.push.apply(this, array);
		return this;
	},

	getLast: function(){
		return (this.length) ? this[this.length - 1] : null;
	},

	getRandom: function(){
		return (this.length) ? this[Number.random(0, this.length - 1)] : null;
	},

	include: function(item){
		if (!this.contains(item)) this.push(item);
		return this;
	},

	combine: function(array){
		for (var i = 0, l = array.length; i < l; i++) this.include(array[i]);
		return this;
	},

	erase: function(item){
		for (var i = this.length; i--;){
			if (this[i] === item) this.splice(i, 1);
		}
		return this;
	},

	empty: function(){
		this.length = 0;
		return this;
	},

	flatten: function(){
		var array = [];
		for (var i = 0, l = this.length; i < l; i++){
			var type = typeOf(this[i]);
			if (type == 'null') continue;
			array = array.concat((type == 'array' || type == 'collection' || type == 'arguments' || instanceOf(this[i], Array)) ? Array.flatten(this[i]) : this[i]);
		}
		return array;
	},

	pick: function(){
		for (var i = 0, l = this.length; i < l; i++){
			if (this[i] != null) return this[i];
		}
		return null;
	},

	hexToRgb: function(array){
		if (this.length != 3) return null;
		var rgb = this.map(function(value){
			if (value.length == 1) value += value;
			return value.toInt(16);
		});
		return (array) ? rgb : 'rgb(' + rgb + ')';
	},

	rgbToHex: function(array){
		if (this.length < 3) return null;
		if (this.length == 4 && this[3] == 0 && !array) return 'transparent';
		var hex = [];
		for (var i = 0; i < 3; i++){
			var bit = (this[i] - 0).toString(16);
			hex.push((bit.length == 1) ? '0' + bit : bit);
		}
		return (array) ? hex : '#' + hex.join('');
	}

});

//<1.2compat>

Array.alias('extend', 'append');

var $pick = function(){
	return Array.from(arguments).pick();
};

//</1.2compat>


/*
---

name: String

description: Contains String Prototypes like camelCase, capitalize, test, and toInt.

license: MIT-style license.

requires: Type

provides: String

...
*/

String.implement({

	test: function(regex, params){
		return ((typeOf(regex) == 'regexp') ? regex : new RegExp('' + regex, params)).test(this);
	},

	contains: function(string, separator){
		return (separator) ? (separator + this + separator).indexOf(separator + string + separator) > -1 : this.indexOf(string) > -1;
	},

	trim: function(){
		return this.replace(/^\s+|\s+$/g, '');
	},

	clean: function(){
		return this.replace(/\s+/g, ' ').trim();
	},

	camelCase: function(){
		return this.replace(/-\D/g, function(match){
			return match.charAt(1).toUpperCase();
		});
	},

	hyphenate: function(){
		return this.replace(/[A-Z]/g, function(match){
			return ('-' + match.charAt(0).toLowerCase());
		});
	},

	capitalize: function(){
		return this.replace(/\b[a-z]/g, function(match){
			return match.toUpperCase();
		});
	},

	escapeRegExp: function(){
		return this.replace(/([-.*+?^${}()|[\]\/\\])/g, '\\$1');
	},

	toInt: function(base){
		return parseInt(this, base || 10);
	},

	toFloat: function(){
		return parseFloat(this);
	},

	hexToRgb: function(array){
		var hex = this.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);
		return (hex) ? hex.slice(1).hexToRgb(array) : null;
	},

	rgbToHex: function(array){
		var rgb = this.match(/\d{1,3}/g);
		return (rgb) ? rgb.rgbToHex(array) : null;
	},

	substitute: function(object, regexp){
		return this.replace(regexp || (/\\?\{([^{}]+)\}/g), function(match, name){
			if (match.charAt(0) == '\\') return match.slice(1);
			return (object[name] != null) ? object[name] : '';
		});
	}

});


/*
---

name: Number

description: Contains Number Prototypes like limit, round, times, and ceil.

license: MIT-style license.

requires: Type

provides: Number

...
*/

Number.implement({

	limit: function(min, max){
		return Math.min(max, Math.max(min, this));
	},

	round: function(precision){
		precision = Math.pow(10, precision || 0).toFixed(precision < 0 ? -precision : 0);
		return Math.round(this * precision) / precision;
	},

	times: function(fn, bind){
		for (var i = 0; i < this; i++) fn.call(bind, i, this);
	},

	toFloat: function(){
		return parseFloat(this);
	},

	toInt: function(base){
		return parseInt(this, base || 10);
	}

});

Number.alias('each', 'times');

(function(math){
	var methods = {};
	math.each(function(name){
		if (!Number[name]) methods[name] = function(){
			return Math[name].apply(null, [this].concat(Array.from(arguments)));
		};
	});
	Number.implement(methods);
})(['abs', 'acos', 'asin', 'atan', 'atan2', 'ceil', 'cos', 'exp', 'floor', 'log', 'max', 'min', 'pow', 'sin', 'sqrt', 'tan']);


/*
---

name: Function

description: Contains Function Prototypes like create, bind, pass, and delay.

license: MIT-style license.

requires: Type

provides: Function

...
*/

Function.extend({

	attempt: function(){
		for (var i = 0, l = arguments.length; i < l; i++){
			try {
				return arguments[i]();
			} catch (e){}
		}
		return null;
	}

});

Function.implement({

	attempt: function(args, bind){
		try {
			return this.apply(bind, Array.from(args));
		} catch (e){}
		
		return null;
	},

	bind: function(bind){
		var self = this,
			args = (arguments.length > 1) ? Array.slice(arguments, 1) : null;
		
		return function(){
			if (!args && !arguments.length) return self.call(bind);
			if (args && arguments.length) return self.apply(bind, args.concat(Array.from(arguments)));
			return self.apply(bind, args || arguments);
		};
	},

	pass: function(args, bind){
		var self = this;
		if (args != null) args = Array.from(args);
		return function(){
			return self.apply(bind, args || arguments);
		};
	},

	delay: function(delay, bind, args){
		return setTimeout(this.pass(args, bind), delay);
	},

	periodical: function(periodical, bind, args){
		return setInterval(this.pass(args, bind), periodical);
	}

});

//<1.2compat>

delete Function.prototype.bind;

Function.implement({

	create: function(options){
		var self = this;
		options = options || {};
		return function(event){
			var args = options.arguments;
			args = (args != null) ? Array.from(args) : Array.slice(arguments, (options.event) ? 1 : 0);
			if (options.event) args = [event || window.event].extend(args);
			var returns = function(){
				return self.apply(options.bind || null, args);
			};
			if (options.delay) return setTimeout(returns, options.delay);
			if (options.periodical) return setInterval(returns, options.periodical);
			if (options.attempt) return Function.attempt(returns);
			return returns();
		};
	},

	bind: function(bind, args){
		var self = this;
		if (args != null) args = Array.from(args);
		return function(){
			return self.apply(bind, args || arguments);
		};
	},

	bindWithEvent: function(bind, args){
		var self = this;
		if (args != null) args = Array.from(args);
		return function(event){
			return self.apply(bind, (args == null) ? arguments : [event].concat(args));
		};
	},

	run: function(args, bind){
		return this.apply(bind, Array.from(args));
	}

});

var $try = Function.attempt;

//</1.2compat>


/*
---

name: Object

description: Object generic methods

license: MIT-style license.

requires: Type

provides: [Object, Hash]

...
*/


Object.extend({

	subset: function(object, keys){
		var results = {};
		for (var i = 0, l = keys.length; i < l; i++){
			var k = keys[i];
			results[k] = object[k];
		}
		return results;
	},

	map: function(object, fn, bind){
		var results = {};
		for (var key in object){
			if (object.hasOwnProperty(key)) results[key] = fn.call(bind, object[key], key, object);
		}
		return results;
	},

	filter: function(object, fn, bind){
		var results = {};
		Object.each(object, function(value, key){
			if (fn.call(bind, value, key, object)) results[key] = value;
		});
		return results;
	},

	every: function(object, fn, bind){
		for (var key in object){
			if (object.hasOwnProperty(key) && !fn.call(bind, object[key], key)) return false;
		}
		return true;
	},

	some: function(object, fn, bind){
		for (var key in object){
			if (object.hasOwnProperty(key) && fn.call(bind, object[key], key)) return true;
		}
		return false;
	},

	keys: function(object){
		var keys = [];
		for (var key in object){
			if (object.hasOwnProperty(key)) keys.push(key);
		}
		return keys;
	},

	values: function(object){
		var values = [];
		for (var key in object){
			if (object.hasOwnProperty(key)) values.push(object[key]);
		}
		return values;
	},

	getLength: function(object){
		return Object.keys(object).length;
	},

	keyOf: function(object, value){
		for (var key in object){
			if (object.hasOwnProperty(key) && object[key] === value) return key;
		}
		return null;
	},

	contains: function(object, value){
		return Object.keyOf(object, value) != null;
	},

	toQueryString: function(object, base){
		var queryString = [];

		Object.each(object, function(value, key){
			if (base) key = base + '[' + key + ']';
			var result;
			switch (typeOf(value)){
				case 'object': result = Object.toQueryString(value, key); break;
				case 'array':
					var qs = {};
					value.each(function(val, i){
						qs[i] = val;
					});
					result = Object.toQueryString(qs, key);
				break;
				default: result = key + '=' + encodeURIComponent(value);
			}
			if (value != null) queryString.push(result);
		});

		return queryString.join('&');
	}

});


//<1.2compat>

Hash.implement({

	has: Object.prototype.hasOwnProperty,

	keyOf: function(value){
		return Object.keyOf(this, value);
	},

	hasValue: function(value){
		return Object.contains(this, value);
	},

	extend: function(properties){
		Hash.each(properties || {}, function(value, key){
			Hash.set(this, key, value);
		}, this);
		return this;
	},

	combine: function(properties){
		Hash.each(properties || {}, function(value, key){
			Hash.include(this, key, value);
		}, this);
		return this;
	},

	erase: function(key){
		if (this.hasOwnProperty(key)) delete this[key];
		return this;
	},

	get: function(key){
		return (this.hasOwnProperty(key)) ? this[key] : null;
	},

	set: function(key, value){
		if (!this[key] || this.hasOwnProperty(key)) this[key] = value;
		return this;
	},

	empty: function(){
		Hash.each(this, function(value, key){
			delete this[key];
		}, this);
		return this;
	},

	include: function(key, value){
		if (this[key] == null) this[key] = value;
		return this;
	},

	map: function(fn, bind){
		return new Hash(Object.map(this, fn, bind));
	},

	filter: function(fn, bind){
		return new Hash(Object.filter(this, fn, bind));
	},

	every: function(fn, bind){
		return Object.every(this, fn, bind);
	},

	some: function(fn, bind){
		return Object.some(this, fn, bind);
	},

	getKeys: function(){
		return Object.keys(this);
	},

	getValues: function(){
		return Object.values(this);
	},

	toQueryString: function(base){
		return Object.toQueryString(this, base);
	}

});

Hash.extend = Object.append;

Hash.alias({indexOf: 'keyOf', contains: 'hasValue'});

//</1.2compat>


/*
---

name: Browser

description: The Browser Object. Contains Browser initialization, Window and Document, and the Browser Hash.

license: MIT-style license.

requires: [Array, Function, Number, String]

provides: [Browser, Window, Document]

...
*/

(function(){

var document = this.document;
var window = document.window = this;

var UID = 1;

this.$uid = (window.ActiveXObject) ? function(item){
	return (item.uid || (item.uid = [UID++]))[0];
} : function(item){
	return item.uid || (item.uid = UID++);
};

$uid(window);
$uid(document);

var ua = navigator.userAgent.toLowerCase(),
	platform = navigator.platform.toLowerCase(),
	UA = ua.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/) || [null, 'unknown', 0],
	mode = UA[1] == 'ie' && document.documentMode;

var Browser = this.Browser = {

	extend: Function.prototype.extend,

	name: (UA[1] == 'version') ? UA[3] : UA[1],

	version: mode || parseFloat((UA[1] == 'opera' && UA[4]) ? UA[4] : UA[2]),

	Platform: {
		name: ua.match(/ip(?:ad|od|hone)/) ? 'ios' : (ua.match(/(?:webos|android)/) || platform.match(/mac|win|linux/) || ['other'])[0]
	},

	Features: {
		xpath: !!(document.evaluate),
		air: !!(window.runtime),
		query: !!(document.querySelector),
		json: !!(window.JSON)
	},

	Plugins: {}

};

Browser[Browser.name] = true;
Browser[Browser.name + parseInt(Browser.version, 10)] = true;
Browser.Platform[Browser.Platform.name] = true;

// Request

Browser.Request = (function(){

	var XMLHTTP = function(){
		return new XMLHttpRequest();
	};

	var MSXML2 = function(){
		return new ActiveXObject('MSXML2.XMLHTTP');
	};

	var MSXML = function(){
		return new ActiveXObject('Microsoft.XMLHTTP');
	};

	return Function.attempt(function(){
		XMLHTTP();
		return XMLHTTP;
	}, function(){
		MSXML2();
		return MSXML2;
	}, function(){
		MSXML();
		return MSXML;
	});

})();

Browser.Features.xhr = !!(Browser.Request);

// Flash detection

var version = (Function.attempt(function(){
	return navigator.plugins['Shockwave Flash'].description;
}, function(){
	return new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version');
}) || '0 r0').match(/\d+/g);

Browser.Plugins.Flash = {
	version: Number(version[0] || '0.' + version[1]) || 0,
	build: Number(version[2]) || 0
};

// String scripts

Browser.exec = function(text){
	if (!text) return text;
	if (window.execScript){
		window.execScript(text);
	} else {
		var script = document.createElement('script');
		script.setAttribute('type', 'text/javascript');
		script.text = text;
		document.head.appendChild(script);
		document.head.removeChild(script);
	}
	return text;
};

String.implement('stripScripts', function(exec){
	var scripts = '';
	var text = this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi, function(all, code){
		scripts += code + '\n';
		return '';
	});
	if (exec === true) Browser.exec(scripts);
	else if (typeOf(exec) == 'function') exec(scripts, text);
	return text;
});

// Window, Document

Browser.extend({
	Document: this.Document,
	Window: this.Window,
	Element: this.Element,
	Event: this.Event
});

this.Window = this.$constructor = new Type('Window', function(){});

this.$family = Function.from('window').hide();

Window.mirror(function(name, method){
	window[name] = method;
});

this.Document = document.$constructor = new Type('Document', function(){});

document.$family = Function.from('document').hide();

Document.mirror(function(name, method){
	document[name] = method;
});

document.html = document.documentElement;
document.head = document.getElementsByTagName('head')[0];

if (document.execCommand) try {
	document.execCommand("BackgroundImageCache", false, true);
} catch (e){}

if (this.attachEvent && !this.addEventListener){
	var unloadEvent = function(){
		this.detachEvent('onunload', unloadEvent);
		document.head = document.html = document.window = null;
	};
	this.attachEvent('onunload', unloadEvent);
}

// IE fails on collections and <select>.options (refers to <select>)
var arrayFrom = Array.from;
try {
	arrayFrom(document.html.childNodes);
} catch(e){
	Array.from = function(item){
		if (typeof item != 'string' && Type.isEnumerable(item) && typeOf(item) != 'array'){
			var i = item.length, array = new Array(i);
			while (i--) array[i] = item[i];
			return array;
		}
		return arrayFrom(item);
	};

	var prototype = Array.prototype,
		slice = prototype.slice;
	['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift', 'concat', 'join', 'slice'].each(function(name){
		var method = prototype[name];
		Array[name] = function(item){
			return method.apply(Array.from(item), slice.call(arguments, 1));
		};
	});
}

//<1.2compat>

if (Browser.Platform.ios) Browser.Platform.ipod = true;

Browser.Engine = {};

var setEngine = function(name, version){
	Browser.Engine.name = name;
	Browser.Engine[name + version] = true;
	Browser.Engine.version = version;
};

if (Browser.ie){
	Browser.Engine.trident = true;

	switch (Browser.version){
		case 6: setEngine('trident', 4); break;
		case 7: setEngine('trident', 5); break;
		case 8: setEngine('trident', 6);
	}
}

if (Browser.firefox){
	Browser.Engine.gecko = true;

	if (Browser.version >= 3) setEngine('gecko', 19);
	else setEngine('gecko', 18);
}

if (Browser.safari || Browser.chrome){
	Browser.Engine.webkit = true;

	switch (Browser.version){
		case 2: setEngine('webkit', 419); break;
		case 3: setEngine('webkit', 420); break;
		case 4: setEngine('webkit', 525);
	}
}

if (Browser.opera){
	Browser.Engine.presto = true;

	if (Browser.version >= 9.6) setEngine('presto', 960);
	else if (Browser.version >= 9.5) setEngine('presto', 950);
	else setEngine('presto', 925);
}

if (Browser.name == 'unknown'){
	switch ((ua.match(/(?:webkit|khtml|gecko)/) || [])[0]){
		case 'webkit':
		case 'khtml':
			Browser.Engine.webkit = true;
		break;
		case 'gecko':
			Browser.Engine.gecko = true;
	}
}

this.$exec = Browser.exec;

//</1.2compat>

})();


/*
---

name: Event

description: Contains the Event Class, to make the event object cross-browser.

license: MIT-style license.

requires: [Window, Document, Array, Function, String, Object]

provides: Event

...
*/

var Event = new Type('Event', function(event, win){
	if (!win) win = window;
	var doc = win.document;
	event = event || win.event;
	if (event.$extended) return event;
	this.$extended = true;
	var type = event.type,
		target = event.target || event.srcElement,
		page = {},
		client = {};
	while (target && target.nodeType == 3) target = target.parentNode;

	if (type.indexOf('key') != -1){
		var code = event.which || event.keyCode;
		var key = Object.keyOf(Event.Keys, code);
		if (type == 'keydown'){
			var fKey = code - 111;
			if (fKey > 0 && fKey < 13) key = 'f' + fKey;
		}
		if (!key) key = String.fromCharCode(code).toLowerCase();
	} else if (type.test(/click|mouse|menu/i)){
		doc = (!doc.compatMode || doc.compatMode == 'CSS1Compat') ? doc.html : doc.body;
		page = {
			x: (event.pageX != null) ? event.pageX : event.clientX + doc.scrollLeft,
			y: (event.pageY != null) ? event.pageY : event.clientY + doc.scrollTop
		};
		client = {
			x: (event.pageX != null) ? event.pageX - win.pageXOffset : event.clientX,
			y: (event.pageY != null) ? event.pageY - win.pageYOffset : event.clientY
		};
		if (type.test(/DOMMouseScroll|mousewheel/)){
			var wheel = (event.wheelDelta) ? event.wheelDelta / 120 : -(event.detail || 0) / 3;
		}
		var rightClick = (event.which == 3) || (event.button == 2),
			related = null;
		if (type.test(/over|out/)){
			related = event.relatedTarget || event[(type == 'mouseover' ? 'from' : 'to') + 'Element'];
			var testRelated = function(){
				while (related && related.nodeType == 3) related = related.parentNode;
				return true;
			};
			var hasRelated = (Browser.firefox2) ? testRelated.attempt() : testRelated();
			related = (hasRelated) ? related : null;
		}
	} else if (type.test(/gesture|touch/i)){
		this.rotation = event.rotation;
		this.scale = event.scale;
		this.targetTouches = event.targetTouches;
		this.changedTouches = event.changedTouches;
		var touches = this.touches = event.touches;
		if (touches && touches[0]){
			var touch = touches[0];
			page = {x: touch.pageX, y: touch.pageY};
			client = {x: touch.clientX, y: touch.clientY};
		}
	}

	return Object.append(this, {
		event: event,
		type: type,

		page: page,
		client: client,
		rightClick: rightClick,

		wheel: wheel,

		relatedTarget: document.id(related),
		target: document.id(target),

		code: code,
		key: key,

		shift: event.shiftKey,
		control: event.ctrlKey,
		alt: event.altKey,
		meta: event.metaKey
	});
});

Event.Keys = {
	'enter': 13,
	'up': 38,
	'down': 40,
	'left': 37,
	'right': 39,
	'esc': 27,
	'space': 32,
	'backspace': 8,
	'tab': 9,
	'delete': 46
};

//<1.2compat>

Event.Keys = new Hash(Event.Keys);

//</1.2compat>

Event.implement({

	stop: function(){
		return this.stopPropagation().preventDefault();
	},

	stopPropagation: function(){
		if (this.event.stopPropagation) this.event.stopPropagation();
		else this.event.cancelBubble = true;
		return this;
	},

	preventDefault: function(){
		if (this.event.preventDefault) this.event.preventDefault();
		else this.event.returnValue = false;
		return this;
	}

});


/*
---

name: Class

description: Contains the Class Function for easily creating, extending, and implementing reusable Classes.

license: MIT-style license.

requires: [Array, String, Function, Number]

provides: Class

...
*/

(function(){

var Class = this.Class = new Type('Class', function(params){
	if (instanceOf(params, Function)) params = {initialize: params};

	var newClass = function(){
		reset(this);
		if (newClass.$prototyping) return this;
		this.$caller = null;
		var value = (this.initialize) ? this.initialize.apply(this, arguments) : this;
		this.$caller = this.caller = null;
		return value;
	}.extend(this).implement(params);

	newClass.$constructor = Class;
	newClass.prototype.$constructor = newClass;
	newClass.prototype.parent = parent;

	return newClass;
});

var parent = function(){
	if (!this.$caller) throw new Error('The method "parent" cannot be called.');
	var name = this.$caller.$name,
		parent = this.$caller.$owner.parent,
		previous = (parent) ? parent.prototype[name] : null;
	if (!previous) throw new Error('The method "' + name + '" has no parent.');
	return previous.apply(this, arguments);
};

var reset = function(object){
	for (var key in object){
		var value = object[key];
		switch (typeOf(value)){
			case 'object':
				var F = function(){};
				F.prototype = value;
				object[key] = reset(new F);
			break;
			case 'array': object[key] = value.clone(); break;
		}
	}
	return object;
};

var wrap = function(self, key, method){
	if (method.$origin) method = method.$origin;
	var wrapper = function(){
		if (method.$protected && this.$caller == null) throw new Error('The method "' + key + '" cannot be called.');
		var caller = this.caller, current = this.$caller;
		this.caller = current; this.$caller = wrapper;
		var result = method.apply(this, arguments);
		this.$caller = current; this.caller = caller;
		return result;
	}.extend({$owner: self, $origin: method, $name: key});
	return wrapper;
};

var implement = function(key, value, retain){
	if (Class.Mutators.hasOwnProperty(key)){
		value = Class.Mutators[key].call(this, value);
		if (value == null) return this;
	}

	if (typeOf(value) == 'function'){
		if (value.$hidden) return this;
		this.prototype[key] = (retain) ? value : wrap(this, key, value);
	} else {
		Object.merge(this.prototype, key, value);
	}

	return this;
};

var getInstance = function(klass){
	klass.$prototyping = true;
	var proto = new klass;
	delete klass.$prototyping;
	return proto;
};

Class.implement('implement', implement.overloadSetter());

Class.Mutators = {

	Extends: function(parent){
		this.parent = parent;
		this.prototype = getInstance(parent);
	},

	Implements: function(items){
		Array.from(items).each(function(item){
			var instance = new item;
			for (var key in instance) implement.call(this, key, instance[key], true);
		}, this);
	}
};

})();


/*
---

name: Class.Extras

description: Contains Utility Classes that can be implemented into your own Classes to ease the execution of many common tasks.

license: MIT-style license.

requires: Class

provides: [Class.Extras, Chain, Events, Options]

...
*/

(function(){

this.Chain = new Class({

	$chain: [],

	chain: function(){
		this.$chain.append(Array.flatten(arguments));
		return this;
	},

	callChain: function(){
		return (this.$chain.length) ? this.$chain.shift().apply(this, arguments) : false;
	},

	clearChain: function(){
		this.$chain.empty();
		return this;
	}

});

var removeOn = function(string){
	return string.replace(/^on([A-Z])/, function(full, first){
		return first.toLowerCase();
	});
};

this.Events = new Class({

	$events: {},

	addEvent: function(type, fn, internal){
		type = removeOn(type);

		/*<1.2compat>*/
		if (fn == $empty) return this;
		/*</1.2compat>*/

		this.$events[type] = (this.$events[type] || []).include(fn);
		if (internal) fn.internal = true;
		return this;
	},

	addEvents: function(events){
		for (var type in events) this.addEvent(type, events[type]);
		return this;
	},

	fireEvent: function(type, args, delay){
		type = removeOn(type);
		var events = this.$events[type];
		if (!events) return this;
		args = Array.from(args);
		events.each(function(fn){
			if (delay) fn.delay(delay, this, args);
			else fn.apply(this, args);
		}, this);
		return this;
	},
	
	removeEvent: function(type, fn){
		type = removeOn(type);
		var events = this.$events[type];
		if (events && !fn.internal){
			var index =  events.indexOf(fn);
			if (index != -1) delete events[index];
		}
		return this;
	},

	removeEvents: function(events){
		var type;
		if (typeOf(events) == 'object'){
			for (type in events) this.removeEvent(type, events[type]);
			return this;
		}
		if (events) events = removeOn(events);
		for (type in this.$events){
			if (events && events != type) continue;
			var fns = this.$events[type];
			for (var i = fns.length; i--;) this.removeEvent(type, fns[i]);
		}
		return this;
	}

});

this.Options = new Class({

	setOptions: function(){
		var options = this.options = Object.merge.apply(null, [{}, this.options].append(arguments));
		if (!this.addEvent) return this;
		for (var option in options){
			if (typeOf(options[option]) != 'function' || !(/^on[A-Z]/).test(option)) continue;
			this.addEvent(option, options[option]);
			delete options[option];
		}
		return this;
	}

});

})();


/*
---
name: Slick.Parser
description: Standalone CSS3 Selector parser
provides: Slick.Parser
...
*/

(function(){

var parsed,
	separatorIndex,
	combinatorIndex,
	reversed,
	cache = {},
	reverseCache = {},
	reUnescape = /\\/g;

var parse = function(expression, isReversed){
	if (expression == null) return null;
	if (expression.Slick === true) return expression;
	expression = ('' + expression).replace(/^\s+|\s+$/g, '');
	reversed = !!isReversed;
	var currentCache = (reversed) ? reverseCache : cache;
	if (currentCache[expression]) return currentCache[expression];
	parsed = {Slick: true, expressions: [], raw: expression, reverse: function(){
		return parse(this.raw, true);
	}};
	separatorIndex = -1;
	while (expression != (expression = expression.replace(regexp, parser)));
	parsed.length = parsed.expressions.length;
	return currentCache[expression] = (reversed) ? reverse(parsed) : parsed;
};

var reverseCombinator = function(combinator){
	if (combinator === '!') return ' ';
	else if (combinator === ' ') return '!';
	else if ((/^!/).test(combinator)) return combinator.replace(/^!/, '');
	else return '!' + combinator;
};

var reverse = function(expression){
	var expressions = expression.expressions;
	for (var i = 0; i < expressions.length; i++){
		var exp = expressions[i];
		var last = {parts: [], tag: '*', combinator: reverseCombinator(exp[0].combinator)};

		for (var j = 0; j < exp.length; j++){
			var cexp = exp[j];
			if (!cexp.reverseCombinator) cexp.reverseCombinator = ' ';
			cexp.combinator = cexp.reverseCombinator;
			delete cexp.reverseCombinator;
		}

		exp.reverse().push(last);
	}
	return expression;
};

var escapeRegExp = function(string){// Credit: XRegExp 0.6.1 (c) 2007-2008 Steven Levithan <http://stevenlevithan.com/regex/xregexp/> MIT License
	return string.replace(/[-[\]{}()*+?.\\^$|,#\s]/g, "\\$&");
};

var regexp = new RegExp(
/*
#!/usr/bin/env ruby
puts "\t\t" + DATA.read.gsub(/\(\?x\)|\s+#.*$|\s+|\\$|\\n/,'')
__END__
	"(?x)^(?:\
	  \\s* ( , ) \\s*               # Separator          \n\
	| \\s* ( <combinator>+ ) \\s*   # Combinator         \n\
	|      ( \\s+ )                 # CombinatorChildren \n\
	|      ( <unicode>+ | \\* )     # Tag                \n\
	| \\#  ( <unicode>+       )     # ID                 \n\
	| \\.  ( <unicode>+       )     # ClassName          \n\
	|                               # Attribute          \n\
	\\[  \
		\\s* (<unicode1>+)  (?:  \
			\\s* ([*^$!~|]?=)  (?:  \
				\\s* (?:\
					([\"']?)(.*?)\\9 \
				)\
			)  \
		)?  \\s*  \
	\\](?!\\]) \n\
	|   :+ ( <unicode>+ )(?:\
	\\( (?:\
		(?:([\"'])([^\\12]*)\\12)|((?:\\([^)]+\\)|[^()]*)+)\
	) \\)\
	)?\
	)"
*/
	"^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|:+(<unicode>+)(?:\\((?:(?:([\"'])([^\\12]*)\\12)|((?:\\([^)]+\\)|[^()]*)+))\\))?)"
	.replace(/<combinator>/, '[' + escapeRegExp(">+~`!@$%^&={}\\;</") + ']')
	.replace(/<unicode>/g, '(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])')
	.replace(/<unicode1>/g, '(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])')
);

function parser(
	rawMatch,

	separator,
	combinator,
	combinatorChildren,

	tagName,
	id,
	className,

	attributeKey,
	attributeOperator,
	attributeQuote,
	attributeValue,

	pseudoClass,
	pseudoQuote,
	pseudoClassQuotedValue,
	pseudoClassValue
){
	if (separator || separatorIndex === -1){
		parsed.expressions[++separatorIndex] = [];
		combinatorIndex = -1;
		if (separator) return '';
	}

	if (combinator || combinatorChildren || combinatorIndex === -1){
		combinator = combinator || ' ';
		var currentSeparator = parsed.expressions[separatorIndex];
		if (reversed && currentSeparator[combinatorIndex])
			currentSeparator[combinatorIndex].reverseCombinator = reverseCombinator(combinator);
		currentSeparator[++combinatorIndex] = {combinator: combinator, tag: '*'};
	}

	var currentParsed = parsed.expressions[separatorIndex][combinatorIndex];

	if (tagName){
		currentParsed.tag = tagName.replace(reUnescape, '');

	} else if (id){
		currentParsed.id = id.replace(reUnescape, '');

	} else if (className){
		className = className.replace(reUnescape, '');

		if (!currentParsed.classList) currentParsed.classList = [];
		if (!currentParsed.classes) currentParsed.classes = [];
		currentParsed.classList.push(className);
		currentParsed.classes.push({
			value: className,
			regexp: new RegExp('(^|\\s)' + escapeRegExp(className) + '(\\s|$)')
		});

	} else if (pseudoClass){
		pseudoClassValue = pseudoClassValue || pseudoClassQuotedValue;
		pseudoClassValue = pseudoClassValue ? pseudoClassValue.replace(reUnescape, '') : null;

		if (!currentParsed.pseudos) currentParsed.pseudos = [];
		currentParsed.pseudos.push({
			key: pseudoClass.replace(reUnescape, ''),
			value: pseudoClassValue
		});

	} else if (attributeKey){
		attributeKey = attributeKey.replace(reUnescape, '');
		attributeValue = (attributeValue || '').replace(reUnescape, '');

		var test, regexp;

		switch (attributeOperator){
			case '^=' : regexp = new RegExp(       '^'+ escapeRegExp(attributeValue)            ); break;
			case '$=' : regexp = new RegExp(            escapeRegExp(attributeValue) +'$'       ); break;
			case '~=' : regexp = new RegExp( '(^|\\s)'+ escapeRegExp(attributeValue) +'(\\s|$)' ); break;
			case '|=' : regexp = new RegExp(       '^'+ escapeRegExp(attributeValue) +'(-|$)'   ); break;
			case  '=' : test = function(value){
				return attributeValue == value;
			}; break;
			case '*=' : test = function(value){
				return value && value.indexOf(attributeValue) > -1;
			}; break;
			case '!=' : test = function(value){
				return attributeValue != value;
			}; break;
			default   : test = function(value){
				return !!value;
			};
		}

		if (attributeValue == '' && (/^[*$^]=$/).test(attributeOperator)) test = function(){
			return false;
		};

		if (!test) test = function(value){
			return value && regexp.test(value);
		};

		if (!currentParsed.attributes) currentParsed.attributes = [];
		currentParsed.attributes.push({
			key: attributeKey,
			operator: attributeOperator,
			value: attributeValue,
			test: test
		});

	}

	return '';
};

// Slick NS

var Slick = (this.Slick || {});

Slick.parse = function(expression){
	return parse(expression);
};

Slick.escapeRegExp = escapeRegExp;

if (!this.Slick) this.Slick = Slick;

}).apply(/*<CommonJS>*/(typeof exports != 'undefined') ? exports : /*</CommonJS>*/this);


/*
---
name: Slick.Finder
description: The new, superfast css selector engine.
provides: Slick.Finder
requires: Slick.Parser
...
*/

(function(){

var local = {};

// Feature / Bug detection

local.isNativeCode = function(fn){
	return (/\{\s*\[native code\]\s*\}/).test('' + fn);
};

local.isXML = function(document){
	return (!!document.xmlVersion) || (!!document.xml) || (Object.prototype.toString.call(document) === '[object XMLDocument]') ||
	(document.nodeType === 9 && document.documentElement.nodeName !== 'HTML');
};

local.setDocument = function(document){

	// convert elements / window arguments to document. if document cannot be extrapolated, the function returns.

	if (document.nodeType === 9); // document
	else if (document.ownerDocument) document = document.ownerDocument; // node
	else if (document.navigator) document = document.document; // window
	else return;

	// check if it's the old document

	if (this.document === document) return;
	this.document = document;
	var root = this.root = document.documentElement;

	this.isXMLDocument = this.isXML(document);

	this.brokenStarGEBTN
	= this.starSelectsClosedQSA
	= this.idGetsName
	= this.brokenMixedCaseQSA
	= this.brokenGEBCN
	= this.brokenCheckedQSA
	= this.brokenEmptyAttributeQSA
	= this.isHTMLDocument
	= false;

	var starSelectsClosed, starSelectsComments,
		brokenSecondClassNameGEBCN, cachedGetElementsByClassName;

	var selected, id;
	var testNode = document.createElement('div');
	root.appendChild(testNode);

	// on non-HTML documents innerHTML and getElementsById doesnt work properly
	try {
		id = 'slick_getbyid_test';
		testNode.innerHTML = '<a id="'+id+'"></a>';
		this.isHTMLDocument = !!document.getElementById(id);
	} catch(e){};

	if (this.isHTMLDocument){
		
		testNode.style.display = 'none';
		
		// IE returns comment nodes for getElementsByTagName('*') for some documents
		testNode.appendChild(document.createComment(''));
		starSelectsComments = (testNode.getElementsByTagName('*').length > 0);

		// IE returns closed nodes (EG:"</foo>") for getElementsByTagName('*') for some documents
		try {
			testNode.innerHTML = 'foo</foo>';
			selected = testNode.getElementsByTagName('*');
			starSelectsClosed = (selected && selected.length && selected[0].nodeName.charAt(0) == '/');
		} catch(e){};

		this.brokenStarGEBTN = starSelectsComments || starSelectsClosed;

		// IE 8 returns closed nodes (EG:"</foo>") for querySelectorAll('*') for some documents
		if (testNode.querySelectorAll) try {
			testNode.innerHTML = 'foo</foo>';
			selected = testNode.querySelectorAll('*');
			this.starSelectsClosedQSA = (selected && selected.length && selected[0].nodeName.charAt(0) == '/');
		} catch(e){};

		// IE returns elements with the name instead of just id for getElementsById for some documents
		try {
			id = 'slick_id_gets_name';
			testNode.innerHTML = '<a name="'+id+'"></a><b id="'+id+'"></b>';
			this.idGetsName = document.getElementById(id) === testNode.firstChild;
		} catch(e){};

		// Safari 3.2 querySelectorAll doesnt work with mixedcase on quirksmode
		try {
			testNode.innerHTML = '<a class="MiXedCaSe"></a>';
			this.brokenMixedCaseQSA = !testNode.querySelectorAll('.MiXedCaSe').length;
		} catch(e){};

		try {
			testNode.innerHTML = '<a class="f"></a><a class="b"></a>';
			testNode.getElementsByClassName('b').length;
			testNode.firstChild.className = 'b';
			cachedGetElementsByClassName = (testNode.getElementsByClassName('b').length != 2);
		} catch(e){};

		// Opera 9.6 getElementsByClassName doesnt detects the class if its not the first one
		try {
			testNode.innerHTML = '<a class="a"></a><a class="f b a"></a>';
			brokenSecondClassNameGEBCN = (testNode.getElementsByClassName('a').length != 2);
		} catch(e){};

		this.brokenGEBCN = cachedGetElementsByClassName || brokenSecondClassNameGEBCN;
		
		// Webkit dont return selected options on querySelectorAll
		try {
			testNode.innerHTML = '<select><option selected="selected">a</option></select>';
			this.brokenCheckedQSA = (testNode.querySelectorAll(':checked').length == 0);
		} catch(e){};
		
		// IE returns incorrect results for attr[*^$]="" selectors on querySelectorAll
		try {
			testNode.innerHTML = '<a class=""></a>';
			this.brokenEmptyAttributeQSA = (testNode.querySelectorAll('[class*=""]').length != 0);
		} catch(e){};
		
	}

	root.removeChild(testNode);
	testNode = null;

	// hasAttribute

	this.hasAttribute = (root && this.isNativeCode(root.hasAttribute)) ? function(node, attribute) {
		return node.hasAttribute(attribute);
	} : function(node, attribute) {
		node = node.getAttributeNode(attribute);
		return !!(node && (node.specified || node.nodeValue));
	};

	// contains
	// FIXME: Add specs: local.contains should be different for xml and html documents?
	this.contains = (root && this.isNativeCode(root.contains)) ? function(context, node){
		return context.contains(node);
	} : (root && root.compareDocumentPosition) ? function(context, node){
		return context === node || !!(context.compareDocumentPosition(node) & 16);
	} : function(context, node){
		if (node) do {
			if (node === context) return true;
		} while ((node = node.parentNode));
		return false;
	};

	// document order sorting
	// credits to Sizzle (http://sizzlejs.com/)

	this.documentSorter = (root.compareDocumentPosition) ? function(a, b){
		if (!a.compareDocumentPosition || !b.compareDocumentPosition) return 0;
		return a.compareDocumentPosition(b) & 4 ? -1 : a === b ? 0 : 1;
	} : ('sourceIndex' in root) ? function(a, b){
		if (!a.sourceIndex || !b.sourceIndex) return 0;
		return a.sourceIndex - b.sourceIndex;
	} : (document.createRange) ? function(a, b){
		if (!a.ownerDocument || !b.ownerDocument) return 0;
		var aRange = a.ownerDocument.createRange(), bRange = b.ownerDocument.createRange();
		aRange.setStart(a, 0);
		aRange.setEnd(a, 0);
		bRange.setStart(b, 0);
		bRange.setEnd(b, 0);
		return aRange.compareBoundaryPoints(Range.START_TO_END, bRange);
	} : null ;

	this.getUID = (this.isHTMLDocument) ? this.getUIDHTML : this.getUIDXML;

};

// Main Method

local.search = function(context, expression, append, first){

	var found = this.found = (first) ? null : (append || []);

	// context checks

	if (!context) return found; // No context
	if (context.navigator) context = context.document; // Convert the node from a window to a document
	else if (!context.nodeType) return found; // Reject misc junk input

	// setup

	var parsed, i;

	var uniques = this.uniques = {};

	if (this.document !== (context.ownerDocument || context)) this.setDocument(context);

	// should sort if there are nodes in append and if you pass multiple expressions.
	// should remove duplicates if append already has items
	var shouldUniques = !!(append && append.length);

	// avoid duplicating items already in the append array
	if (shouldUniques) for (i = found.length; i--;) this.uniques[this.getUID(found[i])] = true;

	// expression checks

	if (typeof expression == 'string'){ // expression is a string

		// Overrides

		for (i = this.overrides.length; i--;){
			var override = this.overrides[i];
			if (override.regexp.test(expression)){
				var result = override.method.call(context, expression, found, first);
				if (result === false) continue;
				if (result === true) return found;
				return result;
			}
		}

		parsed = this.Slick.parse(expression);
		if (!parsed.length) return found;
	} else if (expression == null){ // there is no expression
		return found;
	} else if (expression.Slick){ // expression is a parsed Slick object
		parsed = expression;
	} else if (this.contains(context.documentElement || context, expression)){ // expression is a node
		(found) ? found.push(expression) : found = expression;
		return found;
	} else { // other junk
		return found;
	}

	// cache elements for the nth selectors

	/*<pseudo-selectors>*//*<nth-pseudo-selectors>*/

	this.posNTH = {};
	this.posNTHLast = {};
	this.posNTHType = {};
	this.posNTHTypeLast = {};

	/*</nth-pseudo-selectors>*//*</pseudo-selectors>*/

	// if append is null and there is only a single selector with one expression use pushArray, else use pushUID
	this.push = (!shouldUniques && (first || (parsed.length == 1 && parsed.expressions[0].length == 1))) ? this.pushArray : this.pushUID;

	if (found == null) found = [];

	// default engine

	var j, m, n;
	var combinator, tag, id, classList, classes, attributes, pseudos;
	var currentItems, currentExpression, currentBit, lastBit, expressions = parsed.expressions;

	search: for (i = 0; (currentExpression = expressions[i]); i++) for (j = 0; (currentBit = currentExpression[j]); j++){

		combinator = 'combinator:' + currentBit.combinator;
		if (!this[combinator]) continue search;

		tag        = (this.isXMLDocument) ? currentBit.tag : currentBit.tag.toUpperCase();
		id         = currentBit.id;
		classList  = currentBit.classList;
		classes    = currentBit.classes;
		attributes = currentBit.attributes;
		pseudos    = currentBit.pseudos;
		lastBit    = (j === (currentExpression.length - 1));

		this.bitUniques = {};

		if (lastBit){
			this.uniques = uniques;
			this.found = found;
		} else {
			this.uniques = {};
			this.found = [];
		}

		if (j === 0){
			this[combinator](context, tag, id, classes, attributes, pseudos, classList);
			if (first && lastBit && found.length) break search;
		} else {
			if (first && lastBit) for (m = 0, n = currentItems.length; m < n; m++){
				this[combinator](currentItems[m], tag, id, classes, attributes, pseudos, classList);
				if (found.length) break search;
			} else for (m = 0, n = currentItems.length; m < n; m++) this[combinator](currentItems[m], tag, id, classes, attributes, pseudos, classList);
		}

		currentItems = this.found;
	}

	if (shouldUniques || (parsed.expressions.length > 1)) this.sort(found);

	return (first) ? (found[0] || null) : found;
};

// Utils

local.uidx = 1;
local.uidk = 'slick:uniqueid';

local.getUIDXML = function(node){
	var uid = node.getAttribute(this.uidk);
	if (!uid){
		uid = this.uidx++;
		node.setAttribute(this.uidk, uid);
	}
	return uid;
};

local.getUIDHTML = function(node){
	return node.uniqueNumber || (node.uniqueNumber = this.uidx++);
};

// sort based on the setDocument documentSorter method.

local.sort = function(results){
	if (!this.documentSorter) return results;
	results.sort(this.documentSorter);
	return results;
};

/*<pseudo-selectors>*//*<nth-pseudo-selectors>*/

local.cacheNTH = {};

local.matchNTH = /^([+-]?\d*)?([a-z]+)?([+-]\d+)?$/;

local.parseNTHArgument = function(argument){
	var parsed = argument.match(this.matchNTH);
	if (!parsed) return false;
	var special = parsed[2] || false;
	var a = parsed[1] || 1;
	if (a == '-') a = -1;
	var b = +parsed[3] || 0;
	parsed =
		(special == 'n')	? {a: a, b: b} :
		(special == 'odd')	? {a: 2, b: 1} :
		(special == 'even')	? {a: 2, b: 0} : {a: 0, b: a};

	return (this.cacheNTH[argument] = parsed);
};

local.createNTHPseudo = function(child, sibling, positions, ofType){
	return function(node, argument){
		var uid = this.getUID(node);
		if (!this[positions][uid]){
			var parent = node.parentNode;
			if (!parent) return false;
			var el = parent[child], count = 1;
			if (ofType){
				var nodeName = node.nodeName;
				do {
					if (el.nodeName !== nodeName) continue;
					this[positions][this.getUID(el)] = count++;
				} while ((el = el[sibling]));
			} else {
				do {
					if (el.nodeType !== 1) continue;
					this[positions][this.getUID(el)] = count++;
				} while ((el = el[sibling]));
			}
		}
		argument = argument || 'n';
		var parsed = this.cacheNTH[argument] || this.parseNTHArgument(argument);
		if (!parsed) return false;
		var a = parsed.a, b = parsed.b, pos = this[positions][uid];
		if (a == 0) return b == pos;
		if (a > 0){
			if (pos < b) return false;
		} else {
			if (b < pos) return false;
		}
		return ((pos - b) % a) == 0;
	};
};

/*</nth-pseudo-selectors>*//*</pseudo-selectors>*/

local.pushArray = function(node, tag, id, classes, attributes, pseudos){
	if (this.matchSelector(node, tag, id, classes, attributes, pseudos)) this.found.push(node);
};

local.pushUID = function(node, tag, id, classes, attributes, pseudos){
	var uid = this.getUID(node);
	if (!this.uniques[uid] && this.matchSelector(node, tag, id, classes, attributes, pseudos)){
		this.uniques[uid] = true;
		this.found.push(node);
	}
};

local.matchNode = function(node, selector){
	var parsed = this.Slick.parse(selector);
	if (!parsed) return true;

	// simple (single) selectors
	if(parsed.length == 1 && parsed.expressions[0].length == 1){
		var exp = parsed.expressions[0][0];
		return this.matchSelector(node, (this.isXMLDocument) ? exp.tag : exp.tag.toUpperCase(), exp.id, exp.classes, exp.attributes, exp.pseudos);
	}

	var nodes = this.search(this.document, parsed);
	for (var i = 0, item; item = nodes[i++];){
		if (item === node) return true;
	}
	return false;
};

local.matchPseudo = function(node, name, argument){
	var pseudoName = 'pseudo:' + name;
	if (this[pseudoName]) return this[pseudoName](node, argument);
	var attribute = this.getAttribute(node, name);
	return (argument) ? argument == attribute : !!attribute;
};

local.matchSelector = function(node, tag, id, classes, attributes, pseudos){
	if (tag){
		if (tag == '*'){
			if (node.nodeName < '@') return false; // Fix for comment nodes and closed nodes
		} else {
			if (node.nodeName != tag) return false;
		}
	}

	if (id && node.getAttribute('id') != id) return false;

	var i, part, cls;
	if (classes) for (i = classes.length; i--;){
		cls = ('className' in node) ? node.className : node.getAttribute('class');
		if (!(cls && classes[i].regexp.test(cls))) return false;
	}
	if (attributes) for (i = attributes.length; i--;){
		part = attributes[i];
		if (part.operator ? !part.test(this.getAttribute(node, part.key)) : !this.hasAttribute(node, part.key)) return false;
	}
	if (pseudos) for (i = pseudos.length; i--;){
		part = pseudos[i];
		if (!this.matchPseudo(node, part.key, part.value)) return false;
	}
	return true;
};

var combinators = {

	' ': function(node, tag, id, classes, attributes, pseudos, classList){ // all child nodes, any level

		var i, item, children;

		if (this.isHTMLDocument){
			getById: if (id){
				item = this.document.getElementById(id);
				if ((!item && node.all) || (this.idGetsName && item && item.getAttributeNode('id').nodeValue != id)){
					// all[id] returns all the elements with that name or id inside node
					// if theres just one it will return the element, else it will be a collection
					children = node.all[id];
					if (!children) return;
					if (!children[0]) children = [children];
					for (i = 0; item = children[i++];) if (item.getAttributeNode('id').nodeValue == id){
						this.push(item, tag, null, classes, attributes, pseudos);
						break;
					} 
					return;
				}
				if (!item){
					// if the context is in the dom we return, else we will try GEBTN, breaking the getById label
					if (this.contains(this.document.documentElement, node)) return;
					else break getById;
				} else if (this.document !== node && !this.contains(node, item)) return;
				this.push(item, tag, null, classes, attributes, pseudos);
				return;
			}
			getByClass: if (classes && node.getElementsByClassName && !this.brokenGEBCN){
				children = node.getElementsByClassName(classList.join(' '));
				if (!(children && children.length)) break getByClass;
				for (i = 0; item = children[i++];) this.push(item, tag, id, null, attributes, pseudos);
				return;
			}
		}
		getByTag: {
			children = node.getElementsByTagName(tag);
			if (!(children && children.length)) break getByTag;
			if (!this.brokenStarGEBTN) tag = null;
			for (i = 0; item = children[i++];) this.push(item, tag, id, classes, attributes, pseudos);
		}
	},

	'>': function(node, tag, id, classes, attributes, pseudos){ // direct children
		if ((node = node.firstChild)) do {
			if (node.nodeType === 1) this.push(node, tag, id, classes, attributes, pseudos);
		} while ((node = node.nextSibling));
	},

	'+': function(node, tag, id, classes, attributes, pseudos){ // next sibling
		while ((node = node.nextSibling)) if (node.nodeType === 1){
			this.push(node, tag, id, classes, attributes, pseudos);
			break;
		}
	},

	'^': function(node, tag, id, classes, attributes, pseudos){ // first child
		node = node.firstChild;
		if (node){
			if (node.nodeType === 1) this.push(node, tag, id, classes, attributes, pseudos);
			else this['combinator:+'](node, tag, id, classes, attributes, pseudos);
		}
	},

	'~': function(node, tag, id, classes, attributes, pseudos){ // next siblings
		while ((node = node.nextSibling)){
			if (node.nodeType !== 1) continue;
			var uid = this.getUID(node);
			if (this.bitUniques[uid]) break;
			this.bitUniques[uid] = true;
			this.push(node, tag, id, classes, attributes, pseudos);
		}
	},

	'++': function(node, tag, id, classes, attributes, pseudos){ // next sibling and previous sibling
		this['combinator:+'](node, tag, id, classes, attributes, pseudos);
		this['combinator:!+'](node, tag, id, classes, attributes, pseudos);
	},

	'~~': function(node, tag, id, classes, attributes, pseudos){ // next siblings and previous siblings
		this['combinator:~'](node, tag, id, classes, attributes, pseudos);
		this['combinator:!~'](node, tag, id, classes, attributes, pseudos);
	},

	'!': function(node, tag, id, classes, attributes, pseudos){  // all parent nodes up to document
		while ((node = node.parentNode)) if (node !== this.document) this.push(node, tag, id, classes, attributes, pseudos);
	},

	'!>': function(node, tag, id, classes, attributes, pseudos){ // direct parent (one level)
		node = node.parentNode;
		if (node !== this.document) this.push(node, tag, id, classes, attributes, pseudos);
	},

	'!+': function(node, tag, id, classes, attributes, pseudos){ // previous sibling
		while ((node = node.previousSibling)) if (node.nodeType === 1){
			this.push(node, tag, id, classes, attributes, pseudos);
			break;
		}
	},

	'!^': function(node, tag, id, classes, attributes, pseudos){ // last child
		node = node.lastChild;
		if (node){
			if (node.nodeType === 1) this.push(node, tag, id, classes, attributes, pseudos);
			else this['combinator:!+'](node, tag, id, classes, attributes, pseudos);
		}
	},

	'!~': function(node, tag, id, classes, attributes, pseudos){ // previous siblings
		while ((node = node.previousSibling)){
			if (node.nodeType !== 1) continue;
			var uid = this.getUID(node);
			if (this.bitUniques[uid]) break;
			this.bitUniques[uid] = true;
			this.push(node, tag, id, classes, attributes, pseudos);
		}
	}

};

for (var c in combinators) local['combinator:' + c] = combinators[c];

var pseudos = {

	/*<pseudo-selectors>*/

	'empty': function(node){
		var child = node.firstChild;
		return !(child && child.nodeType == 1) && !(node.innerText || node.textContent || '').length;
	},

	'not': function(node, expression){
		return !this.matchNode(node, expression);
	},

	'contains': function(node, text){
		return (node.innerText || node.textContent || '').indexOf(text) > -1;
	},

	'first-child': function(node){
		while ((node = node.previousSibling)) if (node.nodeType === 1) return false;
		return true;
	},

	'last-child': function(node){
		while ((node = node.nextSibling)) if (node.nodeType === 1) return false;
		return true;
	},

	'only-child': function(node){
		var prev = node;
		while ((prev = prev.previousSibling)) if (prev.nodeType === 1) return false;
		var next = node;
		while ((next = next.nextSibling)) if (next.nodeType === 1) return false;
		return true;
	},

	/*<nth-pseudo-selectors>*/

	'nth-child': local.createNTHPseudo('firstChild', 'nextSibling', 'posNTH'),

	'nth-last-child': local.createNTHPseudo('lastChild', 'previousSibling', 'posNTHLast'),

	'nth-of-type': local.createNTHPseudo('firstChild', 'nextSibling', 'posNTHType', true),

	'nth-last-of-type': local.createNTHPseudo('lastChild', 'previousSibling', 'posNTHTypeLast', true),

	'index': function(node, index){
		return this['pseudo:nth-child'](node, '' + index + 1);
	},

	'even': function(node, argument){
		return this['pseudo:nth-child'](node, '2n');
	},

	'odd': function(node, argument){
		return this['pseudo:nth-child'](node, '2n+1');
	},

	/*</nth-pseudo-selectors>*/

	/*<of-type-pseudo-selectors>*/

	'first-of-type': function(node){
		var nodeName = node.nodeName;
		while ((node = node.previousSibling)) if (node.nodeName === nodeName) return false;
		return true;
	},

	'last-of-type': function(node){
		var nodeName = node.nodeName;
		while ((node = node.nextSibling)) if (node.nodeName === nodeName) return false;
		return true;
	},

	'only-of-type': function(node){
		var prev = node, nodeName = node.nodeName;
		while ((prev = prev.previousSibling)) if (prev.nodeName === nodeName) return false;
		var next = node;
		while ((next = next.nextSibling)) if (next.nodeName === nodeName) return false;
		return true;
	},

	/*</of-type-pseudo-selectors>*/

	// custom pseudos

	'enabled': function(node){
		return (node.disabled === false);
	},

	'disabled': function(node){
		return (node.disabled === true);
	},

	'checked': function(node){
		return node.checked || node.selected;
	},

	'focus': function(node){
		return this.isHTMLDocument && this.document.activeElement === node && (node.href || node.type || this.hasAttribute(node, 'tabindex'));
	},

	'root': function(node){
		return (node === this.root);
	},
	
	'selected': function(node){
		return node.selected;
	}

	/*</pseudo-selectors>*/
};

for (var p in pseudos) local['pseudo:' + p] = pseudos[p];

// attributes methods

local.attributeGetters = {

	'class': function(){
		return ('className' in this) ? this.className : this.getAttribute('class');
	},

	'for': function(){
		return ('htmlFor' in this) ? this.htmlFor : this.getAttribute('for');
	},

	'href': function(){
		return ('href' in this) ? this.getAttribute('href', 2) : this.getAttribute('href');
	},

	'style': function(){
		return (this.style) ? this.style.cssText : this.getAttribute('style');
	}

};

local.getAttribute = function(node, name){
	// FIXME: check if getAttribute() will get input elements on a form on this browser
	// getAttribute is faster than getAttributeNode().nodeValue
	var method = this.attributeGetters[name];
	if (method) return method.call(node);
	var attributeNode = node.getAttributeNode(name);
	return attributeNode ? attributeNode.nodeValue : null;
};

// overrides

local.overrides = [];

local.override = function(regexp, method){
	this.overrides.push({regexp: regexp, method: method});
};

/*<overrides>*/

/*<query-selector-override>*/

var reEmptyAttribute = /\[.*[*$^]=(?:["']{2})?\]/;

local.override(/./, function(expression, found, first){ //querySelectorAll override

	if (!this.querySelectorAll || this.nodeType != 9 || !local.isHTMLDocument || local.brokenMixedCaseQSA ||
	(local.brokenCheckedQSA && expression.indexOf(':checked') > -1) ||
	(local.brokenEmptyAttributeQSA && reEmptyAttribute.test(expression)) || Slick.disableQSA) return false;

	var nodes, node;
	try {
		if (first) return this.querySelector(expression) || null;
		else nodes = this.querySelectorAll(expression);
	} catch(error){
		return false;
	}

	var i, hasOthers = !!(found.length);

	if (local.starSelectsClosedQSA) for (i = 0; node = nodes[i++];){
		if (node.nodeName > '@' && (!hasOthers || !local.uniques[local.getUIDHTML(node)])) found.push(node);
	} else for (i = 0; node = nodes[i++];){
		if (!hasOthers || !local.uniques[local.getUIDHTML(node)]) found.push(node);
	}

	if (hasOthers) local.sort(found);

	return true;

});

/*</query-selector-override>*/

/*<tag-override>*/

local.override(/^[\w-]+$|^\*$/, function(expression, found, first){ // tag override
	var tag = expression;
	if (tag == '*' && local.brokenStarGEBTN) return false;

	var nodes = this.getElementsByTagName(tag);

	if (first) return nodes[0] || null;
	var i, node, hasOthers = !!(found.length);

	for (i = 0; node = nodes[i++];){
		if (!hasOthers || !local.uniques[local.getUID(node)]) found.push(node);
	}

	if (hasOthers) local.sort(found);

	return true;
});

/*</tag-override>*/

/*<class-override>*/

local.override(/^\.[\w-]+$/, function(expression, found, first){ // class override
	if (!local.isHTMLDocument || (!this.getElementsByClassName && this.querySelectorAll)) return false;

	var nodes, node, i, hasOthers = !!(found && found.length), className = expression.substring(1);
	if (this.getElementsByClassName && !local.brokenGEBCN){
		nodes = this.getElementsByClassName(className);
		if (first) return nodes[0] || null;
		for (i = 0; node = nodes[i++];){
			if (!hasOthers || !local.uniques[local.getUIDHTML(node)]) found.push(node);
		}
	} else {
		var matchClass = new RegExp('(^|\\s)'+ Slick.escapeRegExp(className) +'(\\s|$)');
		nodes = this.getElementsByTagName('*');
		for (i = 0; node = nodes[i++];){
			className = node.className;
			if (!className || !matchClass.test(className)) continue;
			if (first) return node;
			if (!hasOthers || !local.uniques[local.getUIDHTML(node)]) found.push(node);
		}
	}
	if (hasOthers) local.sort(found);
	return (first) ? null : true;
});

/*</class-override>*/

/*<id-override>*/

local.override(/^#[\w-]+$/, function(expression, found, first){ // ID override
	if (!local.isHTMLDocument || this.nodeType != 9) return false;

	var id = expression.substring(1), el = this.getElementById(id);
	if (!el) return found;
	if (local.idGetsName && el.getAttributeNode('id').nodeValue != id) return false;
	if (first) return el || null;
	var hasOthers = !!(found.length);
	if (!hasOthers || !local.uniques[local.getUIDHTML(el)]) found.push(el);
	if (hasOthers) local.sort(found);
	return true;
});

/*</id-override>*/

/*</overrides>*/

if (typeof document != 'undefined') local.setDocument(document);

// Slick

var Slick = local.Slick = (this.Slick || {});

Slick.version = '0.9dev';

// Slick finder

Slick.search = function(context, expression, append){
	return local.search(context, expression, append);
};

Slick.find = function(context, expression){
	return local.search(context, expression, null, true);
};

// Slick containment checker

Slick.contains = function(container, node){
	local.setDocument(container);
	return local.contains(container, node);
};

// Slick attribute getter

Slick.getAttribute = function(node, name){
	return local.getAttribute(node, name);
};

// Slick matcher

Slick.match = function(node, selector){
	if (!(node && selector)) return false;
	if (!selector || selector === node) return true;
	if (typeof selector != 'string') return false;
	local.setDocument(node);
	return local.matchNode(node, selector);
};

// Slick attribute accessor

Slick.defineAttributeGetter = function(name, fn){
	local.attributeGetters[name] = fn;
	return this;
};

Slick.lookupAttributeGetter = function(name){
	return local.attributeGetters[name];
};

// Slick pseudo accessor

Slick.definePseudo = function(name, fn){
	local['pseudo:' + name] = function(node, argument){
		return fn.call(node, argument);
	};
	return this;
};

Slick.lookupPseudo = function(name){
	var pseudo = local['pseudo:' + name];
	if (pseudo) return function(argument){
		return pseudo.call(this, argument);
	};
	return null;
};

// Slick overrides accessor

Slick.override = function(regexp, fn){
	local.override(regexp, fn);
	return this;
};

Slick.isXML = local.isXML;

Slick.uidOf = function(node){
	return local.getUIDHTML(node);
};

if (!this.Slick) this.Slick = Slick;

}).apply(/*<CommonJS>*/(typeof exports != 'undefined') ? exports : /*</CommonJS>*/this);


/*
---

name: Element

description: One of the most important items in MooTools. Contains the dollar function, the dollars function, and an handful of cross-browser, time-saver methods to let you easily work with HTML Elements.

license: MIT-style license.

requires: [Window, Document, Array, String, Function, Number, Slick.Parser, Slick.Finder]

provides: [Element, Elements, $, $$, Iframe, Selectors]

...
*/

var Element = function(tag, props){
	var konstructor = Element.Constructors[tag];
	if (konstructor) return konstructor(props);
	if (typeof tag != 'string') return document.id(tag).set(props);

	if (!props) props = {};

	if (!tag.test(/^[\w-]+$/)){
		var parsed = Slick.parse(tag).expressions[0][0];
		tag = (parsed.tag == '*') ? 'div' : parsed.tag;
		if (parsed.id && props.id == null) props.id = parsed.id;

		var attributes = parsed.attributes;
		if (attributes) for (var i = 0, l = attributes.length; i < l; i++){
			var attr = attributes[i];
			if (attr.value != null && attr.operator == '=' && props[attr.key] == null)
				props[attr.key] = attr.value;
		}

		if (parsed.classList && props['class'] == null) props['class'] = parsed.classList.join(' ');
	}

	return document.newElement(tag, props);
};

if (Browser.Element) Element.prototype = Browser.Element.prototype;

new Type('Element', Element).mirror(function(name){
	if (Array.prototype[name]) return;

	var obj = {};
	obj[name] = function(){
		var results = [], args = arguments, elements = true;
		for (var i = 0, l = this.length; i < l; i++){
			var element = this[i], result = results[i] = element[name].apply(element, args);
			elements = (elements && typeOf(result) == 'element');
		}
		return (elements) ? new Elements(results) : results;
	};

	Elements.implement(obj);
});

if (!Browser.Element){
	Element.parent = Object;

	Element.Prototype = {'$family': Function.from('element').hide()};

	Element.mirror(function(name, method){
		Element.Prototype[name] = method;
	});
}

Element.Constructors = {};

//<1.2compat>

Element.Constructors = new Hash;

//</1.2compat>

var IFrame = new Type('IFrame', function(){
	var params = Array.link(arguments, {
		properties: Type.isObject,
		iframe: function(obj){
			return (obj != null);
		}
	});

	var props = params.properties || {}, iframe;
	if (params.iframe) iframe = document.id(params.iframe);
	var onload = props.onload || function(){};
	delete props.onload;
	props.id = props.name = [props.id, props.name, iframe ? (iframe.id || iframe.name) : 'IFrame_' + String.uniqueID()].pick();
	iframe = new Element(iframe || 'iframe', props);

	var onLoad = function(){
		onload.call(iframe.contentWindow);
	};
	
	if (window.frames[props.id]) onLoad();
	else iframe.addListener('load', onLoad);
	return iframe;
});

var Elements = this.Elements = function(nodes){
	if (nodes && nodes.length){
		var uniques = {}, node;
		for (var i = 0; node = nodes[i++];){
			var uid = Slick.uidOf(node);
			if (!uniques[uid]){
				uniques[uid] = true;
				this.push(node);
			}
		}
	}
};

Elements.prototype = {length: 0};
Elements.parent = Array;

new Type('Elements', Elements).implement({

	filter: function(filter, bind){
		if (!filter) return this;
		return new Elements(Array.filter(this, (typeOf(filter) == 'string') ? function(item){
			return item.match(filter);
		} : filter, bind));
	}.protect(),

	push: function(){
		var length = this.length;
		for (var i = 0, l = arguments.length; i < l; i++){
			var item = document.id(arguments[i]);
			if (item) this[length++] = item;
		}
		return (this.length = length);
	}.protect(),

	concat: function(){
		var newElements = new Elements(this);
		for (var i = 0, l = arguments.length; i < l; i++){
			var item = arguments[i];
			if (Type.isEnumerable(item)) newElements.append(item);
			else newElements.push(item);
		}
		return newElements;
	}.protect(),

	append: function(collection){
		for (var i = 0, l = collection.length; i < l; i++) this.push(collection[i]);
		return this;
	}.protect(),

	empty: function(){
		while (this.length) delete this[--this.length];
		return this;
	}.protect()

});

(function(){

// FF, IE
var splice = Array.prototype.splice, object = {'0': 0, '1': 1, length: 2};

splice.call(object, 1, 1);
if (object[1] == 1) Elements.implement('splice', function(){
	var length = this.length;
	splice.apply(this, arguments);
	while (length >= this.length) delete this[length--];
	return this;
}.protect());

Elements.implement(Array.prototype);

Array.mirror(Elements);

/*<ltIE8>*/
var createElementAcceptsHTML;
try {
	var x = document.createElement('<input name=x>');
	createElementAcceptsHTML = (x.name == 'x');
} catch(e){}

var escapeQuotes = function(html){
	return ('' + html).replace(/&/g, '&amp;').replace(/"/g, '&quot;');
};
/*</ltIE8>*/

Document.implement({

	newElement: function(tag, props){
		if (props && props.checked != null) props.defaultChecked = props.checked;
		/*<ltIE8>*/// Fix for readonly name and type properties in IE < 8
		if (createElementAcceptsHTML && props){
			tag = '<' + tag;
			if (props.name) tag += ' name="' + escapeQuotes(props.name) + '"';
			if (props.type) tag += ' type="' + escapeQuotes(props.type) + '"';
			tag += '>';
			delete props.name;
			delete props.type;
		}
		/*</ltIE8>*/
		return this.id(this.createElement(tag)).set(props);
	}

});

})();

Document.implement({

	newTextNode: function(text){
		return this.createTextNode(text);
	},

	getDocument: function(){
		return this;
	},

	getWindow: function(){
		return this.window;
	},

	id: (function(){

		var types = {

			string: function(id, nocash, doc){
				id = Slick.find(doc, '#' + id.replace(/(\W)/g, '\\$1'));
				return (id) ? types.element(id, nocash) : null;
			},

			element: function(el, nocash){
				$uid(el);
				if (!nocash && !el.$family && !(/^object|embed$/i).test(el.tagName)){
					Object.append(el, Element.Prototype);
				}
				return el;
			},

			object: function(obj, nocash, doc){
				if (obj.toElement) return types.element(obj.toElement(doc), nocash);
				return null;
			}

		};

		types.textnode = types.whitespace = types.window = types.document = function(zero){
			return zero;
		};

		return function(el, nocash, doc){
			if (el && el.$family && el.uid) return el;
			var type = typeOf(el);
			return (types[type]) ? types[type](el, nocash, doc || document) : null;
		};

	})()

});

if (window.$ == null) Window.implement('$', function(el, nc){
	return document.id(el, nc, this.document);
});

Window.implement({

	getDocument: function(){
		return this.document;
	},

	getWindow: function(){
		return this;
	}

});

[Document, Element].invoke('implement', {

	getElements: function(expression){
		return Slick.search(this, expression, new Elements);
	},

	getElement: function(expression){
		return document.id(Slick.find(this, expression));
	}

});

//<1.2compat>

(function(search, find, match){

	this.Selectors = {};
	var pseudos = this.Selectors.Pseudo = new Hash();

	var addSlickPseudos = function(){
		for (var name in pseudos) if (pseudos.hasOwnProperty(name)){
			Slick.definePseudo(name, pseudos[name]);
			delete pseudos[name];
		}
	};

	Slick.search = function(context, expression, append){
		addSlickPseudos();
		return search.call(this, context, expression, append);
	};

	Slick.find = function(context, expression){
		addSlickPseudos();
		return find.call(this, context, expression);
	};

	Slick.match = function(node, selector){
		addSlickPseudos();
		return match.call(this, node, selector);
	};

})(Slick.search, Slick.find, Slick.match);

if (window.$$ == null) Window.implement('$$', function(selector){
	var elements = new Elements;
	if (arguments.length == 1 && typeof selector == 'string') return Slick.search(this.document, selector, elements);
	var args = Array.flatten(arguments);
	for (var i = 0, l = args.length; i < l; i++){
		var item = args[i];
		switch (typeOf(item)){
			case 'element': elements.push(item); break;
			case 'string': Slick.search(this.document, item, elements);
		}
	}
	return elements;
});

//</1.2compat>

if (window.$$ == null) Window.implement('$$', function(selector){
	if (arguments.length == 1){
		if (typeof selector == 'string') return Slick.search(this.document, selector, new Elements);
		else if (Type.isEnumerable(selector)) return new Elements(selector);
	}
	return new Elements(arguments);
});

(function(){

var collected = {}, storage = {};
var props = {input: 'checked', option: 'selected', textarea: 'value'};

var get = function(uid){
	return (storage[uid] || (storage[uid] = {}));
};

var clean = function(item){
	if (item.removeEvents) item.removeEvents();
	if (item.clearAttributes) item.clearAttributes();
	var uid = item.uid;
	if (uid != null){
		delete collected[uid];
		delete storage[uid];
	}
	return item;
};

var camels = ['defaultValue', 'accessKey', 'cellPadding', 'cellSpacing', 'colSpan', 'frameBorder', 'maxLength', 'readOnly',
	'rowSpan', 'tabIndex', 'useMap'
];
var bools = ['compact', 'nowrap', 'ismap', 'declare', 'noshade', 'checked', 'disabled', 'readOnly', 'multiple', 'selected',
	'noresize', 'defer'
];
 var attributes = {
	'html': 'innerHTML',
	'class': 'className',
	'for': 'htmlFor',
	'text': (function(){
		var temp = document.createElement('div');
		return (temp.innerText == null) ? 'textContent' : 'innerText';
	})()
};
var readOnly = ['type'];
var expandos = ['value', 'defaultValue'];
var uriAttrs = /^(?:href|src|usemap)$/i;

bools = bools.associate(bools);
camels = camels.associate(camels.map(String.toLowerCase));
readOnly = readOnly.associate(readOnly);

Object.append(attributes, expandos.associate(expandos));

var inserters = {

	before: function(context, element){
		var parent = element.parentNode;
		if (parent) parent.insertBefore(context, element);
	},

	after: function(context, element){
		var parent = element.parentNode;
		if (parent) parent.insertBefore(context, element.nextSibling);
	},

	bottom: function(context, element){
		element.appendChild(context);
	},

	top: function(context, element){
		element.insertBefore(context, element.firstChild);
	}

};

inserters.inside = inserters.bottom;

//<1.2compat>

Object.each(inserters, function(inserter, where){

	where = where.capitalize();

	var methods = {};

	methods['inject' + where] = function(el){
		inserter(this, document.id(el, true));
		return this;
	};

	methods['grab' + where] = function(el){
		inserter(document.id(el, true), this);
		return this;
	};

	Element.implement(methods);

});

//</1.2compat>

var injectCombinator = function(expression, combinator){
	if (!expression) return combinator;

	expression = Slick.parse(expression);

	var expressions = expression.expressions;
	for (var i = expressions.length; i--;)
		expressions[i][0].combinator = combinator;

	return expression;
};

Element.implement({

	set: function(prop, value){
		var property = Element.Properties[prop];
		(property && property.set) ? property.set.call(this, value) : this.setProperty(prop, value);
	}.overloadSetter(),

	get: function(prop){
		var property = Element.Properties[prop];
		return (property && property.get) ? property.get.apply(this) : this.getProperty(prop);
	}.overloadGetter(),

	erase: function(prop){
		var property = Element.Properties[prop];
		(property && property.erase) ? property.erase.apply(this) : this.removeProperty(prop);
		return this;
	},

	setProperty: function(attribute, value){
		attribute = camels[attribute] || attribute;
		if (value == null) return this.removeProperty(attribute);
		var key = attributes[attribute];
		(key) ? this[key] = value :
			(bools[attribute]) ? this[attribute] = !!value : this.setAttribute(attribute, '' + value);
		return this;
	},

	setProperties: function(attributes){
		for (var attribute in attributes) this.setProperty(attribute, attributes[attribute]);
		return this;
	},

	getProperty: function(attribute){
		attribute = camels[attribute] || attribute;
		var key = attributes[attribute] || readOnly[attribute];
		return (key) ? this[key] :
			(bools[attribute]) ? !!this[attribute] :
			(uriAttrs.test(attribute) ? this.getAttribute(attribute, 2) :
			(key = this.getAttributeNode(attribute)) ? key.nodeValue : null) || null;
	},

	getProperties: function(){
		var args = Array.from(arguments);
		return args.map(this.getProperty, this).associate(args);
	},

	removeProperty: function(attribute){
		attribute = camels[attribute] || attribute;
		var key = attributes[attribute];
		(key) ? this[key] = '' :
			(bools[attribute]) ? this[attribute] = false : this.removeAttribute(attribute);
		return this;
	},

	removeProperties: function(){
		Array.each(arguments, this.removeProperty, this);
		return this;
	},

	hasClass: function(className){
		return this.className.clean().contains(className, ' ');
	},

	addClass: function(className){
		if (!this.hasClass(className)) this.className = (this.className + ' ' + className).clean();
		return this;
	},

	removeClass: function(className){
		this.className = this.className.replace(new RegExp('(^|\\s)' + className + '(?:\\s|$)'), '$1');
		return this;
	},

	toggleClass: function(className, force){
		if (force == null) force = !this.hasClass(className);
		return (force) ? this.addClass(className) : this.removeClass(className);
	},

	adopt: function(){
		var parent = this, fragment, elements = Array.flatten(arguments), length = elements.length;
		if (length > 1) parent = fragment = document.createDocumentFragment();

		for (var i = 0; i < length; i++){
			var element = document.id(elements[i], true);
			if (element) parent.appendChild(element);
		}

		if (fragment) this.appendChild(fragment);

		return this;
	},

	appendText: function(text, where){
		return this.grab(this.getDocument().newTextNode(text), where);
	},

	grab: function(el, where){
		inserters[where || 'bottom'](document.id(el, true), this);
		return this;
	},

	inject: function(el, where){
		inserters[where || 'bottom'](this, document.id(el, true));
		return this;
	},

	replaces: function(el){
		el = document.id(el, true);
		el.parentNode.replaceChild(this, el);
		return this;
	},

	wraps: function(el, where){
		el = document.id(el, true);
		return this.replaces(el).grab(el, where);
	},

	getPrevious: function(expression){
		return document.id(Slick.find(this, injectCombinator(expression, '!~')));
	},

	getAllPrevious: function(expression){
		return Slick.search(this, injectCombinator(expression, '!~'), new Elements);
	},

	getNext: function(expression){
		return document.id(Slick.find(this, injectCombinator(expression, '~')));
	},

	getAllNext: function(expression){
		return Slick.search(this, injectCombinator(expression, '~'), new Elements);
	},

	getFirst: function(expression){
		return document.id(Slick.search(this, injectCombinator(expression, '>'))[0]);
	},

	getLast: function(expression){
		return document.id(Slick.search(this, injectCombinator(expression, '>')).getLast());
	},

	getParent: function(expression){
		return document.id(Slick.find(this, injectCombinator(expression, '!')));
	},

	getParents: function(expression){
		return Slick.search(this, injectCombinator(expression, '!'), new Elements);
	},

	getSiblings: function(expression){
		return Slick.search(this, injectCombinator(expression, '~~'), new Elements);
	},

	getChildren: function(expression){
		return Slick.search(this, injectCombinator(expression, '>'), new Elements);
	},

	getWindow: function(){
		return this.ownerDocument.window;
	},

	getDocument: function(){
		return this.ownerDocument;
	},

	getElementById: function(id){
		return document.id(Slick.find(this, '#' + ('' + id).replace(/(\W)/g, '\\$1')));
	},

	getSelected: function(){
		this.selectedIndex; // Safari 3.2.1
		return new Elements(Array.from(this.options).filter(function(option){
			return option.selected;
		}));
	},

	toQueryString: function(){
		var queryString = [];
		this.getElements('input, select, textarea').each(function(el){
			var type = el.type;
			if (!el.name || el.disabled || type == 'submit' || type == 'reset' || type == 'file' || type == 'image') return;

			var value = (el.get('tag') == 'select') ? el.getSelected().map(function(opt){
				// IE
				return document.id(opt).get('value');
			}) : ((type == 'radio' || type == 'checkbox') && !el.checked) ? null : el.get('value');

			Array.from(value).each(function(val){
				if (typeof val != 'undefined') queryString.push(encodeURIComponent(el.name) + '=' + encodeURIComponent(val));
			});
		});
		return queryString.join('&');
	},

	clone: function(contents, keepid){
		contents = contents !== false;
		var clone = this.cloneNode(contents);
		var clean = function(node, element){
			if (!keepid) node.removeAttribute('id');
			if (Browser.ie){
				node.clearAttributes();
				node.mergeAttributes(element);
				node.removeAttribute('uid');
				if (node.options){
					var no = node.options, eo = element.options;
					for (var j = no.length; j--;) no[j].selected = eo[j].selected;
				}
			}
			var prop = props[element.tagName.toLowerCase()];
			if (prop && element[prop]) node[prop] = element[prop];
		};

		var i;
		if (contents){
			var ce = clone.getElementsByTagName('*'), te = this.getElementsByTagName('*');
			for (i = ce.length; i--;) clean(ce[i], te[i]);
		}

		clean(clone, this);
		if (Browser.ie){
			var ts = this.getElementsByTagName('object'),
				cs = clone.getElementsByTagName('object'),
				tl = ts.length, cl = cs.length;
			for (i = 0; i < tl && i < cl; i++)
				cs[i].outerHTML = ts[i].outerHTML;
		}
		return document.id(clone);
	},

	destroy: function(){
		var children = clean(this).getElementsByTagName('*');
		Array.each(children, clean);
		Element.dispose(this);
		return null;
	},

	empty: function(){
		Array.from(this.childNodes).each(Element.dispose);
		return this;
	},

	dispose: function(){
		return (this.parentNode) ? this.parentNode.removeChild(this) : this;
	},

	match: function(expression){
		return !expression || Slick.match(this, expression);
	}

});

var contains = {contains: function(element){
	return Slick.contains(this, element);
}};

if (!document.contains) Document.implement(contains);
if (!document.createElement('div').contains) Element.implement(contains);

//<1.2compat>

Element.implement('hasChild', function(element){
	return this !== element && this.contains(element);
});

//</1.2compat>

[Element, Window, Document].invoke('implement', {

	addListener: function(type, fn){
		if (type == 'unload'){
			var old = fn, self = this;
			fn = function(){
				self.removeListener('unload', fn);
				old();
			};
		} else {
			collected[this.uid] = this;
		}
		if (this.addEventListener) this.addEventListener(type, fn, false);
		else this.attachEvent('on' + type, fn);
		return this;
	},

	removeListener: function(type, fn){
		if (this.removeEventListener) this.removeEventListener(type, fn, false);
		else this.detachEvent('on' + type, fn);
		return this;
	},

	retrieve: function(property, dflt){
		var storage = get(this.uid), prop = storage[property];
		if (dflt != null && prop == null) prop = storage[property] = dflt;
		return prop != null ? prop : null;
	},

	store: function(property, value){
		var storage = get(this.uid);
		storage[property] = value;
		return this;
	},

	eliminate: function(property){
		var storage = get(this.uid);
		delete storage[property];
		return this;
	}

});

// IE purge
if (window.attachEvent && !window.addEventListener) window.addListener('unload', function(){
	Object.each(collected, clean);
	if (window.CollectGarbage) CollectGarbage();
});

})();

Element.Properties = {};

//<1.2compat>

Element.Properties = new Hash;

//</1.2compat>

Element.Properties.style = {

	set: function(style){
		this.style.cssText = style;
	},

	get: function(){
		return this.style.cssText;
	},

	erase: function(){
		this.style.cssText = '';
	}

};

Element.Properties.tag = {

	get: function(){
		return this.tagName.toLowerCase();
	}

};

(function(maxLength){
	if (maxLength != null) Element.Properties.maxlength = Element.Properties.maxLength = {
		get: function(){
			var maxlength = this.getAttribute('maxLength');
			return maxlength == maxLength ? null : maxlength;
		}
	};
})(document.createElement('input').getAttribute('maxLength'));

Element.Properties.html = (function(){

	var tableTest = Function.attempt(function(){
		var table = document.createElement('table');
		table.innerHTML = '<tr><td></td></tr>';
	});

	var wrapper = document.createElement('div');

	var translations = {
		table: [1, '<table>', '</table>'],
		select: [1, '<select>', '</select>'],
		tbody: [2, '<table><tbody>', '</tbody></table>'],
		tr: [3, '<table><tbody><tr>', '</tr></tbody></table>']
	};
	translations.thead = translations.tfoot = translations.tbody;

	var html = {
		set: function(){
			var html = Array.flatten(arguments).join('');
			var wrap = (!tableTest && translations[this.get('tag')]);
			if (wrap){
				var first = wrapper;
				first.innerHTML = wrap[1] + html + wrap[2];
				for (var i = wrap[0]; i--;) first = first.firstChild;
				this.empty().adopt(first.childNodes);
			} else {
				this.innerHTML = html;
			}
		}
	};

	html.erase = html.set;

	return html;
})();


/*
---

name: Element.Style

description: Contains methods for interacting with the styles of Elements in a fashionable way.

license: MIT-style license.

requires: Element

provides: Element.Style

...
*/

(function(){

var html = document.html;

Element.Properties.styles = {set: function(styles){
	this.setStyles(styles);
}};

var hasOpacity = (html.style.opacity != null);
var reAlpha = /alpha\(opacity=([\d.]+)\)/i;

var setOpacity = function(element, opacity){
	if (!element.currentStyle || !element.currentStyle.hasLayout) element.style.zoom = 1;
	if (hasOpacity){
		element.style.opacity = opacity;
	} else {
		opacity = (opacity == 1) ? '' : 'alpha(opacity=' + opacity * 100 + ')';
		var filter = element.style.filter || element.getComputedStyle('filter') || '';
		element.style.filter = filter.test(reAlpha) ? filter.replace(reAlpha, opacity) : filter + opacity;
	}
};

Element.Properties.opacity = {

	set: function(opacity){
		var visibility = this.style.visibility;
		if (opacity == 0 && visibility != 'hidden') this.style.visibility = 'hidden';
		else if (opacity != 0 && visibility != 'visible') this.style.visibility = 'visible';

		setOpacity(this, opacity);
	},

	get: (hasOpacity) ? function(){
		var opacity = this.style.opacity || this.getComputedStyle('opacity');
		return (opacity == '') ? 1 : opacity;
	} : function(){
		var opacity, filter = (this.style.filter || this.getComputedStyle('filter'));
		if (filter) opacity = filter.match(reAlpha);
		return (opacity == null || filter == null) ? 1 : (opacity[1] / 100);
	}

};

var floatName = (html.style.cssFloat == null) ? 'styleFloat' : 'cssFloat';

Element.implement({

	getComputedStyle: function(property){
		if (this.currentStyle) return this.currentStyle[property.camelCase()];
		var defaultView = Element.getDocument(this).defaultView,
			computed = defaultView ? defaultView.getComputedStyle(this, null) : null;
		return (computed) ? computed.getPropertyValue((property == floatName) ? 'float' : property.hyphenate()) : null;
	},

	setOpacity: function(value){
		setOpacity(this, value);
		return this;
	},

	getOpacity: function(){
		return this.get('opacity');
	},

	setStyle: function(property, value){
		switch (property){
			case 'opacity': return this.set('opacity', parseFloat(value));
			case 'float': property = floatName;
		}
		property = property.camelCase();
		if (typeOf(value) != 'string'){
			var map = (Element.Styles[property] || '@').split(' ');
			value = Array.from(value).map(function(val, i){
				if (!map[i]) return '';
				return (typeOf(val) == 'number') ? map[i].replace('@', Math.round(val)) : val;
			}).join(' ');
		} else if (value == String(Number(value))){
			value = Math.round(value);
		}
		this.style[property] = value;
		return this;
	},

	getStyle: function(property){
		switch (property){
			case 'opacity': return this.get('opacity');
			case 'float': property = floatName;
		}
		property = property.camelCase();
		var result = this.style[property];
		if (!result || property == 'zIndex'){
			result = [];
			for (var style in Element.ShortStyles){
				if (property != style) continue;
				for (var s in Element.ShortStyles[style]) result.push(this.getStyle(s));
				return result.join(' ');
			}
			result = this.getComputedStyle(property);
		}
		if (result){
			result = String(result);
			var color = result.match(/rgba?\([\d\s,]+\)/);
			if (color) result = result.replace(color[0], color[0].rgbToHex());
		}
		if (Browser.opera || (Browser.ie && isNaN(parseFloat(result)))){
			if (property.test(/^(height|width)$/)){
				var values = (property == 'width') ? ['left', 'right'] : ['top', 'bottom'], size = 0;
				values.each(function(value){
					size += this.getStyle('border-' + value + '-width').toInt() + this.getStyle('padding-' + value).toInt();
				}, this);
				return this['offset' + property.capitalize()] - size + 'px';
			}
			if (Browser.opera && String(result).indexOf('px') != -1) return result;
			if (property.test(/(border(.+)Width|margin|padding)/)) return '0px';
		}
		return result;
	},

	setStyles: function(styles){
		for (var style in styles) this.setStyle(style, styles[style]);
		return this;
	},

	getStyles: function(){
		var result = {};
		Array.flatten(arguments).each(function(key){
			result[key] = this.getStyle(key);
		}, this);
		return result;
	}

});

Element.Styles = {
	left: '@px', top: '@px', bottom: '@px', right: '@px',
	width: '@px', height: '@px', maxWidth: '@px', maxHeight: '@px', minWidth: '@px', minHeight: '@px',
	backgroundColor: 'rgb(@, @, @)', backgroundPosition: '@px @px', color: 'rgb(@, @, @)',
	fontSize: '@px', letterSpacing: '@px', lineHeight: '@px', clip: 'rect(@px @px @px @px)',
	margin: '@px @px @px @px', padding: '@px @px @px @px', border: '@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)',
	borderWidth: '@px @px @px @px', borderStyle: '@ @ @ @', borderColor: 'rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)',
	zIndex: '@', 'zoom': '@', fontWeight: '@', textIndent: '@px', opacity: '@'
};

//<1.2compat>

Element.Styles = new Hash(Element.Styles);

//</1.2compat>

Element.ShortStyles = {margin: {}, padding: {}, border: {}, borderWidth: {}, borderStyle: {}, borderColor: {}};

['Top', 'Right', 'Bottom', 'Left'].each(function(direction){
	var Short = Element.ShortStyles;
	var All = Element.Styles;
	['margin', 'padding'].each(function(style){
		var sd = style + direction;
		Short[style][sd] = All[sd] = '@px';
	});
	var bd = 'border' + direction;
	Short.border[bd] = All[bd] = '@px @ rgb(@, @, @)';
	var bdw = bd + 'Width', bds = bd + 'Style', bdc = bd + 'Color';
	Short[bd] = {};
	Short.borderWidth[bdw] = Short[bd][bdw] = All[bdw] = '@px';
	Short.borderStyle[bds] = Short[bd][bds] = All[bds] = '@';
	Short.borderColor[bdc] = Short[bd][bdc] = All[bdc] = 'rgb(@, @, @)';
});

})();


/*
---

name: Element.Event

description: Contains Element methods for dealing with events. This file also includes mouseenter and mouseleave custom Element Events.

license: MIT-style license.

requires: [Element, Event]

provides: Element.Event

...
*/

(function(){

Element.Properties.events = {set: function(events){
	this.addEvents(events);
}};

[Element, Window, Document].invoke('implement', {

	addEvent: function(type, fn){
		var events = this.retrieve('events', {});
		if (!events[type]) events[type] = {keys: [], values: []};
		if (events[type].keys.contains(fn)) return this;
		events[type].keys.push(fn);
		var realType = type,
			custom = Element.Events[type],
			condition = fn,
			self = this;
		if (custom){
			if (custom.onAdd) custom.onAdd.call(this, fn);
			if (custom.condition){
				condition = function(event){
					if (custom.condition.call(this, event)) return fn.call(this, event);
					return true;
				};
			}
			realType = custom.base || realType;
		}
		var defn = function(){
			return fn.call(self);
		};
		var nativeEvent = Element.NativeEvents[realType];
		if (nativeEvent){
			if (nativeEvent == 2){
				defn = function(event){
					event = new Event(event, self.getWindow());
					if (condition.call(self, event) === false) event.stop();
				};
			}
			this.addListener(realType, defn);
		}
		events[type].values.push(defn);
		return this;
	},

	removeEvent: function(type, fn){
		var events = this.retrieve('events');
		if (!events || !events[type]) return this;
		var list = events[type];
		var index = list.keys.indexOf(fn);
		if (index == -1) return this;
		var value = list.values[index];
		delete list.keys[index];
		delete list.values[index];
		var custom = Element.Events[type];
		if (custom){
			if (custom.onRemove) custom.onRemove.call(this, fn);
			type = custom.base || type;
		}
		return (Element.NativeEvents[type]) ? this.removeListener(type, value) : this;
	},

	addEvents: function(events){
		for (var event in events) this.addEvent(event, events[event]);
		return this;
	},

	removeEvents: function(events){
		var type;
		if (typeOf(events) == 'object'){
			for (type in events) this.removeEvent(type, events[type]);
			return this;
		}
		var attached = this.retrieve('events');
		if (!attached) return this;
		if (!events){
			for (type in attached) this.removeEvents(type);
			this.eliminate('events');
		} else if (attached[events]){
			attached[events].keys.each(function(fn){
				this.removeEvent(events, fn);
			}, this);
			delete attached[events];
		}
		return this;
	},

	fireEvent: function(type, args, delay){
		var events = this.retrieve('events');
		if (!events || !events[type]) return this;
		args = Array.from(args);

		events[type].keys.each(function(fn){
			if (delay) fn.delay(delay, this, args);
			else fn.apply(this, args);
		}, this);
		return this;
	},

	cloneEvents: function(from, type){
		from = document.id(from);
		var events = from.retrieve('events');
		if (!events) return this;
		if (!type){
			for (var eventType in events) this.cloneEvents(from, eventType);
		} else if (events[type]){
			events[type].keys.each(function(fn){
				this.addEvent(type, fn);
			}, this);
		}
		return this;
	}

});

// IE9
try {
	if (typeof HTMLElement != 'undefined')
		HTMLElement.prototype.fireEvent = Element.prototype.fireEvent;
} catch(e){}

Element.NativeEvents = {
	click: 2, dblclick: 2, mouseup: 2, mousedown: 2, contextmenu: 2, //mouse buttons
	mousewheel: 2, DOMMouseScroll: 2, //mouse wheel
	mouseover: 2, mouseout: 2, mousemove: 2, selectstart: 2, selectend: 2, //mouse movement
	keydown: 2, keypress: 2, keyup: 2, //keyboard
	orientationchange: 2, // mobile
	touchstart: 2, touchmove: 2, touchend: 2, touchcancel: 2, // touch
	gesturestart: 2, gesturechange: 2, gestureend: 2, // gesture
	focus: 2, blur: 2, change: 2, reset: 2, select: 2, submit: 2, //form elements
	load: 2, unload: 1, beforeunload: 2, resize: 1, move: 1, DOMContentLoaded: 1, readystatechange: 1, //window
	error: 1, abort: 1, scroll: 1 //misc
};

var check = function(event){
	var related = event.relatedTarget;
	if (related == null) return true;
	if (!related) return false;
	return (related != this && related.prefix != 'xul' && typeOf(this) != 'document' && !this.contains(related));
};

Element.Events = {

	mouseenter: {
		base: 'mouseover',
		condition: check
	},

	mouseleave: {
		base: 'mouseout',
		condition: check
	},

	mousewheel: {
		base: (Browser.firefox) ? 'DOMMouseScroll' : 'mousewheel'
	}

};

//<1.2compat>

Element.Events = new Hash(Element.Events);

//</1.2compat>

})();


/*
---

name: Element.Dimensions

description: Contains methods to work with size, scroll, or positioning of Elements and the window object.

license: MIT-style license.

credits:
  - Element positioning based on the [qooxdoo](http://qooxdoo.org/) code and smart browser fixes, [LGPL License](http://www.gnu.org/licenses/lgpl.html).
  - Viewport dimensions based on [YUI](http://developer.yahoo.com/yui/) code, [BSD License](http://developer.yahoo.com/yui/license.html).

requires: [Element, Element.Style]

provides: [Element.Dimensions]

...
*/

(function(){

Element.implement({

	scrollTo: function(x, y){
		if (isBody(this)){
			this.getWindow().scrollTo(x, y);
		} else {
			this.scrollLeft = x;
			this.scrollTop = y;
		}
		return this;
	},

	getSize: function(){
		if (isBody(this)) return this.getWindow().getSize();
		return {x: this.offsetWidth, y: this.offsetHeight};
	},

	getScrollSize: function(){
		if (isBody(this)) return this.getWindow().getScrollSize();
		return {x: this.scrollWidth, y: this.scrollHeight};
	},

	getScroll: function(){
		if (isBody(this)) return this.getWindow().getScroll();
		return {x: this.scrollLeft, y: this.scrollTop};
	},

	getScrolls: function(){
		var element = this.parentNode, position = {x: 0, y: 0};
		while (element && !isBody(element)){
			position.x += element.scrollLeft;
			position.y += element.scrollTop;
			element = element.parentNode;
		}
		return position;
	},

	getOffsetParent: function(){
		var element = this;
		if (isBody(element)) return null;
		if (!Browser.ie) return element.offsetParent;
		while ((element = element.parentNode)){
			if (styleString(element, 'position') != 'static' || isBody(element)) return element;
		}
		return null;
	},

	getOffsets: function(){
		if (this.getBoundingClientRect && !Browser.Platform.ios){
			var bound = this.getBoundingClientRect(),
				html = document.id(this.getDocument().documentElement),
				htmlScroll = html.getScroll(),
				elemScrolls = this.getScrolls(),
				isFixed = (styleString(this, 'position') == 'fixed');

			return {
				x: bound.left.toInt() + elemScrolls.x + ((isFixed) ? 0 : htmlScroll.x) - html.clientLeft,
				y: bound.top.toInt()  + elemScrolls.y + ((isFixed) ? 0 : htmlScroll.y) - html.clientTop
			};
		}

		var element = this, position = {x: 0, y: 0};
		if (isBody(this)) return position;

		while (element && !isBody(element)){
			position.x += element.offsetLeft;
			position.y += element.offsetTop;

			if (Browser.firefox){
				if (!borderBox(element)){
					position.x += leftBorder(element);
					position.y += topBorder(element);
				}
				var parent = element.parentNode;
				if (parent && styleString(parent, 'overflow') != 'visible'){
					position.x += leftBorder(parent);
					position.y += topBorder(parent);
				}
			} else if (element != this && Browser.safari){
				position.x += leftBorder(element);
				position.y += topBorder(element);
			}

			element = element.offsetParent;
		}
		if (Browser.firefox && !borderBox(this)){
			position.x -= leftBorder(this);
			position.y -= topBorder(this);
		}
		return position;
	},

	getPosition: function(relative){
		if (isBody(this)) return {x: 0, y: 0};
		var offset = this.getOffsets(),
			scroll = this.getScrolls();
		var position = {
			x: offset.x - scroll.x,
			y: offset.y - scroll.y
		};
		
		if (relative && (relative = document.id(relative))){
			var relativePosition = relative.getPosition();
			return {x: position.x - relativePosition.x - leftBorder(relative), y: position.y - relativePosition.y - topBorder(relative)};
		}
		return position;
	},

	getCoordinates: function(element){
		if (isBody(this)) return this.getWindow().getCoordinates();
		var position = this.getPosition(element),
			size = this.getSize();
		var obj = {
			left: position.x,
			top: position.y,
			width: size.x,
			height: size.y
		};
		obj.right = obj.left + obj.width;
		obj.bottom = obj.top + obj.height;
		return obj;
	},

	computePosition: function(obj){
		return {
			left: obj.x - styleNumber(this, 'margin-left'),
			top: obj.y - styleNumber(this, 'margin-top')
		};
	},

	setPosition: function(obj){
		return this.setStyles(this.computePosition(obj));
	}

});


[Document, Window].invoke('implement', {

	getSize: function(){
		var doc = getCompatElement(this);
		return {x: doc.clientWidth, y: doc.clientHeight};
	},

	getScroll: function(){
		var win = this.getWindow(), doc = getCompatElement(this);
		return {x: win.pageXOffset || doc.scrollLeft, y: win.pageYOffset || doc.scrollTop};
	},

	getScrollSize: function(){
		var doc = getCompatElement(this),
			min = this.getSize(),
			body = this.getDocument().body;

		return {x: Math.max(doc.scrollWidth, body.scrollWidth, min.x), y: Math.max(doc.scrollHeight, body.scrollHeight, min.y)};
	},

	getPosition: function(){
		return {x: 0, y: 0};
	},

	getCoordinates: function(){
		var size = this.getSize();
		return {top: 0, left: 0, bottom: size.y, right: size.x, height: size.y, width: size.x};
	}

});

// private methods

var styleString = Element.getComputedStyle;

function styleNumber(element, style){
	return styleString(element, style).toInt() || 0;
};

function borderBox(element){
	return styleString(element, '-moz-box-sizing') == 'border-box';
};

function topBorder(element){
	return styleNumber(element, 'border-top-width');
};

function leftBorder(element){
	return styleNumber(element, 'border-left-width');
};

function isBody(element){
	return (/^(?:body|html)$/i).test(element.tagName);
};

function getCompatElement(element){
	var doc = element.getDocument();
	return (!doc.compatMode || doc.compatMode == 'CSS1Compat') ? doc.html : doc.body;
};

})();

//aliases
Element.alias({position: 'setPosition'}); //compatability

[Window, Document, Element].invoke('implement', {

	getHeight: function(){
		return this.getSize().y;
	},

	getWidth: function(){
		return this.getSize().x;
	},

	getScrollTop: function(){
		return this.getScroll().y;
	},

	getScrollLeft: function(){
		return this.getScroll().x;
	},

	getScrollHeight: function(){
		return this.getScrollSize().y;
	},

	getScrollWidth: function(){
		return this.getScrollSize().x;
	},

	getTop: function(){
		return this.getPosition().y;
	},

	getLeft: function(){
		return this.getPosition().x;
	}

});


/*
---

name: Fx

description: Contains the basic animation logic to be extended by all other Fx Classes.

license: MIT-style license.

requires: [Chain, Events, Options]

provides: Fx

...
*/

(function(){

var Fx = this.Fx = new Class({

	Implements: [Chain, Events, Options],

	options: {
		/*
		onStart: nil,
		onCancel: nil,
		onComplete: nil,
		*/
		fps: 50,
		unit: false,
		duration: 500,
		link: 'ignore'
	},

	initialize: function(options){
		this.subject = this.subject || this;
		this.setOptions(options);
	},

	getTransition: function(){
		return function(p){
			return -(Math.cos(Math.PI * p) - 1) / 2;
		};
	},

	step: function(){
		var time = Date.now();
		if (time < this.time + this.options.duration){
			var delta = this.transition((time - this.time) / this.options.duration);
			this.set(this.compute(this.from, this.to, delta));
		} else {
			this.set(this.compute(this.from, this.to, 1));
			this.complete();
		}
	},

	set: function(now){
		return now;
	},

	compute: function(from, to, delta){
		return Fx.compute(from, to, delta);
	},

	check: function(){
		if (!this.timer) return true;
		switch (this.options.link){
			case 'cancel': this.cancel(); return true;
			case 'chain': this.chain(this.caller.pass(arguments, this)); return false;
		}
		return false;
	},

	start: function(from, to){
		if (!this.check(from, to)) return this;
		var duration = this.options.duration;
		this.options.duration = Fx.Durations[duration] || duration.toInt();
		this.from = from;
		this.to = to;
		this.time = 0;
		this.transition = this.getTransition();
		this.startTimer();
		this.onStart();
		return this;
	},

	complete: function(){
		if (this.stopTimer()) this.onComplete();
		return this;
	},

	cancel: function(){
		if (this.stopTimer()) this.onCancel();
		return this;
	},

	onStart: function(){
		this.fireEvent('start', this.subject);
	},

	onComplete: function(){
		this.fireEvent('complete', this.subject);
		if (!this.callChain()) this.fireEvent('chainComplete', this.subject);
	},

	onCancel: function(){
		this.fireEvent('cancel', this.subject).clearChain();
	},

	pause: function(){
		this.stopTimer();
		return this;
	},

	resume: function(){
		this.startTimer();
		return this;
	},

	stopTimer: function(){
		if (!this.timer) return false;
		this.time = Date.now() - this.time;
		this.timer = removeInstance(this);
		return true;
	},

	startTimer: function(){
		if (this.timer) return false;
		this.time = Date.now() - this.time;
		this.timer = addInstance(this);
		return true;
	}

});

Fx.compute = function(from, to, delta){
	return (to - from) * delta + from;
};

Fx.Durations = {'short': 250, 'normal': 500, 'long': 1000};

// global timers

var instances = {}, timers = {};

var loop = function(){
	for (var i = this.length; i--;){
		if (this[i]) this[i].step();
	}
};

var addInstance = function(instance){
	var fps = instance.options.fps,
		list = instances[fps] || (instances[fps] = []);
	list.push(instance);
	if (!timers[fps]) timers[fps] = loop.periodical(Math.round(1000 / fps), list);
	return true;
};

var removeInstance = function(instance){
	var fps = instance.options.fps,
		list = instances[fps] || [];
	list.erase(instance);
	if (!list.length && timers[fps]) timers[fps] = clearInterval(timers[fps]);
	return false;
};

})();


/*
---

name: Fx.CSS

description: Contains the CSS animation logic. Used by Fx.Tween, Fx.Morph, Fx.Elements.

license: MIT-style license.

requires: [Fx, Element.Style]

provides: Fx.CSS

...
*/

Fx.CSS = new Class({

	Extends: Fx,

	//prepares the base from/to object

	prepare: function(element, property, values){
		values = Array.from(values);
		if (values[1] == null){
			values[1] = values[0];
			values[0] = element.getStyle(property);
		}
		var parsed = values.map(this.parse);
		return {from: parsed[0], to: parsed[1]};
	},

	//parses a value into an array

	parse: function(value){
		value = Function.from(value)();
		value = (typeof value == 'string') ? value.split(' ') : Array.from(value);
		return value.map(function(val){
			val = String(val);
			var found = false;
			Object.each(Fx.CSS.Parsers, function(parser, key){
				if (found) return;
				var parsed = parser.parse(val);
				if (parsed || parsed === 0) found = {value: parsed, parser: parser};
			});
			found = found || {value: val, parser: Fx.CSS.Parsers.String};
			return found;
		});
	},

	//computes by a from and to prepared objects, using their parsers.

	compute: function(from, to, delta){
		var computed = [];
		(Math.min(from.length, to.length)).times(function(i){
			computed.push({value: from[i].parser.compute(from[i].value, to[i].value, delta), parser: from[i].parser});
		});
		computed.$family = Function.from('fx:css:value');
		return computed;
	},

	//serves the value as settable

	serve: function(value, unit){
		if (typeOf(value) != 'fx:css:value') value = this.parse(value);
		var returned = [];
		value.each(function(bit){
			returned = returned.concat(bit.parser.serve(bit.value, unit));
		});
		return returned;
	},

	//renders the change to an element

	render: function(element, property, value, unit){
		element.setStyle(property, this.serve(value, unit));
	},

	//searches inside the page css to find the values for a selector

	search: function(selector){
		if (Fx.CSS.Cache[selector]) return Fx.CSS.Cache[selector];
		var to = {};
		Array.each(document.styleSheets, function(sheet, j){
			var href = sheet.href;
			if (href && href.contains('://') && !href.contains(document.domain)) return;
			var rules = sheet.rules || sheet.cssRules;
			Array.each(rules, function(rule, i){
				if (!rule.style) return;
				var selectorText = (rule.selectorText) ? rule.selectorText.replace(/^\w+/, function(m){
					return m.toLowerCase();
				}) : null;
				if (!selectorText || !selectorText.test('^' + selector + '$')) return;
				Element.Styles.each(function(value, style){
					if (!rule.style[style] || Element.ShortStyles[style]) return;
					value = String(rule.style[style]);
					to[style] = (value.test(/^rgb/)) ? value.rgbToHex() : value;
				});
			});
		});
		return Fx.CSS.Cache[selector] = to;
	}

});

Fx.CSS.Cache = {};

Fx.CSS.Parsers = {

	Color: {
		parse: function(value){
			if (value.match(/^#[0-9a-f]{3,6}$/i)) return value.hexToRgb(true);
			return ((value = value.match(/(\d+),\s*(\d+),\s*(\d+)/))) ? [value[1], value[2], value[3]] : false;
		},
		compute: function(from, to, delta){
			return from.map(function(value, i){
				return Math.round(Fx.compute(from[i], to[i], delta));
			});
		},
		serve: function(value){
			return value.map(Number);
		}
	},

	Number: {
		parse: parseFloat,
		compute: Fx.compute,
		serve: function(value, unit){
			return (unit) ? value + unit : value;
		}
	},

	String: {
		parse: Function.from(false),
		compute: function(zero, one){
			return one;
		},
		serve: function(zero){
			return zero;
		}
	}

};

//<1.2compat>

Fx.CSS.Parsers = new Hash(Fx.CSS.Parsers);

//</1.2compat>


/*
---

name: Fx.Tween

description: Formerly Fx.Style, effect to transition any CSS property for an element.

license: MIT-style license.

requires: Fx.CSS

provides: [Fx.Tween, Element.fade, Element.highlight]

...
*/

Fx.Tween = new Class({

	Extends: Fx.CSS,

	initialize: function(element, options){
		this.element = this.subject = document.id(element);
		this.parent(options);
	},

	set: function(property, now){
		if (arguments.length == 1){
			now = property;
			property = this.property || this.options.property;
		}
		this.render(this.element, property, now, this.options.unit);
		return this;
	},

	start: function(property, from, to){
		if (!this.check(property, from, to)) return this;
		var args = Array.flatten(arguments);
		this.property = this.options.property || args.shift();
		var parsed = this.prepare(this.element, this.property, args);
		return this.parent(parsed.from, parsed.to);
	}

});

Element.Properties.tween = {

	set: function(options){
		this.get('tween').cancel().setOptions(options);
		return this;
	},

	get: function(){
		var tween = this.retrieve('tween');
		if (!tween){
			tween = new Fx.Tween(this, {link: 'cancel'});
			this.store('tween', tween);
		}
		return tween;
	}

};

Element.implement({

	tween: function(property, from, to){
		this.get('tween').start(arguments);
		return this;
	},

	fade: function(how){
		var fade = this.get('tween'), o = 'opacity', toggle;
		how = [how, 'toggle'].pick();
		switch (how){
			case 'in': fade.start(o, 1); break;
			case 'out': fade.start(o, 0); break;
			case 'show': fade.set(o, 1); break;
			case 'hide': fade.set(o, 0); break;
			case 'toggle':
				var flag = this.retrieve('fade:flag', this.get('opacity') == 1);
				fade.start(o, (flag) ? 0 : 1);
				this.store('fade:flag', !flag);
				toggle = true;
			break;
			default: fade.start(o, arguments);
		}
		if (!toggle) this.eliminate('fade:flag');
		return this;
	},

	highlight: function(start, end){
		if (!end){
			end = this.retrieve('highlight:original', this.getStyle('background-color'));
			end = (end == 'transparent') ? '#fff' : end;
		}
		var tween = this.get('tween');
		tween.start('background-color', start || '#ffff88', end).chain(function(){
			this.setStyle('background-color', this.retrieve('highlight:original'));
			tween.callChain();
		}.bind(this));
		return this;
	}

});


/*
---

name: Fx.Morph

description: Formerly Fx.Styles, effect to transition any number of CSS properties for an element using an object of rules, or CSS based selector rules.

license: MIT-style license.

requires: Fx.CSS

provides: Fx.Morph

...
*/

Fx.Morph = new Class({

	Extends: Fx.CSS,

	initialize: function(element, options){
		this.element = this.subject = document.id(element);
		this.parent(options);
	},

	set: function(now){
		if (typeof now == 'string') now = this.search(now);
		for (var p in now) this.render(this.element, p, now[p], this.options.unit);
		return this;
	},

	compute: function(from, to, delta){
		var now = {};
		for (var p in from) now[p] = this.parent(from[p], to[p], delta);
		return now;
	},

	start: function(properties){
		if (!this.check(properties)) return this;
		if (typeof properties == 'string') properties = this.search(properties);
		var from = {}, to = {};
		for (var p in properties){
			var parsed = this.prepare(this.element, p, properties[p]);
			from[p] = parsed.from;
			to[p] = parsed.to;
		}
		return this.parent(from, to);
	}

});

Element.Properties.morph = {

	set: function(options){
		this.get('morph').cancel().setOptions(options);
		return this;
	},

	get: function(){
		var morph = this.retrieve('morph');
		if (!morph){
			morph = new Fx.Morph(this, {link: 'cancel'});
			this.store('morph', morph);
		}
		return morph;
	}

};

Element.implement({

	morph: function(props){
		this.get('morph').start(props);
		return this;
	}

});


/*
---

name: Fx.Transitions

description: Contains a set of advanced transitions to be used with any of the Fx Classes.

license: MIT-style license.

credits:
  - Easing Equations by Robert Penner, <http://www.robertpenner.com/easing/>, modified and optimized to be used with MooTools.

requires: Fx

provides: Fx.Transitions

...
*/

Fx.implement({

	getTransition: function(){
		var trans = this.options.transition || Fx.Transitions.Sine.easeInOut;
		if (typeof trans == 'string'){
			var data = trans.split(':');
			trans = Fx.Transitions;
			trans = trans[data[0]] || trans[data[0].capitalize()];
			if (data[1]) trans = trans['ease' + data[1].capitalize() + (data[2] ? data[2].capitalize() : '')];
		}
		return trans;
	}

});

Fx.Transition = function(transition, params){
	params = Array.from(params);
	return Object.append(transition, {
		easeIn: function(pos){
			return transition(pos, params);
		},
		easeOut: function(pos){
			return 1 - transition(1 - pos, params);
		},
		easeInOut: function(pos){
			return (pos <= 0.5) ? transition(2 * pos, params) / 2 : (2 - transition(2 * (1 - pos), params)) / 2;
		}
	});
};

Fx.Transitions = {

	linear: function(zero){
		return zero;
	}

};

//<1.2compat>

Fx.Transitions = new Hash(Fx.Transitions);

//</1.2compat>

Fx.Transitions.extend = function(transitions){
	for (var transition in transitions) Fx.Transitions[transition] = new Fx.Transition(transitions[transition]);
};

Fx.Transitions.extend({

	Pow: function(p, x){
		return Math.pow(p, x && x[0] || 6);
	},

	Expo: function(p){
		return Math.pow(2, 8 * (p - 1));
	},

	Circ: function(p){
		return 1 - Math.sin(Math.acos(p));
	},

	Sine: function(p){
		return 1 - Math.sin((1 - p) * Math.PI / 2);
	},

	Back: function(p, x){
		x = x && x[0] || 1.618;
		return Math.pow(p, 2) * ((x + 1) * p - x);
	},

	Bounce: function(p){
		var value;
		for (var a = 0, b = 1; 1; a += b, b /= 2){
			if (p >= (7 - 4 * a) / 11){
				value = b * b - Math.pow((11 - 6 * a - 11 * p) / 4, 2);
				break;
			}
		}
		return value;
	},

	Elastic: function(p, x){
		return Math.pow(2, 10 * --p) * Math.cos(20 * p * Math.PI * (x && x[0] || 1) / 3);
	}

});

['Quad', 'Cubic', 'Quart', 'Quint'].each(function(transition, i){
	Fx.Transitions[transition] = new Fx.Transition(function(p){
		return Math.pow(p, [i + 2]);
	});
});


/*
---

name: Request

description: Powerful all purpose Request Class. Uses XMLHTTPRequest.

license: MIT-style license.

requires: [Object, Element, Chain, Events, Options, Browser]

provides: Request

...
*/

(function(){

var progressSupport = ('onprogress' in new Browser.Request);

var Request = this.Request = new Class({

	Implements: [Chain, Events, Options],

	options: {/*
		onRequest: function(){},
		onLoadstart: function(event, xhr){},
		onProgress: function(event, xhr){},
		onComplete: function(){},
		onCancel: function(){},
		onSuccess: function(responseText, responseXML){},
		onFailure: function(xhr){},
		onException: function(headerName, value){},
		onTimeout: function(){},
		user: '',
		password: '',*/
		url: '',
		data: '',
		headers: {
			'X-Requested-With': 'XMLHttpRequest',
			'Accept': 'text/javascript, text/html, application/xml, text/xml, */*'
		},
		async: true,
		format: false,
		method: 'post',
		link: 'ignore',
		isSuccess: null,
		emulation: true,
		urlEncoded: true,
		encoding: 'utf-8',
		evalScripts: false,
		evalResponse: false,
		timeout: 0,
		noCache: false
	},

	initialize: function(options){
		this.xhr = new Browser.Request();
		this.setOptions(options);
		this.headers = this.options.headers;
	},

	onStateChange: function(){
		var xhr = this.xhr;
		if (xhr.readyState != 4 || !this.running) return;
		this.running = false;
		this.status = 0;
		Function.attempt(function(){
			var status = xhr.status;
			this.status = (status == 1223) ? 204 : status;
		}.bind(this));
		xhr.onreadystatechange = function(){};
		clearTimeout(this.timer);
		
		this.response = {text: this.xhr.responseText || '', xml: this.xhr.responseXML};
		if (this.options.isSuccess.call(this, this.status))
			this.success(this.response.text, this.response.xml);
		else
			this.failure();
	},

	isSuccess: function(){
		var status = this.status;
		return (status >= 200 && status < 300);
	},

	isRunning: function(){
		return !!this.running;
	},

	processScripts: function(text){
		if (this.options.evalResponse || (/(ecma|java)script/).test(this.getHeader('Content-type'))) return Browser.exec(text);
		return text.stripScripts(this.options.evalScripts);
	},

	success: function(text, xml){
		this.onSuccess(this.processScripts(text), xml);
	},

	onSuccess: function(){
		this.fireEvent('complete', arguments).fireEvent('success', arguments).callChain();
	},

	failure: function(){
		this.onFailure();
	},

	onFailure: function(){
		this.fireEvent('complete').fireEvent('failure', this.xhr);
	},
	
	loadstart: function(event){
		this.fireEvent('loadstart', [event, this.xhr]);
	},
	
	progress: function(event){
		this.fireEvent('progress', [event, this.xhr]);
	},
	
	timeout: function(){
		this.fireEvent('timeout', this.xhr);
	},

	setHeader: function(name, value){
		this.headers[name] = value;
		return this;
	},

	getHeader: function(name){
		return Function.attempt(function(){
			return this.xhr.getResponseHeader(name);
		}.bind(this));
	},

	check: function(){
		if (!this.running) return true;
		switch (this.options.link){
			case 'cancel': this.cancel(); return true;
			case 'chain': this.chain(this.caller.pass(arguments, this)); return false;
		}
		return false;
	},
	
	send: function(options){
		if (!this.check(options)) return this;

		this.options.isSuccess = this.options.isSuccess || this.isSuccess;
		this.running = true;

		var type = typeOf(options);
		if (type == 'string' || type == 'element') options = {data: options};

		var old = this.options;
		options = Object.append({data: old.data, url: old.url, method: old.method}, options);
		var data = options.data, url = String(options.url), method = options.method.toLowerCase();

		switch (typeOf(data)){
			case 'element': data = document.id(data).toQueryString(); break;
			case 'object': case 'hash': data = Object.toQueryString(data);
		}

		if (this.options.format){
			var format = 'format=' + this.options.format;
			data = (data) ? format + '&' + data : format;
		}

		if (this.options.emulation && !['get', 'post'].contains(method)){
			var _method = '_method=' + method;
			data = (data) ? _method + '&' + data : _method;
			method = 'post';
		}

		if (this.options.urlEncoded && ['post', 'put'].contains(method)){
			var encoding = (this.options.encoding) ? '; charset=' + this.options.encoding : '';
			this.headers['Content-type'] = 'application/x-www-form-urlencoded' + encoding;
		}

		if (!url) url = document.location.pathname;
		
		var trimPosition = url.lastIndexOf('/');
		if (trimPosition > -1 && (trimPosition = url.indexOf('#')) > -1) url = url.substr(0, trimPosition);

		if (this.options.noCache)
			url += (url.contains('?') ? '&' : '?') + String.uniqueID();

		if (data && method == 'get'){
			url += (url.contains('?') ? '&' : '?') + data;
			data = null;
		}

		var xhr = this.xhr;
		if (progressSupport){
			xhr.onloadstart = this.loadstart.bind(this);
			xhr.onprogress = this.progress.bind(this);
		}

		xhr.open(method.toUpperCase(), url, this.options.async, this.options.user, this.options.password);
		if (this.options.user && 'withCredentials' in xhr) xhr.withCredentials = true;
		
		xhr.onreadystatechange = this.onStateChange.bind(this);

		Object.each(this.headers, function(value, key){
			try {
				xhr.setRequestHeader(key, value);
			} catch (e){
				this.fireEvent('exception', [key, value]);
			}
		}, this);

		this.fireEvent('request');
		xhr.send(data);
		if (!this.options.async) this.onStateChange();
		if (this.options.timeout) this.timer = this.timeout.delay(this.options.timeout, this);
		return this;
	},

	cancel: function(){
		if (!this.running) return this;
		this.running = false;
		var xhr = this.xhr;
		xhr.abort();
		clearTimeout(this.timer);
		xhr.onreadystatechange = xhr.onprogress = xhr.onloadstart = function(){};
		this.xhr = new Browser.Request();
		this.fireEvent('cancel');
		return this;
	}

});

var methods = {};
['get', 'post', 'put', 'delete', 'GET', 'POST', 'PUT', 'DELETE'].each(function(method){
	methods[method] = function(data){
		return this.send({
			data: data,
			method: method
		});
	};
});

Request.implement(methods);

Element.Properties.send = {

	set: function(options){
		var send = this.get('send').cancel();
		send.setOptions(options);
		return this;
	},

	get: function(){
		var send = this.retrieve('send');
		if (!send){
			send = new Request({
				data: this, link: 'cancel', method: this.get('method') || 'post', url: this.get('action')
			});
			this.store('send', send);
		}
		return send;
	}

};

Element.implement({

	send: function(url){
		var sender = this.get('send');
		sender.send({data: this, url: url || sender.options.url});
		return this;
	}

});

})();

/*
---

name: Request.HTML

description: Extends the basic Request Class with additional methods for interacting with HTML responses.

license: MIT-style license.

requires: [Element, Request]

provides: Request.HTML

...
*/

Request.HTML = new Class({

	Extends: Request,

	options: {
		update: false,
		append: false,
		evalScripts: true,
		filter: false,
		headers: {
			Accept: 'text/html, application/xml, text/xml, */*'
		}
	},

	success: function(text){
		var options = this.options, response = this.response;

		response.html = text.stripScripts(function(script){
			response.javascript = script;
		});

		var match = response.html.match(/<body[^>]*>([\s\S]*?)<\/body>/i);
		if (match) response.html = match[1];
		var temp = new Element('div').set('html', response.html);

		response.tree = temp.childNodes;
		response.elements = temp.getElements('*');

		if (options.filter) response.tree = response.elements.filter(options.filter);
		if (options.update) document.id(options.update).empty().set('html', response.html);
		else if (options.append) document.id(options.append).adopt(temp.getChildren());
		if (options.evalScripts) Browser.exec(response.javascript);

		this.onSuccess(response.tree, response.elements, response.html, response.javascript);
	}

});

Element.Properties.load = {

	set: function(options){
		var load = this.get('load').cancel();
		load.setOptions(options);
		return this;
	},

	get: function(){
		var load = this.retrieve('load');
		if (!load){
			load = new Request.HTML({data: this, link: 'cancel', update: this, method: 'get'});
			this.store('load', load);
		}
		return load;
	}

};

Element.implement({

	load: function(){
		this.get('load').send(Array.link(arguments, {data: Type.isObject, url: Type.isString}));
		return this;
	}

});


/*
---

name: JSON

description: JSON encoder and decoder.

license: MIT-style license.

See Also: <http://www.json.org/>

requires: [Array, String, Number, Function]

provides: JSON

...
*/

if (!this.JSON) this.JSON = {};

//<1.2compat>

JSON = new Hash({
	stringify: JSON.stringify,
	parse: JSON.parse
});

//</1.2compat>

Object.append(JSON, {

	$specialChars: {'\b': '\\b', '\t': '\\t', '\n': '\\n', '\f': '\\f', '\r': '\\r', '"' : '\\"', '\\': '\\\\'},

	$replaceChars: function(chr){
		return JSON.$specialChars[chr] || '\\u00' + Math.floor(chr.charCodeAt() / 16).toString(16) + (chr.charCodeAt() % 16).toString(16);
	},

	encode: function(obj){
		switch (typeOf(obj)){
			case 'string':
				return '"' + obj.replace(/[\x00-\x1f\\"]/g, JSON.$replaceChars) + '"';
			case 'array':
				return '[' + String(obj.map(JSON.encode).clean()) + ']';
			case 'object': case 'hash':
				var string = [];
				Object.each(obj, function(value, key){
					var json = JSON.encode(value);
					if (json) string.push(JSON.encode(key) + ':' + json);
				});
				return '{' + string + '}';
			case 'number': case 'boolean': return String(obj);
			case 'null': return 'null';
		}
		return null;
	},

	decode: function(string, secure){
		if (typeOf(string) != 'string' || !string.length) return null;
		if (secure && !(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(string.replace(/\\./g, '@').replace(/"[^"\\\n\r]*"/g, ''))) return null;
		return eval('(' + string + ')');
	}

});


/*
---

name: Request.JSON

description: Extends the basic Request Class with additional methods for sending and receiving JSON data.

license: MIT-style license.

requires: [Request, JSON]

provides: Request.JSON

...
*/

Request.JSON = new Class({

	Extends: Request,

	options: {
		secure: true
	},

	initialize: function(options){
		this.parent(options);
		Object.append(this.headers, {
			'Accept': 'application/json',
			'X-Request': 'JSON'
		});
	},

	success: function(text){
		var secure = this.options.secure;
		var json = this.response.json = Function.attempt(function(){
			return JSON.decode(text, secure);
		});

		if (json == null) this.onFailure();
		else this.onSuccess(json, text);
	}

});


/*
---

name: Cookie

description: Class for creating, reading, and deleting browser Cookies.

license: MIT-style license.

credits:
  - Based on the functions by Peter-Paul Koch (http://quirksmode.org).

requires: Options

provides: Cookie

...
*/

var Cookie = new Class({

	Implements: Options,

	options: {
		path: '/',
		domain: false,
		duration: false,
		secure: false,
		document: document,
		encode: true
	},

	initialize: function(key, options){
		this.key = key;
		this.setOptions(options);
	},

	write: function(value){
		if (this.options.encode) value = encodeURIComponent(value);
		if (this.options.domain) value += '; domain=' + this.options.domain;
		if (this.options.path) value += '; path=' + this.options.path;
		if (this.options.duration){
			var date = new Date();
			date.setTime(date.getTime() + this.options.duration * 24 * 60 * 60 * 1000);
			value += '; expires=' + date.toGMTString();
		}
		if (this.options.secure) value += '; secure';
		this.options.document.cookie = this.key + '=' + value;
		return this;
	},

	read: function(){
		var value = this.options.document.cookie.match('(?:^|;)\\s*' + this.key.escapeRegExp() + '=([^;]*)');
		return (value) ? decodeURIComponent(value[1]) : null;
	},

	dispose: function(){
		new Cookie(this.key, Object.merge({}, this.options, {duration: -1})).write('');
		return this;
	}

});

Cookie.write = function(key, value, options){
	return new Cookie(key, options).write(value);
};

Cookie.read = function(key){
	return new Cookie(key).read();
};

Cookie.dispose = function(key, options){
	return new Cookie(key, options).dispose();
};


/*
---

name: DOMReady

description: Contains the custom event domready.

license: MIT-style license.

requires: [Browser, Element, Element.Event]

provides: [DOMReady, DomReady]

...
*/

(function(window, document){

var ready,
	loaded,
	checks = [],
	shouldPoll,
	timer,
	isFramed = true;

// Thanks to Rich Dougherty <http://www.richdougherty.com/>
try {
	isFramed = window.frameElement != null;
} catch(e){}

var domready = function(){
	clearTimeout(timer);
	if (ready) return;
	Browser.loaded = ready = true;
	document.removeListener('DOMContentLoaded', domready).removeListener('readystatechange', check);
	
	document.fireEvent('domready');
	window.fireEvent('domready');
};

var check = function(){
	for (var i = checks.length; i--;) if (checks[i]()){
		domready();
		return true;
	}

	return false;
};

var poll = function(){
	clearTimeout(timer);
	if (!check()) timer = setTimeout(poll, 10);
};

document.addListener('DOMContentLoaded', domready);

// doScroll technique by Diego Perini http://javascript.nwbox.com/IEContentLoaded/
var testElement = document.createElement('div');
if (testElement.doScroll && !isFramed){
	checks.push(function(){
		try {
			testElement.doScroll();
			return true;
		} catch (e){}

		return false;
	});
	shouldPoll = true;
}

if (document.readyState) checks.push(function(){
	var state = document.readyState;
	return (state == 'loaded' || state == 'complete');
});

if ('onreadystatechange' in document) document.addListener('readystatechange', check);
else shouldPoll = true;

if (shouldPoll) poll();

Element.Events.domready = {
	onAdd: function(fn){
		if (ready) fn.call(this);
	}
};

// Make sure that domready fires before load
Element.Events.load = {
	base: 'load',
	onAdd: function(fn){
		if (loaded && this == window) fn.call(this);
	},
	condition: function(){
		if (this == window){
			domready();
			delete Element.Events.load;
		}
		
		return true;
	}
};

// This is based on the custom load event
window.addEvent('load', function(){
	loaded = true;
});

})(window, document);


/*
---

name: Swiff

description: Wrapper for embedding SWF movies. Supports External Interface Communication.

license: MIT-style license.

credits:
  - Flash detection & Internet Explorer + Flash Player 9 fix inspired by SWFObject.

requires: [Options, Object]

provides: Swiff

...
*/

(function(){

var id = 0;

var Swiff = this.Swiff = new Class({

	Implements: Options,

	options: {
		id: null,
		height: 1,
		width: 1,
		container: null,
		properties: {},
		params: {
			quality: 'high',
			allowScriptAccess: 'always',
			wMode: 'window',
			swLiveConnect: true
		},
		callBacks: {},
		vars: {}
	},

	toElement: function(){
		return this.object;
	},

	initialize: function(path, options){
		this.instance = 'Swiff_' + id++;

		this.setOptions(options);
		options = this.options;
		var id = this.id = options.id || this.instance;
		var container = document.id(options.container);

		Swiff.CallBacks[this.instance] = {};

		var params = options.params, vars = options.vars, callBacks = options.callBacks;
		var properties = Object.append({height: options.height, width: options.width}, options.properties);

		var self = this;

		for (var callBack in callBacks){
			Swiff.CallBacks[this.instance][callBack] = (function(option){
				return function(){
					return option.apply(self.object, arguments);
				};
			})(callBacks[callBack]);
			vars[callBack] = 'Swiff.CallBacks.' + this.instance + '.' + callBack;
		}

		params.flashVars = Object.toQueryString(vars);
		if (Browser.ie){
			properties.classid = 'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000';
			params.movie = path;
		} else {
			properties.type = 'application/x-shockwave-flash';
		}
		properties.data = path;

		var build = '<object id="' + id + '"';
		for (var property in properties) build += ' ' + property + '="' + properties[property] + '"';
		build += '>';
		for (var param in params){
			if (params[param]) build += '<param name="' + param + '" value="' + params[param] + '" />';
		}
		build += '</object>';
		this.object = ((container) ? container.empty() : new Element('div')).set('html', build).firstChild;
	},

	replaces: function(element){
		element = document.id(element, true);
		element.parentNode.replaceChild(this.toElement(), element);
		return this;
	},

	inject: function(element){
		document.id(element, true).appendChild(this.toElement());
		return this;
	},

	remote: function(){
		return Swiff.remote.apply(Swiff, [this.toElement()].extend(arguments));
	}

});

Swiff.CallBacks = {};

Swiff.remote = function(obj, fn){
	var rs = obj.CallFunction('<invoke name="' + fn + '" returntype="javascript">' + __flash__argumentsToXML(arguments, 2) + '</invoke>');
	return eval(rs);
};

})();

‘	)*+,Xtext/css_*http://fiddle.jshell.net/css/normalize.cssOBbplist00‘jkX$versionX$objectsY$archiverT$top Ü†Ø #)*0123MNOPQRSTUVWXYZ[\]^_`adeU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_*http://fiddle.jshell.net/css/normalize.css“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçî+;ﬁ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-aliveXtext/cssUnginx_Sun, 30 Nov 2014 08:26:14 GMT_Wed, 16 Sep 2015 06:28:59 GMT_W/"547ad4a6-25a"_Wed, 26 Aug 2015 06:28:59 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/Z“+,fg_NSHTTPURLResponse£hi/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—lm_WebResourceResponseÄ    # - 2 7 Z ` { ~ Ç Ö à ã è í ô ú ü ¢ • ® ™ ¨ Æ ∞ ≤ ≥ µ ∑ π ª Ω ø ¡ » – ‹ ﬁ ‡ ‚(.1:CEGNValnprtvxz|~Äãçèëìïóôõùü°¨π¿Œ÷€‡Û )/OoÇ¢ßπ¬«‘◊⁄ﬂÛ˜+.D             n              FOZ*, body, button, input, textarea, select {
  /*text-rendering: optimizeLegibility;*/
  font-size:100%;
}

body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td { 
  margin:0;
  padding:0;
}
table {
  border-collapse:collapse;
  border-spacing:0;
}
fieldset,img { 
  border:0;
}
address,caption,cite,code,dfn,em,strong,th,var {
  font-style:normal;
  font-weight:normal;
}
ol,ul {
  list-style:none;
}
caption,th {
  text-align:left;
}
h1,h2,h3,h4,h5,h6 {
  font-size:100%;
  font-weight:normal;
}
q:before,q:after {
  content:'';
}
abbr,acronym { border:0;}

Ø!.38=BGLQV[`ejoty~Éàçíóú°¶™Æ≤∑ªø√»‘	/012_application/javascript_*https://widget.intercom.io/widget/wafdmsewOQbplist00‘ÉÑX$versionX$objectsY$archiverT$top Ü†Ø-#)*0123YZ[\]^_`abcdefghijklmnopqrstuvwxy|}~U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄ*Ä,ÄÄ+Ä”$%&'(WNS.base[NS.relativeÄ ÄÄ_/https://js.intercomcdn.com/intercom.66cdd132.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçô≈—#≥ »”456GXWNS.keysZNS.objectsØ789:;<=>?@ABCDEFÄ	Ä
ÄÄÄÄÄÄÄÄÄÄÄÄÄÄØHIJKLMNOPQRSTUVWÄÄÄÄÄÄÄÄ Ä!Ä"Ä#Ä$Ä%Ä&Ä'Ä(Ä)\Content-TypeZx-amz-id-2]Accept-RangesZSet-CookieVServer_Content-EncodingWExpires_cf-cache-status]Cache-ControlTDate_x-amz-request-id^Content-LengthVcf-rayTEtagTVary]Last-Modified_application/javascript_L6XdYh1LscwF6p6P1ghagV8/cKhoQ/d7oek83BLHLHwEBAvRebd34EFtfOYyVIDzWY6F6KvyqxNo=Ubytes_Ñ__cfduid=df4164358411e619410f8b62b2a55ffb51440571974; expires=Thu, 25-Aug-16 06:52:54 GMT; path=/; domain=.intercomcdn.com; HttpOnly_cloudflare-nginxTgzip_Wed, 26 Aug 2015 07:22:54 GMTSHIT_public, max-age=1800_Wed, 26 Aug 2015 06:52:54 GMT_5EF2FE4433D81D70V152420_21bd9dd7e9cd1225-HKG_""452bc3d467bd46f852ec6078c003ed10"_Accept-Encoding_Tue, 25 Aug 2015 09:37:57 GMT“+,z{\NSDictionary¢z/ Sd_application/javascript“+,Ä_NSHTTPURLResponse£ÅÇ/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ÖÜ_WebResourceResponseÄ    # - 2 7 g m à ã è í ï ò ú ü ¶ © ¨ Ø ≤ µ ∑ π ª Ω ø ¿ ¬ ƒ ∆ »   Ã Œ ’ › È Î Ì Ô!&1:@CLUWY`hsÜàäåéêíîñòöúû†¢§¶πªΩø¡√≈«…ÀÕœ—”’◊Ÿ€ËÛ&.@NSfu|ÅÜî≠¸âú°¡≈‹¸-RdÑâñôû∑º–‘Ëˆ!             á              #O 	d(function(){var define,require,defined={};!function(){var a={};define=function(a,b,c){void 0===c&&(c=b),defined[a]={deps:b,callback:c}},require=function(b){if(a[b])return a[b];a[b]={};var c=defined[b];if(!c)throw new Error("Module '"+b+"' not found.");for(var d,e=c.deps,f=c.callback,g=[],h=0,i=e.length;i>h;h++)g.push("exports"===e[h]?d={}:require(e[h]));var j=f.apply(this,g);return a[b]=d||j},define.amd={}}(),this._intercom_defined_=defined,this._intercom_define_=define,this._intercom_require_=require;var interop={};!function(){function a(a){return a&&!("prototype"in a)}var b=Function.prototype.bind;interop.hide=function(){a(b)||delete Function.prototype.bind},interop.restore=function(){b&&(Function.prototype.bind=b)}}(),interop.hide(),function(a,b){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){{var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice}b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),function(a,b){"function"==typeof define&&define.amd?define("jquery-transit",["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){function b(a){if(a in l.style)return a;for(var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1),d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):a.each(function(){c.call(this)})}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||a.cssProps[b]||b,b=i(b),m[b]&&(b=i(m[b])),-1===a.inArray(b,c)&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var d=a(c).css("transit:transform");return d.get(b)},set:function(c,d){var e=a(c).css("transit:transform");e.setFromString(b,d),a(c).css({"transit:transform":e})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function k(b){var c=b;return"string"!=typeof c||c.match(/^[\-0-9\.]+/)||(c=a.fx.speeds[c]||a.fx.speeds._default),j(c,"ms")}a.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={},n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.filter=b("Filter"),m.transform3d=c();var o={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},p=m.transitionEnd=o[m.transition]||null;for(var q in m)m.hasOwnProperty(q)&&"undefined"==typeof a.support[q]&&(a.support[q]=m[q]);return l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new d},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),b.style[m.transform]="WebkitTransform"!==m.transform||n?e.toString():e.toString(!0),a(b).data("transform",e)}},a.cssHooks.transform={set:a.cssHooks["transit:transform"].set},a.cssHooks.filter={get:function(a){return a.style[m.filter]},set:function(a,b){a.style[m.filter]=b}},a.fn.jquery<"1.8"&&(a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}}),h("scale"),h("scaleX"),h("scaleY"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&void 0!==a&&(this._translateX=j(a,"px")),null!==b&&void 0!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&b.push(a&&"scale"===c?c+"3d("+this[c]+",1)":a&&"translate"===c?c+"3d("+this[c]+",0)":c+"("+this[c]+")")}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0,l=a.extend(!0,{},b);"function"==typeof c&&(f=c,c=void 0),"object"==typeof c&&(d=c.easing,i=c.delay||0,j="undefined"==typeof c.queue?!0:c.queue,f=c.complete,c=c.duration),"function"==typeof d&&(f=d,d=void 0),"undefined"!=typeof l.easing&&(d=l.easing,delete l.easing),"undefined"!=typeof l.duration&&(c=l.duration,delete l.duration),"undefined"!=typeof l.complete&&(f=l.complete,delete l.complete),"undefined"!=typeof l.queue&&(j=l.queue,delete l.queue),"undefined"!=typeof l.delay&&(i=l.delay,delete l.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof d&&(d=a.cssEase._default),c=k(c);var n=g(l,c,d,i),o=a.transit.enabled&&m.transition,q=o?parseInt(c,10)+parseInt(i,10):0;if(0===q){var r=function(a){h.css(l),f&&f.apply(h),a&&a()};return e(h,j,r),h}var s={},t=function(b){var c=!1,d=function(){c&&h.unbind(p,d),q>0&&h.each(function(){this.style[m.transition]=s[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof b&&b()};q>0&&p&&a.transit.useTransitionEnd?(c=!0,h.bind(p,d)):window.setTimeout(d,q),h.each(function(){if(q>0){var b=this.style[m.transition];""!==b&&(n=b+", "+n),this.style[m.transition]=n}a(this).css(l)})},u=function(a){this.offsetWidth,t(a)};return e(h,j,u),this},a.transit.getTransitionValue=g,a}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=fb.type(a);return"function"===c||fb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(fb.isFunction(b))return fb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(nb.test(b))return fb.filter(b,a,c);b=fb.filter(b,a)}return fb.grep(a,function(a){return fb.inArray(a,b)>=0!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b=vb[a]={};return fb.each(a.match(ub)||[],function(a,c){b[c]=!0}),b}function g(){pb.addEventListener?(pb.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(pb.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(pb.addEventListener||"load"===event.type||"complete"===pb.readyState)&&(g(),fb.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Ab,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:zb.test(c)?fb.parseJSON(c):c}catch(e){}fb.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!fb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(fb.acceptData(a)){var e,f,g=fb.expando,h=a.nodeType,i=h?fb.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=W.pop()||fb.guid++:g),i[j]||(i[j]=h?{}:{toJSON:fb.noop}),("object"==typeof b||"function"==typeof b)&&(d?i[j]=fb.extend(i[j],b):i[j].data=fb.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[fb.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[fb.camelCase(b)])):e=f,e}}function l(a,b,c){if(fb.acceptData(a)){var d,e,f=a.nodeType,g=f?fb.cache:a,h=f?a[fb.expando]:fb.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){fb.isArray(b)?b=b.concat(fb.map(b,fb.camelCase)):b in d?b=[b]:(b=fb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!fb.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?fb.cleanData([a],!0):db.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function m(){return!0}function n(){return!1}function o(){try{return pb.activeElement}catch(a){}}function p(a){var b=Lb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==yb?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==yb?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||fb.nodeName(d,b)?f.push(d):fb.merge(f,q(d,b));return void 0===b||b&&fb.nodeName(a,b)?fb.merge([a],f):f}function r(a){Fb.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return fb.nodeName(a,"table")&&fb.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==fb.find.attr(a,"type"))+"/"+a.type,a}function u(a){var b=Wb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)fb._data(c,"globalEval",!b||fb._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&fb.hasData(a)){var c,d,e,f=fb._data(a),g=fb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)fb.event.add(b,c,h[c][d])}g.data&&(g.data=fb.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!db.noCloneEvent&&b[fb.expando]){e=fb._data(b);for(d in e.events)fb.removeEvent(b,d,e.handle);b.removeAttribute(fb.expando)}"script"===c&&b.text!==a.text?(t(b).text=a.text,u(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),db.html5Clone&&a.innerHTML&&!fb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Fb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function y(b,c){var d=fb(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:fb.css(d[0],"display");
return d.detach(),e}function z(a){var b=pb,c=ac[a];return c||(c=y(a,b),"none"!==c&&c||(_b=(_b||fb("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(_b[0].contentWindow||_b[0].contentDocument).document,b.write(),b.close(),c=y(a,b),_b.detach()),ac[a]=c),c}function A(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=nc.length;e--;)if(b=nc[e]+c,b in a)return b;return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=fb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Db(d)&&(f[g]=fb._data(d,"olddisplay",z(d.nodeName)))):f[g]||(e=Db(d),(c&&"none"!==c||!e)&&fb._data(d,"olddisplay",e?c:fb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c){var d=jc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=fb.css(a,c+Cb[f],!0,e)),d?("content"===c&&(g-=fb.css(a,"padding"+Cb[f],!0,e)),"margin"!==c&&(g-=fb.css(a,"border"+Cb[f]+"Width",!0,e))):(g+=fb.css(a,"padding"+Cb[f],!0,e),"padding"!==c&&(g+=fb.css(a,"border"+Cb[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=bc(a),g=db.boxSizing()&&"border-box"===fb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=cc(a,b,f),(0>e||null==e)&&(e=a.style[b]),ec.test(e))return e;d=g&&(db.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){return setTimeout(function(){oc=void 0}),oc=fb.now()}function I(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=Cb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function J(a,b,c){for(var d,e=(uc[b]||[]).concat(uc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Db(a),p=fb._data(a,"fxshow");c.queue||(h=fb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,fb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=fb.css(a,"display"),k=z(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===fb.css(a,"float")&&(db.inlineBlockNeedsLayout&&"inline"!==k?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",db.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],qc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||fb.style(a,d)}if(!fb.isEmptyObject(m)){p?"hidden"in p&&(o=p.hidden):p=fb._data(a,"fxshow",{}),f&&(p.hidden=!o),o?fb(a).show():l.done(function(){fb(a).hide()}),l.done(function(){var b;fb._removeData(a,"fxshow");for(b in m)fb.style(a,b,m[b])});for(d in m)g=J(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function L(a,b){var c,d,e,f,g;for(c in a)if(d=fb.camelCase(c),e=b[d],f=a[c],fb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function M(a,b,c){var d,e,f=0,g=tc.length,h=fb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=oc||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fb.extend({},b),opts:fb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:oc||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(L(k,j.opts.specialEasing);g>f;f++)if(d=tc[f].call(j,a,k,j.opts))return d;return fb.map(k,J,j),fb.isFunction(j.opts.start)&&j.opts.start.call(a,j),fb.fx.timer(fb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ub)||[];if(fb.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;return f[h]=!0,fb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Sc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=fb.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&fb.extend(!0,a,c),a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(fb.isArray(b))fb.each(b,function(b,e){c||Wc.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==fb.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(b){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function V(a){return fb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},ab=_.toString,bb=_.hasOwnProperty,cb="".trim,db={},eb="1.11.0",fb=function(a,b){return new fb.fn.init(a,b)},gb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,hb=/^-ms-/,ib=/-([\da-z])/gi,jb=function(a,b){return b.toUpperCase()};fb.fn=fb.prototype={jquery:eb,constructor:fb,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=fb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return fb.each(this,a,b)},map:function(a){return this.pushStack(fb.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice},fb.extend=fb.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||fb.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(fb.isPlainObject(c)||(b=fb.isArray(c)))?(b?(b=!1,f=a&&fb.isArray(a)?a:[]):f=a&&fb.isPlainObject(a)?a:{},g[d]=fb.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},fb.extend({expando:"jQuery"+(eb+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===fb.type(a)},isArray:Array.isArray||function(a){return"array"===fb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==fb.type(a)||a.nodeType||fb.isWindow(a))return!1;try{if(a.constructor&&!bb.call(a,"constructor")&&!bb.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(db.ownLast)for(b in a)return bb.call(a,b);for(b in a);return void 0===b||bb.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[ab.call(a)]||"object":typeof a},globalEval:function(b){b&&fb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(hb,"ms-").replace(ib,jb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:cb&&!cb.call("Ôªø¬†")?function(a){return null==a?"":cb.call(a)}:function(a){return null==a?"":(a+"").replace(gb,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fb.merge(d,"string"==typeof a?[a]:a):Z.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return Y.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(e=a[b],b=a,a=e),fb.isFunction(a)?(c=X.call(arguments,2),d=function(){return a.apply(b||this,c.concat(X.call(arguments)))},d.guid=a.guid=a.guid||fb.guid++,d):void 0},now:function(){return+new Date},support:db}),fb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var kb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,o,p,q;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(o=l=N,p=b,q=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(l=b.getAttribute("id"))?o=l.replace(ub,"\\$&"):b.setAttribute("id",o),o="[id='"+o+"'] ",i=j.length;i--;)j[i]=o+n(j[i]);p=tb.test(a)&&k(b.parentNode)||b,q=j.join(",")}if(q)try{return _.apply(c,p.querySelectorAll(q)),c}catch(r){}finally{l||b.removeAttribute("id")}}}return v(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>y.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)y.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=y.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in y.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!d&&b?p:q(p,m,a,h,i),s=c?f||(d?a:o||e)?[]:g:r;if(c&&c(r,s,h,i),e)for(j=q(s,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?bb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):_.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return bb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=y.relative[a[h].type])k=[o(p(k),c)];else{if(c=y.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!y.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&y.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}function u(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&y.relative[f[1].type]){if(b=(y.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!y.relative[h=g.type]);)if((i=y.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return _.apply(c,d),c;break}}return B(a,j)(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,ab=Y.slice,bb=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},cb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",db="[\\x20\\t\\r\\n\\f]",eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fb=eb.replace("w","w#"),gb="\\["+db+"*("+eb+")"+db+"*(?:([*^$|!~]?=)"+db+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fb+")|)|)"+db+"*\\]",hb=":("+eb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+gb.replace(3,8)+")*)|.*)\\)|)",ib=new RegExp("^"+db+"+|((?:^|[^\\\\])(?:\\\\.)*)"+db+"+$","g"),jb=new RegExp("^"+db+"*,"+db+"*"),kb=new RegExp("^"+db+"*([>+~]|"+db+")"+db+"*"),lb=new RegExp("="+db+"*([^\\]'\"]*?)"+db+"*\\]","g"),mb=new RegExp(hb),nb=new RegExp("^"+fb+"$"),ob={ID:new RegExp("^#("+eb+")"),CLASS:new RegExp("^\\.("+eb+")"),TAG:new RegExp("^("+eb.replace("w","w*")+")"),ATTR:new RegExp("^"+gb),PSEUDO:new RegExp("^"+hb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+db+"*(even|odd|(([+-]|)(\\d*)n|)"+db+"*(?:([+-]|)"+db+"*(\\d+)|))"+db+"*\\)|)","i"),bool:new RegExp("^(?:"+cb+")$","i"),needsContext:new RegExp("^"+db+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+db+"*((?:-\\d)?\\d*)"+db+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+db+"?|("+db+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=ab.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(xb){_={apply:Y.length?function(a,b){$.apply(a,ab.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}x=b.support={},A=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!A(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),x.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=rb.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(y.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},y.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete y.find.ID,y.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),y.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},y.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=rb.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+db+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+db+"*(?:value|"+cb+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+db+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=rb.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",hb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?bb.call(D,a)-bb.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?bb.call(D,a)-bb.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=y.attrHandle[b.toLowerCase()],d=c&&X.call(y.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:x.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!x.detectDuplicates,D=!x.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},z=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=z(b);return c},y=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&mb.test(c)&&(b=m(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+db+")"+a+"("+db+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],y.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=bb.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y.pseudos.nth=y.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=h(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=i(w);return l.prototype=y.filters=y.pseudos,y.setFilters=new l,B=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(U).join("")===N,x.detectDuplicates=!!E,F(),x.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(cb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);fb.find=kb,fb.expr=kb.selectors,fb.expr[":"]=fb.expr.pseudos,fb.unique=kb.uniqueSort,fb.text=kb.getText,fb.isXMLDoc=kb.isXML,fb.contains=kb.contains;var lb=fb.expr.match.needsContext,mb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,nb=/^.[^:#\[\.,]*$/;fb.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fb.find.matchesSelector(d,a)?[d]:[]:fb.find.matches(a,fb.grep(b,function(a){return 1===a.nodeType}))},fb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(fb(a).filter(function(){for(b=0;e>b;b++)if(fb.contains(d[b],this))return!0}));for(b=0;e>b;b++)fb.find(a,d[b],c);return c=this.pushStack(e>1?fb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&lb.test(a)?fb(a):a||[],!1).length}});var ob,pb=a.document,qb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,rb=fb.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:qb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ob).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof fb?b[0]:b,fb.merge(this,fb.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:pb,!0)),mb.test(c[1])&&fb.isPlainObject(b))for(c in b)fb.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=pb.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return ob.find(a);this.length=1,this[0]=d}return this.context=pb,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fb.isFunction(a)?"undefined"!=typeof ob.ready?ob.ready(a):a(fb):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),fb.makeArray(a,this))};rb.prototype=fb.fn,ob=fb(pb);var sb=/^(?:parents|prev(?:Until|All))/,tb={children:!0,contents:!0,next:!0,prev:!0};fb.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!fb(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),fb.fn.extend({has:function(a){var b,c=fb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(fb.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=lb.test(a)||"string"!=typeof a?fb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fb.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?fb.unique(f):f)},index:function(a){return a?"string"==typeof a?fb.inArray(this[0],fb(a)):fb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(fb.unique(fb.merge(this.get(),fb(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null
},parents:function(a){return fb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return fb.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return fb.dir(a,"nextSibling")},prevAll:function(a){return fb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return fb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return fb.dir(a,"previousSibling",c)},siblings:function(a){return fb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return fb.sibling(a.firstChild)},contents:function(a){return fb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:fb.merge([],a.childNodes)}},function(a,b){fb.fn[a]=function(c,d){var e=fb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fb.filter(d,e)),this.length>1&&(tb[a]||(e=fb.unique(e)),sb.test(a)&&(e=e.reverse())),this.pushStack(e)}});var ub=/\S+/g,vb={};fb.Callbacks=function(a){a="string"==typeof a?vb[a]||f(a):fb.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(c=a.memory&&f,d=!0,g=h||0,h=0,e=i.length,b=!0;i&&e>g;g++)if(i[g].apply(f[0],f[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function f(b){fb.each(b,function(b,c){var d=fb.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&fb.each(arguments,function(a,c){for(var d;(d=fb.inArray(c,i,d))>-1;)i.splice(d,1),b&&(e>=d&&e--,g>=d&&g--)}),this},has:function(a){return a?fb.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},fb.extend({Deferred:function(a){var b=[["resolve","done",fb.Callbacks("once memory"),"resolved"],["reject","fail",fb.Callbacks("once memory"),"rejected"],["notify","progress",fb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fb.Deferred(function(c){fb.each(b,function(b,f){var g=fb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&fb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fb.extend(a,d):d}},e={};return d.pipe=d.then,fb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&fb.isFunction(a.promise)?g:0,i=1===h?a:fb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?X.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&fb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var wb;fb.fn.ready=function(a){return fb.ready.promise().done(a),this},fb.extend({isReady:!1,readyWait:1,holdReady:function(a){a?fb.readyWait++:fb.ready(!0)},ready:function(a){if(a===!0?!--fb.readyWait:!fb.isReady){if(!pb.body)return setTimeout(fb.ready);fb.isReady=!0,a!==!0&&--fb.readyWait>0||(wb.resolveWith(pb,[fb]),fb.fn.trigger&&fb(pb).trigger("ready").off("ready"))}}}),fb.ready.promise=function(b){if(!wb)if(wb=fb.Deferred(),"complete"===pb.readyState)setTimeout(fb.ready);else if(pb.addEventListener)pb.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{pb.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&pb.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!fb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}g(),fb.ready()}}()}return wb.promise(b)};var xb,yb="undefined";for(xb in fb(db))break;db.ownLast="0"!==xb,db.inlineBlockNeedsLayout=!1,fb(function(){var a,b,c=pb.getElementsByTagName("body")[0];c&&(a=pb.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=pb.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==yb&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(db.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=pb.createElement("div");if(null==db.deleteExpando){db.deleteExpando=!0;try{delete a.test}catch(b){db.deleteExpando=!1}}a=null}(),fb.acceptData=function(a){var b=fb.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var zb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ab=/([A-Z])/g;fb.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?fb.cache[a[fb.expando]]:a[fb.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),fb.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=fb.data(f),1===f.nodeType&&!fb._data(f,"parsedAttrs"))){for(c=g.length;c--;)d=g[c].name,0===d.indexOf("data-")&&(d=fb.camelCase(d.slice(5)),i(f,d,e[d]));fb._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){fb.data(this,a)}):arguments.length>1?this.each(function(){fb.data(this,a,b)}):f?i(f,a,fb.data(f,a)):void 0},removeData:function(a){return this.each(function(){fb.removeData(this,a)})}}),fb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=fb._data(a,b),c&&(!d||fb.isArray(c)?d=fb._data(a,b,fb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=fb.queue(a,b),d=c.length,e=c.shift(),f=fb._queueHooks(a,b),g=function(){fb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return fb._data(a,c)||fb._data(a,c,{empty:fb.Callbacks("once memory").add(function(){fb._removeData(a,b+"queue"),fb._removeData(a,c)})})}}),fb.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?fb.queue(this[0],a):void 0===b?this:this.each(function(){var c=fb.queue(this,a,b);fb._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&fb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fb.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=fb.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=fb._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Bb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Cb=["Top","Right","Bottom","Left"],Db=function(a,b){return a=b||a,"none"===fb.css(a,"display")||!fb.contains(a.ownerDocument,a)},Eb=fb.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===fb.type(c)){e=!0;for(h in c)fb.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,fb.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(fb(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Fb=/^(?:checkbox|radio)$/i;!function(){var a=pb.createDocumentFragment(),b=pb.createElement("div"),c=pb.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",db.leadingWhitespace=3===b.firstChild.nodeType,db.tbody=!b.getElementsByTagName("tbody").length,db.htmlSerialize=!!b.getElementsByTagName("link").length,db.html5Clone="<:nav></:nav>"!==pb.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),db.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",db.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",db.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,db.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){db.noCloneEvent=!1}),b.cloneNode(!0).click()),null==db.deleteExpando){db.deleteExpando=!0;try{delete b.test}catch(d){db.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=pb.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(db[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),db[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Gb=/^(?:input|select|textarea)$/i,Hb=/^key/,Ib=/^(?:mouse|contextmenu)|click/,Jb=/^(?:focusinfocus|focusoutblur)$/,Kb=/^([^.]*)(?:\.(.+)|)$/;fb.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=fb._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=fb.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof fb===yb||a&&fb.event.triggered===a.type?void 0:fb.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(ub)||[""],h=b.length;h--;)f=Kb.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=fb.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=fb.event.special[n]||{},l=fb.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&fb.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),fb.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=fb.hasData(a)&&fb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ub)||[""],j=b.length;j--;)if(h=Kb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)fb.event.remove(a,n+b[j],c,d,!0);fb.isEmptyObject(k)&&(delete q.handle,fb._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||pb],n=bb.call(b,"type")?b.type:b,o=bb.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||pb,3!==d.nodeType&&8!==d.nodeType&&!Jb.test(n+fb.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[fb.expando]?b:new fb.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:fb.makeArray(c,[b]),j=fb.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!fb.isWindow(d)){for(i=j.delegateType||n,Jb.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||pb)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(fb._data(h,"events")||{})[b.type]&&fb._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&fb.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&fb.acceptData(d)&&g&&d[n]&&!fb.isWindow(d)){k=d[g],k&&(d[g]=null),fb.event.triggered=n;try{d[n]()}catch(p){}fb.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=fb.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(fb._data(this,"events")||{})[a.type]||[],j=fb.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=fb.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(d.namespace))&&(a.handleObj=d,a.data=d.data,c=((fb.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?fb(c,this).index(i)>=0:fb.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[fb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ib.test(e)?this.mouseHooks:Hb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||pb),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||pb,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===o()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return fb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return fb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=fb.extend(new fb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?fb.event.trigger(e,null,b):fb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},fb.removeEvent=pb.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===yb&&(a[d]=null),a.detachEvent(d,c))},fb.Event=function(a,b){return this instanceof fb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?m:n):this.type=a,b&&fb.extend(this,b),this.timeStamp=a&&a.timeStamp||fb.now(),void(this[fb.expando]=!0)):new fb.Event(a,b)},fb.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m,this.stopPropagation()}},fb.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){fb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!fb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),db.submitBubbles||(fb.event.special.submit={setup:function(){return fb.nodeName(this,"form")?!1:void fb.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=fb.nodeName(b,"input")||fb.nodeName(b,"button")?b.form:void 0;c&&!fb._data(c,"submitBubbles")&&(fb.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),fb._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&fb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return fb.nodeName(this,"form")?!1:void fb.event.remove(this,"._submit")}}),db.changeBubbles||(fb.event.special.change={setup:function(){return Gb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(fb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),fb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),fb.event.simulate("change",this,a,!0)})),!1):void fb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Gb.test(b.nodeName)&&!fb._data(b,"changeBubbles")&&(fb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||fb.event.simulate("change",this.parentNode,a,!0)}),fb._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return fb.event.remove(this,"._change"),!Gb.test(this.nodeName)}}),db.focusinBubbles||fb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){fb.event.simulate(b,a.target,fb.event.fix(a),!0)};fb.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=fb._data(d,b);e||d.addEventListener(a,c,!0),fb._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=fb._data(d,b)-1;e?fb._data(d,b,e):(d.removeEventListener(a,c,!0),fb._removeData(d,b))}}}),fb.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=n;else if(!d)return this;return 1===e&&(g=d,d=function(a){return fb().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=fb.guid++)),this.each(function(){fb.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,fb(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=n),this.each(function(){fb.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){fb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?fb.event.trigger(a,b,c,!0):void 0}});var Lb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Mb=/ jQuery\d+="(?:null|\d+)"/g,Nb=new RegExp("<(?:"+Lb+")[\\s/>]","i"),Ob=/^\s+/,Pb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qb=/<([\w:]+)/,Rb=/<tbody/i,Sb=/<|&#?\w+;/,Tb=/<(?:script|style|link)/i,Ub=/checked\s*(?:[^=]|=\s*.checked.)/i,Vb=/^$|\/(?:java|ecma)script/i,Wb=/^true\/(.*)/,Xb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:db.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Zb=p(pb),$b=Zb.appendChild(pb.createElement("div"));Yb.optgroup=Yb.option,Yb.tbody=Yb.tfoot=Yb.colgroup=Yb.caption=Yb.thead,Yb.th=Yb.td,fb.extend({clone:function(a,b,c){var d,e,f,g,h,i=fb.contains(a.ownerDocument,a);if(db.html5Clone||fb.isXMLDoc(a)||!Nb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):($b.innerHTML=a.outerHTML,$b.removeChild(f=$b.firstChild)),!(db.noCloneEvent&&db.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fb.isXMLDoc(a)))for(d=q(f),h=q(a),g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g]);if(b)if(c)for(h=h||q(a),d=d||q(f),g=0;null!=(e=h[g]);g++)w(e,d[g]);else w(a,f);return d=q(f,"script"),d.length>0&&v(d,!i&&q(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;l>o;o++)if(f=a[o],f||0===f)if("object"===fb.type(f))fb.merge(n,f.nodeType?[f]:f);else if(Sb.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Qb.exec(f)||["",""])[1].toLowerCase(),k=Yb[i]||Yb._default,h.innerHTML=k[1]+f.replace(Pb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!db.leadingWhitespace&&Ob.test(f)&&n.push(b.createTextNode(Ob.exec(f)[0])),!db.tbody)for(f="table"!==i||Rb.test(f)?"<table>"!==k[1]||Rb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)fb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(fb.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),db.appendChecked||fb.grep(q(n,"input"),r),o=0;f=n[o++];)if((!d||-1===fb.inArray(f,d))&&(g=fb.contains(f.ownerDocument,f),h=q(m.appendChild(f),"script"),g&&v(h),c))for(e=0;f=h[e++];)Vb.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=fb.expando,i=fb.cache,j=db.deleteExpando,k=fb.event.special;null!=(c=a[g]);g++)if((b||fb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?fb.event.remove(c,d):fb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==yb?c.removeAttribute(h):c[h]=null,W.push(e))}}}),fb.fn.extend({text:function(a){return Eb(this,function(a){return void 0===a?fb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pb).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?fb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||fb.cleanData(q(c)),c.parentNode&&(b&&fb.contains(c.ownerDocument,c)&&v(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&fb.cleanData(q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&fb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return fb.clone(this,a,b)})},html:function(a){return Eb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Mb,""):void 0;if(!("string"!=typeof a||Tb.test(a)||!db.htmlSerialize&&Nb.test(a)||!db.leadingWhitespace&&Ob.test(a)||Yb[(Qb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Pb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(fb.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,fb.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=fb.isFunction(m);if(n||j>1&&"string"==typeof m&&!db.checkClone&&Ub.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=fb.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=fb.map(q(h,"script"),t),e=f.length;j>i;i++)d=h,i!==l&&(d=fb.clone(d,!0,!0),e&&fb.merge(f,q(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,fb.map(f,u),i=0;e>i;i++)d=f[i],Vb.test(d.type||"")&&!fb._data(d,"globalEval")&&fb.contains(g,d)&&(d.src?fb._evalUrl&&fb._evalUrl(d.src):fb.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Xb,"")));h=c=null}return this}}),fb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fb.fn[a]=function(a){for(var c,d=0,e=[],f=fb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),fb(f[d])[b](c),Z.apply(e,c.get());return this.pushStack(e)}});var _b,ac={};!function(){var a,b,c=pb.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",db.opacity=/^0.5/.test(a.style.opacity),db.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",db.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,db.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=pb.getElementsByTagName("body")[0],!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=pb.createElement("div"),e=pb.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==yb&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var bc,cc,dc=/^margin/,ec=new RegExp("^("+Bb+")(?!px)[a-z%]+$","i"),fc=/^(top|right|bottom|left)$/;a.getComputedStyle?(bc=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},cc=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bc(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||fb.contains(a.ownerDocument,a)||(g=fb.style(a,b)),ec.test(g)&&dc.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):pb.documentElement.currentStyle&&(bc=function(a){return a.currentStyle},cc=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bc(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),ec.test(g)&&!fc.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function b(){var b,c,d=pb.getElementsByTagName("body")[0];d&&(b=pb.createElement("div"),c=pb.createElement("div"),b.style.cssText=j,d.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",fb.swap(d,null!=d.style.zoom?{zoom:1}:{},function(){e=4===c.offsetWidth}),f=!0,g=!1,h=!0,a.getComputedStyle&&(g="1%"!==(a.getComputedStyle(c,null)||{}).top,f="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),d.removeChild(b),c=d=null)}var c,d,e,f,g,h,i=pb.createElement("div"),j="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",k="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=i.getElementsByTagName("a")[0],c.style.cssText="float:left;opacity:.5",db.opacity=/^0.5/.test(c.style.opacity),db.cssFloat=!!c.style.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",db.clearCloneStyle="content-box"===i.style.backgroundClip,c=i=null,fb.extend(db,{reliableHiddenOffsets:function(){if(null!=d)return d;var a,b,c,e=pb.createElement("div"),f=pb.getElementsByTagName("body")[0];if(f)return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=pb.createElement("div"),a.style.cssText=j,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",d=c&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,d},boxSizing:function(){return null==e&&b(),e},boxSizingReliable:function(){return null==f&&b(),f},pixelPosition:function(){return null==g&&b(),g},reliableMarginRight:function(){var b,c,d,e;if(null==h&&a.getComputedStyle){if(b=pb.getElementsByTagName("body")[0],!b)return;c=pb.createElement("div"),d=pb.createElement("div"),c.style.cssText=j,b.appendChild(c).appendChild(d),e=d.appendChild(pb.createElement("div")),e.style.cssText=d.style.cssText=k,e.style.marginRight=e.style.width="0",d.style.width="1px",h=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return h}})}(),fb.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var gc=/alpha\([^)]*\)/i,hc=/opacity\s*=\s*([^)]*)/,ic=/^(none|table(?!-c[ea]).+)/,jc=new RegExp("^("+Bb+")(.*)$","i"),kc=new RegExp("^([+-])=("+Bb+")","i"),lc={position:"absolute",visibility:"hidden",display:"block"},mc={letterSpacing:0,fontWeight:400},nc=["Webkit","O","Moz","ms"];fb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":db.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=fb.camelCase(b),i=a.style;if(b=fb.cssProps[h]||(fb.cssProps[h]=B(i,h)),g=fb.cssHooks[b]||fb.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=kc.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(fb.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||fb.cssNumber[h]||(c+="px"),db.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=fb.camelCase(b);return b=fb.cssProps[h]||(fb.cssProps[h]=B(a.style,h)),g=fb.cssHooks[b]||fb.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=cc(a,b,d)),"normal"===f&&b in mc&&(f=mc[b]),""===c||c?(e=parseFloat(f),c===!0||fb.isNumeric(e)?e||0:f):f}}),fb.each(["height","width"],function(a,b){fb.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ic.test(fb.css(a,"display"))?fb.swap(a,lc,function(){return F(a,b,d)
}):F(a,b,d):void 0},set:function(a,c,d){var e=d&&bc(a);return D(a,c,d?E(a,b,d,db.boxSizing()&&"border-box"===fb.css(a,"boxSizing",!1,e),e):0)}}}),db.opacity||(fb.cssHooks.opacity={get:function(a,b){return hc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=fb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===fb.trim(f.replace(gc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=gc.test(f)?f.replace(gc,e):f+" "+e)}}),fb.cssHooks.marginRight=A(db.reliableMarginRight,function(a,b){return b?fb.swap(a,{display:"inline-block"},cc,[a,"marginRight"]):void 0}),fb.each({margin:"",padding:"",border:"Width"},function(a,b){fb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Cb[d]+b]=f[d]||f[d-2]||f[0];return e}},dc.test(a)||(fb.cssHooks[a+b].set=D)}),fb.fn.extend({css:function(a,b){return Eb(this,function(a,b,c){var d,e,f={},g=0;if(fb.isArray(b)){for(d=bc(a),e=b.length;e>g;g++)f[b[g]]=fb.css(a,b[g],!1,d);return f}return void 0!==c?fb.style(a,b,c):fb.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Db(this)?fb(this).show():fb(this).hide()})}}),fb.Tween=G,G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fb.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];return this.pos=b=this.options.duration?fb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=fb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){fb.fx.step[a.prop]?fb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[fb.cssProps[a.prop]]||fb.cssHooks[a.prop])?fb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},fb.fx=G.prototype.init,fb.fx.step={};var oc,pc,qc=/^(?:toggle|show|hide)$/,rc=new RegExp("^(?:([+-])=|)("+Bb+")([a-z%]*)$","i"),sc=/queueHooks$/,tc=[K],uc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=rc.exec(b),f=e&&e[3]||(fb.cssNumber[a]?"":"px"),g=(fb.cssNumber[a]||"px"!==f&&+d)&&rc.exec(fb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,fb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};fb.Animation=fb.extend(M,{tweener:function(a,b){fb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],uc[c]=uc[c]||[],uc[c].unshift(b)},prefilter:function(a,b){b?tc.unshift(a):tc.push(a)}}),fb.speed=function(a,b,c){var d=a&&"object"==typeof a?fb.extend({},a):{complete:c||!c&&b||fb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fb.isFunction(b)&&b};return d.duration=fb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fb.fx.speeds?fb.fx.speeds[d.duration]:fb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){fb.isFunction(d.old)&&d.old.call(this),d.queue&&fb.dequeue(this,d.queue)},d},fb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Db).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fb.isEmptyObject(a),f=fb.speed(b,c,d),g=function(){var b=M(this,fb.extend({},a),f);(e||fb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=fb.timers,g=fb._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&sc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&fb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=fb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fb.timers,g=d?d.length:0;for(c.finish=!0,fb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fb.each(["toggle","show","hide"],function(a,b){var c=fb.fn[b];fb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}}),fb.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fb.timers=[],fb.fx.tick=function(){var a,b=fb.timers,c=0;for(oc=fb.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||fb.fx.stop(),oc=void 0},fb.fx.timer=function(a){fb.timers.push(a),a()?fb.fx.start():fb.timers.pop()},fb.fx.interval=13,fb.fx.start=function(){pc||(pc=setInterval(fb.fx.tick,fb.fx.interval))},fb.fx.stop=function(){clearInterval(pc),pc=null},fb.fx.speeds={slow:600,fast:200,_default:400},fb.fn.delay=function(a,b){return a=fb.fx?fb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=pb.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=pb.createElement("select"),d=c.appendChild(pb.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",db.getSetAttribute="t"!==e.className,db.style=/top/.test(a.getAttribute("style")),db.hrefNormalized="/a"===a.getAttribute("href"),db.checkOn=!!b.value,db.optSelected=d.selected,db.enctype=!!pb.createElement("form").enctype,c.disabled=!0,db.optDisabled=!d.disabled,b=pb.createElement("input"),b.setAttribute("value",""),db.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),db.radioValue="t"===b.value,a=b=c=d=e=null}();var vc=/\r/g;fb.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=fb.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,fb(this).val()):a,null==e?e="":"number"==typeof e?e+="":fb.isArray(e)&&(e=fb.map(e,function(a){return null==a?"":a+""})),b=fb.valHooks[this.type]||fb.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=fb.valHooks[e.type]||fb.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(vc,""):null==c?"":c)}}}),fb.extend({valHooks:{option:{get:function(a){var b=fb.find.attr(a,"value");return null!=b?b:fb.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(db.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&fb.nodeName(c.parentNode,"optgroup"))){if(b=fb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fb.makeArray(b),g=e.length;g--;)if(d=e[g],fb.inArray(fb.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),fb.each(["radio","checkbox"],function(){fb.valHooks[this]={set:function(a,b){return fb.isArray(b)?a.checked=fb.inArray(fb(a).val(),b)>=0:void 0}},db.checkOn||(fb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var wc,xc,yc=fb.expr.attrHandle,zc=/^(?:checked|selected)$/i,Ac=db.getSetAttribute,Bc=db.input;fb.fn.extend({attr:function(a,b){return Eb(this,fb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fb.removeAttr(this,a)})}}),fb.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===yb?fb.prop(a,b,c):(1===f&&fb.isXMLDoc(a)||(b=b.toLowerCase(),d=fb.attrHooks[b]||(fb.expr.match.bool.test(b)?xc:wc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=fb.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void fb.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ub);if(f&&1===a.nodeType)for(;c=f[e++];)d=fb.propFix[c]||c,fb.expr.match.bool.test(c)?Bc&&Ac||!zc.test(c)?a[d]=!1:a[fb.camelCase("default-"+c)]=a[d]=!1:fb.attr(a,c,""),a.removeAttribute(Ac?c:d)},attrHooks:{type:{set:function(a,b){if(!db.radioValue&&"radio"===b&&fb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),xc={set:function(a,b,c){return b===!1?fb.removeAttr(a,c):Bc&&Ac||!zc.test(c)?a.setAttribute(!Ac&&fb.propFix[c]||c,c):a[fb.camelCase("default-"+c)]=a[c]=!0,c}},fb.each(fb.expr.match.bool.source.match(/\w+/g),function(a,b){var c=yc[b]||fb.find.attr;yc[b]=Bc&&Ac||!zc.test(b)?function(a,b,d){var e,f;return d||(f=yc[b],yc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,yc[b]=f),e}:function(a,b,c){return c?void 0:a[fb.camelCase("default-"+b)]?b.toLowerCase():null}}),Bc&&Ac||(fb.attrHooks.value={set:function(a,b,c){return fb.nodeName(a,"input")?void(a.defaultValue=b):wc&&wc.set(a,b,c)}}),Ac||(wc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},yc.id=yc.name=yc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},fb.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:wc.set},fb.attrHooks.contenteditable={set:function(a,b,c){wc.set(a,""===b?!1:b,c)}},fb.each(["width","height"],function(a,b){fb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),db.style||(fb.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Cc=/^(?:input|select|textarea|button|object)$/i,Dc=/^(?:a|area)$/i;fb.fn.extend({prop:function(a,b){return Eb(this,fb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=fb.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),fb.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!fb.isXMLDoc(a),f&&(b=fb.propFix[b]||b,e=fb.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=fb.find.attr(a,"tabindex");return b?parseInt(b,10):Cc.test(a.nodeName)||Dc.test(a.nodeName)&&a.href?0:-1}}}}),db.hrefNormalized||fb.each(["href","src"],function(a,b){fb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),db.optSelected||(fb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),fb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fb.propFix[this.toLowerCase()]=this}),db.enctype||(fb.propFix.enctype="encoding");var Ec=/[\t\r\n\f]/g;fb.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(fb.isFunction(a))return this.each(function(b){fb(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ub)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ec," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=fb.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(fb.isFunction(a))return this.each(function(b){fb(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ub)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ec," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?fb.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(fb.isFunction(a)?function(c){fb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=fb(this),f=a.match(ub)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===yb||"boolean"===c)&&(this.className&&fb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":fb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Ec," ").indexOf(b)>=0)return!0;return!1}}),fb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Fc=fb.now(),Gc=/\?/,Hc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fb.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=fb.trim(b+"");return e&&!fb.trim(e.replace(Hc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():fb.error("Invalid JSON: "+b)},fb.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||fb.error("Invalid XML: "+b),c};var Ic,Jc,Kc=/#.*$/,Lc=/([?&])_=[^&]*/,Mc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Oc=/^(?:GET|HEAD)$/,Pc=/^\/\//,Qc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Rc={},Sc={},Tc="*/".concat("*");try{Jc=location.href}catch(Uc){Jc=pb.createElement("a"),Jc.href="",Jc=Jc.href}Ic=Qc.exec(Jc.toLowerCase())||[],fb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jc,type:"GET",isLocal:Nc.test(Ic[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fb.parseJSON,"text xml":fb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,fb.ajaxSettings),b):P(fb.ajaxSettings,a)},ajaxPrefilter:N(Rc),ajaxTransport:N(Sc),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&300>a||304===a,c&&(s=Q(l,v,c)),s=R(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(fb.lastModified[f]=u),u=v.getResponseHeader("etag"),u&&(fb.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--fb.active||fb.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=fb.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?fb(m):fb.event,o=fb.Deferred(),p=fb.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Mc.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Jc)+"").replace(Kc,"").replace(Pc,Ic[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=fb.trim(l.dataType||"*").toLowerCase().match(ub)||[""],null==l.crossDomain&&(d=Qc.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Ic[1]&&d[2]===Ic[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Ic[3]||("http:"===Ic[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=fb.param(l.data,l.traditional)),O(Rc,l,b,v),2===t)return v;i=l.global,i&&0===fb.active++&&fb.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Oc.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Gc.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Lc.test(f)?f.replace(Lc,"$1_="+Fc++):f+(Gc.test(f)?"&":"?")+"_="+Fc++)),l.ifModified&&(fb.lastModified[f]&&v.setRequestHeader("If-Modified-Since",fb.lastModified[f]),fb.etag[f]&&v.setRequestHeader("If-None-Match",fb.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Tc+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=O(Sc,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return fb.get(a,b,c,"json")},getScript:function(a,b){return fb.get(a,void 0,b,"script")}}),fb.each(["get","post"],function(a,b){fb[b]=function(a,c,d,e){return fb.isFunction(c)&&(e=e||d,d=c,c=void 0),fb.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),fb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fb.fn[b]=function(a){return this.on(b,a)}}),fb._evalUrl=function(a){return fb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},fb.fn.extend({wrapAll:function(a){if(fb.isFunction(a))return this.each(function(b){fb(this).wrapAll(a.call(this,b))});if(this[0]){var b=fb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(fb.isFunction(a)?function(b){fb(this).wrapInner(a.call(this,b))}:function(){var b=fb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fb.isFunction(a);return this.each(function(c){fb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fb.nodeName(this,"body")||fb(this).replaceWith(this.childNodes)}).end()}}),fb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!db.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||fb.css(a,"display"))},fb.expr.filters.visible=function(a){return!fb.expr.filters.hidden(a)};var Vc=/%20/g,Wc=/\[\]$/,Xc=/\r?\n/g,Yc=/^(?:submit|button|image|reset|file)$/i,Zc=/^(?:input|select|textarea|keygen)/i;fb.param=function(a,b){var c,d=[],e=function(a,b){b=fb.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=fb.ajaxSettings&&fb.ajaxSettings.traditional),fb.isArray(a)||a.jquery&&!fb.isPlainObject(a))fb.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Vc,"+")},fb.fn.extend({serialize:function(){return fb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fb.prop(this,"elements");return a?fb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fb(this).is(":disabled")&&Zc.test(this.nodeName)&&!Yc.test(a)&&(this.checked||!Fb.test(a))}).map(function(a,b){var c=fb(this).val();return null==c?null:fb.isArray(c)?fb.map(c,function(a){return{name:b.name,value:a.replace(Xc,"\r\n")}}):{name:b.name,value:c.replace(Xc,"\r\n")}}).get()}}),fb.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var $c=0,_c={},ad=fb.ajaxSettings.xhr();a.ActiveXObject&&fb(a).on("unload",function(){for(var a in _c)_c[a](void 0,!0)}),db.cors=!!ad&&"withCredentials"in ad,ad=db.ajax=!!ad,ad&&fb.ajaxTransport(function(a){if(!a.crossDomain||db.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++$c;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete _c[g],b=void 0,f.onreadystatechange=fb.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=_c[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),fb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return fb.globalEval(a),a}}}),fb.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),fb.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=pb.head||fb("head")[0]||pb.documentElement;return{send:function(d,e){b=pb.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var bd=[],cd=/(=)\?(?=&|$)|\?\?/;fb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=bd.pop()||fb.expando+"_"+Fc++;return this[a]=!0,a}}),fb.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(cd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&cd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=fb.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(cd,"$1"+e):b.jsonp!==!1&&(b.url+=(Gc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||fb.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,bd.push(e)),g&&fb.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),fb.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||pb;var d=mb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=fb.buildFragment([a],b,e),e&&e.length&&fb(e).remove(),fb.merge([],d.childNodes))};var dd=fb.fn.load;fb.fn.load=function(a,b,c){if("string"!=typeof a&&dd)return dd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),fb.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&fb.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?fb("<div>").append(fb.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},fb.expr.filters.animated=function(a){return fb.grep(fb.timers,function(b){return a===b.elem}).length};var ed=a.document.documentElement;fb.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fb.css(a,"position"),l=fb(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fb.css(a,"top"),i=fb.css(a,"left"),j=("absolute"===k||"fixed"===k)&&fb.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fb.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){fb.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,fb.contains(b,e)?(typeof e.getBoundingClientRect!==yb&&(d=e.getBoundingClientRect()),c=V(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===fb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fb.nodeName(a[0],"html")||(c=a.offset()),c.top+=fb.css(a[0],"borderTopWidth",!0),c.left+=fb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-fb.css(d,"marginTop",!0),left:b.left-c.left-fb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ed;a&&!fb.nodeName(a,"html")&&"static"===fb.css(a,"position");)a=a.offsetParent;return a||ed})}}),fb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);fb.fn[a]=function(d){return Eb(this,function(a,d,e){var f=V(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?fb(f).scrollLeft():e,c?e:fb(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),fb.each(["top","left"],function(a,b){fb.cssHooks[b]=A(db.pixelPosition,function(a,c){return c?(c=cc(a,b),ec.test(c)?fb(a).position()[b]+"px":c):void 0})}),fb.each({Height:"height",Width:"width"},function(a,b){fb.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){fb.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Eb(this,function(b,c,d){var e;return fb.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?fb.css(b,c,g):fb.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),fb.fn.size=function(){return this.length},fb.fn.andSelf=fb.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fb});var fd=a.jQuery,gd=a.$;return fb.noConflict=function(b){return a.$===fb&&(a.$=gd),b&&a.jQuery===fb&&(a.jQuery=fd),fb},typeof b===yb&&(a.jQuery=a.$=fb),fb}),define("json2",[],function(){"use strict";function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch("function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}var JSON={},cx,escapable,gap,indent,meta,rep;return escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")},JSON}),function(){var a=this,b=a._,c=Array.prototype,d=Object.prototype,e=Function.prototype,f=c.push,g=c.slice,h=c.concat,i=d.toString,j=d.hasOwnProperty,k=Array.isArray,l=Object.keys,m=e.bind,n=function(a){return a instanceof n?a:this instanceof n?void(this._wrapped=a):new n(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):a._=n,n.VERSION="1.7.0";var o=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};n.iteratee=function(a,b,c){return null==a?n.identity:n.isFunction(a)?o(a,b,c):n.isObject(a)?n.matches(a):n.property(a)},n.each=n.forEach=function(a,b,c){if(null==a)return a;b=o(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=n.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},n.map=n.collect=function(a,b,c){if(null==a)return[];b=n.iteratee(b,c);for(var d,e=a.length!==+a.length&&n.keys(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);
return g};var p="Reduce of empty array with no initial value";n.reduce=n.foldl=n.inject=function(a,b,c,d){null==a&&(a=[]),b=o(b,d,4);var e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length,h=0;if(arguments.length<3){if(!g)throw new TypeError(p);c=a[f?f[h++]:h++]}for(;g>h;h++)e=f?f[h]:h,c=b(c,a[e],e,a);return c},n.reduceRight=n.foldr=function(a,b,c,d){null==a&&(a=[]),b=o(b,d,4);var e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length;if(arguments.length<3){if(!g)throw new TypeError(p);c=a[f?f[--g]:--g]}for(;g--;)e=f?f[g]:g,c=b(c,a[e],e,a);return c},n.find=n.detect=function(a,b,c){var d;return b=n.iteratee(b,c),n.some(a,function(a,c,e){return b(a,c,e)?(d=a,!0):void 0}),d},n.filter=n.select=function(a,b,c){var d=[];return null==a?d:(b=n.iteratee(b,c),n.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},n.reject=function(a,b,c){return n.filter(a,n.negate(n.iteratee(b)),c)},n.every=n.all=function(a,b,c){if(null==a)return!0;b=n.iteratee(b,c);var d,e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,!b(a[e],e,a))return!1;return!0},n.some=n.any=function(a,b,c){if(null==a)return!1;b=n.iteratee(b,c);var d,e,f=a.length!==+a.length&&n.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1},n.contains=n.include=function(a,b){return null==a?!1:(a.length!==+a.length&&(a=n.values(a)),n.indexOf(a,b)>=0)},n.invoke=function(a,b){var c=g.call(arguments,2),d=n.isFunction(b);return n.map(a,function(a){return(d?b:a[b]).apply(a,c)})},n.pluck=function(a,b){return n.map(a,n.property(b))},n.where=function(a,b){return n.filter(a,n.matches(b))},n.findWhere=function(a,b){return n.find(a,n.matches(b))},n.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b&&null!=a){a=a.length===+a.length?a:n.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=n.iteratee(b,c),n.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},n.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=a.length===+a.length?a:n.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=n.iteratee(b,c),n.each(a,function(a,c,d){e=b(a,c,d),(g>e||1/0===e&&1/0===f)&&(f=a,g=e)});return f},n.shuffle=function(a){for(var b,c=a&&a.length===+a.length?a:n.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=n.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},n.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=n.values(a)),a[n.random(a.length-1)]):n.shuffle(a).slice(0,Math.max(0,b))},n.sortBy=function(a,b,c){return b=n.iteratee(b,c),n.pluck(n.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var q=function(a){return function(b,c,d){var e={};return c=n.iteratee(c,d),n.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};n.groupBy=q(function(a,b,c){n.has(a,c)?a[c].push(b):a[c]=[b]}),n.indexBy=q(function(a,b,c){a[c]=b}),n.countBy=q(function(a,b,c){n.has(a,c)?a[c]++:a[c]=1}),n.sortedIndex=function(a,b,c,d){c=n.iteratee(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=f+g>>>1;c(a[h])<e?f=h+1:g=h}return f},n.toArray=function(a){return a?n.isArray(a)?g.call(a):a.length===+a.length?n.map(a,n.identity):n.values(a):[]},n.size=function(a){return null==a?0:a.length===+a.length?a.length:n.keys(a).length},n.partition=function(a,b,c){b=n.iteratee(b,c);var d=[],e=[];return n.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},n.first=n.head=n.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:g.call(a,0,b)},n.initial=function(a,b,c){return g.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},n.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:g.call(a,Math.max(a.length-b,0))},n.rest=n.tail=n.drop=function(a,b,c){return g.call(a,null==b||c?1:b)},n.compact=function(a){return n.filter(a,n.identity)};var r=function(a,b,c,d){if(b&&n.every(a,n.isArray))return h.apply(d,a);for(var e=0,g=a.length;g>e;e++){var i=a[e];n.isArray(i)||n.isArguments(i)?b?f.apply(d,i):r(i,b,c,d):c||d.push(i)}return d};n.flatten=function(a,b){return r(a,b,!1,[])},n.without=function(a){return n.difference(a,g.call(arguments,1))},n.uniq=n.unique=function(a,b,c,d){if(null==a)return[];n.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=n.iteratee(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(b)g&&f===i||e.push(i),f=i;else if(c){var j=c(i,g,a);n.indexOf(f,j)<0&&(f.push(j),e.push(i))}else n.indexOf(e,i)<0&&e.push(i)}return e},n.union=function(){return n.uniq(r(arguments,!0,!0,[]))},n.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!n.contains(b,f)){for(var g=1;c>g&&n.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},n.difference=function(a){var b=r(g.call(arguments,1),!0,!0,[]);return n.filter(a,function(a){return!n.contains(b,a)})},n.zip=function(a){if(null==a)return[];for(var b=n.max(arguments,"length").length,c=Array(b),d=0;b>d;d++)c[d]=n.pluck(arguments,d);return c},n.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},n.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=n.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}for(;e>d;d++)if(a[d]===b)return d;return-1},n.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1},n.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var s=function(){};n.bind=function(a,b){var c,d;if(m&&a.bind===m)return m.apply(a,g.call(arguments,1));if(!n.isFunction(a))throw new TypeError("Bind must be called on a function");return c=g.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(g.call(arguments)));s.prototype=a.prototype;var e=new s;s.prototype=null;var f=a.apply(e,c.concat(g.call(arguments)));return n.isObject(f)?f:e}},n.partial=function(a){var b=g.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===n&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},n.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=n.bind(a[c],a);return a},n.memoize=function(a,b){var c=function(d){var e=c.cache,f=b?b.apply(this,arguments):d;return n.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},n.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},n.defer=function(a){return n.delay.apply(n,[a,1].concat(g.call(arguments,1)))},n.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:n.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=n.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},n.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=n.now()-g;b>j&&j>0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=n.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},n.wrap=function(a,b){return n.partial(b,a)},n.negate=function(a){return function(){return!a.apply(this,arguments)}},n.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},n.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},n.before=function(a,b){var c;return function(){return--a>0?c=b.apply(this,arguments):b=null,c}},n.once=n.partial(n.before,2),n.keys=function(a){if(!n.isObject(a))return[];if(l)return l(a);var b=[];for(var c in a)n.has(a,c)&&b.push(c);return b},n.values=function(a){for(var b=n.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},n.pairs=function(a){for(var b=n.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},n.invert=function(a){for(var b={},c=n.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},n.functions=n.methods=function(a){var b=[];for(var c in a)n.isFunction(a[c])&&b.push(c);return b.sort()},n.extend=function(a){if(!n.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)j.call(b,c)&&(a[c]=b[c])}return a},n.pick=function(a,b,c){var d,e={};if(null==a)return e;if(n.isFunction(b)){b=o(b,c);for(d in a){var f=a[d];b(f,d,a)&&(e[d]=f)}}else{var i=h.apply([],g.call(arguments,1));a=new Object(a);for(var j=0,k=i.length;k>j;j++)d=i[j],d in a&&(e[d]=a[d])}return e},n.omit=function(a,b,c){if(n.isFunction(b))b=n.negate(b);else{var d=n.map(h.apply([],g.call(arguments,1)),String);b=function(a,b){return!n.contains(d,b)}}return n.pick(a,b,c)},n.defaults=function(a){if(!n.isObject(a))return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},n.clone=function(a){return n.isObject(a)?n.isArray(a)?a.slice():n.extend({},a):a},n.tap=function(a,b){return b(a),a};var t=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof n&&(a=a._wrapped),b instanceof n&&(b=b._wrapped);var e=i.call(a);if(e!==i.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(n.isFunction(g)&&g instanceof g&&n.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var j,k;if("[object Array]"===e){if(j=a.length,k=j===b.length)for(;j--&&(k=t(a[j],b[j],c,d)););}else{var l,m=n.keys(a);if(j=m.length,k=n.keys(b).length===j)for(;j--&&(l=m[j],k=n.has(b,l)&&t(a[l],b[l],c,d)););}return c.pop(),d.pop(),k};n.isEqual=function(a,b){return t(a,b,[],[])},n.isEmpty=function(a){if(null==a)return!0;if(n.isArray(a)||n.isString(a)||n.isArguments(a))return 0===a.length;for(var b in a)if(n.has(a,b))return!1;return!0},n.isElement=function(a){return!(!a||1!==a.nodeType)},n.isArray=k||function(a){return"[object Array]"===i.call(a)},n.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},n.each(["Arguments","Function","String","Number","Date","RegExp"],function(a){n["is"+a]=function(b){return i.call(b)==="[object "+a+"]"}}),n.isArguments(arguments)||(n.isArguments=function(a){return n.has(a,"callee")}),"function"!=typeof/./&&(n.isFunction=function(a){return"function"==typeof a||!1}),n.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},n.isNaN=function(a){return n.isNumber(a)&&a!==+a},n.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===i.call(a)},n.isNull=function(a){return null===a},n.isUndefined=function(a){return void 0===a},n.has=function(a,b){return null!=a&&j.call(a,b)},n.noConflict=function(){return a._=b,this},n.identity=function(a){return a},n.constant=function(a){return function(){return a}},n.noop=function(){},n.property=function(a){return function(b){return b[a]}},n.matches=function(a){var b=n.pairs(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},n.times=function(a,b,c){var d=Array(Math.max(0,a));b=o(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},n.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},n.now=Date.now||function(){return(new Date).getTime()};var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},v=n.invert(u),w=function(a){var b=function(b){return a[b]},c="(?:"+n.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};n.escape=w(u),n.unescape=w(v),n.result=function(a,b){if(null==a)return void 0;var c=a[b];return n.isFunction(c)?a[b]():c};var x=0;n.uniqueId=function(a){var b=++x+"";return a?a+b:b},n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},A=/\\|'|\r|\n|\u2028|\u2029/g,B=function(a){return"\\"+z[a]};n.template=function(a,b,c){!b&&c&&(b=c),b=n.defaults({},b,n.templateSettings);var d=RegExp([(b.escape||y).source,(b.interpolate||y).source,(b.evaluate||y).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(A,B),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,n)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},n.chain=function(a){var b=n(a);return b._chain=!0,b};var C=function(a){return this._chain?n(a).chain():a};n.mixin=function(a){n.each(n.functions(a),function(b){var c=n[b]=a[b];n.prototype[b]=function(){var a=[this._wrapped];return f.apply(a,arguments),C.call(this,c.apply(n,a))}})},n.mixin(n),n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=c[a];n.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],C.call(this,c)}}),n.each(["concat","join","slice"],function(a){var b=c[a];n.prototype[a]=function(){return C.call(this,b.apply(this._wrapped,arguments))}}),n.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return n})}.call(this),function(a,b){"use strict";"function"==typeof define&&define.amd?define("nexus-client",["underscore","atmosphere","nexus-connection"],function(c,d,e){return b(a,c,d,e)}):a.NexusClient=b(a,a._,a.atmosphere,a.NexusConnection)}(this,function(a,b,c,d){"use strict";function e(a,b){this._endpoints=a,this._logger=b,this._seenMessages={},this._userIsPresent=!1,this._sendPresenceImmediatelyWhenPresent=!0,this._userPresenceFrequencySecs=60,this.connections=this._createConnections(),this._startPingTest(),this._startConnectionKeepAlive()}var f=12e5,g="0.0.62";return e.prototype.addListener=function(a,c){b.each(this.connections,function(b){b.addListener(a,c)})},e.prototype.sendEvent=function(a,b){this._publish({eventName:a,eventData:b})},e.prototype.sendUserEvent=function(a,b,c){this._publish({"nx.ToUser":a,eventName:b,eventData:c})},e.prototype.newMessage=function(a){this.sendEvent("NewMessage",a)},e.prototype.newComment=function(a){this.sendEvent("NewComment",a)},e.prototype.getMetrics=function(){return void 0!==this._lastResetMetrics&&(new Date).getTime()-this._lastResetMetrics>f?void 0:{version:g,endpoints:b.map(this.connections,function(a){return a.getMetrics()})}},e.prototype.resetMetrics=function(){b.each(this.connections,function(a){a.resetMetrics()}),this._lastResetMetrics=(new Date).getTime()},e.prototype.getEndpoints=function(){return this._endpoints},e.prototype.setUserPresent=function(){this._userIsPresent||(this._userIsPresent=!0,this._sendPresenceImmediatelyWhenPresent&&(this._sendPresenceImmediatelyWhenPresent=!1,this._userPresence(),this._startUserPresence()))},e.prototype.setUserAbsent=function(){this._userIsPresent=!1},e.prototype.shutdown=function(){this._stopUserPresence(),b.each(this.connections,function(a){a.shutdown()})},e.prototype._publish=function(a){var c=this._generateGuid();a.eventGuid=c,b.each(this.connections,function(b){b.publish(a)})},e.prototype._userPresence=function(){this._userIsPresent?this._sendUserPresenceEvent():(this._sendPresenceImmediatelyWhenPresent=!0,this._stopUserPresence())},e.prototype._sendUserPresenceEvent=function(){this.sendEvent("nx.UserPresence",{})},e.prototype._startUserPresence=function(){this.userPresenceInterval=setInterval(b.bind(this._userPresence,this),1e3*this._userPresenceFrequencySecs)},e.prototype._stopUserPresence=function(){this.userPresenceInterval&&(this.userPresenceInterval=clearInterval(this.userPresenceInterval))},e.prototype._createConnections=function(){return b.map(this._endpoints,function(a){return new d(a,g,this._seenMessages,b.bind(this._sendUserPresenceEvent,this),this._logger)},this)},e.prototype._startPingTest=function(){b.each(this.connections,function(a){a.startPingTest()})},e.prototype._startConnectionKeepAlive=function(){b.each(this.connections,function(a){a.startConnectionKeepAlive()})},e.prototype._generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},e}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("nexus-connection",["underscore","atmosphere"],function(c,d){return b(a,c,d)}):a.NexusConnection=b(a,a._,a.atmosphere)}(this,function(a,b,c){"use strict";function d(a,b,c,d,e){this._endpoint=a,this._transport=this._getTransport(),this._logger=e,this._clientVersion=b,this._onFirstConnect=d,this._allowReconnect=!0,this._listeners={},this._seenMessages=c,this._connectionAttempts=0,this._lastMessageSentAt=this._now(),this.websocket={hadConnection:!1},this["long-polling"]={hadConnection:!1},this.jsonp={hadConnection:!1},this.resetMetrics(),this._subscribe()}var e="/client-test",f=33e4;return d.prototype.addListener=function(a,b){void 0===this._listeners[a]?this._listeners[a]=[b]:this._listeners[a].push(b)},d.prototype.resetMetrics=function(){var a={connections:0,connectionDuration:0,reconnections:0,backoffDuration:0},c={endpoint:this._endpoint,messagesReceived:0,uniqueMessagesReceived:0,errors:0,messagesPublished:0,timeouts:0,transportFailures:0,attempts:0,successes:0,failures:0,totalTransitTime:0,healthcheckFailures:0,transports:{websocket:b.clone(a),"long-polling":b.clone(a),jsonp:b.clone(a)}};this.metrics=b.clone(c)},d.prototype.getMetrics=function(){return this._sliceTimingMetrics(),this.metrics},d.prototype.publish=function(a){this._hasSubscription()&&(this._seenMessages[a.eventGuid]=!0,this._subscription.push(JSON.stringify(a)),this._lastMessageSentAt=this._now())},d.prototype.startPingTest=function(){this.addListener("ACK",b.bind(this._handlePingResponse,this)),this._pingTestInterval=setInterval(b.bind(function(){this._ping()},this),3e5)},d.prototype.stopPingTest=function(){void 0!==this._pingTestInterval&&clearInterval(this._pingTestInterval)},d.prototype.startConnectionKeepAlive=function(){this._keepAliveInterval=setInterval(b.bind(function(){this._keepAlive()},this),3e5)},d.prototype.stopKeepAlive=function(){void 0!==this._keepAliveInterval&&clearInterval(this._keepAliveInterval)},d.prototype.shutdown=function(){this._allowReconnect=!1,this.stopPingTest(),this.stopKeepAlive(),this._subscription.close()},d.prototype._subscribe=function(){if(window.XDomainRequest)return this._logger.info("Not running Nexus client test on IE8/9"),this._createSubscription(),void this._setConnectionStart();var a=this._healthcheckEndpoint(),c=new XMLHttpRequest;c.onreadystatechange=b.bind(function(){4===c.readyState&&200===c.status?(this._createSubscription(),this._setConnectionStart()):4===c.readyState&&200!==c.status&&(this.metrics.healthcheckFailures++,this._connectionAttempts++,this._logger.info("Endpoint "+a+" unavailable, scheduling resubscribe"),this._scheduleReconnect("healthcheck-failure"))},this),c.open("GET",a,!0),c.timeout=2e3,c.send(null)},d.prototype._createSubscription=function(){var a=this._endpoint,d=this._transport;-1!==a.indexOf("router")?"long-polling"===d||"jsonp"===d?(a=a.replace(/nexus-router-a-\d+/,"nexus-long-poller-a"),a=a.replace(/nexus-router-b-\d+/,"nexus-long-poller-b")):(a=a.replace(/nexus-router-a-\d+/,"nexus-websocket-a"),a=a.replace(/nexus-router-b-\d+/,"nexus-websocket-b")):("long-polling"===d||"jsonp"===d)&&(a=a.replace(/websocket/,"long-poller"));var e={websocket:{connectTimeout:2e4},"long-polling":{connectTimeout:-1,enableXDR:!0,withCredentials:!0},jsonp:{connectTimeout:-1,enableXDR:!0,withCredentials:!0}},f={url:a,shared:!1,transport:d,fallbackTransport:"none",maxReconnectOnClose:0,reconnectOnServerError:!1,closeAsync:!0,timeout:13e4,onOpen:b.bind(this._onOpen,this),onClose:b.bind(this._onClose,this),onMessage:b.bind(this._onMessage,this),onError:b.bind(this._onError,this),onMessagePublished:b.bind(this._onMessagePublished,this),onClientTimeout:b.bind(this._onClientTimeout,this),onTransportFailure:b.bind(this._onTransportFailure,this),environment:"production",headers:{"X-Nexus-Version":this._clientVersion}};b.extend(f,e[d]),this._logger.info("Connecting to Nexus at "+a+" via "+d),this._subscription=c.subscribe(f)},d.prototype._onOpen=function(a){this[a.transport].hadConnection=!0,this.metrics.transports[a.transport].connections++,this._logger.info("Opened "+a.transport+" Nexus connection "+this._connectionUuidForResponse(a)),0===this._connectionAttempts&&this._onFirstConnect()},d.prototype._onClose=function(a){this._logger.info("Closed "+a.transport+" Nexus connection "+this._connectionUuidForResponse(a))},d.prototype._onMessage=function(a){this.metrics.messagesReceived++;try{var b=JSON.parse(a.messages[0]),c=b.eventGuid;if(void 0!==this._seenMessages[c])return;this._seenMessages[c]=!0,this.metrics.uniqueMessagesReceived++,this._callListeners(b.eventName,b)}catch(d){this.metrics.errors++,this._logger.error(d)}},d.prototype._onError=function(a){var b=this._connectionUuidForResponse(a);"maxReconnectOnClose reached"===a.reasonPhrase&&"jsonp"===this._transport&&this[this._transport].hadConnection&&0===a.status?this._reconnect(b):("maxReconnectOnClose reached"===a.reasonPhrase||"Unable to reconnect with fallback transport"===a.reasonPhrase||a.status>=500&&a.status<600)&&this._retry(b),this._logger.info("Error for Nexus connection "+b+": "+a.status+" - "+a.reasonPhrase),this.metrics.errors++},d.prototype._onMessagePublished=function(){this.metrics.messagesPublished++},d.prototype._onClientTimeout=function(a){this._logger.info("Client timeout for Nexus connection "+a.uuid),this._retry(a.uuid),this.metrics.timeouts++},d.prototype._onTransportFailure=function(a,b){this._logger.info("Client timeout for Nexus connection "+b.uuid+": "+a),this.metrics.transportFailures++},d.prototype._retry=function(a){return this._recordConnectionEnd(),"websocket"!==this._transport||this[this._transport].hadConnection?(this[this._transport].hadConnection=!1,this._transport=this._getTransport(),this._connectionAttempts++,void this._scheduleReconnect(a)):(this._transport=this._getFallbackTransport(),void this._reconnect(a))},d.prototype._scheduleReconnect=function(a){var c=this._calculateBackoff();this._logger.info("On retry number "+this._connectionAttempts+" for endpoint "+this._endpoint+" - backing off for "+c+"ms"),this._setBackoffStart(),b.delay(b.bind(function(){this._recordBackoffEnd(),this._reconnect(a)},this),c)},d.prototype._reconnect=function(a){this._allowReconnect&&("healthcheck-failure"===a?this._subscribe():this._subscriptionReconnect(a))},d.prototype._subscriptionReconnect=function(a){a===this._subscription.getUUID()?(this._subscription.close(),this._subscribe()):this._logger.info("Not reconnecting to Nexus: asked to reconnect for "+a+' (probably due to a "close" request failure) but current connection is '+this._subscription.getUUID())},d.prototype._setConnectionStart=function(){this[this._transport].lastConnectionAt=this._now()},d.prototype._setBackoffStart=function(){this[this._transport].lastBackoffAt=this._now()},d.prototype._recordConnectionEnd=function(){var a=this._transport;this.metrics.transports[a].connectionDuration+=this._now()-this[a].lastConnectionAt,this[a].lastConnectionAt=void 0},d.prototype._recordBackoffEnd=function(){var a=this._transport;this.metrics.transports[a].reconnections++,this.metrics.transports[a].backoffDuration+=this._now()-this[a].lastBackoffAt,this[a].lastBackoffAt=void 0},d.prototype._sliceTimingMetrics=function(){var a=this._transport;void 0!==this[a].lastConnectionAt?(this.metrics.transports[a].connectionDuration+=this._now()-this[a].lastConnectionAt,this._setConnectionStart()):void 0!==this[a].lastBackoffAt&&(this.metrics.transports[a].backoffDuration+=this._now()-this[a].lastBackoffAt,this._setBackoffStart())},d.prototype._handlePingResponse=function(a){if(!b.isNumber(this._inFlightPing)||this._inFlightPing!==a.ACK.sendTime)return this._logger.info("Received unexpected ACK - something else is pinging for this user's channel - disabling pinging"),void clearInterval(this._pingTestInterval);var c=this._now()-a.ACK.sendTime;this.metrics.successes++,this.metrics.totalTransitTime+=c,this._connectionAttempts>0&&this._connectionAttempts--,delete this._inFlightPing},d.prototype._keepAlive=function(){if(this._hasSubscription()&&this._now()-this._lastMessageSentAt>f){var a=this._now(),b={eventName:"nx.KeepAlive",eventGuid:a,eventData:{sendTime:a}};this.publish(b)}},d.prototype._ping=function(){if(this._hasSubscription()){b.isNumber(this._inFlightPing)&&this.metrics.failures++;var a=this._now();this._inFlightPing=a;var c={eventName:"nx.Ping",eventGuid:a,eventData:{sendTime:a,endpoint:this._endpoint}};this.metrics.attempts++,this.publish(c)}},d.prototype._callListeners=function(a,c){b.each(this._listeners[a],b.bind(function(a){a(c)},this))},d.prototype._connectionUuidForResponse=function(a){return b.isObject(a.request)?a.request.uuid:this._subscription.getUUID()},d.prototype._calculateBackoff=function(){var a=Math.min(10,this._connectionAttempts+4),b=Math.pow(2,a),c=b*Math.random(),d=b+c;return 1e3*d},d.prototype._getTransport=function(){return this._supportsWebSocket()?"websocket":this._getFallbackTransport()},d.prototype._getFallbackTransport=function(){return window.XDomainRequest&&document.location.protocol!==this._parsedEndpoint().protocol?"jsonp":"long-polling"},d.prototype._supportsWebSocket=function(){return window.WebSocket||window.MozWebSocket},d.prototype._healthcheckEndpoint=function(){var a=this._parsedEndpoint();return a.protocol+"//"+a.host+e},d.prototype._parsedEndpoint=function(){var a=document.createElement("a");return a.href=this._endpoint,{host:a.host,hostname:a.hostname,pathname:a.pathname,port:a.port,protocol:a.protocol,search:a.search,hash:a.hash}},d.prototype._hasSubscription=function(){return void 0!==this._subscription},d.prototype._now=function(){return(new Date).getTime()},d}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("atmosphere",[],function(){return b()}):a.atmosphere=b()}(this,function(){"use strict";var a,b="2.2.6-javascript",c={},d=!1,e=[],f=[],g=0,h="production",i=Object.prototype.hasOwnProperty;return c={onError:function(){},onClose:function(){},onOpen:function(){},onReopen:function(){},onMessage:function(){},onReconnect:function(){},onMessagePublished:function(){},onTransportFailure:function(){},onLocalMessage:function(){},onFailureToReconnect:function(){},onClientTimeout:function(){},onOpenAfterResume:function(){},WebsocketApiAdapter:function(a){var b,d;return a.onMessage=function(a){d.onmessage({data:a.responseBody})},a.onMessagePublished=function(a){d.onmessage({data:a.responseBody})},a.onOpen=function(a){d.onopen(a)},d={close:function(){b.close()},send:function(a){b.push(a)},onmessage:function(){},onopen:function(){},onclose:function(){},onerror:function(){}},b=new c.subscribe(a),d},AtmosphereRequest:function(a){function e(){ub=!0,yb=!1,vb=0,pb=null,qb=null,rb=null,sb=null}function i(){n(),e()}function j(a){return"debug"==a?"debug"===nb.logLevel:"info"==a?"info"===nb.logLevel||"debug"===nb.logLevel:"warn"==a?"warn"===nb.logLevel||"info"===nb.logLevel||"debug"===nb.logLevel:"error"==a?"error"===nb.logLevel||"warn"===nb.logLevel||"info"===nb.logLevel||"debug"===nb.logLevel:!1}function k(a,b){return""===ob.partialMessage&&"streaming"===b.transport&&a.responseText.length>b.maxStreamingLength?!0:!1}function l(){if(nb.enableProtocol&&!nb.firstMessage){var a="X-Atmosphere-Transport=close&X-Atmosphere-tracking-id="+nb.uuid;c.util.each(nb.headers,function(b,d){var e=c.util.isFunction(d)?d.call(this,nb,nb,ob):d;null!=e&&(a+="&"+encodeURIComponent(b)+"="+encodeURIComponent(e))});var b=nb.url.replace(/([?&])_=[^&]*/,a);b+=b===nb.url?(/\?/.test(nb.url)?"&":"?")+a:"";var d={connected:!1},e=new c.AtmosphereRequest(d);e.attachHeadersAsQueryString=!1,e.dropHeaders=!0,e.url=b,e.contentType="text/plain",e.transport="polling",e.method="GET",e.data="",nb.enableXDR&&(e.enableXDR=nb.enableXDR),e.async=nb.closeAsync,W("",e)}}function m(){j("debug")&&c.util.debug("Closing"),yb=!0,nb.reconnectId&&(clearTimeout(nb.reconnectId),delete nb.reconnectId),nb.heartbeatTimer&&clearTimeout(nb.heartbeatTimer),nb.reconnect=!1,ob.request=nb,ob.state="unsubscribe",ob.responseBody="",ob.status=408,ob.partialMessage="",jb(),l(),n()}function n(){ob.partialMessage="",nb.id&&clearTimeout(nb.id),nb.heartbeatTimer&&clearTimeout(nb.heartbeatTimer),null!=sb&&(sb.close(),sb=null),null!=tb&&(tb.abort(),tb=null),null!=rb&&(rb.abort(),rb=null),null!=pb&&(pb.close(),pb=null),null!=qb&&(qb.close(),qb=null),o()}function o(){null!=kb&&(clearInterval(lb),document.cookie=mb+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",kb.signal("close",{reason:"",heir:yb?(kb.get("children")||[])[0]:Bb}),kb.close()),null!=Ab&&Ab.close()}function p(a){i(),nb=c.util.extend(nb,a),h=nb.environment,nb.mrequest=nb.reconnect,nb.reconnect||(nb.reconnect=!0)}function q(){return null!=nb.webSocketImpl||window.WebSocket||window.MozWebSocket}function r(){return window.EventSource}function s(){if(nb.shared){if(Ab=t(nb),null!=Ab&&(j("debug")&&c.util.debug("Storage service available. All communication will be local"),Ab.open(nb)))return;j("debug")&&c.util.debug("No Storage service available."),Ab=null}nb.firstMessage=0==g?!0:!1,nb.isOpen=!1,nb.ctime=c.util.now(),0===nb.uuid&&(nb.uuid=g),ob.closedByClientTimeout=!1,"websocket"!==nb.transport&&"sse"!==nb.transport?L(nb):"websocket"===nb.transport?q()?B(!1):H("Websocket is not supported, using request.fallbackTransport ("+nb.fallbackTransport+")"):"sse"===nb.transport&&(r()?A(!1):H("Server Side Events(SSE) is not supported, using request.fallbackTransport ("+nb.fallbackTransport+")"))}function t(a){function b(a,b){var c,d=a.length;for(c=0;d>c;c++)a[c]===b&&a.splice(c,1);return d!==a.length}function d(b){var d=c.util.parseJSON(b),e=d.data;if("c"===d.target)switch(d.type){case"open":v("opening","local",nb);break;case"close":h||(h=!0,"aborted"===e.reason?m():e.heir===Bb?s():setTimeout(function(){s()},100));break;case"message":eb(e,"messageReceived",200,a.transport);break;case"localMessage":db(e)}}function e(){var a=new RegExp("(?:^|; )("+encodeURIComponent(i)+")=([^;]*)").exec(document.cookie);return a?c.util.parseJSON(decodeURIComponent(a[2])):void 0}var f,g,h,i="atmosphere-"+a.url,j={storage:function(){function e(a){a.key===i&&a.newValue&&d(a.newValue)}if(c.util.storage){var f=window.localStorage,g=function(a){return c.util.parseJSON(f.getItem(i+"-"+a))},h=function(a,b){f.setItem(i+"-"+a,c.util.stringifyJSON(b))};return{init:function(){return h("children",g("children").concat([Bb])),c.util.on(window,"storage",e),g("opened")},signal:function(a,b){f.setItem(i,c.util.stringifyJSON({target:"p",type:a,data:b}))},close:function(){var d=g("children");c.util.off(window,"storage",e),d&&b(d,a.id)&&h("children",d)}}}},windowref:function(){var a=window.open("",i.replace(/\W/g,""));if(a&&!a.closed&&a.callbacks)return{init:function(){return a.callbacks.push(d),a.children.push(Bb),a.opened},signal:function(b,d){!a.closed&&a.fire&&a.fire(c.util.stringifyJSON({target:"p",type:b,data:d}))
},close:function(){h||(b(a.callbacks,d),b(a.children,Bb))}}}};return f=e(),!f||c.util.now()-f.ts>1e3||!(g=j.storage()||j.windowref())?void 0:{open:function(){var b;return lb=setInterval(function(){var a=f;f=e(),f&&a.ts!==f.ts||d(c.util.stringifyJSON({target:"c",type:"close",data:{reason:"error",heir:a.heir}}))},1e3),b=g.init(),b&&setTimeout(function(){v("opening","local",a)},50),b},send:function(a){g.signal("send",a)},localSend:function(a){g.signal("localSend",c.util.stringifyJSON({id:Bb,event:a}))},close:function(){yb||(clearInterval(lb),g.signal("close"),g.close())}}}function u(){function a(a){var b=c.util.parseJSON(a),d=b.data;if("p"===b.target)switch(b.type){case"send":V(d);break;case"localSend":db(d);break;case"close":m()}}function b(){document.cookie=mb+"="+encodeURIComponent(c.util.stringifyJSON({ts:c.util.now()+1,heir:(d.get("children")||[])[0]}))+"; path=/"}var d,e="atmosphere-"+nb.url,f={storage:function(){function b(b){b.key===e&&b.newValue&&a(b.newValue)}if(c.util.storage){var d=window.localStorage;return{init:function(){c.util.on(window,"storage",b)},signal:function(a,b){d.setItem(e,c.util.stringifyJSON({target:"c",type:a,data:b}))},get:function(a){return c.util.parseJSON(d.getItem(e+"-"+a))},set:function(a,b){d.setItem(e+"-"+a,c.util.stringifyJSON(b))},close:function(){c.util.off(window,"storage",b),d.removeItem(e),d.removeItem(e+"-opened"),d.removeItem(e+"-children")}}}},windowref:function(){var b,d=e.replace(/\W/g,""),f=document.getElementById(d);return f||(f=document.createElement("div"),f.id=d,f.style.display="none",f.innerHTML='<iframe name="'+d+'" />',document.body.appendChild(f)),b=f.firstChild.contentWindow,{init:function(){b.callbacks=[a],b.fire=function(a){var c;for(c=0;c<b.callbacks.length;c++)b.callbacks[c](a)}},signal:function(a,d){!b.closed&&b.fire&&b.fire(c.util.stringifyJSON({target:"c",type:a,data:d}))},get:function(a){return b.closed?null:b[a]},set:function(a,c){b.closed||(b[a]=c)},close:function(){}}}};zb=function(a){d.signal("message",a)},d=f.storage()||f.windowref(),d.init(),j("debug")&&c.util.debug("Installed StorageService "+d),d.set("children",[]),null==d.get("opened")||d.get("opened")||d.set("opened",!1),mb=encodeURIComponent(e),b(),lb=setInterval(b,1e3),kb=d}function v(a,b,c){if(nb.shared&&"local"!==b&&u(),null!=kb&&kb.set("opened",!0),c.close=function(){m()},vb>0&&"re-connecting"===a)c.isReopen=!0,P(ob);else if(null==ob.error){ob.request=c;var d=ob.state;ob.state=a;var e=ob.transport;ob.transport=b;var f=ob.responseBody;jb(),ob.responseBody=f,ob.state=d,ob.transport=e}}function w(a){a.transport="jsonp";var b,d=nb;null!=a&&"undefined"!=typeof a&&(d=a),tb={open:function(){function e(){d.lastIndex=0,d.openId&&clearTimeout(d.openId),d.heartbeatTimer&&clearTimeout(d.heartbeatTimer),d.reconnect&&vb++<d.maxReconnectOnClose?(v("re-connecting",d.transport,d),O(tb,d,a.reconnectInterval),d.openId=setTimeout(function(){J(d)},d.reconnectInterval+1e3)):F(0,"maxReconnectOnClose reached")}function f(){var c=d.url;null!=d.dispatchUrl&&(c+=d.dispatchUrl);var f=d.data;d.attachHeadersAsQueryString&&(c=I(d),""!==f&&(c+="&X-Atmosphere-Post-Body="+encodeURIComponent(f)),f="");var h=document.head||document.getElementsByTagName("head")[0]||document.documentElement;b=document.createElement("script"),b.src=c+"&jsonpTransport="+g,b.clean=function(){b.clean=b.onerror=b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),2===++a.scriptCount&&(a.scriptCount=1,e())},b.onload=b.onreadystatechange=function(){(!b.readyState||/loaded|complete/.test(b.readyState))&&b.clean()},b.onerror=function(){a.scriptCount=1,b.clean()},h.insertBefore(b,h.firstChild)}var g="atmosphere"+(Bb=c.util.random());window[g]=function(b){if(""!==b.message)if(a.scriptCount=0,d.reconnect&&-1===d.maxRequest||d.requestCount++<d.maxRequest){if(d.executeCallbackBeforeReconnect||O(tb,d,d.pollingInterval),null!=b&&"string"!=typeof b)try{b=b.message}catch(e){}var f=G(b,d,ob);f||eb(ob.responseBody,"messageReceived",200,d.transport),d.executeCallbackBeforeReconnect&&O(tb,d,d.pollingInterval),D(d)}else c.util.log(nb.logLevel,["JSONP reconnect maximum try reached "+nb.requestCount]),F(0,"maxRequest reached")},setTimeout(function(){f()},50)},abort:function(){b&&b.clean&&b.clean()}},tb.open()}function x(a){return null!=nb.webSocketImpl?nb.webSocketImpl:window.WebSocket?new WebSocket(a):new MozWebSocket(a)}function y(){return I(nb,c.util.getAbsoluteURL(nb.webSocketUrl||nb.url)).replace(/^http/,"ws")}function z(){var a=I(nb);return a}function A(a){ob.transport="sse";var b=z();if(j("debug")&&(c.util.debug("Invoking executeSSE"),c.util.debug("Using URL: "+b)),a&&!nb.reconnect)return void(null!=qb&&n());try{qb=new EventSource(b,{withCredentials:nb.withCredentials})}catch(d){return F(0,d),void H("SSE failed. Downgrading to fallback transport and resending")}nb.connectTimeout>0&&(nb.id=setTimeout(function(){a||n()},nb.connectTimeout)),qb.onopen=function(){D(nb),j("debug")&&c.util.debug("SSE successfully opened"),nb.enableProtocol?nb.isReopen&&(nb.isReopen=!1,v("re-opening",nb.transport,nb)):a?v("re-opening","sse",nb):v("opening","sse",nb),a=!0,"POST"===nb.method&&(ob.state="messageReceived",qb.send(nb.data))},qb.onmessage=function(a){if(D(nb),!nb.enableXDR&&a.origin&&a.origin!==window.location.protocol+"//"+window.location.host)return void c.util.log(nb.logLevel,["Origin was not "+window.location.protocol+"//"+window.location.host]);ob.state="messageReceived",ob.status=200,a=a.data;var b=G(a,nb,ob);b||(jb(),ob.responseBody="",ob.messages=[])},qb.onerror=function(){clearTimeout(nb.id),nb.heartbeatTimer&&clearTimeout(nb.heartbeatTimer),ob.closedByClientTimeout||(ib(a),n(),yb?c.util.log(nb.logLevel,["SSE closed normally"]):a?nb.reconnect&&"sse"===ob.transport&&(vb++<nb.maxReconnectOnClose?(v("re-connecting",nb.transport,nb),nb.reconnectInterval>0?nb.reconnectId=setTimeout(function(){A(!0)},nb.reconnectInterval):A(!0),ob.responseBody="",ob.messages=[]):(c.util.log(nb.logLevel,["SSE reconnect maximum try reached "+vb]),F(0,"maxReconnectOnClose reached"))):H("SSE failed. Downgrading to fallback transport and resending"))}}function B(a){ob.transport="websocket";var b=y(nb.url);if(j("debug")&&(c.util.debug("Invoking executeWebSocket"),c.util.debug("Using URL: "+b)),a&&!nb.reconnect)return void(null!=pb&&n());pb=x(b),null!=nb.webSocketBinaryType&&(pb.binaryType=nb.webSocketBinaryType),nb.connectTimeout>0&&(nb.id=setTimeout(function(){if(a);else{var b={code:1002,reason:"",wasClean:!1};pb.onclose(b);try{n()}catch(c){}}},nb.connectTimeout)),pb.onopen=function(){D(nb),d=!1,j("debug")&&c.util.debug("Websocket successfully opened");var b=a;null!=pb&&(pb.canSendMessage=!0),nb.enableProtocol||(a=!0,b?v("re-opening","websocket",nb):v("opening","websocket",nb)),null!=pb&&"POST"===nb.method&&(ob.state="messageReceived",pb.send(nb.data))},pb.onmessage=function(b){D(nb),nb.enableProtocol&&(a=!0),ob.state="messageReceived",ob.status=200,b=b.data;var c="string"==typeof b;if(c){var d=G(b,nb,ob);d||(jb(),ob.responseBody="",ob.messages=[])}else{if(b=C(nb,b),""===b)return;ob.responseBody=b,jb(),ob.responseBody=null}},pb.onerror=function(){clearTimeout(nb.id),nb.heartbeatTimer&&clearTimeout(nb.heartbeatTimer)},pb.onclose=function(b){if(clearTimeout(nb.id),"closed"!==ob.state){var e=b.reason;if(""===e)switch(b.code){case 1e3:e="Normal closure; the connection successfully completed whatever purpose for which it was created.";break;case 1001:e="The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.";break;case 1002:e="The endpoint is terminating the connection due to a protocol error.";break;case 1003:e="The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data).";break;case 1004:e="The endpoint is terminating the connection because a data frame was received that is too large.";break;case 1005:e="Unknown: no status code was provided even though one was expected.";break;case 1006:e="Connection was closed abnormally (that is, with no close frame being sent)."}if(j("warn")&&(c.util.warn("Websocket closed, reason: "+e),c.util.warn("Websocket closed, wasClean: "+b.wasClean)),ob.closedByClientTimeout||d)return void(nb.reconnectId&&(clearTimeout(nb.reconnectId),delete nb.reconnectId));ib(a),ob.state="closed",yb?c.util.log(nb.logLevel,["Websocket closed normally"]):a?nb.reconnect&&"websocket"===ob.transport&&1001!==b.code&&(n(),vb++<nb.maxReconnectOnClose?(v("re-connecting",nb.transport,nb),nb.reconnectInterval>0?nb.reconnectId=setTimeout(function(){ob.responseBody="",ob.messages=[],B(!0)},nb.reconnectInterval):(ob.responseBody="",ob.messages=[],B(!0))):(c.util.log(nb.logLevel,["Websocket reconnect maximum try reached "+nb.requestCount]),j("warn")&&c.util.warn("Websocket error, reason: "+b.reason),F(0,"maxReconnectOnClose reached"))):H("Websocket failed. Downgrading to Comet and resending")}};var e=navigator.userAgent.toLowerCase(),f=e.indexOf("android")>-1;f&&void 0===pb.url&&pb.onclose({reason:"Android 4.1 does not support websockets.",wasClean:!1})}function C(a,b){var d=b;if("polling"===a.transport)return d;if(0!==c.util.trim(b).length&&a.enableProtocol&&a.firstMessage){var e=a.trackMessageLength?1:0,f=b.split(a.messageDelimiter);if(f.length<=e+1)return d;if(a.firstMessage=!1,a.uuid=c.util.trim(f[e]),f.length<=e+2&&c.util.log("error",["Protocol data not sent by the server. If you enable protocol on client side, be sure to install JavascriptProtocol interceptor on server side.Also note that atmosphere-runtime 2.2+ should be used."]),wb=parseInt(c.util.trim(f[e+1]),10),xb=f[e+2],"long-polling"!==a.transport&&J(a),g=a.uuid,d="",e=a.trackMessageLength?4:3,f.length>e+1)for(var h=e;h<f.length;h++)d+=f[h],h+1!==f.length&&(d+=a.messageDelimiter);0!==a.ackInterval&&setTimeout(function(){V("...ACK...")},a.ackInterval)}else a.enableProtocol&&a.firstMessage&&c.util.browser.msie&&+c.util.browser.version.split(".")[0]<10?c.util.log(nb.logLevel,["Receiving unexpected data from IE"]):J(a);return d}function D(a){clearTimeout(a.id),a.timeout>0&&"polling"!==a.transport&&(a.id=setTimeout(function(){E(a),l(),n()},a.timeout))}function E(){ob.closedByClientTimeout=!0,ob.state="closedByClient",ob.responseBody="",ob.status=408,ob.messages=[],jb()}function F(a,b){n(),clearTimeout(nb.id),ob.state="error",ob.reasonPhrase=b,ob.responseBody="",ob.status=a,ob.messages=[],jb()}function G(a,b,c){if(a=C(b,a),0===a.length)return!0;if(c.responseBody=a,b.trackMessageLength){a=c.partialMessage+a;var d=[],e=a.indexOf(b.messageDelimiter);if(-1!=e){for(;-1!==e;){var f=a.substring(0,e),g=+f;if(isNaN(g))throw new Error('message length "'+f+'" is not a number');e+=b.messageDelimiter.length,e+g>a.length?e=-1:(d.push(a.substring(e,e+g)),a=a.substring(e+g,a.length),e=a.indexOf(b.messageDelimiter))}return c.partialMessage=a,0!==d.length?(c.responseBody=d.join(b.messageDelimiter),c.messages=d,!1):(c.responseBody="",c.messages=[],!0)}}return c.responseBody=a,c.messages=[a],!1}function H(a){c.util.log(nb.logLevel,[a]),"undefined"!=typeof nb.onTransportFailure?nb.onTransportFailure(a,nb):"undefined"!=typeof c.util.onTransportFailure&&c.util.onTransportFailure(a,nb),nb.transport=nb.fallbackTransport;var b=-1===nb.connectTimeout?0:nb.connectTimeout;nb.reconnect&&"none"!==nb.transport||null==nb.transport?(nb.method=nb.fallbackMethod,ob.transport=nb.fallbackTransport,nb.fallbackTransport="none",b>0?nb.reconnectId=setTimeout(function(){s()},b):s()):F(500,"Unable to reconnect with fallback transport")}function I(a,d){var e=nb;return null!=a&&"undefined"!=typeof a&&(e=a),null==d&&(d=e.url),e.attachHeadersAsQueryString?-1!==d.indexOf("X-Atmosphere-Framework")?d:(d+=-1!==d.indexOf("?")?"&":"?",d+="X-Atmosphere-tracking-id="+e.uuid,d+="&X-Atmosphere-Framework="+b,d+="&X-Atmosphere-Transport="+e.transport,e.trackMessageLength&&(d+="&X-Atmosphere-TrackMessageSize=true"),null!==e.heartbeat&&null!==e.heartbeat.server&&(d+="&X-Heartbeat-Server="+e.heartbeat.server),""!==e.contentType&&(d+="&Content-Type="+("websocket"===e.transport?e.contentType:encodeURIComponent(e.contentType))),e.enableProtocol&&(d+="&X-atmo-protocol=true"),c.util.each(e.headers,function(b,f){var g=c.util.isFunction(f)?f.call(this,e,a,ob):f;null!=g&&(d+="&"+encodeURIComponent(b)+"="+encodeURIComponent(g))}),d):d}function J(a){if(a.isOpen)if(a.isReopen)a.isReopen=!1,v("re-opening",a.transport,a);else{if("messageReceived"!==ob.state||"jsonp"!==a.transport&&"long-polling"!==a.transport)return;Q(ob)}else a.isOpen=!0,v("opening",a.transport,a);K(a)}function K(a){if(null!=a.heartbeatTimer&&clearTimeout(a.heartbeatTimer),!isNaN(wb)&&wb>0){var b=function(){j("debug")&&c.util.debug("Sending heartbeat"),V(xb),a.heartbeatTimer=setTimeout(b,wb)};a.heartbeatTimer=setTimeout(b,wb)}}function L(a){var b=nb;if((null!=a||"undefined"!=typeof a)&&(b=a),b.lastIndex=0,b.readyState=0,"jsonp"===b.transport||b.enableXDR&&c.util.checkCORSSupport())return void w(b);if(c.util.browser.msie&&+c.util.browser.version.split(".")[0]<10){if("streaming"===b.transport)return void(b.enableXDR&&window.XDomainRequest?R(b):T(b));if(b.enableXDR&&window.XDomainRequest)return void R(b)}var d=function(){b.lastIndex=0,b.reconnect&&vb++<b.maxReconnectOnClose?(ob.ffTryingReconnect=!0,v("re-connecting",a.transport,a),O(f,b,a.reconnectInterval)):F(0,"maxReconnectOnClose reached")},e=function(){ob.errorHandled=!0,n(),d()};if(b.force||b.reconnect&&(-1===b.maxRequest||b.requestCount++<b.maxRequest)){b.force=!1;var f=c.util.xhr();f.hasData=!1,N(f,b,!0),b.suspend&&(rb=f),"polling"!==b.transport&&(ob.transport=b.transport,f.onabort=function(){ib(!0)},f.onerror=function(){ob.error=!0,ob.ffTryingReconnect=!0;try{ob.status=XMLHttpRequest.status}catch(a){ob.status=500}ob.status||(ob.status=500),ob.errorHandled||(n(),d())}),f.onreadystatechange=function(){if(!yb){ob.error=null;var g=!1,h=!1;if("streaming"===b.transport&&b.readyState>2&&4===f.readyState)return n(),void d();if(b.readyState=f.readyState,"streaming"===b.transport&&f.readyState>=3?h=!0:"long-polling"===b.transport&&4===f.readyState&&(h=!0),D(nb),"polling"!==b.transport){var i=200;if(4===f.readyState&&(i=f.status>1e3?0:f.status),!b.reconnectOnServerError&&i>=300&&600>i)return void F(i,f.statusText);if(i>=300||0===i)return void e();b.enableProtocol&&a.firstMessage||2!==f.readyState||(c.util.browser.mozilla&&ob.ffTryingReconnect?(ob.ffTryingReconnect=!1,setTimeout(function(){ob.ffTryingReconnect||J(b)},500)):J(b))}else 4===f.readyState&&(h=!0);if(h){var j=f.responseText;if(ob.errorHandled=!1,0===c.util.trim(j).length&&"long-polling"===b.transport)return void(f.hasData?f.hasData=!1:O(f,b,b.pollingInterval));if(f.hasData=!0,fb(f,nb),"streaming"===b.transport)if(c.util.browser.opera)c.util.iterate(function(){if(500!==ob.status&&f.responseText.length>b.lastIndex){try{ob.status=f.status,ob.headers=c.util.parseHeaders(f.getAllResponseHeaders()),fb(f,nb)}catch(a){ob.status=404}D(nb),ob.state="messageReceived";var d=f.responseText.substring(b.lastIndex);if(b.lastIndex=f.responseText.length,g=G(d,b,ob),g||jb(),k(f,b))return void M(f,b)}else if(ob.status>400)return b.lastIndex=f.responseText.length,!1},0);else{var l=j.substring(b.lastIndex,j.length);if(g=G(l,b,ob),b.lastIndex=j.length,g)return}else g=G(j,b,ob);var m=k(f,b);try{ob.status=f.status,ob.headers=c.util.parseHeaders(f.getAllResponseHeaders()),fb(f,b)}catch(o){ob.status=404}ob.state=b.suspend?0===ob.status?"closed":"messageReceived":"messagePublished";var p=!m&&"streaming"!==a.transport&&"polling"!==a.transport;p&&!b.executeCallbackBeforeReconnect&&O(f,b,b.pollingInterval),0===ob.responseBody.length||g||jb(),p&&b.executeCallbackBeforeReconnect&&O(f,b,b.pollingInterval),m&&M(f,b)}}};try{f.send(b.data),ub=!0}catch(g){c.util.log(b.logLevel,["Unable to connect to "+b.url]),F(0,g)}}else"debug"===b.logLevel&&c.util.log(b.logLevel,["Max re-connection reached."]),F(0,"maxRequest reached")}function M(a,b){ob.messages=[],b.isReopen=!0,m(),yb=!1,O(a,b,500)}function N(a,b,d){var e=b.url;null!=b.dispatchUrl&&"POST"===b.method&&(e+=b.dispatchUrl),e=I(b,e),e=c.util.prepareURL(e),d&&(a.open(b.method,e,b.async),b.connectTimeout>0&&(b.id=setTimeout(function(){0===b.requestCount&&(n(),eb("Connect timeout","closed",200,b.transport))},b.connectTimeout))),nb.withCredentials&&"websocket"!==nb.transport&&"withCredentials"in a&&(a.withCredentials=!0),nb.dropHeaders||(a.setRequestHeader("X-Atmosphere-Framework",c.util.version),a.setRequestHeader("X-Atmosphere-Transport",b.transport),null!==b.heartbeat&&null!==b.heartbeat.server&&a.setRequestHeader("X-Heartbeat-Server",a.heartbeat.server),b.trackMessageLength&&a.setRequestHeader("X-Atmosphere-TrackMessageSize","true"),a.setRequestHeader("X-Atmosphere-tracking-id",b.uuid),c.util.each(b.headers,function(e,f){var g=c.util.isFunction(f)?f.call(this,a,b,d,ob):f;null!=g&&a.setRequestHeader(e,g)})),""!==b.contentType&&a.setRequestHeader("Content-Type",b.contentType)}function O(a,b,c){if(!ob.closedByClientTimeout&&(b.reconnect||b.suspend&&ub)){var d=0;a&&a.readyState>1&&(d=a.status>1e3?0:a.status),ob.status=0===d?204:d,ob.reason=0===d?"Server resumed the connection or down.":"OK",clearTimeout(b.id),b.reconnectId&&(clearTimeout(b.reconnectId),delete b.reconnectId),c>0?nb.reconnectId=setTimeout(function(){L(b)},c):L(b)}}function P(a){a.state="re-connecting",gb(a)}function Q(a){a.state="openAfterResume",gb(a),a.state="messageReceived"}function R(a){"polling"!==a.transport?(sb=S(a),sb.open()):S(a).open()}function S(a){var b=nb;null!=a&&"undefined"!=typeof a&&(b=a);var d=b.transport,e=0,f=new window.XDomainRequest,g=function(){"long-polling"===b.transport&&b.reconnect&&(-1===b.maxRequest||b.requestCount++<b.maxRequest)&&(f.status=200,R(b))},h=b.rewriteURL||function(a){var b=/(?:^|;\s*)(JSESSIONID|PHPSESSID)=([^;]*)/.exec(document.cookie);switch(b&&b[1]){case"JSESSIONID":return a.replace(/;jsessionid=[^\?]*|(\?)|$/,";jsessionid="+b[2]+"$1");case"PHPSESSID":return a.replace(/\?PHPSESSID=[^&]*&?|\?|$/,"?PHPSESSID="+b[2]+"&").replace(/&$/,"")}return a};f.onprogress=function(){i(f)},f.onerror=function(){"polling"!==b.transport&&(n(),vb++<b.maxReconnectOnClose?b.reconnectInterval>0?b.reconnectId=setTimeout(function(){v("re-connecting",a.transport,a),R(b)},b.reconnectInterval):(v("re-connecting",a.transport,a),R(b)):F(0,"maxReconnectOnClose reached"))},f.onload=function(){};var i=function(a){clearTimeout(b.id);var f=a.responseText;if(f=f.substring(e),e+=f.length,"polling"!==d){D(b);var h=G(f,b,ob);if("long-polling"===d&&0===c.util.trim(f).length)return;b.executeCallbackBeforeReconnect&&g(),h||eb(ob.responseBody,"messageReceived",200,d),b.executeCallbackBeforeReconnect||g()}};return{open:function(){var a=b.url;null!=b.dispatchUrl&&(a+=b.dispatchUrl),a=I(b,a),f.open(b.method,h(a)),"GET"===b.method?f.send():f.send(b.data),b.connectTimeout>0&&(b.id=setTimeout(function(){0===b.requestCount&&(n(),eb("Connect timeout","closed",200,b.transport))},b.connectTimeout))},close:function(){f.abort()}}}function T(a){sb=U(a),sb.open()}function U(a){var b=nb;null!=a&&"undefined"!=typeof a&&(b=a);var d,e=new window.ActiveXObject("htmlfile");e.open(),e.close();var f=b.url;return null!=b.dispatchUrl&&(f+=b.dispatchUrl),"polling"!==b.transport&&(ob.transport=b.transport),{open:function(){var a=e.createElement("iframe");f=I(b),""!==b.data&&(f+="&X-Atmosphere-Post-Body="+encodeURIComponent(b.data)),f=c.util.prepareURL(f),a.src=f,e.body.appendChild(a);var g=a.contentDocument||a.contentWindow.document;d=c.util.iterate(function(){try{if(!g.firstChild)return;var a=g.body?g.body.lastChild:g,f=function(){var b=a.cloneNode(!0);b.appendChild(g.createTextNode("."));var c=b.innerText;return c=c.substring(0,c.length-1)};if(!g.body||!g.body.firstChild||"pre"!==g.body.firstChild.nodeName.toLowerCase()){var h=g.head||g.getElementsByTagName("head")[0]||g.documentElement||g,i=g.createElement("script");i.text="document.write('<plaintext>')",h.insertBefore(i,h.firstChild),h.removeChild(i),a=g.body.lastChild}return b.closed&&(b.isReopen=!0),d=c.util.iterate(function(){var c=f();if(c.length>b.lastIndex){D(nb),ob.status=200,ob.error=null,a.innerText="";var d=G(c,b,ob);if(d)return"";eb(ob.responseBody,"messageReceived",200,b.transport)}return b.lastIndex=0,"complete"===g.readyState?(ib(!0),v("re-connecting",b.transport,b),b.reconnectInterval>0?b.reconnectId=setTimeout(function(){T(b)},b.reconnectInterval):T(b),!1):void 0},null),!1}catch(j){return ob.error=!0,v("re-connecting",b.transport,b),vb++<b.maxReconnectOnClose?b.reconnectInterval>0?b.reconnectId=setTimeout(function(){T(b)},b.reconnectInterval):T(b):F(0,"maxReconnectOnClose reached"),e.execCommand("Stop"),e.close(),!1}})},close:function(){d&&d(),e.execCommand("Stop"),ib(!0)}}}function V(a){null!=Ab?X(a):null!=rb||null!=qb?Z(a):null!=sb?$(a):null!=tb?_(a):null!=pb?cb(a):(F(0,"No suspended connection available"),c.util.error("No suspended connection available. Make sure atmosphere.subscribe has been called and request.onOpen invoked before invoking this method"))}function W(a,b){b||(b=bb(a)),b.transport="polling",b.method="GET",b.withCredentials=!1,b.reconnect=!1,b.force=!0,b.suspend=!1,b.timeout=1e3,L(b)}function X(a){Ab.send(a)}function Y(a){if(0!==a.length)try{Ab?Ab.localSend(a):kb&&kb.signal("localMessage",c.util.stringifyJSON({id:Bb,event:a}))}catch(b){c.util.error(b)}}function Z(a){var b=bb(a);L(b)}function $(a){if(nb.enableXDR&&c.util.checkCORSSupport()){var b=bb(a);b.reconnect=!1,w(b)}else Z(a)}function _(a){var b=bb(a);b.reconnect=!1,w(b)}function ab(a){var b=a;return"object"==typeof b&&(b=a.data),b}function bb(a){var b=ab(a),d={connected:!1,timeout:6e4,method:"POST",url:nb.url,contentType:nb.contentType,headers:nb.headers,reconnect:!0,callback:null,data:b,suspend:!1,maxRequest:-1,logLevel:"info",requestCount:0,withCredentials:nb.withCredentials,async:nb.async,transport:"polling",isOpen:!0,attachHeadersAsQueryString:!0,enableXDR:nb.enableXDR,uuid:nb.uuid,dispatchUrl:nb.dispatchUrl,enableProtocol:!1,messageDelimiter:"|",trackMessageLength:nb.trackMessageLength,maxReconnectOnClose:nb.maxReconnectOnClose,heartbeatTimer:nb.heartbeatTimer,heartbeat:nb.heartbeat};return"object"==typeof a&&(d=c.util.extend(d,a)),d}function cb(a){var b,d=c.util.isBinary(a)?a:ab(a);try{if(b=null!=nb.dispatchUrl?nb.webSocketPathDelimiter+nb.dispatchUrl+nb.webSocketPathDelimiter+d:d,!pb.canSendMessage)return void c.util.error("WebSocket not connected.");pb.send(b)}catch(e){pb.onclose=function(){},n(),H("Websocket failed. Downgrading to Comet and resending "+a),Z(a)}}function db(a){var b=c.util.parseJSON(a);b.id!==Bb&&("undefined"!=typeof nb.onLocalMessage?nb.onLocalMessage(b.event):"undefined"!=typeof c.util.onLocalMessage&&c.util.onLocalMessage(b.event))}function eb(a,b,c,d){ob.responseBody=a,ob.transport=d,ob.status=c,ob.state=b,jb()}function fb(a,b){if(b.readResponsesHeaders)try{var c=a.getResponseHeader("X-Atmosphere-tracking-id");c&&null!=c&&(b.uuid=c.split(" ").pop())}catch(d){}else b.enableProtocol||(b.uuid=Bb)}function gb(a){hb(a,nb),hb(a,c.util)}function hb(a,b){switch(a.state){case"messageReceived":vb=0,"undefined"!=typeof b.onMessage&&b.onMessage(a),"undefined"!=typeof b.onmessage&&b.onmessage(a);break;case"error":"undefined"!=typeof b.onError&&b.onError(a),"undefined"!=typeof b.onerror&&b.onerror(a);break;case"opening":delete nb.closed,"undefined"!=typeof b.onOpen&&b.onOpen(a),"undefined"!=typeof b.onopen&&b.onopen(a);break;case"messagePublished":"undefined"!=typeof b.onMessagePublished&&b.onMessagePublished(a);break;case"re-connecting":"undefined"!=typeof b.onReconnect&&b.onReconnect(nb,a);break;case"closedByClient":"undefined"!=typeof b.onClientTimeout&&b.onClientTimeout(nb);break;case"re-opening":delete nb.closed,"undefined"!=typeof b.onReopen&&b.onReopen(nb,a);break;case"fail-to-reconnect":"undefined"!=typeof b.onFailureToReconnect&&b.onFailureToReconnect(nb,a);break;case"unsubscribe":case"closed":var c="undefined"!=typeof nb.closed?nb.closed:!1;c||("undefined"!=typeof b.onClose&&b.onClose(a),"undefined"!=typeof b.onclose&&b.onclose(a)),nb.closed=!0;break;case"openAfterResume":"undefined"!=typeof b.onOpenAfterResume&&b.onOpenAfterResume(nb)}}function ib(a){"closed"!==ob.state&&(ob.state="closed",ob.responseBody="",ob.messages=[],ob.status=a?200:501,jb())}function jb(){var a=function(a,b){b(ob)};null==Ab&&null!=zb&&zb(ob.responseBody),nb.reconnect=nb.mrequest;for(var b="string"==typeof ob.responseBody,d=b&&nb.trackMessageLength?ob.messages.length>0?ob.messages:[""]:new Array(ob.responseBody),e=0;e<d.length;e++)if(!(d.length>1&&0===d[e].length||(ob.responseBody=b?c.util.trim(d[e]):d[e],null==Ab&&null!=zb&&zb(ob.responseBody),(0===ob.responseBody.length||b&&xb===ob.responseBody)&&"messageReceived"===ob.state))){if(gb(ob),f.length>0){j("debug")&&c.util.debug("Invoking "+f.length+" global callbacks: "+ob.state);try{c.util.each(f,a)}catch(g){c.util.log(nb.logLevel,["Callback exception"+g])}}if("function"==typeof nb.callback){j("debug")&&c.util.debug("Invoking request callbacks");try{nb.callback(ob)}catch(g){c.util.log(nb.logLevel,["Callback exception"+g])}}}}var kb,lb,mb,nb={timeout:3e5,method:"GET",headers:{},contentType:"",callback:null,url:"",data:"",suspend:!0,maxRequest:-1,reconnect:!0,maxStreamingLength:1e7,lastIndex:0,logLevel:"info",requestCount:0,fallbackMethod:"GET",fallbackTransport:"streaming",transport:"long-polling",webSocketImpl:null,webSocketBinaryType:null,dispatchUrl:null,webSocketPathDelimiter:"@@",enableXDR:!1,rewriteURL:!1,attachHeadersAsQueryString:!0,executeCallbackBeforeReconnect:!1,readyState:0,withCredentials:!1,trackMessageLength:!1,messageDelimiter:"|",connectTimeout:-1,reconnectInterval:0,dropHeaders:!0,uuid:0,async:!0,shared:!1,readResponsesHeaders:!1,maxReconnectOnClose:5,enableProtocol:!0,pollingInterval:0,heartbeat:{client:null,server:null},ackInterval:0,closeAsync:!1,reconnectOnServerError:!0,environment:"production",onError:function(){},onClose:function(){},onOpen:function(){},onMessage:function(){},onReopen:function(){},onReconnect:function(){},onMessagePublished:function(){},onTransportFailure:function(){},onLocalMessage:function(){},onFailureToReconnect:function(){},onClientTimeout:function(){},onOpenAfterResume:function(){}},ob={status:200,reasonPhrase:"OK",responseBody:"",messages:[],headers:[],state:"messageReceived",transport:"polling",error:null,request:null,partialMessage:"",errorHandled:!1,closedByClientTimeout:!1,ffTryingReconnect:!1},pb=null,qb=null,rb=null,sb=null,tb=null,ub=!0,vb=0,wb=0,xb=" ",yb=!1,zb=null,Ab=null,Bb=c.util.random();p(a),this.subscribe=function(a){p(a),s()},this.execute=function(){s()},this.close=function(){m()},this.disconnect=function(){l()},this.getUrl=function(){return nb.url},this.push=function(a,b){if(null!=b){var c=nb.dispatchUrl;nb.dispatchUrl=b,V(a),nb.dispatchUrl=c}else V(a)},this.getUUID=function(){return nb.uuid},this.pushLocal=function(a){Y(a)},this.enableProtocol=function(){return nb.enableProtocol},this.init=function(){e()},this.request=nb,this.response=ob}},c.subscribe=function(a,b,d){"function"==typeof b&&c.addCallback(b),"string"!=typeof a?d=a:d.url=a,g="undefined"!=typeof d&&"undefined"!=typeof d.uuid?d.uuid:0;var f=new c.AtmosphereRequest(d);return f.execute(),e[e.length]=f,f},c.unsubscribe=function(){if(e.length>0)for(var a=[].concat(e),b=0;b<a.length;b++){var c=a[b];c.request.isOpen&&c.close(),c.response&&c.response.request&&clearTimeout(c.response.request.id),c.heartbeatTimer&&clearTimeout(c.heartbeatTimer)}e=[],f=[]},c.unsubscribeUrl=function(a){var b=-1;if(e.length>0)for(var c=0;c<e.length;c++){var d=e[c];if(d.getUrl()===a){d.close(),clearTimeout(d.response.request.id),d.heartbeatTimer&&clearTimeout(d.heartbeatTimer),b=c;break}}b>=0&&e.splice(b,1)},c.addCallback=function(a){-1===c.util.inArray(a,f)&&f.push(a)},c.removeCallback=function(a){var b=c.util.inArray(a,f);-1!==b&&f.splice(b,1)},c.util={browser:{},parseHeaders:function(a){for(var b,c=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,d={};b=c.exec(a);)d[b[1]]=b[2];return d},now:function(){return(new Date).getTime()},random:function(){return Math.floor(1e8+9e8*Math.random())},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},inArray:function(a,b){if(!Array.prototype.indexOf){for(var c=b.length,d=0;c>d;++d)if(b[d]===a)return d;return-1}return b.indexOf(a)},isBinary:function(a){return/^\[object\s(?:Blob|ArrayBuffer|.+Array)\]$/.test(Object.prototype.toString.call(a))},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},getAbsoluteURL:function(a){var b=document.createElement("div");return b.innerHTML='<a href="'+a+'"/>',encodeURI(decodeURI(b.firstChild.href))},prepareURL:function(a){var b=c.util.now(),d=a.replace(/([?&])_=[^&]*/,"$1_="+b);return d+(d===a?(/\?/.test(a)?"&":"?")+"_="+b:"")},trim:function(a){return String.prototype.trim?a.toString().trim():a.toString().replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},param:function(a){function b(a,b){b=c.util.isFunction(b)?b():null==b?"":b,f.push(encodeURIComponent(a)+"="+encodeURIComponent(b))}function d(a,e){var f;if(c.util.isArray(e))c.util.each(e,function(c,e){/\[\]$/.test(a)?b(a,e):d(a+"["+("object"==typeof e?c:"")+"]",e)});else if("[object Object]"===Object.prototype.toString.call(e))for(f in e)d(a+"["+f+"]",e[f]);else b(a,e)}var e,f=[];for(e in a)d(e,a[e]);return f.join("&").replace(/%20/g,"+")},storage:function(){try{return!(!window.localStorage||!window.StorageEvent)}catch(a){return!1}},iterate:function(a,b){var c;return b=b||0,function d(){c=setTimeout(function(){a()!==!1&&d()},b)}(),function(){clearTimeout(c)}},each:function(a,b,d){if(a){var e,f=0,g=a.length,h=c.util.isArray(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a}},extend:function(a){var b,c,d;for(b=1;b<arguments.length;b++)if(null!=(c=arguments[b]))for(d in c)a[d]=c[d];return a},on:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},off:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},log:function(a,b){if(window.console){var c=window.console[a];"function"==typeof c&&"production"!==h&&c.apply(window.console,b)}},warn:function(){c.util.log("warn",arguments)},info:function(){c.util.log("info",arguments)},debug:function(){c.util.log("debug",arguments)},error:function(){c.util.log("error",arguments)},xhr:function(){try{return new window.XMLHttpRequest}catch(a){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}},parseJSON:function(a){return a?window.JSON&&window.JSON.parse?window.JSON.parse(a):new Function("return "+a)():null},stringifyJSON:function(a){function b(a){return'"'+a.replace(d,function(a){var b=e[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'}function c(a){return 10>a?"0"+a:a}var d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return window.JSON&&window.JSON.stringify?window.JSON.stringify(a):function f(a,d){var e,g,h,j,k=d[a],l=typeof k;switch(k&&"object"==typeof k&&"function"==typeof k.toJSON&&(k=k.toJSON(a),l=typeof k),l){case"string":return b(k);case"number":return isFinite(k)?String(k):"null";case"boolean":return String(k);case"object":if(!k)return"null";switch(Object.prototype.toString.call(k)){case"[object Date]":return isFinite(k.valueOf())?'"'+k.getUTCFullYear()+"-"+c(k.getUTCMonth()+1)+"-"+c(k.getUTCDate())+"T"+c(k.getUTCHours())+":"+c(k.getUTCMinutes())+":"+c(k.getUTCSeconds())+'Z"':"null";case"[object Array]":for(h=k.length,j=[],e=0;h>e;e++)j.push(f(e,k)||"null");return"["+j.join(",")+"]";default:j=[];for(e in k)i.call(k,e)&&(g=f(e,k),g&&j.push(b(e)+":"+g));return"{"+j.join(",")+"}"
}}}("",{"":a})},checkCORSSupport:function(){if(c.util.browser.msie&&!window.XDomainRequest&&+c.util.browser.version.split(".")[0]<11)return!0;if(c.util.browser.opera&&+c.util.browser.version.split(".")<12)return!0;if("KreaTVWebKit/531"===c.util.trim(navigator.userAgent).slice(0,16))return!0;if("kreatel"===c.util.trim(navigator.userAgent).slice(-7).toLowerCase())return!0;var a=navigator.userAgent.toLowerCase(),b=a.indexOf("android")>-1;return b?!0:!1}},a=c.util.random(),function(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];c.util.browser[b[1]||""]=!0,c.util.browser.version=b[2]||"0",c.util.browser.trident&&(c.util.browser.msie=!0),(c.util.browser.msie||c.util.browser.mozilla&&1===+c.util.browser.version.split(".")[0])&&(c.util.storage=!1)}(),c.util.on(window,"unload",function(){c.unsubscribe()}),c}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("interblocks",["underscore"],b):a.Interblocks=b(a._)}(this,function(a){"use strict";var b={blockRenderers:{videoReply:function(a){var b='<video class="intercom-interblocks-video-reply"><source src="'+a.url+'"><p><a href="'+a.url+'">'+a.text+"</a></p></video>";return b},paragraph:function(a){a.cssClass=b.getBlockClass(a);var c="<p";return a.cssClass.length&&(c+=' class="'+a.cssClass+'"'),c+=">"+a.text+"</p>"},code:function(a){var b="<pre><code>"+a.text+"</code></pre>";return b},orderedList:function(b){var c="<ol>";return a.each(b.items,function(a){c+="<li>"+a+"</li>"}),c+="</ol>"},unorderedList:function(b){var c="<ul>";return a.each(b.items,function(a){c+="<li>"+a+"</li>"}),c+="</ul>"},heading:function(a){a.cssClass=b.getBlockClass(a);var c="<h1";return a.cssClass.length&&(c+=' class="'+a.cssClass+'"'),c+=">"+a.text+"</h1>"},subheading:function(a){a.cssClass=b.getBlockClass(a);var c="<h2";return a.cssClass.length&&(c+=' class="'+a.cssClass+'"'),c+=">"+a.text+"</h2>"},image:function(c){c.cssClass=b.getBlockClass(c);var d="<div";return c.cssClass.length&&(d+=' class="intercom-container '+c.cssClass+'"'),a.isUndefined(c.linkUrl)||(d+='><a target="_blank" href="'+c.linkUrl+'" rel="nofollow"'),d+='><img src="'+c.url+'">',a.isUndefined(c.linkUrl)||(d+="</a>"),d+="</div>"},button:function(a){a.cssClass=b.getBlockClass(a);var c='<div class="intercom-container ';return a.cssClass.length&&(c+=a.cssClass),c+='"><a target="_blank" href="'+a.linkUrl+'" class="intercom-h2b-button" rel="nofollow">'+a.text+"</a></div>"},facebookLikeButton:function(a){var b='<iframe src="//www.facebook.com/plugins/like.php?href='+a.url+'&amp;width&amp;layout=standard&amp;action=like&amp;share=true&amp;height=28&amp;%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20+++appId=487224624685065"scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:28px;" allowtransparency="true"></iframe>';return b},twitterFollowButton:function(a){var b='<iframe class="allowed_iframe_embed" allowtransparency="true" frameborder="0" scrolling="no" src="https://platform.twitter.com/widgets/follow_button.html?show_count=false&amp;screen_name='+a.username+'" style="width:300px; height:20px;"></iframe>';return b},video:function(a){switch(a.provider){case"wistia":a.src="https://fast.wistia.net/embed/iframe/"+a.id;break;case"youtube":a.src="https://www.youtube.com/embed/"+a.id;break;case"vimeo":a.src="https://player.vimeo.com/video/"+a.id;break;default:a.src=""}var b='<div class="intercom-h2b-video"><iframe src="'+a.src+'" frameborder="0" style="" class="allowed_iframe_embed" allowtransparency="true"></iframe></div>';return b},attachmentList:function(){return""},html:function(a){return a.content}},getBlockClass:function(b){var c="";return a.isUndefined(b.align)||(c+="intercom-align-"+b.align+" "),a.isUndefined(b["class"])||(c+=b["class"]),c},supportsBlockRendering:function(b){var c=a.keys(this.blockRenderers),d=a.chain(b).pluck("type").uniq().value();return a.all(d,function(b){return a.contains(c,b)})},renderBlocks:function(c){if(!b.supportsBlockRendering(c))throw new Error("Intercom.Interblocks: Unsupported blockList: "+JSON.stringify(c));var d=a.map(c,function(a){return b.blockRenderers[a.type](a)});return a.reduce(d,function(a,b){return a+b},"")}};return b}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("intermoji",["underscore"],function(c){return b(a,c)}):a.INTERMOJI=b(a,a._)}(this,function(a,b){"use strict";var c=function(a){for(var b,c,d,e,f=[],g=0,h=a.length;h>g;)d=a.charAt(g),b=a.charCodeAt(g++),b>=55296&&56319>=b&&h>g?(e=a.charAt(g),c=a.charCodeAt(g++),56320==(64512&c)?f.push([d+e,((1023&b)<<10)+(1023&c)+65536]):(f.push([d,b]),g--)):f.push([d,b]);return f},d="__ic_",e=[[["üòÑ","smile",23,23],["üòÉ","smiley",22,23],["üòÄ","grinning",19,23],["üòä","blush",24,5],["‚ò∫","relaxed",27,24],["üòâ","wink",24,4],["üòç","heart_eyes",24,8],["üòò","kissing_heart",24,19],["üòö","kissing_closed_eyes",24,21],["üòú","stuck_out_tongue_winking_eye",24,23],["üòù","stuck_out_tongue_closed_eyes",0,24],["üòõ","stuck_out_tongue",24,22],["üò≥","flushed",22,24],["üòÅ","grin",20,23],["üòî","pensive",24,15],["üòå","relieved",24,7],["üòí","unamused",24,13],["üòû","disappointed",1,24],["üò£","persevere",6,24],["üò¢","cry",5,24],["üòÇ","joy",21,23],["üò≠","sob",16,24],["üò™","sleepy",13,24],["üò•","disappointed_relieved",8,24],["üò∞","cold_sweat",19,24],["üòÖ","sweat_smile",24,0],["üòì","sweat",24,14],["üò©","weary",12,24],["üò´","tired_face",14,24],["üò®","fearful",11,24],["üò±","scream",20,24],["üò†","angry",3,24],["üò°","rage",4,24],["üò§","triumph",7,24],["üòñ","confounded",24,17],["üòÜ","laughing",24,1],["üòã","yum",24,6],["üò∑","mask",25,1],["üòé","sunglasses",24,9],["üòµ","dizzy_face",24,24],["üò≤","astonished",21,24],["üëø","imp",13,18],["üòÆ","open_mouth",17,24],["üòê","neutral_face",24,11],["üòï","confused",24,16],["üòè","smirk",24,10],["üë≤","man_with_gua_pi_mao",0,18],["üë≥","man_with_turban",1,18],["üëÆ","cop",18,14],["üë∑","construction_worker",5,18],["üíÇ","guardsman",16,18],["üë∂","baby",4,18],["üë¶","boy",18,6],["üëß","girl",18,7],["üë®","man",18,8],["üë©","woman",18,9],["üë¥","older_man",2,18],["üëµ","older_woman",3,18],["üë±","person_with_blond_hair",18,17],["üëº","angel",10,18],["üë∏","princess",6,18],["üò∫","smiley_cat",25,4],["üò∏","smile_cat",25,2],["üòª","heart_eyes_cat",25,5],["üòΩ","kissing_cat",25,7],["üòº","smirk_cat",25,6],["üôÄ","scream_cat",25,10],["üòø","crying_cat_face",25,9],["üòπ","joy_cat",25,3],["üòæ","pouting_cat",25,8],["üëπ","japanese_ogre",7,18],["üë∫","japanese_goblin",8,18],["üôà","see_no_evil",25,14],["üôâ","hear_no_evil",25,15],["üôä","speak_no_evil",25,16],["üíÄ","skull",14,18],["üëΩ","alien",11,18],["üí©","hankey",17,19],["üî•","fire",11,22],["‚ú®","sparkles",28,17],["üåü","star2",1,8],["üí´","dizzy",19,19],["üí•","boom",13,19],["üí¢","anger",10,19],["üí¶","sweat_drops",14,19],["üíß","droplet",15,19],["üí§","zzz",12,19],["üí®","dash",16,19],["üëÇ","ear",17,5],["üëÄ","eyes",17,4],["üëÉ","nose",17,6],["üëÖ","tongue",17,8],["üëÑ","lips",17,7],["üëç","thumbs_up",17,16],["üëé","-1",0,17],["üëå","ok_hand",17,15],["üëä","facepunch",17,13],["‚úä","fist",28,10],["‚úå","v",28,12],["üëã","wave",17,14],["‚úã","hand",28,11],["üëê","open_hands",2,17],["üëÜ","point_up_2",17,9],["üëá","point_down",17,10],["üëâ","point_right",17,12],["üëà","point_left",17,11],["üôå","raised_hands",25,18],["üôè","pray",25,21],["‚òù","point_up",27,23],["üëè","clap",1,17],["üí™","muscle",18,19],["üö∂","walking",26,25],["üèÉ","runner",14,10],["üíÉ","dancer",17,18],["üë´","couple",18,11],["üë™","family",18,10],["üíè","couplekiss",19,10],["üíë","couple_with_heart",19,12],["üëØ","dancers",18,15],["üôÜ","ok_woman",25,12],["üôÖ","no_good",25,11],["üíÅ","information_desk_person",15,18],["üôã","raising_hand",25,17],["üíÜ","massage",19,1],["üíá","haircut",19,2],["üíÖ","nail_care",19,0],["üë∞","bride_with_veil",18,16],["üôé","person_with_pouting_face",25,20],["üôç","person_frowning",25,19],["üôá","bow",25,13],["üé©","tophat",13,11],["üëë","crown",3,17],["üëí","womans_hat",4,17],["üëü","athletic_shoe",17,17],["üëû","mans_shoe",16,17],["üë°","sandal",18,1],["üë†","high_heel",18,0],["üë¢","boot",18,2],["üëï","shirt",7,17],["üëî","necktie",6,17],["üëö","womans_clothes",12,17],["üëó","dress",9,17],["üéΩ","running_shirt_with_sash",14,4],["üëñ","jeans",8,17],["üëò","kimono",10,17],["üëô","bikini",11,17],["üíº","briefcase",20,16],["üëú","handbag",14,17],["üëù","pouch",15,17],["üëõ","purse",13,17],["üëì","eyeglasses",5,17],["üéÄ","ribbon",12,7],["üåÇ","closed_umbrella",2,6],["üíÑ","lipstick",18,18],["üíõ","yellow_heart",3,19],["üíô","blue_heart",1,19],["üíú","purple_heart",4,19],["üíö","green_heart",2,19],["‚ù§","heart",0,28],["üíî","broken_heart",19,15],["üíó","heartpulse",19,18],["üíì","heartbeat",19,14],["üíï","two_hearts",19,16],["üíñ","sparkling_heart",19,17],["üíû","revolving_hearts",6,19],["üíò","cupid",0,19],["üíå","love_letter",19,7],["üíã","kiss",19,6],["üíç","ring",19,8],["üíé","gem",19,9],["üë§","bust_in_silhouette",18,4],["üí¨","speech_balloon",20,0],["üë£","footprints",18,3]],[["üê∂","dog",12,16],["üê∫","wolf",16,16],["üê±","cat",7,16],["üê≠","mouse",3,16],["üêπ","hamster",15,16],["üê∞","rabbit",6,16],["üê∏","frog",14,16],["üêØ","tiger",5,16],["üê®","koala",16,14],["üêª","bear",17,0],["üê∑","pig",13,16],["üêΩ","pig_nose",17,2],["üêÆ","cow",4,16],["üêó","boar",13,15],["üêµ","monkey_face",11,16],["üêí","monkey",8,15],["üê¥","horse",10,16],["üêë","sheep",7,15],["üêò","elephant",14,15],["üêº","panda_face",17,1],["üêß","penguin",16,13],["üê¶","bird",16,12],["üê§","baby_chick",16,10],["üê•","hatched_chick",16,11],["üê£","hatching_chick",16,9],["üêî","chicken",10,15],["üêç","snake",3,15],["üê¢","turtle",16,8],["üêõ","bug",16,1],["üêù","bee",16,3],["üêú","ant",16,2],["üêû","beetle",16,4],["üêå","snail",2,15],["üêô","octopus",15,15],["üêö","shell",16,0],["üê†","tropical_fish",16,6],["üêü","fish",16,5],["üê¨","dolphin",2,16],["üê≥","whale",9,16],["üêé","racehorse",4,15],["üê≤","dragon_face",8,16],["üê°","blowfish",16,7],["üê´","camel",1,16],["üê©","poodle",16,15],["üêæ","feet",17,3],["üíê","bouquet",19,11],["üå∏","cherry_blossom",9,1],["üå∑","tulip",9,0],["üçÄ","four_leaf_clover",0,9],["üåπ","rose",9,2],["üåª","sunflower",9,4],["üå∫","hibiscus",9,3],["üçÅ","maple_leaf",1,9],["üçÉ","leaves",3,9],["üçÇ","fallen_leaf",2,9],["üåø","herb",9,8],["üåæ","ear_of_rice",9,7],["üçÑ","mushroom",4,9],["üåµ","cactus",8,8],["üå¥","palm_tree",7,8],["üå∞","chestnut",3,8],["üå±","seedling",4,8],["üåº","blossom",9,5],["üåë","new_moon",3,7],["üåì","first_quarter_moon",5,7],["üåî","moon",6,7],["üåï","full_moon",7,7],["üåõ","first_quarter_moon_with_face",8,5],["üåô","crescent_moon",8,3],["üåè","earth_asia",1,7],["üåã","volcano",7,4],["üåå","milky_way",7,5],["üå†","stars",2,8],["‚≠ê","star",14,28],["‚òÄ","sunny",27,17],["‚õÖ","partly_sunny",25,27],["‚òÅ","cloud",27,18],["‚ö°","zap",19,27],["‚òî","umbrella",27,21],["‚ùÑ","snowflake",28,20],["‚õÑ","snowman",24,27],["üåÄ","cyclone",0,6],["üåÅ","foggy",1,6],["üåà","rainbow",7,1],["üåä","ocean",7,3]],[["üéç","bamboo",8,12],["üíù","gift_heart",5,19],["üéé","dolls",9,12],["üéí","school_satchel",13,0],["üéì","mortar_board",13,1],["üéè","flags",10,12],["üéÜ","fireworks",1,12],["üéá","sparkler",2,12],["üéê","wind_chime",11,12],["üéë","rice_scene",12,12],["üéÉ","jack_o_lantern",12,10],["üëª","ghost",9,18],["üéÖ","santa",0,12],["üéÑ","christmas_tree",12,11],["üéÅ","gift",12,8],["üéã","tanabata_tree",6,12],["üéâ","tada",4,12],["üéä","confetti_ball",5,12],["üéà","balloon",3,12],["üéå","crossed_flags",7,12],["üîÆ","crystal_ball",20,22],["üé•","movie_camera",13,7],["üì∑","camera",13,21],["üìπ","video_camera",14,21],["üìº","vhs",17,21],["üíø","cd",20,19],["üìÄ","dvd",0,20],["üíΩ","minidisc",0,0],["üíæ","floppy_disk",20,18],["üíª","computer",20,15],["üì±","iphone",7,21],["‚òé","phone",27,19],["üìû","telephone_receiver",21,9],["üìü","pager",21,10],["üì†","fax",21,11],["üì°","satellite",21,12],["üì∫","tv",15,21],["üìª","radio",16,21],["üîä","loud_sound",22,6],["üîî","bell",22,16],["üì¢","loudspeaker",21,13],["üì£","mega",21,14],["‚è≥","hourglass_flowing_sand",27,7],["‚åõ","hourglass",27,1],["‚è∞","alarm_clock",27,6],["‚åö","watch",27,0],["üîì","unlock",22,15],["üîí","lock",22,14],["üîè","lock_with_ink_pen",22,11],["üîê","closed_lock_with_key",22,12],["üîë","key",22,13],["üîé","mag_right",22,10],["üí°","bulb",9,19],["üî¶","flashlight",12,22],["üîå","electric_plug",22,8],["üîã","battery",22,7],["üîç","mag",22,9],["üõÄ","bath",9,26],["üöΩ","toilet",6,26],["üîß","wrench",13,22],["üî©","nut_and_bolt",15,22],["üî®","hammer",14,22],["üö™","door",26,13],["üö¨","smoking",26,15],["üí£","bomb",11,19],["üî´","gun",17,22],["üî™","hocho",16,22],["üíä","pill",19,5],["üíâ","syringe",19,4],["üí∞","moneybag",20,4],["üí¥","yen",20,8],["üíµ","dollar",20,9],["üí≥","credit_card",20,7],["üí∏","money_with_wings",20,12],["üì≤","calling",8,21],["üìß","e-mail",21,18],["üì•","inbox_tray",21,16],["üì§","outbox_tray",21,15],["‚úâ","email",28,9],["üì©","envelope_with_arrow",21,20],["üì®","incoming_envelope",21,19],["üì´","mailbox",1,21],["üì™","mailbox_closed",0,21],["üìÆ","postbox",4,21],["üì¶","package",21,17],["üìù","memo",21,8],["üìÑ","page_facing_up",4,20],["üìÉ","page_with_curl",3,20],["üìë","bookmark_tabs",17,20],["üìä","bar_chart",10,20],["üìà","chart_with_upwards_trend",8,20],["üìâ","chart_with_downwards_trend",9,20],["üìú","scroll",21,7],["üìã","clipboard",11,20],["üìÖ","date",5,20],["üìÜ","calendar",6,20],["üìá","card_index",7,20],["üìÅ","file_folder",1,20],["üìÇ","open_file_folder",2,20],["‚úÇ","scissors",28,6],["üìå","pushpin",12,20],["üìé","paperclip",14,20],["‚úí","black_nib",28,14],["‚úè","pencil2",28,13],["üìè","straight_ruler",15,20],["üìê","triangular_ruler",16,20],["üìï","closed_book",21,0],["üìó","green_book",21,2],["üìò","blue_book",21,3],["üìô","orange_book",21,4],["üìì","notebook",19,20],["üìî","notebook_with_decorative_cover",20,20],["üìí","ledger",18,20],["üìö","books",21,5],["üìñ","book",21,1],["üîñ","bookmark",22,18],["üìõ","name_badge",21,6],["üì∞","newspaper",6,21],["üé®","art",13,10],["üé¨","clapper",1,13],["üé§","microphone",13,6],["üéß","headphones",13,9],["üéº","musical_score",14,3],["üéµ","musical_note",10,13],["üé∂","notes",11,13],["üéπ","musical_keyboard",14,0],["üéª","violin",14,2],["üé∫","trumpet",14,1],["üé∑","saxophone",12,13],["üé∏","guitar",13,13],["üëæ","space_invader",12,18],["üéÆ","video_game",3,13],["üÉè","black_joker",20,17],["üé¥","flower_playing_cards",9,13],["üÄÑ","mahjong",1,0],["üé≤","game_die",7,13],["üéØ","dart",4,13],["üèà","football",0,14],["üèÄ","basketball",14,7],["‚öΩ","soccer",22,27],["‚öæ","baseball",23,27],["üéæ","tennis",14,5],["üé±","8ball",6,13],["üé≥","bowling",8,13],["‚õ≥","golf",28,2],["üèÅ","checkered_flag",14,8],["üèÜ","trophy",14,12],["üéø","ski",14,6],["üèÇ","snowboarder",14,9],["üèä","swimmer",2,14],["üèÑ","surfer",14,11],["üé£","fishing_pole_and_fish",13,5],["‚òï","coffee",27,22],["üçµ","tea",11,11],["üç∂","sake",12,0],["üç∫","beer",12,4],["üçª","beers",12,5],["üç∏","cocktail",12,2],["üçπ","tropical_drink",12,3],["üç∑","wine_glass",12,1],["üç¥","fork_and_knife",10,11],["üçï","pizza",1,10],["üçî","hamburger",0,10],["üçü","fries",11,0],["üçó","poultry_leg",3,10],["üçñ","meat_on_bone",2,10],["üçù","spaghetti",9,10],["üçõ","curry",7,10],["üç§","fried_shrimp",11,5],["üç±","bento",7,11],["üç£","sushi",11,4],["üç•","fish_cake",11,6],["üçô","rice_ball",5,10],["üçò","rice_cracker",4,10],["üçö","rice",6,10],["üçú","ramen",8,10],["üç≤","stew",8,11],["üç¢","oden",11,3],["üç°","dango",11,2],["üç≥","egg",9,11],["üçû","bread",10,10],["üç©","doughnut",11,10],["üçÆ","custard",4,11],["üç¶","icecream",11,7],["üç®","ice_cream",11,9],["üçß","shaved_ice",11,8],["üéÇ","birthday",12,9],["üç∞","cake",6,11],["üç™","cookie",0,11],["üç´","chocolate_bar",1,11],["üç¨","candy",2,11],["üç≠","lollipop",3,11],["üçØ","honey_pot",5,11],["üçé","apple",10,4],["üçè","green_apple",10,5],["üçä","tangerine",10,0],["üçí","cherries",10,8],["üçá","grapes",7,9],["üçâ","watermelon",9,9],["üçì","strawberry",10,9],["üçë","peach",10,7],["üçà","melon",8,9],["üçå","banana",10,2],["üçç","pineapple",10,3],["üç†","sweet_potato",11,1],["üçÜ","eggplant",6,9],["üçÖ","tomato",5,9],["üåΩ","corn",9,6]],[["üè†","house",3,14],["üè°","house_with_garden",4,14],["üè´","school",14,14],["üè¢","office",5,14],["üè£","post_office",6,14],["üè•","hospital",8,14],["üè¶","bank",9,14],["üè™","convenience_store",13,14],["üè©","love_hotel",12,14],["üè®","hotel",11,14],["üíí","wedding",19,13],["‚õ™","church",28,0],["üè¨","department_store",15,0],["üåá","city_sunrise",7,0],["üåÜ","city_sunset",6,6],["üèØ","japanese_castle",15,3],["üè∞","european_castle",15,4],["‚õ∫","tent",28,4],["üè≠","factory",15,1],["üóº","tokyo_tower",15,23],["üóæ","japan",17,23],["üóª","mount_fuji",14,23],["üåÑ","sunrise_over_mountains",4,6],["üåÖ","sunrise",5,6],["üåÉ","night_with_stars",3,6],["üóΩ","statue_of_liberty",16,23],["üåâ","bridge_at_night",7,2],["üé†","carousel_horse",13,2],["üé°","ferris_wheel",13,3],["‚õ≤","fountain",28,1],["üé¢","roller_coaster",13,4],["üö¢","ship",26,5],["‚õµ","boat",28,3],["üö§","speedboat",26,7],["‚öì","anchor",17,27],["üöÄ","rocket",25,22],["‚úà","airplane",28,8],["üí∫","seat",20,14],["üöâ","station",6,25],["üöÑ","bullettrain_side",1,25],["üöÖ","bullettrain_front",2,25],["üöá","metro",4,25],["üöÉ","railway_car",0,25],["üöå","bus",9,25],["üöô","blue_car",22,25],["üöó","car",20,25],["üöï","taxi",18,25],["üöö","truck",23,25],["üö®","rotating_light",26,11],["üöì","police_car",16,25],["üöí","fire_engine",15,25],["üöë","ambulance",14,25],["üö≤","bike",26,21],["üíà","barber",19,3],["üöè","busstop",12,25],["üé´","ticket",0,13],["üö•","traffic_light",26,8],["‚ö†","warning",18,27],["üöß","construction",26,10],["üî∞","beginner",22,22],["‚õΩ","fuelpump",28,5],["üèÆ","izakaya_lantern",15,2],["üé∞","slot_machine",5,13],["‚ô®","hotsprings",14,27],["üóø","moyai",18,23],["üé™","circus_tent",13,12],["üé≠","performing_arts",2,13],["üìç","round_pushpin",13,20],["üö©","triangular_flag_on_post",26,12]],[["üîü","keycap_ten",5,22],["üî¢","1234",8,22],["üî£","symbols",9,22],["‚¨Ü","arrow_up",10,28],["‚¨á","arrow_down",11,28],["‚¨Ö","arrow_left",9,28],["‚û°","arrow_right",4,28],["üî†","capital_abcd",6,22],["üî°","abcd",7,22],["üî§","abc",10,22],["‚Üó","arrow_upper_right",22,26],["‚Üñ","arrow_upper_left",21,26],["‚Üò","arrow_lower_right",23,26],["‚Üô","arrow_lower_left",24,26],["‚Üî","left_right_arrow",19,26],["‚Üï","arrow_up_down",20,26],["‚óÄ","arrow_backward",27,12],["‚ñ∂","arrow_forward",27,11],["üîº","arrow_up_small",23,11],["üîΩ","arrow_down_small",23,12],["‚Ü©","leftwards_arrow_with_hook",25,26],["‚Ü™","arrow_right_hook",26,26],["‚Ñπ","information_source",18,26],["‚è™","rewind",27,3],["‚è©","fast_forward",27,2],["‚è´","arrow_double_up",27,4],["‚è¨","arrow_double_down",27,5],["‚§µ","arrow_heading_down",8,28],["‚§¥","arrow_heading_up",7,28],["üÜó","ok",1,3],["üÜï","new",3,2],["üÜô","up",3,3],["üÜí","cool",2,2],["üÜì","free",3,0],["üÜñ","ng",0,3],["üì∂","signal_strength",12,21],["üé¶","cinema",13,8],["üàÅ","koko",5,2],["üàØ","u6307",0,5],["üà≥","u7a7a",2,5],["üàµ","u6e80",4,5],["üà¥","u5408",3,5],["üà≤","u7981",1,5],["üâê","ideograph_advantage",6,4],["üàπ","u5272",6,2],["üà∫","u55b6",6,3],["üà∂","u6709",5,5],["üàö","u7121",5,4],["üöª","restroom",4,26],["üöπ","mens",2,26],["üö∫","womens",3,26],["üöº","baby_symbol",5,26],["üöæ","wc",7,26],["üÖø","parking",2,1],["‚ôø","wheelchair",16,27],["üö≠","no_smoking",26,16],["üà∑","u6708",6,0],["üà∏","u7533",6,1],["üàÇ","sa",5,3],["‚ìÇ","m",27,8],["üâë","accept",6,5],["„äô","secret",19,28],["„äó","congratulations",18,28],["üÜë","cl",1,2],["üÜò","sos",2,3],["üÜî","id",3,1],["üö´","no_entry_sign",26,14],["üîû","underage",4,22],["‚õî","no_entry",27,27],["‚ú≥","eight_spoked_asterisk",28,18],["‚ùá","sparkle",28,21],["‚ùé","negative_squared_cross_mark",28,23],["‚úÖ","white_check_mark",28,7],["‚ú¥","eight_pointed_black_star",28,19],["üíü","heart_decoration",7,19],["üÜö","vs",4,0],["üì≥","vibration_mode",9,21],["üì¥","mobile_phone_off",10,21],["üÖ∞","a",0,1],["üÖ±","b",1,1],["üÜé","ab",0,2],["üÖæ","o2",2,0],["üí†","diamond_shape_with_a_dot_inside",8,19],["‚ôª","recycle",15,27],["‚ôà","aries",27,25],["‚ôâ","taurus",27,26],["‚ôä","gemini",0,27],["‚ôã","cancer",1,27],["‚ôå","leo",2,27],["‚ôç","virgo",3,27],["‚ôé","libra",4,27],["‚ôè","scorpius",5,27],["‚ôê","sagittarius",6,27],["‚ôë","capricorn",7,27],["‚ôí","aquarius",8,27],["‚ôì","pisces",9,27],["‚õé","ophiuchus",26,27],["üîØ","six_pointed_star",21,22],["üèß","atm",10,14],["üíπ","chart",20,13],["üí≤","heavy_dollar_sign",20,6],["üí±","currency_exchange",20,5],["‚ùå","x",28,22],["‚Äº","bangbang",15,26],["‚Åâ","interrobang",16,26],["‚ùó","exclamation",28,27],["‚ùì","question",28,24],["‚ùï","grey_exclamation",28,26],["‚ùî","grey_question",28,25],["‚≠ï","o",15,28],["üîù","top",3,22],["üîö","end",0,22],["üîô","back",22,21],["üîõ","on",1,22],["üîú","soon",2,22],["üîÉ","arrows_clockwise",21,21],["üïõ","clock12",1,23],["üïê","clock1",23,13],["üïë","clock2",23,14],["üïí","clock3",23,15],["üïì","clock4",23,16],["üïî","clock5",23,17],["üïï","clock6",23,18],["üïñ","clock7",23,19],["üïó","clock8",23,20],["üïò","clock9",23,21],["üïô","clock10",23,22],["üïö","clock11",0,23],["‚úñ","heavy_multiplication_x",28,16],["‚ûï","heavy_plus_sign",1,28],["‚ûñ","heavy_minus_sign",2,28],["‚ûó","heavy_division_sign",3,28],["‚ô†","spades",10,27],["‚ô•","hearts",12,27],["‚ô£","clubs",11,27],["‚ô¶","diamonds",13,27],["üíÆ","white_flower",20,2],["üíØ","100",20,3],["‚úî","heavy_check_mark",28,15],["‚òë","ballot_box_with_check",27,20],["üîò","radio_button",22,20],["üîó","link",22,19],["‚û∞","curly_loop",5,28],["„Ä∞","wavy_dash",16,28],["„ÄΩ","part_alternation_mark",17,28],["üî±","trident",23,0],["‚óº","black_medium_square",27,14],["‚óª","white_medium_square",27,13],["‚óæ","black_medium_small_square",27,16],["‚óΩ","white_medium_small_square",27,15],["‚ñ™","black_small_square",27,9],["‚ñ´","white_small_square",27,10],["üî∫","small_red_triangle",23,9],["üî≤","black_square_button",23,1],["üî≥","white_square_button",23,2],["‚ö´","black_circle",21,27],["‚ö™","white_circle",20,27],["üî¥","red_circle",23,3],["üîµ","large_blue_circle",23,4],["üîª","small_red_triangle_down",23,10],["‚¨ú","white_large_square",13,28],["‚¨õ","black_large_square",12,28],["üî∂","large_orange_diamond",23,5],["üî∑","large_blue_diamond",23,6],["üî∏","small_orange_diamond",23,7],["üîπ","small_blue_diamond",23,8]]],f={};b.each(e,function(a,c){b.each(a,function(a){f[a[0]]=[a[1],a[2],a[3],c]})});var g={":-)":"üòÄ",":-D":"üòÉ",";-)":"üòâ","}-)":"üëø",":-o":"üòÆ",":-O":"üòÆ",":-/":"üòï",":-\\":"üòï","x-(":"üò©","X-(":"üò©",":-(":"üòû","B-)":"üòé",":-p":"üòõ",":-P":"üòõ",":-@":"üò†",":-|":"üòê",":-$":"üò≥"};b.each(g,function(a,b){f[a][d+"ascii"]=b});var h=["‚Åâ","‚úÇ","‚úà","‚úâ","‚ù§","‚úå","‚úè","‚ö†","üà∑","üàÇ","‚ìÇ","‚úí","‚úî","‚úñ","‚óº","‚óª","‚Ñ¢","‚òÄ","‚òÅ","‚ô†","‚ô£","‚ô•","‚ô¶","‚ô®","‚ñ™","‚ñ´","‚Ñπ","‚Üî","‚Üï","‚Üñ","‚Üó","‚Üò","‚Üô","‚òë","„Ä∞","‚ôª","„ÄΩ","‚ñ∂","‚òù","‚ú≥","‚ú¥","‚ùÑ","‚ùá","‚¨Ü","‚¨á","‚¨Ö","‚û°","‚óÄ","‚Ü©","‚Ü™","‚§¥","‚§µ","„äó","„äô","‚ò∫","‚Äº","üÖ∞","üÖ±","üÖø","üÖæ","üáØ","üá∞","üá©","üá®","üá∫","üá´","üá™","üáÆ","üá∑","üá¨","‚òî","‚≠ê","‚ö°","‚òï","‚òé","‚öì","‚ôà","‚ôâ","‚ôê","‚ôë","‚ôí","‚ôì","‚ôø","‚ôä","‚ôã","‚ôå","‚ôç","‚ôé","‚ôè","‚óæ","‚óΩ","‚ö´","‚ö™"],i={};b.each(f,function(a,b){i[d+a[0]]=b});var j=5,k=b.map(e,function(a){return b.map(a,function(a){return a[0]})}),l=function(a,b,c){for(var d=[],e=0,f=0;e+c<=b.length;){var g=b.slice(e,e+c);a.isSupportedAscii(g)?(e>f&&d.push(b.slice(f,e)),d.push(g),e+=c,f=e):++e}return f<b.length&&d.push(b.slice(f,b.length)),d};return{getGroupRepresentatives:function(){return[["üòÑ","People"],["üå∏","Nature"],["üîî","Objects"],["üöô","Places"],["üî†","Symbols"]]},getUglyNativeEmoji:function(){return h.slice()},isUglyNativeEmoji:function(a){return b.contains(h,a)},hasNativeSupport:function(a){var b,c="üòÄ";return a.createElement("canvas").getContext?(b=a.createElement("canvas").getContext("2d"),"function"!=typeof b.fillText?!1:(b.textBaseline="top",b.font="32px Arial",b.fillText(c,0,0),0!==b.getImageData(16,16,1,1).data[0])):!1},isSupportedUnicode:function(a){return b.has(f,a)},identifierFromUnicode:function(a){return f[a][0]},asciiFromUnicode:function(a){return f[a][d+"ascii"]},spritemapIndexFromUnicode:function(a){return{x:f[a][1],y:f[a][2]}},groupFromUnicode:function(a){return f[a][3]},isSupportedAscii:function(a){return b.has(g,a)},unicodeFromAscii:function(a){return g[a]},isSupportedIdentifier:function(a){return b.has(i,d+a)},unicodeFromIdentifier:function(a){return i[d+a]},N_GROUPS:j,prettyEmoticonsUnicodeGroups:function(){return b.map(k,function(a){var c=[];return b.each(a,function(a){b.contains(h,a)||c.push(a)}),c})},allEmoticonsUnicodeGroups:k,allEmoticonsUnicodeList:b.keys(f),allEmoticonsIdentifierList:b.map(f,function(a){return a[0]}),prettyEmoticonsIdentifierList:function(){return b.map(b.filter(f,function(a,c){return!b.contains(h,c)}),function(a){return a[0]})},asciiEmoticonsUnicodeList:b.uniq(b.values(g)),asciiEmoticonsIdentifierList:b.map(b.uniq(b.values(g)),function(a){return f[a][0]}),MIN_ASCII_LENGTH:3,MAX_ASCII_LENGTH:3,asciiEmoticonsAsciiList:b.keys(g),spritemapStyleString:function(a,b){var c=this.spritemapIndexFromUnicode(b);return"display:inline-block;height:"+a+"px;width:"+a+"px;background-position:-"+a*c.x+"px -"+a*c.y+"px;"},spritemapSpanTag:function(a,c,d){return b.isUndefined(d)&&(d="intermoji-default-class"),'<span style="'+this.spritemapStyleString(a,c)+'" title="'+this.identifierFromUnicode(c)+'" class="'+d+'"></span>'},splitOnUnicodeEmojis:function(a){if(b.isUndefined(a))return[];var d=[],e="";return b.each(c(a),function(a){var b=a[0];this.isSupportedUnicode(b)?(e.length>0&&(d.push(e),e=""),d.push(b)):e+=b},this),e.length>0&&d.push(e),d},splitOnAsciiEmojis:function(a){if(b.isUndefined(a))return[];for(var c=[a],d=this.MAX_ASCII_LENGTH;d>=this.MIN_ASCII_LENGTH;--d){for(var e=[],f=0;f<c.length;++f)e=e.concat(l(this,c[f],d));c=e}return c},splitOnUnicodeAndAsciiEmojis:function(a){return b.isUndefined(a)?[]:b.flatten(b.map(this.splitOnUnicodeEmojis(a),function(a){return this.splitOnAsciiEmojis(a)},this),this)},substituteUnicodeForAsciiEmojis:function(a){return b.isUndefined(a)?"":b.reduce(b.map(this.splitOnAsciiEmojis(a),function(a){return this.isSupportedAscii(a)?this.unicodeFromAscii(a):a},this),function(a,b){return a+b},"",this)},substituteSpansForEmojis:function(a,c,d){return b.isUndefined(c)?"":b.reduce(b.map(this.splitOnUnicodeAndAsciiEmojis(c),function(b){return this.isSupportedAscii(b)?this.spritemapSpanTag(a,this.unicodeFromAscii(b),d):this.isSupportedUnicode(b)?this.spritemapSpanTag(a,b,d):b},this),function(a,b){return a+b},"",this)},wrapUnicodeEmojiInTitledSpans:function(a,c,d){return b.isUndefined(c)?"":b.reduce(b.map(this.splitOnUnicodeEmojis(c),function(b){return this.isSupportedUnicode(b)?this.isUglyNativeEmoji(b)?this.spritemapSpanTag(a,b,d):'<span title="'+this.identifierFromUnicode(b)+'">'+b+"</span>":b},this),function(a,b){return a+b},"",this)},substituteUnicodeForColonified:function(a){for(var b=function(a){return":"+a+":"},c=!0,d="",e="",f=0;f<a.length;f++)":"===a[f]?(c?(c=!1,e+=d):(c=!0,e+=this.isSupportedIdentifier(d)?this.unicodeFromIdentifier(d):b(d)),d=""):d+=a[f];return c||(e+=":"),e+=d},codepointIndexFromUnicode:function(a){return this.isSupportedUnicode(a)?c(a)[0][1]:0}}}),define("activity-monitor",["exports","underscore","jquery","date"],function(a,b,c,d){"use strict";function e(){b.invoke(o,"call")}function f(){b.invoke(p,"call")}function g(){return d.now()-j<k}function h(){m&&(m=clearTimeout(m))}function i(){h(),m=setTimeout(a.recordActivityFinished,j)}var j,k,l,m,n=!1,o=[],p=[];a.start=function(b){n||(n=!0,j=b||1e3,l=!1,c(document).mousemove(a.recordActivity),c(window).focus(a.recordActivity),c(window).blur(a.recordActivityFinished))},a.stop=function(){n&&(c(document).off("mousemove",a.recordActivity),c(window).off("focus",a.recordActivity),c(window).off("blur",a.recordActivityFinished),h(),n=!1)},a.recordActivity=function(){l=!0,k=d.now(),i(),e()},a.recordActivityFinished=function(){l=!1,h(),f()},a.onActive=function(a){o.push(a)},a.onInactive=function(a){p.push(a)},a.isActive=function(){return l||g()}}),define("activity-responder",function(){"use strict";var a=require("underscore"),b=require("activity-monitor");return{initialize:function(c){b.onActive(a.bind(c.onUserPresent,c)),b.onInactive(a.bind(c.onUserAbsent,c))}}}),define("api",function(){"use strict";var a=require("underscore"),b=require("logger");return function(c){function d(b){return b=a.toArray(b),a.isEmpty(b)?void 0:e[b[0]].apply(e,b.slice(1))}var e={boot:function(a){c.initialize(a)},shutdown:function(){c.deinitialize()},update:function(a){c.createOrUpdateUser(a)},reattachActivator:function(){c.enableCustomLauncher()},show:function(){c.show()},showMessages:function(){c.showConversations()},showNewMessage:function(a){c.showNewConversation(a)},hide:function(){c.hide()},trackEvent:function(a,b){c.createEvent(a,b)},onHide:function(a){c.on("hide",a)},onShow:function(a){c.on("show",a)},onActivatorClick:function(a){c.on("click",a)},dumpLog:function(){return b.getLines()}};if(e.reattach_activator=e.reattachActivator,e.trackUserEvent=e.trackEvent,window.Intercom&&window.Intercom.q)for(;;){var f=window.Intercom.q.shift();if(a.isUndefined(f))break;d(f)}return window.Intercom=function(){return d(arguments)},window.Intercom.public_api=e,window.Intercom.version={sha:"253168513196b48cbe294f34b5186c0f7d2b29ce",date:new Date('"2015-08-25 10:34:07 +0100"')},window.Intercom}}),define("audio",function(){"use strict";var a=require("browser");return{enable:function(){this.enabled=!0},isEnabled:function(){return this.enabled},playDelivered:function(){this.play("https://js.intercomcdn.com/audio/delivered.mp3")},playFailed:function(){this.play("https://js.intercomcdn.com/audio/failed.mp3")},playNotification:function(){this.play("https://js.intercomcdn.com/audio/notification.mp3")},playSubmit:function(){this.play("https://js.intercomcdn.com/audio/submit.mp3")},play:function(b){if(a.features.audioMp3()&&this.isEnabled()){var c=this.load(b);c&&c.play()}},load:function(a){return void 0===this.audio[a]&&(this.audio[a]=new Audio(a)),this.audio[a]},audio:{}}}),define("boot",function(){"use strict";var a=require("jquery"),b=require("underscore"),c=require("backbone"),d=require("settings"),e=require("intercom"),f=require("sync"),g=require("api"),h=require("pjax"),i=require("turbolinks"),j=require("features"),k=require("user-metrics"),l=require("clients/intercom"),m=require("clients/nexus"),n=a("meta[name=intercom-js-api-base]").attr("content")||"https://api-iam.intercom.io",o=a("meta[name=intercom-js-api-base]").attr("content")||"https://api-ping.intercom.io",p=new d(window.intercomSettings),q=new m(p),r=new l(n,o,p),s=new e(r,q,p),t=window.Intercom&&window.Intercom.q?window.Intercom.q:[],u=b.any(t,function(a){return"boot"===a[0]||"shutdown"===a[0]});return c.sync=f(r,q),j.initialize(p),k.initialize(p),h(s),i(s),g(s),u||!p.isValid()?!1:(s.initialize(),!0)}),define("browser",function(){"use strict";function a(a){try{if(!(a in window))return!1;var b=window[a];return null===b?!1:(b.setItem("intercom.testStorage","0"),b.removeItem("intercom.testStorage"),!0)}catch(c){return!1}}var b=require("underscore"),c=require("jquery"),d=require("intermoji"),e={ie8:function(){return"attachEvent"in window&&!window.addEventListener},xhr2:function(){return"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest},xdr:function(){return"undefined"!=typeof XDomainRequest},localStorage:function(){return a("localStorage")},sessionStorage:function(){return a("sessionStorage")},uiwebview:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},upload:function(){return!!(window.File&&window.FileList&&window.FileReader&&window.FormData)},audioMp3:function(){var a=c("<audio>")[0];return!!a.canPlayType&&!!a.canPlayType("audio/mpeg;").replace(/^no$/,"")},visibility:function(){return"undefined"!=typeof document.hidden||"undefined"!=typeof document.mozHidden||"undefined"!=typeof document.msHidden||"undefined"!=typeof document.webkitHidden},emoji:function(){return b.isUndefined(this.isNativeEmojiSupport)&&(this.isNativeEmojiSupport=d.hasNativeSupport(document)),this.isNativeEmojiSupport},pointerEvents:function(){if(b.isUndefined(this.isPointerEvents)){var a=document.createElement("x");a.style.cssText="pointer-events:auto",this.isPointerEvents="auto"===a.style.pointerEvents}return this.isPointerEvents},touchScreen:function(){return b.isUndefined(this.isTouchScreen)&&(this.isTouchScreen=b.isUndefined(navigator.userAgent)?!1:!b.isNull(navigator.userAgent.match(/iphone|ipad|ipod|android|blackberry|opera mini|iemobile/i))),this.isTouchScreen}};return{features:e}}),define("clients/http",["browser","logger","url","clients/http/xhr2","clients/http/xdr","clients/http/jsonp"],function(a,b,c,d,e,f){"use strict";
function g(b){return a.features.xdr()&&c.parse(b).protocol===document.location.protocol}var h={xhr2:d,xdr:e,jsonp:f};return h.post=function(c,d,e,f){return a.features.xhr2()?(b.info("http - POST (xhr2) "+c),this.xhr2(c,"POST",d,e,f)):g(c)?(b.info("http - POST (xdr) "+c),this.xdr(c,d,e,f)):(b.info("http - POST (jsonp) "+c),this.jsonp(c,d,e))},h}),define("clients/http/jsonp",["jquery","date"],function(a,b){"use strict";return function(c,d,e){return a.ajax({type:"GET",url:c,data:d,dataType:"jsonp",jsonp:"callback",jsonpCallback:"intercom_jsonp_"+b.now(),success:e})}}),define("clients/http/xdr",["jquery","underscore","json","logger"],function(a,b,c,d){"use strict";function e(a){if("string"==typeof a)if(a.match(/^\s*$/))a={};else try{a=c.parse(a)}catch(b){d.error("Parsing failed:'"+a+"'")}return a}return function(c,d,f,g){var h=new XDomainRequest,i=a.Deferred();return h.timeout=1e4,h.open("POST",c),h.ontimeout=function(){},h.onprogress=function(){},h.onload=function(){var a=h.response||h.responseText,c=e(a);b.isFunction(f)&&f(c,h.status),i.resolve(c)},h.onerror=function(){var a=h.response||h.responseText,c=e(a);b.isFunction(g)&&g(c),i.rejectWith(c)},d.utf8="‚úì",setTimeout(function(){h.send(a.param(d))},0),i}}),define("clients/http/xhr2",["jquery","xhr"],function(a,b){"use strict";return function(c,d,e,f,g){return a.ajax({xhrFields:{withCredentials:!0},xhr:b.createXHR,dataType:"json",type:d,url:c,data:e,success:f,error:g})}}),define("clients/intercom",function(){"use strict";function a(a,b,c){this.base=a,this.pingBase=b,this.settings=c}var b=require("underscore"),c=require("json"),d=require("logger"),e=require("clients/http"),f=require("date"),g=require("metrics"),h=require("backbone").Events;return b.extend(a.prototype,h,{createOrUpdateUser:function(a){d.info("clients/intercom - createOrUpdateUser");var c,e=this._buildPingRequest(a);return c=this.settings.get("user.anonymous")===!0?"/ping":"/vjs/users/ping",this._post(c,e,this.pingBase).pipe(b.bind(this._handlePingResponse,this)).promise()},getConversation:function(a){return d.info("clients/intercom - getConversation - id:"+a),this._post("/widget_api/conversations/"+a+"/fetch",this._buildRequest()).promise()},getConversations:function(a){return a=b.defaults(a,{},{page:1,per_page:10}),d.info("clients/intercom - getConversations"),this._post("/widget_api/conversations",this._buildRequest(a)).promise()},getConversationsAndFilterByIds:function(a){return d.info("clients/intercom - getConversationsAndFilterByIds - ids:"+a),this.getConversations().then(function(c){return b.filter(c.conversations,function(c){return b.contains(a,c.id)})}).promise()},markConversationAsRead:function(a){return d.info("clients/intercom - updateConversation - id:"+a.id),this._post("/widget_api/conversations/"+a.id+"/read",this._buildRequest(b.omit(a,"id"))).promise()},createComment:function(a){return d.info("clients/intercom - createComment"),b.extend(a,{referer:this._getReferer()}),this._post("/widget_api/conversations/"+a.conversation_id+"/reply",this._buildRequest(a)).pipe(function(a){var b=a.conversation_parts.conversation_parts.length-1,c=a.conversation_parts.conversation_parts[b];return c.conversation_id=a.id,c}).promise()},createConversation:function(a){return d.info("clients/intercom - createConversation"),b.extend(a,{referer:this._getReferer()}),this._post("/widget_api/messages",this._buildRequest(a)).promise()},createUpload:function(a){return d.info("clients/intercom - createUpload"),this._post("/vjs/uploads",this._buildRequest({upload:c.stringify(a),user_id:this.settings.get("user.intercom-id")})).promise()},updateUpload:function(a){d.info("clients/intercom - updateUpload");var b=a.id;return this._post("/vjs/uploads/"+b,this._buildRequest({upload:c.stringify(a),_method:"put"})).promise()},createEvent:function(a,b){d.info("clients/intercom - createEvent");var e=this.settings.get("user.anonymous")?"/ping/events":"/vjs/users/events";return this._post(e,this._buildRequest({event_list:c.stringify({data:[{event_name:a,created:Math.round(f.now()/1e3),metadata:b}]})})).promise()},_handlePingResponse:function(a){if("string"==typeof a)throw d.error("Unable to process String ping responses"),new Error("Intercom was unable to initialise.");return this.trigger("ping",a),this.settings.get("app.messaging-disabled")?a:(this._getUnreadConversations(a.unread_conversation_ids),a)},_buildRequest:function(a){return a=b.extend(a||{},this._attributesForRequest()),a.user_data=c.stringify(a.user_data),a},_getUnreadConversations:function(a){if(!b.isEmpty(a)){var c=b.invoke(a,"toString");this.getConversationsAndFilterByIds(c).then(b.bind(function(a){b.each(a,b.bind(this.trigger,this,"new-unread-conversation"))},this))}},_buildPingRequest:function(){var a=this._attributesForRequest();return b.extend(a.user_data,{increments:this.settings.getAndClear("increments")},this.settings.getCustomAttributes()),a.referer=this._getReferer(),a.user_data=c.stringify(a.user_data),a.metrics=c.stringify(g.getMetrics()),g.resetMetrics(),a},_attributesForRequest:function(){return{app_id:this.settings.get("app.id"),anonymous_session:this.settings.get("user.anonymous-session"),user_data:{email:this.settings.get("user.email"),user_id:this.settings.get("user.id"),user_hash:this.settings.get("user.hash"),anonymous_id:this.settings.get("user.anonymous-id"),anonymous_email:this.settings.get("user.anonymous-email")}}},_getReferer:function(){return window.location.href},_post:function(a,b,c){return e.post((c||this.base)+a,b)}}),a}),define("clients/nexus",function(){"use strict";function a(a){this.settings=a,this.listeners=[],this.isInitialised=!1}var b=require("underscore"),c=require("logger"),d=require("nexus-client"),e=require("rtm-latency-monitor");return a.prototype.initialise=function(){try{var a=this.settings.get("app.rtm-settings");if(b.isUndefined(a)||b.isUndefined(a.endpoints))return void this._shutdown();if(this.isInitialised&&0===b(this.nexusClient.getEndpoints()).difference(a.endpoints).length)return;this.settings.get("app.rtm-enabled")||e.disable(),(this.isInitialised||!b.isUndefined(this.nexusClient))&&this._shutdown(),c.info("Starting Nexus client"),this.nexusClient=this._createNexusClient(a.endpoints,c),this.isInitialised=!0,this._addListeners(),this.addListener("NewComment",e.onNewComment)}catch(d){c.error("initialise Error: "+d),this.isInitialised=!1}},a.prototype.postEvent=function(a,b){if(this.isInitialised)try{this.nexusClient.sendEvent(a,b)}catch(d){c.error("postEvent Error: "+d)}},a.prototype.addListener=function(a,b){this.isInitialised?this.nexusClient.addListener(a,b):this.listeners.push({eventName:a,eventHandler:b})},a.prototype.syncCreateConversation=function(a){return this.postEvent("CreateConversation",a.id),a},a.prototype.syncCreateComment=function(a){return this.postEvent("NewComment",a.conversation_id),a},a.prototype.onConversationSeen=function(a){this.postEvent("ConversationSeen",{conversationId:a})},a.prototype.onConversationReceived=function(a){try{var d=e.popLatencyDataForConversation(a),f=b.extend(d,{conversationId:a});this.postEvent("ConversationReceived",f)}catch(g){c.error("onConversationReceived Error: "+g)}},a.prototype.onUserPresent=function(){if(this.isInitialised)try{this.nexusClient.setUserPresent()}catch(a){c.error("onUserPresent Error: "+a)}},a.prototype.onUserAbsent=function(){if(this.isInitialised)try{this.nexusClient.setUserAbsent()}catch(a){c.error("onUserAbsent Error: "+a)}},a.prototype.getMetrics=function(){return this.isInitialised?this.nexusClient.getMetrics():void 0},a.prototype.resetMetrics=function(){this.isInitialised&&this.nexusClient.resetMetrics()},a.prototype._createNexusClient=function(a,b){return new d(a,b)},a.prototype._addListeners=function(){return this.isInitialised?void b.each(this.listeners,function(a){this.nexusClient.addListener(a.eventName,a.eventHandler)},this):void c.error("_addListeners must not be called until isInitialised is set")},a.prototype._shutdown=function(){b.isUndefined(this.nexusClient)||(c.info("Shutting down Nexus client - configuration removed from ping response"),this.nexusClient.shutdown()),this.isInitialised=!1},a}),define("collections/conversations",function(){"use strict";var a=require("underscore"),b=require("backbone"),c=require("models/conversation");return b.Collection.extend({model:c,initialize:function(){this.on("change",this.sort),this.on("reset",this.onReset)},comparator:function(a){return a.updatedAt()},unread:function(){return a(this.reject(function(a){return a.isRead()}))},newUnread:function(){return a(this.reject(function(a){return a.isRead()||a.updatedBeforeInAppsV2()}))},fetchNextPage:function(){return this.pages+=1,this.fetch({remove:!1})},isFetched:function(){return this.pages===this.totalPages},parse:function(a){return this.pages=a.pages.page,this.totalPages=a.pages.total_pages,a.conversations},onReset:function(){this.pages=void 0,this.totalPages=void 0}})}),define("collections/parts",["underscore","backbone","models/part"],function(a,b,c){"use strict";return b.Collection.extend({model:c,comparator:function(a){return a.createdAt()},byAdmin:function(){return a(this.filter(function(a){return a.byAdmin()}))},byUser:function(){return a(this.filter(function(a){return a.byUser()}))},nonLwrResponses:function(){return a(this.reject(function(a){return a.isLwrResponse()}))},lastNonLwrResponseBlock:function(){return this.nonLwrResponses().last().get("blocks")},lastNonLwrResponseBody:function(){return this.nonLwrResponses().last().body()},parse:function(a){return(null===a||void 0===a)&&(a={}),a.conversation_parts}})}),define("collections/uploads",["backbone","models/upload","underscore"],function(a,b,c){"use strict";return a.Collection.extend({model:b,initialize:function(){this.uploading=0,this.on("upload:start",this.onUploadStart),this.on("upload:complete",this.onUploadComplete)},pendingUploads:function(){return this.filter(function(a){return c.isUndefined(a.url())})},imageUploads:function(){return this.filter(function(a){return a.isImage()})},anyUploading:function(){return this.uploading>0},onUploadStart:function(){this.uploading++},onUploadComplete:function(){this.uploading--}})}),define("color",["exports"],function(a){"use strict";function b(a){var b=a.slice(1),c=parseInt(b,16);return{red:c>>16,green:c>>8&255,blue:255&c}}function c(a,b,c){return"#"+String("000000"+(c|b<<8|a<<16).toString(16)).slice(-6)}function d(a,b,c){return Math.min(Math.max(b,a),c)}a.lighten=function(a,e){var f=b(a),g=d(f.red+e,0,255),h=d(f.green+e,0,255),i=d(f.blue+e,0,255);return c(g,h,i)},a.darken=function(b,c){return a.lighten(b,-1*c)},a.addOpacity=function(a,c){var e=b(a);return c=d(c,0,1),"rgba("+e.red+","+e.green+","+e.blue+","+c+")"}}),define("cookie",["exports"],function(a){"use strict";var b=/[^.]*\.([^.]*|..\...|...\...)$/,c=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;a.findDomain=function(a){var d=a.match(c);return d?void 0:(d=a.match(b),d?"."+d[0]:void 0)},a.read=function(a,b){b=b||document.cookie;var c="(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$";return decodeURIComponent(b.replace(new RegExp(c),"$1"))||void 0},a.write=function(b,c,d,e,f){var g=b+"="+c;return"all"===d&&(d=a.findDomain(location.host)),d&&(g+="; domain="+d),e&&(g+="; path="+e),f&&(g+="; expires="+f.toUTCString()),document.cookie=g,g},a.clear=function(b,c,d){a.write(b,"",c,d,new Date(0))}}),define("date",["exports"],function(a){"use strict";a.timestampToDate=function(a){return new Date(1e3*a)},a.now=function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()}}),define("draft-store",function(){"use strict";function a(a){return a?e+"-"+a:e}var b=require("store"),c=require("models/draft"),d=require("json"),e="draft";return{loadDraft:function(d){var e=b.sessionStorage.get(a(d));return c.fromJSON(e)},removeDraft:function(c){b.sessionStorage.remove(a(c))},saveDraft:function(c,f){c.isEmpty()||(b.sessionStorage.removeAll(e),b.sessionStorage.set(a(f),d.stringify(c.toJSON())))}}}),define("email",["exports"],function(a){"use strict";a.isValid=function(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}}),define("embed",["underscore","jquery","settings","stylesheet","models/part","models/conversation","views/embed/conversation","views/embed/launcher"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){return"chat"===a.type?0:"announcement"===a.type?1:"small-announcement"===a.type?2:void 0}function j(a){return m[a.replyType]}function k(a,c){this.$el=b(a),this.selector=a,this.color=c,this.injectStyle()}var l="chat announcement small-announcement",m={thumbs:{type:"thumbs",options:[{id:"thumbs_up"},{id:"thumbs_down"}],option:null},emotions:{type:"emotions",options:[{id:"happy"},{id:"neutral"},{id:"sad"}],option:null}},n={acquire:"intercom-acquire",inbox:"intercom-learn"};return k.prototype.addMessage=function(c){var d=new e({id:a.uniqueId(),type:"conversation_message",body:c.body,message_style:i(c),lightweight_reply:j(c),author:{avatar:{square_128:c.avatarUrl},is_admin:c.byAdmin,name:c.authorName}});return c.uploads&&d.uploads.add(c.uploads.map(function(a){return{content_type:a.content_type,filesize:a.filesize,name:a.name,type:"upload",url:a.url}})),this.conversation.addPart(d),this.$el.addClass(c.type),b(this.selector).find(".intercom-embed-body")},k.prototype.addComment=function(b){this.conversation.addPart(new e({id:a.uniqueId(),type:"conversation_part",body:b.body,author:{avatar:{square_128:b.avatarUrl},is_admin:b.byAdmin}}))},k.prototype.changeType=function(a){b(this.selector).removeClass(l).addClass(a),this.conversation.getMessage().set({message_style:i({type:a})})},k.prototype.changeReplyType=function(a){"text"===a?this.conversation.getMessage().unset("lightweight_reply"):this.conversation.getMessage().set({lightweight_reply:j({replyType:a})})},k.prototype.changeColor=function(a){this.color=a,this.$el.find("#intercom-embed-styles").remove(),this.injectStyle()},k.prototype.toggleAttachments=function(a){return this.$el.find(".intercom-attachments:first").toggle(a)},k.prototype.reset=function(){void 0!==this.conversation&&this.conversation.parts.reset()},k.prototype.injectStyle=function(){var a=d("stylesheets/intercom",this.color).replace(/#intercom-container/g,this.selector),c=b('<style type="text/css" id="intercom-embed-styles">'+a+"</style>");this.$el.append(c)},k.prototype.embedConversation=function(a,b,c,d){this.conversation=new f,this.conversationView=new g({model:this.conversation,appName:b,adminName:c,preview:d}),this.$el.find(a).append(this.conversationView.render().el)},k.prototype.embedLauncher=function(a,b){var c=new h;b&&this.$el.addClass(n[b]),this.$el.find(a).append(c.render().el)},k.prototype.changeLauncherIcon=function(b){a.each(n,function(a){this.$el.removeClass(a)},this),b&&this.$el.addClass(n[b])},k.prototype.embedLauncherWithPreview=function(a,b,c){var d=new h;this.$el.find(a).append(d.render().el),d.addPreview(b,c)},{embed:function(a,c){return b(a).addClass("intercom-reset"),new k(a,c)},embedForCustomContent:function(a,b){return new k(a,b)}}}),define("emoji",["underscore","exports","intermoji","browser"],function(a,b,c,d){"use strict";b.sizePx=function(){return 16},b.maybeSubstituteWithSpans=function(a,e){return d.features.emoji()?c.wrapUnicodeEmojiInTitledSpans(b.sizePx(),c.substituteUnicodeForAsciiEmojis(a),e):c.substituteSpansForEmojis(b.sizePx(),a,e)}}),define("environment",function(){"use strict";var a=require("metrics"),b=require("underscore");return{runAll:function(){var c=[["mixpanel","mp"],["olark","ol"],["$zopim","zpm"],["KM","km"],["_cio","cus"],["analytics","sg"]],d="#?#:";a.increment(d+b.filter(b.map(c,function(a){return a[0]in window?a[1]:""}),function(a){return a.length>0}).join(":"))}}}),define("features",["underscore"],function(a){"use strict";return{features:{welcome_panel_test:["tx2p130c","a2qhfto6"]},initialize:function(a){this.settings=a},isEnabled:function(b){return this.settings?a.include(this.features[b]||{},this.settings.get("app.id"))||a.include(this.settings.get("app.feature-flags"),b):!1}}}),define("i18n",function(){"use strict";function a(a,b){return a.replace(/{([\s\S]+?)}/g,function(a,c){return b[c]})}var b=require("underscore"),c=require("logger"),d=["ar","bs","ca","cs","da","de","de-form","el","en","es","et","fi","fr","he","hr","hu","it","ja","ko","lt","lv","mn","nb","nl","pl","pt","ro","ru","sl","sr","sv","tr","vi","zh-CN","zh-TW"],e="en",f={};b.each(d,function(a){f[a]=require("i18n/"+a)});var g={translate:function(b,d){var g=f[e];if(!g)return c.error("Unknown locale '"+e+"'"),"";var h=g[b];if(!h)return c.error("Unknown key '"+b+"' in locale '"+e+"'"),"";try{return a(h,d)}catch(i){return c.error("Interpolation failed for key '"+b+"' in locale '"+e+"'"),""}return h},setLocales:function(a){f=a},setLocale:function(a){e=a},getLocales:function(){return f},getLocale:function(){return e},isLocaleEnglish:function(){return"en"===e},isSupportedLocale:function(a){return b.has(f,a)}};return g}),define("i18n/ar",[],function(){return{"language-name-en":"Arabic","language-name":"ÿßŸÑÿπÿ±ÿ®Ÿäÿ©","new-message":"ÿ±ÿ≥ÿßŸÑÿ© ÿ¨ÿØŸäÿØÿ©","new-comment-placeholder":"ÿ•ŸÜÿ™ÿ∏ÿ± ÿßŸÑÿ±ÿØ","new-conversation-placeholder":"ÿ•ÿ®ÿØÿ£ ŸÖÿ≠ÿßÿØÿ´ÿ©","no-conversations":"ŸÑÿß ŸäŸàÿ¨ÿØ ŸÖÿ≠ÿßÿØÿ´ÿßÿ™",send:"ÿ•ÿ±ÿ≥ÿßŸÑ","powered-by-intercom":"ÿ®Ÿàÿßÿ≥ÿ∑ÿ© ÿ•ŸÜÿ™ÿ±ŸÉŸàŸÖ",Xs:"ÿßŸÑÿ¢ŸÜ",Xm:"ŸÖŸÜÿ∞ {delta} ÿØŸÇŸäŸÇÿ©",Xh:"ŸÖŸÜÿ∞ {delta} ÿ≥ÿßÿπÿßÿ™",Xd:"ŸÖŸÜÿ∞ {delta} ÿ£ŸäÿßŸÖ",Xw:"ŸÖŸÜÿ∞ {delta} ÿ£ÿ≥ÿßÿ®Ÿäÿπ",you:"ÿ£ŸÜÿ™",delivered:"ŸàÿµŸÑÿ™","anonymous-email-response":"ÿ¥ŸÉÿ±Ÿãÿß ŸÑŸÉÿå ÿ≥ŸàŸÅ ŸÜŸèÿ®ŸÑÿ∫ŸÉ ÿπÿ®ÿ± ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ({email}) ÿπŸÜÿØ ÿ±ÿØŸÜÿß.","anonymous-email-responder":"ÿØÿπŸÜÿß ŸÜŸèÿ®ŸÑÿ∫ŸÉ ÿπÿ®ÿ± ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä.","your-email":"ÿ®ÿ±ŸäÿØŸÉ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä",sending:"ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ",failed:"ÿÆÿ∑ÿ£ÿå ÿ•ÿ∂ÿ∫ÿ∑ ŸÑÿ•ÿπÿßÿØÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ©",uploading:"ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ",uploaded:"ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ","max-upload-size":"ÿßŸÑÿ≠ÿØ ÿßŸÑÿ£ŸÇÿµŸâ ŸÑŸÑÿ™ÿ≠ŸÖŸäŸÑ ŸáŸà {number} ŸÖŸäÿ¨ÿß ÿ®ÿßŸäÿ™","insert-emoji":"ÿ•ÿØÿ±ÿßÿ¨ ÿ±ŸÖÿ≤ ÿ™ÿπÿ®Ÿäÿ±Ÿä","send-attachment":"ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑŸÖÿ±ŸÅŸÇ","press-enter-to-send":"ÿßÿ∂ÿ∫ÿ∑ Enter ŸÑŸÑÿ•ÿ±ÿ≥ÿßŸÑ","not-seen-yet":"ŸÑŸÖ ÿ™ÿ™ŸÖ ŸÖÿ¥ÿßŸáÿØÿ™Ÿáÿß ÿ®ÿπÿØ",seen:"ÿ™ŸÖÿ™ ÿßŸÑŸÖÿ¥ÿßŸáÿØÿ™Ÿáÿß","x-says":"{firstName} ŸäŸÇŸàŸÑ ...","someone-says":"ÿ¥ÿÆÿµ ŸÖÿß ŸäŸÇŸàŸÑ ...","active-in-the-last-x-minutes":"ŸÉÿßŸÜ ŸÜÿ¥ÿ∑Ÿãÿß ÿÆŸÑÿßŸÑ ÿßŸÑŸÄ {minutes} ÿØŸÇÿßÿ¶ŸÇ ÿßŸÑÿ£ÿÆŸäÿ±ÿ©","active-in-the-last-hour":"ÿ¢ÿÆÿ± ŸÜÿ¥ÿßÿ∑ ŸÉÿßŸÜ ŸÖŸÜÿ∞ ÿ≥ÿßÿπÿ©","last-active-one-hour-ago":"ÿ¢ÿÆÿ± ŸÜÿ¥ÿßÿ∑ ŸÉÿßŸÜ ŸÖŸÜÿ∞ ÿ≥ÿßÿπÿ©","last-active-x-hours-ago":"ÿ¢ÿÆÿ± ŸÜÿ¥ÿßÿ∑ ŸÉÿßŸÜ ŸÖŸÜÿ∞ {hours} ÿ≥ÿßÿπÿßÿ™","last-active-one-day-ago":"ÿ¢ÿÆÿ± ŸÜÿ¥ÿßÿ∑ ŸÉÿßŸÜ ÿ£ŸÖÿ≥","last-active-x-days-ago":"ŸàŸÉÿßŸÜ ÿ¢ÿÆÿ± ŸÜÿ¥ÿßÿ∑ ŸÖŸÜÿ∞ {days} ÿ£ŸäÿßŸÖ","last-active-more-than-one-week-ago":"ÿ¢ÿÆÿ± ŸÜÿ¥ÿßÿ∑ ŸÉÿßŸÜ ŸÖŸÜÿ∞ ÿ£ŸÉÿ´ÿ± ŸÖŸÜ ÿ£ÿ≥ÿ®Ÿàÿπ","message-autoresponse":"ÿ≥ŸàŸÅ ŸÜŸèÿ®ŸÑÿ∫ŸÉ ŸáŸÜÿß ÿπŸÜÿØ ÿ±ÿØŸëŸÜÿß.","message-autoresponse-with-email":"ÿ≥ŸàŸÅ ŸÜŸèÿ®ŸÑÿ∫ŸÉ ŸáŸÜÿß Ÿàÿπÿ®ÿ± ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿπŸÜÿØ ÿ±ÿØŸëŸÜÿß."}}),define("i18n/bs",[],function(){return{"language-name-en":"Bosnian","language-name":"Bosanski","new-message":"Nova poruka","new-comment-placeholder":"Napi≈°i odovor&hellip;","new-conversation-placeholder":"Zapoƒçni razgovor&hellip;","no-conversations":"Nema razgovora",send:"Po≈°alji","powered-by-intercom":"Powered by Intercom",Xs:"Upravo sada",Xm:"{delta}m prije",Xh:"{delta}h prije",Xd:"{delta}d prije",Xw:"{delta}sedm. prije",you:"Vi",delivered:"Isporuƒçena","anonymous-email-response":"Hvala, mi ƒáemo vas obavijestiti putem e-maila ({email}) kad smo odgovoriti.","anonymous-email-responder":"Pustite nas da vas obavijesti putem e-maila.","your-email":"Va≈° e-mail",sending:"Slanje&hellip;",failed:"Nije isporuƒçena. Kliknite da poku≈°ate ponovo.",uploading:"Otpremanje",uploaded:"Snimljeno","max-upload-size":"Maksimalna veliƒçina upload je {number}MB","insert-emoji":"Ubacite Emoji","send-attachment":"Po≈°alji prilog","press-enter-to-send":"","not-seen-yet":"",seen:"","x-says":"","someone-says":"","active-in-the-last-x-minutes":"","active-in-the-last-hour":"","last-active-one-hour-ago":"","last-active-x-hours-ago":"","last-active-one-day-ago":"","last-active-x-days-ago":"","last-active-more-than-one-week-ago":"","message-autoresponse":"","message-autoresponse-with-email":""}}),define("i18n/ca",[],function(){return{"language-name-en":"Catalan","language-name":"Catal√†","new-message":"Missatge nou","new-comment-placeholder":"Escriu una resposta&hellip;","new-conversation-placeholder":"Comen√ßa una conversa&hellip;","no-conversations":"Sense converses",send:"Enviar","powered-by-intercom":"Powered by Intercom",Xs:"Just ara",Xm:"Fa {delta}m",Xh:"Fa {delta}h",Xd:"Fa {delta}d",Xw:"Fa {delta}set",you:"Tu",delivered:"Entregat","anonymous-email-response":"Gr√†cies, et notificarem per email ({email}) quan contestem.","anonymous-email-responder":"Deixa'ns notificar-te per email.","your-email":"El teu email",sending:"Enviant&hellip;",failed:"No entregat. Pitja per tornar-hi.",uploading:"Pujant",uploaded:"Pujat","max-upload-size":"La mida m√†xima de c√†rrega √©s {number}MB","insert-emoji":"Insertar emogi","send-attachment":"Enviar un afegit","press-enter-to-send":"Prem Entrar per enviar","not-seen-yet":"Sense veure encara",seen:"Vist","x-says":"{firstName} diu...","someone-says":"Alg√∫ diu...","active-in-the-last-x-minutes":"Actiu els darrers {minutes} minuts","active-in-the-last-hour":"Actiu per darrera vegada fa 1 hora","last-active-one-hour-ago":"Actiu per darrera vegada fa 1 hora","last-active-x-hours-ago":"Actiu per darrera vegada fa {hours} hores","last-active-one-day-ago":"Actiu per darrera vegada ahir","last-active-x-days-ago":"Actiu per √∫ltima vegada fa {days} dies","last-active-more-than-one-week-ago":"Actiu per darrera vegada fa m√©s d'una setmana","message-autoresponse":"Et notificarem per aqu√≠ quan contestem.","message-autoresponse-with-email":"Et notificarem per aqu√≠ i per email quan contestem."}}),define("i18n/cs",[],function(){return{"language-name-en":"Czech","language-name":"ƒåesky","new-message":"Nov√° zpr√°va","new-comment-placeholder":"Napsat odpovƒõƒè&hellip;","new-conversation-placeholder":"Zah√°jen√≠ konverzace&hellip;","no-conversations":"≈Ω√°dn√© konverzace",send:"Odeslat","powered-by-intercom":"Powered by Intercom",Xs:"Nyn√≠",Xm:"P≈ôed {delta}m",Xh:"P≈ôed {delta}h",Xd:"P≈ôed {delta}d",Xw:"P≈ôed {delta}t",you:"Vy",delivered:"Doruƒçeno","anonymous-email-response":"Dƒõkujeme, a≈æ v√°m odpov√≠me, budeme v√°s o tom informovat e-mailem ({email}).","anonymous-email-responder":"Dovolte n√°m informovat v√°s e-mailem.","your-email":"V√°≈° e-mail",sending:"Pos√≠l√° se&hellip;",failed:"Doruƒçen√≠ se nezda≈ôilo. Kliknƒõte a zkuste to znovu.",uploading:"Odes√≠l√°n√≠",uploaded:"Odesl√°no","max-upload-size":"Maxim√°ln√≠ velikost odes√≠lan√©ho souboru je {number}MB","insert-emoji":"Vlo≈æit emoji","send-attachment":"Poslat p≈ô√≠lohu","press-enter-to-send":"","not-seen-yet":"",seen:"","x-says":"","someone-says":"","active-in-the-last-x-minutes":"","active-in-the-last-hour":"","last-active-one-hour-ago":"","last-active-x-hours-ago":"","last-active-one-day-ago":"","last-active-x-days-ago":"","last-active-more-than-one-week-ago":"","message-autoresponse":"","message-autoresponse-with-email":""}}),define("i18n/da",[],function(){return{"language-name-en":"Danish","language-name":"Dansk","new-message":"Ny besked","new-comment-placeholder":"Skriv et svar&hellip;","new-conversation-placeholder":"Start en samtale&hellip;","no-conversations":"Ingen samtaler",send:"Send","powered-by-intercom":"Drevet af Intercom",Xs:"Lige nu",Xm:"{delta}m siden",Xh:"{delta}t siden",Xd:"{delta}d siden",Xw:"{delta}u siden",you:"Dig",delivered:"Leveret","anonymous-email-response":"Tak, vi vil lade dig vide via e-mail p√• ({email}), n√•r vi svarer.","anonymous-email-responder":"Lad os give dig besked via e-mail.","your-email":"Din e-mail",sending:"Sender&hellip;",failed:"Ikke leveret. Klik, for at pr√∏ve igen.",uploading:"Uploader",uploaded:"Uploadet","max-upload-size":"Den maksimale uploadst√∏rrelse er {number}MB","insert-emoji":"Inds√¶t emoji","send-attachment":"Send vedh√¶ftet fil","press-enter-to-send":"Tryk p√• Enter for at sende","not-seen-yet":"Ikke set endnu",seen:"Set","x-says":"{firstName} siger...","someone-says":"Nogen siger...","active-in-the-last-x-minutes":"Aktiv inden for de sidste {minutes} minutter","active-in-the-last-hour":"Aktiv i den sidste time","last-active-one-hour-ago":"Sidst aktiv 1 time siden","last-active-x-hours-ago":"Sidst aktiv {hours} timer siden","last-active-one-day-ago":"Sidst aktiv i g√•r","last-active-x-days-ago":"Sidste aktiv {days} dage siden","last-active-more-than-one-week-ago":"Sidst aktiv over 1 uge siden","message-autoresponse":"Vi vil give dig besked, n√•r vi svarer.","message-autoresponse-with-email":"Vi giver dig besked her og via e-mail, n√•r vi svarer."}}),define("i18n/de-form",[],function(){return{"language-name-en":"German (formal)","language-name":"Deutsch (h√∂flich)","new-message":"Neue Nachricht","new-comment-placeholder":"Antwort schreiben&hellip;","new-conversation-placeholder":"Unterhaltung beginnen&hellip;","no-conversations":"Keine Unterhaltungen",send:"Senden","powered-by-intercom":"Betrieben von Intercom",Xs:"Jetzt",Xm:"vor {delta}m",Xh:"vor {delta}h",Xd:"vor {delta}d",Xw:"vor {delta}w",you:"Sie",delivered:"Zugestellt","anonymous-email-response":"Danke, wir benachrichtigen Sie per E-Mail ({email}), wenn wir antworten.","anonymous-email-responder":"Wir benachrichtigen Sie per E-Mail.","your-email":"Ihre E-Mail-Adresse",sending:"Senden&hellip;",failed:"Nicht zugestellt. Bitte klicken, um es nochmals zu versuchen.",uploading:"Hochladen",uploaded:"Hochgeladen","max-upload-size":"Die maximale Gr√∂√üe zum Hochladen ist {number}MB","insert-emoji":"Emoticon einf√ºgen","send-attachment":"Anhang senden","press-enter-to-send":"Zum Senden ENTER dr√ºcken","not-seen-yet":"Noch nicht ge√∂ffnet",seen:"Ge√∂ffnet","x-says":"{firstName} sagt...","someone-says":"Jemand sagt...","active-in-the-last-x-minutes":"In den letzten {minutes} Minuten aktiv","active-in-the-last-hour":"In den letzten Stunde aktiv","last-active-one-hour-ago":"Vor 1 Stunde das letzte Mal aktiv","last-active-x-hours-ago":"Vor {hours} Stunden das letzte Mal aktiv","last-active-one-day-ago":"Gestern das letzte Mal aktiv","last-active-x-days-ago":"Vor {days} Tagen das letzte Mal aktiv","last-active-more-than-one-week-ago":"Vor √ºber 1 Woche das letzte Mal aktiv","message-autoresponse":"Wir benachrichtigen dich hier, sobald wir antworten.","message-autoresponse-with-email":"Wir benachrichtigen dich hier und per E-Mail, sobald wir antworten."}}),define("i18n/de",[],function(){return{"language-name-en":"German","language-name":"Deutsch","new-message":"Neue Nachricht","new-comment-placeholder":"Antwort schreiben&hellip;","new-conversation-placeholder":"Unterhaltung beginnen&hellip;","no-conversations":"Keine Unterhaltungen",send:"Senden","powered-by-intercom":"Betrieben von Intercom",Xs:"Gerade eben",Xm:"vor {delta}m",Xh:"vor {delta}h",Xd:"vor {delta}d",Xw:"vor {delta}w",you:"Du",delivered:"Zugestellt","anonymous-email-response":"Danke, wir benachrichtigen Dich per E-Mail ({email}), wenn wir antworten.","anonymous-email-responder":"Wir benachrichtigen Dich per E-Mail.","your-email":"Deine E-Mail-Adresse",sending:"Senden&hellip;",failed:"Nicht zugestellt. Klicke, um es nochmals zu versuchen.",uploading:"L√§dt hoch",uploaded:"Hochgeladen","max-upload-size":"Die maximale Gr√∂√üe zum Hochladen ist {number}MB","insert-emoji":"Emoticon einf√ºgen","send-attachment":"Anhang senden","press-enter-to-send":"Zum Senden ENTER dr√ºcken","not-seen-yet":"Noch nicht ge√∂ffnet",seen:"Ge√∂ffnet","x-says":"{firstName} sagt...","someone-says":"Jemand sagt...","active-in-the-last-x-minutes":"In den letzten {minutes} Minuten aktiv","active-in-the-last-hour":"In den letzten Stunde aktiv","last-active-one-hour-ago":"Vor 1 Stunde das letzte Mal aktiv","last-active-x-hours-ago":"Vor {hours} Stunden das letzte Mal aktiv","last-active-one-day-ago":"Gestern das letzte Mal aktiv","last-active-x-days-ago":"Vor {days} Tagen das letzte Mal aktiv","last-active-more-than-one-week-ago":"Vor √ºber 1 Woche das letzte Mal aktiv","message-autoresponse":"Wir benachrichtigen dich hier, sobald wir antworten.","message-autoresponse-with-email":"Wir benachrichtigen dich hier und per E-Mail, sobald wir antworten."}}),define("i18n/el",[],function(){return{"language-name-en":"Greek","language-name":"ŒµŒªŒªŒ∑ŒΩŒπŒ∫Œ¨","new-message":"ŒùŒ≠Œø ŒúŒÆŒΩœÖŒºŒ±","new-comment-placeholder":"ŒìœÅŒ¨œàœÑŒµ ŒºŒØŒ± Œ±œÄŒ¨ŒΩœÑŒ∑œÉŒ∑&hellip;","new-conversation-placeholder":"ŒûŒµŒ∫ŒπŒΩŒÆœÉœÑŒµ ŒºŒπŒ± œÉœÖŒ∂ŒÆœÑŒ∑œÉŒ∑&hellip;","no-conversations":"ŒöŒ±ŒºŒØŒ± œÉœÖŒΩŒøŒºŒπŒªŒØŒ±",send:"ŒëœÄŒøœÉœÑŒøŒªŒÆ","powered-by-intercom":"Œ•œÄŒøœÉœÑŒ∑œÅŒØŒ∂ŒµœÑŒ±Œπ Œ±œÄœå œÑŒ∑ŒΩ Intercom",Xs:"ŒúœåŒªŒπœÇ œÑœéœÅŒ±",Xm:"{delta}Œª œÄœÅŒπŒΩ",Xh:"{delta}œâ œÄœÅŒπŒΩ",Xd:"{delta}Œ∑Œº œÄœÅŒπŒΩ",Xw:"{delta}ŒµŒ≤Œ¥ œÄœÅŒπŒΩ",you:"ŒïœÉœç",delivered:"Œ†Œ±œÅŒ±Œ¥œåŒ∏Œ∑Œ∫Œµ","anonymous-email-response":"ŒïœÖœáŒ±œÅŒπœÉœÑŒøœçŒºŒµ, Œ∏Œ± ŒªŒ¨Œ≤ŒµœÑŒµ Œ±œÄŒ¨ŒΩœÑŒ∑œÉŒÆ ŒºŒ±œÇ ŒºŒµ œÑŒø email ({email}).","anonymous-email-responder":"ŒòŒ± œÉŒ±œÇ ŒµŒπŒ¥ŒøœÄŒøŒπŒÆœÉŒøœÖŒºŒµ ŒºŒµ email.","your-email":"Œ§Œø email œÉŒ±œÇ",sending:"ŒìŒØŒΩŒµœÑŒ±Œπ Œ±œÄŒøœÉœÑŒøŒªŒÆ&hellip;",failed:"ŒîŒµŒΩ œÄŒ±œÅŒ±Œ¥œåŒ∏Œ∑Œ∫Œµ. ŒöŒ¨ŒΩœÑŒµ Œ∫ŒªŒπŒ∫ Œ≥ŒπŒ± ŒΩŒ± ŒæŒ±ŒΩŒ±Œ¥ŒøŒ∫ŒπŒºŒ¨œÉŒµœÑŒµ.",uploading:"ŒúŒµœÑŒ±œÜœåœÅœÑœâœÉŒ∑",uploaded:"ŒúŒµœÑŒ±œÜŒøœÅœÑœéŒ∏Œ∑Œ∫Œµ","max-upload-size":"Œ§Œø ŒºŒ≠Œ≥ŒπœÉœÑŒø ŒºŒ≠Œ≥ŒµŒ∏ŒøœÇ ŒºŒµœÑŒ±œÜœåœÅœÑœâœÉŒ∑œÇ ŒµŒØŒΩŒ±Œπ {number}ŒúŒí","insert-emoji":"ŒïŒπœÉŒ¨Œ≥ŒµœÑŒµ emoji","send-attachment":"Œ£œÑŒµŒØŒªœÑŒµ œÑŒø œÉœÖŒΩŒ∑ŒºŒºŒ≠ŒΩŒø","press-enter-to-send":"Œ†Œ±œÑŒÆœÉœÑŒµ Enter Œ≥ŒπŒ± Œ±œÄŒøœÉœÑŒøŒªŒÆ","not-seen-yet":"ŒîŒµŒΩ Œ≠œáŒµŒπ Œ±Œ∫œåŒºŒ∑ Œ±ŒΩŒ±Œ≥ŒΩœâœÉœÑŒµŒØ",seen:"ŒëŒΩŒ±Œ≥ŒΩœéœÉœÑŒ∑Œ∫Œµ","x-says":"O/H {firstName} ŒªŒ≠ŒµŒπ...","someone-says":"ŒöŒ¨œÄŒøŒπŒøœÇ ŒªŒ≠ŒµŒπ...","active-in-the-last-x-minutes":"ŒïŒΩŒµœÅŒ≥œåœÇ/ŒÆ œÑŒ± œÑŒµŒªŒµœÖœÑŒ±ŒØŒ± {minutes} ŒªŒµœÄœÑŒ¨","active-in-the-last-hour":"Œ§ŒµŒªŒµœÖœÑŒ±ŒØŒ± ŒµŒΩŒµœÅŒ≥œåœÇ/ŒÆ œÄœÅŒπŒΩ Œ±œÄœå 1 œéœÅŒ±","last-active-one-hour-ago":"Œ§ŒµŒªŒµœÖœÑŒ±ŒØŒ± ŒµŒΩŒµœÅŒ≥œåœÇ/ŒÆ œÄœÅŒπŒΩ Œ±œÄœå 1 œéœÅŒ±","last-active-x-hours-ago":"Œ§ŒµŒªŒµœÖœÑŒ±ŒØŒ± ŒµŒΩŒµœÅŒ≥œåœÇ/ŒÆ œÄœÅŒπŒΩ Œ±œÄœå {hours} œéœÅŒµœÇ","last-active-one-day-ago":"Œ§ŒµŒªŒµœÖœÑŒ±ŒØŒ± ŒµŒΩŒµœÅŒ≥œåœÇ/ŒÆ œáŒ∏ŒµœÇ","last-active-x-days-ago":"Œ§ŒµŒªŒµœÖœÑŒ±ŒØŒ± ŒµŒΩŒµœÅŒ≥œåœÇ/ŒÆ œÄœÅŒπŒΩ Œ±œÄœå {days} Œ∑ŒºŒ≠œÅŒµœÇ","last-active-more-than-one-week-ago":"Œ§ŒµŒªŒµœÖœÑŒ±ŒØŒ± ŒµŒΩŒµœÅŒ≥œåœÇ/ŒÆ œÄœÅŒπŒΩ œÄŒµœÅŒπœÉœÉœåœÑŒµœÅŒø Œ±œÄœå 1 ŒµŒ≤Œ¥ŒøŒºŒ¨Œ¥Œ±","message-autoresponse":"ŒòŒ± œÉŒ±œÇ ŒµŒπŒ¥ŒøœÄŒøŒπŒÆœÉŒøœÖŒºŒµ ŒµŒ¥œé œåœÑŒ±ŒΩ Œ±œÄŒ±ŒΩœÑŒÆœÉŒøœÖŒºŒµ.","message-autoresponse-with-email":"ŒòŒ± œÉŒ±œÇ ŒµŒπŒ¥ŒøœÄŒøŒπŒÆœÉŒøœÖŒºŒµ ŒµŒ¥œé Œ∫Œ±Œπ ŒºŒµ email œåœÑŒ±ŒΩ Œ±œÄŒ±ŒΩœÑŒÆœÉŒøœÖŒºŒµ."}}),define("i18n/en",[],function(){return{"language-name-en":"English","language-name":"English","new-message":"New Conversation","new-comment-placeholder":"Write a reply&hellip;","new-conversation-placeholder":"Start a conversation&hellip;","no-conversations":"No conversations",send:"Send","powered-by-intercom":"Powered by Intercom",Xs:"Just now",Xm:"{delta}m ago",Xh:"{delta}h ago",Xd:"{delta}d ago",Xw:"{delta}w ago",you:"You",delivered:"Delivered","anonymous-email-response":"Thanks, we'll notify you by email ({email}) when we reply.","anonymous-email-responder":"Let us notify you by email.","your-email":"Your email",sending:"Sending&hellip;",failed:"Not delivered. Click to try again.",uploading:"Uploading",uploaded:"Uploaded","max-upload-size":"The maximum upload size is {number}MB","insert-emoji":"Insert emoji","send-attachment":"Send attachment","press-enter-to-send":"Press Enter to send","not-seen-yet":"Not seen yet",seen:"Seen","x-says":"{firstName} says...","someone-says":"Someone says...","active-in-the-last-x-minutes":"Active in the last {minutes} minutes","active-in-the-last-hour":"Active in the last hour","last-active-one-hour-ago":"Last active 1 hour ago","last-active-x-hours-ago":"Last active {hours} hours ago","last-active-one-day-ago":"Last active yesterday","last-active-x-days-ago":"Last active {days} days ago","last-active-more-than-one-week-ago":"Last active more than 1 week ago","message-autoresponse":"We'll notify you here when we reply.","message-autoresponse-with-email":"We'll notify you here and by email when we reply."}}),define("i18n/es",[],function(){return{"language-name-en":"Spanish","language-name":"Espa√±ol","new-message":"Nuevo Mensaje","new-comment-placeholder":"Escribir una respuesta&hellip;","new-conversation-placeholder":"Iniciar una conversaci√≥n&hellip;","no-conversations":"No hay conversaciones",send:"Enviar","powered-by-intercom":"Patrocinado por Intercom",Xs:"Justo ahora",Xm:"hace {delta}m",Xh:"hace {delta}h",Xd:"hace {delta}d",Xw:"hace {delta}sem",you:"T√∫",delivered:"Entregado","anonymous-email-response":"Gracias. Te informaremos por correo electr√≥nico ({email}) cuando respondamos.","anonymous-email-responder":"Perm√≠tenos informarte por correo electr√≥nico.","your-email":"Correo electr√≥nico",sending:"Enviando...",failed:"No entregado. Haz clic para volver a intentarlo.",uploading:"Subiendo",uploaded:"Subido","max-upload-size":"El tama√±o m√°ximo de subida es {number}MB","insert-emoji":"Insertar emoji","send-attachment":"Enviar adjunto","press-enter-to-send":"Pulsa Entrar para enviar","not-seen-yet":"A√∫n no se ha visto",seen:"Visto","x-says":"{firstName} dice...","someone-says":"Alguien dice...","active-in-the-last-x-minutes":"Activo los √∫ltimos {minutes} minutos","active-in-the-last-hour":"Activo en la √∫ltima hora","last-active-one-hour-ago":"Activo por √∫ltima vez hace 1 hora","last-active-x-hours-ago":"Activo por √∫ltima vez hace {hours} horas","last-active-one-day-ago":"Activo por √∫ltima vez ayer","last-active-x-days-ago":"Activo por √∫ltima vez hace {days} dias","last-active-more-than-one-week-ago":"Activo por √∫ltima vez hace m√°s de una semana","message-autoresponse":"Te notificaremos por aqu√≠ cuando contestemos.","message-autoresponse-with-email":"Te notificaremos por aqu√≠ y por correo electr√≥nico cuando contestemos."}
}),define("i18n/et",[],function(){return{"language-name-en":"Estonian","language-name":"Eesti keel","new-message":"Uus s√µnum","new-comment-placeholder":"Kirjuta vastus&hellip;","new-conversation-placeholder":"Alusta uut vestlust&hellip;","no-conversations":"Vestlusi ei ole",send:"Saada","powered-by-intercom":"Teenust pakub Intercom",Xs:"Just n√º√ºd",Xm:"{delta}m eest",Xh:"{delta}t eest",Xd:"{delta}p eest",Xw:"{delta}n eest",you:"Sina",delivered:"Saadetud","anonymous-email-response":"T√§name! Teatame su meilile ({email}) oma vastusest","anonymous-email-responder":"Las me saadame sulle meiliga teate.","your-email":"Sinu meiliaadress",sending:"Saadan &hellip;.",failed:"S√µnumi saatmine eba√µnnestus. Kl√µpsa nupule, et uuesti saata.",uploading:"Laen √ºles",uploaded:"√úles laetud","max-upload-size":"Maksimaalne √ºleslaadimise maht on {number}MB","insert-emoji":"Saada emoji","send-attachment":"Saada manus","press-enter-to-send":"Vajuta saatmiseks sisestuklahvi","not-seen-yet":"Ei ole veel vaadatud",seen:"Vaadatud","x-says":"{firstName} √ºtleb...","someone-says":"Keegi √ºtleb...","active-in-the-last-x-minutes":"Aktiivne {minutes} minutit","active-in-the-last-hour":"Aktiivne viimase tunni","last-active-one-hour-ago":"Viimati aktiivne 1 tund tagasi","last-active-x-hours-ago":"Viimati aktiivne {hours} tundi tagasi","last-active-one-day-ago":"Viimati aktiivne eile","last-active-x-days-ago":"Viimati aktiivne {days} p√§eva tagasi","last-active-more-than-one-week-ago":"Viimati aktiivne rohkem kui 1 n√§dal tagasi","message-autoresponse":"Teatame oma vastusest.","message-autoresponse-with-email":"Teatame oma vastusest siin ja meiliga."}}),define("i18n/fi",[],function(){return{"language-name-en":"Finnish","language-name":"Finnish","new-message":"Uusi viesti","new-comment-placeholder":"Kirjoita vastaus&hellip;","new-conversation-placeholder":"Aloittaa keskustelun&hellip;","no-conversations":"Ei keskusteluja",send:"L√§het√§","powered-by-intercom":"Palvelun tarjoaa Intercom",Xs:"Juuri nyt",Xm:"{delta}m sitten",Xh:"{delta}t sitten",Xd:"{delta}p sitten",Xw:"{delta}vk sitten",you:"Sin√§",delivered:"L√§hetetty","anonymous-email-response":"Kiitos. Ilmoitamme s√§hk√∂postitse ({email}), kun vastaamme viestiisi.","anonymous-email-responder":"Salli s√§hk√∂posti-ilmoituksen l√§hett√§minen.","your-email":"S√§hk√∂postiosoitteesi",sending:"L√§hetet√§√§n&hellip;",failed:"L√§hett√§minen ep√§onnistui. Yrit√§ uudestaan napsauttamalla.",uploading:"Ladataan",uploaded:"Ladattu","max-upload-size":"Palvelimelle ladattavan tiedoston kokorajoitus on {number}Mt","insert-emoji":"Lis√§√§ emoji","send-attachment":"L√§het√§ liitetiedosto","press-enter-to-send":"L√§het√§ painamalla Enter","not-seen-yet":"Ei n√§hty",seen:"N√§hty","x-says":"{firstName} sanoo...","someone-says":"Joku sanoo...","active-in-the-last-x-minutes":"Aktiivinen {minutes} minuuttia sitten","active-in-the-last-hour":"Aktiivinen viimeisen tunnin aikana","last-active-one-hour-ago":"Aktiivinen tunti sitten","last-active-x-hours-ago":"Aktiivinen {hours} tuntia sitten","last-active-one-day-ago":"Aktiivinen eilen","last-active-x-days-ago":"Aktiivinen {days} p√§iv√§√§ sitten","last-active-more-than-one-week-ago":"Aktiivinen yli viikko sitten","message-autoresponse":"Ilmoitamme t√§ss√§, kun vastaamme viestiisi.","message-autoresponse-with-email":"Ilmoitamme t√§ss√§ ja s√§hk√∂postitse, kun vastaamme viestiisi."}}),define("i18n/fr",[],function(){return{"language-name-en":"French","language-name":"Fran√ßais","new-message":"Nouveau message","new-comment-placeholder":"Ecrire une r√©ponse&hellip;","new-conversation-placeholder":"D√©marrez une conversation&hellip;","no-conversations":"Aucune conversation",send:"Envoyer","powered-by-intercom":"Propuls√© par Intercom",Xs:"√Ä l'instant",Xm:"Il y a {delta} min",Xh:"Il y a {delta}h",Xd:"Il y a {delta}j",Xw:"Il y a {delta} sem",you:"Vous",delivered:"Livr√©","anonymous-email-response":"Merci, nous vous pr√©viendrons par e-mail ({email}) lorsque nous vous r√©pondons.","anonymous-email-responder":"Laissez-nous vous pr√©venir par e-mail.","your-email":"Votre e-mail",sending:"Envoi en cours&hellip;",failed:"Non livr√©. Cliquez pour r√©essayer.",uploading:"T√©l√©versement",uploaded:"T√©l√©vers√©","max-upload-size":"La taille maximale de t√©l√©versement est de {number}Mo","insert-emoji":"Ins√©rer une √©motic√¥ne","send-attachment":"Envoyer une pi√®ce jointe","press-enter-to-send":"Appuyez sur Entr√©e pour envoyer","not-seen-yet":"Pas encore vu",seen:"Vu","x-says":"{firstName} dit...","someone-says":"Quelqu'un dit...","active-in-the-last-x-minutes":"Activit√© dans les {minutes} derni√®res minutes","active-in-the-last-hour":"Activit√© dans la derni√®re heure","last-active-one-hour-ago":"Derni√®re activit√© il y a 1 heure","last-active-x-hours-ago":"Derni√®re activit√© il y a {hours} heures","last-active-one-day-ago":"Derni√®re activit√© hier","last-active-x-days-ago":"Derni√®re activit√© il y a {days} jours","last-active-more-than-one-week-ago":"Derni√®re activit√© il y a plus de 1 semaine","message-autoresponse":"Nous vous pr√©viendrons ici lorsque nous vous r√©pondrons.","message-autoresponse-with-email":"Nous vous pr√©viendrons ici et par e-mail lorsque nous vous r√©pondrons."}}),define("i18n/he",[],function(){return{"language-name-en":"Hebrew","language-name":"◊¢◊ë◊®◊ô◊™","new-message":"◊î◊ï◊ì◊¢◊î ◊ó◊ì◊©◊î","new-comment-placeholder":"&hellip; ◊õ◊™◊ï◊ë ◊ê◊™ ◊î◊™◊©◊ï◊ë◊î","new-conversation-placeholder":"&hellip; ◊î◊ï◊ì◊¢◊î ◊ó◊ì◊©◊î","no-conversations":"◊ê◊ô◊ü ◊©◊ô◊ó◊ï◊™",send:"◊©◊ú◊ô◊ó◊î","powered-by-intercom":"◊û◊ï◊§◊¢◊ú ◊¢◊ú ◊ô◊ì◊ô Intercom",Xs:"◊®◊ß ◊¢◊õ◊©◊ô◊ï",Xm:"◊ú◊§◊†◊ô {delta} ◊ì◊ß◊ï◊™",Xh:"◊ú◊§◊†◊ô {delta} ◊©◊¢◊ï◊™",Xd:"◊ú◊§◊†◊ô {delta} ◊ô◊û◊ô◊ù",Xw:"◊ú◊§◊†◊ô {delta} ◊©◊ë◊ï◊¢◊ï◊™",you:"◊ê◊™◊ù",delivered:"◊†◊û◊°◊®","anonymous-email-response":"◊™◊ï◊ì◊î, ◊†◊ï◊ì◊ô◊¢ ◊ú◊ö ◊ë◊ê◊û◊¶◊¢◊ï◊™ ◊î◊ì◊ï◊ê'◊ú ({email}) ◊õ◊ê◊©◊® ◊ô◊©◊ú◊ó ◊û◊¢◊†◊î.","anonymous-email-responder":"◊ê◊§◊©◊®/◊ô ◊ú◊†◊ï ◊ú◊ô◊ì◊¢ ◊ê◊ï◊™◊ö ◊ë◊ê◊û◊¶◊¢◊ï◊™ ◊ì◊ï◊ê'◊ú.","your-email":"◊î◊ì◊ï◊ê'◊ú ◊©◊ú◊ö",sending:"◊©◊ï◊ú◊ó&hellip;",failed:"◊ú◊ê ◊†◊û◊°◊®. ◊î◊ß◊©/◊ô ◊ú◊†◊°◊ï◊™ ◊©◊ï◊ë.",uploading:"◊û◊¢◊ú◊î",uploaded:"◊î◊ï◊¢◊ú◊î","max-upload-size":"◊î◊í◊ï◊ì◊ú ◊î◊û◊ß◊°◊ô◊û◊ú◊ô ◊ú◊î◊¢◊ú◊ê◊î ◊î◊ï◊ê {number}MB","insert-emoji":"◊î◊ï◊°◊§◊™ ◊ê◊û◊ï◊í'◊ô","send-attachment":"◊©◊ú◊ô◊ó◊™ ◊ß◊ï◊ë◊• ◊û◊¶◊ï◊®◊£","press-enter-to-send":"◊ú◊©◊ú◊ô◊ó◊î ◊ú◊ó◊• ◊¢◊ú Enter","not-seen-yet":"◊¢◊ì◊ô◊ô◊ü ◊ú◊ê ◊†◊¶◊§◊î",seen:"◊†◊¶◊§◊î","x-says":"{firstName} ◊ê◊ï◊û◊®...","someone-says":"◊û◊ô◊©◊î◊ï ◊ê◊ï◊û◊®...","active-in-the-last-x-minutes":"◊§◊¢◊ô◊ú◊ï◊™ ◊ë-{minutes} ◊î◊ì◊ß◊ï◊™ ◊î◊ê◊ó◊®◊ï◊†◊ï◊™","active-in-the-last-hour":"◊§◊¢◊ô◊ú ◊ë◊©◊¢◊î ◊î◊ê◊ó◊®◊ï◊†◊î","last-active-one-hour-ago":"◊§◊¢◊ô◊ú◊ï◊™ ◊ê◊ó◊®◊ï◊†◊î ◊ú◊§◊†◊ô ◊©◊¢◊î ◊ê◊ó◊™","last-active-x-hours-ago":"◊§◊¢◊ô◊ú◊ï◊™ ◊ê◊ó◊®◊ï◊†◊î ◊ú◊§◊†◊ô {hours} ◊©◊¢◊ï◊™","last-active-one-day-ago":"◊§◊¢◊ô◊ú◊ï◊™ ◊ê◊ó◊®◊ï◊†◊î ◊ê◊™◊û◊ï◊ú","last-active-x-days-ago":"◊î◊§◊¢◊ô◊ú◊ï◊™ ◊ê◊ó◊®◊ï◊†◊î ◊ô◊û◊ô◊ù {days}","last-active-more-than-one-week-ago":"◊§◊¢◊ô◊ú◊ï◊™ ◊ê◊ó◊®◊ï◊†◊î ◊ú◊§◊†◊ô ◊ô◊ï◊™◊® ◊û◊©◊ë◊ï◊¢","message-autoresponse":"◊†◊ï◊ì◊ô◊¢ ◊ú◊ö ◊õ◊ê◊ü ◊õ◊©◊™◊™◊ß◊ë◊ú ◊™◊©◊ï◊ë◊î.","message-autoresponse-with-email":"◊†◊ï◊ì◊ô◊¢ ◊ú◊ö ◊õ◊ê◊ü ◊õ◊©◊™◊™◊ß◊ë◊ú ◊™◊©◊ï◊ë◊î."}}),define("i18n/hr",[],function(){return{"language-name-en":"Croatian","language-name":"Hrvatski","new-message":"Nova poruka","new-comment-placeholder":"Napi≈°i odovor&hellip;","new-conversation-placeholder":"Zapoƒçni razgovor&hellip;","no-conversations":"Nemate razgovora",send:"Po≈°alji","powered-by-intercom":"Powered by Intercom",Xs:"Upravo sada",Xm:"{delta}m prije",Xh:"{delta}h prije",Xd:"{delta}d prije",Xw:"{delta}tjed. prije",you:"Vi",delivered:"Isporuƒçeno","anonymous-email-response":"Hvala, obavijestit ƒáemo vas e-po≈°tom ({email}) kad odgovorimo.","anonymous-email-responder":"≈Ωeljeli biismo vas obavijetili e-po≈°tom.","your-email":"Va≈°a e-po≈°ta",sending:"Slanje&hellip;",failed:"Nije isporuƒçeno. Kliknite za ponovno poku≈°aj.",uploading:"Prijenos&hellip;",uploaded:"Preneseno","max-upload-size":"Maksimalna veliƒçina prijenosa je {number}MB","insert-emoji":"Umetni emoji","send-attachment":"Po≈°alji privitak","press-enter-to-send":"Pritisnite ‚ÄûEnter‚Äú za slanje","not-seen-yet":"Nije jo≈° pogledano",seen:"Pogledano","x-says":"{firstName} ka≈æe...","someone-says":"Netko ka≈æe...","active-in-the-last-x-minutes":"Aktivan zadnjih {minutes} minuta","active-in-the-last-hour":"Aktivna je u posljednjih sat vremena","last-active-one-hour-ago":"Zadnji put aktivan: prije 1 sat","last-active-x-hours-ago":"Zadnji put aktivan: prije {hours} sati","last-active-one-day-ago":"Zadnji puta aktivan: juƒçer","last-active-x-days-ago":"Zadnji put aktivan: {days} dana prije","last-active-more-than-one-week-ago":"Zadnji puta aktivan: prije vi≈°e od 1 tjedna","message-autoresponse":"Obavijestit ƒáemo vas nakon ≈°to odgovorimo.","message-autoresponse-with-email":"O odgovoru ƒáemo vas obavijestiti ovdje i e-po≈°tom."}}),define("i18n/hu",[],function(){return{"language-name-en":"Hungarian","language-name":"Magyar","new-message":"√öj √ºzenet","new-comment-placeholder":"√çrj egy v√°laszt&hellip;","new-conversation-placeholder":"Ind√≠tsunk el egy besz√©lget√©st&hellip;","no-conversations":"Nincsenek p√°rbesz√©dek",send:"K√ºld","powered-by-intercom":"Technol√≥gia: Intercom",Xs:"Csak most",Xm:"{delta}p",Xh:"{delta}√≥",Xd:"{delta}n",Xw:"{delta}h",you:"Te",delivered:"K√©zbes√≠tve","anonymous-email-response":"K√∂sz√∂nj√ºk. A v√°laszr√≥l e-mailben ({email}) √©rtes√≠t√ºnk.","anonymous-email-responder":"K√©rj e-mail √©rtes√≠t√©st.","your-email":"E-mail c√≠med",sending:"K√ºld√©s&hellip;",failed:"K√ºld√©s sikertelen. Kattints, hogy √∫jb√≥l megpr√≥b√°ljuk.",uploading:"Felt√∂lt√©s",uploaded:"Felt√∂ltve","max-upload-size":"A felt√∂lthet≈ë f√°jl maxim√°lis m√©rete {number}MB","insert-emoji":"Szm√°jli besz√∫r√°sa","send-attachment":"Csatolm√°ny k√ºld√©se","press-enter-to-send":"K√ºld√©shez nyomd meg az Enter billenty≈±t","not-seen-yet":"M√©g nem l√°tta",seen:"L√°tta","x-says":"{firstName} szerint...","someone-says":"Valaki szerint...","active-in-the-last-x-minutes":"Akt√≠v az elm√∫lt {minutes} percben","active-in-the-last-hour":"Akt√≠v az elm√∫lt √≥r√°ban","last-active-one-hour-ago":"Legut√≥bb akt√≠v: 1 √≥r√°ja","last-active-x-hours-ago":"Legut√≥bb akt√≠v: {hours} √≥r√°ja","last-active-one-day-ago":"Legut√≥bb akt√≠v: tegnap","last-active-x-days-ago":"Legut√≥bb akt√≠v: {days} nappal ezel≈ëtt","last-active-more-than-one-week-ago":"Legut√≥bb akt√≠v: t√∂bb mint 1 hete","message-autoresponse":"A v√°laszunkr√≥l itt √©rtes√≠t√ºnk.","message-autoresponse-with-email":"A v√°laszunkr√≥l √©rtes√≠t√©st k√ºld√ºnk itt √©s e-mailben."}}),define("i18n/it",[],function(){return{"language-name-en":"Italian","language-name":"Italiano","new-message":"Nuovo messaggio","new-comment-placeholder":"Scrivi una risposta&hellip;","new-conversation-placeholder":"Inizia una conversazione&hellip;","no-conversations":"Nessuna conversazione",send:"Invia","powered-by-intercom":"Powered by Intercom",Xs:"In questo istante",Xm:"{delta}m fa",Xh:"{delta}h fa",Xd:"{delta}d fa",Xw:"{delta}sem fa",you:"Tu",delivered:"Consegnato","anonymous-email-response":"Grazie. Ti invieremo una notifica non appena risponderemo tramite email all'indirizzo ({email}).","anonymous-email-responder":"Ricevi una email di notifica.","your-email":"La tua email",sending:"Invio in corso&hellip;",failed:"Non inviato. Clicca per riprovare.",uploading:"Caricamento",uploaded:"Caricato","max-upload-size":"Limite massimo di caricamento: {number}MB","insert-emoji":"Inserisci emoji","send-attachment":"Invia l'allegato","press-enter-to-send":"Premi Invio per inviare","not-seen-yet":"Non ancora visualizzato",seen:"Visualizzato","x-says":"{firstName} dice...","someone-says":"Qualcuno dice...","active-in-the-last-x-minutes":"Ultima attivit√† negli ultimi {minutes} minuti","active-in-the-last-hour":"Ultima attivit√†: nelle ultime ora","last-active-one-hour-ago":"Ultima attivit√†: 1 ora fa","last-active-x-hours-ago":"Ultima attivit√†: {hours} ore fa","last-active-one-day-ago":"Ultima attivit√†: ieri","last-active-x-days-ago":"Ultima attivit√†: {days} giorni fa","last-active-more-than-one-week-ago":"Ultima attivit√†: pi√π di 1 settimana fa","message-autoresponse":"Quando risponderemo, riceverai una notifica qui.","message-autoresponse-with-email":"Quando risponderemo, riceverai una notifica qui e tramite e-mail."}}),define("i18n/ja",[],function(){return{"language-name-en":"Japanese","language-name":"Êó•Êú¨„ÅÆ","new-message":"Êñ∞„Åó„ÅÑ„É°„ÉÉ„Çª„Éº„Ç∏","new-comment-placeholder":"Ëøî‰ø°„ÇíÊõ∏„Åè&hellip;","new-conversation-placeholder":"‰ºöË©±„ÇíÂßã„ÇÅ„Çã&hellip;","no-conversations":"‰ºöË©±„Å™„Åó",send:"ÈÄÅ‰ø°","powered-by-intercom":"Intercom „Å´„Çà„ÇäÁ®ºÂÉç„Åó„Å¶„ÅÑ„Åæ„Åô",Xs:"Êï∞Áßí",Xm:"{delta}ÂàÜÂâç",Xh:"{delta}ÊôÇÈñìÂâç",Xd:"{delta}Êó•Ââç",Xw:"{delta}ÈÄ±ÈñìÂâç",you:"„ÅäÂÆ¢Êßò",delivered:"ÈÖç‰ø°Ê∏à„Åø","anonymous-email-response":"„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇËøî‰ø°ÊôÇ„Å´„ÅØ„Åì„Å°„Çâ„Åã„Çâ„É°„Éº„É´({email})„Å´ÈÄöÁü•„Åó„Åæ„Åô„ÄÇ","anonymous-email-responder":"„É°„Éº„É´„ÅßÈÄöÁü•„Åï„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ","your-email":"„ÅÇ„Å™„Åü„ÅÆ„É°„Éº„É´",sending:"ÈÄÅ‰ø°‰∏≠&hellip;",failed:"ÈÄÅ‰ø°„Åï„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÂÜçÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ",uploading:"„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ‰∏≠",uploaded:"„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÊ∏à„Åø","max-upload-size":"„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åß„Åç„Çã„Çµ„Ç§„Ç∫„ÅÆ‰∏äÈôê„ÅØ{number}MB„Åß„Åô","insert-emoji":"ÁµµÊñáÂ≠ó„ÇíÊåøÂÖ•„Åô„Çã","send-attachment":"Ê∑ª‰ªò„ÇíÈÄÅ‰ø°„Åô„Çã","press-enter-to-send":"Enter„Ç≠„Éº„ÇíÊäº„Åó„Å¶ÈÄÅ‰ø°„Åó„Å¶„Åè„Å†„Åï„ÅÑ","not-seen-yet":"„Åæ„Å†Èñ≤Ë¶ß„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì",seen:"Èñ≤Ë¶ßÊ∏à„Åø","x-says":"{firstName}„Åï„Çì„ÅåË®Ä„Å£„Å¶„ÅÑ„Åæ„Åô...","someone-says":"Ë™∞„Åã„ÅåË®Ä„Å£„Å¶„ÅÑ„Åæ„Åô...","active-in-the-last-x-minutes":"{minutes}ÂàÜÂâç„Åã„Çâ„Ç™„É≥„É©„Ç§„É≥","active-in-the-last-hour":"ÊúÄÂæå„ÅÆÊôÇÈñì„Åß„Ç¢„ÇØ„ÉÜ„Ç£„Éñ","last-active-one-hour-ago":"ÊúÄÁµÇ„Ç™„É≥„É©„Ç§„É≥ÊôÇ: 1ÊôÇÈñìÂâç","last-active-x-hours-ago":"ÊúÄÁµÇ„Ç™„É≥„É©„Ç§„É≥ÊôÇ: {hours}ÊôÇÈñìÂâç","last-active-one-day-ago":"ÊúÄÁµÇ„Ç™„É≥„É©„Ç§„É≥ÊôÇ: Êò®Êó•","last-active-x-days-ago":"ÊúÄÁµÇ„Ç™„É≥„É©„Ç§„É≥ÊôÇ: {days}Êó•Ââç","last-active-more-than-one-week-ago":"ÊúÄÁµÇ„Ç™„É≥„É©„Ç§„É≥ÊôÇ: 1ÈÄ±Èñì‰ª•‰∏äÂâç","message-autoresponse":"Ëøî‰ø°ÊôÇ„Å´„ÅØ„Åì„Å°„Çâ„ÅãÈÄöÁü•„Åó„Åæ„Åô„ÄÇ","message-autoresponse-with-email":"Ëøî‰ø°ÊôÇ„Å´„ÅØ„Åì„Å°„Çâ„Åã„Çâ„É°„Éº„É´„Å´„Å¶ÈÄöÁü•„Åó„Åæ„Åô„ÄÇ"}}),define("i18n/ko",[],function(){return{"language-name-en":"Korean","language-name":"ÌïúÍµ≠Ïñ¥","new-message":"ÏÉà Î©îÏãúÏßÄ","new-comment-placeholder":"ÎãµÎ≥Ä ÏûëÏÑ±ÌïòÍ∏∞&hellip;","new-conversation-placeholder":"ÎåÄÌôî ÏãúÏûëÌïòÍ∏∞&hellip;","no-conversations":"ÎåÄÌôî ÏóÜÏùå",send:"Ï†ÑÏÜ°","powered-by-intercom":"Intercom Ï†úÍ≥µ",Xs:"Î∞©Í∏à",Xm:"{delta} Î∂Ñ Ï†Ñ",Xh:"{delta} ÏãúÍ∞Ñ Ï†Ñ",Xd:"{delta} Ïùº Ï†Ñ",Xw:"{delta} Ï£º Ï†Ñ",you:"ÎÇò",delivered:"Ï†ÑÎã¨Îê®","anonymous-email-response":"Í∞êÏÇ¨Ìï©ÎãàÎã§. ÎãµÏû•ÏùÑ Ìï† Îïå Ïù¥Î©îÏùº({email})Î°ú ÏïåÎ†§ÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.","anonymous-email-responder":"Ïù¥Î©îÏùºÎ°ú ÏïåÎ†§ÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.","your-email":"Ïù¥Î©îÏùº",sending:"Ï†ÑÏÜ° Ï§ë&hellip;",failed:"Ï†ÑÏÜ° Ïã§Ìå®. Îã§Ïãú ÏãúÎèÑÌïòÏãúÎ†§Î©¥ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî.",uploading:"ÏóÖÎ°úÎìú Ï§ë",uploaded:"ÏóÖÎ°úÎìú ÏôÑÎ£å","max-upload-size":"ÏóÖÎ°úÎìú Í∞ÄÎä•Ìïú ÏµúÎåÄ ÌÅ¨Í∏∞Îäî {number}MBÏûÖÎãàÎã§.","insert-emoji":"ÏóêÎ™®ÏßÄ ÏÇΩÏûÖ","send-attachment":"Ï≤®Î∂ÄÌååÏùº Ï†ÑÏÜ°","press-enter-to-send":"ÏóîÌÑ∞ ÌÇ§Î•º ÎàåÎü¨ Ï†ÑÏÜ°ÌïòÏÑ∏Ïöî.","not-seen-yet":"ÏïÑÏßÅ ÏùΩÏßÄ ÏïäÏùå",seen:"ÏùΩÏùå","x-says":"{firstName}ÎãòÏùò Î©îÏãúÏßÄ...","someone-says":"ÎàÑÍµ∞Í∞ÄÏùò Î©îÏãúÏßÄ...","active-in-the-last-x-minutes":"ÎßàÏßÄÎßâ Ï†ëÏÜç {minutes}Î∂Ñ Ï†Ñ","active-in-the-last-hour":"ÎßàÏßÄÎßâ Ï†ëÏÜç 1ÏãúÍ∞Ñ Ï†Ñ","last-active-one-hour-ago":"ÎßàÏßÄÎßâ Ï†ëÏÜç 1ÏãúÍ∞Ñ Ï†Ñ","last-active-x-hours-ago":"ÎßàÏßÄÎßâ Ï†ëÏÜç {hours}ÏãúÍ∞Ñ Ï†Ñ","last-active-one-day-ago":"ÎßàÏßÄÎßâ Ï†ëÏÜç Ïñ¥Ï†ú","last-active-x-days-ago":"ÎßàÏßÄÎßâ Ï†ëÏÜç {days}Ïùº Ï†Ñ","last-active-more-than-one-week-ago":"ÎßàÏßÄÎßâ Ï†ëÏÜç 1Ï£ºÏùº Ï†Ñ","message-autoresponse":"Ï†ÄÌù¨Í∞Ä ÎãµÎ≥ÄÌïòÎ©¥ Ïó¨Í∏∞ÏóêÏÑú ÏïåÎ¶ºÏùÑ ÌôïÏù∏ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§.","message-autoresponse-with-email":"Ï†ÄÌù¨Í∞Ä ÎãµÎ≥ÄÌïòÎ©¥ Ïó¨Í∏∞ÏóêÏÑú ÏïåÎ¶ºÏùÑ ÌôïÏù∏ÌïòÏã§ Ïàò ÏûàÏúºÎ©∞ Ïù¥Î©îÏùº ÏïåÎ¶ºÎèÑ Ï†ÑÏÜ°Îê©ÎãàÎã§."}}),define("i18n/lt",[],function(){return{"language-name-en":"Lithuanian","language-name":"Lietuvi≈≥ kalba","new-message":"Nauja ≈æinutƒó","new-comment-placeholder":"Atsakyti&hellip;","new-conversation-placeholder":"Pradƒóti pokalbƒØ&hellip;","no-conversations":"Nƒóra pokalbi≈≥",send:"Si≈≥sti","powered-by-intercom":"Sukurta Intercom",Xs:"KƒÖ tik",Xm:"prie≈° {delta}m",Xh:"prie≈° {delta}v",Xd:"prie≈° {delta}d",Xw:"prie≈° {delta}s",you:"Tu",delivered:"Pristatyta","anonymous-email-response":"Aƒçi≈´. Apie atsakymƒÖ prane≈°ime el. pa≈°tu.","anonymous-email-responder":"Leiskite prane≈°ti el. pa≈°tu.","your-email":"J≈´s≈≥ el. pa≈°tas",sending:"Siunƒçiama&hellip;",failed:"Nepristatyta. Spustelƒókite, kad pabandytume dar kartƒÖ.",uploading:"Keliama",uploaded:"ƒÆkelta","max-upload-size":"Maksimalus leistinas failo dydis ‚Äì {number}MB","insert-emoji":"ƒÆterpkite ≈°ypsniukƒÖ","send-attachment":"Si≈≥skite priedƒÖ","press-enter-to-send":"Paspauskite ‚ÄûEnter‚Äú, kad i≈°si≈≥stumƒóte","not-seen-yet":"Dar nepamatyta.",seen:"Pamatyta.","x-says":"{firstName} sako...","someone-says":"Ka≈ækas sako...","active-in-the-last-x-minutes":"Aktyvus per paskutines {minutes} minutes","active-in-the-last-hour":"Aktyvus paskutinƒô valandƒÖ","last-active-one-hour-ago":"PaskutinƒØ kartƒÖ aktyvus prie≈° 1 valandƒÖ","last-active-x-hours-ago":"PaskutinƒØ kartƒÖ aktyvus prie≈° {hours} valandas","last-active-one-day-ago":"PaskutinƒØ kartƒÖ aktyvus vakar","last-active-x-days-ago":"PaskutinƒØ kartƒÖ aktyvus prie≈° {days} dienas","last-active-more-than-one-week-ago":"PaskutinƒØ kartƒÖ aktyvus daugiau nei prie≈° 1 savaitƒô","message-autoresponse":"Atsakydami jums prane≈°ime.","message-autoresponse-with-email":"Kai atsakysime, prane≈°ime ƒçia ir elektroniniu lai≈°ku."}}),define("i18n/lv",[],function(){return{"language-name-en":"Latvian","language-name":"Latvie≈°u","new-message":"Jauna zi≈Üa","new-comment-placeholder":"Rakstƒ´t atbildi&hellip;","new-conversation-placeholder":"UzsƒÅkt sarunu&hellip;","no-conversations":"Nav zi≈Üas",send:"S≈´tƒ´t","powered-by-intercom":"Nodro≈°ina Intercom",Xs:"Tikko",Xm:"pirms {delta}m",Xh:"pirms {delta}s",Xd:"pirms {delta}d",Xw:"pirms {delta}n",you:"Tu",delivered:"Nos≈´tƒ´ts","anonymous-email-response":"Mƒìs j≈´s informƒìsim pa e-pastu ({email}), kad m≈´su zi≈Üojums b≈´s nos≈´tƒ´ts.","anonymous-email-responder":"Mƒìs informƒìsim J≈´s pa e-pastu.","your-email":"J≈´su e-pasts",sending:"Nos≈´ta&hellip;",failed:"Nav nos≈´tƒ´ts. Uzkli≈°ƒ∑iniet vƒìlreiz.",uploading:"Aug≈°upielƒÅdƒì",uploaded:"Aug≈°upielƒÅdƒìts","max-upload-size":"MaksimƒÅlais aug≈°upielƒÅdes lielums ir {number}MB","insert-emoji":"Ievietot emocijzƒ´mes","send-attachment":"Nos≈´tƒ´t pielikumu","press-enter-to-send":"Nospiediet Enter, lai nos≈´tƒ´tu","not-seen-yet":"Vƒìl nav apskatƒ´ts",seen:"Apskatƒ´ts","x-says":"{firstName} saka...","someone-says":"KƒÅds saka...","active-in-the-last-x-minutes":"Aktƒ´vs pƒìdƒìjƒÅs {minutes} min≈´tƒìs","active-in-the-last-hour":"Aktƒ´vs pƒìdƒìjƒÅs stundas","last-active-one-hour-ago":"Pƒìdƒìjoreiz aktƒ´vs pirms 1 stundas","last-active-x-hours-ago":"Pƒìdƒìjoreiz aktƒ´vs pirms {hours} stundƒÅm","last-active-one-day-ago":"Pƒìdƒìjoreiz aktƒ´vs vakar","last-active-x-days-ago":"Pƒìdƒìjoreiz aktƒ´vs pirms {days} dienas","last-active-more-than-one-week-ago":"Pƒìdƒìjoreiz aktƒ´vs pirms vairƒÅk nekƒÅ 1 nedƒìƒºas","message-autoresponse":"Mƒìs j≈´s informƒìsim, kad b≈´sim nos≈´tƒ´ju≈°i atbildi.","message-autoresponse-with-email":"Mƒìs j≈´s informƒìsim ≈°eit un pa e-pastu, kad b≈´sim nos≈´tƒ´ju≈°i atbildi."}}),define("i18n/mn",[],function(){return{"language-name-en":"Mongolian","language-name":"–ú–æ–Ω–≥–æ–ª","new-message":"–®–∏–Ω—ç –ó—É—Ä–≤–∞—Å","new-comment-placeholder":"–•–∞—Ä–∏—É –±–∏—á–∏—Ö&hellip;","new-conversation-placeholder":"–Ø—Ä–∏–∞ —ç—Ö–ª—ç—Ö&hellip;","no-conversations":"–Ø–º–∞—Ä —á —è—Ä–∏–∞",send:"–ò–ª–≥—ç—ç—Ö","powered-by-intercom":"Intercom –∑–∞–π—Ç–∞–π",Xs:"–Ø–≥ –æ–¥–æ–æ",Xm:"{delta} –º–∏–Ω—É—Ç ”©–º–Ω”©",Xh:"{delta} —Ü–∞–≥–∏–π–Ω ”©–º–Ω”©",Xd:"{delta} ”©–¥—Ä–∏–π–Ω ”©–º–Ω”©",Xw:"{delta} –¥–æ–ª–æ–æ —Ö–æ–Ω–æ–≥–∏–π–Ω ”©–º–Ω”©",you:"–¢–∞",delivered:"–•“Ø—Ä–≥—ç—Å—ç–Ω","anonymous-email-response":"–ë–∞—è—Ä–ª–∞–ª–∞–∞, –±–∏–¥ —Ç–∞–Ω–¥ —ç-–º—ç–π–ª ({email})-—ç—ç—Ä —Ö–∞—Ä–∏—É –º—ç–¥—ç–≥–¥—ç—Ö –±–æ–ª–Ω–æ.","anonymous-email-responder":"–¢–∞–Ω–¥ —ç-–º—ç–π–ª—ç—ç—Ä –º—ç–¥—ç–≥–¥—å–µ.","your-email":"–¢–∞–Ω—ã —ç-–º—ç–π–ª",sending:"–ò–ª–≥—ç—ç–∂ –±–∞–π–Ω–∞&hellip;",failed:"–û—á—Å–æ–Ω–≥“Ø–π. –î–∞—Ö–∏–Ω –¥–∞—Ä–∂ –æ—Ä–æ–ª–¥–æ–Ω–æ —É—É.",uploading:"–ë–∞–π—Ä—à—É—É–ª–∂ –±–∞–π–Ω–∞",uploaded:"–ë–∞–π—Ä—à—É—É–ª–ª–∞–∞","max-upload-size":"–ë–∞–π—Ä—à—É—É–ª–∞—Ö —Ñ–∞–π–ª—ã–Ω –¥—ç—ç–¥ —Ö—ç–º–∂—ç—ç {number}MB.","insert-emoji":"–≠–º–æ–∂–∏ –æ—Ä—É—É–ª–∞—Ö","send-attachment":"–•–∞–≤—Å—Ä–∞–ª—Ç –∏–ª–≥—ç—ç—Ö","press-enter-to-send":"","not-seen-yet":"",seen:"","x-says":"","someone-says":"","active-in-the-last-x-minutes":"","active-in-the-last-hour":"","last-active-one-hour-ago":"","last-active-x-hours-ago":"","last-active-one-day-ago":"","last-active-x-days-ago":"","last-active-more-than-one-week-ago":"","message-autoresponse":"","message-autoresponse-with-email":""}}),define("i18n/nb",[],function(){return{"language-name-en":"Norwegian Bokm√•l","language-name":"Norsk","new-message":"Ny melding","new-comment-placeholder":"Skriv et svar&hellip;","new-conversation-placeholder":"Starte en samtale&hellip;","no-conversations":"Ingen samtaler","admin-from-app":"{adminFirstName} fra {appName}",send:"Send","powered-by-intercom":"Levert av Intercom",Xs:"Noen sekunder",Xm:"{delta}m",Xh:"{delta}t",Xd:"{delta}d",Xw:"{delta}u",you:"Du",delivered:"Levert","anonymous-email-response":"Takk. Vi varsler deg via e-post ({email}) n√•r vi svarer.","anonymous-email-responder":"La oss varsle deg via e-post.","your-email":"Din e-post",sending:"Sender &hellip;",failed:"Ikke levert. Pr√∏v igjen.",uploading:"Laster opp",uploaded:"Opplastet","max-upload-size":"Maksimal opplastingsst√∏rrelse er {number}MB","insert-emoji":"Sett inn emoji","send-attachment":"Send vedlegg","press-enter-to-send":"Trykk p√• Enter for √• sende","not-seen-yet":"Ikke sett enn√•.",seen:"Sett.","x-says":"{firstName} sier...","someone-says":"Noen sa...","active-in-the-last-x-minutes":"Aktiv de forrige {minutes} minuttene","active-in-the-last-hour":"Akt√≠v az elm√∫lt √≥r√°ban","last-active-one-hour-ago":"Aktiv for 1 time siden","last-active-x-hours-ago":"Sist aktiv for {hours} timer siden","last-active-one-day-ago":"Sist aktiv i g√•r","last-active-x-days-ago":"Sist aktiv for {days} nappal ezel≈ëtt","last-active-more-than-one-week-ago":"Sist aktiv for over 1 uke siden","message-autoresponse":"Vi varsler deg her n√•r vi svarer.","message-autoresponse-with-email":"Vi varsler deg er og per e-post n√•r vi svarer."}}),define("i18n/nl",[],function(){return{"language-name-en":"Dutch","language-name":"Nederlands","new-message":"Nieuw bericht","new-comment-placeholder":"Schrijf een reactie&hellip;","new-conversation-placeholder":"Begin een gesprek&hellip;","no-conversations":"Geen gesprekken",send:"Stuur","powered-by-intercom":"Powered by Intercom",Xs:"Een paar seconden",Xm:"{delta}m geleden",Xh:"{delta}u geleden",Xd:"{delta}d geleden",Xw:"{delta}w geleden",you:"U",delivered:"Afgeleverd","anonymous-email-response":"Bedankt, we brengen je per e-mail ({email}) op de hoogte wanneer we reageren.","anonymous-email-responder":"Laat ons je per e-mail op de hoogte brengen.","your-email":"Je e-mail",sending:"Aan het verzenden&hellip;",failed:"Niet afgeleverd. Klik om opnieuw te proberen.",uploading:"Aan het uploaden",uploaded:"Ge√ºpload","max-upload-size":"De maximale uploadgrootte is {number}MB","insert-emoji":"Emoji invoegen","send-attachment":"Bijlage verzenden","press-enter-to-send":"Druk op Enter om te versturen","not-seen-yet":"Nog niet bekeken",seen:"Bekeken","x-says":"{firstName} zegt...","someone-says":"Iemand zegt...","active-in-the-last-x-minutes":"In de afgelopen {minutes} minuten actief","active-in-the-last-hour":"In de afgelopen uur actief","last-active-one-hour-ago":"1 uur geleden voor het laatst actief","last-active-x-hours-ago":"{hours} uur geleden voor het laatst actief","last-active-one-day-ago":"Gisteren voor het laatst actief","last-active-x-days-ago":"{days} dagen geleden voor het laatst actief","last-active-more-than-one-week-ago":"Meer dan 1 week geleden voor het laatst actief","message-autoresponse":"We laten het je hier weten als we antwoorden.","message-autoresponse-with-email":"We laten het je hier en via e-mail weten als we antwoorden."}}),define("i18n/pl",[],function(){return{"language-name-en":"Polish","language-name":"Polski","new-message":"Nowa wiadomo≈õƒá","new-comment-placeholder":"Napisz odpowied≈∫&hellip;","new-conversation-placeholder":"Rozpocznij rozmowƒô&hellip;","no-conversations":"Brak rozm√≥w","admin-from-app":"{adminFirstName} z {appName}",send:"Wy≈õlij","powered-by-intercom":"Obs≈Çuga przez Intercom",Xs:"Tylko teraz",Xm:"{delta}m temu",Xh:"{delta}g temu",Xd:"{delta}d temu",Xw:"{delta}t temu",you:"Ty",delivered:"Dostarczono","anonymous-email-response":"Dziƒôkujemy, o odpowiedzi poinformujemy Ciƒô mailowo ({email}).","anonymous-email-responder":"Pozw√≥l nam zawiadamiaƒá Ciƒô przez email.","your-email":"Tw√≥j email",sending:"Wysy≈Çanie&hellip;",failed:"Nie dostarczono. Kliknij, aby spr√≥bowaƒá ponownie.",uploading:"≈Åadowanie",uploaded:"Za≈Çadowano","max-upload-size":"Maksymalny rozmiar ≈Çadowania to {number}MB","insert-emoji":"Wstaw emoji","send-attachment":"Wy≈õlij za≈ÇƒÖcznik","press-enter-to-send":"Wci≈õnij Enter, aby wys≈Çaƒá","not-seen-yet":"Nieodczytana",seen:"Odczytana","x-says":"{firstName} m√≥wi...","someone-says":"Kto≈õ m√≥wi...","active-in-the-last-x-minutes":"Aktywny(a) w ciƒÖgu ostatnich {minutes} minut","active-in-the-last-hour":"Aktywny(a) w ciƒÖgu ostatniej godziny","last-active-one-hour-ago":"Ostatnio aktywny(a) godzinƒô temu","last-active-x-hours-ago":"Ostatnio aktywny(a) {hours} godzin(y) temu","last-active-one-day-ago":"Ostatnio aktywny(a) wczoraj","last-active-x-days-ago":"Ostatnio aktywny(a) {days} dni temu","last-active-more-than-one-week-ago":"Ostatnio aktywny(a) ponad tydzie≈Ñ temu","message-autoresponse":"Powiadomimy ciƒô o tutaj naszej odpowiedzi.","message-autoresponse-with-email":"Powiadomimy ciƒô o naszej odpowiedzi tutaj i e-mailem."}}),define("i18n/pt",[],function(){return{"language-name-en":"Portuguese","language-name":"Portugu√™s","new-message":"Nova Mensagem","new-comment-placeholder":"Escreva uma resposta&hellip;","new-conversation-placeholder":"Iniciar uma conversa&hellip;","no-conversations":"Sem conversas",send:"Enviar","powered-by-intercom":"Fornecido pela Intercom",Xs:"Agora mesmo",Xm:"H√° {delta}m",Xh:"H√° {delta}h",Xd:"H√° {delta}d",Xw:"H√° {delta}s",you:"Voc√™",delivered:"Entregue","anonymous-email-response":"Obrigado, ir√° ser notificado(a) por e-mail ({email}) ao receber a nossa resposta.","anonymous-email-responder":"Permita que o(a) notifiquemos por e-mail.","your-email":"O seu e-mail",sending:"A enviar&hellip;",failed:"N√£o entregue. Clique para tentar de novo.",uploading:"A carregar&hellip;",uploaded:"Carregado","max-upload-size":"O tamanho de carregamento m√°ximo √© {number}MB","insert-emoji":"Inserir emoji","send-attachment":"Enviar anexo","press-enter-to-send":"Prime Enter para enviar","not-seen-yet":"N√£o lida",seen:"Lida","x-says":"{firstName} diz...","someone-says":"Algu√©m diz...","active-in-the-last-x-minutes":"Ativo nos √∫ltimos {minutes} minutos","active-in-the-last-hour":"Ativo nos √∫ltimos hora","last-active-one-hour-ago":"Ativo h√° 1 hora atr√°s","last-active-x-hours-ago":"Ativo h√° {hours} horas atr√°s","last-active-one-day-ago":"Ativo ontem","last-active-x-days-ago":"Ativo h√° {days} dias atr√°s","last-active-more-than-one-week-ago":"Ativo h√° mais de 1 semana atr√°s","message-autoresponse":"Vais ser notificado aqui quando nos respondermos.","message-autoresponse-with-email":"Vais ser notificado aqui e por e-mail quando nos respondermos."}}),define("i18n/ro",[],function(){return{"language-name-en":"Romanian","language-name":"Rom√¢nƒÉ","new-message":"Mesaje noi","new-comment-placeholder":"Scrie un raspuns&hellip;","new-conversation-placeholder":"Incepe o conversatie&hellip;","no-conversations":"Fara conversatii","admin-from-app":"{adminFirstName} de la {appName}",send:"Trimite","powered-by-intercom":"Powered by Intercom",Xs:"Chiar acum",Xm:"{delta}m inainte",Xh:"{delta}h inainte",Xd:"{delta}d inainte",Xw:"{delta}s inainte",you:"Tu",delivered:"Trimis","anonymous-email-response":"Mul»õumim, te vom notifica prin e-mail ({email}) atunci c√¢nd rƒÉspundem.","anonymous-email-responder":"Permite-ne sƒÉ te notificƒÉm prin e-mail.","your-email":"E-mailul tƒÉu",sending:"Se trimite&hellip;",failed:"Netransmis. FƒÉ clic pentru a √Æncerca din nou.",uploading:"Se √ÆncarcƒÉ",uploaded:"√éncƒÉrcat","max-upload-size":"Dimensiunea maximƒÉ de √ÆncƒÉrcare este {number}MB","insert-emoji":"Introducere emoji","send-attachment":"Trimitere ata»ôament","press-enter-to-send":"ApasƒÉ Enter pentru a trimite","not-seen-yet":"Nu s-a vƒÉzut √ÆncƒÉ",seen:"VƒÉzut","x-says":"{firstName} scrie...","someone-says":"Cineva scrie...","active-in-the-last-x-minutes":"Activ √Æn ultimele {minutes} minute","active-in-the-last-hour":"ActivƒÉ √Æn ultimele orƒÉ","last-active-one-hour-ago":"Activ acum 1 orƒÉ","last-active-x-hours-ago":"Activ acum {hours} ore","last-active-one-day-ago":"Activ ieri","last-active-x-days-ago":"Activ {days} zile √Æn urmƒÉ","last-active-more-than-one-week-ago":"Activ acum peste o sƒÉptƒÉm√¢nƒÉ","message-autoresponse":"Te vom notifica aici atunci c√¢nd rƒÉspundem.","message-autoresponse-with-email":"Te vom notifica aici ≈üi prin e-mail atunci c√¢nd rƒÉspundem."}}),define("i18n/ru",[],function(){return{"language-name-en":"Russian","language-name":"–†—É—Å—Å–∫–∏–π","new-message":"–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ","new-comment-placeholder":"–ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç–≤–µ—Ç&hellip;","new-conversation-placeholder":"–ù–∞—á–∞—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä&hellip;","no-conversations":"–ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π",send:"–û—Ç–ø—Ä–∞–≤–∏—Ç—å","powered-by-intercom":"–ù–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Intercom",Xs:"–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥",Xm:"{delta}m –Ω–∞–∑–∞–¥",Xh:"{delta}—á –Ω–∞–∑–∞–¥",Xd:"{delta}–¥ –Ω–∞–∑–∞–¥",Xw:"{delta}–Ω–µ–¥ –Ω–∞–∑–∞–¥",you:"–í—ã",delivered:"–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ","anonymous-email-response":"–°–ø–∞—Å–∏–±–æ, –º—ã —É–≤–µ–¥–æ–º–∏–º –≤–∞—Å –æ–± –æ—Ç–≤–µ—Ç–µ –ø–æ —ç–ª. –ø–æ—á—Ç–µ ({email}).","anonymous-email-responder":"–î–∞–≤–∞–π—Ç–µ –º—ã —É–≤–µ–¥–æ–º–∏–º –≤–∞—Å –ø–æ —ç–ª. –ø–æ—á—Ç–µ.","your-email":"–í–∞—à —ç–ª. –∞–¥—Ä–µ—Å",sending:"–û—Ç–ø—Ä–∞–≤–∫–∞&hellip;",failed:"–ù–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É.",uploading:"–ó–∞–≥—Ä—É–∑–∫–∞",uploaded:"–ó–∞–≥—Ä—É–∂–µ–Ω–æ","max-upload-size":"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ ‚Äï {number}–ú–±","insert-emoji":"–í—Å—Ç–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏","send-attachment":"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–ª–æ–∂–µ–Ω–∏–µ","press-enter-to-send":"–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏","not-seen-yet":"–ï—â–µ –Ω–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",seen:"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ","x-says":"{firstName} –≥–æ–≤–æ—Ä–∏—Ç...","someone-says":"–ö—Ç–æ-—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç...","active-in-the-last-x-minutes":"–ê–∫—Ç–∏–≤–Ω—ã–π –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ {minutes} –º–∏–Ω.","active-in-the-last-hour":"–ê–∫—Ç–∏–≤–Ω—ã–π –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å","last-active-one-hour-ago":"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å 1 —á–∞—Å –Ω–∞–∑–∞–¥","last-active-x-hours-ago":"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å {hours} —á –Ω–∞–∑–∞–¥","last-active-one-day-ago":"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—á–µ—Ä–∞","last-active-x-days-ago":"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å {days} –¥–Ω–µ–π –Ω–∞–∑–∞–¥","last-active-more-than-one-week-ago":"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±–æ–ª–µ–µ 1 –Ω–µ–¥–µ–ª–∏ –Ω–∞–∑–∞–¥","message-autoresponse":"–ú—ã —É–≤–µ–¥–æ–º–∏–º –≤–∞—Å –∑–¥–µ—Å—å –æ–± –æ—Ç–≤–µ—Ç–µ.","message-autoresponse-with-email":"–ú—ã —É–≤–µ–¥–æ–º–∏–º –≤–∞—Å –∑–¥–µ—Å—å –∏ –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ –æ–± –æ—Ç–≤–µ—Ç–µ."}}),define("i18n/sl",[],function(){return{"language-name-en":"Slovenian","language-name":"Sloven≈°ƒçina","new-message":"Novo sporoƒçilo","new-comment-placeholder":"Odgovorite&hellip;","new-conversation-placeholder":"Priƒçnite pogovor&hellip;","no-conversations":"Ni pogovorov","admin-from-app":"{adminFirstName} iz {appName}",send:"Po≈°lji","powered-by-intercom":"Powered by Intercom",Xs:"Ravnokar",Xm:"{delta}m nazaj",Xh:"{delta}h nazaj",Xd:"{delta}d nazaj",Xw:"{delta}t nazaj",you:"Vi",delivered:"Dostavljeno","anonymous-email-response":"Hvala, ko bomo odgovorili, vas bomo obvestili po e-po≈°ti ({email}).","anonymous-email-responder":"Dovolite, da vas obvestimo po e-po≈°ti.","your-email":"Va≈°a e-po≈°ta",sending:"Po≈°iljanje&hellip;",failed:"Ni dostavljeno. Kliknite, ƒçe ≈æelite znova poskusiti.",uploading:"Prenos",uploaded:"Preneseno","max-upload-size":"Najveƒçja velikost prenosa je {number}MB","insert-emoji":"Vstavi sme≈°ka","send-attachment":"Po≈°lji prilogo","press-enter-to-send":"Za po≈°iljanje pritisnite Enter","not-seen-yet":"≈†e nevideno",seen:"Videno","x-says":"{firstName} pravi...","someone-says":"Nekdo pravi...","active-in-the-last-x-minutes":"Aktiven v zadnjih {minutes} minutah","active-in-the-last-hour":"Aktiven v zadnjih uro","last-active-one-hour-ago":"Zadnjiƒç aktiven pred 1 uro","last-active-x-hours-ago":"Zadnjiƒç aktiven pred {hours} urami","last-active-one-day-ago":"Zadnjiƒç aktiven vƒçeraj","last-active-x-days-ago":"Zadnjiƒç aktiven pred {days} dnevi","last-active-more-than-one-week-ago":"Zadnjiƒç aktiven pred veƒç kot 1 tednom","message-autoresponse":"Ko bomo odgovorili, vas bomo obvestili tukaj.","message-autoresponse-with-email":"Ko bomo odgovorili, vas bomo obvestili tukaj in po e-po≈°ti."}}),define("i18n/sr",[],function(){return{"language-name-en":"Serbian","language-name":"Srpski","new-message":"Novi razgovor","new-comment-placeholder":"Napi≈°i odovor&hellip;","new-conversation-placeholder":"Zapoƒçni razgovor&hellip;","no-conversations":"Nemate razgovora",send:"Po≈°alji","powered-by-intercom":"Powered by Intercom",Xs:"Upravo sada",Xm:"{delta}m prije",Xh:"{delta}h prije",Xd:"{delta}d prije",Xw:"{delta}sedm. prije",you:"Vi",delivered:"–ü–æ—Å–ª–∞—Ç–æ","anonymous-email-response":"–•–≤–∞–ª–∞, –æ–±–∞–≤–µ—Å—Ç–∏—õ–µ–º–æ —Ç–µ –ø–æ—Ä—É–∫–æ–º ({number}) –∫–∞–¥–∞ –±—É–¥–µ–º–æ –æ–¥–≥–æ–≤–æ—Ä–∏–ª–∏.","anonymous-email-responder":"–û–º–æ–≥—É—õ–∏ –Ω–∞–º –¥–∞ —Ç–µ –æ–±–∞–≤–µ—Å—Ç–∏–º–æ –ø–æ—Ä—É–∫–æ–º.","your-email":"–¢–≤–æ—ò–∞ –∞–¥—Ä–µ—Å–∞",sending:"–®–∞—ô–µ —Å–µ&hellip;",failed:"–ù–∏—ò–µ –ø–æ—Å–ª–∞—Ç–æ. –ü—Ä–∏—Ç–∏—Å–Ω–∏ –¥–∞ –ø–æ–∫—É—à–∞—à –ø–æ–Ω–æ–≤–æ.",uploading:"–£—á–∏—Ç–∞–≤–∞ —Å–µ",uploaded:"–£—á–∏—Ç–∞–Ω–æ","max-upload-size":"–ú–∞–∫—Å–∏–º–∞–ª–Ω–∞ –≤–µ–ª–∏—á–∏–Ω–∞ –∑–∞ —É—á–∏—Ç–∞–≤–∞—ö–µ —ò–µ {email}MB","insert-emoji":"–£–±–∞—Ü–∏ —Å–º–µ—à–∫–∞","send-attachment":"–ü–æ—à–∞—ô–∏ –ø—Ä–∏–ª–æ–≥","press-enter-to-send":"–ü—Ä–∏—Ç–∏—Å–Ω–∏ –µ–Ω—Ç–µ—Ä –¥–∞ –ø–æ—à–∞—ô–µ—à","not-seen-yet":"–à–æ—à –Ω–∏—ò–µ –ø—Ä–µ–≥–ª–µ–¥–∞–Ω",seen:"–ü—Ä–µ–≥–ª–µ–¥–∞–Ω","x-says":"{firstName} –∫–∞–∂–µ...","someone-says":"–ù–µ–∫–æ –∫–∞–∂–µ...","active-in-the-last-x-minutes":"–ê–∫—Ç–∏–≤–∞–Ω —Ç–æ–∫–æ–º –ø–æ—Å–ª–µ–¥—ö–∏—Ö {minutes} –º–∏–Ω—É—Ç–∞","active-in-the-last-hour":"–ê–∫—Ç–∏–≤–∞–Ω —Ç–æ–∫–æ–º –ø–æ—Å–ª–µ–¥—ö–∏—Ö —Å–∞—Ç—É","last-active-one-hour-ago":"–ü–æ—Å–ª–µ–¥—ö–∏ –ø—É—Ç –∞–∫—Ç–∏–≤–∞–Ω –ø—Ä–µ 1 —Å–∞—Ç","last-active-x-hours-ago":"–ü–æ—Å–ª–µ–¥—ö–∏ –ø—É—Ç –∞–∫—Ç–∏–≤–∞–Ω –ø—Ä–µ {hours} —Å–∞—Ç–∞","last-active-one-day-ago":"–ü–æ—Å–ª–µ–¥—ö–∏ –ø—É—Ç –∞–∫—Ç–∏–≤–∞–Ω —ò—É—á–µ","last-active-x-days-ago":"–ü–æ—Å–ª–µ–¥—ö–∏ –ø—É—Ç –∞–∫—Ç–∏–≤–∞–Ω {days} –¥–∞–Ω–∞","last-active-more-than-one-week-ago":"–ü–æ—Å–ª–µ–¥—ö–∏ –ø—É—Ç –∞–∫—Ç–∏–≤–∞–Ω –ø—Ä–µ –≤–∏—à–µ –æ–¥ 1 –Ω–µ–¥–µ—ô–µ","message-autoresponse":"–ú–∏ —õ–µ–º–æ —Ç–µ –æ–±–∞–≤–µ—Å—Ç–∏—Ç–∏ –æ–≤–¥–µ –∫–∞–¥–∞ –æ–¥–≥–æ–≤–æ—Ä–∏–º–æ.","message-autoresponse-with-email":"–ú–∏ —õ–µ–º–æ —Ç–µ –æ–±–∞–≤–µ—Å—Ç–∏—Ç–∏ –æ–≤–¥–µ –∏ –ø—É—Ç–µ–º –µ–ª–µ–∫—Ç—Ä–æ–Ω—Å–∫–µ –ø–æ—à—Ç–µ –∫–∞–¥–∞ –æ–¥–≥–æ–≤–æ—Ä–∏–º–æ."}
}),define("i18n/sv",[],function(){return{"language-name-en":"Swedish","language-name":"Svenska","new-message":"Nytt meddelande","new-comment-placeholder":"Skriv ett svar&hellip;","new-conversation-placeholder":"Starta en konversation&hellip;","admin-from-app":"{adminFirstName} fr√•n {appName}","no-conversations":"Inga konversationer",send:"Skicka","powered-by-intercom":"Drivs av Intercom",Xs:"Just nu",Xm:"{delta}m sedan",Xh:"{delta}t sedan",Xd:"{delta}d sedan",Xw:"{delta}v sedan",you:"Du",delivered:"Levererat","anonymous-email-response":"Tack, vi meddelar dig via e-post ({email}) n√§r vi svarar.","anonymous-email-responder":"L√•t oss meddela dig via e-post.","your-email":"Din e-postadress",sending:"Skickar&hellip;",failed:"Ej levererat. Klicka f√∂r att f√∂rs√∂ka igen.",uploading:"Laddar upp",uploaded:"Uppladdad","max-upload-size":"Maximal uppladdningsstorlek √§r {number} MB","insert-emoji":"Infoga emoji","send-attachment":"Skicka bifogad fil","press-enter-to-send":"Tryck p√• Enter f√∂r att skicka","not-seen-yet":"Inte visat √§nnu",seen:"Visat","x-says":"{firstName} s√§ger...","someone-says":"N√•gon s√§ger...","active-in-the-last-x-minutes":"Aktiv inom de senaste {minutes} minuterna","active-in-the-last-hour":"Aktiv inom de senaste timmen","last-active-one-hour-ago":"Var senast aktiv f√∂r 1 timme sedan","last-active-x-hours-ago":"Var senast aktiv f√∂r {hours} timmar sedan","last-active-one-day-ago":"Var senast aktiv ig√•r","last-active-x-days-ago":"Var senast aktiv {days} dagar sedan","last-active-more-than-one-week-ago":"Var senast aktiv f√∂r mer √§n 1 vecka sedan","message-autoresponse":"Vi kommer att meddela dig h√§r n√§r vi svarar.","message-autoresponse-with-email":"Vi kommer att meddela dig h√§r samt via e-post n√§r vi svarar."}}),define("i18n/tr",[],function(){return{"language-name-en":"Turkish","language-name":"T√ºrk√ße","new-message":"Yeni Mesaj","new-comment-placeholder":"Bir cevap yazƒ±n&hellip;","new-conversation-placeholder":"Bir konu≈ümayƒ± ba≈ülatmak&hellip;","no-conversations":"Sohbet Yok",send:"G√∂nder","powered-by-intercom":"Intercom tarafƒ±ndan g√º√ßlendirilmi≈ütir",Xs:"Birka√ß saniye",Xm:"{delta}d √∂nce",Xh:"{delta}s √∂nce",Xd:"{delta}g √∂nce",Xw:"{delta}h √∂nce",you:"Sen",delivered:"ƒ∞letildi","anonymous-email-response":"Te≈üekk√ºrler, cevapladƒ±ƒüƒ±mƒ±zda e-posta ile ({email}) seni bu konuda bilgilendireceƒüiz.","anonymous-email-responder":"Seni e-posta ile bilgilendirmemize izin ver.","your-email":"E-postan",sending:"G√∂nderiliyor&hellip;",failed:"Teslim edilemedi. Tekrar denemek i√ßin tƒ±kla.",uploading:"Y√ºkleniyor",uploaded:"Y√ºklendi","max-upload-size":"Y√ºklenebilecek maksimum boyut {number}MB","insert-emoji":"Emoji ekle","send-attachment":"Eklenti g√∂nder","press-enter-to-send":"G√∂ndermek i√ßin Enter tu≈üuna bas","not-seen-yet":"Hen√ºz g√∂r√ºnmedi",seen:"G√∂r√ºnd√º","x-says":"{firstName} diyor ki...","someone-says":"Birisi diyor ki...","active-in-the-last-x-minutes":"Son {minutes} dakika i√ßinde etkindi","active-in-the-last-hour":"Son bir saat i√ßinde etkin olan","last-active-one-hour-ago":"En son 1 saat √∂nce etkindi","last-active-x-hours-ago":"En son {hours} saat √∂nce etkindi","last-active-one-day-ago":"En son d√ºn etkindi","last-active-x-days-ago":"En son {days} g√ºn i√ßinde etkindi","last-active-more-than-one-week-ago":"1 haftadan fazla bir s√ºredir etkin deƒüil","message-autoresponse":"Cevap verdiƒüimizde sana bildirim g√∂ndereceƒüiz.","message-autoresponse-with-email":"Cevap verdiƒüimizde sana buradan ve e-posta ile bildirim g√∂ndereceƒüiz."}}),define("i18n/vi",[],function(){return{"language-name-en":"Vietnamese","language-name":"Ti·∫øng Vi·ªát","new-message":"Trao ƒë·ªïi m·ªõi","new-comment-placeholder":"Tr·∫£ l·ªùi&hellip;","new-conversation-placeholder":"B·∫Øt ƒë·∫ßu trao ƒë·ªïi&hellip;","no-conversations":"Ch∆∞a c√≥ trao ƒë·ªïi",send:"G·ª≠i","powered-by-intercom":"Cung c·∫•p b·ªüi Intercom",Xs:"M·ªõi ƒë√¢y",Xm:"{delta} ph√∫t tr∆∞·ªõc",Xh:"{delta} gi·ªù tr∆∞·ªõc",Xd:"{delta} ng√†y tr∆∞·ªõc",Xw:"{delta} tu·∫ßn tr∆∞·ªõc",you:"B·∫°n",delivered:"ƒê√£ g·ª≠i","anonymous-email-response":"C√°m ∆°n. Khi ch√∫ng t√¥i tr·∫£ l·ªùi, ch√∫ng t√¥i c≈©ng s·∫Ω g·ª≠i email ({email}) th√¥ng b√°o.","anonymous-email-responder":"Cho ph√©p ch√∫ng t√¥i th√¥ng b√°o ƒë·∫øn b·∫°n qua email.","your-email":"Email",sending:"ƒêang g·ª≠i&hellip;",failed:"Ch∆∞a g·ª≠i. B·∫•m ƒë·ªÉ th·ª≠ g·ª≠i l·∫°i.",uploading:"ƒêang t·∫£i l√™n",uploaded:"ƒê√£ t·∫£i l√™n","max-upload-size":"Gi·ªõi h·∫°n dung l∆∞·ª£ng t·∫£i l√™n l√† {number}MB","insert-emoji":"Th√™m emoji","send-attachment":"G·ª≠i ƒë√≠nh k√®m","press-enter-to-send":"B·∫•m Enter ƒë·ªÉ g·ª≠i","not-seen-yet":"Ch∆∞a ƒë∆∞·ª£c xem",seen:"ƒê√£ xem","x-says":"{firstName} n√≥i...","someone-says":"C√≥ ng∆∞·ªùi n√≥i...","active-in-the-last-x-minutes":"C√≥ ho·∫°t ƒë·ªông trong {minutes} ph√∫t v·ª´a r·ªìi","active-in-the-last-hour":"C√≥ ho·∫°t ƒë·ªông trong nh·ªØng gi·ªù cu·ªëi","last-active-one-hour-ago":"L·∫ßn cu·ªëi ho·∫°t ƒë·ªông 1 gi·ªù tr∆∞·ªõc","last-active-x-hours-ago":"L·∫ßn cu·ªëi ho·∫°t ƒë·ªông {hours} gi·ªù tr∆∞·ªõc","last-active-one-day-ago":"L·∫ßn cu·ªëi ho·∫°t ƒë·ªông ng√†y h√¥m qua","last-active-x-days-ago":"L·∫ßn cu·ªëi ho·∫°t ƒë·ªông {hours} ng√†y tr∆∞·ªõc","last-active-more-than-one-week-ago":"L·∫ßn cu·ªëi ho·∫°t ƒë·ªông h∆°n 1 tu·∫ßn tr∆∞·ªõc","message-autoresponse":"Ch√∫ng t√¥i s·∫Ω th√¥ng b√°o cho b·∫°n t·∫°i ƒë√¢y khi chuÃÅng t√¥i tr·∫£ l·ªùi.","message-autoresponse-with-email":"Ch√∫ng t√¥i s·∫Ω th√¥ng b√°o cho b·∫°n t·∫°i ƒë√¢y v√† qua email khi chuÃÅng t√¥i tr·∫£ l·ªùi."}}),define("i18n/zh-CN",[],function(){return{"language-name-en":"Chinese (Simplified)","language-name":"‰∏≠Êñá (ÁÆÄ‰Ωì)","new-message":"Êñ∞‰ø°ÊÅØ","new-comment-placeholder":"ÂÜôÂõûÂ§ç","new-conversation-placeholder":"ÂÜô‰ø°ÊÅØ","no-conversations":"Êó†ÂØπËØù","admin-from-app":"{adminFirstName} Êù•Ëá™ {appName}",send:"ÈÄÅÂá∫","powered-by-intercom":"Áî±IntercomÊèê‰æõ",Xs:"Áé∞Âú®",Xm:"{delta}ÂàÜÈíüÂâç",Xh:"{delta}Â∞èÊó∂Ââç",Xd:"{delta}Â§©Ââç",Xw:"{delta}Âë®Ââç",you:"‰Ω†",delivered:"Â∑≤ÂèëÈÄÅ","anonymous-email-response":"Ë∞¢Ë∞¢ÔºÅÊàë‰ª¨ÂõûÂ§ç‰Ω†ÁöÑÊ∂àÊÅØÊó∂ÔºåÂ∞Ü‰ºöÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂({email})ÈÄöÁü•‰Ω†„ÄÇ","anonymous-email-responder":"ÂÖÅËÆ∏Êàë‰ª¨ÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂ÈÄöÁü•‰Ω†„ÄÇ","your-email":"‰Ω†ÁöÑÈÇÆÁÆ±Âú∞ÂùÄ",sending:"Ê≠£Âú®ÂèëÈÄÅ&hellip;",failed:"Ê≤°ÊúâÂèëÈÄÅÊàêÂäü„ÄÇËØ∑ÁÇπÂáªÈáçËØï„ÄÇ",uploading:"Ê≠£Âú®‰∏ä‰º†",uploaded:"Â∑≤‰∏ä‰º†","max-upload-size":"ÊúÄÂ§ß‰∏ä‰º†ÊñáÊ°£Â§ßÂ∞èÔºö{number}MB","insert-emoji":"ÊèíÂÖ•Ë°®ÊÉÖÁ¨¶Âè∑","send-attachment":"ÂèëÈÄÅÈôÑ‰ª∂","press-enter-to-send":"ÊåâEnterÂèëÈÄÅ","not-seen-yet":"ËøòÊú™ËßÅÂà∞",seen:"Â∑≤ËßÅÂà∞","x-says":"{firstName}ËØ¥...","someone-says":"Êúâ‰∫∫ËØ¥...","active-in-the-last-x-minutes":"ÊúÄËøë{minutes}ÂàÜÈíüÂÜÖÊ¥ªË∑É","active-in-the-last-hour":"ÊúÄËøë‰∏ÄÊ¨°Ê¥ªË∑ÉÊòØÂú®1Â∞èÊó∂Ââç","last-active-one-hour-ago":"ÊúÄËøë‰∏ÄÊ¨°Ê¥ªË∑ÉÊòØÂú®1Â∞èÊó∂Ââç","last-active-x-hours-ago":"ÊúÄËøë‰∏ÄÊ¨°Ê¥ªË∑ÉÊòØÂú®{hours}Â∞èÊó∂Ââç","last-active-one-day-ago":"ÊúÄËøë‰∏ÄÊ¨°Ê¥ªË∑ÉÊòØÂú®Êò®Â§©","last-active-x-days-ago":"ÊúÄËøë‰∏ÄÊ¨°Ê¥ªË∑ÉÊòØÂú®{days}Â§©Ââç","last-active-more-than-one-week-ago":"ÊúÄËøë‰∏ÄÊ¨°Ê¥ªË∑ÉÊòØÂú®1Âë®‰ª•Ââç","message-autoresponse":"ÂõûÂ§ç‰Ω†ÁöÑÊ∂àÊÅØÊó∂ÔºåÊàë‰ª¨Â∞Ü‰ºöÂú®ËøôÈáåÈÄöÁü•‰Ω†„ÄÇ","message-autoresponse-with-email":"ÂõûÂ§ç‰Ω†ÁöÑÊ∂àÊÅØÊó∂ÔºåÊàë‰ª¨Â∞Ü‰ºöÂú®ËøôÈáå‰ª•ÂèäÈÄöËøáÁîµÂ≠êÈÇÆ‰ª∂ÈÄöÁü•‰Ω†„ÄÇ"}}),define("i18n/zh-TW",[],function(){return{"language-name-en":"Chinese (Traditional)","language-name":"‰∏≠ÊñáÔºàÁπÅÈ´î)","new-message":"Êñ∞Ë®äÊÅØ","new-comment-placeholder":"Ëº∏ÂÖ•ÂõûË¶Ü","new-conversation-placeholder":"Ëº∏ÂÖ•Ë®äÊÅØ","no-conversations":"ÁÑ°Â∞çË©±",send:"ÈÄÅÂá∫","powered-by-intercom":"Áî± Intercom Êèê‰æõ",Xs:"ÁèæÂú®",Xm:"{delta}ÂàÜÈêòÂâç",Xh:"{delta}Â∞èÊôÇÂâç",Xd:"{delta}Â§©Ââç",Xw:"{delta}ÈÄ±Ââç",you:"ÊÇ®",delivered:"Â∑≤ÈÄÅÂá∫","anonymous-email-response":"Ë¨ùË¨ùÊÇ®ÔºåÊàëÂÄëÂõûË¶ÜÊôÇÊúÉÈÄèÈÅéÈõªÈÉµ ({email}) ÈÄöÁü•ÊÇ®„ÄÇ","anonymous-email-responder":"ËÆìÊàëÂÄëÈÄèÈÅéÈõªÈÉµÈÄöÁü•ÊÇ®„ÄÇ","your-email":"ÊÇ®ÁöÑÈõªÈÉµ",sending:"ÁôºÈÄÅ‰∏≠‚Ä¶",failed:"Â∞öÊú™ÈÄÅÂá∫„ÄÇË´ãÈªûÊìäÂÜçË©¶‰∏ÄÊ¨°„ÄÇ",uploading:"‰∏äËºâ‰∏≠",uploaded:"Â∑≤‰∏äËºâ","max-upload-size":"ÊúÄÂ§öÂèØ‰ª•‰∏äËºâ {number}MB","insert-emoji":"ÊèíÂÖ•Ë°®ÊÉÖÁ¨¶Ëôü","send-attachment":"ÁôºÈÄÅÈôÑ‰ª∂","press-enter-to-send":"ÊåâEnterÈçµÂç≥ÂèØÁôºÈÄÅ","not-seen-yet":"Êú™ËÆÄ",seen:"Â∑≤ËÆÄ","x-says":"{firstName} Ë™™...","someone-says":"Êüê‰∫∫Ë™™...","active-in-the-last-x-minutes":"ÈÅéÂéªÁöÑ{minutes}ÂàÜÈêòÈÉΩÂú®Á∑ö‰∏ä","active-in-the-last-hour":"Á∂≤‰∏äÁöÑÊúÄÂæå‰∏ÄÂ∞èÊôÇ","last-active-one-hour-ago":"‰∏äÊ¨°‰∏äÁ∑öÊôÇÈñìÁÇ∫1Â∞èÊôÇÂâç","last-active-x-hours-ago":"‰∏äÊ¨°‰∏äÁ∑öÊôÇÈñìÁÇ∫{hours}Â∞èÊôÇÂâç","last-active-one-day-ago":"‰∏äÊ¨°‰∏äÁ∑öÊôÇÈñìÁÇ∫Êò®Â§©","last-active-x-days-ago":"‰∏äÊ¨°‰∏äÁ∑öÊôÇÈñìÁÇ∫{days}Â§©Ââç","last-active-more-than-one-week-ago":"‰∏äÊ¨°‰∏äÁ∑öÊôÇÈñìÁÇ∫Ë∂ÖÈÅé‰∏ÄÊòüÊúüÂâç","message-autoresponse":"ÊàëÂÄëÂõûË¶ÜÊôÇÊúÉÂú®ÈÄôË£°ÈÄöÁü•ÊÇ®„ÄÇ","message-autoresponse-with-email":"ÊàëÂÄëÂõûË¶ÜÊôÇÊúÉÂú®ÈÄôË£°ÂèäÁôºÈÄÅÈõªÂ≠êÈÉµ‰ª∂ÈÄöÁü•ÊÇ®„ÄÇ"}}),define("initials",["jquery","underscore"],function(a,b){"use strict";return{firstInitial:function(c){return c=a.trim(c),b.isEmpty(c)?"?":c[0]}}}),define("installation",[],function(){"use strict";var a=require("jquery");return{hasInstallationQueryParameter:function(){return window.location.search.substring(1).match(/intercom-installation/)},listenForInstallationStartMessage:function(b){a(window).off("message.intercom-installation-start").on("message.intercom-installation-start",function(a){var c=a.originalEvent;"installation.start"===c.data&&(b(),c.source.postMessage("installation.started",c.origin))})},sendCloseMessageToParentWindow:function(){a(window).on("message.intercom-close",function(a){var b=a.originalEvent;b.source.postMessage("close",b.origin)})},successOverlay:function(){var b=a("<div />",{"class":"intercom-installation-icon"}),c=a("<h1 />",{"class":"intercom-installation-heading",text:"Intercom is successfully installed!"}),d=a("<p />",{"class":"intercom-installation-message",text:"Live user data is now being synced to Intercom."}),e=a("<p />",{"class":"intercom-installation-message",text:"Now you can make Intercom messenger visible by starting a free trial."}),f=a("<button />",{"class":"intercom-installation-button",text:"Next step",click:this.sendCloseMessageToParentWindow.bind(this)}),g=a("<div />",{"class":"intercom-installation-content"});g.append(b,c,d,e,f);var h=a("<div />",{"class":"intercom-installation-arrow"}),i=a("<div />",{"class":"intercom-installation-overlay"});return a("#intercom-launcher").off("click"),i.append(g,h)},fakePingResponse:{modules:{messages:{colors:{base:"#0071b2"},features:{contact_messaging:!0},use_activator:!0}}}}}),define("intercom",["sync"],function(){"use strict";function a(a,d,e){this.initialized=!1,this.ready=b.Deferred(),this.client=a,this.nexusClient=d,this.refreshConversations=c.bind(this.refreshConversations,this),this.throttledRefreshConversations=c.throttle(this.refreshConversations,x,{leading:!1}),this.settings=e,this.throttledClient=new s(this.client),this.poller=new r(this.client),this.conversations=new o,this.app=new p,b(document).keyup(c.bind(this.onKeyUp,this))}var b=require("jquery"),c=require("underscore"),d=require("backbone"),e=require("activity-monitor"),f=require("date"),g=require("audio"),h=require("i18n"),i=require("logger"),j=require("cookie"),k=require("navigation-events"),l=require("user-notifier"),m=require("activity-responder"),n=require("state-store"),o=require("collections/conversations"),p=require("models/app"),q=require("views/intercom"),r=require("poller"),s=require("throttler"),t=require("environment"),u=require("installation"),v=6e5,w=63072e4,x=6e4;return c.extend(a.prototype,d.Events,{initialize:function(a){if(!this.isInitialized()){i.info("intercom - Initializing"),this.settings.update(a||{});var b=j.read("intercom-id");void 0!==b&&this.settings.update({user:{anonymous_id:b}});var d=j.read("intercom-session");if(void 0!==d&&this.settings.get("user.anonymous")&&this.settings.update({anonymous_session:d}),!this.settings.isValid())return void i.error("intercom - Invalid settings");this.nexusClient.addListener("NewComment",c.bind(function(a){this.trigger("new-comment",a.eventData.conversationId)},this.client)),this.nexusClient.addListener("UserContentSeenByAdmin",c.bind(function(a){this.trigger("user-content-seen-by-admin",a.eventData.conversationId)},this.client)),this.view=new q({client:this.client,nexusClient:this.nexusClient,settings:this.settings,collection:this.conversations,app:this.app}),this.listenTo(this.client,"ping",this.onPingResponse),this.listenTo(this.client,"new-unread-conversation",this.onUnreadConversationAdded),this.listenTo(this.client,"new-comment",this.onNewComment),this.listenTo(this.client,"user-content-seen-by-admin",this.onUserContentSeenByAdmin),this.listenTo(k,"click:open",this.onLauncherClicked),this.listenTo(k,"click:conversations",this.showConversations),this.listenTo(k,"click:conversation",this.showConversation),this.listenTo(k,"click:new-conversation",this.showNewConversation),this.listenTo(k,"click:close",this.hide),this.listenTo(k,"click:minimize",this.minimize),t.runAll(),this.enableCustomLauncher(),this.throttledClient.reset(),this.poller.start(),e.start(),m.initialize(this.nexusClient),this.initialized=!0,this.createOrUpdateUser()}},deinitialize:function(){this.isInitialized()&&(i.info("intercom - Deinitializing"),this.ready.reject(),this.settings.reset(),this.conversations.reset(),this.stopListening(),this.disableCustomLauncher(),this.poller.stop(),e.stop(),n.clear(),j.clear("intercom-session","all","/"),this.remove(),this.initialized=!1,this.ready=b.Deferred())},createOrUpdateUser:function(a){return this.isInitialized()?(this.settings.update(a||{}),this.settings.isValid()?void this.throttledClient.throttledCreateOrUpdateUser():void i.error("intercom - Invalid settings")):void 0},show:function(a){this.showWhenReady(function(){this.view.isMinimized()?this.maximize(a):this.view.show(a)})},showConversations:function(){this.showWhenReady(function(){this.view.showConversations()})},showConversation:function(a){this.showWhenReady(function(){this.view.showConversation(a)})},showNewConversation:function(a){this.showWhenReady(function(){this.view.isMinimized()&&this.maximize(),this.view.showNewConversation(a)})},autoOpenConversation:function(a){this.showWhenReady(function(){this.view.autoOpenConversation(a)})},hide:function(){this.whenReady(function(){var a=this.isActive();this.view.hide(),a&&!this.isActive()&&this.trigger("hide")})},minimize:function(){this.whenReady(function(){this.view.minimize()})},maximize:function(a){this.whenReady(function(){this.view.maximize(a)})},add:function(a){this.whenReady(function(){b("body").append(this.view.render(a).$el),this.trigger("add")})},remove:function(){this.whenReady(function(){this.view.remove(),this.trigger("remove")})},createEvent:function(a,b){this.whenReady(function(){this.client.createEvent(a,b)})},enableCustomLauncher:function(){this.settings.has("launcher.selector")&&(this.disableCustomLauncher(),b(this.settings.get("launcher.selector")).on("click.intercom-launcher",c.bind(this.onCustomLauncherClicked,this)),i.info("intercom ‚Äì Enabled custom launcher: "+this.settings.get("launcher.selector")))},disableCustomLauncher:function(){this.settings.has("launcher.selector")&&b(this.settings.get("launcher.selector")).off("click.intercom-launcher")},isActive:function(){return this.isInitialized()&&this.view.isActive()},isInitialized:function(){return this.initialized},whenReady:function(a){return b.when(this.ready).then(c.bind(a,this))},showWhenReady:function(a){this.whenReady(function(){var b=this.isActive();c.bind(a,this)(),b||this.trigger("show")})},windowIsChild:function(){return null!==window.opener},redirectToInstallUrlIfPresent:function(){var a=this.settings.get("install.redirect-url"),c=this.settings.get("user.email");void 0!==a&&(void 0!==c&&(a=a+"?"+b.param({email:c})),i.info("intercom - Redirecting to install URL: "+a),this.redirectToUrl(a))},redirectToUrl:function(a){window.location.href=a},onLauncherClicked:function(a){this.show(a),this.trigger("click")},onCustomLauncherClicked:function(a){return a.preventDefault(),this.onLauncherClicked(),!1},onPingResponse:function(a){if(u.hasInstallationQueryParameter())this.settings.update(u.fakePingResponse),this.view.$el.append(u.successOverlay());else{if(u.listenForInstallationStartMessage(c.bind(function(){this.settings.update(u.fakePingResponse),this.view.$el.append(u.successOverlay()),this.onPingResponseBoot(a)},this)),a.type&&"error.list"===a.type)return void i.error("intercom - createOrUpdateUser failed");this.settings.update(a)}this.onPingResponseBoot(a)},onPingResponseBoot:function(a){"resolved"!==this.ready.state()&&this.onFirstPingResponse(a);var b=this.settings.get("user.anonymous-id");void 0!==b&&j.write("intercom-id",b,"all","/",new Date(f.now()+w));var c=this.settings.get("user.anonymous-session");void 0===c||this.settings.get("user.anonymous")||j.write("intercom-session",c,"all","/",new Date(f.now()+v)),a.app&&a.app.last_active&&this.app.set({last_active:a.app.last_active}),this.nexusClient.initialise(),this.trigger("ping")},onFirstPingResponse:function(a){var b=this.settings.get("user.locale");h.isSupportedLocale(b)?h.setLocale(b):i.error("intercom - Unknown locale '"+b+"'"),this.settings.get("app.audio-enabled")&&g.enable(),this.settings.get("app.rtm-enabled")&&l.enable();var c=a&&a.unread_conversation_ids&&a.unread_conversation_ids.length>0;this.add(c),this.windowIsChild()||this.redirectToInstallUrlIfPresent(),this.ready.resolve(),i.info("intercom - Initialized")},refreshConversations:function(a){this.view.refreshActiveConversation(a)||this.client.createOrUpdateUser()},refreshConversationsMaybeThrottled:function(a){this.settings.get("app.rtm-enabled")?this.refreshConversations(a):this.throttledRefreshConversations(a)},onUserContentSeenByAdmin:function(a){this.refreshConversationsMaybeThrottled(a)},onNewComment:function(a){this.refreshConversationsMaybeThrottled(a)},onUnreadConversationAdded:function(a){if(!this.view.refreshActiveConversation(a.id)){var b=this.conversations.add(a,{merge:!0});!this.isActive()&&b.autoOpen()&&this.autoOpenConversation(b)}},onKeyUp:function(a){0===b(".intercom-image-viewer").length&&this.isActive()&&!this.view.isMinimized()&&27===a.keyCode&&this.hide()}}),a}),define("json",["underscore","json2"],function(a,b){"use strict";function c(a){return a&&!("prototype"in a)}var d,e,f=a.isUndefined;f(window.JSON)||(d=window.JSON.stringify,e=window.JSON.parse);var g=c(d)&&c(Date.prototype.toJSON)&&f(String.prototype.toJSON)&&f(Number.prototype.toJSON)&&f(Boolean.prototype.toJSON)&&f(Array.prototype.toJSON),h=c(e);return{stringify:g?d:b.stringify,parse:h?e:b.parse}}),define("logger",[],function(){"use strict";function a(a,c){b+=(new Date).toString()+" "+a+" "+c+"\n"}var b="";return{info:function(b){a("INFO ",b)},error:function(b){a("ERROR",b)},getLines:function(){return b}}}),define("metrics",function(){"use strict";var a=require("underscore"),b=require("jquery"),c=require("logger"),d=require("date"),e=require("json"),f=require("store"),g="metrics";return{increment:function(b){c.info("metrics - increment "+b);var d=!1,e=this.getMetrics();a.each(e,function(a){"increment"===a.type&&a.name===b&&(a.value+=1,d=!0)}),d?this.saveMetrics(e):this.addMetric("increment",b,1)},timer:function(e){var f=d.now(),g=b.Deferred();return g.then(a.bind(function(){var a=d.now()-f;c.info("metrics - timing "+e+": "+a+"ms"),this.addMetric("timing",e,a)},this)),g},getMetrics:function(){return e.parse(f.localStorage.get(g)||"[]")},addMetric:function(a,b,c){var d=this.getMetrics();d.push({type:a,name:b,value:c}),this.saveMetrics(d)},saveMetrics:function(a){f.localStorage.set(g,e.stringify(a))},resetMetrics:function(){f.localStorage.removeAll(g)}}}),define("models/app",["underscore","backbone"],function(a,b){"use strict";var c=b.Model.extend();return c}),define("models/conversation",["underscore","backbone","models/part","collections/parts","collections/uploads","date","initials","interblocks","features"],function(a,b,c,d,e,f,g){"use strict";var h=1407334860,i=b.Model.extend({initialize:function(){this.parts=new d,this.on("change:conversation_message",this.onMessageChanged),this.on("change:conversation_parts",this.onPartsChanged),this.parts.add(this.get("conversation_message")),this.has("conversation_parts")&&this.parts.add(this.get("conversation_parts"),{parse:!0})},markAsRead:function(){this.isRead()||this.save({read:!0})},markAsUnread:function(){this.set({read:!1})},isRead:function(){return this.get("read")},isUnread:function(){return!this.get("read")},isChat:function(){return this.getMessage().isChat()},isAnnouncement:function(){return this.getMessage().isAnnouncement()},isSmallAnnouncement:function(){return this.getMessage().isSmallAnnouncement()},autoOpen:function(){return this.createdBeforeInAppsV2()?!1:this.getMessage().autoOpen()&&1===this.partsCount()&&this.isUnread()},lastAdminName:function(){var a=this.lastAdmin();if(a)return a.name},lastAdminFirstName:function(){var a=this.lastAdminName();if(a){var b=a.split(" ")[0];return b?b:a}},lastAdminAvatar:function(a){var b=this.lastAdmin();if(b)return b.avatar[a||"square_128"]},lastAdminInitials:function(){var a=this.lastAdmin();if(a)return g.firstInitial(a.name)},lastAdminActiveTimestamp:function(){var a=this.lastAdmin();if(a&&a.last_active_at)return 1e3*a.last_active_at},lastAdmin:function(){return this.get("last_participating_admin")},updateLastAdminActiveTimestamp:function(a){var b=this.lastAdmin();b&&(b.last_active_at=a)},hasAdminComment:function(){return a.any(this.getComments(),function(a){return a.byAdmin()})},preview:function(){return this.parts.lastNonLwrResponseBody()||""},previewText:function(){return this.preview().replace(/<br>/gi," ").replace(/(<([^>]+)>)/gi,"")},getMessage:function(){return this.parts.first()},getComments:function(){return this.parts.rest(1)},hasComments:function(){return this.parts.length>1},getLastComment:function(){return a.last(this.getComments())},createdAt:function(){return f.timestampToDate(this.get("created_at"))},updatedAt:function(){var a=this.parts.nonLwrResponses().last();return a.isMessage()?this.createdAt():a.updatedAt()},partsCount:function(){return this.get("parts_count")},onPartsChanged:function(){this.parts.set(this.get("conversation_parts"),{parse:!0,remove:!1})},onMessageChanged:function(){var a=this.getMessage();a?a.set(this.get("conversation_message")):this.parts.add(this.get("conversation_message"))},createdBeforeInAppsV2:function(){return this.get("created_at")<h},updatedBeforeInAppsV2:function(){return this.get("updated_at")<h},qualifiesForAutoResponse:function(){return this.getMessage().byUser()&&!this.hasAdminComment()},addPart:function(a){this.parts.add(a),this.trigger("change",this)},toJSON:function(){return{id:this.id,body:this.getMessage().get("body"),upload_ids:this.getMessage().get("uploads")?this.getMessage().get("uploads").pluck("id"):[]}}});return i.fromBodyAndUploads=function(b,c){return new i({conversation_message:{body:a.escape(b),uploads:new e(c)},read:!0})},i}),define("models/draft",function(){"use strict";function a(a){this.text=a}var b=require("underscore"),c=require("json");return a.prototype={getText:function(){return this.text},isEmpty:function(){return b.isEmpty(this.text)},toJSON:function(){return{text:this.text}}},a.fromJSON=function(d){if(!b.isUndefined(d)&&!b.isNull(d)){var e=c.parse(d);return new a(e.text)}},a}),define("models/part",function(){"use strict";var a=require("underscore"),b=require("jquery"),c=require("initials"),d=require("backbone"),e=require("collections/uploads"),f=require("date"),g=require("intermoji"),h=require("interblocks"),i=d.Model.extend({SEEN:"seen",UNSEEN:"unseen",initialize:function(){this.uploads=this.get("uploads")||new e(this.get("attachments")||[])},isMessage:function(){return"conversation_message"===this.get("type")},byAdmin:function(){var a=this.get("author");return a?a.is_admin:!1},isSeenByAdmin:function(){return this.get("seen_by_admin")===this.SEEN},shouldShowAdminSeenState:function(){return this.byUser()&&(this.get("seen_by_admin")===this.SEEN||this.get("seen_by_admin")===this.UNSEEN)},byUser:function(){return!this.byAdmin()},_bodyText:function(){return b.trim(b("<div>").append(this.body()).text())},isAsciiSticker:function(){return g.isSupportedAscii(this._bodyText())},isUnicodeSticker:function(){return g.isSupportedUnicode(this._bodyText())},isSticker:function(){return this.isAsciiSticker()||this.isUnicodeSticker()},getStickerData:function(){var a;return a=this.isUnicodeSticker()?this._bodyText():this.isAsciiSticker()?g.unicodeFromAscii(this._bodyText()):"‚ùì",{identifier:g.identifierFromUnicode(a),assetId:g.codepointIndexFromUnicode(a).toString(16).toLowerCase(),unicodeSticker:a}},isChat:function(){return 0===this.get("message_style")},isAnnouncement:function(){return 1===this.get("message_style")},isSmallAnnouncement:function(){return 2===this.get("message_style")},isUpload:function(){return this.byUser()&&a.isEmpty(this.get("body"))&&this.uploads.length>0},isImageUpload:function(){return this.isUpload()&&this.uploads.length===this.uploads.imageUploads().length},bodyIsImage:function(){return!1},isChatAutoMessage:function(){return this.isMessage()&&!this.get("show_created_at")},autoOpen:function(){return this.isAnnouncement()||this.isSmallAnnouncement()},body:function(){return this.isUpload()?"[Attachment]":this.sanitize(this.get("body")||"")},createdAt:function(){return f.timestampToDate(this.get("created_at"))},adminAvatar:function(a){return this.byAdmin()?(a=a||"square_128",this.get("author").avatar[a]):void 0},adminInitials:function(){return this.byAdmin()?c.firstInitial(this.get("author").name):void 0},isLwrMessage:function(){return this.get("lightweight_reply")&&!this.isLwrResponse()},isLwrResponse:function(){return"lightweight_reply_user_response"===this.get("part_type")},getLwrType:function(){return this.get("lightweight_reply").type},getLwrResponse:function(){return this.get("lightweight_reply").option},updatedAt:function(){return f.timestampToDate(this.get("updated_at"))},getAuthorFirstName:function(){var a=this.get("author");return a.first_name||a.name||a.email},getAuthorEmail:function(){var a=this.get("author");return a.email},sanitize:function(b){return b.replace(/(<script)/gi,a.escape("<script")).replace(/(<[/]script>)/gi,a.escape("</script>"))},renderedBody:function(){var a=this.get("blocks");return a&&h.supportsBlockRendering(a)?h.renderBlocks(a):this.body()},isVideoReply:function(){var b=this.get("blocks"),c=b&&a.find(b,function(a){return"videoReply"===a.type});return!!c},toJSON:function(){return{body:this.get("body"),reply_type:this.get("reply_type"),reply_option:this.get("reply_option"),conversation_id:this.get("conversation_id"),upload_ids:this.uploads.pluck("id")}}});return i.fromBodyAndUploads=function(b,c,d){return new i({body:a.escape(b),conversation_id:d.id,uploads:new e(c)})},i}),define("models/upload",["underscore","backbone","upload"],function(a,b,c){"use strict";var d=264,e=41943040,f=b.Model.extend({initialize:function(){this.file=this.get("file")},name:function(){return this.get("file_name")||this.get("name")},url:function(){return this.get("url")||this.get("public_url")},size:function(){return this.get("file_size")||this.get("filesize")||0},isTooBig:function(){return this.size()>e},content_type:function(){return this.get("content_type")},upload:function(){return c(this)},isImage:function(){return!!this.get("content_type").toLowerCase().match(/^image\//)},imageData:function(){return this.get("imageData")},hasDimensions:function(){return this.isImage()&&a.isNumber(this.naturalWidth())&&a.isNumber(this.naturalHeight())},naturalWidth:function(){return parseInt(this.get("width"),10)||null},naturalHeight:function(){return parseInt(this.get("height"),10)||null},scale:function(){return this.naturalWidth()>d?this.naturalWidth()/d:1},width:function(){return parseInt(this.naturalWidth()/this.scale(),10)},height:function(){return parseInt(this.naturalHeight()/this.scale(),10)},parse:function(a){var b=a.upload_url;return b&&(a.id=parseInt(b.match(/\/(\d+)$/)[1],10)),a},toJSON:function(){return{id:this.id,original_filename:this.name(),size_in_bytes:this.size(),content_type:this.content_type(),width:this.naturalWidth(),height:this.naturalHeight()}}});return f.fromFile=function(a){return new f({file_name:a.name,file_size:a.size,content_type:a.type,file:a})},f}),define("models/user",["underscore","backbone"],function(a,b){"use strict";var c=b.Model.extend({initialize:function(a,b){this.settings=b.settings},hasEmail:function(){return!a.isEmpty(this.getEmail())},getEmail:function(){return this.settings.get("user.email")||this.settings.get("user.anonymous-email")},updateAnonymousEmail:function(a){return this.settings.update({user:{anonymous_email:a}}),this.save()},fetchRealtimeSettingsIfMissing:function(){this.settings.get("user.anonymous")&&!this.settings.has("app.rtm-settings")&&this.fetch()}});return c.fromSettings=function(a){return new c({},{settings:a})},c}),define("navigation-events",function(){"use strict";var a=require("underscore"),b=require("backbone"),c={};return a.extend(c,b.Events),c.retrigger=function(a){return function(b){b.preventDefault(),b.stopPropagation(),c.trigger(a)}},c}),define("page-title",function(){"use strict";function a(a){h("head title").text(a)}function b(){return h("head title").text()}function c(){var c=b();a(e),e=c}var d,e,f,g=require("underscore"),h=require("jquery"),i=require("browser"),j=require("visibility");return{setNotification:function(h){i.features.visibility()&&(j.isPageVisible()||(d=d||b(),e=d,a(h),g.isUndefined(f)&&(f=setInterval(g.bind(function(){return j.isPageVisible()?void this.reset():void c()},this),3e3))))},reset:function(){clearInterval(f),f=void 0,a(d),d=void 0}}}),define("pjax",function(){"use strict";return function(a){var b=window.$;null!==b&&void 0!==b&&void 0!==b.pjax&&(b(document).on("pjax:click",".intercom-container a",function(a){a.preventDefault()}),b(document).on("pjax:success",function(){a.createOrUpdateUser()}))}}),define("poller",function(){"use strict";var a=require("underscore"),b=require("logger"),c=require("activity-monitor"),d=require("rtm-latency-monitor"),e=18e5,f=3,g=function(b,d){this.failures=0,this.options=a.defaults({},d,{interval:e,maxFailures:f}),this.client=b,this.running=!1,this.pollImmediatelyWhenNextActive=!1,c.onActive(a.bind(this.onActive,this))};return g.prototype={start:function(){return this.running?void b.info("poller - Already running."):(this.enqueue(),this.running=!0,void b.info("poller - Polling started"))},stop:function(){return this.running?(this.running=!1,void b.info("poller - Polling stopped")):void b.info("poller - Not running.")},update:function(){return this.running?this.isActive()?(d.invalidateLatencyData(),b.info("poller - Polling"),void this.client.createOrUpdateUser().fail(a.bind(function(){this.failures++},this)).always(a.bind(function(){this.failures>=this.options.maxFailures?b.info("poller - Max failures exceeded, stopping"):this.enqueue()},this))):(b.info("poller - User not active."),void(this.pollImmediatelyWhenNextActive=!0)):void b.info("poller - Not running.")},enqueue:function(){setTimeout(a.bind(this.update,this),this.options.interval)},isActive:function(){return c.isActive()},onActive:function(){this.pollImmediatelyWhenNextActive&&(this.pollImmediatelyWhenNextActive=!1,this.update())}},g}),define("preview",["jquery","underscore"],function(a,b){"use strict";function c(a,c){c=b.defaults({},c,{rows:2,overflow:"&hellip;"});var d=a.html(),e=a.height();a.text("a");var f=parseFloat(a.css("line-height"),10),g=a.height(),h=f>g?f-g:0,i=h*(c.rows-1)+g*c.rows;if(i>=e)return void a.html(d);for(var j=1,k=0,l=d.length;l>j;)k=Math.ceil((j+l)/2),a.html(d.slice(0,k)+c.overflow),a.height()<=i?j=k:l=k-1;a.html(d.slice(0,j)+c.overflow)}return a.fn.previewify=function(a){return c(this,a)},c}),define("previewer",function(){"use strict";function a(a){return""!==a.text().replace(/^\s+|\s+$/g,"")}function b(a){return 0!==a.find("img").length}function c(a){return 0!==a.find('iframe[src*="vimeo.com"],iframe[src*="wistia.net"],iframe[src*="youtube.com"]').length}var d=require("jquery"),e=require("i18n");return{isMetadataPreview:function(f){if(!e.isLocaleEnglish())return!1;var g=d("<p/>",{html:f});return!a(g)&&(b(g)||c(g))},preview:function(f){if(!e.isLocaleEnglish())return f;var g=d("<p/>",{html:f});return a(g)?f:b(g)?"(image attached)":c(g)?"(video attached)":""}}}),define("rtm-latency-monitor",["exports","underscore"],function(a,b){"use strict";var c={},d=!1;a.onNewComment=function(a){var e=a.eventData;if(e&&e.conversationId&&e.adminTimestamp&&e.adminTabId)return b.has(c,e.conversationId)?void(d=!0):void(c[e.conversationId]=b.pick(e,["adminTimestamp","adminTabId"]))},a.invalidateLatencyData=function(){c={}},a.popLatencyDataForConversation=function(a){var e={};return!d&&b.has(c,a)&&(e=c[a],delete c[a]),e},a.disable=function(){d=!0},a.reset=function(){a.invalidateLatencyData(),d=!1}}),define("settings",function(){"use strict";function a(a){this.settings=p.clone(a||{})}function b(a){var b=d(a,"app.name");return b.indexOf(/team/gi)<0&&r.isLocaleEnglish()?b+" Team":b}function c(a){return void 0===d(a,"user_id")&&void 0===d(a,"email")}function d(a,b){return p.reduce(b.split("."),function(a,b){return p.isObject(a)?a[b]:void 0
},a)}function e(a){return p.chain(a).keys().reject(function(b){return(p.isArray(a[b])||p.isObject(a[b])||p.contains(t,b))&&!p.contains(u,b)}).value()}function f(a){return p.pick(a,e(a))}function g(a){var b=d(a,"widget.activator");if(!p.include(s,b))return b}function h(a){if(m(a,"messages"))return!1;var b=d(a,"widget.activator"),c=d(a,"modules.messages.use_activator");return void 0===c?"#IntercomDefaultWidget"===b:c===!0&&("#IntercomDefaultWidget"===b||0===o(b).length)&&(i(a)||j(a))}function i(a){return c(a)?d(a,"modules.messages.features.contact_messaging")===!0:d(a,"modules.messages.features.inbound_messages")===!0}function j(a){return d(a,"modules.messages.features.outbound_messages")!==!1}function k(a){return d(a,"modules.messages.features.rtm")===!0}function l(a){var b=d(a,"modules.rtm");return p.isEmpty(b)?void 0:b}function m(a,b){var c=d(a,"disable_modules");return void 0!==c&&p.contains(c,b)}function n(a){var b=d(a,"app.last_active");return p.isNumber(b)?1e3*b:void 0}var o=require("jquery"),p=require("underscore"),q=require("logger"),r=require("i18n");a.prototype={get:function(a){switch(a){case"app.id":return d(this.settings,"app_id");case"app.name":return b(this.settings);case"app.locale":return d(this.settings,"app.locale");case"app.branding-enabled":return d(this.settings,"app.show_powered_by");case"app.color":return d(this.settings,"modules.messages.colors.base");case"app.message":return d(this.settings,"app.message");case"app.inbound-messaging-enabled":return i(this.settings);case"app.outbound-messaging-enabled":return j(this.settings);case"app.messaging-disabled":return m(this.settings,"messages");case"app.powered-by-text":return d(this.settings,"app.powered_by_variant");case"app.powered-by-id":return d(this.settings,"app.powered_by_variant_id");case"app.rtm-enabled":return k(this.settings);case"app.rtm-settings":return l(this.settings);case"app.auto-response":return d(this.settings,"app.auto_response");case"app.audio-enabled":return d(this.settings,"app.audio_enabled");case"app.active-admins":return d(this.settings,"app.active_admins");case"app.feature-flags":return d(this.settings,"app.feature_flags")||[];case"user.id":return d(this.settings,"user_id")||d(this.settings,"user_data.user_id");case"user.intercom-id":return d(this.settings,"user.id");case"user.email":return d(this.settings,"email")||d(this.settings,"user_data.email");case"user.hash":return d(this.settings,"user_hash")||d(this.settings,"user_data.user_hash");case"user.anonymous":return c(this.settings);case"user.anonymous-id":return d(this.settings,"user.anonymous_id");case"user.anonymous-email":return d(this.settings,"user.anonymous_email");case"user.anonymous-session":return d(this.settings,"anonymous_session");case"user.locale":return d(this.settings,"user.locale");case"launcher.selector":return g(this.settings);case"launcher.enabled":return h(this.settings);case"increments":return d(this.settings,"increments");case"install.redirect-url":return d(this.settings,"modules.install.complete_install_url");case"team.last-active":return n(this.settings)}},has:function(a){return void 0!==this.get(a)},isValid:function(){return this.has("app.id")},update:function(a){p.isObject(a)?o.extend(!0,this.settings,a):q.error("Unable to update settings")},getCustomAttributes:function(){return f(this.settings)},reset:function(){this.settings={}},getAndClear:function(a){var b=this.get(a);return delete this.settings[a],b}};var s=["#IntercomDefaultWidget","body"],t=["app_id","user_id","email","user_hash","modules","disable_modules","widget","inert","fake_message_response","increments","anonymous_session"],u=["custom_data","company","companies"];return a}),define("state-store",function(){"use strict";var a=require("underscore"),b=require("store"),c=require("json");return{save:function(d){b.sessionStorage.set("state",c.stringify(a.extend(this.load()||{},d)))},load:function(){try{return c.parse(b.sessionStorage.get("state"))}catch(a){}},clear:function(){b.sessionStorage.remove("state")}}}),define("store",["underscore","browser"],function(a,b){"use strict";function c(){return{get:a.noop,set:a.noop,remove:a.noop,removeAll:a.noop}}function d(b){return{get:function(a){return b.getItem(e+a)},set:function(a,c){return b.setItem(e+a,c||"")},remove:function(a){b.removeItem(e+a)},removeAll:function(c){if(a.isString(c))for(var d in b)0===d.indexOf(e+c)&&b.removeItem(d)}}}var e="intercom.";return{localStorage:b.features.localStorage()?d(localStorage):c(),sessionStorage:b.features.sessionStorage()?d(sessionStorage):c()}}),define("stylesheet",["color"],function(a){"use strict";return function(b,c){var d=a.lighten(c,20),e=a.darken(c,20),f=a.darken(c,40),g=require(b);return g=g.replace(/custom-color-light/g,d),g=g.replace(/custom-color-darker/g,f),g=g.replace(/custom-color-dark/g,e),g=g.replace(/custom-color/g,c)}}),define("stylesheets/intercom",[],function(){return'@charset "UTF-8";\n#intercom-container .intercom-sheet-loading .intercom-sheet-spinner, #intercom-container .intercom-conversations-fetching .intercom-conversations-spinner {\n  background-image: url(https://js.intercomcdn.com/images/spinner.png) /* noembed */;\n  background-size: 28px 28px;\n  background-repeat: no-repeat;\n  display: block;\n  width: 28px;\n  height: 28px; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container .intercom-sheet-loading .intercom-sheet-spinner, #intercom-container .intercom-conversations-fetching .intercom-conversations-spinner {\n      background-image: url(https://js.intercomcdn.com/images/spinner@2x.png) /* noembed */; } }\n\n.intercom-reset div, .intercom-reset span, .intercom-reset applet, .intercom-reset object, .intercom-reset iframe, .intercom-reset h1, .intercom-reset h2, .intercom-reset h3, .intercom-reset h4, .intercom-reset h5, .intercom-reset h6, .intercom-reset p, .intercom-reset blockquote, .intercom-reset pre, .intercom-reset a, .intercom-reset abbr, .intercom-reset acronym, .intercom-reset address, .intercom-reset big, .intercom-reset cite, .intercom-reset code, .intercom-reset del, .intercom-reset dfn, .intercom-reset em, .intercom-reset img, .intercom-reset ins, .intercom-reset kbd, .intercom-reset q, .intercom-reset s, .intercom-reset samp, .intercom-reset small, .intercom-reset strike, .intercom-reset strong, .intercom-reset sub, .intercom-reset sup, .intercom-reset tt, .intercom-reset var, .intercom-reset b, .intercom-reset u, .intercom-reset i, .intercom-reset center, .intercom-reset dl, .intercom-reset dt, .intercom-reset dd, .intercom-reset ol, .intercom-reset ul, .intercom-reset li, .intercom-reset fieldset, .intercom-reset form, .intercom-reset div.form, .intercom-reset label, .intercom-reset legend, .intercom-reset table, .intercom-reset caption, .intercom-reset tbody, .intercom-reset tfoot, .intercom-reset thead, .intercom-reset tr, .intercom-reset th, .intercom-reset td, .intercom-reset article, .intercom-reset aside, .intercom-reset canvas, .intercom-reset details, .intercom-reset figcaption, .intercom-reset figure, .intercom-reset footer, .intercom-reset header, .intercom-reset hgroup, .intercom-reset menu, .intercom-reset nav, .intercom-reset section, .intercom-reset summary, .intercom-reset time, .intercom-reset mark, .intercom-reset audio, .intercom-reset video, .intercom-reset button, .intercom-reset textarea, .intercom-reset input, .intercom-reset input[type] {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size-adjust: none;\n  font-size: 100%;\n  font-style: normal;\n  letter-spacing: normal;\n  font-stretch: normal;\n  font-variant: normal;\n  font-weight: normal;\n  font: normal normal 100% "Helvetica Neue", Helvetica, Arial, sans-serif;\n  text-align: left;\n  -moz-text-align-last: initial;\n       text-align-last: initial;\n  text-decoration: none;\n  -webkit-text-emphasis: none;\n          text-emphasis: none;\n  text-height: auto;\n  text-indent: 0;\n  text-justify: auto;\n  text-outline: none;\n  text-shadow: none;\n  text-transform: none;\n  text-wrap: normal;\n  alignment-adjust: auto;\n  alignment-baseline: baseline;\n  -webkit-animation: none 0 ease 0 1 normal;\n          animation: none 0 ease 0 1 normal;\n  -webkit-animation-play-state: running;\n          animation-play-state: running;\n  appearance: normal;\n  azimuth: center;\n  -webkit-backface-visibility: visible;\n          backface-visibility: visible;\n  background: none 0 0 auto repeat scroll padding-box transparent;\n  background-color: transparent;\n  background-image: none;\n  baseline-shift: baseline;\n  binding: none;\n  bleed: 6pt;\n  bookmark-label: content();\n  bookmark-level: none;\n  bookmark-state: open;\n  bookmark-target: none;\n  border: 0 none transparent;\n  border-radius: 0;\n  bottom: auto;\n  box-align: stretch;\n  -webkit-box-decoration-break: slice;\n          box-decoration-break: slice;\n  box-direction: normal;\n  box-flex: 0.0;\n  box-flex-group: 1;\n  box-lines: single;\n  box-ordinal-group: 1;\n  box-orient: inline-axis;\n  box-pack: start;\n  box-shadow: none;\n  box-sizing: content-box;\n  -webkit-break-after: auto;\n     -moz-break-after: auto;\n          break-after: auto;\n  -webkit-break-before: auto;\n     -moz-break-before: auto;\n          break-before: auto;\n  -webkit-column-break-inside: auto;\n     page-break-inside: auto;\n          break-inside: auto;\n  caption-side: top;\n  clear: none;\n  clip: auto;\n  color: inherit;\n  color-profile: auto;\n  -webkit-column-count: auto;\n     -moz-column-count: auto;\n          column-count: auto;\n  -webkit-column-fill: balance;\n     -moz-column-fill: balance;\n          column-fill: balance;\n  -webkit-column-gap: normal;\n     -moz-column-gap: normal;\n          column-gap: normal;\n  -webkit-column-rule: medium medium #1f1f1f;\n     -moz-column-rule: medium medium #1f1f1f;\n          column-rule: medium medium #1f1f1f;\n  -webkit-column-span: 1;\n     -moz-column-span: 1;\n          column-span: 1;\n  -webkit-column-width: auto;\n     -moz-column-width: auto;\n          column-width: auto;\n  -webkit-columns: auto auto;\n     -moz-columns: auto auto;\n          columns: auto auto;\n  content: normal;\n  counter-increment: none;\n  counter-reset: none;\n  crop: auto;\n  cursor: auto;\n  direction: ltr;\n  display: inline;\n  dominant-baseline: auto;\n  drop-initial-after-adjust: text-after-edge;\n  drop-initial-after-align: baseline;\n  drop-initial-before-adjust: text-before-edge;\n  drop-initial-before-align: caps-height;\n  drop-initial-size: auto;\n  drop-initial-value: initial;\n  elevation: level;\n  empty-cells: show;\n  fit: fill;\n  fit-position: 0% 0%;\n  float: none;\n  float-offset: 0 0;\n  grid-columns: none;\n  grid-rows: none;\n  hanging-punctuation: none;\n  height: auto;\n  hyphenate-after: auto;\n  hyphenate-before: auto;\n  hyphenate-character: auto;\n  hyphenate-lines: no-limit;\n  hyphenate-resource: none;\n  -webkit-hyphens: manual;\n     -moz-hyphens: manual;\n      -ms-hyphens: manual;\n          hyphens: manual;\n  icon: auto;\n  image-orientation: auto;\n  image-rendering: auto;\n  image-resolution: normal;\n  inline-box-align: last;\n  left: auto;\n  line-height: inherit;\n  line-stacking: inline-line-height exclude-ruby consider-shifts;\n  list-style: disc outside none;\n  margin: 0;\n  marks: none;\n  marquee-direction: forward;\n  marquee-loop: 1;\n  marquee-play-count: 1;\n  marquee-speed: normal;\n  marquee-style: scroll;\n  max-height: none;\n  max-width: none;\n  min-height: 0;\n  min-width: 0;\n  move-to: normal;\n  nav-down: auto;\n  nav-index: auto;\n  nav-left: auto;\n  nav-right: auto;\n  nav-up: auto;\n  opacity: 1;\n  orphans: 2;\n  outline: invert none medium;\n  outline-offset: 0;\n  overflow: visible;\n  overflow-style: auto;\n  padding: 0;\n  page: auto;\n  page-break-after: auto;\n  page-break-before: auto;\n  page-break-inside: auto;\n  page-policy: start;\n  -webkit-perspective: none;\n          perspective: none;\n  -webkit-perspective-origin: 50% 50%;\n          perspective-origin: 50% 50%;\n  position: static;\n  presentation-level: 0;\n  punctuation-trim: none;\n  quotes: none;\n  rendering-intent: auto;\n  resize: none;\n  right: auto;\n  rotation: 0;\n  rotation-point: 50% 50%;\n  ruby-align: auto;\n  ruby-overhang: none;\n  ruby-position: before;\n  ruby-span: none;\n  size: auto;\n  string-set: none;\n  table-layout: auto;\n  top: auto;\n  -webkit-transform: none;\n      -ms-transform: none;\n          transform: none;\n  -webkit-transform-origin: 50% 50% 0;\n      -ms-transform-origin: 50% 50% 0;\n          transform-origin: 50% 50% 0;\n  -webkit-transform-style: flat;\n          transform-style: flat;\n  transition: all 0 ease 0;\n  unicode-bidi: normal;\n  vertical-align: baseline;\n  white-space: normal;\n  white-space-collapse: collapse;\n  widows: 2;\n  width: auto;\n  word-break: normal;\n  word-spacing: normal;\n  word-wrap: normal;\n  z-index: auto;\n  text-align: start;\n  /* And disable MS gradients */\n  filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale; }\n.intercom-reset address, .intercom-reset blockquote, .intercom-reset dd, .intercom-reset div, .intercom-reset dl, .intercom-reset dt, .intercom-reset fieldset, .intercom-reset form, .intercom-reset div.form, .intercom-reset frame, .intercom-reset frameset, .intercom-reset h1, .intercom-reset h2, .intercom-reset h3, .intercom-reset h4, .intercom-reset h5, .intercom-reset h6, .intercom-reset noframes, .intercom-reset ol, .intercom-reset p, .intercom-reset ul, .intercom-reset center, .intercom-reset dir, .intercom-reset hr, .intercom-reset menu, .intercom-reset pre, .intercom-reset article, .intercom-reset aside, .intercom-reset canvas, .intercom-reset details, .intercom-reset figcaption, .intercom-reset figure, .intercom-reset footer, .intercom-reset header, .intercom-reset hgroup, .intercom-reset menu, .intercom-reset nav, .intercom-reset section, .intercom-reset summary {\n  display: block; }\n.intercom-reset li {\n  display: list-item; }\n.intercom-reset table {\n  display: table; }\n.intercom-reset tr {\n  display: table-row; }\n.intercom-reset thead {\n  display: table-header-group; }\n.intercom-reset tbody {\n  display: table-row-group; }\n.intercom-reset tfoot {\n  display: table-footer-group; }\n.intercom-reset col {\n  display: table-column; }\n.intercom-reset colgroup {\n  display: table-column-group; }\n.intercom-reset td, .intercom-reset th {\n  display: table-cell; }\n.intercom-reset caption {\n  display: table-caption; }\n.intercom-reset input, .intercom-reset select {\n  display: inline-block; }\n.intercom-reset b, .intercom-reset strong {\n  font-weight: bold; }\n.intercom-reset b > i, .intercom-reset strong > i, .intercom-reset b > em, .intercom-reset strong > em, .intercom-reset i > b, .intercom-reset i > strong, .intercom-reset em > b, .intercom-reset em > strong {\n  font-weight: bold;\n  font-style: italic; }\n.intercom-reset textarea, .intercom-reset input {\n  cursor: text; }\n  .intercom-reset textarea::-webkit-input-placeholder, .intercom-reset input::-webkit-input-placeholder {\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size-adjust: none;\n    font-size: 100%;\n    font-style: normal;\n    letter-spacing: normal;\n    font-stretch: normal;\n    font-variant: normal;\n    font-weight: normal;\n    font: normal normal 100% "Helvetica Neue", Helvetica, Arial, sans-serif;\n    text-align: left;\n    text-align-last: initial;\n    text-decoration: none;\n    -webkit-text-emphasis: none;\n            text-emphasis: none;\n    text-height: auto;\n    text-indent: 0;\n    text-justify: auto;\n    text-outline: none;\n    text-shadow: none;\n    text-transform: none;\n    text-wrap: normal;\n    background-color: inherit;\n    color: inherit; }\n  .intercom-reset textarea::-moz-placeholder, .intercom-reset input::-moz-placeholder {\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size-adjust: none;\n    font-size: 100%;\n    font-style: normal;\n    letter-spacing: normal;\n    font-stretch: normal;\n    font-variant: normal;\n    font-weight: normal;\n    font: normal normal 100% "Helvetica Neue", Helvetica, Arial, sans-serif;\n    text-align: left;\n    -moz-text-align-last: initial;\n         text-align-last: initial;\n    text-decoration: none;\n    text-emphasis: none;\n    text-height: auto;\n    text-indent: 0;\n    text-justify: auto;\n    text-outline: none;\n    text-shadow: none;\n    text-transform: none;\n    text-wrap: normal;\n    background-color: inherit;\n    color: inherit; }\n  .intercom-reset textarea:-ms-input-placeholder, .intercom-reset input:-ms-input-placeholder {\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size-adjust: none;\n    font-size: 100%;\n    font-style: normal;\n    letter-spacing: normal;\n    font-stretch: normal;\n    font-variant: normal;\n    font-weight: normal;\n    font: normal normal 100% "Helvetica Neue", Helvetica, Arial, sans-serif;\n    text-align: left;\n    text-align-last: initial;\n    text-decoration: none;\n    text-emphasis: none;\n    text-height: auto;\n    text-indent: 0;\n    text-justify: auto;\n    text-outline: none;\n    text-shadow: none;\n    text-transform: none;\n    text-wrap: normal;\n    background-color: inherit;\n    color: inherit; }\n  .intercom-reset textarea::-moz-selection, .intercom-reset input::-moz-selection {\n    background-color: #b3d4fc; }\n  .intercom-reset textarea::selection, .intercom-reset input::selection {\n    background-color: #b3d4fc; }\n  .intercom-reset textarea::-moz-selection, .intercom-reset input::-moz-selection {\n    background-color: #b3d4fc; }\n.intercom-reset input[type=checkbox], .intercom-reset input[type=radio] {\n  cursor: default; }\n.intercom-reset a, .intercom-reset a *, .intercom-reset a span, .intercom-reset button, .intercom-reset button *, .intercom-reset button span, .intercom-reset input[type=submit], .intercom-reset input[type=reset] {\n  cursor: pointer; }\n.intercom-reset a:link, .intercom-reset a:visited, .intercom-reset a:hover, .intercom-reset a:active {\n  color: inherit;\n  background: transparent;\n  text-shadow: none; }\n.intercom-reset button::-moz-focus-inner {\n  border: 0;\n  padding: 0; }\n.intercom-reset iframe {\n  max-width: 100%; }\n\n#intercom-container .intercom-conversations-new-conversation-button, #intercom-container .intercom-announcement-body-container a.intercom-h2b-button, #intercom-container .intercom-small-announcement-body-container a.intercom-h2b-button, #intercom-container .intercom-new-anonymous-user input[type="submit"], #intercom-container .intercom-composer-send-button {\n  box-shadow: inset 0 1px 0px 0 rgba(255, 255, 255, 0.17);\n  background: custom-color;\n  background-image: linear-gradient(to bottom, custom-color-light, custom-color);\n  border-radius: 3px;\n  text-shadow: 0 -1px rgba(0, 0, 0, 0.2);\n  text-decoration: none;\n  font-size: 14px;\n  line-height: 25px;\n  padding: 0 9px;\n  display: inline-block;\n  color: white;\n  border: 1px solid custom-color-dark; }\n  #intercom-container .intercom-conversations-new-conversation-button:hover, #intercom-container .intercom-announcement-body-container a.intercom-h2b-button:hover, #intercom-container .intercom-small-announcement-body-container a.intercom-h2b-button:hover, #intercom-container .intercom-new-anonymous-user input[type="submit"]:hover, #intercom-container .intercom-composer-send-button:hover {\n    background: custom-color-dark;\n    background-image: linear-gradient(to bottom, custom-color, custom-color-dark);\n    border-color: custom-color-darker; }\n  #intercom-container .intercom-conversations-new-conversation-button:active, #intercom-container .intercom-announcement-body-container a.intercom-h2b-button:active, #intercom-container .intercom-small-announcement-body-container a.intercom-h2b-button:active, #intercom-container .intercom-new-anonymous-user input[type="submit"]:active, #intercom-container .intercom-composer-send-button:active {\n    background: custom-color-darker;\n    border-color: custom-color-darker; }\n  #intercom-container .intercom-conversations-new-conversation-button:disabled, #intercom-container .intercom-announcement-body-container a.intercom-h2b-button:disabled, #intercom-container .intercom-small-announcement-body-container a.intercom-h2b-button:disabled, #intercom-container .intercom-new-anonymous-user input[type="submit"]:disabled, #intercom-container .intercom-composer-send-button:disabled {\n    box-shadow: 0 1px 1px 0 rgba(255, 255, 255, 0.11), inset 0px 0px 1px 1px rgba(255, 255, 255, 0.08);\n    background: #acbbc2;\n    background-image: linear-gradient(to bottom, #b6c5cb, #acbbc2);\n    border-color: #a0aeb4; }\n\n#intercom-container .intercom-conversations-new-conversation-button {\n  padding: 2px 12px;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 30px; }\n\n@media print {\n  #intercom-container {\n    display: none; } }\n\n#intercom-container .intercom-launcher {\n  z-index: 2147483000;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 48px;\n  height: 48px;\n  visibility: hidden;\n  -webkit-transform: translateZ(0); }\n#intercom-container .intercom-launcher-enabled {\n  visibility: visible; }\n#intercom-container .intercom-launcher-inactive {\n  visibility: hidden; }\n#intercom-container .intercom-launcher-preview, #intercom-container .intercom-launcher-badge, #intercom-container .intercom-launcher-initials {\n  opacity: 0;\n  visibility: hidden; }\n#intercom-container .intercom-launcher-inactive.intercom-launcher-maximized {\n  opacity: 1;\n  visibility: visible; }\n#intercom-container .intercom-launcher-inactive.intercom-launcher-minimized {\n  opacity: 0; }\n#intercom-container .intercom-launcher-maximized.intercom-launcher-with-preview, #intercom-container .intercom-launcher-active.intercom-launcher-with-preview {\n  width: 330px; }\n#intercom-container .intercom-launcher-maximized.intercom-launcher-with-preview .intercom-launcher-preview, #intercom-container .intercom-launcher-active.intercom-launcher-with-preview .intercom-launcher-preview {\n  opacity: 1;\n  visibility: visible; }\n#intercom-container .intercom-launcher-maximized.intercom-launcher-with-badge .intercom-launcher-badge, #intercom-container .intercom-launcher-active.intercom-launcher-with-badge .intercom-launcher-badge {\n  opacity: 1;\n  visibility: visible; }\n#intercom-container .intercom-launcher-maximized.intercom-launcher-with-initials .intercom-launcher-initials, #intercom-container .intercom-launcher-active.intercom-launcher-with-initials .intercom-launcher-initials {\n  opacity: 1;\n  visibility: visible; }\n#intercom-container .intercom-launcher.intercom-launcher-with-avatar .intercom-launcher-button {\n  border-width: 0;\n  background-size: 48px 48px; }\n#intercom-container .intercom-launcher-active.intercom-launcher-with-message .intercom-launcher-button {\n  visibility: visible; }\n#intercom-container .intercom-launcher-button {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAQAAABuvaSwAAAAzElEQVR4AY3Kr0qDcRSA4bNgmUkZSyr2YVkWwTtYEZNFxLQ0wajZZrJ4AcIQ1O4fLHoFpkXTTDIXNoQ9RtEf+p3nrW9EaLk28p+RKy0R2sYyxtrhTtZtmMiahNKbvgtDhXLumxdC3WX1vKTh2aOGBZ9V86kHsCl8VM1wb1fNBpl51Zxtw9y8Yg1y845efkZ+XrdFKcyU9hwqzcJA1iB0ZXVDzbGpKlNHaiGEpo6ed8CrA/s/6mgKEb47By+WRdnv+QxPFkVmPnGjLv7uC9s8WoTqo+lHAAAAAElFTkSuQmCC") /* embed */;\n  background-size: 22px 22px;\n  background-repeat: no-repeat;\n  border-radius: 50%;\n  border-style: solid;\n  border-width: 1px;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  width: 48px;\n  height: 48px;\n  cursor: pointer;\n  background-position: center;\n  background-color: custom-color;\n  border-color: custom-color-darker; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container .intercom-launcher-button {\n      background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAQAAAC0jZKKAAABnklEQVR4AdXOP2gUdgDF8acnElQSEOuSbhUd1CEB0UDQQQiIZBNFUTDgkkEwgqPgqDgGgzjoEhd10kgG/4xOIbTQXKF0aEoqKMYhWXpG83EIx8ER5Jr73ZDP27+81Ok3rqpmo2qqxvXJ2iKi26RVJayatKse7vGrkn73k0RMKe2lxGmdcCqe6YQn8V4nLMQ3nfA1OiRaUTPpogHHXfbUl1LhGftEY/vNlAjP6ZGm9ai2Hx4WUXHVC89dEhFD7Yd7RVxXd17EVp/bDY+KPT6oeyAiqu2GmbOoYUzElvYeN1t233YRRykVfmfANhFR8bpc+KSszU6PKRceFLHXmHnKh0dhk4SHRdwsH/7DGSMWi4frNlF4yi/6/VY+/LOI4fLhYyKuaFHUtOYfN9yypDX/xV864c+4pxPG45AVpa04GHFHabclouKRkh6qSKxtxL9KWDAiIlFfl3MmTHvjk/UsmfXqB5s24awuaYSb1+2tZnftkP+zWG8nNLDqmkiJ8GENNRekVLhP3bIhKRceBHx0RMqH/3ZAyoZ3mzerVza+70aAaX0tAGh+AAAAAElFTkSuQmCC") /* embed */; } }\n#intercom-container.intercom-acquire .intercom-launcher-button {\n  background-image: url(https://js.intercomcdn.com/images/acquire.png) /* noembed */;\n  background-size: 22px 22px;\n  background-repeat: no-repeat; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container.intercom-acquire .intercom-launcher-button {\n      background-image: url(https://js.intercomcdn.com/images/acquire@2x.png) /* noembed */; } }\n#intercom-container.intercom-learn .intercom-launcher-button {\n  background-image: url(https://js.intercomcdn.com/images/inbox.png) /* noembed */;\n  background-size: 22px 20px;\n  background-repeat: no-repeat; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container.intercom-learn .intercom-launcher-button {\n      background-image: url(https://js.intercomcdn.com/images/inbox@2x.png) /* noembed */; } }\n#intercom-container .intercom-launcher-maximized .intercom-launcher-button {\n  background-image: url(https://js.intercomcdn.com/images/icon-launcher-minimized.png) /* noembed */;\n  background-size: 22px 22px;\n  background-repeat: no-repeat; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container .intercom-launcher-maximized .intercom-launcher-button {\n      background-image: url(https://js.intercomcdn.com/images/icon-launcher-minimized@2x.png) /* noembed */; } }\n#intercom-container .intercom-launcher-badge {\n  border-radius: 50%;\n  font-size: 12px;\n  line-height: 18px;\n  background-color: #ff3c00;\n  text-align: center;\n  color: white;\n  position: absolute;\n  width: 18px;\n  height: 18px;\n  top: 0;\n  right: -7px;\n  cursor: pointer; }\n#intercom-container .intercom-launcher-initials {\n  border-radius: 50%;\n  font-size: 22px;\n  line-height: 48px;\n  color: #fff;\n  background-color: custom-color;\n  font-weight: bold;\n  text-align: center;\n  cursor: pointer; }\n#intercom-container .intercom-launcher-preview {\n  font-size: 14px;\n  font-weight: 400;\n  color: #455A64;\n  line-height: 20px;\n  position: absolute;\n  bottom: 2px;\n  right: 60px;\n  max-width: 240px;\n  padding: 12px 14px;\n  color: #333333;\n  border-radius: 10px;\n  background: white;\n  cursor: pointer; }\n  #intercom-container .intercom-launcher-preview .intercom-comment-body {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px; }\n  #intercom-container .intercom-launcher-preview p, #intercom-container .intercom-launcher-preview ul, #intercom-container .intercom-launcher-preview ol, #intercom-container .intercom-launcher-preview blockquote, #intercom-container .intercom-launcher-preview h1, #intercom-container .intercom-launcher-preview h2, #intercom-container .intercom-launcher-preview h3, #intercom-container .intercom-launcher-preview h4, #intercom-container .intercom-launcher-preview h5, #intercom-container .intercom-launcher-preview h6, #intercom-container .intercom-launcher-preview a, #intercom-container .intercom-launcher-preview .intercom-container, #intercom-container .intercom-launcher-preview code {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px;\n    word-wrap: break-word;\n    margin: 20px 0; }\n    #intercom-container .intercom-launcher-preview p:first-child, #intercom-container .intercom-launcher-preview ul:first-child, #intercom-container .intercom-launcher-preview ol:first-child, #intercom-container .intercom-launcher-preview blockquote:first-child, #intercom-container .intercom-launcher-preview h1:first-child, #intercom-container .intercom-launcher-preview h2:first-child, #intercom-container .intercom-launcher-preview h3:first-child, #intercom-container .intercom-launcher-preview h4:first-child, #intercom-container .intercom-launcher-preview h5:first-child, #intercom-container .intercom-launcher-preview h6:first-child, #intercom-container .intercom-launcher-preview a:first-child, #intercom-container .intercom-launcher-preview .intercom-container:first-child, #intercom-container .intercom-launcher-preview code:first-child {\n      margin-top: 0; }\n    #intercom-container .intercom-launcher-preview p:last-child, #intercom-container .intercom-launcher-preview ul:last-child, #intercom-container .intercom-launcher-preview ol:last-child, #intercom-container .intercom-launcher-preview blockquote:last-child, #intercom-container .intercom-launcher-preview h1:last-child, #intercom-container .intercom-launcher-preview h2:last-child, #intercom-container .intercom-launcher-preview h3:last-child, #intercom-container .intercom-launcher-preview h4:last-child, #intercom-container .intercom-launcher-preview h5:last-child, #intercom-container .intercom-launcher-preview h6:last-child, #intercom-container .intercom-launcher-preview a:last-child, #intercom-container .intercom-launcher-preview .intercom-container:last-child, #intercom-container .intercom-launcher-preview code:last-child {\n      margin-bottom: 0; }\n  #intercom-container .intercom-launcher-preview h1, #intercom-container .intercom-launcher-preview h1 a {\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 20px;\n    letter-spacing: normal;\n    margin: 27px 0;\n    color: inherit; }\n  #intercom-container .intercom-launcher-preview h2, #intercom-container .intercom-launcher-preview h2 a {\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: bold;\n    margin: 20px 0 10px;\n    color: inherit; }\n  #intercom-container .intercom-launcher-preview ul, #intercom-container .intercom-launcher-preview ol {\n    font-size: 14px;\n    -moz-padding-start: 40px;\n    -webkit-padding-start: 40px;\n    -khtml-padding-start: 40px;\n    -o-padding-start: 40px;\n    padding-start: 40px;\n    padding-left: 30px; }\n  #intercom-container .intercom-launcher-preview [dir=ltr] ul, #intercom-container .intercom-launcher-preview [dir=ltr] ol {\n    padding-left: 30px; }\n  #intercom-container .intercom-launcher-preview [dir=rtl] ul, #intercom-container .intercom-launcher-preview [dir=rtl] ol {\n    padding-right: 30px; }\n  #intercom-container .intercom-launcher-preview ul > li {\n    list-style-type: disc; }\n  #intercom-container .intercom-launcher-preview ol > li {\n    list-style-type: decimal; }\n  #intercom-container .intercom-launcher-preview li {\n    display: list-item;\n    line-height: 20px;\n    margin-bottom: 10px;\n    font-weight: 400; }\n  #intercom-container .intercom-launcher-preview em, #intercom-container .intercom-launcher-preview i {\n    font-style: italic; }\n  #intercom-container .intercom-launcher-preview strong, #intercom-container .intercom-launcher-preview b {\n    font-weight: bold;\n    line-height: 100%; }\n  #intercom-container .intercom-launcher-preview pre {\n    font-size: 14px;\n    padding: 0 0 10px 0;\n    white-space: pre-wrap; }\n  #intercom-container .intercom-launcher-preview img {\n    display: block;\n    max-width: 100%;\n    margin: 10px 0; }\n  #intercom-container .intercom-launcher-preview p + br {\n    display: none; }\n  #intercom-container .intercom-launcher-preview a:link, #intercom-container .intercom-launcher-preview a:visited, #intercom-container .intercom-launcher-preview a:hover, #intercom-container .intercom-launcher-preview a:active {\n    text-decoration: underline; }\n  #intercom-container .intercom-launcher-preview a:link, #intercom-container .intercom-launcher-preview a:visited {\n    color: custom-color; }\n  #intercom-container .intercom-launcher-preview a:hover, #intercom-container .intercom-launcher-preview a:active {\n    color: custom-color-darker; }\n  #intercom-container .intercom-launcher-preview h2 + p, #intercom-container .intercom-launcher-preview h2 + ul, #intercom-container .intercom-launcher-preview h2 + ol, #intercom-container .intercom-launcher-preview h2 + blockquote, #intercom-container .intercom-launcher-preview h2 + .ic_button_in_content, #intercom-container .intercom-launcher-preview h2 + .ic_social_block, #intercom-container .intercom-launcher-preview h3 + p, #intercom-container .intercom-launcher-preview h3 + ul, #intercom-container .intercom-launcher-preview h3 + ol, #intercom-container .intercom-launcher-preview h3 + blockquote, #intercom-container .intercom-launcher-preview h3 + .ic_button_in_content, #intercom-container .intercom-launcher-preview h3 + .ic_social_block, #intercom-container .intercom-launcher-preview h4 + p, #intercom-container .intercom-launcher-preview h4 + ul, #intercom-container .intercom-launcher-preview h4 + ol, #intercom-container .intercom-launcher-preview h4 + blockquote, #intercom-container .intercom-launcher-preview h4 + .ic_button_in_content, #intercom-container .intercom-launcher-preview h4 + .ic_social_block, #intercom-container .intercom-launcher-preview h5 + p, #intercom-container .intercom-launcher-preview h5 + ul, #intercom-container .intercom-launcher-preview h5 + ol, #intercom-container .intercom-launcher-preview h5 + blockquote, #intercom-container .intercom-launcher-preview h5 + .ic_button_in_content, #intercom-container .intercom-launcher-preview h5 + .ic_social_block, #intercom-container .intercom-launcher-preview h6 + p, #intercom-container .intercom-launcher-preview h6 + ul, #intercom-container .intercom-launcher-preview h6 + ol, #intercom-container .intercom-launcher-preview h6 + blockquote, #intercom-container .intercom-launcher-preview h6 + .ic_button_in_content, #intercom-container .intercom-launcher-preview h6 + .ic_social_block {\n    margin-top: 0; }\n  #intercom-container .intercom-launcher-preview .intercom-h2b-twitter, #intercom-container .intercom-launcher-preview .intercom-h2b-facebook {\n    max-width: 100%; }\n  #intercom-container .intercom-launcher-preview iframe[src*="vimeo.com"], #intercom-container .intercom-launcher-preview iframe[src*="wistia.net"], #intercom-container .intercom-launcher-preview iframe[src*="youtube.com"] {\n    width: 100%;\n    height: 149px;\n    margin: 20px auto; }\n  #intercom-container .intercom-launcher-preview iframe[src*=\'wistia.net\'], #intercom-container .intercom-launcher-preview a.intercom-h2b-button {\n    text-transform: capitalize; }\n  #intercom-container .intercom-launcher-preview:before, #intercom-container .intercom-launcher-preview:after {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: -1;\n    border-radius: 9.5px; }\n  #intercom-container .intercom-launcher-preview:before {\n    background: rgba(171, 171, 171, 0.24);\n    background-image: linear-gradient(to bottom, #eee, rgba(171, 171, 171, 0.24));\n    top: -1px;\n    right: -1px;\n    bottom: -1px;\n    left: -1px; }\n  #intercom-container .intercom-launcher-preview:after {\n    background-color: #fff; }\n  #intercom-container .intercom-launcher-preview:hover .intercom-launcher-preview-close {\n    opacity: 1; }\n#intercom-container .intercom-launcher-button, #intercom-container .intercom-launcher-preview {\n  box-shadow: 0px 6px 13px 0px rgba(0, 0, 0, 0.23); }\n#intercom-container .intercom-launcher-preview-caret:after, #intercom-container .intercom-launcher-preview-caret:before {\n  left: 100%;\n  border: solid transparent;\n  content: "";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none; }\n#intercom-container .intercom-launcher-preview-caret:after {\n  border-width: 5px;\n  margin-top: -5px;\n  bottom: 18px;\n  border-left-color: white; }\n#intercom-container .intercom-launcher-preview-caret:before {\n  border-width: 6px;\n  margin-top: -6px;\n  bottom: 17px;\n  border-left-color: #ddd; }\n#intercom-container .intercom-launcher-preview-multi-line {\n  bottom: -8px; }\n  #intercom-container .intercom-launcher-preview-multi-line .intercom-launcher-preview-caret:before {\n    bottom: 27px; }\n  #intercom-container .intercom-launcher-preview-multi-line .intercom-launcher-preview-caret:after {\n    bottom: 28px; }\n#intercom-container .intercom-launcher-preview-body {\n  cursor: pointer; }\n  #intercom-container .intercom-launcher-preview-body a.intercom-h2b-button, #intercom-container .intercom-launcher-preview-body div.intercom-h2b-video, #intercom-container .intercom-launcher-preview-body div.intercom-h2b-facebook, #intercom-container .intercom-launcher-preview-body div.intercom-h2b-twitter, #intercom-container .intercom-launcher-preview-body img, #intercom-container .intercom-launcher-preview-body video, #intercom-container .intercom-launcher-preview-body ul, #intercom-container .intercom-launcher-preview-body ol {\n    display: none; }\n  #intercom-container .intercom-launcher-preview-body h1, #intercom-container .intercom-launcher-preview-body h2, #intercom-container .intercom-launcher-preview-body p, #intercom-container .intercom-launcher-preview-body a, #intercom-container .intercom-launcher-preview-body b, #intercom-container .intercom-launcher-preview-body i {\n    word-wrap: break-word;\n    cursor: pointer;\n    display: inline;\n    margin: 0; }\n  #intercom-container .intercom-launcher-preview-body h1, #intercom-container .intercom-launcher-preview-body h2, #intercom-container .intercom-launcher-preview-body p, #intercom-container .intercom-launcher-preview-body a, #intercom-container .intercom-launcher-preview-body i, #intercom-container .intercom-launcher-preview-body b {\n    font-weight: normal;\n    font-style: normal; }\n  #intercom-container .intercom-launcher-preview-body.intercom-launcher-preview-metadata {\n    font-style: italic; }\n#intercom-container .intercom-launcher-preview-close {\n  background-image: url(https://js.intercomcdn.com/images/icon-preview-close.png) /* noembed */;\n  background-size: 18px 18px;\n  background-repeat: no-repeat;\n  opacity: 0;\n  cursor: pointer;\n  position: absolute;\n  top: -9px;\n  left: -9px;\n  width: 18px;\n  height: 18px; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container .intercom-launcher-preview-close {\n      background-image: url(https://js.intercomcdn.com/images/icon-preview-close@2x.png) /* noembed */; } }\n@media (max-width: 480px) {\n  #intercom-container .intercom-launcher-preview {\n    max-width: 200px; } }\n\n#intercom-container .intercom-launcher-preview-admins-and-app {\n  cursor: pointer; }\n#intercom-container .intercom-launcher-preview-app-name, #intercom-container .intercom-launcher-preview-admins {\n  text-align: center;\n  cursor: pointer; }\n#intercom-container .intercom-launcher-preview-app-name {\n  font-weight: 500;\n  padding-bottom: 5px;\n  font-size: 15px;\n  line-height: 18px;\n  padding-bottom: 8px; }\n#intercom-container .intercom-launcher-preview-admins {\n  margin-bottom: 0; }\n  #intercom-container .intercom-launcher-preview-admins .intercom-active-admin-avatar, #intercom-container .intercom-launcher-preview-admins .intercom-active-admin-avatar img {\n    width: 44px;\n    height: 44px;\n    margin: 0 auto;\n    cursor: pointer; }\n  #intercom-container .intercom-launcher-preview-admins .intercom-active-admin-default-avatar {\n    line-height: 44px; }\n#intercom-container .intercom-launcher-active.intercom-launcher-with-preview.intercom-launcher-with-admins {\n  width: 350px; }\n  #intercom-container .intercom-launcher-active.intercom-launcher-with-preview.intercom-launcher-with-admins .intercom-launcher-preview {\n    max-width: 256px;\n    padding: 8px 24px 12px; }\n  #intercom-container .intercom-launcher-active.intercom-launcher-with-preview.intercom-launcher-with-admins .intercom-launcher-preview-body {\n    padding-top: 8px;\n    text-align: center;\n    font-size: 13px;\n    line-height: 16px; }\n  #intercom-container .intercom-launcher-active.intercom-launcher-with-preview.intercom-launcher-with-admins .intercom-active-admin {\n    margin: 0px 6px; }\n\n#intercom-container .intercom-messenger {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; }\n\n#intercom-container .intercom-sheet {\n  z-index: 2147483000;\n  visibility: hidden;\n  position: fixed;\n  height: 100%;\n  width: 368px;\n  bottom: 0;\n  right: 0; }\n#intercom-container .intercom-sheet-active {\n  visibility: visible; }\n#intercom-container .intercom-sheet-header {\n  z-index: 2147483002;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.08);\n  background: white;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 100%;\n  height: 48px; }\n#intercom-container .intercom-sheet-footer {\n  z-index: 2147483002;\n  box-shadow: 0 -1px 2px 0 rgba(0, 0, 0, 0.06);\n  background: white;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  height: 48px;\n  text-align: center;\n  -moz-text-align-last: center;\n       text-align-last: center; }\n#intercom-container .intercom-sheet-body {\n  z-index: 2147483000;\n  background: #fafafb;\n  background: rgba(250, 250, 251, 0.98);\n  border-left: 1px solid #dadee2;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%; }\n#intercom-container .intercom-sheet-active .intercom-sheet-content {\n  overflow-y: auto; }\n#intercom-container .intercom-sheet-content {\n  z-index: 2147483001;\n  position: absolute;\n  top: 48px;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  -webkit-transform: translateZ(0); }\n#intercom-container .intercom-sheet-content-container {\n  box-sizing: border-box;\n  position: relative;\n  min-height: 100%;\n  max-width: 620px;\n  margin: 0 auto; }\n#intercom-container .intercom-sheet-header-generic-title, #intercom-container .intercom-sheet-header-title-container {\n  z-index: 2147483000;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  -moz-text-align-last: center;\n       text-align-last: center;\n  pointer-events: none; }\n#intercom-container .intercom-sheet-header-generic-title, #intercom-container .intercom-sheet-header-title {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 48px;\n  font-weight: 500;\n  color: #465C66;\n  letter-spacing: 0.2px;\n  display: inline-block;\n  max-width: 200px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n  #intercom-container .intercom-sheet-header-generic-title.intercom-sheet-header-with-presence, #intercom-container .intercom-sheet-header-title.intercom-sheet-header-with-presence {\n    line-height: 20px;\n    padding-top: 7px; }\n#intercom-container .intercom-sheet-header-generic-title {\n  display: none;\n  top: -100%;\n  max-width: 100%; }\n#intercom-container .intercom-sheet-header-show-generic .intercom-sheet-header-generic-title {\n  display: block;\n  top: 0; }\n#intercom-container .intercom-sheet-header-show-generic .intercom-sheet-header-title-container {\n  display: none;\n  top: 100%; }\n#intercom-container .intercom-last-active {\n  position: absolute;\n  z-index: 0;\n  text-align: center;\n  color: #78909C;\n  font-size: 12px;\n  left: 0;\n  right: 0;\n  bottom: 7px;\n  line-height: 14px; }\n#intercom-container .intercom-sheet-header-app-name {\n  font-weight: bold; }\n#intercom-container .intercom-sheet-header-button {\n  z-index: 2147483001;\n  position: relative;\n  margin: 0 20px;\n  height: 48px; }\n#intercom-container .intercom-sheet-header-button-icon {\n  height: 100%;\n  background-position: center center; }\n#intercom-container .intercom-sheet-header-conversations-button {\n  float: left; }\n  #intercom-container .intercom-sheet-header-conversations-button .intercom-sheet-header-button-icon {\n    background-image: url(https://js.intercomcdn.com/images/icon-conversations.png) /* noembed */;\n    background-size: 15px 12px;\n    background-repeat: no-repeat;\n    background-position: center;\n    width: 18px;\n    float: left; }\n    @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n      #intercom-container .intercom-sheet-header-conversations-button .intercom-sheet-header-button-icon {\n        background-image: url(https://js.intercomcdn.com/images/icon-conversations@2x.png) /* noembed */; } }\n#intercom-container .intercom-sheet-header-close-button {\n  float: right;\n  margin-left: 15px; }\n  #intercom-container .intercom-sheet-header-close-button .intercom-sheet-header-button-icon {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAq0lEQVR42o2RMQoCMRBFcwQ776C11upOekHEnaC47sQbWomIlWfRSm+wZiBFIAzfgYEw/PeKfLdYdyNiuSz5OHV/TLM9TTSvnPMsVx/ikPadBQh8aZ6C3Fyz62bp8SkFEOT4XQWZ670SaBCCeWwBBm0Bcb+xQSwYEFgLOO5L2LdyAEj9ObpGC7gOavuz0QLu0WoBgqhGCEJBOtwBWAly/qG1jInlWYJIoHnlfhcTzX2HEVUjAAAAAElFTkSuQmCC") /* embed */;\n    background-size: 13px 13px;\n    background-repeat: no-repeat;\n    width: 16px; }\n    @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n      #intercom-container .intercom-sheet-header-close-button .intercom-sheet-header-button-icon {\n        background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAUVBMVEUAAAAAAAAAVVUzTU0uRl1EWGRCWWFFWGNDWWNEWWNDWWNFWWNEWmNFWWNEWWREWmNEWWREWWNEWWNFWWREWmNEWWNFWmNFWmREWWRFWmRFWmTQYCLkAAAAGnRSTlMAAgMKC0BCXV+am6Cio6SlprS3vb6/wfX2/eBzOYoAAACDSURBVHja3dFJDsJADETRYgozYQqQvv9BaYNQqfWdC+CNF29V+pJWu7mSm207hT5Lb7ceyqv7aAmnlvBLfeHQuKsWw8+pj6XsqTYOhUNlh8IbhTdKt6ZuhUPhVjY6ffmMPt7r/VQ4Kgz2rODf9NXeSj9qPU73HTcKn+gbWv2e971VfQPHpCEx8fOtQAAAAABJRU5ErkJggg==") /* embed */; } }\n#intercom-container .intercom-sheet-header-minimize-button {\n  float: right;\n  margin-right: 0; }\n  #intercom-container .intercom-sheet-header-minimize-button .intercom-sheet-header-button-icon {\n    background-image: url(https://js.intercomcdn.com/images/icon-minimize.png) /* noembed */;\n    background-size: 15px 15px;\n    background-repeat: no-repeat;\n    width: 16px; }\n    @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n      #intercom-container .intercom-sheet-header-minimize-button .intercom-sheet-header-button-icon {\n        background-image: url(https://js.intercomcdn.com/images/icon-minimize@2x.png) /* noembed */; } }\n#intercom-container .intercom-sheet-loading .intercom-sheet-spinner {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -14px;\n  margin-top: 14px; }\n#intercom-container .intercom-sheet-minimized {\n  opacity: 0;\n  visibility: hidden; }\n#intercom-container .intercom-sheet-maximized {\n  width: 100%; }\n@media (max-width: 460px) {\n  #intercom-container .intercom-sheet {\n    width: 100%; } }\n@media (-ms-high-contrast: none) {\n  #intercom-container .intercom-sheet {\n    width: 370px; }\n  #intercom-container .intercom-sheet-maximized {\n    width: 100%; } }\n\n#intercom-container .intercom-conversation-parts-container {\n  padding: 16px; }\n#intercom-container .intercom-conversation-part {\n  padding-bottom: 16px; }\n  #intercom-container .intercom-conversation-part:before, #intercom-container .intercom-conversation-part:after {\n    content: " ";\n    display: table; }\n  #intercom-container .intercom-conversation-part:after {\n    clear: both; }\n#intercom-container .intercom-conversation-part-unread .intercom-comment-by-admin .intercom-comment-timestamp {\n  color: #93979f; }\n#intercom-container .intercom-conversation-part-unread .intercom-comment-by-admin .intercom-comment-readstate {\n  border-radius: 50%;\n  background-color: custom-color;\n  width: 7px;\n  height: 7px;\n  margin-top: 6px;\n  overflow: auto; }\n#intercom-container .intercom-conversation-part-failed .intercom-comment-body-container {\n  opacity: 0.6; }\n#intercom-container .intercom-conversation-part-failed .intercom-comment-state, #intercom-container .intercom-conversation-part-failed .intercom-comment-body {\n  cursor: pointer; }\n#intercom-container .intercom-conversation-part-failed .intercom-comment-metadata {\n  color: #c00; }\n#intercom-container .intercom-sheet-loading .intercom-conversation-parts, #intercom-container .intercom-sheet-loading .intercom-powered-by-container {\n  opacity: 0; }\n#intercom-container .intercom-conversation-preview {\n  pointer-events: none; }\n  #intercom-container .intercom-conversation-preview .intercom-sheet-header, #intercom-container .intercom-conversation-preview .intercom-sheet-body, #intercom-container .intercom-conversation-preview .intercom-composer {\n    opacity: 0; }\n  #intercom-container .intercom-conversation-preview .intercom-sheet-content {\n    overflow-y: hidden; }\n  #intercom-container .intercom-conversation-preview .intercom-small-announcement {\n    box-shadow: 0 1px 10px 0 rgba(0, 0, 0, 0.08);\n    pointer-events: auto; }\n#intercom-container .intercom-conversation-part-grouped-first, #intercom-container .intercom-conversation-part-grouped {\n  padding-bottom: 2px; }\n  #intercom-container .intercom-conversation-part-grouped-first .intercom-comment-metadata, #intercom-container .intercom-conversation-part-grouped-first .intercom-comment-readstate, #intercom-container .intercom-conversation-part-grouped .intercom-comment-metadata, #intercom-container .intercom-conversation-part-grouped .intercom-comment-readstate {\n    display: none; }\n#intercom-container .intercom-conversation-part-grouped .intercom-comment-avatar, #intercom-container .intercom-conversation-part-grouped .intercom-comment-caret, #intercom-container .intercom-conversation-part-grouped-last .intercom-comment-avatar, #intercom-container .intercom-conversation-part-grouped-last .intercom-comment-caret {\n  display: none; }\n\n#intercom-container .intercom-conversations-item {\n  display: block;\n  padding-top: 17px;\n  padding-left: 17px;\n  text-decoration: none; }\n  #intercom-container .intercom-conversations-item, #intercom-container .intercom-conversations-item * {\n    cursor: pointer; }\n  #intercom-container .intercom-conversations-item:hover {\n    background-color: rgba(0, 0, 0, 0.02); }\n#intercom-container .intercom-conversations-item-user-avatar, #intercom-container .intercom-conversations-item-admin-avatar {\n  border-radius: 50%;\n  float: left;\n  margin-top: 5px;\n  display: inline-block;\n  width: 42px;\n  height: 42px; }\n#intercom-container .intercom-conversations-item-admin-avatar {\n  color: #fff;\n  line-height: 42px;\n  text-align: center;\n  font-size: 18px;\n  font-weight: bold; }\n#intercom-container .intercom-conversations-item-admin-avatar-no-image {\n  background-color: custom-color; }\n#intercom-container .intercom-conversations-item-user-avatar {\n  background-color: custom-color;\n  background-image: url(https://js.intercomcdn.com/images/icon-user-avatar.svg);\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: 18px; }\n#intercom-container .intercom-default-admin-avatar {\n  background-color: custom-color;\n  font-size: 13px;\n  font-weight: bold;\n  text-align: center;\n  color: #fff;\n  width: 28px;\n  height: 28px;\n  line-height: 28px; }\n#intercom-container .intercom-conversations-item-body-container {\n  margin-left: 55px;\n  padding-right: 17px;\n  border-bottom: 1px solid #e7e7e7;\n  height: 80px; }\n#intercom-container .intercom-conversations-item-header {\n  margin-bottom: 5px; }\n#intercom-container .intercom-conversations-item-title {\n  margin: 0 50px 0 0; }\n  #intercom-container .intercom-conversations-item-title span {\n    color: #60686e;\n    color: rgba(96, 104, 110, 0.8);\n    font-size: 15px;\n    line-height: 22px;\n    font-weight: 500;\n    display: block;\n    width: 100%;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n#intercom-container .intercom-conversations-item-timestamp {\n  float: right;\n  font-size: 12px;\n  line-height: 20px;\n  color: #aaaaaa;\n  width: 50px;\n  text-align: right; }\n#intercom-container .intercom-conversations-item-summary {\n  color: #60686e;\n  color: rgba(96, 104, 110, 0.8);\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 19px;\n  height: 40px;\n  overflow: hidden;\n  position: relative;\n  padding-right: 15px;\n  word-break: break-word; }\n  #intercom-container .intercom-conversations-item-summary.intercom-conversations-item-summary-metadata {\n    font-style: italic; }\n#intercom-container .intercom-conversations-new-conversation-button {\n  margin: 8px;\n  font-weight: 500;\n  padding: 0 18px; }\n  #intercom-container .intercom-conversations-new-conversation-button i {\n    background: url(https://js.intercomcdn.com/images/icon-compose.svg) 0 0/15px 15px no-repeat;\n    display: inline-block;\n    width: 15px;\n    height: 15px;\n    margin: 0 8px -2px 0; }\n#intercom-container .intercom-conversations-item-unread .intercom-conversations-item-header span {\n  color: #3d4347;\n  font-weight: 500;\n  white-space: nowrap; }\n#intercom-container .intercom-conversations-item-unread .intercom-conversations-item-summary {\n  color: #3d4347; }\n#intercom-container .intercom-conversations-item-unread .intercom-conversations-item-readstate {\n  border-radius: 50%;\n  background-color: custom-color;\n  width: 7px;\n  height: 7px;\n  position: absolute;\n  bottom: 27px;\n  right: 0; }\n#intercom-container .intercom-no-conversations {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  margin: -38px auto 0;\n  text-align: center;\n  color: #e4e5e7;\n  display: none; }\n  #intercom-container .intercom-no-conversations .intercom-no-conversations-icon {\n    background-image: url(https://js.intercomcdn.com/images/icon-no-conversations.png) /* noembed */;\n    background-size: 79px 59px;\n    background-repeat: no-repeat;\n    display: block;\n    width: 79px;\n    height: 59px;\n    margin: 0 auto 10px auto; }\n    @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n      #intercom-container .intercom-no-conversations .intercom-no-conversations-icon {\n        background-image: url(https://js.intercomcdn.com/images/icon-no-conversations@2x.png) /* noembed */; } }\n#intercom-container.intercom-learn .intercom-no-conversations .intercom-no-conversations-icon {\n  height: 46px;\n  background-image: url(https://js.intercomcdn.com/images/empty-inbox.png) /* noembed */;\n  background-size: 79px 46px;\n  background-repeat: no-repeat; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container.intercom-learn .intercom-no-conversations .intercom-no-conversations-icon {\n      background-image: url(https://js.intercomcdn.com/images/empty-inbox@2x.png) /* noembed */; } }\n#intercom-container .intercom-conversations-empty .intercom-no-conversations {\n  display: block; }\n#intercom-container .intercom-new-message-enabled .intercom-conversations-content {\n  bottom: 48px; }\n#intercom-container .intercom-conversations-fetching .intercom-conversations-spinner {\n  position: relative;\n  left: 50%;\n  margin-left: -14px;\n  margin-top: 40px;\n  margin-bottom: 40px; }\n\n#intercom-container .intercom-attachments {\n  border-top: 1px solid #e4e5e7;\n  padding: 11px 14px; }\n#intercom-container .intercom-attachment {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n  font-size: 14px; }\n#intercom-container .intercom-comment-by-user .intercom-attachments {\n  border-top: 1px solid custom-color-dark; }\n\n#intercom-container .intercom-comment {\n  line-height: 20px;\n  position: relative;\n  clear: both;\n  max-width: 272px; }\n#intercom-container .intercom-comment-by-user {\n  float: right; }\n#intercom-container .intercom-comment-by-admin {\n  float: left;\n  padding-left: 38px; }\n#intercom-container .intercom-comment-is-typing-icon {\n  display: none; }\n#intercom-container .intercom-comment-avatar {\n  border-radius: 50%;\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  left: 0;\n  top: 5px; }\n#intercom-container .intercom-comment-body-container {\n  font-size: 14px;\n  font-weight: 400;\n  color: #455A64;\n  line-height: 20px;\n  border-radius: 4px;\n  border-width: 1px;\n  border-style: solid;\n  position: relative;\n  max-width: 100%; }\n  #intercom-container .intercom-comment-body-container .intercom-comment-body {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px; }\n  #intercom-container .intercom-comment-body-container p, #intercom-container .intercom-comment-body-container ul, #intercom-container .intercom-comment-body-container ol, #intercom-container .intercom-comment-body-container blockquote, #intercom-container .intercom-comment-body-container h1, #intercom-container .intercom-comment-body-container h2, #intercom-container .intercom-comment-body-container h3, #intercom-container .intercom-comment-body-container h4, #intercom-container .intercom-comment-body-container h5, #intercom-container .intercom-comment-body-container h6, #intercom-container .intercom-comment-body-container a, #intercom-container .intercom-comment-body-container .intercom-container, #intercom-container .intercom-comment-body-container code {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px;\n    word-wrap: break-word;\n    margin: 20px 0; }\n    #intercom-container .intercom-comment-body-container p:first-child, #intercom-container .intercom-comment-body-container ul:first-child, #intercom-container .intercom-comment-body-container ol:first-child, #intercom-container .intercom-comment-body-container blockquote:first-child, #intercom-container .intercom-comment-body-container h1:first-child, #intercom-container .intercom-comment-body-container h2:first-child, #intercom-container .intercom-comment-body-container h3:first-child, #intercom-container .intercom-comment-body-container h4:first-child, #intercom-container .intercom-comment-body-container h5:first-child, #intercom-container .intercom-comment-body-container h6:first-child, #intercom-container .intercom-comment-body-container a:first-child, #intercom-container .intercom-comment-body-container .intercom-container:first-child, #intercom-container .intercom-comment-body-container code:first-child {\n      margin-top: 0; }\n    #intercom-container .intercom-comment-body-container p:last-child, #intercom-container .intercom-comment-body-container ul:last-child, #intercom-container .intercom-comment-body-container ol:last-child, #intercom-container .intercom-comment-body-container blockquote:last-child, #intercom-container .intercom-comment-body-container h1:last-child, #intercom-container .intercom-comment-body-container h2:last-child, #intercom-container .intercom-comment-body-container h3:last-child, #intercom-container .intercom-comment-body-container h4:last-child, #intercom-container .intercom-comment-body-container h5:last-child, #intercom-container .intercom-comment-body-container h6:last-child, #intercom-container .intercom-comment-body-container a:last-child, #intercom-container .intercom-comment-body-container .intercom-container:last-child, #intercom-container .intercom-comment-body-container code:last-child {\n      margin-bottom: 0; }\n  #intercom-container .intercom-comment-body-container h1, #intercom-container .intercom-comment-body-container h1 a {\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 20px;\n    letter-spacing: normal;\n    margin: 27px 0;\n    color: inherit; }\n  #intercom-container .intercom-comment-body-container h2, #intercom-container .intercom-comment-body-container h2 a {\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: bold;\n    margin: 20px 0 10px;\n    color: inherit; }\n  #intercom-container .intercom-comment-body-container ul, #intercom-container .intercom-comment-body-container ol {\n    font-size: 14px;\n    -moz-padding-start: 40px;\n    -webkit-padding-start: 40px;\n    -khtml-padding-start: 40px;\n    -o-padding-start: 40px;\n    padding-start: 40px;\n    padding-left: 30px; }\n  #intercom-container .intercom-comment-body-container [dir=ltr] ul, #intercom-container .intercom-comment-body-container [dir=ltr] ol {\n    padding-left: 30px; }\n  #intercom-container .intercom-comment-body-container [dir=rtl] ul, #intercom-container .intercom-comment-body-container [dir=rtl] ol {\n    padding-right: 30px; }\n  #intercom-container .intercom-comment-body-container ul > li {\n    list-style-type: disc; }\n  #intercom-container .intercom-comment-body-container ol > li {\n    list-style-type: decimal; }\n  #intercom-container .intercom-comment-body-container li {\n    display: list-item;\n    line-height: 20px;\n    margin-bottom: 10px;\n    font-weight: 400; }\n  #intercom-container .intercom-comment-body-container em, #intercom-container .intercom-comment-body-container i {\n    font-style: italic; }\n  #intercom-container .intercom-comment-body-container strong, #intercom-container .intercom-comment-body-container b {\n    font-weight: bold;\n    line-height: 100%; }\n  #intercom-container .intercom-comment-body-container pre {\n    font-size: 14px;\n    padding: 0 0 10px 0;\n    white-space: pre-wrap; }\n  #intercom-container .intercom-comment-body-container img {\n    display: block;\n    max-width: 100%;\n    margin: 10px 0; }\n  #intercom-container .intercom-comment-body-container p + br {\n    display: none; }\n  #intercom-container .intercom-comment-body-container a:link, #intercom-container .intercom-comment-body-container a:visited, #intercom-container .intercom-comment-body-container a:hover, #intercom-container .intercom-comment-body-container a:active {\n    text-decoration: underline; }\n  #intercom-container .intercom-comment-body-container a:link, #intercom-container .intercom-comment-body-container a:visited {\n    color: custom-color; }\n  #intercom-container .intercom-comment-body-container a:hover, #intercom-container .intercom-comment-body-container a:active {\n    color: custom-color-darker; }\n  #intercom-container .intercom-comment-body-container h2 + p, #intercom-container .intercom-comment-body-container h2 + ul, #intercom-container .intercom-comment-body-container h2 + ol, #intercom-container .intercom-comment-body-container h2 + blockquote, #intercom-container .intercom-comment-body-container h2 + .ic_button_in_content, #intercom-container .intercom-comment-body-container h2 + .ic_social_block, #intercom-container .intercom-comment-body-container h3 + p, #intercom-container .intercom-comment-body-container h3 + ul, #intercom-container .intercom-comment-body-container h3 + ol, #intercom-container .intercom-comment-body-container h3 + blockquote, #intercom-container .intercom-comment-body-container h3 + .ic_button_in_content, #intercom-container .intercom-comment-body-container h3 + .ic_social_block, #intercom-container .intercom-comment-body-container h4 + p, #intercom-container .intercom-comment-body-container h4 + ul, #intercom-container .intercom-comment-body-container h4 + ol, #intercom-container .intercom-comment-body-container h4 + blockquote, #intercom-container .intercom-comment-body-container h4 + .ic_button_in_content, #intercom-container .intercom-comment-body-container h4 + .ic_social_block, #intercom-container .intercom-comment-body-container h5 + p, #intercom-container .intercom-comment-body-container h5 + ul, #intercom-container .intercom-comment-body-container h5 + ol, #intercom-container .intercom-comment-body-container h5 + blockquote, #intercom-container .intercom-comment-body-container h5 + .ic_button_in_content, #intercom-container .intercom-comment-body-container h5 + .ic_social_block, #intercom-container .intercom-comment-body-container h6 + p, #intercom-container .intercom-comment-body-container h6 + ul, #intercom-container .intercom-comment-body-container h6 + ol, #intercom-container .intercom-comment-body-container h6 + blockquote, #intercom-container .intercom-comment-body-container h6 + .ic_button_in_content, #intercom-container .intercom-comment-body-container h6 + .ic_social_block {\n    margin-top: 0; }\n  #intercom-container .intercom-comment-body-container .intercom-h2b-twitter, #intercom-container .intercom-comment-body-container .intercom-h2b-facebook {\n    max-width: 100%; }\n  #intercom-container .intercom-comment-body-container iframe[src*="vimeo.com"], #intercom-container .intercom-comment-body-container iframe[src*="wistia.net"], #intercom-container .intercom-comment-body-container iframe[src*="youtube.com"] {\n    width: 100%;\n    height: 149px;\n    margin: 20px auto; }\n  #intercom-container .intercom-comment-body-container iframe[src*=\'wistia.net\'], #intercom-container .intercom-comment-body-container a.intercom-h2b-button {\n    text-transform: capitalize; }\n#intercom-container .intercom-comment .intercom-lwr-composer {\n  border-radius: 0 0 4px 4px; }\n#intercom-container .intercom-comment-body {\n  padding: 8px 12px; }\n  #intercom-container .intercom-comment-body p {\n    margin: 1em 0 0; }\n    #intercom-container .intercom-comment-body p:first-child {\n      margin-top: 0; }\n  #intercom-container .intercom-comment-body pre span {\n    color: inherit !important;\n    background-color: inherit !important;\n    font-weight: inherit !important;\n    word-wrap: break-word; }\n#intercom-container .intercom-comment-metadata-container {\n  padding: 2px 2px 0; }\n#intercom-container .intercom-comment-metadata {\n  font-size: 12px;\n  line-height: 20px;\n  color: #B0BEC5;\n  float: left; }\n#intercom-container .intercom-comment-by-admin .intercom-comment-metadata {\n  margin-right: 6px; }\n#intercom-container .intercom-comment-caret:after, #intercom-container .intercom-comment-caret:before {\n  top: 19px;\n  border: solid transparent;\n  content: "";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none; }\n#intercom-container .intercom-comment-caret:after {\n  border-width: 3px;\n  margin-top: -3px; }\n#intercom-container .intercom-comment-caret:before {\n  border-width: 4px;\n  margin-top: -4px; }\n#intercom-container .intercom-comment-by-user {\n  text-align: right; }\n  #intercom-container .intercom-comment-by-user .intercom-comment-body-container {\n    display: inline-block;\n    background-color: custom-color;\n    color: white; }\n    #intercom-container .intercom-comment-by-user .intercom-comment-body-container a, #intercom-container .intercom-comment-by-user .intercom-comment-body-container a:link, #intercom-container .intercom-comment-by-user .intercom-comment-body-container a:visited, #intercom-container .intercom-comment-by-user .intercom-comment-body-container a:hover, #intercom-container .intercom-comment-by-user .intercom-comment-body-container a:active {\n      color: white; }\n  #intercom-container .intercom-comment-by-user .intercom-comment-metadata {\n    float: right; }\n  #intercom-container .intercom-comment-by-user .intercom-comment-caret:before, #intercom-container .intercom-comment-by-user .intercom-comment-caret:after {\n    left: 100%; }\n  #intercom-container .intercom-comment-by-user .intercom-comment-caret:after {\n    border-width: 4px;\n    margin-top: -4px;\n    border-left-color: custom-color; }\n#intercom-container .intercom-comment-by-admin .intercom-comment-body-container {\n  box-shadow: 0 1px 2px 0 rgba(234, 236, 238, 0.8);\n  background-color: white;\n  border-color: #dadee2; }\n#intercom-container .intercom-comment-by-admin .intercom-comment-caret:after, #intercom-container .intercom-comment-by-admin .intercom-comment-caret:before {\n  right: 100%; }\n#intercom-container .intercom-comment-by-admin .intercom-comment-caret:after {\n  border-right-color: white; }\n#intercom-container .intercom-comment-by-admin .intercom-comment-caret:before {\n  border-right-color: #dadee2; }\n#intercom-container .intercom-upload-comment.intercom-upload-is-uploading .intercom-comment-body-container {\n  opacity: 0.6; }\n  #intercom-container .intercom-upload-comment.intercom-upload-is-uploading .intercom-comment-body-container a, #intercom-container .intercom-upload-comment.intercom-upload-is-uploading .intercom-comment-body-container a:link, #intercom-container .intercom-upload-comment.intercom-upload-is-uploading .intercom-comment-body-container a:visited, #intercom-container .intercom-upload-comment.intercom-upload-is-uploading .intercom-comment-body-container a:hover, #intercom-container .intercom-upload-comment.intercom-upload-is-uploading .intercom-comment-body-container a:active {\n    text-decoration: none;\n    cursor: default; }\n#intercom-container .intercom-upload-comment .intercom-upload-body {\n  padding-left: 50px; }\n  #intercom-container .intercom-upload-comment .intercom-upload-body:before {\n    content: \' \';\n    position: absolute;\n    left: 0;\n    top: 8px;\n    bottom: 8px;\n    width: 37px;\n    border-right: 1px solid #fff;\n    border-right: 1px solid rgba(255, 255, 255, 0.3);\n    background-image: url(https://js.intercomcdn.com/images/icon-upload-white.png) /* noembed */;\n    background-size: 16px 15px;\n    background-repeat: no-repeat;\n    background-position: center;\n    background-repeat: no-repeat; }\n    @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n      #intercom-container .intercom-upload-comment .intercom-upload-body:before {\n        background-image: url(https://js.intercomcdn.com/images/icon-upload-white@2x.png) /* noembed */; } }\n#intercom-container .intercom-upload-comment.intercom-upload-image {\n  max-width: 266px; }\n  #intercom-container .intercom-upload-comment.intercom-upload-image .intercom-comment-body-container {\n    background-color: transparent; }\n  #intercom-container .intercom-upload-comment.intercom-upload-image .intercom-comment-caret {\n    display: none; }\n  #intercom-container .intercom-upload-comment.intercom-upload-image .intercom-upload-body {\n    padding: 0; }\n    #intercom-container .intercom-upload-comment.intercom-upload-image .intercom-upload-body:before {\n      display: none; }\n    #intercom-container .intercom-upload-comment.intercom-upload-image .intercom-upload-body img {\n      margin: 0;\n      border-radius: 4px; }\n#intercom-container .intercom-upload-comment .intercom-attachment-progress-bar {\n  border-radius: 4px;\n  position: relative;\n  display: inline-block;\n  width: 50px;\n  height: 6px;\n  border: 1px solid #ccc;\n  vertical-align: middle;\n  background-color: #fff;\n  margin: 0 5px; }\n#intercom-container .intercom-upload-comment .intercom-attachment-progress-percentage {\n  transition: width 0.4s;\n  width: 0%;\n  border-radius: 3px;\n  background-color: custom-color;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0; }\n#intercom-container .intercom-conversation-preview .intercom-comment-metadata {\n  display: none; }\n\n#intercom-container .intercom-auto-response {\n  display: none;\n  margin-bottom: 16px;\n  padding: 16px 20px;\n  border-width: 1px 0 1px 0;\n  border-style: solid;\n  border-top: 1px solid #e4e5e7;\n  border-bottom: 1px solid #e4e5e7;\n  border-image: linear-gradient(to right, #edf0f2, #d9dfe3 18%, #d9dfe3 82%, #edf0f2) 1; }\n#intercom-container .intercom-auto-response-active {\n  display: block; }\n#intercom-container .intercom-auto-response p {\n  font-size: 14px;\n  font-weight: 400;\n  color: #455A64;\n  line-height: 20px;\n  font-size: 14px;\n  color: #90A4AE;\n  line-height: 18px;\n  text-align: center;\n  padding: 5px 0; }\n  #intercom-container .intercom-auto-response p .intercom-comment-body {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px; }\n  #intercom-container .intercom-auto-response p p, #intercom-container .intercom-auto-response p ul, #intercom-container .intercom-auto-response p ol, #intercom-container .intercom-auto-response p blockquote, #intercom-container .intercom-auto-response p h1, #intercom-container .intercom-auto-response p h2, #intercom-container .intercom-auto-response p h3, #intercom-container .intercom-auto-response p h4, #intercom-container .intercom-auto-response p h5, #intercom-container .intercom-auto-response p h6, #intercom-container .intercom-auto-response p a, #intercom-container .intercom-auto-response p .intercom-container, #intercom-container .intercom-auto-response p code {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px;\n    word-wrap: break-word;\n    margin: 20px 0; }\n    #intercom-container .intercom-auto-response p p:first-child, #intercom-container .intercom-auto-response p ul:first-child, #intercom-container .intercom-auto-response p ol:first-child, #intercom-container .intercom-auto-response p blockquote:first-child, #intercom-container .intercom-auto-response p h1:first-child, #intercom-container .intercom-auto-response p h2:first-child, #intercom-container .intercom-auto-response p h3:first-child, #intercom-container .intercom-auto-response p h4:first-child, #intercom-container .intercom-auto-response p h5:first-child, #intercom-container .intercom-auto-response p h6:first-child, #intercom-container .intercom-auto-response p a:first-child, #intercom-container .intercom-auto-response p .intercom-container:first-child, #intercom-container .intercom-auto-response p code:first-child {\n      margin-top: 0; }\n    #intercom-container .intercom-auto-response p p:last-child, #intercom-container .intercom-auto-response p ul:last-child, #intercom-container .intercom-auto-response p ol:last-child, #intercom-container .intercom-auto-response p blockquote:last-child, #intercom-container .intercom-auto-response p h1:last-child, #intercom-container .intercom-auto-response p h2:last-child, #intercom-container .intercom-auto-response p h3:last-child, #intercom-container .intercom-auto-response p h4:last-child, #intercom-container .intercom-auto-response p h5:last-child, #intercom-container .intercom-auto-response p h6:last-child, #intercom-container .intercom-auto-response p a:last-child, #intercom-container .intercom-auto-response p .intercom-container:last-child, #intercom-container .intercom-auto-response p code:last-child {\n      margin-bottom: 0; }\n  #intercom-container .intercom-auto-response p h1, #intercom-container .intercom-auto-response p h1 a {\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 20px;\n    letter-spacing: normal;\n    margin: 27px 0;\n    color: inherit; }\n  #intercom-container .intercom-auto-response p h2, #intercom-container .intercom-auto-response p h2 a {\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: bold;\n    margin: 20px 0 10px;\n    color: inherit; }\n  #intercom-container .intercom-auto-response p ul, #intercom-container .intercom-auto-response p ol {\n    font-size: 14px;\n    -moz-padding-start: 40px;\n    -webkit-padding-start: 40px;\n    -khtml-padding-start: 40px;\n    -o-padding-start: 40px;\n    padding-start: 40px;\n    padding-left: 30px; }\n  #intercom-container .intercom-auto-response p [dir=ltr] ul, #intercom-container .intercom-auto-response p [dir=ltr] ol {\n    padding-left: 30px; }\n  #intercom-container .intercom-auto-response p [dir=rtl] ul, #intercom-container .intercom-auto-response p [dir=rtl] ol {\n    padding-right: 30px; }\n  #intercom-container .intercom-auto-response p ul > li {\n    list-style-type: disc; }\n  #intercom-container .intercom-auto-response p ol > li {\n    list-style-type: decimal; }\n  #intercom-container .intercom-auto-response p li {\n    display: list-item;\n    line-height: 20px;\n    margin-bottom: 10px;\n    font-weight: 400; }\n  #intercom-container .intercom-auto-response p em, #intercom-container .intercom-auto-response p i {\n    font-style: italic; }\n  #intercom-container .intercom-auto-response p strong, #intercom-container .intercom-auto-response p b {\n    font-weight: bold;\n    line-height: 100%; }\n  #intercom-container .intercom-auto-response p pre {\n    font-size: 14px;\n    padding: 0 0 10px 0;\n    white-space: pre-wrap; }\n  #intercom-container .intercom-auto-response p img {\n    display: block;\n    max-width: 100%;\n    margin: 10px 0; }\n  #intercom-container .intercom-auto-response p p + br {\n    display: none; }\n  #intercom-container .intercom-auto-response p a:link, #intercom-container .intercom-auto-response p a:visited, #intercom-container .intercom-auto-response p a:hover, #intercom-container .intercom-auto-response p a:active {\n    text-decoration: underline; }\n  #intercom-container .intercom-auto-response p a:link, #intercom-container .intercom-auto-response p a:visited {\n    color: custom-color; }\n  #intercom-container .intercom-auto-response p a:hover, #intercom-container .intercom-auto-response p a:active {\n    color: custom-color-darker; }\n  #intercom-container .intercom-auto-response p h2 + p, #intercom-container .intercom-auto-response p h2 + ul, #intercom-container .intercom-auto-response p h2 + ol, #intercom-container .intercom-auto-response p h2 + blockquote, #intercom-container .intercom-auto-response p h2 + .ic_button_in_content, #intercom-container .intercom-auto-response p h2 + .ic_social_block, #intercom-container .intercom-auto-response p h3 + p, #intercom-container .intercom-auto-response p h3 + ul, #intercom-container .intercom-auto-response p h3 + ol, #intercom-container .intercom-auto-response p h3 + blockquote, #intercom-container .intercom-auto-response p h3 + .ic_button_in_content, #intercom-container .intercom-auto-response p h3 + .ic_social_block, #intercom-container .intercom-auto-response p h4 + p, #intercom-container .intercom-auto-response p h4 + ul, #intercom-container .intercom-auto-response p h4 + ol, #intercom-container .intercom-auto-response p h4 + blockquote, #intercom-container .intercom-auto-response p h4 + .ic_button_in_content, #intercom-container .intercom-auto-response p h4 + .ic_social_block, #intercom-container .intercom-auto-response p h5 + p, #intercom-container .intercom-auto-response p h5 + ul, #intercom-container .intercom-auto-response p h5 + ol, #intercom-container .intercom-auto-response p h5 + blockquote, #intercom-container .intercom-auto-response p h5 + .ic_button_in_content, #intercom-container .intercom-auto-response p h5 + .ic_social_block, #intercom-container .intercom-auto-response p h6 + p, #intercom-container .intercom-auto-response p h6 + ul, #intercom-container .intercom-auto-response p h6 + ol, #intercom-container .intercom-auto-response p h6 + blockquote, #intercom-container .intercom-auto-response p h6 + .ic_button_in_content, #intercom-container .intercom-auto-response p h6 + .ic_social_block {\n    margin-top: 0; }\n  #intercom-container .intercom-auto-response p .intercom-h2b-twitter, #intercom-container .intercom-auto-response p .intercom-h2b-facebook {\n    max-width: 100%; }\n  #intercom-container .intercom-auto-response p iframe[src*="vimeo.com"], #intercom-container .intercom-auto-response p iframe[src*="wistia.net"], #intercom-container .intercom-auto-response p iframe[src*="youtube.com"] {\n    width: 100%;\n    height: 149px;\n    margin: 20px auto; }\n  #intercom-container .intercom-auto-response p iframe[src*=\'wistia.net\'], #intercom-container .intercom-auto-response p a.intercom-h2b-button {\n    text-transform: capitalize; }\n  #intercom-container .intercom-auto-response p a:link, #intercom-container .intercom-auto-response p a:visited {\n    color: #90A4AE; }\n  #intercom-container .intercom-auto-response p a:hover, #intercom-container .intercom-auto-response p a:active {\n    color: #85939a; }\n\n#intercom-container .intercom-announcement {\n  overflow: hidden; }\n#intercom-container .intercom-announcement-body-container {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.07);\n  font-size: 16px;\n  font-weight: 400;\n  color: #455A64;\n  line-height: 23px;\n  /* ALIGNMENT STYLES */\n  border-radius: 5px;\n  border: 1px solid #e4e4e4;\n  background-color: white; }\n  #intercom-container .intercom-announcement-body-container .intercom-comment-body {\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 23px; }\n  #intercom-container .intercom-announcement-body-container p, #intercom-container .intercom-announcement-body-container ul, #intercom-container .intercom-announcement-body-container ol, #intercom-container .intercom-announcement-body-container blockquote, #intercom-container .intercom-announcement-body-container h1, #intercom-container .intercom-announcement-body-container h2, #intercom-container .intercom-announcement-body-container h3, #intercom-container .intercom-announcement-body-container h4, #intercom-container .intercom-announcement-body-container h5, #intercom-container .intercom-announcement-body-container h6, #intercom-container .intercom-announcement-body-container a, #intercom-container .intercom-announcement-body-container .intercom-container, #intercom-container .intercom-announcement-body-container code {\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 23px;\n    word-wrap: break-word;\n    margin: 20px 0; }\n    #intercom-container .intercom-announcement-body-container p:first-child, #intercom-container .intercom-announcement-body-container ul:first-child, #intercom-container .intercom-announcement-body-container ol:first-child, #intercom-container .intercom-announcement-body-container blockquote:first-child, #intercom-container .intercom-announcement-body-container h1:first-child, #intercom-container .intercom-announcement-body-container h2:first-child, #intercom-container .intercom-announcement-body-container h3:first-child, #intercom-container .intercom-announcement-body-container h4:first-child, #intercom-container .intercom-announcement-body-container h5:first-child, #intercom-container .intercom-announcement-body-container h6:first-child, #intercom-container .intercom-announcement-body-container a:first-child, #intercom-container .intercom-announcement-body-container .intercom-container:first-child, #intercom-container .intercom-announcement-body-container code:first-child {\n      margin-top: 0; }\n    #intercom-container .intercom-announcement-body-container p:last-child, #intercom-container .intercom-announcement-body-container ul:last-child, #intercom-container .intercom-announcement-body-container ol:last-child, #intercom-container .intercom-announcement-body-container blockquote:last-child, #intercom-container .intercom-announcement-body-container h1:last-child, #intercom-container .intercom-announcement-body-container h2:last-child, #intercom-container .intercom-announcement-body-container h3:last-child, #intercom-container .intercom-announcement-body-container h4:last-child, #intercom-container .intercom-announcement-body-container h5:last-child, #intercom-container .intercom-announcement-body-container h6:last-child, #intercom-container .intercom-announcement-body-container a:last-child, #intercom-container .intercom-announcement-body-container .intercom-container:last-child, #intercom-container .intercom-announcement-body-container code:last-child {\n      margin-bottom: 0; }\n  #intercom-container .intercom-announcement-body-container h1, #intercom-container .intercom-announcement-body-container h1 a {\n    font-size: 37px;\n    font-weight: 300;\n    line-height: 48px;\n    letter-spacing: 0.35px;\n    margin: 27px 0;\n    color: custom-color; }\n  #intercom-container .intercom-announcement-body-container h1:first-child {\n    text-align: center;\n    -moz-text-align-last: center;\n         text-align-last: center; }\n  #intercom-container .intercom-announcement-body-container h2, #intercom-container .intercom-announcement-body-container h2 a {\n    font-size: 18px;\n    line-height: 27px;\n    font-weight: 400;\n    margin: 20px 0 10px;\n    color: custom-color; }\n  #intercom-container .intercom-announcement-body-container ul, #intercom-container .intercom-announcement-body-container ol {\n    font-size: 16px;\n    -moz-padding-start: 40px;\n    -webkit-padding-start: 40px;\n    -khtml-padding-start: 40px;\n    -o-padding-start: 40px;\n    padding-start: 40px;\n    padding-left: 40px; }\n  #intercom-container .intercom-announcement-body-container [dir=ltr] ul, #intercom-container .intercom-announcement-body-container [dir=ltr] ol {\n    padding-left: 40px; }\n  #intercom-container .intercom-announcement-body-container [dir=rtl] ul, #intercom-container .intercom-announcement-body-container [dir=rtl] ol {\n    padding-right: 40px; }\n  #intercom-container .intercom-announcement-body-container ul > li {\n    list-style-type: disc; }\n  #intercom-container .intercom-announcement-body-container ol > li {\n    list-style-type: decimal; }\n  #intercom-container .intercom-announcement-body-container li {\n    display: list-item;\n    line-height: 26px;\n    margin-bottom: 10px;\n    font-weight: 400; }\n  #intercom-container .intercom-announcement-body-container em, #intercom-container .intercom-announcement-body-container i {\n    font-style: italic; }\n  #intercom-container .intercom-announcement-body-container strong, #intercom-container .intercom-announcement-body-container b {\n    font-weight: bold;\n    line-height: 100%; }\n  #intercom-container .intercom-announcement-body-container pre {\n    font-size: 16px;\n    padding: 0 0 10px 0;\n    white-space: pre-wrap; }\n  #intercom-container .intercom-announcement-body-container img {\n    display: block;\n    max-width: 100%;\n    margin: 10px 0; }\n  #intercom-container .intercom-announcement-body-container p + br {\n    display: none; }\n  #intercom-container .intercom-announcement-body-container a:link, #intercom-container .intercom-announcement-body-container a:visited, #intercom-container .intercom-announcement-body-container a:hover, #intercom-container .intercom-announcement-body-container a:active {\n    text-decoration: underline; }\n  #intercom-container .intercom-announcement-body-container a:link, #intercom-container .intercom-announcement-body-container a:visited {\n    color: custom-color; }\n  #intercom-container .intercom-announcement-body-container a:hover, #intercom-container .intercom-announcement-body-container a:active {\n    color: custom-color-darker; }\n  #intercom-container .intercom-announcement-body-container h2 + p, #intercom-container .intercom-announcement-body-container h2 + ul, #intercom-container .intercom-announcement-body-container h2 + ol, #intercom-container .intercom-announcement-body-container h2 + blockquote, #intercom-container .intercom-announcement-body-container h2 + .ic_button_in_content, #intercom-container .intercom-announcement-body-container h2 + .ic_social_block, #intercom-container .intercom-announcement-body-container h3 + p, #intercom-container .intercom-announcement-body-container h3 + ul, #intercom-container .intercom-announcement-body-container h3 + ol, #intercom-container .intercom-announcement-body-container h3 + blockquote, #intercom-container .intercom-announcement-body-container h3 + .ic_button_in_content, #intercom-container .intercom-announcement-body-container h3 + .ic_social_block, #intercom-container .intercom-announcement-body-container h4 + p, #intercom-container .intercom-announcement-body-container h4 + ul, #intercom-container .intercom-announcement-body-container h4 + ol, #intercom-container .intercom-announcement-body-container h4 + blockquote, #intercom-container .intercom-announcement-body-container h4 + .ic_button_in_content, #intercom-container .intercom-announcement-body-container h4 + .ic_social_block, #intercom-container .intercom-announcement-body-container h5 + p, #intercom-container .intercom-announcement-body-container h5 + ul, #intercom-container .intercom-announcement-body-container h5 + ol, #intercom-container .intercom-announcement-body-container h5 + blockquote, #intercom-container .intercom-announcement-body-container h5 + .ic_button_in_content, #intercom-container .intercom-announcement-body-container h5 + .ic_social_block, #intercom-container .intercom-announcement-body-container h6 + p, #intercom-container .intercom-announcement-body-container h6 + ul, #intercom-container .intercom-announcement-body-container h6 + ol, #intercom-container .intercom-announcement-body-container h6 + blockquote, #intercom-container .intercom-announcement-body-container h6 + .ic_button_in_content, #intercom-container .intercom-announcement-body-container h6 + .ic_social_block {\n    margin-top: 0; }\n  #intercom-container .intercom-announcement-body-container .intercom-h2b-twitter, #intercom-container .intercom-announcement-body-container .intercom-h2b-facebook {\n    max-width: 100%; }\n  #intercom-container .intercom-announcement-body-container iframe[src*="vimeo.com"], #intercom-container .intercom-announcement-body-container iframe[src*="wistia.net"], #intercom-container .intercom-announcement-body-container iframe[src*="youtube.com"] {\n    width: 100%;\n    height: 272px;\n    margin: 20px auto; }\n  #intercom-container .intercom-announcement-body-container iframe[src*=\'wistia.net\'], #intercom-container .intercom-announcement-body-container a.intercom-h2b-button {\n    text-transform: capitalize; }\n  #intercom-container .intercom-announcement-body-container a.intercom-h2b-button {\n    text-decoration: none;\n    padding: 6px 18px;\n    font-weight: 500;\n    display: table;\n    margin: 40px auto;\n    font-size: 15px;\n    line-height: 31px;\n    color: white; }\n  #intercom-container .intercom-announcement-body-container .intercom-align-right {\n    text-align: right !important; }\n    #intercom-container .intercom-announcement-body-container .intercom-align-right img, #intercom-container .intercom-announcement-body-container .intercom-align-right .intercom-h2b-button {\n      margin-right: 0 !important; }\n  #intercom-container .intercom-announcement-body-container .intercom-align-center {\n    text-align: center !important; }\n  #intercom-container .intercom-announcement-body-container .intercom-align-left {\n    text-align: left !important; }\n    #intercom-container .intercom-announcement-body-container .intercom-align-left img, #intercom-container .intercom-announcement-body-container .intercom-align-left .intercom-h2b-button {\n      margin-left: 0 !important; }\n  #intercom-container .intercom-announcement-body-container img {\n    margin: 10px auto 10px; }\n#intercom-container .intercom-announcement .intercom-lwr-composer {\n  border-radius: 0 0 5px 5px; }\n#intercom-container .intercom-announcement-avatar-container {\n  height: 30px; }\n#intercom-container .intercom-announcement-avatar {\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 50%;\n  border: 3px solid white;\n  position: absolute;\n  width: 60px;\n  height: 60px;\n  left: 50%;\n  margin-left: -30px; }\n#intercom-container .intercom-announcement-body {\n  padding: 50px; }\n#intercom-container .intercom-conversation-announcement .intercom-comment {\n  max-width: 400px; }\n\n#intercom-container .intercom-small-announcement {\n  z-index: 2147483000;\n  overflow: hidden; }\n#intercom-container .intercom-small-announcement-body-container {\n  box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.04);\n  font-size: 15px;\n  font-weight: 400;\n  color: #455A64;\n  line-height: 23px;\n  /* ALIGNMENT STYLES */\n  border: 1px solid #e4e4e4;\n  border-radius: 5px;\n  background-color: white;\n  position: relative; }\n  #intercom-container .intercom-small-announcement-body-container .intercom-comment-body {\n    font-size: 15px;\n    font-weight: 400;\n    line-height: 23px; }\n  #intercom-container .intercom-small-announcement-body-container p, #intercom-container .intercom-small-announcement-body-container ul, #intercom-container .intercom-small-announcement-body-container ol, #intercom-container .intercom-small-announcement-body-container blockquote, #intercom-container .intercom-small-announcement-body-container h1, #intercom-container .intercom-small-announcement-body-container h2, #intercom-container .intercom-small-announcement-body-container h3, #intercom-container .intercom-small-announcement-body-container h4, #intercom-container .intercom-small-announcement-body-container h5, #intercom-container .intercom-small-announcement-body-container h6, #intercom-container .intercom-small-announcement-body-container a, #intercom-container .intercom-small-announcement-body-container .intercom-container, #intercom-container .intercom-small-announcement-body-container code {\n    font-size: 15px;\n    font-weight: 400;\n    line-height: 23px;\n    word-wrap: break-word;\n    margin: 20px 0; }\n    #intercom-container .intercom-small-announcement-body-container p:first-child, #intercom-container .intercom-small-announcement-body-container ul:first-child, #intercom-container .intercom-small-announcement-body-container ol:first-child, #intercom-container .intercom-small-announcement-body-container blockquote:first-child, #intercom-container .intercom-small-announcement-body-container h1:first-child, #intercom-container .intercom-small-announcement-body-container h2:first-child, #intercom-container .intercom-small-announcement-body-container h3:first-child, #intercom-container .intercom-small-announcement-body-container h4:first-child, #intercom-container .intercom-small-announcement-body-container h5:first-child, #intercom-container .intercom-small-announcement-body-container h6:first-child, #intercom-container .intercom-small-announcement-body-container a:first-child, #intercom-container .intercom-small-announcement-body-container .intercom-container:first-child, #intercom-container .intercom-small-announcement-body-container code:first-child {\n      margin-top: 0; }\n    #intercom-container .intercom-small-announcement-body-container p:last-child, #intercom-container .intercom-small-announcement-body-container ul:last-child, #intercom-container .intercom-small-announcement-body-container ol:last-child, #intercom-container .intercom-small-announcement-body-container blockquote:last-child, #intercom-container .intercom-small-announcement-body-container h1:last-child, #intercom-container .intercom-small-announcement-body-container h2:last-child, #intercom-container .intercom-small-announcement-body-container h3:last-child, #intercom-container .intercom-small-announcement-body-container h4:last-child, #intercom-container .intercom-small-announcement-body-container h5:last-child, #intercom-container .intercom-small-announcement-body-container h6:last-child, #intercom-container .intercom-small-announcement-body-container a:last-child, #intercom-container .intercom-small-announcement-body-container .intercom-container:last-child, #intercom-container .intercom-small-announcement-body-container code:last-child {\n      margin-bottom: 0; }\n  #intercom-container .intercom-small-announcement-body-container h1, #intercom-container .intercom-small-announcement-body-container h1 a {\n    font-size: 22px;\n    font-weight: 300;\n    line-height: 28px;\n    letter-spacing: 0.3px;\n    margin: 27px 0;\n    color: custom-color; }\n  #intercom-container .intercom-small-announcement-body-container h1:first-child {\n    text-align: center;\n    -moz-text-align-last: center;\n         text-align-last: center; }\n  #intercom-container .intercom-small-announcement-body-container h2, #intercom-container .intercom-small-announcement-body-container h2 a {\n    font-size: 15px;\n    line-height: 24px;\n    font-weight: bold;\n    margin: 20px 0 10px;\n    color: #455A64; }\n  #intercom-container .intercom-small-announcement-body-container ul, #intercom-container .intercom-small-announcement-body-container ol {\n    font-size: 15px;\n    -moz-padding-start: 40px;\n    -webkit-padding-start: 40px;\n    -khtml-padding-start: 40px;\n    -o-padding-start: 40px;\n    padding-start: 40px;\n    padding-left: 30px; }\n  #intercom-container .intercom-small-announcement-body-container [dir=ltr] ul, #intercom-container .intercom-small-announcement-body-container [dir=ltr] ol {\n    padding-left: 30px; }\n  #intercom-container .intercom-small-announcement-body-container [dir=rtl] ul, #intercom-container .intercom-small-announcement-body-container [dir=rtl] ol {\n    padding-right: 30px; }\n  #intercom-container .intercom-small-announcement-body-container ul > li {\n    list-style-type: disc; }\n  #intercom-container .intercom-small-announcement-body-container ol > li {\n    list-style-type: decimal; }\n  #intercom-container .intercom-small-announcement-body-container li {\n    display: list-item;\n    line-height: 22px;\n    margin-bottom: 10px;\n    font-weight: 400; }\n  #intercom-container .intercom-small-announcement-body-container em, #intercom-container .intercom-small-announcement-body-container i {\n    font-style: italic; }\n  #intercom-container .intercom-small-announcement-body-container strong, #intercom-container .intercom-small-announcement-body-container b {\n    font-weight: bold;\n    line-height: 100%; }\n  #intercom-container .intercom-small-announcement-body-container pre {\n    font-size: 15px;\n    padding: 0 0 10px 0;\n    white-space: pre-wrap; }\n  #intercom-container .intercom-small-announcement-body-container img {\n    display: block;\n    max-width: 100%;\n    margin: 10px 0; }\n  #intercom-container .intercom-small-announcement-body-container p + br {\n    display: none; }\n  #intercom-container .intercom-small-announcement-body-container a:link, #intercom-container .intercom-small-announcement-body-container a:visited, #intercom-container .intercom-small-announcement-body-container a:hover, #intercom-container .intercom-small-announcement-body-container a:active {\n    text-decoration: underline; }\n  #intercom-container .intercom-small-announcement-body-container a:link, #intercom-container .intercom-small-announcement-body-container a:visited {\n    color: custom-color; }\n  #intercom-container .intercom-small-announcement-body-container a:hover, #intercom-container .intercom-small-announcement-body-container a:active {\n    color: custom-color-darker; }\n  #intercom-container .intercom-small-announcement-body-container h2 + p, #intercom-container .intercom-small-announcement-body-container h2 + ul, #intercom-container .intercom-small-announcement-body-container h2 + ol, #intercom-container .intercom-small-announcement-body-container h2 + blockquote, #intercom-container .intercom-small-announcement-body-container h2 + .ic_button_in_content, #intercom-container .intercom-small-announcement-body-container h2 + .ic_social_block, #intercom-container .intercom-small-announcement-body-container h3 + p, #intercom-container .intercom-small-announcement-body-container h3 + ul, #intercom-container .intercom-small-announcement-body-container h3 + ol, #intercom-container .intercom-small-announcement-body-container h3 + blockquote, #intercom-container .intercom-small-announcement-body-container h3 + .ic_button_in_content, #intercom-container .intercom-small-announcement-body-container h3 + .ic_social_block, #intercom-container .intercom-small-announcement-body-container h4 + p, #intercom-container .intercom-small-announcement-body-container h4 + ul, #intercom-container .intercom-small-announcement-body-container h4 + ol, #intercom-container .intercom-small-announcement-body-container h4 + blockquote, #intercom-container .intercom-small-announcement-body-container h4 + .ic_button_in_content, #intercom-container .intercom-small-announcement-body-container h4 + .ic_social_block, #intercom-container .intercom-small-announcement-body-container h5 + p, #intercom-container .intercom-small-announcement-body-container h5 + ul, #intercom-container .intercom-small-announcement-body-container h5 + ol, #intercom-container .intercom-small-announcement-body-container h5 + blockquote, #intercom-container .intercom-small-announcement-body-container h5 + .ic_button_in_content, #intercom-container .intercom-small-announcement-body-container h5 + .ic_social_block, #intercom-container .intercom-small-announcement-body-container h6 + p, #intercom-container .intercom-small-announcement-body-container h6 + ul, #intercom-container .intercom-small-announcement-body-container h6 + ol, #intercom-container .intercom-small-announcement-body-container h6 + blockquote, #intercom-container .intercom-small-announcement-body-container h6 + .ic_button_in_content, #intercom-container .intercom-small-announcement-body-container h6 + .ic_social_block {\n    margin-top: 0; }\n  #intercom-container .intercom-small-announcement-body-container .intercom-h2b-twitter, #intercom-container .intercom-small-announcement-body-container .intercom-h2b-facebook {\n    max-width: 100%; }\n  #intercom-container .intercom-small-announcement-body-container iframe[src*="vimeo.com"], #intercom-container .intercom-small-announcement-body-container iframe[src*="wistia.net"], #intercom-container .intercom-small-announcement-body-container iframe[src*="youtube.com"] {\n    width: 100%;\n    height: 162px;\n    margin: 20px auto; }\n  #intercom-container .intercom-small-announcement-body-container iframe[src*=\'wistia.net\'], #intercom-container .intercom-small-announcement-body-container a.intercom-h2b-button {\n    text-transform: capitalize; }\n  #intercom-container .intercom-small-announcement-body-container a.intercom-h2b-button {\n    text-decoration: none;\n    padding: 6px 18px;\n    font-weight: 500;\n    display: table;\n    margin: 20px auto;\n    font-size: 15px;\n    line-height: 31px;\n    color: white; }\n  #intercom-container .intercom-small-announcement-body-container .intercom-align-right {\n    text-align: right !important; }\n    #intercom-container .intercom-small-announcement-body-container .intercom-align-right img, #intercom-container .intercom-small-announcement-body-container .intercom-align-right .intercom-h2b-button {\n      margin-right: 0 !important; }\n  #intercom-container .intercom-small-announcement-body-container .intercom-align-center {\n    text-align: center !important; }\n  #intercom-container .intercom-small-announcement-body-container .intercom-align-left {\n    text-align: left !important; }\n    #intercom-container .intercom-small-announcement-body-container .intercom-align-left img, #intercom-container .intercom-small-announcement-body-container .intercom-align-left .intercom-h2b-button {\n      margin-left: 0 !important; }\n  #intercom-container .intercom-small-announcement-body-container img {\n    margin: 10px auto 10px; }\n#intercom-container .intercom-small-announcement .intercom-lwr-composer {\n  border-radius: 0 0 5px 5px; }\n#intercom-container .intercom-small-announcement-avatar-container {\n  height: 20px; }\n#intercom-container .intercom-small-announcement-avatar {\n  z-index: 2147483001;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 50%;\n  border: 2px solid white;\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  left: 50%;\n  margin-left: -22px; }\n#intercom-container .intercom-small-announcement-body {\n  padding: 26px 23px; }\n#intercom-container .intercom-conversation-preview .intercom-small-announcement-body-container {\n  box-shadow: 0 1px 10px 0 rgba(0, 0, 0, 0.08);\n  max-height: 320px; }\n  #intercom-container .intercom-conversation-preview .intercom-small-announcement-body-container:after {\n    z-index: 2147483002;\n    background: linear-gradient(rgba(255, 255, 255, 0), #ffffff 47px);\n    border-radius: 0 0 5px 5px;\n    content: "";\n    position: absolute;\n    top: 240px;\n    height: 80px;\n    width: 100%; }\n\n#intercom-container .intercom-new-anonymous-user-disabled {\n  opacity: 0.5; }\n#intercom-container .intercom-new-anonymous-user-input-container {\n  position: relative;\n  margin: 0 auto;\n  padding: 5px 0;\n  width: 240px; }\n#intercom-container .intercom-new-anonymous-user, #intercom-container .intercom-new-anonymous-user p {\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0); }\n#intercom-container .intercom-new-anonymous-user input[type="email"] {\n  appearance: none;\n  box-sizing: border-box;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 15px;\n  line-height: 32px;\n  color: #60686e;\n  height: 34px;\n  width: 100%;\n  padding: 0 42px 0 8px;\n  border: 1px solid #e4e5e7;\n  border-radius: 2px;\n  background-color: white; }\n  #intercom-container .intercom-new-anonymous-user input[type="email"]::-webkit-input-placeholder {\n    color: #aeb4b9;\n    font-style: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 15px;\n    font-weight: 400;\n    line-height: 32px; }\n  #intercom-container .intercom-new-anonymous-user input[type="email"]::-moz-placeholder {\n    color: #aeb4b9;\n    font-style: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 15px;\n    font-weight: 400;\n    line-height: 32px; }\n  #intercom-container .intercom-new-anonymous-user input[type="email"]:-ms-input-placeholder {\n    color: #aeb4b9;\n    font-style: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 15px;\n    font-weight: 400;\n    line-height: 32px; }\n  #intercom-container .intercom-new-anonymous-user input[type="email"].intercom-new-anonymous-user-email-invalid {\n    border-color: #d76060;\n    background-color: #fcedee; }\n#intercom-container .intercom-new-anonymous-user input[type="submit"] {\n  background: custom-color;\n  background-image: url(https://js.intercomcdn.com/images/icon-tick.svg), linear-gradient(to bottom, custom-color-light, custom-color);\n  background-repeat: no-repeat;\n  background-position: center;\n  position: absolute;\n  padding: 0;\n  margin: 0;\n  top: 9px;\n  right: 4px;\n  width: 34px;\n  height: 24px; }\n  #intercom-container .intercom-new-anonymous-user input[type="submit"]:hover {\n    background: custom-color-dark;\n    background-image: url(https://js.intercomcdn.com/images/icon-tick.svg), linear-gradient(to bottom, custom-color, custom-color-dark);\n    background-repeat: no-repeat;\n    background-position: center; }\n  #intercom-container .intercom-new-anonymous-user input[type="submit"]:disabled {\n    background: #acbbc2;\n    background-image: url(https://js.intercomcdn.com/images/icon-tick.svg), linear-gradient(to bottom, #b6c5cb, #acbbc2);\n    background-repeat: no-repeat;\n    background-position: center; }\n\n#intercom-container .intercom-composer {\n  z-index: 2147483001;\n  box-shadow: 0 -1px 1px 0 rgba(0, 0, 0, 0.08);\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  max-width: 620px;\n  margin: 0 auto;\n  background-color: #fff;\n  padding: 8px; }\n  #intercom-container .intercom-composer.intercom-composer-inactive {\n    display: none; }\n#intercom-container .intercom-powered-by-enabled .intercom-composer {\n  padding: 8px 8px 0; }\n#intercom-container .intercom-composer-upload-error {\n  display: none;\n  padding-bottom: 10px;\n  text-align: center;\n  color: #c00;\n  font-size: 13px; }\n#intercom-container .intercom-composer-textarea-container {\n  min-height: 32px; }\n#intercom-container .intercom-composer-disabled .intercom-composer-textarea-container {\n  opacity: .5; }\n#intercom-container .intercom-composer-textarea {\n  position: relative;\n  overflow: hidden;\n  border-radius: 4px;\n  border: 1px solid #CFD8DC; }\n  #intercom-container .intercom-composer-textarea textarea, #intercom-container .intercom-composer-textarea pre {\n    box-sizing: border-box;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 15px;\n    line-height: 20px;\n    min-height: 30px;\n    max-height: 200px;\n    width: 100%;\n    height: 100%;\n    padding: 5px 50px 5px 10px;\n    border-radius: 4px; }\n  #intercom-container .intercom-composer-textarea textarea {\n    background: #fff;\n    position: absolute;\n    top: 0;\n    left: 0;\n    font-weight: 400;\n    color: #455A64;\n    resize: none;\n    border: none; }\n    #intercom-container .intercom-composer-textarea textarea::-webkit-input-placeholder {\n      color: #B0BEC5;\n      font-style: "Helvetica Neue", Helvetica, Arial, sans-serif;\n      font-size: 15px;\n      font-weight: 400;\n      line-height: 20px; }\n    #intercom-container .intercom-composer-textarea textarea::-moz-placeholder {\n      color: #B0BEC5;\n      font-style: "Helvetica Neue", Helvetica, Arial, sans-serif;\n      font-size: 15px;\n      font-weight: 400;\n      line-height: 20px; }\n    #intercom-container .intercom-composer-textarea textarea:-ms-input-placeholder {\n      color: #B0BEC5;\n      font-style: "Helvetica Neue", Helvetica, Arial, sans-serif;\n      font-size: 15px;\n      font-weight: 400;\n      line-height: 20px; }\n    #intercom-container .intercom-composer-textarea textarea:focus, #intercom-container .intercom-composer-textarea textarea:active {\n      box-shadow: inset 0 2px 1px rgba(0, 0, 0, 0.06); }\n  #intercom-container .intercom-composer-textarea textarea, #intercom-container .intercom-composer-textarea pre > span {\n    white-space: pre;\n    white-space: pre-wrap;\n    word-wrap: break-word; }\n  #intercom-container .intercom-composer-textarea pre {\n    margin: 0; }\n    #intercom-container .intercom-composer-textarea pre > span {\n      visibility: hidden; }\n  #intercom-container .intercom-composer-textarea.intercom-composer-focused {\n    border-color: #B0BEC5; }\n#intercom-container .intercom-composer-send-button {\n  border-radius: 2px;\n  font-size: 13px;\n  margin-left: 8px;\n  height: 30px;\n  float: right;\n  display: none; }\n#intercom-container .intercom-composer-upload-button {\n  z-index: 2147483001;\n  opacity: 0.6;\n  background-image: url(https://js.intercomcdn.com/images/icon-upload.png) /* noembed */;\n  background-size: 15px 14px;\n  background-repeat: no-repeat;\n  background-position: center;\n  display: none;\n  height: 15px;\n  width: 14px;\n  position: absolute;\n  cursor: pointer;\n  top: 2px;\n  right: 26px;\n  padding: 5px; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container .intercom-composer-upload-button {\n      background-image: url(https://js.intercomcdn.com/images/icon-upload@2x.png) /* noembed */; } }\n  #intercom-container .intercom-composer-upload-button:hover {\n    opacity: 1; }\n#intercom-container .intercom-composer-emoji-button {\n  z-index: 2147483001;\n  opacity: 0.6;\n  background-image: url(https://js.intercomcdn.com/images/icon-emoji.png) /* noembed */;\n  background-size: 15px 15px;\n  background-repeat: no-repeat;\n  display: none;\n  height: 15px;\n  width: 15px;\n  position: absolute;\n  top: 3px;\n  right: 4px;\n  padding: 5px;\n  background-position: center;\n  cursor: pointer; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container .intercom-composer-emoji-button {\n      background-image: url(https://js.intercomcdn.com/images/icon-emoji@2x.png) /* noembed */; } }\n  #intercom-container .intercom-composer-emoji-button:hover, #intercom-container .intercom-composer-emoji-button.intercom-composer-emoji-button-active {\n    opacity: 1; }\n#intercom-container .intercom-conversation-announcement .intercom-composer {\n  border: 1px solid #dadee2;\n  border-bottom: none;\n  border-radius: 4px 4px 0 0; }\n#intercom-container .intercom-composer-press-enter-to-send {\n  display: none;\n  text-align: right;\n  width: 100%;\n  box-sizing: border-box;\n  line-height: 22px;\n  color: #b6c2c9;\n  font-size: 13px; }\n#intercom-container .intercom-powered-by-enabled .intercom-composer-press-enter-to-send {\n  position: absolute;\n  padding-bottom: 2px;\n  bottom: 0;\n  left: 8px;\n  right: 8px;\n  width: auto; }\n\n#intercom-container .intercom-emoji-selector {\n  z-index: 2147483001;\n  box-shadow: 0 0 3px 1px rgba(0, 0, 0, 0.1);\n  background-color: #ffffff;\n  border-radius: 3px;\n  border: 1px #D0D4D8 solid;\n  position: absolute;\n  bottom: calc(100% - 13px);\n  right: 10px;\n  margin: 0px 0px 5px 0px;\n  display: none;\n  font-size: 22px; }\n  #intercom-container .intercom-emoji-selector:after, #intercom-container .intercom-emoji-selector:before {\n    top: 100%;\n    right: 21px;\n    border: solid transparent;\n    content: " ";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none; }\n  #intercom-container .intercom-emoji-selector:after {\n    border-color: rgba(240, 240, 240, 0);\n    border-top-color: #ffffff;\n    border-width: 7px;\n    margin-right: -12px; }\n  #intercom-container .intercom-emoji-selector:before {\n    border-color: rgba(170, 170, 170, 0);\n    border-top-color: #aaaaaa;\n    border-width: 8px;\n    margin-right: -13px; }\n#intercom-container .intercom-emoji-selector-panel-small {\n  background-color: #FFFFFF;\n  width: 144px;\n  line-height: 0;\n  bottom: 0px;\n  border-radius: 3px; }\n  #intercom-container .intercom-emoji-selector-panel-small .intercom-emoji-image {\n    background-image: url(https://js.intercomcdn.com/images/emoji-spritemap-16.png) /* noembed */;\n    background-size: 464px 464px;\n    background-repeat: no-repeat;\n    border-radius: 3px;\n    border: 10px solid;\n    color: #FFFFFF;\n    background-color: #FFFFFF;\n    border-color: #FFFFFF;\n    cursor: pointer; }\n    @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n      #intercom-container .intercom-emoji-selector-panel-small .intercom-emoji-image {\n        background-image: url(https://js.intercomcdn.com/images/emoji-spritemap-32.png) /* noembed */; } }\n    #intercom-container .intercom-emoji-selector-panel-small .intercom-emoji-image:hover {\n      background-color: #EDEDED;\n      border-color: #EDEDED;\n      color: #EDEDED; }\n#intercom-container .intercom-emoji-selector-panel-large {\n  box-shadow: 0 -1px 3px 0 rgba(0, 0, 0, 0.1);\n  background-color: #FFFFFF;\n  height: 220px;\n  width: 322px;\n  overflow-y: auto;\n  display: none;\n  border-radius: 0px 0px 3px 3px; }\n  #intercom-container .intercom-emoji-selector-panel-large.active {\n    display: block; }\n  #intercom-container .intercom-emoji-selector-panel-large .intercom-emoji-icon {\n    color: #60686e;\n    margin: 5px 5px 5px 5px;\n    width: 30px;\n    line-height: 30px;\n    display: inline-table;\n    text-align: center;\n    cursor: pointer; }\n    #intercom-container .intercom-emoji-selector-panel-large .intercom-emoji-icon:hover {\n      background-color: #EDEDED; }\n#intercom-container .intercom-large-emoji-panel-top-mask {\n  background: linear-gradient(#ffffff, rgba(255, 255, 255, 0) 20px);\n  height: 20px;\n  width: 100%;\n  position: absolute;\n  top: 35px;\n  left: 0;\n  content: "";\n  pointer-events: none;\n  display: none; }\n#intercom-container .intercom-large-emoji-panel-bottom-mask {\n  background: linear-gradient(rgba(255, 255, 255, 0), #ffffff 20px);\n  height: 20px;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  content: "";\n  border-radius: 0 0 3px 3px;\n  pointer-events: none;\n  display: block; }\n#intercom-container .intercom-emoji-selector-panel-header {\n  background-color: #FAFAFB;\n  height: 35px;\n  width: 322px;\n  text-align: center;\n  border-radius: 3px; }\n  #intercom-container .intercom-emoji-selector-panel-header .intercom-emoji-group-icon {\n    z-index: 2147483001;\n    position: relative;\n    color: #60686e;\n    line-height: 30px;\n    width: 45px;\n    margin-top: 5px;\n    text-align: center;\n    display: inline-block;\n    border-radius: 3px 3px 0px 0px;\n    cursor: pointer; }\n    #intercom-container .intercom-emoji-selector-panel-header .intercom-emoji-group-icon:hover {\n      background-color: #EDEDED; }\n    #intercom-container .intercom-emoji-selector-panel-header .intercom-emoji-group-icon.active {\n      z-index: 2147483002;\n      background-color: #FFFFFF;\n      box-shadow: 0 -1px 3px 0 rgba(0, 0, 0, 0.1);\n      border-bottom: none; }\n\n#intercom-container .intercom-lwr-composer {\n  width: 100%;\n  height: 54px;\n  border-top: 1px solid #e4e5e7;\n  display: none;\n  overflow: hidden;\n  min-width: 120px; }\n#intercom-container .intercom-lwr-composer-active {\n  display: block; }\n#intercom-container .intercom-lwr-composer-options:before, #intercom-container .intercom-lwr-composer-options:after {\n  content: " ";\n  display: table; }\n#intercom-container .intercom-lwr-composer-options:after {\n  clear: both; }\n#intercom-container .intercom-lwr-composer-option {\n  background-color: #fdfdfd;\n  position: relative;\n  float: left;\n  height: 54px; }\n#intercom-container .intercom-lwr-composer-enabled .intercom-lwr-composer-option {\n  cursor: pointer; }\n  #intercom-container .intercom-lwr-composer-enabled .intercom-lwr-composer-option svg {\n    cursor: pointer; }\n#intercom-container .intercom-lwr-composer-enabled .intercom-lwr-composer-option:hover {\n  background-color: #f7f7f7; }\n#intercom-container .intercom-lwr-composer-option svg {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 16px;\n  height: 16px;\n  margin-left: -8px;\n  margin-top: -8px;\n  background-color: transparent; }\n#intercom-container .intercom-lwr-composer-options-thumbs .intercom-lwr-composer-option {\n  width: 50%; }\n#intercom-container .intercom-lwr-composer-options-emotions .intercom-lwr-composer-option {\n  width: 33.33%; }\n#intercom-container .intercom-lwr-composer-option-selected .intercom-lwr-composer-icon {\n  fill: custom-color; }\n#intercom-container .intercom-lwr-composer-option .intercom-lwr-option-background {\n  fill: #fdfdfd; }\n#intercom-container .intercom-lwr-composer-enabled .intercom-lwr-composer-option:hover .intercom-lwr-option-background {\n  fill: #f7f7f7; }\n\n#intercom-container .intercom-powered-by {\n  width: 100%;\n  background-color: #fff;\n  color: #B0BEC5;\n  text-align: center;\n  clear: both;\n  font-weight: 500;\n  line-height: 22px; }\n  #intercom-container .intercom-powered-by span {\n    font-size: 13px;\n    text-decoration: none; }\n  #intercom-container .intercom-powered-by u {\n    text-decoration: underline; }\n  #intercom-container .intercom-powered-by a:hover, #intercom-container .intercom-powered-by a:active {\n    color: #B0BEC5; }\n    #intercom-container .intercom-powered-by a:hover u, #intercom-container .intercom-powered-by a:active u {\n      color: #B0BEC5; }\n\n#intercom-container .intercom-upload-remove {\n  background-image: url(https://js.intercomcdn.com/images/icon-upload-remove.png) /* noembed */;\n  background-size: 14px 14px;\n  background-repeat: no-repeat;\n  opacity: .8;\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  width: 14px;\n  height: 14px;\n  right: -22px;\n  top: 2px; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container .intercom-upload-remove {\n      background-image: url(https://js.intercomcdn.com/images/icon-upload-remove@2x.png) /* noembed */; } }\n  #intercom-container .intercom-upload-remove:hover {\n    opacity: 1; }\n\n#intercom-container .intercom-unread-counter {\n  border-radius: 50%;\n  border: 2px solid white;\n  font-size: 11px;\n  line-height: 16px;\n  background-color: custom-color;\n  text-align: center;\n  color: white;\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  top: 11px;\n  left: 11px;\n  cursor: pointer;\n  display: none; }\n  #intercom-container .intercom-unread-counter.intercom-unread-counter-active {\n    display: block; }\n\n#intercom-container .intercom-is-typing:before, #intercom-container .intercom-is-typing:after {\n  content: " ";\n  display: table; }\n#intercom-container .intercom-is-typing:after {\n  clear: both; }\n#intercom-container .intercom-is-typing-icon {\n  background-image: url(https://js.intercomcdn.com/images/icon-is-typing.gif) /* noembed */;\n  background-size: 38px 18px;\n  background-repeat: no-repeat;\n  height: 18px;\n  cursor: default; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container .intercom-is-typing-icon {\n      background-image: url(https://js.intercomcdn.com/images/icon-is-typing@2x.gif) /* noembed */; } }\n#intercom-container .intercom-is-typing .intercom-comment-body {\n  min-width: 38px;\n  padding-left: 12px; }\n\n#intercom-container.intercom-ie8 .intercom-sheet-content {\n  clip: rect(-9999px, 9999px, 9999px, -9999px); }\n#intercom-container.intercom-ie8 .intercom-sheet-loading, #intercom-container.intercom-ie8 .intercom-conversations, #intercom-container.intercom-ie8 .intercom-conversation {\n  border-left: 1px solid #dadee2; }\n#intercom-container.intercom-ie8 .intercom-app-profile, #intercom-container.intercom-ie8 .intercom-sheet-header {\n  border-bottom: 1px solid #dadee2; }\n#intercom-container.intercom-ie8 .intercom-composer, #intercom-container.intercom-ie8 .intercom-sheet-footer {\n  border-top: 1px solid #dadee2; }\n#intercom-container.intercom-ie8 .intercom-launcher.intercom-launcher-with-notification .intercom-launcher-button-with-avatar, #intercom-container.intercom-ie8 .intercom-launcher.intercom-launcher-with-badge .intercom-launcher-button-with-avatar {\n  display: none; }\n#intercom-container.intercom-ie8 .intercom-launcher.intercom-launcher-with-notification .intercom-launcher-button-without-avatar, #intercom-container.intercom-ie8 .intercom-launcher.intercom-launcher-with-badge .intercom-launcher-button-without-avatar {\n  visibility: visible; }\n#intercom-container.intercom-ie8 .intercom-launcher.intercom-launcher-with-notification .intercom-launcher-badge, #intercom-container.intercom-ie8 .intercom-launcher.intercom-launcher-with-badge .intercom-launcher-badge {\n  right: 0; }\n#intercom-container.intercom-ie8 .intercom-lwr-composer-option-selected.intercom-lwr-composer-option, #intercom-container.intercom-ie8 .intercom-lwr-composer-enabled .intercom-lwr-composer-option:hover {\n  background-color: #f7f7f7; }\n#intercom-container.intercom-ie8 .intercom-comment {\n  display: block;\n  float: none;\n  max-width: 100%;\n  width: 100%;\n  box-sizing: border-box; }\n#intercom-container.intercom-ie8 .intercom-comment-by-user .intercom-comment-body-container, #intercom-container.intercom-ie8 .intercom-comment-by-admin .intercom-comment-body-container {\n  max-width: 272px;\n  float: right;\n  clear: both; }\n#intercom-container.intercom-ie8 .intercom-comment-metadata-container {\n  clear: both; }\n#intercom-container.intercom-ie8 .intercom-comment-by-admin .intercom-comment-body-container {\n  float: left; }\n#intercom-container.intercom-ie8 .intercom-lwr-composer-option svg {\n  display: none; }\n#intercom-container.intercom-ie8 .intercom-lwr-composer-option .intercom-lwr-icon {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 18px;\n  height: 18px;\n  margin-left: -9px;\n  margin-top: -9px;\n  background-repeat: no-repeat; }\n#intercom-container.intercom-ie8 .intercom-lwr-composer-option.intercom-lwr-composer-option-thumbs-up .intercom-lwr-icon {\n  background-image: url(https://js.intercomcdn.com/images/icon-thumbs-up.png); }\n#intercom-container.intercom-ie8 .intercom-lwr-composer-option.intercom-lwr-composer-option-thumbs-down .intercom-lwr-icon {\n  background-image: url(https://js.intercomcdn.com/images/icon-thumbs-down.png); }\n#intercom-container.intercom-ie8 .intercom-lwr-composer-option.intercom-lwr-composer-option-happy .intercom-lwr-icon {\n  background-image: url(https://js.intercomcdn.com/images/icon-emotion-happy.png); }\n#intercom-container.intercom-ie8 .intercom-lwr-composer-option.intercom-lwr-composer-option-neutral .intercom-lwr-icon {\n  background-image: url(https://js.intercomcdn.com/images/icon-emotion-neutral.png); }\n#intercom-container.intercom-ie8 .intercom-lwr-composer-option.intercom-lwr-composer-option-sad .intercom-lwr-icon {\n  background-image: url(https://js.intercomcdn.com/images/icon-emotion-sad.png); }\n#intercom-container.intercom-ie8 .intercom-autoresponse-icon {\n  border: none;\n  background-color: #fafafa; }\n  #intercom-container.intercom-ie8 .intercom-autoresponse-icon i {\n    background: url(https://js.intercomcdn.com/images/icon-info.png);\n    width: 32px;\n    height: 32px;\n    margin: 2px; }\n#intercom-container.intercom-ie8 .intercom-conversations-new-conversation-button i {\n  background-image: url(https://js.intercomcdn.com/images/icon-compose.png);\n  height: 14px; }\n#intercom-container.intercom-ie8 .intercom-conversations-item-user-avatar {\n  background-image: url(https://js.intercomcdn.com/images/icon-user-avatar.png); }\n\n@-webkit-keyframes intercom-launcher-show-avatar {\n  0% {\n    -webkit-transform: scale(0);\n            transform: scale(0); }\n\n  80% {\n    -webkit-transform: scale(1.2);\n            transform: scale(1.2); }\n\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@-keyframes intercom-launcher-show-avatar {\n  0% {\n    -webkit-transform: scale(0);\n        -ms-transform: scale(0);\n            transform: scale(0); }\n\n  80% {\n    -webkit-transform: scale(1.2);\n        -ms-transform: scale(1.2);\n            transform: scale(1.2); }\n\n  100% {\n    -webkit-transform: scale(1);\n        -ms-transform: scale(1);\n            transform: scale(1); } }\n\n@-webkit-keyframes intercom-launcher-hide-and-show-avatar {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1); }\n\n  50% {\n    -webkit-transform: scale(0);\n            transform: scale(0); }\n\n  80% {\n    -webkit-transform: scale(1.2);\n            transform: scale(1.2); }\n\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@-keyframes intercom-launcher-hide-and-show-avatar {\n  0% {\n    -webkit-transform: scale(1);\n        -ms-transform: scale(1);\n            transform: scale(1); }\n\n  50% {\n    -webkit-transform: scale(0);\n        -ms-transform: scale(0);\n            transform: scale(0); }\n\n  80% {\n    -webkit-transform: scale(1.2);\n        -ms-transform: scale(1.2);\n            transform: scale(1.2); }\n\n  100% {\n    -webkit-transform: scale(1);\n        -ms-transform: scale(1);\n            transform: scale(1); } }\n\n@-webkit-keyframes intercom-launcher-show-badge {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(0);\n            transform: scale(0); }\n\n  50% {\n    opacity: 0; }\n\n  75% {\n    opacity: 1;\n    -webkit-transform: scale(1.1);\n            transform: scale(1.1); }\n\n  100% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@-keyframes intercom-launcher-show-badge {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(0);\n        -ms-transform: scale(0);\n            transform: scale(0); }\n\n  50% {\n    opacity: 0; }\n\n  75% {\n    opacity: 1;\n    -webkit-transform: scale(1.1);\n        -ms-transform: scale(1.1);\n            transform: scale(1.1); }\n\n  100% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n        -ms-transform: scale(1);\n            transform: scale(1); } }\n\n@-webkit-keyframes intercom-launcher-show-preview {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate(10px, 0);\n            transform: translate(10px, 0); }\n\n  50% {\n    -webkit-transform: translate(-5px, 0) scale(1.05);\n            transform: translate(-5px, 0) scale(1.05); }\n\n  100% {\n    opacity: 1;\n    -webkit-transform: translate(0, 0) scale(1);\n            transform: translate(0, 0) scale(1); } }\n\n@-keyframes intercom-launcher-show-preview {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate(10px, 0);\n        -ms-transform: translate(10px, 0);\n            transform: translate(10px, 0); }\n\n  50% {\n    -webkit-transform: translate(-5px, 0) scale(1.05);\n        -ms-transform: translate(-5px, 0) scale(1.05);\n            transform: translate(-5px, 0) scale(1.05); }\n\n  100% {\n    opacity: 1;\n    -webkit-transform: translate(0, 0) scale(1);\n        -ms-transform: translate(0, 0) scale(1);\n            transform: translate(0, 0) scale(1); } }\n\n@-webkit-keyframes intercom-launcher-update-preview {\n  0% {\n    opacity: 1;\n    -webkit-transform: translate(0, 0) scale(1);\n            transform: translate(0, 0) scale(1); }\n\n  50% {\n    -webkit-transform: translate(-5px, 0) scale(.95);\n            transform: translate(-5px, 0) scale(.95); }\n\n  100% {\n    opacity: 0;\n    -webkit-transform: translate(10px, 0) scale(0);\n            transform: translate(10px, 0) scale(0); } }\n\n@-keyframes intercom-launcher-update-preview {\n  0% {\n    opacity: 1;\n    -webkit-transform: translate(0, 0) scale(1);\n        -ms-transform: translate(0, 0) scale(1);\n            transform: translate(0, 0) scale(1); }\n\n  50% {\n    -webkit-transform: translate(-5px, 0) scale(.95);\n        -ms-transform: translate(-5px, 0) scale(.95);\n            transform: translate(-5px, 0) scale(.95); }\n\n  100% {\n    opacity: 0;\n    -webkit-transform: translate(10px, 0) scale(0);\n        -ms-transform: translate(10px, 0) scale(0);\n            transform: translate(10px, 0) scale(0); } }\n\n@-webkit-keyframes intercom-launcher-minimize {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1); }\n\n  100% {\n    -webkit-transform: scale(0);\n            transform: scale(0); } }\n\n@-keyframes intercom-launcher-minimize {\n  0% {\n    -webkit-transform: scale(1);\n        -ms-transform: scale(1);\n            transform: scale(1); }\n\n  100% {\n    -webkit-transform: scale(0);\n        -ms-transform: scale(0);\n            transform: scale(0); } }\n\n@-webkit-keyframes intercom-launcher-maximize {\n  0% {\n    -webkit-transform: scale(0);\n            transform: scale(0); }\n\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@-keyframes intercom-launcher-maximize {\n  0% {\n    -webkit-transform: scale(0);\n        -ms-transform: scale(0);\n            transform: scale(0); }\n\n  100% {\n    -webkit-transform: scale(1);\n        -ms-transform: scale(1);\n            transform: scale(1); } }\n\n#intercom-container .intercom-launcher.intercom-launcher-minimized {\n  transition: opacity, .1s; }\n#intercom-container .intercom-launcher.intercom-launcher-minimized .intercom-launcher-button {\n  -webkit-animation: intercom-launcher-minimize .1s linear 0s both;\n          animation: intercom-launcher-minimize .1s linear 0s both;\n  transition: background-image 0s linear .1s; }\n#intercom-container .intercom-launcher.intercom-launcher-maximized .intercom-launcher-button {\n  -webkit-animation: intercom-launcher-maximize .1s linear 0s both;\n          animation: intercom-launcher-maximize .1s linear 0s both; }\n#intercom-container .intercom-launcher.intercom-launcher-with-updated-avatar .intercom-launcher-button {\n  -webkit-animation: intercom-launcher-show-avatar .15s ease-out 1s both;\n          animation: intercom-launcher-show-avatar .15s ease-out 1s both; }\n#intercom-container .intercom-launcher-maximized.intercom-launcher-with-updated-avatar .intercom-launcher-button, #intercom-container .intercom-launcher-enabled.intercom-launcher-with-updated-avatar .intercom-launcher-button {\n  -webkit-animation: intercom-launcher-hide-and-show-avatar .3s ease-out 1s both;\n          animation: intercom-launcher-hide-and-show-avatar .3s ease-out 1s both;\n  transition: background-image 0s linear 1.15s, background-size 0s linear 1.15s, border-width 0s linear 1.15s; }\n#intercom-container .intercom-launcher.intercom-launcher-with-badge .intercom-launcher-badge {\n  -webkit-animation: intercom-launcher-show-badge .3s ease-out 1.5s both;\n          animation: intercom-launcher-show-badge .3s ease-out 1.5s both; }\n#intercom-container .intercom-launcher.intercom-launcher-with-updated-avatar.intercom-launcher-with-initials .intercom-launcher-initials, #intercom-container .intercom-launcher-enabled.intercom-launcher-with-updated-avatar.intercom-launcher-with-initials .intercom-launcher-initials {\n  -webkit-animation: intercom-launcher-show-avatar .3s ease-out 1s both;\n          animation: intercom-launcher-show-avatar .3s ease-out 1s both; }\n#intercom-container .intercom-launcher.intercom-launcher-with-preview .intercom-launcher-preview {\n  -webkit-animation: intercom-launcher-show-preview .3s ease-in-out 1.5s both;\n          animation: intercom-launcher-show-preview .3s ease-in-out 1.5s both; }\n#intercom-container .intercom-launcher.intercom-launcher-with-preview .intercom-launcher-update-preview {\n  -webkit-animation: intercom-launcher-update-preview .3s ease-out 1s both;\n          animation: intercom-launcher-update-preview .3s ease-out 1s both; }\n#intercom-container .intercom-launcher.intercom-launcher-with-preview .intercom-launcher-preview-close {\n  transition: opacity .1s ease-in; }\n\n#intercom-container .intercom-conversation-parts {\n  transition: opacity .2s; }\n#intercom-container .intercom-sheet-loading .intercom-conversation-parts {\n  transition: none; }\n#intercom-container .intercom-conversation-preview .intercom-sheet-header {\n  transition: none; }\n\n@-webkit-keyframes intercom-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-keyframes intercom-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n        -ms-transform: rotate(0deg);\n            transform: rotate(0deg); }\n\n  100% {\n    -webkit-transform: rotate(360deg);\n        -ms-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n#intercom-container .intercom-sheet-loading .intercom-sheet-spinner, #intercom-container .intercom-conversations-fetching .intercom-conversations-spinner {\n  -webkit-animation: intercom-spin 1s infinite linear;\n          animation: intercom-spin 1s infinite linear; }\n\n@-webkit-keyframes intercom-lwr-composer-option-bounce {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1); }\n\n  50% {\n    -webkit-transform: scale(1.5);\n            transform: scale(1.5); }\n\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@-keyframes intercom-lwr-composer-option-bounce {\n  0% {\n    -webkit-transform: scale(1);\n        -ms-transform: scale(1);\n            transform: scale(1); }\n\n  50% {\n    -webkit-transform: scale(1.5);\n        -ms-transform: scale(1.5);\n            transform: scale(1.5); }\n\n  100% {\n    -webkit-transform: scale(1);\n        -ms-transform: scale(1);\n            transform: scale(1); } }\n\n#intercom-container .intercom-lwr-composer-option-pop svg {\n  -webkit-animation: intercom-lwr-composer-option-bounce .2s ease-in 0 both;\n          animation: intercom-lwr-composer-option-bounce .2s ease-in 0 both; }\n\n#intercom-container .intercom-announcement a.intercom-h2b-button, #intercom-container .intercom-small-announcement a.intercom-h2b-button {\n  transition: background-color 0.05s linear; }\n  #intercom-container .intercom-announcement a.intercom-h2b-button:hover, #intercom-container .intercom-small-announcement a.intercom-h2b-button:hover {\n    transition: background-color 0.05s linear; }\n\n#intercom-container .intercom-conversations-new-conversation-button, #intercom-container .intercom-announcement-body-container a.intercom-h2b-button, #intercom-container .intercom-small-announcement-body-container a.intercom-h2b-button, #intercom-container .intercom-new-anonymous-user input[type="submit"], #intercom-container .intercom-composer-send-button {\n  transition: background-color 100ms linear; }\n\n#intercom-container .intercom-sheet {\n  -webkit-transform: scale(1);\n      -ms-transform: scale(1);\n          transform: scale(1);\n  -webkit-transform-origin: bottom right;\n      -ms-transform-origin: bottom right;\n          transform-origin: bottom right;\n  transition: -webkit-transform 250ms ease-in-out, opacity 100ms linear 150ms;\n  transition: transform 250ms ease-in-out, opacity 100ms linear 150ms; }\n#intercom-container .intercom-sheet-minimized {\n  -webkit-transform: scale(0);\n      -ms-transform: scale(0);\n          transform: scale(0);\n  transition: -webkit-transform 250ms ease-in-out, opacity 100ms linear, visibility 0s linear 250ms;\n  transition: transform 250ms ease-in-out, opacity 100ms linear, visibility 0s linear 250ms; }\n\n#intercom-container .intercom-conversation-embed .intercom-embed-no-header {\n  top: 0;\n  padding-top: 0; }\n#intercom-container .intercom-conversation-embed .intercom-sheet-content {\n  overflow: auto;\n  z-index: 1; }\n#intercom-container .intercom-conversation-embed .intercom-sheet-header, #intercom-container .intercom-conversation-embed .intercom-sheet-body, #intercom-container .intercom-conversation-embed .intercom-sheet-content, #intercom-container .intercom-conversation-embed .intercom-sheet-footer {\n  position: absolute;\n  width: 100%; }\n#intercom-container .intercom-conversation-embed .intercom-small-announcement-avatar, #intercom-container .intercom-conversation-embed .intercom-sheet-header {\n  z-index: 1; }\n#intercom-container .intercom-conversation-embed .intercom-small-announcement, #intercom-container .intercom-conversation-embed .intercom-sheet-body {\n  z-index: initial; }\n#intercom-container .intercom-conversation-embed .intercom-sheet-body {\n  border: none;\n  z-index: 0; }\n#intercom-container .intercom-conversation-embed .intercom-comment-timestamp {\n  display: none; }\n#intercom-container .intercom-conversation-embed .intercom-composer {\n  z-index: 0; }\n\n#intercom-container #intercom-embedded-launcher {\n  z-index: 2147483000;\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  height: 48px;\n  width: 48px;\n  position: relative; }\n#intercom-container #intercom-embedded-launcher.intercom-launcher-with-preview {\n  width: 340px; }\n\n#intercom-container .intercom-emoji-sub-icon {\n  background-image: url(https://js.intercomcdn.com/images/emoji-spritemap-16.png) /* noembed */;\n  background-size: 464px 464px;\n  background-repeat: no-repeat;\n  position: relative;\n  top: 2px;\n  margin: 1px; }\n  @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n    #intercom-container .intercom-emoji-sub-icon {\n      background-image: url(https://js.intercomcdn.com/images/emoji-spritemap-32.png) /* noembed */; } }\n\n#intercom-container .intercom-sticker-comment-body {\n  padding: 0; }\n#intercom-container .intercom-sticker-user-comment {\n  float: right; }\n  #intercom-container .intercom-sticker-user-comment .intercom-sticker-comment-body {\n    float: right; }\n  #intercom-container .intercom-sticker-user-comment .intercom-comment-metadata {\n    float: right; }\n#intercom-container .intercom-sticker-admin-comment {\n  padding-left: 38px; }\n#intercom-container .intercom-sticker-image {\n  width: 96px;\n  height: 96px;\n  min-width: 96px;\n  min-height: 96px; }\n#intercom-container .intercom-sticker-native {\n  font-size: 96px;\n  line-height: 1.1; }\n\n#intercom-container {\n  /* Invisible bounding box for controls area down the bottom of the video. */\n  /* Shading for .intercom-video-reply-controls.\n     Implemented as a child element, rather than putting these styles on .intercom-video-reply-controls,\n     so the shading\'s opacity can be changed without affecting the controls\' opacity. */\n  /* Controls bar is the horizontal slice within the controls area\n     which contains the row of buttons: used to vertically position the\n     button row where we want it. */\n  /* Play/pause button in the bottom-left.\n     Zero-opacity, only becoming visible when the video is being hovered over. */\n  /* Mute/unmute button in the bottom-right.\n     When in "unmuted" state, it\'s zero-opacity-except-on-hover, like the\n     play/pause button.\n     When in "muted" state however, it\'s always visible.\n  */\n  /* Video progress bar.\n     Like the buttons, this is zero-opacity-except-on-hover.\n     The full/empty region shading is implemented with a background gradient,\n     set in javascript. */ }\n  #intercom-container .intercom-interblocks-video-reply {\n    display: block;\n    width: 100%;\n    border-radius: 4px;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.8);\n    z-index: 0;\n    background-color: black; }\n  #intercom-container .intercom-video-reply {\n    position: relative;\n    /* All controls become visible when the video is hovered over. */ }\n    #intercom-container .intercom-video-reply:hover div {\n      opacity: 1.0;\n      transition: opacity 0.4s ease; }\n  #intercom-container .intercom-video-reply-controls {\n    position: absolute;\n    bottom: 0px;\n    height: 64px;\n    width: 100%;\n    z-index: 1; }\n  #intercom-container .intercom-video-reply-controls-shading {\n    position: absolute;\n    opacity: 0.0;\n    background-image: linear-gradient(transparent, rgba(0, 0, 0, 0.7));\n    height: 100%;\n    width: 100%; }\n  #intercom-container .intercom-video-reply-controls-bar {\n    position: absolute;\n    width: 100%;\n    height: 40px;\n    bottom: 0px; }\n  #intercom-container .intercom-video-reply-controls-playpausebutton {\n    position: absolute;\n    width: 39px;\n    left: 0px;\n    height: 100%;\n    opacity: 0.0;\n    background-position: center;\n    cursor: pointer; }\n    #intercom-container .intercom-video-reply-controls-playpausebutton.intercom-paused {\n      background-image: url(https://js.intercomcdn.com/images/video-play.png) /* noembed */;\n      background-size: 11px 12px;\n      background-repeat: no-repeat; }\n      @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n        #intercom-container .intercom-video-reply-controls-playpausebutton.intercom-paused {\n          background-image: url(https://js.intercomcdn.com/images/video-play@2x.png) /* noembed */; } }\n    #intercom-container .intercom-video-reply-controls-playpausebutton.intercom-unpaused {\n      background-image: url(https://js.intercomcdn.com/images/video-pause.png) /* noembed */;\n      background-size: 10px 12px;\n      background-repeat: no-repeat; }\n      @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n        #intercom-container .intercom-video-reply-controls-playpausebutton.intercom-unpaused {\n          background-image: url(https://js.intercomcdn.com/images/video-pause@2x.png) /* noembed */; } }\n  #intercom-container .intercom-video-reply-controls-mutebutton {\n    position: absolute;\n    width: 45px;\n    height: 100%;\n    right: 0px;\n    background-position: center;\n    cursor: pointer; }\n    #intercom-container .intercom-video-reply-controls-mutebutton.intercom-muted {\n      opacity: 1.0;\n      background-image: url(https://js.intercomcdn.com/images/video-muted.png) /* noembed */;\n      background-size: 19px 18px;\n      background-repeat: no-repeat; }\n      @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n        #intercom-container .intercom-video-reply-controls-mutebutton.intercom-muted {\n          background-image: url(https://js.intercomcdn.com/images/video-muted@2x.png) /* noembed */; } }\n    #intercom-container .intercom-video-reply-controls-mutebutton.intercom-unmuted {\n      opacity: 0.0;\n      background-image: url(https://js.intercomcdn.com/images/video-unmuted.png) /* noembed */;\n      background-size: 19px 18px;\n      background-repeat: no-repeat; }\n      @media (min--moz-device-pixel-ratio: 1.3), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {\n        #intercom-container .intercom-video-reply-controls-mutebutton.intercom-unmuted {\n          background-image: url(https://js.intercomcdn.com/images/video-unmuted@2x.png) /* noembed */; } }\n  #intercom-container .intercom-video-reply-controls-progressbar {\n    position: absolute;\n    height: 2px;\n    width: 180px;\n    bottom: 19px;\n    left: 39px;\n    opacity: 0.0;\n    border-radius: 1px;\n    background: rgba(255, 255, 255, 0.5); }\n\n#intercom-container .intercom-image-only-comment-body {\n  padding: 0;\n  margin: 10px 0; }\n  #intercom-container .intercom-image-only-comment-body img {\n    border-radius: 4px; }\n#intercom-container .intercom-image-only-user-comment {\n  float: right; }\n  #intercom-container .intercom-image-only-user-comment .intercom-comment-metadata {\n    float: right; }\n#intercom-container .intercom-image-only-admin-comment {\n  padding-left: 38px; }\n\n@-webkit-keyframes fade-in {\n  0% {\n    opacity: 0; }\n\n  25% {\n    opacity: 0; }\n\n  50% {\n    opacity: 0; }\n\n  75% {\n    opacity: 0; }\n\n  100% {\n    opacity: 1; } }\n\n@keyframes fade-in {\n  0% {\n    opacity: 0; }\n\n  25% {\n    opacity: 0; }\n\n  50% {\n    opacity: 0; }\n\n  75% {\n    opacity: 0; }\n\n  100% {\n    opacity: 1; } }\n\n#intercom-container .intercom-installation-overlay {\n  z-index: 2147482999;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(53, 53, 53, 0.9);\n  text-align: center;\n  -webkit-animation-name: fade-in;\n          animation-name: fade-in;\n  -webkit-animation-duration: 0.75s;\n          animation-duration: 0.75s; }\n#intercom-container .intercom-installation-content {\n  position: relative;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n          transform: translateY(-50%);\n  color: #ffffff;\n  font-size: 16px;\n  font-family: Helvetica, sans-serif;\n  font-weight: bold;\n  text-align: inherit; }\n#intercom-container .intercom-installation-icon {\n  width: 50px;\n  height: 50px;\n  background: #65CC93;\n  border-radius: 50%;\n  display: inline-block;\n  background-size: 25px 21px;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAqCAYAAADxughHAAAAAXNSR0IArs4c6QAAAutJREFUaAXVmUloVEEQhidGXCBeogdxQQTxIrgggqgREQRFEQRB0ZOQQ0RB8OAhag6e3fCsghdvLkcFMV7FswsibicVJe5LRCdfQx5pXup1V/VMXjoNP9Ov+q+q/0+GTE2n0Zgiq9lsHgaXQMcUkTxeJuL3g3/Arctg2nhW5hFE7wDDwF/XeZieufQxeYjdBH74Drz9LfYzxtiZ7hC5Cnz2hEvbOwRnZ2qh0UDcMvBOUi7EHhDrys4MohaCV8Cy7mZlBOVzwWOLA7g/weZsjCCmCzwElvUX8q6cTMxE0D2LA7j/wcGcTHQi6KbRhKMfzclEB4KuJpg4lY0JJwQD5xJMXMzNxMkEE9fIyWdoRExfgonb5OQzXyHGn2S1fgYhzsrmLYUYaZKNmXkEYU6yCZK7k5OFROptBFWTLEfiekJ0nlBOFyJ5KXgLzugywizquEl2CFjWG8iLwpUDpyQvAa9BsQYC9OgRRSyTbNHzPZvl0eJVBJIXg5dFNe+1vyonFCc/ZZL9Qt6aUN3g2WjTF5748vZEsEDpkORukDLJ9pRK6R9puAA8B7F1XFOVIqmT7E5NfZFD0/ngWcyBd35MLDQahDc5kyyNBz2R2u0RyQzJbpK9oS3i8cR6Uo/KGMVWgA9eUc3WfRfoKxcldkWTXOKcLtdJfqbwSvCx1CD26Mz0Fk3Zn40lCOcXivy2vdJkNfgkNAuFnJlDoD9EqjibuEmWhmuB9RO4uMqs0CuG3STb2bbfglSIButA7GJMVKcM3odXzyRLo/Xgq1KYhdbaJCv95GMx1G0A3ywqI9ynnKdPsjHBoXMa94DvEYGa49Ym2ZBI7RkqtwDr9wjfXGuTrFaohoeqrcBdTVqX+6ORPslqxFk5CNoGfhmcOOPpk6xVoIWPsO3gt8KMu5NNn2QtolK5TiD4EzDjPu0PpNavNQ+hu8FwhZnWJ9k63WBiD3BvIX+1b5Kt2cxeXBRmztfZu+29MLIPuP99T+qd7AgPy3DCIsoWuwAAAABJRU5ErkJggg==); }\n#intercom-container .intercom-installation-heading {\n  font-size: 30px;\n  font-weight: bold;\n  text-align: inherit;\n  margin: 20px 0; }\n#intercom-container .intercom-installation-message {\n  font-weight: bold;\n  text-align: inherit;\n  margin: 10px 0; }\n  #intercom-container .intercom-installation-message:before {\n    content: \'‚Äî\';\n    margin-right: 5px; }\n#intercom-container .intercom-installation-button {\n  margin-top: 20px;\n  padding: 1.3em 2.2em;\n  border: 1px solid #ffffff;\n  border-radius: 20%/50%;\n  background: none;\n  font-size: 12px;\n  color: #ffffff;\n  text-transform: uppercase;\n  cursor: pointer;\n  outline: 0; }\n  #intercom-container .intercom-installation-button:hover {\n    color: #ddd;\n    border-color: #ddd; }\n#intercom-container .intercom-installation-arrow {\n  position: absolute;\n  right: 85px;\n  bottom: 32px;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAABeJJREFUeAHtnG2oFFUYx+9qaUFvlr1qpJZJL3YDKygSK7EXjajECK5ElERCkBVGUMQNevlSVB/6VJTUhwpKqChCUlIyRE0uJdKrKBFo9iJadhPz9vvv3VmOszN7Zs7uzM7unAeee87MOc/znOfnmd2ZOWftGxkZmYge2+fFicAYrE5G+52svVGfAJ6IzvIs3AgI4AkeoBs8WQUzcLa7i3JbBgDP44vkonKjcMteAINv4NvcXJTbSgAP1BDcWm4UbtkL4P6a6Swu4+lubsprZQIUhQfKi8Ixc2bdlWgg+6gc7+iqlGaagX8ZmQve3caxr9oIMONOC6ZfrfyJcpzNzrcbBAC2NwTxQaPZV20EgLcxBHAPx3pG9mIhoM9AyfejRf3vRGqP1Y98JZZAHEAZLGMWzoi19A1VAs0AHkOPFUAc61lZCABpChonj1rMfbMIQG9nDMFhzl/oKUUTCC5hta6N7tI3nvPvAdE/oUQAMgF+HtEenLqAyltArAQnfBkiAJxzUZsMhsz8oUkAetstBA/Tvsi08XWDAHCetQBU80F0vmHmqwEBwMwUoQTyD32uDex8aRAAzNYEANVlP3qVYVrKqvktHAB4O6hYyuNoXwXEBZZ+5WoGyDRUXxZJ5RAdl5SLkiVbgHyUlJ7Rb9DitjzNQJljgElTfZ/O/j2ipgogNqUhZ/TVkkBhNisxlns6MvUJfKcBJW31XwwKsUTKOIbQ53KHSNCx6A60FVmDcUcX64kvgJInOwHxrtHYLf3VTfcT6NG5J0BA4gYAlcTyXMdAwAq6WZHbILpBvyHXBBoBKo18P1oIOFtR2yhr8XV1XiCJZc5ApaF73Hvzil+NQ0C9UG23fIzDy7NOhBhhgMrjP3Qg69h1/wTT04le7WchG3C6GM1kNwR+owAqDz1BLawnmXWFYMsVNUPZje9n0BntzAV/cQCVil7N3dzOeLG+CDQGXYfmId8QZBCdGTughA34aAZQuejKmpfQXUO3VGscBJqKh69RvYnJS34k0Br0C3R9pVLZniYwYx6if7/FRrt0b8L3Oku/huZUAGXNgPTm5dUGT/md2EWo9eg2VHCrSvK/Um+QhABlp5261+NnQ4OTJidSA5QvBrWSomib0gVgD6pSex6Dci71CWgS2UunuUDckqSz+rgC1CWsWXCJnPSY/E4+1wBxa5K8nADKMbPwHIpN6Kk67jHZTT5zgPidLa+oV/o2m2o7zndSuR09mMiguzqdznBXM0mm2YbtDFCOgahvxvttQbq0fRLjFsSzm42/JYByDMQ3KJY1C9LFbVMYuyCeGZdDywDlGIgvUzwUF6TLz09n/J8BMfKzvi0ABQiIL1E8rHoPirb3aQm34XaobQAFDYgvUjyCjui4x+RS8vkUiPp9dV2cb2PqHiIqBLmD0yvQ4JegEb269pS+OG9ksvytDDIBKMdAvIziA/QsHfeY6Nl8ARCH23oJm5BwvpnjK9CvzPM9Ur+OPKpbYDIDKFBA/IVC/53AazruITlELm8qn8wu4TAsLmntKRTI2HuqsE1Bjw8zrgEmxzsaX6Yz0ARAwE84vhh91zzfZXXdXSwJ4HVs7MzGRWjczypoKqws7Ri0cGAQjUe1zvJHYXEdObBiPiQwxgno82hWq35HYnA7ejw8AQp3TF6TUa3KaXWuSPJ04WA1GxDkxqED6JcFoPhCs7EWvg2A/ehT6JYOwHyl8IDSDBCAk9D70A/RrL94XidGonvkRJ3SJJpXXxKcTCwtvGthS6pXTvql/UloK+vWekRbzL2ebpjLKcDV5tBTUP3+71s0qayk41HlpBaTNUBsWzsCuNotlnqDU26PcjH5FeX0agaykMs29QqjBzi65+YW4A27/GuWHeBGoM0H3gEXeLIpM8Ah8teree2hcZayAtwGsXnA+9OZXM2wjAB/IHftwPqtVXiyLxvAHeQseNpj6CUJAeM+8GfqU5PY+D4GgRrAXZTnG6d9NSkBwGlfi9ZivLgQAN4ZLnbeJicC/wMLmKUehkIagAAAAABJRU5ErkJggg==);\n  background-repeat: no-repeat;\n  background-size: 40px 40px; }\n\n#intercom-container .intercom-sheet-loading .intercom-app-profile-container {\n  visibility: hidden; }\n#intercom-container .intercom-app-profile-container {\n  padding: 16px 16px 0; }\n#intercom-container .intercom-app-profile {\n  padding: 16px 12px;\n  background-color: #fff;\n  overflow: hidden;\n  border: 1px solid #dadee2;\n  border-radius: 5px; }\n#intercom-container .intercom-app-profile-team {\n  text-align: center;\n  color: #455a64;\n  font-weight: 500;\n  font-size: 15px; }\n#intercom-container .intercom-app-profile-last-active .intercom-last-active {\n  padding-top: 2px;\n  position: relative;\n  bottom: auto; }\n#intercom-container .intercom-active-admins {\n  text-align: center;\n  color: #364850;\n  padding-top: 11px; }\n#intercom-container .intercom-active-admin {\n  display: inline-block;\n  margin: 0 2px; }\n#intercom-container .intercom-active-admin-avatar {\n  background-color: #e5e5e5;\n  border: 2px solid #fff;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.42);\n  overflow: hidden;\n  text-align: center;\n  margin: 0 auto; }\n  #intercom-container .intercom-active-admin-avatar, #intercom-container .intercom-active-admin-avatar img {\n    border-radius: 50%;\n    width: 44px;\n    height: 44px; }\n#intercom-container .intercom-active-admin-default-avatar {\n  line-height: 44px;\n  color: #fff;\n  text-align: center;\n  font-size: 22px;\n  font-weight: 500;\n  background-color: custom-color; }\n#intercom-container .intercom-active-admin-name {\n  font-size: 12px;\n  color: #78909C;\n  text-align: center;\n  padding-top: 7px;\n  width: 80px;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n#intercom-container .intercom-app-profile-text {\n  padding: 13px 10px 0px;\n  text-align: center;\n  font-size: 14px;\n  font-weight: 400;\n  color: #455A64;\n  line-height: 20px;\n  font-size: 14px;\n  color: #455a64;\n  line-height: 1.29; }\n  #intercom-container .intercom-app-profile-text .intercom-comment-body {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px; }\n  #intercom-container .intercom-app-profile-text p, #intercom-container .intercom-app-profile-text ul, #intercom-container .intercom-app-profile-text ol, #intercom-container .intercom-app-profile-text blockquote, #intercom-container .intercom-app-profile-text h1, #intercom-container .intercom-app-profile-text h2, #intercom-container .intercom-app-profile-text h3, #intercom-container .intercom-app-profile-text h4, #intercom-container .intercom-app-profile-text h5, #intercom-container .intercom-app-profile-text h6, #intercom-container .intercom-app-profile-text a, #intercom-container .intercom-app-profile-text .intercom-container, #intercom-container .intercom-app-profile-text code {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px;\n    word-wrap: break-word;\n    margin: 20px 0; }\n    #intercom-container .intercom-app-profile-text p:first-child, #intercom-container .intercom-app-profile-text ul:first-child, #intercom-container .intercom-app-profile-text ol:first-child, #intercom-container .intercom-app-profile-text blockquote:first-child, #intercom-container .intercom-app-profile-text h1:first-child, #intercom-container .intercom-app-profile-text h2:first-child, #intercom-container .intercom-app-profile-text h3:first-child, #intercom-container .intercom-app-profile-text h4:first-child, #intercom-container .intercom-app-profile-text h5:first-child, #intercom-container .intercom-app-profile-text h6:first-child, #intercom-container .intercom-app-profile-text a:first-child, #intercom-container .intercom-app-profile-text .intercom-container:first-child, #intercom-container .intercom-app-profile-text code:first-child {\n      margin-top: 0; }\n    #intercom-container .intercom-app-profile-text p:last-child, #intercom-container .intercom-app-profile-text ul:last-child, #intercom-container .intercom-app-profile-text ol:last-child, #intercom-container .intercom-app-profile-text blockquote:last-child, #intercom-container .intercom-app-profile-text h1:last-child, #intercom-container .intercom-app-profile-text h2:last-child, #intercom-container .intercom-app-profile-text h3:last-child, #intercom-container .intercom-app-profile-text h4:last-child, #intercom-container .intercom-app-profile-text h5:last-child, #intercom-container .intercom-app-profile-text h6:last-child, #intercom-container .intercom-app-profile-text a:last-child, #intercom-container .intercom-app-profile-text .intercom-container:last-child, #intercom-container .intercom-app-profile-text code:last-child {\n      margin-bottom: 0; }\n  #intercom-container .intercom-app-profile-text h1, #intercom-container .intercom-app-profile-text h1 a {\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 20px;\n    letter-spacing: normal;\n    margin: 27px 0;\n    color: inherit; }\n  #intercom-container .intercom-app-profile-text h2, #intercom-container .intercom-app-profile-text h2 a {\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: bold;\n    margin: 20px 0 10px;\n    color: inherit; }\n  #intercom-container .intercom-app-profile-text ul, #intercom-container .intercom-app-profile-text ol {\n    font-size: 14px;\n    -moz-padding-start: 40px;\n    -webkit-padding-start: 40px;\n    -khtml-padding-start: 40px;\n    -o-padding-start: 40px;\n    padding-start: 40px;\n    padding-left: 30px; }\n  #intercom-container .intercom-app-profile-text [dir=ltr] ul, #intercom-container .intercom-app-profile-text [dir=ltr] ol {\n    padding-left: 30px; }\n  #intercom-container .intercom-app-profile-text [dir=rtl] ul, #intercom-container .intercom-app-profile-text [dir=rtl] ol {\n    padding-right: 30px; }\n  #intercom-container .intercom-app-profile-text ul > li {\n    list-style-type: disc; }\n  #intercom-container .intercom-app-profile-text ol > li {\n    list-style-type: decimal; }\n  #intercom-container .intercom-app-profile-text li {\n    display: list-item;\n    line-height: 20px;\n    margin-bottom: 10px;\n    font-weight: 400; }\n  #intercom-container .intercom-app-profile-text em, #intercom-container .intercom-app-profile-text i {\n    font-style: italic; }\n  #intercom-container .intercom-app-profile-text strong, #intercom-container .intercom-app-profile-text b {\n    font-weight: bold;\n    line-height: 100%; }\n  #intercom-container .intercom-app-profile-text pre {\n    font-size: 14px;\n    padding: 0 0 10px 0;\n    white-space: pre-wrap; }\n  #intercom-container .intercom-app-profile-text img {\n    display: block;\n    max-width: 100%;\n    margin: 10px 0; }\n  #intercom-container .intercom-app-profile-text p + br {\n    display: none; }\n  #intercom-container .intercom-app-profile-text a:link, #intercom-container .intercom-app-profile-text a:visited, #intercom-container .intercom-app-profile-text a:hover, #intercom-container .intercom-app-profile-text a:active {\n    text-decoration: underline; }\n  #intercom-container .intercom-app-profile-text a:link, #intercom-container .intercom-app-profile-text a:visited {\n    color: custom-color; }\n  #intercom-container .intercom-app-profile-text a:hover, #intercom-container .intercom-app-profile-text a:active {\n    color: custom-color-darker; }\n  #intercom-container .intercom-app-profile-text h2 + p, #intercom-container .intercom-app-profile-text h2 + ul, #intercom-container .intercom-app-profile-text h2 + ol, #intercom-container .intercom-app-profile-text h2 + blockquote, #intercom-container .intercom-app-profile-text h2 + .ic_button_in_content, #intercom-container .intercom-app-profile-text h2 + .ic_social_block, #intercom-container .intercom-app-profile-text h3 + p, #intercom-container .intercom-app-profile-text h3 + ul, #intercom-container .intercom-app-profile-text h3 + ol, #intercom-container .intercom-app-profile-text h3 + blockquote, #intercom-container .intercom-app-profile-text h3 + .ic_button_in_content, #intercom-container .intercom-app-profile-text h3 + .ic_social_block, #intercom-container .intercom-app-profile-text h4 + p, #intercom-container .intercom-app-profile-text h4 + ul, #intercom-container .intercom-app-profile-text h4 + ol, #intercom-container .intercom-app-profile-text h4 + blockquote, #intercom-container .intercom-app-profile-text h4 + .ic_button_in_content, #intercom-container .intercom-app-profile-text h4 + .ic_social_block, #intercom-container .intercom-app-profile-text h5 + p, #intercom-container .intercom-app-profile-text h5 + ul, #intercom-container .intercom-app-profile-text h5 + ol, #intercom-container .intercom-app-profile-text h5 + blockquote, #intercom-container .intercom-app-profile-text h5 + .ic_button_in_content, #intercom-container .intercom-app-profile-text h5 + .ic_social_block, #intercom-container .intercom-app-profile-text h6 + p, #intercom-container .intercom-app-profile-text h6 + ul, #intercom-container .intercom-app-profile-text h6 + ol, #intercom-container .intercom-app-profile-text h6 + blockquote, #intercom-container .intercom-app-profile-text h6 + .ic_button_in_content, #intercom-container .intercom-app-profile-text h6 + .ic_social_block {\n    margin-top: 0; }\n  #intercom-container .intercom-app-profile-text .intercom-h2b-twitter, #intercom-container .intercom-app-profile-text .intercom-h2b-facebook {\n    max-width: 100%; }\n  #intercom-container .intercom-app-profile-text iframe[src*="vimeo.com"], #intercom-container .intercom-app-profile-text iframe[src*="wistia.net"], #intercom-container .intercom-app-profile-text iframe[src*="youtube.com"] {\n    width: 100%;\n    height: 149px;\n    margin: 20px auto; }\n  #intercom-container .intercom-app-profile-text iframe[src*=\'wistia.net\'], #intercom-container .intercom-app-profile-text a.intercom-h2b-button {\n    text-transform: capitalize; }\n  #intercom-container .intercom-app-profile-text p {\n    text-align: center;\n    font-size: 14px;\n    color: #455a64;\n    line-height: 16px; }\n    #intercom-container .intercom-app-profile-text p a:link, #intercom-container .intercom-app-profile-text p a:visited {\n      color: #455a64; }\n\n#intercom-container .intercom-image-viewable {\n  cursor: -webkit-zoom-in;\n  cursor: zoom-in; }\n\n#intercom-container .intercom-zoomed-image {\n  z-index: 2147483004;\n  position: fixed;\n  cursor: -webkit-zoom-out;\n  cursor: zoom-out;\n  transition: all 300ms ease; }\n#intercom-container .intercom-zoomed-image-placeholder {\n  background-color: #e4e5e7;\n  border-radius: 4px; }\n\n#intercom-container .intercom-image-viewer-overlay {\n  z-index: 2147483003;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: black;\n  cursor: -webkit-zoom-out;\n  cursor: zoom-out;\n  opacity: 0; }\n'
}),define("sync",["features","underscore","jquery","models/conversation","models/part","models/upload","models/user","collections/conversations"],function(a,b,c,d,e,f,g,h){"use strict";return function(a,c){return function(i,j,k){if(j.constructor===d&&"read"===i)return a.getConversation(j.id).then(k.success).fail(k.error);if(j.constructor===d&&"update"===i)return a.markConversationAsRead(j.toJSON()).then(k.success).fail(k.error);if(j.constructor===d&&"create"===i)return a.createConversation(j.toJSON()).then(b.bind(c.syncCreateConversation,c)).then(k.success).fail(k.error);if(j.constructor===h&&"read"===i)return a.getConversations({page:j.pages}).then(k.success).fail(k.error);if(j.constructor===e&&"create"===i)return a.createComment(j.toJSON()).then(b.bind(c.syncCreateComment,c)).then(k.success).fail(k.error);if(j.constructor===f&&"create"===i)return a.createUpload(j.toJSON()).then(k.success).fail(k.error);if(j.constructor===f&&"update"===i)return a.updateUpload(j.toJSON()).then(k.success).fail(k.error);if(j.constructor===g){var l=c.getMetrics();return c.resetMetrics(),a.createOrUpdateUser(l).then(k.success).fail(k.error)}}}}),define("template",["underscore","i18n","time"],function(a,b,c){"use strict";function d(d){var e=require("templates/"+d);return function(d){return e.call(this,a.extend({},d,{t:b.translate,relativeTime:c.relativeTimeInWords}))}}return{load:d}}),define("templates/announcement",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",part.adminAvatar()&&(__p+='\n  <div class="intercom-announcement-avatar-container">\n    <img src="'+(null==(__t=part.adminAvatar())?"":_.escape(__t))+'" class="intercom-announcement-avatar" />\n  </div>\n'),__p+='\n<div class="intercom-announcement">\n  <div class="intercom-announcement-body-container">\n    <div class="intercom-announcement-body intercom-embed-body">\n      '+(null==(__t=partBody)?"":__t)+'\n    </div>\n    <div class="intercom-attachments">\n      ',part.uploads.each(function(a){__p+='\n        <div class="intercom-attachment">\n          <a href="'+(null==(__t=a.url())?"":_.escape(__t))+'" target="_blank">'+(null==(__t=a.name())?"":_.escape(__t))+"</a>\n        </div>\n      "}),__p+='\n    </div>\n    <div class="intercom-lwr-composer-container"></div>\n  </div>\n</div>\n';return __p}}),define("templates/app-profile-admin",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-active-admin">\n  ',__p+=has_avatar?'\n    <div class="intercom-active-admin-avatar">\n      <img src="'+(null==(__t=avatar)?"":_.escape(__t))+'" alt="'+(null==(__t=firstName)?"":_.escape(__t))+'">\n    </div>\n  ':'\n    <div class="intercom-active-admin-avatar intercom-active-admin-default-avatar">\n      '+(null==(__t=firstInitial)?"":_.escape(__t))+"\n    </div>\n  ",__p+="\n  ",firstName&&(__p+='\n    <div class="intercom-active-admin-name">\n      '+(null==(__t=firstName)?"":_.escape(__t))+"\n    </div>\n  "),__p+="\n</div>\n";return __p}}),define("templates/app-profile",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-app-profile-team-and-activity">\n  <div class="intercom-app-profile-team">'+(null==(__t=appName)?"":_.escape(__t))+'</div>\n  <div class="intercom-app-profile-last-active"></div>\n</div>\n<div class="intercom-active-admins"></div>\n<div class="intercom-app-profile-text">\n  <p>'+(null==(__t=message)?"":__t)+"</p>\n</div>\n";return __p}}),define("templates/auto-response",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-auto-response-text">\n  ',customAutoResponseEnabled?(__p+="\n    ",customAutoResponse&&(__p+="\n      <p>"+(null==(__t=customAutoResponse)?"":_.escape(__t))+"</p>\n    "),__p+="\n  "):(__p+="\n    ",__p+=haveEmail?"\n      <p>"+(null==(__t=t("message-autoresponse-with-email"))?"":_.escape(__t))+"</p>\n    ":"\n      <p>"+(null==(__t=t("message-autoresponse"))?"":_.escape(__t))+"</p>\n    ",__p+="\n  "),__p+="\n</div>\n";return __p}}),define("templates/comment-metadata",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-comment-metadata">\n  <span class="intercom-comment-state">\n    '+(null==(__t=commentState)?"":__t)+'\n  </span>\n</div>\n<div class="intercom-comment-readstate"></div>\n';return __p}}),define("templates/comment",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-comment '+(null==(__t=part.byUser()?"intercom-comment-by-user":"intercom-comment-by-admin")?"":_.escape(__t))+'">\n  ',part.byAdmin()&&(__p+="\n    ",__p+=part.adminAvatar()?'\n      <img src="'+(null==(__t=part.adminAvatar())?"":_.escape(__t))+'" class="intercom-comment-avatar">\n    ':'\n      <div class="intercom-comment-avatar intercom-default-admin-avatar">'+(null==(__t=part.adminInitials())?"":_.escape(__t))+"</div>\n    ",__p+="\n  "),__p+='\n  <div class="intercom-comment-body-container">\n    <div class="intercom-comment-body intercom-embed-body">\n      '+(null==(__t=partBody)?"":__t)+'\n    </div>\n    <div class="intercom-attachments">\n      ',part.uploads.each(function(a){__p+='\n        <div class="intercom-attachment">\n          <a href="'+(null==(__t=a.url())?"":_.escape(__t))+'" target="_blank">'+(null==(__t=a.name())?"":_.escape(__t))+"</a>\n        </div>\n      "}),__p+='\n    </div>\n    <div class="intercom-comment-caret"></div>\n    <div class="intercom-lwr-composer-container"></div>\n  </div>\n  <div class="intercom-comment-metadata-container">\n  </div>\n</div>\n';return __p}}),define("templates/composer",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-composer-upload-error">'+(null==(__t=t("max-upload-size",{number:40}))?"":_.escape(__t))+'</div>\n<div class="intercom-composer-textarea-container">\n  <input type="submit" class="intercom-composer-send-button" value="'+(null==(__t=t("send"))?"":_.escape(__t))+'"></input>\n  <input style="display:none" type="file">\n  <div class="intercom-composer-emoji-selector-container"></div>\n  <div class="intercom-composer-textarea">\n    <strong class="intercom-composer-upload-button" title="'+(null==(__t=t("send-attachment"))?"":_.escape(__t))+'"></strong>\n    <strong class="intercom-composer-emoji-button" title="'+(null==(__t=t("insert-emoji"))?"":_.escape(__t))+'"></strong>\n    <pre><span></span><br></pre>\n    <textarea></textarea>\n  </div>\n</div>\n<div class="intercom-composer-press-enter-to-send">'+(null==(__t=t("press-enter-to-send"))?"":_.escape(__t))+"</div>\n";return __p}}),define("templates/conversation-item",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",conversation.lastAdmin()?(__p+="\n  ",__p+=conversation.lastAdminAvatar()?'\n    <img src="'+(null==(__t=conversation.lastAdminAvatar())?"":_.escape(__t))+'" class="intercom-conversations-item-admin-avatar" />\n  ':'\n    <div class="intercom-conversations-item-admin-avatar intercom-conversations-item-admin-avatar-no-image">'+(null==(__t=conversation.lastAdminInitials())?"":_.escape(__t))+"</div>\n  ",__p+="\n"):__p+='\n    <div class="intercom-conversations-item-user-avatar"></div>\n',__p+='\n<div class="intercom-conversations-item-body-container">\n  <div class="intercom-conversations-item-body">\n    <div class="intercom-conversations-item-header">\n      <div class="intercom-conversations-item-timestamp"></div>\n      <h3 class="intercom-conversations-item-title">\n        ',__p+=conversation.lastAdmin()?"\n          <span>"+(null==(__t=conversation.lastAdminName())?"":_.escape(__t))+"</span>\n        ":"\n          <span>"+(null==(__t=t("you"))?"":_.escape(__t))+"</span>\n        ",__p+='\n      </h3>\n    </div>\n    <div class="intercom-conversations-item-summary">\n      <div class="intercom-conversations-item-readstate"></div>\n      '+(null==(__t=preview)?"":__t)+"\n    </div>\n  </div>\n</div>\n";return __p}}),define("templates/conversation-title",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",__p+=adminName?"\n  "+(null==(__t=adminFirstName)?"":_.escape(__t))+"\n":"\n  "+(null==(__t=appName)?"":_.escape(__t))+"\n",__p+="\n";return __p}}),define("templates/conversation",[],function(){return function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-sheet-header">\n  <a class="intercom-sheet-header-button intercom-sheet-header-conversations-button" href="#">\n    <div class="intercom-sheet-header-button-icon"></div>\n    <div class="intercom-unread-counter"></div>\n  </a>\n  <div class="intercom-sheet-header-title-container">\n    <b class="intercom-sheet-header-title"></b>\n  </div>\n  <div class="intercom-sheet-header-generic-title"></div>\n  <a class="intercom-sheet-header-button intercom-sheet-header-close-button" href="#">\n    <div class="intercom-sheet-header-button-icon"></div>\n  </a>\n  <a class="intercom-sheet-header-button intercom-sheet-header-minimize-button" href="#">\n    <div class="intercom-sheet-header-button-icon"></div>\n  </a>\n</div>\n<div class="intercom-sheet-body">\n  <div class="intercom-sheet-spinner"></div>\n</div>\n<div class="intercom-sheet-content">\n  <div class="intercom-sheet-content-container">\n    <div class="intercom-app-profile-container"></div>\n    <div class="intercom-conversation-parts-container">\n      <div class="intercom-conversation-parts"></div>\n    </div>\n  </div>\n</div>\n<div class="intercom-composer-container">\n</div>\n';return __p}}),define("templates/conversations",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-sheet-header">\n  <div class="intercom-sheet-header-title-container">\n    <b class="intercom-sheet-header-title">'+(null==(__t=appName)?"":_.escape(__t))+'</b>\n  </div>\n  <a class="intercom-sheet-header-button intercom-sheet-header-close-button" href="#">\n    <div class="intercom-sheet-header-button-icon"></div>\n  </a>\n</div>\n<div class="intercom-sheet-body">\n  <div class="intercom-sheet-spinner"></div>\n</div>\n<div class="intercom-sheet-content intercom-conversations-content">\n  <div class="intercom-sheet-content-container">\n    <div class="intercom-conversations-items"></div>\n    <div class="intercom-conversations-spinner"></div>\n  </div>\n  <div class="intercom-no-conversations">\n    <div class="intercom-no-conversations-icon"></div>\n    '+(null==(__t=t("no-conversations"))?"":_.escape(__t))+"\n  </div>\n</div>\n",inboundMessagingEnabled&&(__p+='\n  <div class="intercom-sheet-footer intercom-conversations-footer">\n    <a class="intercom-conversations-new-conversation-button" href="#"><i></i>'+(null==(__t=t("new-message"))?"":_.escape(__t))+"</a>\n  </div>\n"),__p+="\n";return __p}}),define("templates/embed/conversation",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",(adminName||appName)&&(__p+='\n<div class="intercom-sheet-header">\n  <div class="intercom-sheet-header-title-container">\n    <b class="intercom-sheet-header-title">\n      ',__p+=adminName?"\n        "+(null==(__t=adminName)?"":_.escape(__t))+" from "+(null==(__t=appName)?"":_.escape(__t))+"\n      ":"\n        "+(null==(__t=appName)?"":_.escape(__t))+"\n      ",__p+="\n    </b>\n  </div>\n</div>\n"),__p+='\n<div class="intercom-sheet-body"></div>\n<div class="intercom-sheet-content">\n  <div class="intercom-sheet-content-container">\n    <div class="intercom-app-profile-container"></div>\n    <div class="intercom-conversation-parts-container">\n      <div class="intercom-conversation-parts"></div>\n    </div>\n  </div>\n</div>\n<div class="intercom-composer-container">\n</div>\n';return __p}}),define("templates/embed/launcher",[],function(){return function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+="<div class='intercom-launcher-button'></div>\n<div class='intercom-launcher-badge'></div>\n<div class='intercom-launcher-preview'>\n  <div class='intercom-launcher-preview-body'></div>\n  <div class='intercom-launcher-preview-caret'></div>\n  <div class='intercom-launcher-preview-close'></div>\n</div>\n";return __p}}),define("templates/icon-emotion-happy",[],function(){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g class="intercom-lwr-composer-icon" fill="#aaaaaa">\n    <path d="M9,2 C12.9,2 16,5.1 16,9 C16,12.9 12.9,16 9,16 C5.1,16 2,12.9 2,9 C2,5.1 5.1,2 9,2 L9,2 Z M9,0 C4,0 0,4 0,9 C0,14 4,18 9,18 C14,18 18,14 18,9 C18,4 14,0 9,0 L9,0 L9,0 Z"></path>\n    <circle cx="9" cy="10" r="4"></circle>\n    <rect class="intercom-lwr-option-background" x="5" y="6" width="8" height="4" fill="#aaaaaa"></rect>\n    <circle cx="6.5" cy="6.5" r="1.5"></circle>\n    <circle cx="11.5" cy="6.5" r="1.5"></circle>\n  </g>\n</svg>\n'}),define("templates/icon-emotion-neutral",[],function(){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g class="intercom-lwr-composer-icon" fill="#aaaaaa">\n    <path d="M9,2 C12.9,2 16,5.1 16,9 C16,12.9 12.9,16 9,16 C5.1,16 2,12.9 2,9 C2,5.1 5.1,2 9,2 L9,2 Z M9,0 C4,0 0,4 0,9 C0,14 4,18 9,18 C14,18 18,14 18,9 C18,4 14,0 9,0 L9,0 L9,0 Z"></path>\n    <circle cx="6.5" cy="6.5" r="1.5"></circle>\n    <circle cx="11.5" cy="6.5" r="1.5"></circle>\n    <path d="M13,12 C13,12.6 12.6,13 12,13 L6,13 C5.4,13 5,12.6 5,12 L5,12 C5,11.4 5.4,11 6,11 L12,11 C12.6,11 13,11.4 13,12 L13,12 L13,12 Z"></path>\n  </g>\n</svg>\n'}),define("templates/icon-emotion-sad",[],function(){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g class="intercom-lwr-composer-icon" fill="#aaaaaa">\n    <g transform="translate(5.000000, 9.000000)">\n      <path d="M4,2 C5.1,2 6,2.9 6,4 C6,5.1 5.1,6 4,6 C2.9,6 2,5.1 2,4 C2,2.9 2.9,2 4,2 L4,2 Z M4,0 C1.8,0 0,1.8 0,4 C0,6.2 1.8,8 4,8 C6.2,8 8,6.2 8,4 C8,1.8 6.2,0 4,0 L4,0 L4,0 Z"></path>\n    </g>\n    <rect class="intercom-lwr-option-background" x="5" y="13" width="8" height="4" fill="#aaaaaa"></rect>\n    <path d="M9,2 C12.9,2 16,5.1 16,9 C16,12.9 12.9,16 9,16 C5.1,16 2,12.9 2,9 C2,5.1 5.1,2 9,2 L9,2 Z M9,0 C4,0 0,4 0,9 C0,14 4,18 9,18 C14,18 18,14 18,9 C18,4 14,0 9,0 L9,0 L9,0 Z"></path>\n    <circle cx="6.5" cy="6.5" r="1.5"></circle>\n    <circle cx="11.5" cy="6.5" r="1.5"></circle>\n  </g>\n</svg>\n'}),define("templates/icon-thumbs-down",[],function(){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="15px" height="14px" viewBox="0 0 15 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g class="intercom-lwr-composer-icon" fill="#aaaaaa">\n    <path d="M3.59655172,9.23508772 L3.59655172,8.59649123 L3.59655172,1.00701754 L3.59655172,0.392982456 L2.96896552,0.392982456 L0.531034483,0.392982456 L-0.0965517241,0.392982456 L-0.0965517241,1.03157895 L-0.0965517241,8.59649123 L-0.0965517241,9.23508772 L0.531034483,9.23508772 L2.99310345,9.23508772 L3.59655172,9.23508772 L3.59655172,9.23508772 Z"></path>\n    <path d="M9.06206897,13.9754386 C10.0517241,13.9754386 11.0896552,12.9192982 11.0896552,11.2 C11.0896552,10.5122807 10.8965517,9.8 10.6551724,9.23508772 L13.0689655,9.23508772 C14.0586207,9.23508772 14.8551724,8.4245614 14.8551724,7.41754386 C14.8551724,7.0245614 14.7344828,6.65614035 14.5172414,6.36140351 C14.637931,6.11578947 14.7103448,5.82105263 14.7103448,5.52631579 C14.7103448,4.93684211 14.4448276,4.42105263 14.0103448,4.10175439 C14.0344828,3.97894737 14.0586207,3.83157895 14.0586207,3.68421053 C14.0586207,3.11929825 13.7931034,2.60350877 13.3827586,2.25964912 C13.4310345,2.1122807 13.4310345,1.96491228 13.4310345,1.81754386 C13.4310345,0.810526316 12.6344828,8.8817842e-16 11.6448276,8.8817842e-16 L11.5,8.8817842e-16 L10.462069,8.8817842e-16 L8.86896552,8.8817842e-16 L8.43448276,8.8817842e-16 L8.26551724,8.8817842e-16 C7.22758621,8.8817842e-16 6.50344828,0.368421053 6.35862069,0.442105263 L4.47586207,1.4 L4.06551724,1.59649123 L4.06551724,2.06315789 L4.06551724,7.76140351 L4.06551724,8.12982456 L4.35517241,8.35087719 C4.35517241,8.35087719 5.36896552,9.13684211 6.45517241,10.1684211 C7.54137931,11.1754386 7.54137931,11.4947368 7.54137931,11.9122807 C7.54137931,13.4350877 8.36206897,13.9754386 9.06206897,13.9754386 L9.06206897,13.9754386 L9.06206897,13.9754386 Z"></path>\n  </g>\n</svg>\n'}),define("templates/icon-thumbs-up",[],function(){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="15px" height="14px" viewBox="0 0 15 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g class="intercom-lwr-composer-icon" fill="#aaaaaa">\n    <path d="M3.59655172,4.76491228 L2.96896552,4.76491228 L0.531034483,4.76491228 L-0.0965517241,4.76491228 L-0.0965517241,5.40350877 L-0.0965517241,12.9929825 L-0.0965517241,13.6315789 L0.531034483,13.6315789 L2.99310345,13.6315789 L3.62068966,13.6315789 L3.62068966,12.9929825 L3.62068966,5.40350877 L3.62068966,4.76491228 L3.59655172,4.76491228 L3.59655172,4.76491228 Z"></path>\n    <path d="M9.06206897,0.0245614035 C8.36206897,0.0245614035 7.56551724,0.564912281 7.56551724,2.1122807 C7.56551724,2.52982456 7.56551724,2.84912281 6.47931034,3.85614035 C5.39310345,4.86315789 4.37931034,5.64912281 4.35517241,5.64912281 L4.06551724,5.87017544 L4.06551724,6.23859649 L4.06551724,11.9368421 L4.06551724,12.4035088 L4.47586207,12.6 L6.35862069,13.5578947 C6.50344828,13.6315789 7.22758621,14 8.26551724,14 L8.43448276,14 L8.86896552,14 L10.462069,14 L11.5,14 L11.6448276,14 C12.6344828,14 13.4310345,13.1894737 13.4310345,12.1824561 C13.4310345,12.0350877 13.4068966,11.8877193 13.3827586,11.7403509 C13.7931034,11.3964912 14.0586207,10.8807018 14.0586207,10.3157895 C14.0586207,10.1684211 14.0344828,10.045614 14.0103448,9.89824561 C14.4448276,9.57894737 14.7103448,9.03859649 14.7103448,8.47368421 C14.7103448,8.17894737 14.637931,7.88421053 14.5172414,7.63859649 C14.7344828,7.34385965 14.8551724,6.9754386 14.8551724,6.58245614 C14.8551724,5.5754386 14.0586207,4.76491228 13.0689655,4.76491228 L10.6551724,4.76491228 C10.8965517,4.2 11.0896552,3.5122807 11.0896552,2.8 C11.0896552,1.08070175 10.0275862,0.0245614035 9.06206897,0.0245614035 L9.06206897,0.0245614035 L9.06206897,0.0245614035 Z"></path>\n  </g>\n</svg>\n'}),define("templates/icon-tick",[],function(){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="13px" height="10px" viewBox="0 0 13 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g transform="translate(0.000000, -3.000000)" fill="white">\n    <path d="M0.151084779,9.14637515 C-0.0507822562,8.93484281 -0.0502405736,8.5883902 0.151987583,8.37723526 L1.45166461,7.01878627 C1.65389277,6.80725393 1.98504138,6.80725393 2.18745009,7.01840887 L4.29820648,9.21940193 C4.5006152,9.43055687 4.83140268,9.43017947 5.03345028,9.21864713 L10.8178978,3.15931173 C11.0199454,2.94777939 11.351094,2.94664719 11.5540444,3.15742473 L12.8472212,4.49926815 C13.0501716,4.71004569 13.0510745,5.0553661 12.8490269,5.26708714 L5.83441823,12.6152414 C5.63237063,12.8267737 5.23315058,13 4.94714219,13 L4.34117996,13 C4.05517157,13 3.65631264,12.8263963 3.45444561,12.614864 L0.151084779,9.14637515"></path>\n  </g>\n</svg>\n'}),define("templates/image-only-part",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-comment '+(null==(__t=isAdminPart?"intercom-image-only-admin-comment":"intercom-image-only-user-comment")?"":_.escape(__t))+'">\n  ',isAdminPart&&adminAvatar&&(__p+='\n    <img src="'+(null==(__t=adminAvatar)?"":_.escape(__t))+'" class="intercom-comment-avatar">\n  '),__p+='\n  <div class="intercom-comment-body-container">\n    <div class="intercom-comment-body intercom-image-only-comment-body">\n      '+(null==(__t=partBody)?"":__t)+'\n    </div>\n  </div>\n  <div class="intercom-comment-metadata-container">\n  </div>\n</div>\n';return __p}}),define("templates/image-viewer",[],function(){return function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-image-viewer-overlay"></div>\n';return __p}}),define("templates/is-typing",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-comment intercom-comment-by-admin">\n  ',__p+=adminAvatar?'\n    <img src="'+(null==(__t=adminAvatar)?"":_.escape(__t))+'" class="intercom-comment-avatar">\n  ':'\n    <div class="intercom-comment-avatar intercom-default-admin-avatar">'+(null==(__t=adminInitials)?"":_.escape(__t))+"</div>\n  ",__p+='\n  <div class="intercom-comment-body-container">\n    <div class="intercom-comment-body">\n      <div class="intercom-is-typing-icon"></div>\n    </div>\n    <div class="intercom-comment-caret"></div>\n  </div>\n</div>\n';return __p}}),define("templates/last-active",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<span class="relative-time-in-text">'+(null==(__t=lastActive)?"":_.escape(__t))+"</span>\n";return __p}}),define("templates/launcher-admins",[],function(){return function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-launcher-preview-app-name"></div>\n<div class="intercom-launcher-preview-admins"></div>\n';return __p}}),define("templates/launcher",[],function(){return function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-launcher-button">\n  <div class="intercom-launcher-initials"></div>\n</div>\n<div class="intercom-launcher-badge"></div>\n<div class="intercom-launcher-preview">\n  <div class="intercom-launcher-preview-body"></div>\n  <div class="intercom-launcher-preview-caret"></div>\n  <div class="intercom-launcher-preview-close"></div>\n</div>\n';return __p}}),define("templates/loading",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-sheet-header">\n  <div class="intercom-sheet-header-title-container">\n    <b class="intercom-sheet-header-title">'+(null==(__t=appName)?"":_.escape(__t))+'</b>\n  </div>\n  <a class="intercom-sheet-header-button intercom-sheet-header-close-button" href="#">\n    <div class="intercom-sheet-header-button-icon"></div>\n  </a>\n</div>\n<div class="intercom-sheet-body">\n  <div class="intercom-sheet-spinner"></div>\n</div>\n<div class="intercom-sheet-content">\n</div>\n';return __p}}),define("templates/lwr-emotions-composer",[],function(){return function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-lwr-composer-options intercom-lwr-composer-options-emotions">\n  <div class="intercom-lwr-composer-option intercom-lwr-composer-option-happy" data-option="happy">\n    <div class="intercom-lwr-icon"></div>\n  </div>\n  <div class="intercom-lwr-composer-option intercom-lwr-composer-option-neutral" data-option="neutral">\n    <div class="intercom-lwr-icon"></div>\n  </div>\n  <div class="intercom-lwr-composer-option intercom-lwr-composer-option-sad" data-option="sad">\n    <div class="intercom-lwr-icon"></div>\n  </div>\n</div>\n';return __p}}),define("templates/lwr-thumbs-composer",[],function(){return function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-lwr-composer-options intercom-lwr-composer-options-thumbs">\n  <div class="intercom-lwr-composer-option intercom-lwr-composer-option-thumbs-up" data-option="thumbs_up">\n    <div class="intercom-lwr-icon"></div>\n  </div>\n  <div class="intercom-lwr-composer-option intercom-lwr-composer-option-thumbs-down" data-option="thumbs_down">\n    <div class="intercom-lwr-icon"></div>\n  </div>\n</div>\n';return __p}}),define("templates/new-anonymous-user",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",__p+=haveEmail?"\n  <p>"+(null==(__t=t("anonymous-email-response",{email:email}))?"":_.escape(__t))+"</p>\n":"\n  <p>"+(null==(__t=t("anonymous-email-responder"))?"":_.escape(__t))+'</p>\n  <div class="intercom-new-anonymous-user-input-container">\n    <input type="email" name="email" autocapitalize="off" placeholder="'+(null==(__t=t("your-email"))?"":_.escape(__t))+'" formnovalidate="true"/>\n    <input type="submit" value="" />\n  </div>\n',__p+="\n";return __p}}),define("templates/powered-by",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<a href="https://www.intercom.io?utm_source=web-app&amp;utm_medium='+(null==(__t=trackingType)?"":_.escape(__t))+'&amp;utm_campaign=powered-by-intercom" target="_blank">\n  <i></i>\n  <span>We run on <u>Intercom</u></span>\n</a>\n';return __p}}),define("templates/small-announcement",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",part.adminAvatar()&&(__p+='\n  <div class="intercom-small-announcement-avatar-container">\n    <img src="'+(null==(__t=part.adminAvatar())?"":_.escape(__t))+'" class="intercom-small-announcement-avatar" />\n  </div>\n'),__p+='\n<div class="intercom-small-announcement">\n  <div class="intercom-small-announcement-body-container">\n    <div class=" intercom-small-announcement-body intercom-embed-body">\n      '+(null==(__t=partBody)?"":__t)+'\n    </div>\n    <div class="intercom-attachments">\n      ',part.uploads.each(function(a){__p+='\n        <div class="intercom-attachment">\n          <a href="'+(null==(__t=a.url())?"":_.escape(__t))+'" target="_blank">'+(null==(__t=a.name())?"":_.escape(__t))+"</a>\n        </div>\n      "}),__p+='\n    </div>\n    <div class="intercom-lwr-composer-container"></div>\n  </div>\n</div>\n';return __p}}),define("templates/sticker-part",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-comment '+(null==(__t=isAdminPart?"intercom-sticker-admin-comment":"intercom-sticker-user-comment")?"":_.escape(__t))+'">\n  ',isAdminPart&&adminAvatar&&(__p+='\n    <img src="'+(null==(__t=adminAvatar)?"":_.escape(__t))+'" class="intercom-comment-avatar">\n  '),__p+='\n  <div class="intercom-comment-body-container">\n    <div class="intercom-comment-body intercom-sticker-comment-body">\n      ',__p+=nativeStickerSupport?'\n        <div class="intercom-sticker-native" title="'+(null==(__t=stickerIdentifier)?"":_.escape(__t))+'">\n          '+(null==(__t=unicodeSticker)?"":_.escape(__t))+"\n        </div>\n      ":'\n        <div title="'+(null==(__t=stickerIdentifier)?"":_.escape(__t))+'">\n          <img alt="'+(null==(__t=stickerIdentifier)?"":_.escape(__t))+'" src="'+(null==(__t=stickerUrl)?"":_.escape(__t))+'" class="intercom-sticker-image" style="cursor:default;">\n        </div>\n      ',__p+='\n    </div>\n  </div>\n  <div class="intercom-comment-metadata-container">\n  </div>\n</div>\n';return __p}}),define("templates/upload-part",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-comment intercom-comment-by-user intercom-upload-comment ',upload.isImage()&&(__p+="intercom-upload-image"),__p+=" "+(null==(__t=showSending?"intercom-upload-is-uploading":"")?"":_.escape(__t))+'">\n  <div class="intercom-comment-body-container">\n    <div class="intercom-comment-body intercom-upload-body">\n      ',upload.isImage()?(__p+="\n        ",__p+=upload.hasDimensions()?'\n          <img src="'+(null==(__t=upload.url())?"":_.escape(__t))+'" style="width: '+(null==(__t=upload.width())?"":_.escape(__t))+"px; height: "+(null==(__t=upload.height())?"":_.escape(__t))+'px;" alt="'+(null==(__t=upload.name())?"":_.escape(__t))+'">\n        ':'\n          <img src="'+(null==(__t=upload.url())?"":_.escape(__t))+'" alt="'+(null==(__t=upload.name())?"":_.escape(__t))+'">\n        ',__p+="\n      "):__p+='\n        <a href="'+(null==(__t=upload.url())?"":_.escape(__t))+'" target="_blank">'+(null==(__t=upload.name())?"":_.escape(__t))+"</a>\n      ",__p+='\n    </div>\n    <div class="intercom-comment-caret"></div>\n  </div>\n  <div class="intercom-comment-metadata-container">\n    <div class="intercom-comment-metadata">\n      <span class="intercom-comment-state">\n        ',showFailed&&(__p+="\n          "+(null==(__t=t("failed"))?"":_.escape(__t))+"\n        "),__p+="\n        ",showSending&&(__p+="\n          "+(null==(__t=t("uploading"))?"":_.escape(__t))+'\n          <div class="intercom-attachment-progress-bar">\n            <div class="intercom-attachment-progress-percentage"></div>\n          </div>\n          <span class="intercom-upload-remove"></span>\n        '),__p+="\n      </span>\n    </div>\n  </div>\n</div>\n";return __p}}),define("templates/video-reply-part",[],function(){return function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="intercom-comment '+(null==(__t=part.byUser()?"intercom-comment-by-user":"intercom-comment-by-admin")?"":_.escape(__t))+'">\n  ',part.byAdmin()&&part.adminAvatar()&&(__p+='\n    <img src="'+(null==(__t=part.adminAvatar())?"":_.escape(__t))+'" class="intercom-comment-avatar">\n  '),__p+='\n  <div class="intercom-video-reply">\n    '+(null==(__t=partBody)?"":__t)+'\n    <div class="intercom-video-reply-controls">\n      <div class="intercom-video-reply-controls-shading"></div>\n      <div class="intercom-video-reply-controls-bar">\n        <div class="intercom-video-reply-controls-playpausebutton"></div>\n        <div class="intercom-video-reply-controls-progressbar"></div>\n        <div class="intercom-video-reply-controls-mutebutton"></div>\n      </div>\n    </div>\n  </div>\n  <div class="intercom-comment-metadata-container">\n  </div>\n</div>\n';return __p}}),define("throttler",function(){"use strict";function a(a,c){this.options=b.defaults({},c,{limit:e,delay:f}),this.client=a,this.updating=!1,this.queued=!1,this.count=0}var b=require("underscore"),c=require("logger"),d=require("date"),e=10,f=18e5;return a.prototype={createOrUpdateUser:function(){return this.updating?(c.info("throttler - An update is in progress"),void(this.queued=!0)):(this.client.createOrUpdateUser().then(b.bind(function(){this.queued&&b.defer(b.bind(this.createOrUpdateUser,this)),this.updatedAt=d.now(),this.count++,this.queued=this.updating=this.delayed=!1},this)),void(this.updating=!0))},throttledCreateOrUpdateUser:function(){var a=this.getDelay();return 0===a?this.createOrUpdateUser():(c.info("throttler - Update delayed for "+a+"ms"),void(this.delayed||(b.delay(b.bind(this.createOrUpdateUser,this),a),this.delayed=!0)))},getDelay:function(){return this.isThrottled()?b.max([this.updatedAt-d.now()+this.options.delay,0]):0},isThrottled:function(){return this.count>=this.options.limit},reset:function(){this.count=0}},a}),define("time",["exports","i18n"],function(a,b){"use strict";function c(a){return"Invalid Date"!==a.toString()}var d={s:1e3,m:60,h:60,d:24,w:7};a.relativeTime=function(a){var b=new Date,c=b-a;c=Math.max(0,c);var e="s";for(var f in d){if(c<d[f])break;e=f,c/=d[f]}return c=Math.floor(c),{unit:e,delta:c}},a.relativeTimeInWords=function(d,e){if(!c(d))return"";var f=a.relativeTime(d);return void 0!==e&&"s"===f.unit?e:b.translate("X"+f.unit,{delta:f.delta})}}),define("turbolinks",function(){"use strict";var a=require("jquery");return function(b){a(document).on("page:change",function(){b.add()})}}),define("upload",function(){"use strict";function a(a){var b=d.Deferred(),c=new FileReader;return c.onload=e.bind(b.resolve,b,a),c.readAsDataURL(a.file),b}function b(a){var b=d.Deferred();return a.save().then(e.bind(b.resolve,b,a)).fail(function(){a.trigger("upload:error"),b.reject(a)
}),b}function c(a){var b=d.Deferred(),c=new FormData;c.append("key",a.get("key")),c.append("acl",a.get("acl")),c.append("Content-Type",a.get("content_type")),c.append("AWSAccessKeyId",a.get("aws_access_key")),c.append("policy",a.get("policy")),c.append("signature",a.get("signature")),c.append("success_action_status",a.get("success_action_status")),c.append("file",a.file);var e=new XMLHttpRequest;return e.upload.addEventListener("progress",function(b){b.lengthComputable&&a.trigger("upload:progress",b.loaded,b.total)},!1),e.addEventListener("error",function(){a.trigger("upload:error"),b.reject(a)},!1),e.addEventListener("load",function(){a.trigger("upload:complete"),b.resolve(a)},!1),e.addEventListener("abort",function(){a.trigger("upload:abort"),b.reject(a)},!1),e.open("POST",a.get("upload_destination"),!0),e.send(c),b}var d=require("jquery"),e=require("underscore");return function(d){return d.trigger("upload:start"),a(d).then(b).then(c)}}),define("url-opener",["underscore","browser"],function(a,b){"use strict";function c(){return b.features.uiwebview()}return{openUrlInNewWindowAndNullOpener:function(b){if(!a.isEmpty(b)){var c=window.open("");c.opener=null,c.document.write('<meta http-equiv="refresh" content="0; url='+b+'">'),c.document.close()}},openUrlInNewWindow:function(a){return c()?!1:(this.openUrlInNewWindowAndNullOpener(a),!0)},openLinkInNewWindow:function(b){var c=b.data("via")||b.attr("href");return a.isUndefined(c)?!1:(b.attr("href",c),this.openUrlInNewWindow(c))}}}),define("url",["underscore","exports"],function(a,b){"use strict";b.parse=function(b){var c=document.createElement("a");return c.href=b,a.pick(c,"protocol","host","port","pathname","hash","search")}}),define("user-metrics",function(){"use strict";var a=require("metrics"),b=require("store"),c=require("json"),d="tracked-events";return{initialize:function(a){this.settings=a},trackEvent:function(e){if(!this.isTrackedEvent(e)){var f=this.getTrackedEvents();f.push(e),b.localStorage.set(d,c.stringify(f)),a.increment(e)}},trackSignedOutEvent:function(a){this.settings&&this.settings.get("user.anonymous")&&this.trackEvent(a)},isTrackedEvent:function(a){return this.getTrackedEvents().indexOf(a)>=0},getTrackedEvents:function(){return c.parse(b.localStorage.get(d)||"[]")}}}),define("user-notifier",function(){"use strict";function a(a){return"audio.notification."+a.id}function b(b){return j.parse(i.localStorage.get(a(b))||0)}function c(b){i.localStorage.set(a(b),b.get("updated_at"))}function d(a){return b(a)===a.get("updated_at")}var e=require("audio"),f=require("date"),g=require("page-title"),h=require("i18n"),i=require("store"),j=require("json");return{enable:function(){this.enabled=!0},isEnabled:function(){return this.enabled},triggerNotification:function(a){if(this.isEnabled()&&!a.isRead()){var b=a.parts.last();if(b&&!b.byUser()){var c,d=b.getAuthorFirstName();c=d?h.translate("x-says",{firstName:d}):h.translate("someone-says"),g.setNotification(c),this._playAudio(a)}}},triggerWelcomeNotification:function(a){if(this.isEnabled()){var b="audio.notification.app-message",c=j.parse(i.localStorage.get(b)||0);if(!c){if(h.isLocaleEnglish()){var d=a+" says...";g.setNotification(d)}i.localStorage.set(b,f.now()),e.playNotification()}}},_playAudio:function(a){d(a)||(c(a),e.playNotification())}}}),define("views/animations/add-admin-part",["jquery","jquery-transit"],function(){"use strict";function a(a,b,c,d){a.scrollToBottom(),a.$(".intercom-sheet-content").transition({y:b+"px",duration:0}).transition({y:"0px",duration:400,easing:"ease",complete:function(){c&&d.$el.addClass("intercom-conversation-part-grouped-last")}})}function b(a,b){a.$el.transition({y:"+="+b+"px",duration:0}).transition({y:"0px",duration:400,easing:"snap",complete:function(){this.addClass("intercom-conversation-part-grouped-last")}}),a.$(".intercom-comment-metadata-container").transition({opacity:0,duration:0}).transition({opacity:1,duration:100})}function c(a,b,c){return Math.min(a.getScrollPosition(),b.getHeight()-c)}function d(a,b,c){if(!c)return 0;a.$(".intercom-comment-caret").remove(),a.$(".intercom-comment-avatar").transition({opacity:0,duration:200});var d=b.outerHeight(!0);return b.hasClass("intercom-conversation-part-grouped-last")?b.removeClass("intercom-conversation-part-grouped-last").addClass("intercom-conversation-part-grouped"):b.addClass("intercom-conversation-part-grouped-first"),d-b.outerHeight(!0)}return function(e,f,g,h){var i=e.$(".intercom-conversation-part:not(.intercom-is-typing):eq(-2)"),j=d(f,i,h),k=c(e,f,j),l=f.getHeight()-j;g&&(k-=g.getHeight()),k>0?(k=l>k?k:l,a(e,k,h,f)):h&&b(f,j)}}),define("views/animations/add-anonymous-form",["jquery","jquery-transit"],function(){"use strict";return function(a,b){a.$el.hide().transition({opacity:0,duration:0}).delay(b+1800).slideDown({duration:400}).transition({opacity:1,duration:200})}}),define("views/animations/add-is-typing",["jquery","jquery-transit"],function(){"use strict";function a(a,b,c){a.$(".intercom-conversation-parts").transition({y:c+"px",duration:0}).transition({y:"0px",duration:100}),b.$(".intercom-comment-avatar").transition({opacity:0,scale:0,duration:0}).transition({opacity:100,scale:1,duration:100,delay:100}),b.$(".intercom-comment-body-container").transition({scale:0,opacity:0,duration:0}).transition({scale:1,opacity:100,duration:100,delay:200})}function b(a){a.$(".intercom-comment-avatar").transition({opacity:0,scale:0,duration:0}).transition({opacity:100,scale:1,duration:100}),a.$(".intercom-comment-body-container").transition({scale:0,opacity:0,duration:0}).transition({scale:1,opacity:100,duration:100,delay:100})}function c(a,b){return Math.min(a.getScrollTop(),b.getHeight())}return function(d,e){var f=c(d,e);f>0?a(d,e,f):b(e)}}),define("views/animations/add-user-part",["jquery","jquery-transit"],function(){"use strict";function a(a,b,c){a.scrollToBottom(),b.$el.transition({opacity:0,duration:0}).transition({opacity:100,duration:400}),a.$(".intercom-conversation-parts").transition({y:c+"px",duration:0}).transition({y:"0px",duration:400,easing:"ease"})}function b(a){a.$el.transition({y:"100px",opacity:0,duration:0}).transition({opacity:100,queue:!1,duration:200}).transition({y:"0px",duration:400,easing:"snap"})}function c(a,b,c){return Math.min(a.getHeight()-a.$(".intercom-conversation-parts-container").outerHeight(!0)-a.$(".intercom-app-profile-container").outerHeight(!0),b.getHeight()-c)}return function(d,e,f){var g=c(d,e,f),h=e.getHeight()-f;g>0?b(e):(g=Math.abs(g)<h?Math.abs(g):h,a(d,e,g,f))}}),define("views/animations/bounce-composer",["jquery","jquery-transit"],function(){"use strict";return function(a){var b=a.$(".intercom-composer");b.transition({y:-5,duration:200}).transition({y:0,easing:"ease",duration:200})}}),define("views/animations/hide-app-profile",["jquery","jquery-transit"],function(){"use strict";return function(a){var b=a.$(".intercom-app-profile-container"),c=b.height();b.css({height:c,overflow:"hidden"}).transition({height:0,duration:400,complete:function(){b.empty().removeAttr("style")}})}}),define("views/animations/hide-enter-to-send",["jquery","jquery-transit"],function(){"use strict";function a(a,b){a.transition({opacity:0,duration:200,complete:function(){c(a)}}),b.transition({opacity:0,duration:0}).delay(200).transition({opacity:1,duration:200})}function b(a){a.transition({height:0,opacity:0,duration:200,complete:function(){c(a)}})}function c(a){a.css({display:"none",height:"auto"})}return function(c){var d=c.$(".intercom-composer-press-enter-to-send"),e=c.$(".intercom-powered-by");d.is(":hidden")||(e.length>0?a(d,e):b(d))}}),define("views/animations/launcher-preview",["exports","jquery","jquery-transit"],function(a){"use strict";function b(a){return a.$(".intercom-launcher-preview")}function c(a){return a.$(".intercom-launcher-preview-close")}function d(a){b(a).transition({x:"10px",opacity:0,scale:.8,duration:150,easing:"ease-in-out"},function(){b(a).removeAttr("style"),a.hidePreview(),c(a).show()})}a.show=function(a,e){e||c(a).hide(),b(a).css({animation:"none"}).transition({opacity:0,x:"10px",delay:1500,duration:0,easing:"ease-in-out"},function(){b(a).css({visibility:"visible",opacity:0})}).transition({x:"-5px",scale:1.05,duration:150,easing:"ease-in-out"}).transition({opacity:1,x:0,scale:1,duration:150,easing:"ease-in-out"},function(){b(a).css({transformOrigin:"right"}),e&&a.playWelcomeNotification(),setTimeout(function(){e||d(a)},8e3)})}}),define("views/animations/launcher",["exports","jquery","jquery-transit"],function(a){"use strict";function b(a){return a.$(".intercom-launcher-button")}a.first=function(a){b(a).transition({scale:0,delay:1e3}).transition({scale:1.2,duration:120,easing:"ease-out"}).transition({scale:1,duration:30,easing:"ease-out"})},a.subsequent=function(a){b(a).transition({opacity:0,scale:.8,delay:1e3,duration:0}).transition({opacity:1,scale:1,duration:150,easing:"ease-out"})}}),define("views/animations/remove-auto-response",["jquery","jquery-transit"],function(){"use strict";function a(a){return a.isAnonymousUserWithoutEmail()&&a.hasAnonymousForm()&&!a.isAutoResponseVisible()?void 0:a.isAnonymousUserWithoutEmail()&&a.isAutoResponseVisible()?a.$(".intercom-auto-response-text"):a.$el}return function(b){var c=a(b);if(c){var d=c.height();c.css({height:d}).transition({opacity:0,height:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0,border:0,duration:400})}}}),define("views/animations/remove-is-typing",["jquery","jquery-transit"],function(){"use strict";function a(a,b,c){a.$(".intercom-conversation-parts").transition({y:-b+"px",duration:0,delay:c}).transition({y:"0px",duration:c})}function b(a,b){a.$el.transition({opacity:0,duration:b})}function c(a,b){return Math.min(a.getScrollTop(),b.getHeight())}var d=require("underscore");return function(e,f,g){g=g||100;var h=c(e,f);a(e,f,h,g),b(f,g),d.delay(d.bind(f.remove,f),g)}}),define("views/animations/show-anonymous-email",["jquery","jquery-transit"],function(){"use strict";function a(a,b,c,d){a.$el.transition({height:c+"px",scale:.95,duration:0}).transition({height:d+"px",duration:200}).transition({opacity:1,scale:1.05,duration:100}).transition({scale:1,duration:100,complete:function(){b.isAutoResponseVisible()?this.transition({opacity:0,delay:5e3,duration:200}).slideUp():this.transition({delay:5e3,complete:function(){b.removeAutoResponse()}})}})}function b(a){return a.$el.height()}return function(c,d){c.$el.transition({opacity:0,duration:200,complete:function(){var e=b(c);c.render();var f=b(c);a(c,d,e,f)}})}}),define("views/animations/show-composer",["jquery","jquery-transit"],function(){"use strict";return function(a){var b=a.$(".intercom-composer"),c=b.outerHeight(!0);b.transition({y:c,duration:0}).delay(200).transition({y:-5,easing:"ease",duration:200}).transition({y:0,easing:"ease",duration:200})}}),define("views/animations/show-enter-to-send",["jquery","jquery-transit"],function(){"use strict";function a(a,b){b.transition({opacity:0,duration:200}),a.transition({opacity:0,duration:0}).delay(200).transition({opacity:1,duration:200})}function b(a){a.transition({height:0,opacity:0,duration:0}).transition({height:16,opacity:1,easing:"ease",duration:200})}return function(c){var d=c.$(".intercom-composer-press-enter-to-send"),e=c.$(".intercom-powered-by");d.is(":visible")||(d.css({display:"block"}),e.length>0?a(d,e):b(d))}}),define("views/animations/transition-conversation-header",["jquery","jquery-transit"],function(){"use strict";function a(a,b){a.is(":visible")&&!d&&(d=!0,a.transition({opacity:0,top:"-100%",duration:c,complete:function(){this.css({opacity:1}).hide(),d=!1}}),b.show().css({opacity:0}).transition({opacity:1,top:0,duration:c}))}function b(a,b){a.is(":visible")||d||(d=!0,a.show().css({opacity:0}).transition({opacity:1,top:0,duration:c}),b.transition({opacity:0,top:"100%",duration:c,complete:function(){this.css({opacity:1}).hide(),d=!1}}))}var c,d=!1;return function(c,d,e){var f=c.$(".intercom-sheet-header-generic-title"),g=c.$(".intercom-sheet-header-title-container");e=e||200,d?b(f,g):a(f,g)}}),define("views/animations/zoomed-image",["exports","jquery-transit"],function(a){"use strict";function b(a){var b=a.$placeholder.width(),d=a.$placeholder.height(),e=a.$placeholder.offset();e.top-=c(document).scrollTop(),e.left-=c(document).scrollLeft();var f=b/a.width,g=e.left+b/2-(a.left+a.width/2),h=e.top+d/2-(a.top+a.height/2);return{x:g,y:h,scale:f}}var c=require("jquery"),d=require("underscore");a.show=function(a){a.$el.transition(b(a),100).transition({x:0,y:0,scale:1},300,"ease")},a.hide=function(a,c){a.$el.transition(d.extend(b(a),{complete:c}),300,"ease")}}),define("views/app-profile",function(){"use strict";var a=require("underscore"),b=require("template"),c=require("initials"),d=require("user-metrics"),e=require("backbone"),f=require("views/last-active");return e.View.extend({template:b.load("app-profile"),adminTemplate:b.load("app-profile-admin"),className:"intercom-app-profile",events:{"click .intercom-active-admin-avatar":"onAppProfileAvatarClicked"},initialize:function(a){this.settings=a.settings,this.app=a.app,this.lastActiveView=new f({model:this.app}),this.listenTo(this.app,"change",this.renderLastActive)},render:function(){var a=this.settings.get("app.active-admins"),b=this.settings.get("app.message"),c=this.settings.get("app.name");return a||b?(this.$el.html(this.template({message:b,appName:c})),this.renderAdmins(),this.renderLastActive()):this.$el.hide(),this},renderAdmins:function(){var b=this.settings.get("app.active-admins");b&&0!==b.length?(this.$(".intercom-active-admins").show(),a.each(b,a.bind(function(a){this.$el.find(".intercom-active-admins").append(this.adminTemplate({firstName:a.first_name,firstInitial:c.firstInitial(a.first_name),avatar:a.avatar.image_urls.square_128,has_avatar:this.hasAvatar(a.avatar.image_urls.square_128)}))},this))):this.$(".intercom-active-admins").hide()},renderLastActive:function(){this.$(".intercom-app-profile-last-active").html(this.lastActiveView.render().el)},hasAvatar:function(b){return!a.isEmpty(b)&&b.indexOf("msg-user-icon-73")<0},onAppProfileAvatarClicked:function(){d.trackSignedOutEvent("uniqueVisitorClickedAvatarInWelcomePanel")}})}),define("views/auto-response",function(){"use strict";var a=require("underscore"),b=require("backbone"),c=require("template"),d=require("views/new-anonymous-user"),e=require("views/animations/add-anonymous-form"),f=require("views/animations/remove-auto-response");return b.View.extend({template:c.load("auto-response"),className:"intercom-auto-response",initialize:function(a){this.settings=a.settings,this.message=this.model.getMessage()},render:function(b){var c=200;if(b=a.defaults({},b,{delay:0}),this.$el.toggleClass("intercom-auto-response-active",this.isActive()),!this.isActive())return this;if(this.hasAutoResponse()&&this.renderTemplate(),this.isAnonymousUserWithoutEmail()){var f=new d({settings:this.settings,parentView:this}).render();if(this.$el.append(f.$el),this.hasAutoResponse()&&b.delay>0){var g=b.delay+c;e(f,g)}}return b.delay>0&&this.$el.hide().delay(b.delay).fadeIn(c),this},renderTemplate:function(){this.$el.html(this.template({customAutoResponseEnabled:this.settings.get("app.rtm-enabled"),customAutoResponse:this.settings.get("app.auto-response"),firstName:this.message.getAuthorFirstName(),haveEmail:!a.isEmpty(this.message.getAuthorEmail())}))},isActive:function(){return this.isAnonymousUserWithoutEmail()||this.hasAutoResponse()},hasAutoResponse:function(){return this.showStaticAutoResponse()||this.showCustomAutoResponse()},isAutoResponseVisible:function(){return this.$(".intercom-auto-response-text").is(":visible")},hasAnonymousForm:function(){return this.$("input").is(":visible")},isAnonymousUserWithoutEmail:function(){return this.settings.get("user.anonymous")&&a.isEmpty(this.message.getAuthorEmail())},showStaticAutoResponse:function(){return this.model.qualifiesForAutoResponse()&&(!this.settings.get("app.rtm-enabled")||this.settings.get("app.rtm-enabled")&&this.message.byAdmin())},showCustomAutoResponse:function(){return this.settings.get("app.rtm-enabled")&&this.settings.has("app.auto-response")&&this.model.qualifiesForAutoResponse()},removeAutoResponse:function(){f(this)}})}),define("views/composer",function(){"use strict";function a(a){a.stopPropagation()}var b=require("jquery"),c=require("underscore"),d=require("backbone"),e=require("browser"),f=require("draft-store"),g=require("user-metrics"),h=require("models/draft"),i=require("models/upload"),j=require("audio"),k=require("metrics"),l=require("collections/uploads"),m=require("views/emoji-selector"),n=require("template"),o=require("views/animations/show-enter-to-send"),p=require("views/animations/hide-enter-to-send");return d.View.extend({template:n.load("composer"),tagName:"form",id:"intercom-composer",className:"intercom-composer",attributes:{action:"",method:"POST"},events:{submit:"onSubmitted","keyup textarea":"onTextChanged","input textarea":"onTextChanged","focus textarea":"updateComposer","blur textarea":"onComposerBlur","keydown textarea":"onKeyDown","click .intercom-composer-upload-button":"onUploadButtonClicked","click .intercom-composer-emoji-button":"onEmojiButtonClicked","change input[type=file]":"onUploadsAdded"},initialize:function(a){this.timeout=null,this.settings=a.settings,this.uploads=new l,this.isVisitorAutoMessage=!1,this.$(".intercom-composer-upload-error").hide(),this.emojiSelectorView=new m({onEmojiIconClickCallback:c.bind(this.insertEmoji,this)}),this.listenTo(this.uploads,"add",this.submitUpload)},render:function(){return this.$el.html(this.template()),this.$(".intercom-composer-emoji-selector-container").append(this.emojiSelectorView.render().el),this.$(".intercom-composer-emoji-button").toggle(this.isEmojiEnabled()),this.$(".intercom-composer-upload-button").toggle(this.isUploadingEnabled()),this.updateSubmit(),this},setConversationId:function(a){this.conversationId=a;var b=f.loadDraft(this.conversationId);c.isUndefined(b)||this.setText(b.getText())},setVisitorAutoMessage:function(a){this.isVisitorAutoMessage=a},insertEmoji:function(a){0===this.getText().length?(this.setText(a),this.$el.submit()):(this._insertTextAtCursor(a),this.saveDraft(),this.focus())},enable:function(){return this.$("textarea, input").prop("disabled",""),this.$("input[type=submit]").css("visibility","inherit"),this.$el.removeClass("intercom-composer-disabled"),this.updateSubmit(),this},disable:function(){return this.$("textarea, input").prop("disabled","disabled"),this.$("input[type=submit]").css("visibility","hidden"),this.$el.addClass("intercom-composer-disabled"),this},reset:function(){return this.uploads.reset(),this.$("textarea").val(""),this.$("pre span").empty(),this.updateComposer(),this.conversationId=null,this},focus:function(){return this.$("textarea").focus(),this},blur:function(){return this.$("textarea").blur(),this},isEmojiEnabled:function(){return!e.features.ie8()&&!e.features.touchScreen()&&void 0!==this.settings},isUploadingEnabled:function(){return!e.features.touchScreen()&&e.features.upload()&&void 0!==this.settings&&!this.settings.get("user.anonymous")},isSubmitButtonEnabled:function(){return!this.$("input[type=submit]").prop("disabled")},isFocused:function(){return this.$("textarea").is(":focus")},hide:function(){return this.$el.addClass("intercom-composer-inactive"),this},show:function(){return this.$el.removeClass("intercom-composer-inactive"),this},updatePosition:function(){var a=0;this.$el.hasClass("intercom-composer-inactive")||(a=this.$el.closest(".intercom-composer").outerHeight(!0)),this.$el.closest(".intercom-conversation").find(".intercom-sheet-content").css({bottom:a})},updateSubmit:function(){var a=b.trim(this.getText()),d=c.isEmpty(a);this.$("input[type=submit]").prop("disabled",d),e.features.touchScreen()&&(this.$("input[type=submit]").show(),this.$("textarea").css("font-size","20px"))},hasAnyUploads:function(){return this.uploads.length>0},saveDraft:function(){var a=new h(this.getText());a.isEmpty()?f.removeDraft(this.conversationId):f.saveDraft(a,this.conversationId)},scrollIntoView:function(){var a=this.$el.closest(".intercom-sheet-content");a.scrollTop(a.prop("scrollHeight"))},setPlaceholder:function(a){var c=b("<div/>").html(a).text();this.$("textarea").attr("placeholder")!==c&&this.$("textarea").attr({placeholder:c})},getText:function(){return this.$("textarea").val()},setText:function(a){c.isString(a)&&(this.$("textarea").val(a),this.updateComposer())},clearText:function(){this.$("textarea").val(""),this.$("pre span").empty(),this.updateComposer()},updateComposer:function(){this.$("pre span").text(this.getText()),this.updatePosition(),this.scrollIntoView(),this.updateSubmit(),this.$(".intercom-composer-textarea").addClass("intercom-composer-focused")},onComposerBlur:function(){this.$(".intercom-composer-textarea").removeClass("intercom-composer-focused")},onTextChanged:function(a){a.stopPropagation(),this.updateComposer(),this.saveDraft(),this.eventShouldTriggerUserIsTyping(a)&&this.trigger("userIsTyping")},queueEnterToSendAnimation:function(){e.features.touchScreen()||(this.resetEnterToSendTimeout(),c.isEmpty(this.getText())?this.hideEnterToSend():this.timeout=setTimeout(c.bind(this.showEnterToSendAnimation,this),2e3))},showEnterToSendAnimation:function(){o(this)},eventShouldTriggerUserIsTyping:function(a){if("input"===a.type)return!0;if(!a.originalEvent)return!0;var b=a.originalEvent.keyCode;return b>46&&91>b||b>145||32===b?!0:!1},submitUpload:function(){var a=this.getText();this.clearText(),this.$el.submit(),this.setText(a)},onSubmitted:function(a){a.preventDefault(),this.hideEmojiSelector();var b=this.getText();f.removeDraft(this.conversationId),(!c.isEmpty(b)||this.hasAnyUploads())&&(this.trigger("submit",b,this.uploads.clone()),this.resetUploads(),j.playSubmit(),e.features.touchScreen()&&this.blur(),this._trackMessageSent(),this.hideEnterToSend())},resetEnterToSendTimeout:function(){clearTimeout(this.timeout)},hideEnterToSend:function(){this.resetEnterToSendTimeout(),p(this)},resetEnterToSend:function(){this.$(".intercom-composer-press-enter-to-send").css({height:"auto",display:"none"}),this.$(".intercom-powered-by").css({opacity:1})},submitKeyPressed:function(a){return 13!==a.keyCode||a.altKey||a.shiftKey?!1:(a.preventDefault(),!0)},onKeyDown:function(a){this.submitKeyPressed(a)&&this.isSubmitButtonEnabled()&&this.$el.submit(),this._trackComposerTyping(),a.stopPropagation()},onUploadButtonClicked:function(){this.$("input[type=file]").click()},onUploadError:function(){this.$(".intercom-composer-upload-error").show(),this.updateComposer()},showEmojiSelector:function(){this.$(".intercom-emoji-selector").on("click",a),this.$(".intercom-emoji-selector").show(),b(".intercom-conversation.intercom-sheet-active").on("click.hideEmojiSelector",c.bind(this.hideEmojiSelector,this)),this.$(".intercom-composer-emoji-button").addClass("intercom-composer-emoji-button-active"),this.focus()},hideEmojiSelector:function(){this.$(".intercom-emoji-selector").off("click",a),this.$(".intercom-emoji-selector").hide(),b(".intercom-conversation.intercom-sheet-active").off("click.hideEmojiSelector"),this.$(".intercom-composer-emoji-button").removeClass("intercom-composer-emoji-button-active")},onEmojiButtonClicked:function(a){a.stopPropagation(),this.$(".intercom-emoji-selector").is(":visible")?this.hideEmojiSelector():this.showEmojiSelector()},getFiles:function(){return this.$("input[type=file]")[0].files},onUploadsAdded:function(){var a=this.getFiles();c.each(a,c.bind(function(a){var b=i.fromFile(a);b.isTooBig()?(k.increment("uploadTooBig"),this.onUploadError()):b.isImage()?this.previewAndAddUpload(b):this.uploads.add(b)},this))},previewAndAddUpload:function(a){if(e.features.upload()){var b=new FileReader,d=new Image;b.onload=c.bind(function(b){d.src=b.target.result,d.onload=c.bind(function(){a.set({imageData:b.target.result,width:d.width,height:d.height}),this.uploads.add(a)},this)},this),b.readAsDataURL(a.file)}else this.uploads.add(a)},resetUploads:function(){var a=this.$("input[type=file]");this.$(".intercom-composer-upload-error").hide(),a.replaceWith(a.val("").clone(!0)),this.uploads.reset()},metricsPrefix:function(){return this.conversationId?this.isVisitorAutoMessage?"inReplyToVisitorAutoMessage.":void 0:"fromNewConversationView."},_getCursorPosition:function(){return this.$("textarea")[0].selectionStart},_setCursorPosition:function(a){this.$("textArea")[0].setSelectionRange(a,a)},_insertTextAtCursor:function(a){var b=this.$("textarea"),c=this._getCursorPosition(),d=b.val(),e=d.slice(0,c),f=d.slice(c);this.setText(e+a+f),this._setCursorPosition(c+a.length)},_trackComposerTyping:function(){(!this.conversationId||this.isVisitorAutoMessage)&&g.trackSignedOutEvent(this.metricsPrefix()+"uniqueVisitorTypedInComposer")},_trackMessageSent:function(){(!this.conversationId||this.isVisitorAutoMessage)&&g.trackSignedOutEvent(this.metricsPrefix()+"uniqueVisitorSentMessage")}})}),define("views/conversation-item",function(){"use strict";var a=require("backbone"),b=require("navigation-events"),c=require("views/relative-time"),d=require("metrics"),e=require("previewer"),f=require("template"),g=require("emoji");return a.View.extend({template:f.load("conversation-item"),className:"intercom-conversations-item",events:{click:"onClicked"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model.parts,"add",this.render)},getPreview:function(){return e.isMetadataPreview(this.model.preview())?e.preview(this.model.preview()):g.maybeSubstituteWithSpans(this.model.previewText(),"intercom-emoji-sub-icon")},render:function(){return this.$el.html(this.template({conversation:this.model,preview:this.getPreview()})).toggleClass("intercom-conversations-item-unread",this.model.isUnread()),this.$(".intercom-conversations-item-summary").toggleClass("intercom-conversations-item-summary-metadata",e.isMetadataPreview(this.model.preview())),this.$(".intercom-conversations-item-timestamp").append((new c).render(this.model.updatedAt()).el),this},onClicked:function(a){a.preventDefault(),b.trigger("click:conversation",this.model),d.increment("conversationInInboxClicked")}})}),define("views/conversation",function(){"use strict";var a=require("underscore"),b=require("i18n"),c=require("initials"),d=require("activity-monitor"),e=require("audio"),f=require("date"),g=require("metrics"),h=require("user-metrics"),i=require("rtm-latency-monitor"),j=require("visibility"),k=require("template"),l=require("state-store"),m=require("models/user"),n=require("models/part"),o=require("models/conversation"),p=require("views/sheet"),q=require("views/part"),r=require("views/composer"),s=require("views/unread-counter"),t=require("views/app-profile"),u=require("views/powered-by"),v=require("views/auto-response"),w=require("views/is-typing"),x=require("views/last-active"),y=require("views/animations/add-user-part"),z=require("views/animations/add-admin-part"),A=require("views/animations/add-is-typing"),B=require("views/animations/hide-app-profile"),C=require("views/animations/show-composer"),D=require("views/animations/bounce-composer"),E=require("views/animations/remove-is-typing"),F=require("views/animations/remove-auto-response"),G=require("views/animations/transition-conversation-header");return p.extend({template:k.load("conversation"),titleTemplate:k.load("conversation-title"),id:"intercom-conversation",className:"intercom-conversation intercom-sheet",events:a.extend(p.prototype.events,{mousemove:"onMouseMovedOrClicked",click:"onMouseMovedOrClicked","click .intercom-active-admin-avatar":"onAppProfileAvatarClicked"}),initialize:function(a){p.prototype.initialize.apply(this,arguments),this.app=a.app,this.client=a.client,this.nexusClient=a.nexusClient,this.composerView=new r(a),this.counterView=new s({collection:this.collection}),this.poweredByView=new u({settings:this.settings}),this.appProfileView=new t({settings:this.settings,app:this.app}),this.lastActiveView=new x({model:this.app}),this.listenTo(this.composerView,"submit",this.onComposerSubmitted),this.listenTo(this.composerView,"userIsTyping",this.onComposerIsTyping),this.listenTo(this.app,"change",this.onTeamLastSeenChange)},render:function(){return this.$el.html(this.template()),this.$el.addClass("intercom-emoji-support"),this.renderComposer(),this.renderPoweredBy(),this.counterView.setElement(this.$(".intercom-unread-counter")).render(),this},renderNewConversation:function(){this.model&&this.stopListening(this.model.parts),this.model=void 0,this.renderAppProfile(),this.renderTitle(),this.renderTeamLastActive(),this.composerView.show().reset().focus().setPlaceholder(b.translate("new-conversation-placeholder")),this.composerView.setConversationId(),this.composerView.resetEnterToSend(),this.showComposerWithAnimation(),this.$(".intercom-sheet-content").on("scroll",a.bind(this.onConversationScroll,this)),h.trackSignedOutEvent("uniqueVisitorOpenedNewConversation")},renderConversation:function(c,d){this.model&&this.stopListening(this.model.parts),this.stopListening(this.app),this.model=c,this.renderTitle(),this.renderAdminLastActive(),this.composerView.hide().reset().setPlaceholder(b.translate("new-comment-placeholder")),this.$el.addClass("intercom-sheet-loading"),this.$el.toggleClass("intercom-conversation-preview",d.autoOpen&&this.model.isSmallAnnouncement()),this.$el.toggleClass(["intercom-conversation-announcement","intercom-sheet-maximized"].join(" "),this.model.isAnnouncement()),i.invalidateLatencyData(),this.model.fetch().then(a.bind(function(){this.isVisitorAutoMessage()&&h.trackSignedOutEvent("uniqueVisitorOpenedVisitorAutoMessage"),this.listenTo(this.model.parts,"add",this.onPartAdded),this.listenTo(this.model.parts,"change",this.onPartChange),this.composerView.setConversationId(this.model.id),this.composerView.setVisitorAutoMessage(this.isVisitorAutoMessage()),this.composerView.resetEnterToSend(),this.renderAdminLastActive(),this.setComposerVisibility(),this.renderAppProfile(),this.renderParts(),this.renderAutoResponse(),this.focusComposer(),this.showComposerWithAnimation(),this.model.partsCount()>1&&this.scrollToBottom(),this.renderTitle(),this.$el.removeClass("intercom-sheet-loading"),this.$(".intercom-sheet-content").on("scroll",a.bind(this.onConversationScroll,this))},this))},renderParts:function(){this.model.parts.nonLwrResponses().each(function(a){var b=new q({model:a,conversation:this.model});this.groupParts(a,b),this.$(".intercom-conversation-parts").append(b.render().el)},this),this.model.partsCount()>1&&this.$el.removeClass("intercom-conversation-preview"),this.model.isUnread()&&this.$(".intercom-conversation-part:last").addClass("intercom-conversation-part-unread"),this.markConversationAsRead()},groupParts:function(a,b){var c=this.$(".intercom-conversation-part:not(.intercom-is-typing):last"),d=c.outerHeight(!0);return!this.isGroupedWithPreviousPart(a)&&this.isGroupedWithNextPart(a)?b.$el.addClass("intercom-conversation-part-grouped-first"):this.isGroupedWithPreviousPart(a)&&!this.isGroupedWithNextPart(a)?(b.$el.addClass("intercom-conversation-part-grouped-last"),c.hasClass("intercom-conversation-part-grouped-last")?c.removeClass("intercom-conversation-part-grouped-last").addClass("intercom-conversation-part-grouped"):c.addClass("intercom-conversation-part-grouped-first")):this.isGroupedWithPreviousPart(a)&&b.$el.addClass("intercom-conversation-part-grouped"),this.autoResponseIsActive()&&this.regroupComments(),d-c.outerHeight(!0)},regroupComments:function(){if(this.isGroupedWithNextPart(this.model.parts.at(0))){var a=this.$(".intercom-conversation-part:first"),b=this.$(".intercom-conversation-part:eq(1)"),c=this.isGroupedWithNextPart(this.model.parts.at(1));a.toggleClass("intercom-conversation-part-grouped-first",!this.autoResponseIsActive()),c?b.toggleClass("intercom-conversation-part-grouped",!this.autoResponseIsActive()).toggleClass("intercom-conversation-part-grouped-first",this.autoResponseIsActive()):b.toggleClass("intercom-conversation-part-grouped-last",!this.autoResponseIsActive())
}},showComposerWithAnimation:function(){C(this)},scrollToBottom:function(){this.setScrollTop(this.getScrollHeight())},autoResponseIsActive:function(){return this.autoResponseView&&this.autoResponseView.isActive()},renderAppProfile:function(){this.model&&(this.model.hasAdminComment()||this.model.getMessage().byAdmin())||this.$(".intercom-app-profile-container").show().html(this.appProfileView.render().el)},hideAppProfile:function(){B(this)},renderTitle:function(){var a=this.model?this.titleTemplate({appName:this.settings.get("app.name"),adminFirstName:this.model.lastAdminFirstName(),adminName:this.model.lastAdminName()}):this.settings.get("app.name");this.$(".intercom-sheet-header-title").html(a),this.setGenericTitle()},setGenericTitle:function(){this.model&&0!==this.model.parts.byAdmin().size()?this.resetTitle():(this.$(".intercom-sheet-header-generic-title").html(b.translate("new-message")),(!this.model||this.appProfileNameIsVisible())&&this.$(".intercom-sheet-header").addClass("intercom-sheet-header-show-generic"))},renderAdminLastActive:function(){this.$(".intercom-sheet-header-title").toggleClass("intercom-sheet-header-with-presence",this.hasLastActiveAdminTimestamp()),this.$(".intercom-sheet-header-title-container").append(this.lastActiveView.render({last_active:this.getLastActiveTimestamp()}).el)},renderTeamLastActive:function(){this.$(".intercom-sheet-header-title").toggleClass("intercom-sheet-header-with-presence",this.hasLastActiveTeamTimestamp()),this.$(".intercom-sheet-header-title-container").append(this.lastActiveView.render().el)},hasLastActiveTeamTimestamp:function(){return void 0!==this.app.get("last_active")},hasLastActiveAdminTimestamp:function(){return void 0!==this.model&&void 0!==this.model.lastAdmin()&&void 0!==this.model.lastAdminActiveTimestamp()},getLastActiveTimestamp:function(){return this.hasLastActiveAdminTimestamp()?this.model.lastAdminActiveTimestamp():void 0},renderComposer:function(){this.$(".intercom-composer-container").append(this.composerView.render().el)},renderPoweredBy:function(){if(this.settings.get("app.branding-enabled")){var a=this.model&&this.model.getMessage().byAdmin(),b=a?"outbound":"inbound";this.$(".intercom-composer").append(this.poweredByView.render({trackingType:b}).el),this.$el.addClass("intercom-powered-by-enabled")}},renderAutoResponse:function(a){var b=new v({model:this.model,settings:this.settings});b.isActive()&&(this.$(".intercom-conversation-part:first").after(b.render(a).$el),this.autoResponseView=b,this.regroupComments())},addIsTypingWithAnimation:function(b,c){if(void 0===this.isTypingView){var d=new w;this.$(".intercom-conversation-parts").append(d.render({adminAvatar:b,adminInitials:c}).$el),this.scrollToBottom(),A(this,d),this.isTypingTimeout=setTimeout(a.bind(function(){this.removeIsTypingWithAnimation()},this),2e4),this.isTypingView=d}},removeIsTypingWithAnimation:function(){void 0!==this.isTypingView&&(E(this,this.isTypingView),this.isTypingView=void 0,clearTimeout(this.isTypingTimeout))},removeIsTyping:function(){void 0!==this.isTypingView&&(this.isTypingView.remove(),this.isTypingView=void 0,clearTimeout(this.isTypingTimeout))},removeAutoResponse:function(){void 0!==this.autoResponseView&&(F(this.autoResponseView),this.autoResponseView.isAnonymousUserWithoutEmail()||(this.autoResponseView=void 0,this.regroupComments()))},addUserPartWithAnimation:function(a){var b=new q({model:a,conversation:this.model}),c=this.groupParts(a,b);return this.$(".intercom-conversation-parts").append(b.render().$el),this.composerView.reset().focus(),y(this,b,c),b},addAdminPartWithAnimation:function(a){var b=new q({model:a,conversation:this.model});return this.$(".intercom-conversation-parts").append(b.render().$el),a===this.model.parts.last()?z(this,b,this.isTypingView,this.isGroupedWithPreviousPart(a)):this.groupParts(a,b),this.renderTitle(),this.scrollToBottom(),this.removeIsTyping({animate:!1}),this.removeAutoResponse(),this.hideAppProfile(),this.model.isUnread()&&b.setUnread(),this.markConversationAsRead(),b},markConversationAsRead:function(){j.isPageVisible()&&d.isActive()?this.markActiveConversationAsRead():this.markConversationAsReadWhenActive()},markConversationAsReadWhenActive:function(){var b=a.once(a.bind(this.markActiveConversationAsRead,this));d.onActive(b),j.onVisible(b)},markActiveConversationAsRead:function(){this.shouldMarkConversationAsRead()&&(this.model.markAsRead(),this.nexusClient.onConversationSeen(this.model.id),setTimeout(a.bind(function(){this.$(".intercom-conversation-part").removeClass("intercom-conversation-part-unread")},this),3e3))},shouldMarkConversationAsRead:function(){return this.isActive()&&!this.isMinimized()&&this.model&&this.model.isUnread()},focusComposer:function(){this.model.parts.nonLwrResponses().size()>1&&this.composerView.focus()},createComment:function(b){var c=g.timer("createComment");this.model.addPart(b);var d=this.model.parts,f=this.addUserPartWithAnimation(b),h=function(){e.playDelivered(),c.resolve()},i=a.throttle(function(){g.increment("saveCommentFailed"),c.fail(),e.playFailed(),f.renderFailed()},1e3,{leading:!1}),j=function(){d.get(b)&&b.save().then(h).fail(i)};f.on("retry",j),b.isUpload()?f.on("part:save",j):j()},createConversation:function(c){var d=g.timer("createConversation");this.model=c,this.listenTo(this.model.parts,"add",this.onPartAdded),this.collection.add(this.model);var f=c.getMessage(),h=this.addUserPartWithAnimation(f);this.composerView.reset().disable().setPlaceholder(b.translate("new-comment-placeholder"));var i=a.bind(function(){e.playDelivered(),this.renderAutoResponse({delay:1e3}),this.composerView.enable().focus().setConversationId(this.model.id),m.fromSettings(this.settings).fetchRealtimeSettingsIfMissing(),l.save({view:"conversation-"+this.model.id}),d.resolve()},this),j=a.throttle(function(){d.fail(),g.increment("saveConversationFailed"),e.playFailed(),h.renderFailed()},1e3,{leading:!1}),k=function(){c.save().then(i).fail(j)};h.on("retry",k),f.isUpload()?h.on("part:save",k):k()},setComposerVisibility:function(){var a=this.model.getMessage().isLwrMessage()&&1===this.model.parts.nonLwrResponses().size();a?this.composerView.hide():this.composerView.show(),this.composerView.updatePosition()},reset:function(){this.model&&this.stopListening(this.model.parts),this.resetTitle(),this.$(".intercom-sheet-content").off("scroll"),this.$(".intercom-conversation-parts").empty(),this.$(".intercom-app-profile-container").empty().hide(),this.composerView.blur().reset()},resetTitle:function(){this.$(".intercom-sheet-header-generic-title").removeAttr("style"),this.$(".intercom-sheet-header-title-container").removeAttr("style"),this.$(".intercom-sheet-header").removeClass("intercom-sheet-header-show-generic")},isPreview:function(){return this.$el.hasClass("intercom-conversation-preview")},didHide:function(){this.reset()},didMaximize:function(){this.markConversationAsRead()},_maybeUpdateLastActive:function(){var a=f.now();this.app.set("last_active",parseInt(a/1e3,10)),this.model.updateLastAdminActiveTimestamp(parseInt(a/1e3,10)),this.renderAdminLastActive()},onTeamLastSeenChange:function(){this.renderTeamLastActive()},onPartAdded:function(a){a.byAdmin()&&(this.nexusClient.onConversationReceived(this.model.id),this._maybeUpdateLastActive(),this.addAdminPartWithAnimation(a))},onPartChange:function(a){a.byUser()&&a.changed.seen_by_admin===a.SEEN&&this._maybeUpdateLastActive()},previousPart:function(a){return this.model.parts.at(this.model.parts.indexOf(a)-1)},nextPart:function(a){return this.model.parts.at(this.model.parts.indexOf(a)+1)},hasPreviousPart:function(b){return!a.isUndefined(this.previousPart(b))},hasNextPart:function(b){return!a.isUndefined(this.nextPart(b))},isGroupedWithPreviousPart:function(a){return this.hasPreviousPart(a)&&this.isGroupedWithNextPart(this.previousPart(a))&&this.isGroupedWithPart(this.previousPart(a),a)},isGroupedWithNextPart:function(a){return this.hasNextPart(a)&&this.isGroupedWithPart(a,this.nextPart(a))},isGroupedWithPart:function(a,b){if(b.isNew()&&a.isNew())return b.byUser()&&a.byUser();if(b.isNew()){var c=parseInt(f.now()/1e3,10),d=b.byUser()&&a.byUser(),e=!b.byUser()&&b.getAuthorEmail()===a.getAuthorEmail();return Math.abs(c-a.get("created_at"))<=60&&(d||e)}return!a.isNew()&&b.getAuthorEmail()===a.getAuthorEmail()&&b.byUser()===a.byUser()&&b.get("created_at")-a.get("created_at")<=60},onAdminIsTyping:function(a){if(this.model&&this.model.id===a.eventData.conversationId){var b=c.firstInitial(a.eventData.adminName),d=a.eventData.adminAvatar;d.indexOf("/assets/msg-user-icon-73")>=0&&(d=null),this.addIsTypingWithAnimation(d,b)}},createMessageOrComment:function(a,b){this.model?this.createComment(n.fromBodyAndUploads(a,b,this.model)):this.createConversation(o.fromBodyAndUploads(a,b))},scrollHeaderIfRequired:function(){this.$(".intercom-app-profile-team-and-activity").is(":visible")&&G(this,this.appProfileNameIsVisible())},appProfileNameIsVisible:function(){if(!this.$(".intercom-app-profile-team-and-activity").is(":visible"))return!1;var a=this.getScrollTop(),b=this.$(".intercom-app-profile-team-and-activity").position().top+this.$(".intercom-app-profile-team-and-activity").outerHeight();return b>a},onComposerSubmitted:function(b,c){c.isEmpty()?this.createMessageOrComment(b,[]):c.each(a.bind(function(a){this.createMessageOrComment(b,a)},this))},isVisitorAutoMessage:function(){return this.model&&this.model.parts.byAdmin().first()?this.model.parts.byAdmin().first().isChatAutoMessage()&&this.settings.get("user.anonymous"):!1},onComposerIsTyping:a.throttle(function(){(!this.model||a.isEmpty(this.model.parts.byUser()))&&this.composerView.queueEnterToSendAnimation(),this.model&&this.settings.get("app.rtm-enabled")&&this.nexusClient.postEvent("UserIsTyping",{conversationId:this.model.id})},1e3),onMouseMovedOrClicked:a.throttle(function(){this.model&&this.model.isSmallAnnouncement()&&this.isPreview()&&this.$el.removeClass("intercom-conversation-preview")},100),onAppProfileAvatarClicked:a.throttle(function(){D(this)},1e3),onConversationScroll:a.throttle(function(){this.scrollHeaderIfRequired()},100)})}),define("views/conversations",function(){"use strict";var a=require("jquery"),b=require("underscore"),c=require("navigation-events"),d=require("views/sheet"),e=require("views/conversation-item"),f=require("template"),g=require("metrics");return d.extend({template:f.load("conversations"),id:"intercom-conversations",className:"intercom-conversations intercom-sheet",events:b.extend(d.prototype.events,{"click .intercom-conversations-new-conversation-button":"onNewConversationClicked"}),initialize:function(a){d.prototype.initialize.apply(this,arguments),this.client=a.client,this.listenTo(this.collection,"add change",this.renderConversations)},render:function(){var a=this.settings.get("app.inbound-messaging-enabled");return this.$el.html(this.template({appName:this.settings.get("app.name"),inboundMessagingEnabled:a})).toggleClass("intercom-new-message-enabled",a),this.renderConversations(),this.$(".intercom-sheet-content").on("scroll",b.bind(this.onScroll,this)),this},renderConversations:function(){var b=document.createDocumentFragment();this.collection.each(function(c){a(b).prepend(new e({model:c}).render().el)},this),this.$(".intercom-conversations-items").html(b),this.$el.toggleClass("intercom-conversations-empty",this.collection.isEmpty()),this.$el.toggleClass("intercom-conversations-fetched",this.collection.isFetched()),this.shouldFetchNextPage()&&this.fetchNextPage()},fetchNextPage:function(){this.$el.hasClass("intercom-conversations-fetching")||this.$el.hasClass("intercom-conversations-fetched")||(this.$el.addClass("intercom-conversations-fetching"),this.collection.fetchNextPage().then(b.bind(function(){this.$el.removeClass("intercom-conversations-fetching")},this)))},shouldFetchNextPage:function(){return 1===this.collection.pages&&!this.collection.isFetched()},onNewConversationClicked:function(a){a.preventDefault(),a.stopPropagation(),c.trigger("click:new-conversation"),g.increment("newConversationButtonClicked")},onScroll:b.throttle(function(){this.getScrollPosition()<50&&this.fetchNextPage()},200)})}),define("views/embed/conversation",function(){"use strict";var a=require("jquery"),b=require("backbone"),c=require("views/embed/part"),d=require("views/composer"),e=require("template");return b.View.extend({template:e.load("embed/conversation"),className:["intercom-conversation","intercom-conversation-active","intercom-conversation-embed"].join(" "),events:{mouseenter:"onMouseEnter"},initialize:function(a){this.appName=a.appName||!1,this.adminName=a.adminName||!1,this.preview=a.preview||!1,this.composerView=new d(a),this.listenTo(this.model.parts,"add reset change",this.renderParts)},render:function(){this.$el.html(this.template({appName:this.appName,adminName:this.adminName})),this.$(".intercom-composer-container").append(this.composerView.render({placeholder:"Write a reply&hellip;"}).el);var a=!this.appName&&!this.adminName;return this.$(".intercom-sheet-content").toggleClass("intercom-embed-no-header",a),this},renderParts:function(){var b=document.createDocumentFragment();this.model.parts.each(function(d){var e=new c({model:d,conversation:this.model});a(b).append(e.render().el)},this),this.$(".intercom-conversation-parts").html(b),this.$el.toggleClass("intercom-conversation-preview",this.isPreviewable()),this.$el.toggleClass("intercom-conversation-announcement",this.model.isAnnouncement()),this.$(".intercom-lwr-composer").removeClass("intercom-lwr-composer-enabled"),this.updateComposer()},updateComposer:function(){var a=this.model.parts.last();a.isLwrMessage()||a.isLwrResponse()?this.composerView.hide():this.composerView.show().disable().updatePosition()},isPreviewable:function(){return this.preview&&this.model.isSmallAnnouncement()},onMouseEnter:function(){this.$el.removeClass("intercom-conversation-preview")}})}),define("views/embed/launcher",["jquery","underscore","backbone","template","preview"],function(a,b,c,d){"use strict";return c.View.extend({template:d.load("embed/launcher"),id:"intercom-embedded-launcher",className:["intercom-launcher","intercom-launcher-active","intercom-launcher-enabled"].join(" "),render:function(){return this.$el.html(this.template()),this},addPreview:function(a,b){this.$el.addClass("intercom-launcher-with-preview intercom-launcher-with-badge"),this.$(".intercom-launcher-preview-body").html(a).previewify(),this.$el.toggleClass(["intercom-launcher-with-avatar","intercom-launcher-with-updated-avatar"].join(" "),void 0!==b),this.$(".intercom-launcher-button").css({"background-image":void 0===b?"":'url("'+b+'")'}),this.$(".intercom-launcher-badge").text(1)}})}),define("views/embed/part",["jquery","underscore","backbone","views/part"],function(a,b,c,d){"use strict";return d.extend({openLink:a.noop,openImage:a.noop})}),define("views/emoji-selector",function(){"use strict";var a=require("underscore"),b=require("browser"),c=require("intermoji"),d=require("emoji"),e=require("backbone"),f=function(a){return'<span class="intercom-emoji-image" style="'+c.spritemapStyleString(d.sizePx(),a)+'" title="'+c.asciiFromUnicode(a)+'"></span>'},g=function(b,d){return a.reduce(b,function(a,b){return a+'<span class="intercom-emoji-icon" title="'+c.identifierFromUnicode(b)+'">'+b+"</span>"},'<div class="intercom-emoji-selector-panel-large" data-group-idx="'+d+'">')+'<div class="intercom-large-emoji-panel-top-mask" data-group-idx="'+d+'"></div><div class="intercom-large-emoji-panel-bottom-mask" data-group-idx="'+d+'"></div></div>'},h=function(a,b,c){return'<span class="intercom-emoji-group-icon" title="'+b+'"data-group-idx="'+c+'">'+a+"</span>"};return e.View.extend({className:"intercom-emoji-selector",events:{"click .intercom-emoji-image":"onEmojiImageClick","click .intercom-emoji-group-icon":"onEmojiGroupIconClick","click .intercom-emoji-icon":"onEmojiIconClick"},getScrollPosition:function(){return this.getScrollHeight()-this.getHeight()-this.getScrollTop()},getScrollTop:function(){return this.$(".intercom-emoji-selector-panel-large.active").scrollTop()},getScrollHeight:function(){return this.$(".intercom-emoji-selector-panel-large.active").prop("scrollHeight")},getHeight:function(){return this.$(".intercom-emoji-selector-panel-large.active").height()},onScrollLargePanel:function(a){if(b.features.pointerEvents()){var c=this.$('.intercom-large-emoji-panel-top-mask[data-group-idx="'+a.target.dataset.groupIdx+'"]'),d=this.$('.intercom-large-emoji-panel-bottom-mask[data-group-idx="'+a.target.dataset.groupIdx+'"]');this.getScrollTop()>0&&!c.is(":visible")?c.fadeIn(200):0===this.getScrollTop()&&c.is(":visible")&&c.fadeOut(200),this.getScrollPosition()>0&&!d.is(":visible")?d.fadeIn(200):0===this.getScrollPosition()&&d.is(":visible")&&d.fadeOut(200)}},initialize:function(a){this.onEmojiIconClickCallback=a.onEmojiIconClickCallback},render:function(){return b.features.emoji()?(this.renderWithNativeSupport(c.prettyEmoticonsUnicodeGroups()),this.activatePanel(0),this.$(".intercom-emoji-selector-panel-large").on("scroll",a.bind(this.onScrollLargePanel,this))):this.renderWithoutNativeSupport(c.asciiEmoticonsUnicodeList.slice(0,12)),this},renderWithNativeSupport:function(d){this.$el.append(a.reduce(d,function(a,b,d){var e=c.getGroupRepresentatives()[d];return a+h(e[0],e[1],d)},'<div class="intercom-emoji-selector-panel-header">')+"</div>"+a.reduce(d,function(a,b,c){return a+g(b,c)},"",this)),b.features.pointerEvents()||this.$(".intercom-large-emoji-panel-bottom-mask").css("display","none")},renderWithoutNativeSupport:function(b){this.$el.append(a.reduce(b,function(a,b){return a+f(b)},'<div class="intercom-emoji-selector-panel-small">')+"</div>")},onEmojiImageClick:function(a){this.onEmojiIconClickCallback(a.currentTarget.title)},onEmojiIconClick:function(a){this.onEmojiIconClickCallback(a.currentTarget.textContent)},onEmojiGroupIconClick:function(a){this.activatePanel(a.currentTarget.dataset.groupIdx)},activatePanel:function(a){this.$(".intercom-emoji-selector-panel-large.active").removeClass("active"),this.$('.intercom-emoji-selector-panel-large[data-group-idx="'+a+'"]').addClass("active"),this.$(".intercom-emoji-group-icon.active").removeClass("active"),this.$('.intercom-emoji-group-icon[data-group-idx="'+a+'"]').addClass("active")}})}),define("views/image-viewer",function(){"use strict";var a=require("jquery"),b=require("underscore"),c=require("backbone"),d=require("views/zoomed-image"),e=require("template");return c.View.extend({className:"intercom-image-viewer",template:e.load("image-viewer"),events:{click:"onClick"},initialize:function(a){this.zoomedImageView=new d({image:a.image})},render:function(){return this.$el.html(this.template()),this.$el.append(this.zoomedImageView.render().$el),b.defer(b.bind(function(){this.$(".intercom-image-viewer-overlay").transition({opacity:.8},300)},this)),a(document).on("keyup.intercom-image-overlay",b.bind(this.onKeyUp,this)),this},close:function(){this.$(".intercom-image-viewer-overlay").transition({opacity:0,complete:b.bind(this.remove,this)},300),this.zoomedImageView.remove(),a(document).off("keyup.intercom-image-overlay")},onClick:function(){this.close()},onKeyUp:function(a){27===a.keyCode&&this.close()}})}),define("views/image",function(){"use strict";function a(a,d){a.naturalWidth>0&&a.naturalHeight>0?c.defer(d):b(a).load(d)}var b=require("jquery"),c=require("underscore"),d=require("backbone"),e=require("views/image-viewer"),f=require("url-opener"),g=require("browser");return d.View.extend({render:function(){return a(this.el,c.bind(function(){this.isScaled()&&!this.isLink()&&this.$el.off("click").on("click",c.bind(this.onClick,this)).addClass("intercom-image-viewable")},this)),this},open:function(){g.features.ie8()?this.openInNewWindow():this.openInViewer()},openInViewer:function(){var a=new e({image:this.el});b("#intercom-container").append(a.render().$el)},openInNewWindow:function(){f.openUrlInNewWindow(this.$el.attr("src"))},isLink:function(){return this.$el.closest("a").length>0},isScaled:function(){return this.$el.width()<this.el.naturalWidth||this.$el.height()<this.el.naturalHeight},onClick:function(a){a.preventDefault(),this.open()}})}),define("views/intercom",function(){"use strict";var a=require("jquery"),b=require("underscore"),c=require("backbone"),d=require("stylesheet"),e=require("browser"),f=require("metrics"),g=require("state-store"),h=require("models/conversation"),i=require("views/messenger"),j=require("views/launcher");return c.View.extend({id:"intercom-container",className:"intercom-container intercom-reset",initialize:function(a){this.settings=a.settings,this.launcherView=new j({settings:this.settings,collection:this.collection}),this.messengerView=new i({client:a.client,nexusClient:a.nexusClient,settings:this.settings,collection:this.collection,app:a.app}),this.render=b.once(this.render),this.fetchConversations=b.once(this.fetchConversations)},render:function(a){return this.$el.toggleClass("intercom-ie8",e.features.ie8()),this.renderStylesheet(),this.setPackageIdentifier(),this.renderLauncher(),this.renderMessenger(),!a&&this.settings.get("user.anonymous")&&this.settings.get("launcher.enabled")&&this.showWelcomeMessage(),this.restoreState(),this},renderStylesheet:function(){this.$el.append(this.makeStylesheetElement())},renderLauncher:function(){this.$el.append(this.launcherView.render().$el)},renderMessenger:function(){this.$el.append(this.messengerView.render().$el)},makeStylesheetElement:function(){var b=d("stylesheets/intercom",this.settings.get("app.color"));return a('<style type="text/css" id="intercom-styles">'+b+"</style>")},setPackageIdentifier:function(){this.isUserAnonymous()&&this.isInboundMessagingEnabled()?this.$el.addClass("intercom-acquire"):!this.isInboundMessagingEnabled()&&this.isOutboundMessagingEnabled()&&this.$el.addClass("intercom-learn")},show:function(a){return a?void this.showConversation(a):void this.fetchConversations().then(b.bind(function(){this.collection.isEmpty()&&this.isInboundMessagingEnabled()?this.showNewConversation():this.showConversations()},this))},showConversations:function(){this.fetchConversations().then(b.bind(function(){this.messengerView.showConversations(),this.launcherView.hide()},this)),g.save({view:"conversations",restore:!0})},showConversationById:function(a){var c=new h({id:a});this.showLoading(),c.fetch().then(b.bind(function(){c.set({read:!0}),this.collection.add(c,{merge:!0}),this.showConversation(c)},this))},showConversation:function(a){this.messengerView.showConversation(a),this.launcherView.hide(),this.shouldMinimize&&this.minimize(),g.save({view:"conversation-"+a.id,restore:!a.isAnnouncement()})},showNewConversation:function(a){this.isInboundMessagingEnabled()&&(this.messengerView.showNewConversation(a),this.launcherView.hide(),this.shouldMinimize&&this.minimize(),g.save({view:"new-conversation",restore:!0}))},showWelcomeMessage:function(){this.settings.has("app.message")&&this.launcherView.showWelcome(this.settings.get("app.message"))},showLoading:function(){this.messengerView.showLoading(),this.launcherView.hide()},autoOpenConversation:function(a){this.messengerView.autoOpenConversation(a),this.launcherView.hide()},hide:function(){this.messengerView.hide(),this.launcherView.show(),g.clear()},minimize:function(){var a=this.messengerView.getCurrentConversation();this.messengerView.minimize(),this.launcherView.minimize(),this.launcherView.maximize(a),this.shouldMinimize=!1,g.save({minimized:!0,restore:!0})},maximize:function(a){this.messengerView.maximize(),this.launcherView.minimize(),a&&a!==this.messengerView.getCurrentConversation()&&this.showConversation(a),g.save({minimized:!1})},isMinimized:function(){return this.messengerView.isMinimized()},isActive:function(){return this.messengerView.isActive()},isInboundMessagingEnabled:function(){return this.settings.get("app.inbound-messaging-enabled")},isOutboundMessagingEnabled:function(){return this.settings.get("app.outbound-messaging-enabled")},isUserAnonymous:function(){return this.settings.get("user.anonymous")},restoreState:function(){var a=g.load();if(a&&a.view&&a.restore!==!1){this.shouldMinimize=a.minimized;var b=a.view.match(/conversation-(\d+)/);b?this.showConversationById(b[1]):"conversations"===a.view?this.showConversations():"new-conversation"===a.view&&this.showNewConversation(),this.shouldMinimize&&this.messengerView.hide()}},refreshActiveConversation:function(a){return this.messengerView.refreshActiveConversation(a)},fetchConversations:function(){this.showLoading();var a=f.timer("fetchConversations");return this.collection.fetch().then(a.resolve)}})}),define("views/is-typing",function(){"use strict";var a=require("backbone"),b=require("template");return a.View.extend({template:b.load("is-typing"),className:"intercom-conversation-part intercom-is-typing",render:function(a){return this.$el.html(this.template(a)),this},getHeight:function(){return this.$el.outerHeight(!0)}})}),define("views/last-active",function(){"use strict";var a=require("underscore"),b=require("backbone"),c=require("template"),d=require("time"),e=require("i18n");return b.View.extend({template:c.load("last-active"),className:"intercom-last-active",initialize:function(){this.updateLastSeen=null,this.listenTo(this.model,"change",this.render)},render:function(b){if(this.clearLastSeenUpdateTimer(),b?(this.stopListening(this.model),this.last_active=b.last_active):this.last_active=this.getTeamPresenceTimestamp(),this.last_active){var c=a.bind(function(){this.$el.html(this.template({lastActive:this.getRelativeText((new Date).getTime())}))},this);c(),this.$el.show(),this.updateLastSeen=setInterval(c,6e4)}else this.$el.hide();return this},getRelativeText:function(){var a=d.relativeTime(new Date(this.last_active));switch(a.unit){case"s":return e.translate("active-in-the-last-x-minutes",{minutes:15});case"m":return a.delta<=15?e.translate("active-in-the-last-x-minutes",{minutes:15}):e.translate("active-in-the-last-hour");case"h":return 1===a.delta?e.translate("last-active-one-hour-ago"):e.translate("last-active-x-hours-ago",{hours:a.delta});case"d":return 1===a.delta?e.translate("last-active-one-day-ago"):e.translate("last-active-x-days-ago",{days:a.delta});default:return e.translate("last-active-more-than-one-week-ago")}},clearLastSeenUpdateTimer:function(){window.clearInterval(this.updateLastSeen)},getTeamPresenceTimestamp:function(){var b=this.model.get("last_active");return a.isNumber(b)?1e3*b:void 0}})}),define("views/launcher-admins",function(){"use strict";var a=require("underscore"),b=require("backbone"),c=require("features"),d=require("initials"),e=require("template");return b.View.extend({template:e.load("launcher-admins"),adminTemplate:e.load("app-profile-admin"),className:"intercom-launcher-preview-admins-and-app",initialize:function(a,b){this.settings=a.settings,this.launcherView=b},render:function(){return c.isEnabled("welcome_panel_test")&&this.settings.get("user.anonymous")?(this.reset(),this.$el.html(this.template()),this.addAppName(),this.addAdmins(),this.insertIntoLauncher(),this):void 0},insertIntoLauncher:function(){0===this.launcherView.$(this.className).length&&(this.launcherView.$el.addClass("intercom-launcher-with-admins"),this.launcherView.$(".intercom-launcher-preview").prepend(this.$el))},addAppName:function(){this.$(".intercom-launcher-preview-app-name").html(this.settings.get("app.name"))},addAdmins:function(){var b=this.$(".intercom-launcher-preview-admins"),c=this.settings.get("app.active-admins");c&&0!==c.length?(b.show(),a.each(c,a.bind(function(a){b.append(this.adminTemplate({firstName:null,firstInitial:d.firstInitial(a.first_name),avatar:a.avatar.image_urls.square_128,has_avatar:this.hasAvatar(a.avatar.image_urls.square_128)}))},this))):b.hide()},hasAvatar:function(b){return!a.isEmpty(b)&&b.indexOf("msg-user-icon-73")<0},reset:function(){this.$el.remove()}})}),define("views/launcher",["preview"],function(){"use strict";var a=require("jquery"),b=require("underscore"),c=require("json"),d=require("backbone"),e=require("logger"),f=require("browser"),g=require("store"),h=require("metrics"),i=require("navigation-events"),j=require("previewer"),k=require("user-notifier"),l=require("template"),m=require("emoji"),n=require("user-metrics"),o=require("views/launcher-admins"),p=require("views/animations/launcher"),q=require("views/animations/launcher-preview");return d.View.extend({template:l.load("launcher"),closedPreviewsKey:"closed-preview-keys",id:"intercom-launcher",className:"intercom-launcher intercom-launcher-active",events:{click:"onClicked","click .intercom-launcher-preview-close":"onCloseClicked"},initialize:function(a){this.settings=a.settings,this.listenTo(this.collection,"add change",this.update),this.listenTo(this.collection,"add",this.onConversationAdded),this.listenTo(this.collection,"change",this.onConversationChanged),this.render=b.once(this.render),this.launcherAdminsView=new o(a,this),this.anonymousOnDesktop=this.settings.get("user.anonymous")&&!f.features.touchScreen()},render:function(){return this.$el.html(this.template),this.isEnabled()&&this.enable(),this},show:function(){this.$el.addClass("intercom-launcher-active").removeClass("intercom-launcher-maximized").removeClass("intercom-launcher-minimized").removeClass("intercom-launcher-inactive"),this.model||this.removeAvatar()},hide:function(){this.$el.addClass("intercom-launcher-inactive").removeClass("intercom-launcher-maximized").removeClass("intercom-launcher-active")},minimize:function(){this.$el.addClass("intercom-launcher-minimized").removeClass("intercom-launcher-maximized"),this.minimizedConversation=void 0,this.updatedSinceMinimize=!1},maximize:function(a){if(this.minimizedConversation=a,this.updatedSinceMinimize=!1,this.$el.addClass("intercom-launcher-maximized").removeClass("intercom-launcher-minimized").removeClass("intercom-launcher-with-preview").removeClass("intercom-launcher-with-avatar").removeClass("intercom-launcher-with-initials"),this.removeAvatar(),void 0!==a){var b=a.lastAdminAvatar(),c=a.lastAdminInitials();this.setAvatar(b,c)}},enable:function(){this.$el.addClass("intercom-launcher-enabled"),e.info("views/launcher - Launcher enabled")},disable:function(){this.$el.removeClass("intercom-launcher-enabled"),e.info("views/launcher - Launcher disabled")},update:function(){void 0!==this.minimizedConversation&&(this.updatedSinceMinimize=!0),this.model=this.collection.newUnread().last(),b.isUndefined(this.model)?(this.$el.removeClass("intercom-launcher-with-message").removeClass("intercom-launcher-with-avatar").removeClass("intercom-launcher-with-initials").removeClass("intercom-launcher-with-badge").removeClass("intercom-launcher-with-preview"),this.removeAvatar()):(this.$el.addClass("intercom-launcher-with-message"),this.updateAvatar(),this.updateBadge(),this.updatePreview())},onConversationAdded:function(a,c,d){b.isUndefined(a)||b.isUndefined(d)||d.add!==!0||a.isRead()||k.triggerNotification(a)},onConversationChanged:function(a){b.isUndefined(a)||a.isRead()||a.changed.read!==!1&&b.isUndefined(a.changed.parts_count)||k.triggerNotification(a)},updateAvatar:function(){var a=this.model.lastAdminAvatar(),b=this.model.lastAdminInitials();this.$el.addClass("intercom-launcher-with-updated-avatar"),this.setAvatar(a,b)},setAvatar:function(a,b){void 0===a?(this.$el.addClass("intercom-launcher-with-initials"),this.$(".intercom-launcher-button").show().removeAttr("style").find(".intercom-launcher-initials").text(b)):(this.$el.addClass("intercom-launcher-with-avatar"),this.$(".intercom-launcher-button").show().removeAttr("style").css({"background-image":'url("'+a+'")'}))},removeAvatar:function(){this.$el.removeClass("intercom-launcher-with-avatar").removeClass("intercom-launcher-with-updated-avatar").removeClass("intercom-launcher-with-initials"),this.$(".intercom-launcher-button").css({"background-image":""})},updatePreview:function(){var a=this.model.parts.byAdmin().last();void 0!==a&&this.shouldShowPreview(a)?this.$el.hasClass("intercom-launcher-with-preview")?this.hidePreviewForUpdate(a):this.showPreview(a.body(),a.id):this.hidePreview()
},updateBadge:function(){var a=this.collection.unread().size();this.$el.toggleClass("intercom-launcher-with-badge",a>0),this.$(".intercom-launcher-badge").text(a)},isEnabled:function(){return this.settings.get("launcher.enabled")},showPreview:function(a,c){if(!this.isPreviewClosed(c)){var d=this.$el.addClass("intercom-launcher-with-preview").find(".intercom-launcher-preview-body").toggleClass("intercom-launcher-preview-metadata",j.isMetadataPreview(a)).html(m.maybeSubstituteWithSpans(j.preview(a),"intercom-emoji-sub-icon"));this.anonymousOnDesktop&&"app-message"===c||b.defer(b.bind(d.previewify,d)),b.defer(b.bind(function(){var a=this.$el.find(".intercom-launcher-preview");a.toggleClass("intercom-launcher-preview-multi-line",a.outerHeight()>this.$el.outerHeight())},this)),this.previewKey=c,this.launcherAdminsView.reset()}},showWelcome:function(a){if(!this.isMobileUser()){var c=this.settings.get("app.active-admins")||[];return b.any(c)?(this.showPreview(a,"app-message"),void this.launcherAdminsView.render()):void(this.firstPingOrAnonymousOnDesktop()&&!this.isPreviewClosed("app-message")?(this.showPreview(a,"app-message"),p.first(this),q.show(this,this.anonymousOnDesktop),g.sessionStorage.set("welcome.animated","true")):p.subsequent(this))}},playWelcomeNotification:function(){k.triggerWelcomeNotification(this.settings.get("app.name"))},firstPingOrAnonymousOnDesktop:function(){return"true"!==g.sessionStorage.get("welcome.animated")||this.anonymousOnDesktop},hidePreview:function(){this.$el.removeClass("intercom-launcher-with-preview intercom-launcher-with-admins"),this.$(".intercom-launcher-preview").removeAttr("style")},hidePreviewForUpdate:function(a){this.$(".intercom-launcher-preview").removeAttr("style").addClass("intercom-launcher-update-preview"),b.delay(b.bind(function(){this.hidePreview(),this.$(".intercom-launcher-preview").removeClass("intercom-launcher-update-preview"),this.showPreview(a.body(),a.id)},this),1500)},closePreview:function(){this.previewKey&&(this.addClosedPreviewKey(this.previewKey),this.hidePreview(),n.trackSignedOutEvent("app-message"===this.previewKey?"uniqueVisitorDismissedWelcomeMessage":"uniqueVisitorDismissedChatNotification"))},shouldShowPreview:function(a){return!this.isPreviewClosed(a.id)&&(this.model.isChat()||this.model.hasComments())},isPreviewClosed:function(a){var c=this.getClosedPreviewKeys();return b.contains(c,a)},isMobileUser:function(){return f.features.touchScreen()},getClosedPreviewKeys:function(){return c.parse(g.sessionStorage.get(this.closedPreviewsKey)||"[]")},addClosedPreviewKey:function(a){var d=this.getClosedPreviewKeys();b.contains(d,a)||d.push(a),g.sessionStorage.set(this.closedPreviewsKey,c.stringify(d))},incrementLauncherClickMetrics:function(){h.increment(b.isUndefined(this.minimizedConversation)?b.isUndefined(this.model)?"launcherClicked":"chatheadClicked":"maximizeClicked")},onClicked:function(b){if(!a(b.target).is("a")){b.preventDefault();var c;c=void 0===this.minimizedConversation||this.updatedSinceMinimize?this.model:this.minimizedConversation,i.trigger("click:open",c),this.incrementLauncherClickMetrics(),this.addClosedPreviewKey(this.previewKey),this.hidePreview(),this.trackClickMetrics()}},trackClickMetrics:function(){n.trackSignedOutEvent(this.model&&this.model.parts.byAdmin().first()&&this.model.parts.byAdmin().first().isChatAutoMessage()&&this.settings.get("user.anonymous")?"inReplyToVisitorAutoMessage.uniqueVisitorOpenedMessenger":"fromNewConversationView.uniqueVisitorOpenedMessenger")},onCloseClicked:function(a){a.stopPropagation(),this.closePreview(),h.increment("launcherPreviewClosed")}})}),define("views/loading",["jquery","underscore","backbone","views/sheet","template"],function(a,b,c,d,e){"use strict";return d.extend({template:e.load("loading"),id:"intercom-loading",minimizable:!1,className:"intercom-sheet intercom-sheet-loading",initialize:function(){d.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.template({appName:this.settings.get("app.name")})),this},didHide:function(){this.$(".intercom-sheet-spinner").hide()},willShow:function(){this.$(".intercom-sheet-spinner").show()}})}),define("views/lwr-composer",function(){"use strict";var a=require("jquery"),b=require("underscore"),c=require("backbone"),d=require("audio"),e=require("templates/lwr-thumbs-composer"),f=require("templates/lwr-emotions-composer"),g=require("templates/icon-thumbs-up"),h=require("templates/icon-thumbs-down"),i=require("templates/icon-emotion-happy"),j=require("templates/icon-emotion-neutral"),k=require("templates/icon-emotion-sad");return c.View.extend({thumbsTemplate:e,emotionsTemplate:f,tagName:"form",id:"intercom-lwr-composer",className:"intercom-lwr-composer",events:{"click .intercom-lwr-composer-option":"onSelected"},render:function(){var a=this.getLwrComposerType();return"thumbs"===a?this.renderThumbs():"emotions"===a&&this.renderEmotions(),this.markSelectedOption(),this.$el.toggleClass("intercom-lwr-composer-enabled",0===this.$(".intercom-lwr-composer-option-selected").length),this.show(),this},renderThumbs:function(){this.$el.html(this.thumbsTemplate()),this.$(".intercom-lwr-composer-option-thumbs-up .intercom-lwr-icon").html(g),this.$(".intercom-lwr-composer-option-thumbs-down .intercom-lwr-icon").html(h)},renderEmotions:function(){this.$el.html(this.emotionsTemplate()),this.$(".intercom-lwr-composer-option-happy .intercom-lwr-icon").html(i),this.$(".intercom-lwr-composer-option-neutral .intercom-lwr-icon").html(j),this.$(".intercom-lwr-composer-option-sad .intercom-lwr-icon").html(k)},show:function(){this.$el.addClass("intercom-lwr-composer-active")},hide:function(){this.$el.removeClass("intercom-lwr-composer-active")},enable:function(){this.$el.addClass("intercom-lwr-composer-enabled")},disable:function(){this.$el.removeClass("intercom-lwr-composer-enabled")},onSelected:function(b){b.preventDefault();var c=a(b.target).closest(".intercom-lwr-composer-option");if(this.$el.hasClass("intercom-lwr-composer-enabled")){c.addClass("intercom-lwr-composer-option-selected intercom-lwr-composer-option-pop"),this.$el.removeClass("intercom-lwr-composer-enabled");var e=c.data("option");this.trigger("submit",this.model.getLwrType(),e),d.playDelivered()}},markSelectedOption:function(){var b=this.model.getLwrResponse();this.$(".intercom-lwr-composer-option").each(function(c,d){a(d).toggleClass("intercom-lwr-composer-option-selected",a(d).data("option")===b)})},getLwrComposerType:function(){var a=this.model.getLwrResponse();return b.contains(["thumbs_up","thumbs_down"],a)?"thumbs":b.contains(["happy","neutral","sad"],a)?"emotions":this.model.getLwrType()}})}),define("views/messenger",function(){"use strict";var a=require("jquery"),b=require("underscore"),c=require("backbone"),d=require("views/conversation"),e=require("views/conversations"),f=require("views/loading");return c.View.extend({id:"intercom-messenger",className:"intercom-messenger intercom-messenger-inactive",initialize:function(a){this.settings=a.settings;var c={client:a.client,nexusClient:a.nexusClient,settings:a.settings,collection:this.collection,app:a.app};this.newConversationView=new d(c),this.conversationsView=new e(c),this.conversationView=new d(c),this.loadingView=new f({settings:a.settings}),this.render=b.once(this.render),this.renderConversation=b.once(this.renderConversation),this.renderConversations=b.once(this.renderConversations),this.renderNewConversation=b.once(this.renderNewConversation),this.renderLoading=b.once(this.renderLoading),this._registerNexusEvents(a.nexusClient)},renderConversation:function(){this.$el.append(this.conversationView.render().el)},renderConversations:function(){this.$el.append(this.conversationsView.render().el)},renderNewConversation:function(){this.$el.append(this.newConversationView.render().el)},renderLoading:function(){this.$el.append(this.loadingView.render().el)},showConversations:function(){this.renderConversations(),this.show(this.conversationsView)},showNewConversation:function(a){this.renderNewConversation(),this.show(this.newConversationView),this.newConversationView.renderNewConversation(),this.newConversationView.composerView.setText(a)},showConversation:function(a){this.renderConversation(),this.conversationView.renderConversation(a,{autoOpen:!1}),this.show(this.conversationView)},showLoading:function(){this.renderLoading(),this.show(this.loadingView)},autoOpenConversation:function(a){this.renderConversation(),this.conversationView.renderConversation(a,{autoOpen:!0}),this.show(this.conversationView)},hide:function(){a("body").removeClass("intercom-messenger-active"),this.$el.removeClass("intercom-messenger-active").addClass("intercom-messenger-inactive"),this.currentView&&this.currentView.hide()},show:function(b){this.currentView&&this.currentView.hide(),this.currentView=b,a("body").addClass("intercom-messenger-active"),this.$el.addClass("intercom-messenger-active").removeClass("intercom-messenger-inactive"),b.show()},minimize:function(){this.currentView&&this.currentView.minimize()},maximize:function(){this.currentView&&this.currentView.maximize()},isMinimized:function(){return this.currentView&&this.currentView.isMinimized()},isActive:function(){return this.$el.hasClass("intercom-messenger-active")},isConversationViewActive:function(){return this.isActive()&&b.contains([this.conversationView,this.newConversationView],this.currentView)},getCurrentConversation:function(){return this.isConversationViewActive()?this.currentView.model:void 0},refreshActiveConversation:function(a){var b=this.getCurrentConversation();return b&&b.id===a?(b.fetch(),!0):!1},onAdminIsTyping:function(a){this.settings.get("app.rtm-enabled")&&this.isConversationViewActive()&&this.currentView.onAdminIsTyping(a)},_registerNexusEvents:function(a){a.addListener("AdminIsTyping",b.bind(this.onAdminIsTyping,this))}})}),define("views/new-anonymous-user",function(){"use strict";var a=require("jquery"),b=require("underscore"),c=require("backbone"),d=require("email"),e=require("template"),f=require("models/user"),g=require("views/animations/show-anonymous-email");return c.View.extend({template:e.load("new-anonymous-user"),className:"intercom-new-anonymous-user",tagName:"form",events:{submit:"onSubmit","input input[name=email]":"onTextChanged"},attributes:{novalidate:"novalidate"},initialize:function(a){this.user=f.fromSettings(a.settings),this.parentView=a.parentView},render:function(){return this.$el.html(this.template({haveEmail:this.user.hasEmail(),email:this.user.getEmail()})),this.enable(),this},enable:function(){this.$el.removeClass("intercom-new-anonymous-user-disabled").find('input[type="submit"]').prop("disabled","disabled")},disable:function(){this.$el.addClass("intercom-new-anonymous-user-disabled").find("input").prop("disabled","disabled")},getEmail:function(){return a.trim(this.$("input[name=email]").val())},onSubmit:function(a){a.preventDefault();var b=this.getEmail();return d.isValid(b)?(this.disable(),void this.user.updateAnonymousEmail(b).then(g(this,this.parentView))):void this.$("input[type=email]").addClass("intercom-new-anonymous-user-email-invalid")},onTextChanged:function(){this.$("input[type=submit]").prop("disabled",b.isEmpty(this.getEmail())?"disabled":""),this.$("input[type=email]").removeClass("intercom-new-anonymous-user-email-invalid")}})}),define("views/part",function(){"use strict";var a=require("underscore"),b=require("jquery"),c=require("i18n"),d=require("browser"),e=require("backbone"),f=require("metrics"),g=require("url-opener"),h=require("template"),i=require("emoji"),j=require("models/part"),k=require("views/lwr-composer"),l=require("views/relative-time"),m=require("views/video-reply"),n=require("views/image");return e.View.extend({commentTemplate:h.load("comment"),announcementTemplate:h.load("announcement"),smallAnnouncementTemplate:h.load("small-announcement"),uploadTemplate:h.load("upload-part"),imageOnlyTemplate:h.load("image-only-part"),stickerTemplate:h.load("sticker-part"),commentMetadataTemplate:h.load("comment-metadata"),className:"intercom-conversation-part",events:{click:"onClick","click .intercom-comment-body a":"openLink","click .intercom-announcement-body a":"openLink","click .intercom-small-announcement-body a":"openLink"},initialize:function(a){this.failed=!1,this.conversation=a.conversation,this.lwrComposerView=new k({model:this.model}),this.listenTo(this.lwrComposerView,"submit",this.onLwrComposerSubmitted),this.listenTo(this.model,"change",this.onChange),this.listenTo(this.model.uploads,"upload:complete",this.triggerPartSave)},render:function(){return this.model.isAnnouncement()?this.renderAnnouncement():this.model.isSmallAnnouncement()?this.renderSmallAnnouncement():this.model.isSticker()?this.renderSticker():this.model.isVideoReply()?this.renderVideoReply():this.renderComment(),this.renderLwrComposer(),this.renderImages(),this.$(".intercom-attachments").toggle(this.model.uploads.any()),this},renderImages:function(){this.$([".intercom-comment-body img",".intercom-announcement-body img",".intercom-small-announcement-body img"].join(", ")).each(function(){new n({el:this}).render()})},renderSticker:function(){var a=this.model.getStickerData();this.$el.html(this.stickerTemplate({adminAvatar:this.model.adminAvatar(),stickerIdentifier:a.identifier,isAdminPart:this.model.byAdmin(),stickerUrl:"https://js.intercomcdn.com/images/stickers/"+a.assetId+".png",unicodeSticker:a.unicodeSticker,nativeStickerSupport:d.features.emoji()&&!d.features.touchScreen()})),this.renderMetadata()},renderAnnouncement:function(){this.$el.html(this.announcementTemplate({part:this.model,partBody:i.maybeSubstituteWithSpans(this.model.renderedBody(),"intercom-emoji-sub-icon")}))},renderSmallAnnouncement:function(){this.$el.html(this.smallAnnouncementTemplate({part:this.model,partBody:i.maybeSubstituteWithSpans(this.model.renderedBody(),"intercom-emoji-sub-icon")}))},renderComment:function(){var a=this.model.renderedBody();this.model.isNew()&&(a=this.replaceNewLineWithBreak(a)),this.insertCommentHTML(this.getCommentTemplate(a)),this.hasPendingUploads()?(this.$el.find(".intercom-upload-remove").click(b.proxy(this.removeUpload,this,this.model,this.$el)),this.uploadPendingUploads()):this.$(".intercom-attachment-progress-percentage").css({width:"100%"}),this.renderMetadata()},renderVideoReply:function(){this.$el.html(new m({model:this.model}).render().el),this.renderMetadata()},renderMetadata:function(){var a;this.model.byUser()&&(this.failed?a=c.translate("failed"):this.showSending()&&(a=c.translate("sending"))),this.model.isUpload()||this.$(".intercom-comment-metadata-container").append(this.commentMetadataTemplate({commentState:a})),this.$el.toggleClass("intercom-conversation-part-failed",this.failed),this.showCreatedAt()&&(this.$(".intercom-comment-metadata").append((new l).render(this.getCreatedAt(),this.model.byUser()?c.translate("delivered"):void 0).el),this.model.shouldShowAdminSeenState()&&this.$(".intercom-comment-metadata").append(this.model.isSeenByAdmin()?". "+c.translate("seen")+".":". "+c.translate("not-seen-yet")+"."))},getCommentTemplate:function(a){return this.model.isUpload()?this.uploadTemplate({part:this.model,upload:this.model.uploads.first(),showSending:this.showSending(),showFailed:this.failed}):this.model.bodyIsImage()&&0===this.model.uploads.length?this.imageOnlyTemplate({partBody:a,adminAvatar:this.model.adminAvatar(),isAdminPart:this.model.byAdmin()}):this.commentTemplate({part:this.model,partBody:i.maybeSubstituteWithSpans(a,"intercom-emoji-sub-icon")})},insertCommentHTML:function(a){if(this.shouldNotReRenderContent()){var c=b(a).find(".intercom-comment-metadata-container");this.$(".intercom-comment-metadata-container").replaceWith(c),this.$(".intercom-comment").removeClass("intercom-upload-is-uploading")}else this.$el.html(a)},shouldNotReRenderContent:function(){return this.failed&&this.model.isImageUpload()||!this.model.isNew()&&this.model.isImageUpload()&&!a.isEmpty(this.$el.html())},renderLwrComposer:function(){this.model.isLwrMessage()?this.$(".intercom-lwr-composer-container").html(this.lwrComposerView.render().el):this.lwrComposerView.hide()},renderFailed:function(){this.failed=!0,this.render()},showSending:function(){return!this.failed&&this.model.isNew()},showCreatedAt:function(){return!this.failed&&!this.model.isNew()&&!this.model.isChatAutoMessage()},getCreatedAt:function(){return this.model.isMessage()?this.conversation.createdAt():this.model.createdAt()},setUnread:function(){this.$el.addClass("intercom-conversation-part-unread")},replaceNewLineWithBreak:function(b){return a.isEmpty(b)?void 0:(b=b.replace(/^\s+|\s+$/g,"").replace(/(?:\r\n|\r|\n){2,}/g,"</p><p>").replace(/(?:\r\n|\r|\n)/g,"<br>"),b.indexOf("<p>")>0&&(b="<p>"+b+"</p>"),b)},openLink:function(a){var c=b(a.target).closest("a");g.openLinkInNewWindow(c)&&a.preventDefault()},hasPendingUploads:function(){return this.model.uploads.pendingUploads().length>0},uploadPendingUploads:function(){this.failed||a.each(this.model.uploads.pendingUploads(),a.bind(function(b){this.listenTo(b,"upload:progress",this.updateUploadProgress),this.listenTo(b,"upload:error",a.bind(this.errorUploading,this,b)),b.isImage()&&this.previewUpload(b),b.upload()},this))},previewUpload:function(a){this.$("img").attr("src",a.imageData())},stopListeningToUploads:function(){this.stopListening(this.model.uploads),a.each(this.model.uploads,a.bind(function(a){this.stopListening(a)},this))},errorUploading:function(a){a.attributes.public_url||(f.increment("errorUploading"),this.renderFailed())},updateUploadProgress:function(a,b){var c=parseInt(a/b*100,10);this.$(".intercom-attachment-progress-percentage").css({width:c+"%"})},triggerPartSave:function(){this.trigger("part:save")},removeUpload:function(a,b,c){c.preventDefault(),this.stopListeningToUploads(),this.conversation.parts.remove(this.model),b.slideUp(function(){b.remove()})},getHeight:function(){return this.$el.outerHeight(!0)},onChange:function(){this.failed=!1,this.render()},onClick:function(){this.failed&&(this.failed=!1,this.hasPendingUploads()||this.trigger("retry"),this.render())},onLwrComposerSubmitted:function(a,b){new j({conversation_id:this.conversation.id,message_id:this.model.id,reply_type:a,reply_option:b}).save(),this.trigger("lwr:submit")}})}),define("views/powered-by",["jquery","underscore","backbone","i18n","template"],function(a,b,c,d,e){"use strict";return c.View.extend({template:e.load("powered-by"),className:"intercom-powered-by",initialize:function(a){this.settings=a.settings},render:function(a){return a=b.extend(a,{variantText:this.settings.get("app.powered-by-text"),variantId:this.settings.get("app.powered-by-id")}),a.hasVariant=d.isLocaleEnglish()&&b.isString(a.variantText),a.hasVariant&&(a.variantTerm=a.variantText.toLowerCase().replace(/\s+/g,"-")),this.$el.html(this.template(a)),this}})}),define("views/relative-time",["jquery","underscore","backbone","time"],function(a,b,c,d){"use strict";return c.View.extend({tagName:"span",className:"intercom-relative-time",render:function(a,c){var e=b.bind(function(){this.$el.html(d.relativeTimeInWords(a,c))},this);return e(),setInterval(e,1e3),this}})}),define("views/sheet",function(){"use strict";var a=require("backbone"),b=require("metrics"),c=require("navigation-events");return a.View.extend({events:{"click .intercom-sheet-header-conversations-button":"onConversationsClicked","click .intercom-sheet-header-close-button":"onCloseClicked","click .intercom-sheet-header-minimize-button":"onMinimizeClicked"},initialize:function(a){this.settings=a.settings},show:function(){return this.callback("willShow",arguments),this.$el.addClass("intercom-sheet-active"),this.callback("didShow",arguments),this},hide:function(){return this.callback("willHide",arguments),this.$el.removeClass("intercom-sheet-active"),this.callback("didHide",arguments),this},minimize:function(){this.callback("willMinimize",arguments),this.$el.addClass("intercom-sheet-minimized"),this.callback("didMinimize",arguments)},maximize:function(){this.callback("willMaximize",arguments),this.$el.removeClass("intercom-sheet-minimized"),this.callback("didMaximize",arguments)},isMinimized:function(){return this.$el.hasClass("intercom-sheet-minimized")},isActive:function(){return this.$el.hasClass("intercom-sheet-active")},getScrollPosition:function(){return this.getScrollHeight()-this.getHeight()-this.getScrollTop()},getScrollTop:function(){return this.$(".intercom-sheet-content").scrollTop()},setScrollTop:function(a){return this.$(".intercom-sheet-content").scrollTop(a)},getScrollHeight:function(){return this.$(".intercom-sheet-content").prop("scrollHeight")},getHeight:function(){return this.$(".intercom-sheet-content").height()},scrollToBottom:function(){this.setScrollTop(this.getScrollHeight())},callback:function(a,b){var c=this[a];void 0!==c&&c.apply(this,b)},onCloseClicked:function(a){a.preventDefault(),a.stopPropagation(),c.trigger("click:close"),b.increment("closeClicked")},onMinimizeClicked:function(a){a.preventDefault(),a.stopPropagation(),c.trigger("click:minimize"),b.increment("minimizeButtonClicked")},onConversationsClicked:function(a){a.preventDefault(),a.stopPropagation(),c.trigger("click:conversations"),b.increment("inboxButtonClicked")}})}),define("views/unread-counter",["jquery","underscore","backbone"],function(a,b,c){"use strict";return c.View.extend({className:"intercom-unread-counter",initialize:function(){this.listenTo(this.collection,"add change",this.render)},render:function(){var a=this.collection.unread().size();return this.$el.toggleClass("intercom-unread-counter-active",a>0).text(a),this}})}),define("views/video-reply",function(){"use strict";var a=require("underscore"),b=require("backbone"),c=require("template");return b.View.extend({template:c.load("video-reply-part"),className:"intercom-video-reply-part",events:{"click .intercom-video-reply-controls-playpausebutton":"togglePlayPause","click .intercom-video-reply-controls-mutebutton":"toggleMute","click video":"togglePlayPause","click .intercom-video-reply-controls":"togglePlayPause"},render:function(){this.$el.html(this.template({part:this.model,partBody:this.model.renderedBody()}));var b=this.video();return b.addEventListener("timeupdate",a.bind(this.updateProgressBar,this)),this.startPlayback(b),this.updateVideoControls(),this},video:function(){return a.isUndefined(this._video)&&(this._video=this.$("video")[0]),this._video},startPlayback:function(b){b.loop=!0,b.muted=!0,b.addEventListener("canplay",a.bind(function(){b.play(),this.updateVideoControls()},this)),b.play(),this.updateVideoControls()},updateVideoControls:function(){var a=this.video();this.$(".intercom-video-reply-controls-playpausebutton").toggleClass("intercom-paused",a.paused).toggleClass("intercom-unpaused",!a.paused),this.$(".intercom-video-reply-controls-mutebutton").toggleClass("intercom-muted",a.muted).toggleClass("intercom-unmuted",!a.muted)},updateProgressBar:function(){var b=this.video(),c=Math.round(100*(b.currentTime/b.duration)),d=a.template("linear-gradient(to right,white, white <%= percentProgress %>%, rgba(255,255,255,0.5) <%= percentProgress %>%, rgba(255,255,255,0.5) <%= percentProgress %>%)")({percentProgress:c});this.$(".intercom-video-reply-controls-progressbar").css("background",d)},togglePlayPause:function(a){a.stopPropagation();var b=this.video();b.paused?b.play():b.pause(),this.updateVideoControls()},toggleMute:function(a){a.stopPropagation();var b=this.video();b.muted&&!b.paused&&(b.currentTime=0),b.muted=!b.muted,this.updateVideoControls()}})}),define("views/zoomed-image",function(){"use strict";var a=require("jquery"),b=require("underscore"),c=require("backbone"),d=require("views/animations/zoomed-image");return c.View.extend({className:"intercom-zoomed-image",tagName:"img",padding:20,initialize:function(b){this.image=b.image,this.$image=a(b.image)},render:function(){this.$el.attr("src",a(this.image).attr("src")),a(window).on("resize.intercom-image-viewer",b.bind(this.onResize,this));var c=a(window).width(),e=a(window).height();return this.resize(c,e),this.addPlaceholder(),d.show(this),this},resize:function(a,b){var c=a-2*this.padding,d=b-2*this.padding,e=Math.min(c/this.image.naturalWidth,d/this.image.naturalHeight);e>1&&(e=1),this.width=this.image.naturalWidth*e,this.height=this.image.naturalHeight*e,this.left=a/2-this.width/2,this.top=b/2-this.height/2,this.$el.css({top:this.top,left:this.left,width:this.width,height:this.height})},remove:function(){this.stopListening(),a(window).off("resize.intercom-image-viewer"),d.hide(this,b.bind(function(){this.removePlaceholder(),this.$el.remove()},this))},addPlaceholder:function(){this.$placeholder=a("<div/>").addClass("intercom-zoomed-image-placeholder").width(this.$image.width()).height(this.$image.height()),this.$image.hide(),this.$image.parent().append(this.$placeholder)},removePlaceholder:function(){this.$placeholder.remove(),this.$image.show()},onResize:b.throttle(function(){var b=a(window).width(),c=a(window).height();this.resize(b,c)},500)})}),define("visibility",["exports"],function(a){"use strict";var b=require("jquery");a.isPageVisible=function(){return"undefined"!=typeof document.hidden?!document.hidden:"undefined"!=typeof document.mozHidden?!document.mozHidden:"undefined"!=typeof document.msHidden?!document.msHidden:"undefined"!=typeof document.webkitHidden?!document.webkitHidden:!0},a.onVisible=function(c){var d;"undefined"!=typeof document.hidden?d="visibilitychange":"undefined"!=typeof document.mozHidden?d="mozvisibilitychange":"undefined"!=typeof document.msHidden?d="msvisibilitychange":"undefined"!=typeof document.webkitHidden&&(d="webkitvisibilitychange"),b(document).on(d,function(){a.isPageVisible()&&c()})}}),define("xhr",["jquery"],function(){"use strict";function a(){return"function"==typeof window.xdomain&&"object"==typeof window.xhook&&void 0!==typeof window.xhook.XMLHttpRequest}function b(){try{var b=a()?window.xhook.XMLHttpRequest:window.XMLHttpRequest;return new b}catch(c){}}function c(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}return{createXHR:function(){return void 0!==window.ActiveXObject?b()||c():b()}}});var exports,module,$=require("jquery"),_=require("underscore"),Backbone=require("backbone");$.noConflict(!0),_.noConflict(),Backbone.noConflict(),(void 0===window.Intercom||window.Intercom.booted!==!0)&&(require("boot"),window.Intercom.booted=!0),interop.restore()}).call(window);’	4567_application/javascript_&http://platform.twitter.com/widgets.jsOﬁbplist00‘áàX$versionX$objectsY$archiverT$top Ü†Ø/#)*0123[\]^_`abcdefghijklmnopqrstuvwxyz{|}ÄÅÇU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄ,Ä.ÄÄ-Ä”$%&'(WNS.base[NS.relativeÄ ÄÄ_&http://platform.twitter.com/widgets.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçô√h-œ »”456HZWNS.keysZNS.objectsØ789:;<=>?@ABCDEFGÄ	Ä
ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄØIJKLMNOPQRSTUVWXYÄÄÄÄÄÄÄ Ä!Ä"Ä#Ä$Ä%Ä&Ä'Ä(Ä)Ä*Ä+\Content-TypeSP3P\X-Cache-Hits]Last-ModifiedWX-Cache_Content-EncodingSAge[X-Served-BySVia]Cache-ControlTDateWX-Timer^Content-LengthZConnectionTEtagTVary]Accept-Ranges_%application/javascript; charset=utf-8_TCP="CAO DSP LAW CURa ADMa DEVa TAIa PSAa PSDa IVAa IVDa OUR BUS IND UNI COM NAV INT"V128280_Tue, 25 Aug 2015 20:44:55 GMTSHITTgzipT1721_cache-tw-lax1-cr1-2-TWLAX1[1.1 varnish_public, max-age=1800_Wed, 26 Aug 2015 06:52:51 GMT_S1440571971.918399,VS0,VE0U40040Zkeep-alive_'"b2b57dd95231e3b256e81a8482a0e22e+gzip"_Accept-Encoding,HostUbytes“+,~\NSDictionary¢~/úh_application/javascript“+,ÉÑ_NSHTTPURLResponse£ÖÜ/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—âä_WebResourceResponseÄ    # - 2 7 i o ä ç ë î ó ö û ° ® ´ Æ ± ¥ ∑ π ª Ω ø ¡ ¬ ƒ ∆ »   Ã Œ – ◊ ﬂ Î Ì Ô Ò*39<ENPRYalÄÇÑÜàäåéêíîñòöúû†¢∂∏∫ºæ¿¬ƒ∆» ÃŒ–“‘÷ÿ⁄ÁÎ¯!%15CHP_jotÇ™(,16S_vñ≥πƒÓ #<AUYm{çê¶             ã              ®O °!function(){var t;Function&&Function.prototype&&Function.prototype.bind&&(/MSIE [678]/.test(navigator.userAgent)||(window.__twttr&&window.__twttr.widgets&&window.__twttr.widgets.loaded&&window.twttr.widgets.load&&window.twttr.widgets.load(),window.__twttr&&window.__twttr.widgets&&window.__twttr.widgets.init||!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return i(n?n:e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,r){(function(){"use strict";function r(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){H=t}function s(t){K=t}function u(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(h)}}function c(){return function(){q(h)}}function d(){var t=0,e=new Y(h),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function l(){var t=new MessageChannel;return t.port1.onmessage=h,function(){t.port2.postMessage(0)}}function f(){return function(){setTimeout(h,1)}}function h(){for(var t=0;J>t;t+=2){var e=tt[t],n=tt[t+1];e(n),tt[t]=void 0,tt[t+1]=void 0}J=0}function p(){try{var t=e,n=t("vertx");return q=n.runOnLoop||n.runOnContext,c()}catch(r){return f()}}function m(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(e){return it.error=e,it}}function b(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function y(t,e,n){K(function(t){var r=!1,i=b(n,e,function(n){r||(r=!0,e!==n?_(t,n):A(t,n))},function(e){r||(r=!0,I(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,I(t,i))},t)}function x(t,e){e._state===nt?A(t,e._result):e._state===rt?I(t,e._result):C(e,void 0,function(e){_(t,e)},function(e){I(t,e)})}function E(t,e){if(e.constructor===t.constructor)x(t,e);else{var n=w(e);n===it?I(t,it.error):void 0===n?A(t,e):i(n)?y(t,e,n):A(t,e)}}function _(t,e){t===e?I(t,v()):r(e)?E(t,e):A(t,e)}function T(t){t._onerror&&t._onerror(t._result),S(t)}function A(t,e){t._state===et&&(t._result=e,t._state=nt,0!==t._subscribers.length&&K(S,t))}function I(t,e){t._state===et&&(t._state=rt,t._result=e,K(T,t))}function C(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+nt]=n,i[o+rt]=r,0===o&&t._state&&K(S,t)}function S(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?P(n,r,i,o):i(o);t._subscribers.length=0}}function N(){this.error=null}function k(t,e){try{return t(e)}catch(n){return ot.error=n,ot}}function P(t,e,n,r){var o,a,s,u,c=i(n);if(c){if(o=k(n,r),o===ot?(u=!0,a=o.error,o=null):s=!0,e===o)return void I(e,g())}else o=r,s=!0;e._state!==et||(c&&s?_(e,o):u?I(e,a):t===nt?A(e,o):t===rt&&I(e,o))}function R(t,e){try{e(function(e){_(t,e)},function(e){I(t,e)})}catch(n){I(t,n)}}function O(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(m),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?A(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&A(n.promise,n._result))):I(n.promise,n._validationError())}function D(t){return new at(this,t).promise}function j(t){function e(t){_(i,t)}function n(t){I(i,t)}var r=this,i=new r(m);if(!$(t))return I(i,new TypeError("You must pass an array to race.")),i;for(var o=t.length,a=0;i._state===et&&o>a;a++)C(r.resolve(t[a]),void 0,e,n);return i}function L(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(m);return _(n,t),n}function M(t){var e=this,n=new e(m);return I(n,t),n}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function z(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(t){this._id=lt++,this._state=void 0,this._result=void 0,this._subscribers=[],m!==t&&(i(t)||F(),this instanceof B||z(),R(this,t))}function U(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=ft)}var W;W=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var q,H,V,$=W,J=0,K=({}.toString,function(t,e){tt[J]=t,tt[J+1]=e,J+=2,2===J&&(H?H(h):V())}),Q="undefined"!=typeof window?window:void 0,G=Q||{},Y=G.MutationObserver||G.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,tt=new Array(1e3);V=X?u():Y?d():Z?l():void 0===Q&&"function"==typeof e?p():f();var et=void 0,nt=1,rt=2,it=new N,ot=new N;O.prototype._validateInput=function(t){return $(t)},O.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},O.prototype._init=function(){this._result=new Array(this.length)};var at=O;O.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,i=0;n._state===et&&e>i;i++)t._eachEntry(r[i],i)},O.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;o(t)?t.constructor===r&&t._state!==et?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},O.prototype._settledAt=function(t,e,n){var r=this,i=r.promise;i._state===et&&(r._remaining--,t===rt?I(i,n):r._result[e]=n),0===r._remaining&&A(i,r._result)},O.prototype._willSettleAt=function(t,e){var n=this;C(t,void 0,function(t){n._settledAt(nt,e,t)},function(t){n._settledAt(rt,e,t)})};var st=D,ut=j,ct=L,dt=M,lt=0,ft=B;B.all=st,B.race=ut,B.resolve=ct,B.reject=dt,B._setScheduler=a,B._setAsap=s,B._asap=K,B.prototype={constructor:B,then:function(t,e){var n=this,r=n._state;if(r===nt&&!t||r===rt&&!e)return this;var i=new this.constructor(m),o=n._result;if(r){var a=arguments[r-1];K(function(){P(r,i,a,o)})}else C(n,i,t,e);return i},"catch":function(t){return this.then(null,t)}};var ht=U,pt={Promise:ft,polyfill:ht};"function"==typeof t&&t.amd?t(function(){return pt}):"undefined"!=typeof n&&n.exports&&(n.exports=pt)}).call(this)},{}],2:[function(e,n,r){!function(e){"use strict";function r(){this.frames=[],this.lastId=0,this.raf=i,this.batch={hash:{},read:[],write:[],mode:null}}var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};r.prototype.read=function(t,e){var n=this.add("read",t,e),r=n.id;this.batch.read.push(n.id);var i="reading"===this.batch.mode||this.batch.scheduled;return i?r:(this.scheduleBatch(),r)},r.prototype.write=function(t,e){var n=this.add("write",t,e),r=this.batch.mode,i=n.id;this.batch.write.push(n.id);var o="writing"===r||"reading"===r||this.batch.scheduled;return o?i:(this.scheduleBatch(),i)},r.prototype.defer=function(t,e,n){"function"==typeof t&&(n=e,e=t,t=1);var r=this,i=t-1;return this.schedule(i,function(){r.run({fn:e,ctx:n})})},r.prototype.clear=function(t){if("function"==typeof t)return this.clearFrame(t);t=Number(t);var e=this.batch.hash[t];if(e){var n=this.batch[e.type],r=n.indexOf(t);delete this.batch.hash[t],~r&&n.splice(r,1)}},r.prototype.clearFrame=function(t){var e=this.frames.indexOf(t);~e&&this.frames.splice(e,1)},r.prototype.scheduleBatch=function(){var t=this;this.schedule(0,function(){t.batch.scheduled=!1,t.runBatch()}),this.batch.scheduled=!0},r.prototype.uniqueId=function(){return++this.lastId},r.prototype.flush=function(t){for(var e;e=t.shift();)this.run(this.batch.hash[e])},r.prototype.runBatch=function(){try{this.batch.mode="reading",this.flush(this.batch.read),this.batch.mode="writing",this.flush(this.batch.write),this.batch.mode=null}catch(t){throw this.runBatch(),t}},r.prototype.add=function(t,e,n){var r=this.uniqueId();return this.batch.hash[r]={id:r,fn:e,ctx:n,type:t}},r.prototype.run=function(t){var e=t.ctx||this,n=t.fn;if(delete this.batch.hash[t.id],!this.onError)return n.call(e);try{n.call(e)}catch(r){this.onError(r)}},r.prototype.loop=function(){var t=this,e=this.raf;this.looping||(e(function n(){var r=t.frames.shift();t.frames.length?e(n):t.looping=!1,r&&r()}),this.looping=!0)},r.prototype.schedule=function(t,e){return this.frames[t]?this.schedule(t+1,e):(this.loop(),this.frames[t]=e)},e=e||new r,"undefined"!=typeof n&&n.exports?n.exports=e:"function"==typeof t&&t.amd?t(function(){return e}):window.fastdom=e}(window.fastdom)},{}],3:[function(t,e,n){function r(){return s.builtUrl(d)}function i(t){return"dark"===t?"dark":"light"}function o(t,e,n){var r,o;return n=i(n),r=a.isRtlLang(e)?"rtl":"ltr",o=[t,u.css,n,r,"css"].join("."),s.base()+"/css/"+o}var a=t(31),s=t(60),u=t(112),c=t(88),d="embed/timeline.css";e.exports={tweet:c(o,null,"tweet"),timeline:r,video:c(o,null,"video"),grid:c(o,null,"grid")}},{112:112,31:31,60:60,88:88}],4:[function(t,e,n){function r(t){return t.input.lang||m}function i(t,e){var n={ids:[],lang:t};return n=e.reduce(function(t,e){return t.ids.push(e.input.id),t},n),n.ids=n.ids.sort().join(","),n}function o(t,e){t.forEach(function(t){var n=e[t.input.id];n?t.taskDoneDeferred.resolve(n):t.taskDoneDeferred.reject(new Error("not found"))})}function a(t){t.forEach(function(t){t.taskDoneDeferred.reject(new Error("request failed"))})}function s(t,e){var n=l(e,r);h.forIn(n,function(e,n){var r=i(e,n),s=p(o,null,n),u=p(a,null,n);d.fetch(t,r,c).then(s,u)})}function u(t){this.requestQueue=new f(p(s,null,t))}var c=t(5),d=t(7),l=t(72),f=t(75),h=t(105),p=t(88),m="en";u.prototype.fetch=function(t,e){return this.requestQueue.add({id:t,lang:e})},e.exports=u},{105:105,5:5,7:7,72:72,75:75,88:88}],5:[function(t,e,n){function r(t){return{success:!0,resp:t}}e.exports=r},{}],6:[function(t,e,n){function r(){var t=9e5;return Math.floor(+new Date/t)}e.exports=r},{}],7:[function(t,e,n){function r(){return d+l++}function i(t,e,n,i){var d,l,f;return i=i||r(),d=a.fullPath(["callbacks",i]),l=o.createElement("script"),f=new s,e=u.aug({},e,{callback:d,suppress_response_codes:!0}),a.set(["callbacks",i],function(t){var e,r;e=n(t||!1),t=e.resp,r=e.success,r?f.resolve(t):f.reject(t),l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),a.unset(["callbacks",i])}),l.onerror=function(){f.reject(new Error("failed to fetch "+l.src))},l.src=c.url(t,e),l.async="async",o.body.appendChild(l),f.promise}var o=t(17),a=t(28),s=t(95),u=t(105),c=t(98),d="cb",l=0;e.exports={fetch:i}},{105:105,17:17,28:28,95:95,98:98}],8:[function(t,e,n){function r(t){var e,n;return e=t.headers&&t.headers.status,n=t&&!t.error&&200===e,!n&&t.headers&&t.headers.message&&i.warn(t.headers.message),{success:n,resp:t}}var i=t(92);e.exports=r},{92:92}],9:[function(t,e,n){function r(t){return 10>t?"0"+t:t}function i(t){function e(t,e){return n&&n[t]&&(t=n[t]),t.replace(/%\{([\w_]+)\}/g,function(t,n){return void 0!==e[n]?e[n]:t})}var n=t&&t.phrases,o=t&&t.months||u,a=t&&t.formats||c;this.timeAgo=function(t){var n,r=i.parseDate(t),s=+new Date,u=s-r;return r?isNaN(u)||2*d>u?e("now"):l>u?(n=Math.floor(u/d),e(a.abbr,{number:n,symbol:e(p,{abbr:e("s"),expanded:e(n>1?"seconds":"second")})})):f>u?(n=Math.floor(u/l),e(a.abbr,{number:n,symbol:e(p,{abbr:e("m"),expanded:e(n>1?"minutes":"minute")})})):h>u?(n=Math.floor(u/f),e(a.abbr,{number:n,symbol:e(p,{abbr:e("h"),expanded:e(n>1?"hours":"hour")})})):365*h>u?e(a.shortdate,{day:r.getDate(),month:e(o[r.getMonth()])}):e(a.longdate,{day:r.getDate(),month:e(o[r.getMonth()]),year:r.getFullYear().toString().slice(2)}):""},this.localTimeStamp=function(t){var n=i.parseDate(t),s=n&&n.getHours();return n?e(a.full,{day:n.getDate(),month:e(o[n.getMonth()]),year:n.getFullYear(),hours24:r(s),hours12:13>s?s?s:"12":s-12,minutes:r(n.getMinutes()),seconds:r(n.getSeconds()),amPm:e(12>s?"AM":"PM")}):""}}var o=/(\d{4})-?(\d{2})-?(\d{2})T(\d{2}):?(\d{2}):?(\d{2})(Z|[\+\-]\d{2}:?\d{2})/,a=/[a-z]{3,4} ([a-z]{3}) (\d{1,2}) (\d{1,2}):(\d{2}):(\d{2}) ([\+\-]\d{2}:?\d{2}) (\d{4})/i,s=/^\d+$/,u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c={abbr:"%{number}%{symbol}",shortdate:"%{day} %{month}",longdate:"%{day} %{month} %{year}",full:"%{hours12}:%{minutes} %{amPm} - %{day} %{month} %{year}"},d=1e3,l=60*d,f=60*l,h=24*f,p='<abbr title="%{expanded}">%{abbr}</abbr>';i.parseDate=function(t){var e,n,r=t||"",i=r.toString();return(e=function(){var t;return s.test(i)?parseInt(i,10):(t=i.match(a))?Date.UTC(t[7],u.indexOf(t[1]),t[2],t[3],t[4],t[5]):(t=i.match(o))?Date.UTC(t[1],t[2]-1,t[3],t[4],t[5],t[6]):void 0}())?(n=new Date(e),!isNaN(n.getTime())&&n):!1},e.exports=i},{}],10:[function(t,e,n){function r(t){return new o(i.compact({months:(t.getAttribute("data-dt-months")||"").split("|"),phrases:{AM:t.getAttribute("data-dt-am"),PM:t.getAttribute("data-dt-pm"),now:t.getAttribute("data-dt-now"),s:t.getAttribute("data-dt-s"),m:t.getAttribute("data-dt-m"),h:t.getAttribute("data-dt-h"),second:t.getAttribute("data-dt-second"),seconds:t.getAttribute("data-dt-seconds"),minute:t.getAttribute("data-dt-minute"),minutes:t.getAttribute("data-dt-minutes"),hour:t.getAttribute("data-dt-hour"),hours:t.getAttribute("data-dt-hours")},formats:{full:t.getAttribute("data-dt-full"),abbr:t.getAttribute("data-dt-abbr"),shortdate:t.getAttribute("data-dt-short"),longdate:t.getAttribute("data-dt-long")}}))}var i=t(105),o=t(9);e.exports=r},{105:105,9:9}],11:[function(t,e,n){function r(t){return new RegExp("\\b"+t+"\\b","g")}function i(t,e){return t.classList?void t.classList.add(e):void(r(e).test(t.className)||(t.className+=" "+e))}function o(t,e){return t.classList?void t.classList.remove(e):void(t.className=t.className.replace(r(e)," "))}function a(t,e,n){return void 0===n&&t.classList&&t.classList.toggle?t.classList.toggle(e,n):(n?i(t,e):o(t,e),n)}function s(t,e,n){return t.classList&&u(t,e)?(o(t,e),void i(t,n)):void(t.className=t.className.replace(r(e),n))}function u(t,e){return t.classList?t.classList.contains(e):d.contains(c(t),e)}function c(t){return d.toRealArray(t.classList?t.classList:t.className.match(l))}var d=t(105),l=/\b([\w-_]+)\b/g;e.exports={add:i,remove:o,replace:s,toggle:a,present:u,list:c}},{105:105}],12:[function(t,e,n){function r(t){var e=t.getAttribute("data-twitter-event-id");return e?e:(t.setAttribute("data-twitter-event-id",++v),v)}function i(t,e,n){var r=0,i=t&&t.length||0;for(r=0;i>r;r++)t[r].call(e,n,e)}function o(t,e,n){for(var r=n||t.target||t.srcElement,a=p.list(r),s=0,u=a.length;u>s;s++)i(e["."+a[s]],r,t);i(e[r.tagName],r,t),t.cease||r!==this&&o.call(this,t,e,r.parentElement||r.parentNode)}function a(t,e,n,r){function i(r){o.call(t,r,n[e])}s(t,i,e,r),t.addEventListener(e,i,!1)}function s(t,e,n,r){t.id&&(g[t.id]=g[t.id]||[],g[t.id].push({el:t,listener:e,type:n,rootId:r}))}function u(t){var e=g[t];e&&(e.forEach(function(t){t.el.removeEventListener(t.type,t.listener,!1),delete m[t.rootId]}),delete g[t])}function c(t,e,n,i){var o=r(t);m[o]=m[o]||{},m[o][e]||(m[o][e]={},a(t,e,m[o],o)),m[o][e][n]=m[o][e][n]||[],m[o][e][n].push(i)}function d(t,e,n){var i=r(e),a=m[i]&&m[i];o.call(e,{target:n},a[t])}function l(t){return h(t),f(t),!1}function f(t){t&&t.preventDefault?t.preventDefault():t.returnValue=!1}function h(t){t&&(t.cease=!0)&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}var p=t(11),m={},v=-1,g={};e.exports={stop:l,stopPropagation:h,preventDefault:f,delegate:c,simulate:d,removeDelegatesForWidget:u}},{11:11}],13:[function(t,e,n){function r(t){var e=t.charAt(0);return"."===e?function(e){var n=e.className?e.className.split(/\s+/):[];return o.contains(n,t.slice(1))}:"#"===e?function(e){return e.id===t.slice(1)}:function(e){return e.tagName===t.toUpperCase()}}function i(t,e,n){var a;if(e)return n=n||e&&e.ownerDocument,a=o.isType("function",t)?t:r(t),e===n?a(e)?e:void 0:a(e)?e:i(a,e.parentNode,n)}var o=t(105);e.exports={closest:i}},{105:105}],14:[function(t,e,n){function r(t,e){return function(){try{e.resolve(t.call(this))}catch(n){e.reject(n)}}}function i(t,e){t.call(e)}function o(t,e){var n=new c;return u.read(r(t,n),e),n.promise}function a(t,e){var n=new c;return u.write(r(t,n),e),n.promise}function s(t,e,n){var i=new c;return d.isType("function",t)&&(n=e,e=t,t=1),u.defer(t,r(e,i),n),i.promise}var u=t(2),c=t(95),d=t(105);e.exports={sync:i,read:o,write:a,defer:s}},{105:105,2:2,95:95}],15:[function(t,e,n){function r(t){return t=t||o,t.getSelection&&t.getSelection()}function i(t){var e=r(t);return e?e.toString():""}var o=t(20);e.exports={getSelection:r,getSelectedText:i}},{20:20}],16:[function(t,e,n){function r(t){return t&&1===t.nodeType?t.offsetWidth||r(t.parentNode):0}e.exports={effectiveWidth:r}},{}],17:[function(t,e,n){e.exports=document},{}],18:[function(t,e,n){e.exports=location},{}],19:[function(t,e,n){e.exports=navigator},{}],20:[function(t,e,n){e.exports=window},{}],21:[function(t,e,n){function r(t,e,n){e.ready=i(t.then,t),n&&Array.isArray(e[n])&&(e[n].forEach(i(t.then,t)),delete e[n])}var i=t(88);e.exports={exposeReadyPromise:r}},{88:88}],22:[function(t,e,n){function r(){return!0}function i(t){return t}function o(t,e,n){var r=null;return t.some(function(t){return t=s.isType("function",t)?t():t,e(t)?(r=n(t),!0):void 0}),r}function a(){function t(t){var e=this;t=t||{},this.params=Object.keys(this.paramConfigs).reduce(function(n,a){var s=[],u=e.boundParams,c=e.paramConfigs[a],d=c.validate||r,l=c.transform||i;if(a in u&&s.push(u[a]),a in t&&s.push(t[a]),s="fallback"in c?s.concat(c.fallback):s,n[a]=o(s,d,l),c.required&&null==n[a])throw new Error(a+" is a required parameter");return n},{}),this.initialize()}return s.aug(t.prototype,{paramConfigs:{},boundParams:{},initialize:function(){}}),t}var s=t(105);e.exports=a},{105:105}],23:[function(t,e,n){function r(t,e,n){var r=this[e];if(!r)throw new Error(e+" does not exist");this[e]=t(r,n)}function i(){this.Component=this.factory(),this._adviceArgs=[],this._lastArgs=[]}var o=t(24),a=t(70),s=t(105),u=t(22);s.aug(i.prototype,{factory:u,build:function(t){var e=this,n=this.Component;return s.aug(this.Component.prototype.boundParams,t),o.ifEnabled(function(){Object.freeze(n.prototype.boundParams),Object.freeze(n.prototype.paramConfigs)}),this._adviceArgs.concat(this._lastArgs).forEach(function(t){r.apply(e.Component.prototype,t)}),delete this._lastArgs,delete this._adviceArgs,this.Component},params:function(t){var e=this.Component.prototype.paramConfigs;t=t||{},this.Component.prototype.paramConfigs=s.aug({},t,e)},define:function(t,e){if(t in this.Component.prototype)throw new Error(t+" has previously been defined");this.override(t,e)},override:function(t,e){this.Component.prototype[t]=e},defineProperty:function(t,e){if(t in this.Component.prototype)throw new Error(t+" has previously been defined");this.overrideProperty(t,e)},overrideProperty:function(t,e){var n=s.aug({configurable:!0},e);Object.defineProperty(this.Component.prototype,t,n)},before:function(t,e){this._adviceArgs.push([a.before,t,e])},after:function(t,e){this._adviceArgs.push([a.after,t,e])},around:function(t,e){this._adviceArgs.push([a.around,t,e])},last:function(t,e){this._lastArgs.push([a.after,t,e])}}),e.exports=i},{105:105,22:22,24:24,70:70}],24:[function(t,e,n){function r(){c=!0}function i(){c=!1}function o(t){c&&t()}function a(t){o(function(){u.warn(t)})}function s(t){o(function(){throw new Error(t)})}var u=t(92),c=!1;e.exports={enable:r,disable:i,ifEnabled:o,fail:s,warn:a}},{92:92}],25:[function(t,e,n){function r(){return s.toRealArray(arguments)}function i(t,e,n){var r=new t;return e=a(o(e||[])),e.forEach(function(t){t.call(null,r)}),r.build(n)}var o=t(71),a=t(73),s=t(105);e.exports={couple:r,build:i}},{105:105,71:71,73:73}],26:[function(t,e,n){function r(t){return s.isType("string",t)?t.split("."):s.isType("array",t)?t:[]}function i(t,e){var n=r(e),i=n.slice(0,-1);return i.reduce(function(t,e,n){if(t[e]=t[e]||{},!s.isObject(t[e]))throw new Error(i.slice(0,n+1).join(".")+" is already defined with a value.");return t[e]},t)}function o(t,e){e=e||a,e[t]=e[t]||{},Object.defineProperty(this,"base",{value:e[t]}),Object.defineProperty(this,"name",{value:t})}var a=t(20),s=t(105);s.aug(o.prototype,{get:function(t){var e=r(t);return e.reduce(function(t,e){return s.isObject(t)?t[e]:void 0},this.base)},set:function(t,e,n){var o=r(t),a=i(this.base,t),s=o.slice(-1);return n&&s in a?a[s]:a[s]=e},init:function(t,e){return this.set(t,e,!0)},unset:function(t){var e=r(t),n=this.get(e.slice(0,-1));n&&delete n[e.slice(-1)]},aug:function(t){var e=this.get(t),n=s.toRealArray(arguments).slice(1);if(e="undefined"!=typeof e?e:{},n.unshift(e),!n.every(s.isObject))throw new Error("Cannot augment non-object.");return this.set(t,s.aug.apply(null,n))},call:function(t){var e=this.get(t),n=s.toRealArray(arguments).slice(1);if(!s.isType("function",e))throw new Error("Function "+t+"does not exist.");return e.apply(null,n)},fullPath:function(t){var e=r(t);return e.unshift(this.name),e.join(".")}}),e.exports=o},{105:105,20:20}],27:[function(t,e,n){function r(t){var e,n,r,i=0;for(o={},t=t||a,e=t.getElementsByTagName("meta");n=e[i];i++)/^twitter:/.test(n.name)&&(r=n.name.replace(/^twitter:/,""),o[r]=n.content)}function i(t){return o[t]}var o,a=t(17);r(),e.exports={init:r,val:i}},{17:17}],28:[function(t,e,n){var r=t(26);e.exports=new r("__twttr")},{26:26}],29:[function(t,e,n){var r=t(26);e.exports=new r("twttr")},{26:26}],30:[function(t,e,n){e.exports=["hi","zh-cn","fr","zh-tw","msa","fil","fi","sv","pl","ja","ko","de","it","pt","es","ru","id","tr","da","no","nl","hu","fa","ar","ur","he","th","cs","uk","vi","ro","bn","el"]},{}],31:[function(t,e,n){function r(t){return t=String(t).toLowerCase(),i.contains(o,t)}var i=t(105),o=["ar","fa","he","ur"];e.exports={isRtlLang:r}},{105:105}],32:[function(t,e,n){function r(t){var e=~a.host.indexOf("poptip.com")?"https://poptip.com":a.href,n="original_referer="+e;return[t,n].join(-1==t.indexOf("?")?"?":"&")}function i(t){var e,n;t.altKey||t.metaKey||t.shiftKey||(e=u.closest(function(t){return"A"===t.tagName||"AREA"===t.tagName},t.target),e&&d.isIntentURL(e.href)&&(n=r(e.href),n=n.replace(/^http[:]/,"https:"),n=n.replace(/^\/\//,"https://"),c.open(n,e),s.preventDefault(t)))}function o(t){t.addEventListener("click",i,!1)}var a=t(18),s=t(12),u=t(13),c=t(64),d=t(101);e.exports={attachTo:o}},{101:101,12:12,13:13,18:18,64:64}],33:[function(t,e,n){function r(t){var e=[];return f.forIn(t,function(t,n){e.push(t+"="+n)}),e.join(",")}function i(){return h+l.generate()}function o(t,e){function n(t){return Math.round(t/2)}return t>e?{coordinate:0,size:e}:{coordinate:n(e)-n(t),size:t}}function a(t,e,n){var i,a;e=s.parse(e),n=n||{},i=o(e.width,n.width||p),e.left=i.coordinate,e.width=i.size,a=o(e.height,n.height||m),e.top=a.coordinate,e.height=a.size,this.win=t,this.features=r(e)}var s,u=t(20),c=t(93),d=t(101),l=t(103),f=t(105),h="intent_",p=u.screen.width,m=u.screen.height;s=(new c).defaults({width:550,height:520,personalbar:"0",toolbar:"0",location:"1",scrollbars:"1",resizable:"1"}),a.prototype.open=function(t){return d.isTwitterURL(t)?(this.name=i(),this.popup=this.win.open(t,this.name,this.features),this):void 0},a.open=function(t,e){var n=new a(u,e);return n.open(t)},e.exports=a},{101:101,103:103,105:105,20:20,93:93}],34:[function(t,e,n){function r(t){return function(e){var n=t.srcEl,r=t.targetEl;n?r.insertBefore(e,n):r.appendChild(e)}}function i(t){return c.write(function(){t&&t.parentNode&&t.parentNode.removeChild(t)})}function o(t){t.forEach(function(t){var e=t.input;a(e).then(t.taskDoneDeferred.resolve,t.taskDoneDeferred.reject)})}function a(t){function e(){return i(t.srcEl).then(function(){return o.sandboxEl})}function n(){return i(o.sandboxEl).then(function(){return t.srcEl?p.always(c.write(function(){u.add(t.srcEl,f)}),function(){return t.srcEl}):void 0})}var o=new t.sandbox,a=new t.module(t.parameters,o),s=t.className+"-rendered",f=t.className+"-error",m=o.insert(a.id,[t.className,s],r(t)),v=a.hydrate();return h.all([m,v]).then(function(){return a.render(o)}).then(function(){d.add(a,o.sandboxEl),o.onResize(function(){return a.resize().then(function(){l.trigger("resize",{target:o.sandboxEl})})})}).then(e,n).then(function(t){return t?(l.trigger("rendered",{target:t}),t):void 0})}function s(t){return m.add(t)}var u=t(11),c=t(14),d=t(49),l=t(65),f=t(75),h=t(96),p=t(97),m=new f(o);e.exports={addWidget:s}},{11:11,14:14,49:49,65:65,75:75,96:96,97:97}],35:[function(t,e,n){function r(t,e,n,r,i,o){this.module=t,this.sandbox=e,this.srcEl=o,this.targetEl=i,this.parameters=r,this.className=n}r.prototype.destroy=function(){this.srcEl=this.targetEl=null},e.exports=r},{}],36:[function(t,e,n){function r(t){c[t]=+new Date}function i(t){return c[t]?+new Date-c[t]:null}function o(t,e,n,r,o){var s=i(e);s&&a(t,n,r,s,o)}function a(t,e,n,r,i){var o,a=void 0===i?d:i;100*Math.random()>a||(n=u.aug(n||{},{duration_ms:r}),o={page:e,component:"performance",action:t},s.clientEvent(o,n,!0))}var s=t(56),u=t(105),c={},d=1;e.exports={start:r,end:i,track:a,endAndTrack:o}},{105:105,56:56}],37:[function(t,e,n){e.exports={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INTERNAL_ERROR:{code:-32603,message:"Internal error"}}},{}],38:[function(t,e,n){function r(t){this.registry=t||{}}function i(t){return f.isType("string",t)?JSON.parse(t):t}function o(t){var e,n,r;return f.isObject(t)?(e=t.jsonrpc===m,n=f.isType("string",t.method),r=!("id"in t)||a(t.id),e&&n&&r):!1}function a(t){var e,n,r;return e=f.isType("string",t),n=f.isType("number",t),r=null===t,e||n||r}function s(t){return f.isObject(t)&&!f.isType("function",t)}function u(t,e){return{jsonrpc:m,id:t,result:e}}function c(t,e){return{jsonrpc:m,id:a(t)?t:null,error:e}}function d(t){return h.all(t).then(function(t){return t=t.filter(function(t){return void 0!==t}),t.length?t:void 0})}var l=t(37),f=t(105),h=t(96),p=t(97),m="2.0";r.prototype._invoke=function(t,e){var n,r,i;n=this.registry[t.method],r=t.params||[],r=f.isType("array",r)?r:[r];try{i=n.apply(e.source||null,r)}catch(o){i=h.reject(o.message)}return p.isPromise(i)?i:h.resolve(i)},r.prototype._processRequest=function(t,e){function n(e){return u(t.id,e)}function r(){return c(t.id,l.INTERNAL_ERROR)}var i;return o(t)?(i="params"in t&&!s(t.params)?h.resolve(c(t.id,l.INVALID_PARAMS)):this.registry[t.method]?this._invoke(t,{source:e}).then(n,r):h.resolve(c(t.id,l.METHOD_NOT_FOUND)),null!=t.id?i:h.resolve()):h.resolve(c(t.id,l.INVALID_REQUEST))},r.prototype.attachReceiver=function(t){return t.attachTo(this),this},r.prototype.bind=function(t,e){return this.registry[t]=e,this},r.prototype.receive=function(t,e){var n,r,o,a=this;try{t=i(t)}catch(s){return h.resolve(c(null,l.PARSE_ERROR))}return e=e||null,n=f.isType("array",t),r=n?t:[t],o=r.map(function(t){return a._processRequest(t,e)}),n?d(o):o[0]},e.exports=r},{105:105,37:37,96:96,97:97}],39:[function(t,e,n){function r(t,e,n){var r;t&&t.postMessage&&(v?r=(n||"")+JSON.stringify(e):n?(r={},r[n]=e):r=e,t.postMessage(r,"*"))}function i(t){return h.isType("string",t)?t:"JSONRPC"}function o(t,e){return e?h.isType("string",t)&&0===t.indexOf(e)?t.substring(e.length):t[e]?t[e]:void 0:t}function a(t,e){var n=t.document;this.filter=i(e),this.server=null,this.isTwitterFrame=p.isTwitterURL(n.location.href),t.addEventListener("message",m(this._onMessage,this),!1)}function s(t,e){this.pending={},this.target=t,this.isTwitterHost=p.isTwitterURL(c.href),this.filter=i(e),d.addEventListener("message",m(this._onMessage,this),!1)}function u(t){return arguments.length>0&&(v=!!t),v}var c=t(18),d=t(20),l=t(95),f=t(85),h=t(105),p=t(101),m=t(88),v=f.ie9();h.aug(a.prototype,{_onMessage:function(t){var e,n=this;this.server&&(!this.isTwitterFrame||p.isTwitterURL(t.origin))&&(e=o(t.data,this.filter),e&&this.server.receive(e,t.source).then(function(e){e&&r(t.source,e,n.filter)}))},attachTo:function(t){this.server=t},detach:function(){this.server=null}}),h.aug(s.prototype,{_processResponse:function(t){var e=this.pending[t.id];e&&(e.resolve(t),delete this.pending[t.id])},_onMessage:function(t){var e;if((!this.isTwitterHost||p.isTwitterURL(t.origin))&&(e=o(t.data,this.filter))){if(h.isType("string",e))try{e=JSON.parse(e)}catch(n){return}e=h.isType("array",e)?e:[e],e.forEach(m(this._processResponse,this))}},send:function(t){var e=new l;return t.id?this.pending[t.id]=e:e.resolve(),r(this.target,t,this.filter),e.promise}}),e.exports={Receiver:a,Dispatcher:s,_stringifyPayload:u}},{101:101,105:105,18:18,20:20,85:85,88:88,95:95}],40:[function(t,e,n){function r(t,e,n,r){var a,c=this;this.readyDeferred=new o,this.attrs=t||{},this.styles=e||{},this.appender=n||function(t){i.body.appendChild(t)},this.layout=r||function(t){return u.resolve(t())},this.frame=a=s(this.attrs,this.styles),a.onreadystatechange=a.onload=this.getCallback(this.onLoad),this.layout(function(){c.appender(a)})}var i=t(17),o=t(95),a=t(85),s=t(91),u=t(96),c=t(28),d=0;r.prototype.getCallback=function(t){var e=this,n=!1;return function(){n||(n=!0,t.call(e))}},r.prototype.registerCallback=function(t){var e="cb"+d++;return c.set(["sandbox",e],t),e},r.prototype.onLoad=function(){try{this.document=this.frame.contentWindow.document}catch(t){return void this.setDocDomain()}this.writeStandardsDoc(),this.readyDeferred.resolve(this)},r.prototype.ready=function(){return this.readyDeferred.promise},r.prototype.setDocDomain=function(){var t=this,e=s(this.attrs,this.styles),n=this.registerCallback(this.getCallback(this.onLoad));e.src=["javascript:",'document.write("");',"try { window.parent.document; }","catch (e) {",'document.domain="'+i.domain+'";',"}","window.parent."+c.fullPath(["sandbox",n])+"();"].join(""),this.layout(function(){t.frame.parentNode.removeChild(t.frame),t.frame=null,t.appender?t.appender(e):i.body.appendChild(e),t.frame=e})},r.prototype.writeStandardsDoc=function(){if(a.anyIE()&&!a.cspEnabled()){var t=["<!DOCTYPE html>","<html>","<head>","<scr","ipt>","try { window.parent.document; }",'catch (e) {document.domain="'+i.domain+'";}',"</scr","ipt>","</head>","<body></body>","</html>"].join("");this.document.write(t),this.document.close()}},e.exports=r},{17:17,28:28,85:85,91:91,95:95,96:96}],41:[function(t,e,n){var r=t(45),i=t(47);e.exports=r.build([i])},{45:45,47:47}],42:[function(t,e,n){var r=t(45),i=t(48);e.exports=r.build([i])},{45:45,48:48}],43:[function(t,e,n){function r(){var t=a();return u.aug(t.prototype,{id:null,initialized:!1,width:0,height:0,sandboxEl:null,insert:function(){return s.reject()},onResize:function(){},addClass:function(t){var e=this.sandboxEl;return t=Array.isArray(t)?t:[t],o.write(function(){t.forEach(function(t){i.add(e,t)})})},removeClass:function(t){var e=this.sandboxEl;return t=Array.isArray(t)?t:[t],o.write(function(){t.forEach(function(t){i.remove(e,t)})})},styleSelf:function(t){var e=this;return o.write(function(){u.forIn(t,function(t,n){e.sandboxEl.style[t]=n})})}}),t}var i=t(11),o=t(14),a=t(22),s=t(96),u=t(105);e.exports=r},{105:105,11:11,14:14,22:22,96:96}],44:[function(t,e,n){function r(){i.apply(this,arguments)}var i=t(23),o=t(105),a=t(43);r.prototype=Object.create(i.prototype),o.aug(r.prototype,{factory:a}),e.exports=r},{105:105,23:23,43:43}],45:[function(t,e,n){var r=t(25),i=t(44),o=t(88);r=Object.create(r),r.build=o(r.build,null,i),
e.exports=r},{25:25,44:44,88:88}],46:[function(t,e,n){function r(t,e){t&&(this._frame=t,this._win=t.contentWindow,this._doc=this._win.document,this._body=this._doc.body,this._head=this._body.parentNode.children[0],this.layout=e,this.root=this._doc.documentElement,this.root.className="SandboxRoot")}var i=t(40),o=t(105);o.aug(r.prototype,{createElement:function(t){return this._doc.createElement(t)},createDocumentFragment:function(){return this._doc.createDocumentFragment()},appendChild:function(t){var e=this;return this.layout(function(){return e._body.appendChild(t)})},setBaseTarget:function(t){var e=this,n=this._doc.createElement("base");return n.target=t,this.layout(function(){return e._head.appendChild(n)})},setTitle:function(t){t&&(this._frame.title=t)},element:function(){return this._frame},document:function(){return this._doc}}),r.createSandbox=function(t,e,n,o){var a=new i(t,e,n,o);return a.ready().then(function(t){return new r(t.frame,t.layout)})},e.exports=r},{105:105,40:40}],47:[function(t,e,n){function r(t,e){var n=b.aug({id:t,"class":e},_);return m(n,T)}function i(t){try{t.contentWindow.document}catch(e){return w.reject(e)}return w.resolve(t)}function o(t){var e=new g,n=x.generate(),i=r(t.id,t.className);return y.set(["sandbox",n],function(){var t=i.contentWindow.document,n="<!DOCTYPE html><html><head></head><body></body></html>";d.write(function(){t.write(n)}).then(function(){t.close(),e.resolve(i)})}),i.src=["javascript:",'document.write("");',"try { window.parent.document; }",'catch (e) { document.domain="'+u.domain+'"; }',"window.parent."+y.fullPath(["sandbox",n])+"();"].join(""),i.addEventListener("error",e.reject,!1),d.write(function(){t.parentNode.replaceChild(i,t)}),e.promise}function a(t){t.overrideProperty("id",{get:function(){return this.sandboxEl&&this.sandboxEl.id}}),t.overrideProperty("initialized",{get:function(){return!!this.win}}),t.overrideProperty("width",{get:function(){return this._width}}),t.overrideProperty("height",{get:function(){return this._height}}),t.overrideProperty("sandboxEl",{get:function(){return this.iframeEl}}),t.defineProperty("iframeEl",{get:function(){return this._iframe}}),t.defineProperty("rootEl",{get:function(){return this.doc&&this.doc.documentElement}}),t.defineProperty("widgetEl",{get:function(){return this.doc&&this.doc.body.firstElementChild}}),t.defineProperty("win",{get:function(){return this.iframeEl&&this.iframeEl.contentWindow}}),t.defineProperty("doc",{get:function(){return this.win&&this.win.document}}),t.define("updateCachedDimensions",function(){var t=this;return d.read(function(){var e,n=v(t.sandboxEl);"visible"==t.sandboxEl.style.visibility?t._width=n.width:(e=v(t.sandboxEl.parentElement).width,t._width=Math.min(n.width,e)),t._height=n.height})}),t.define("setTitle",function(t){this.iframeEl.title=t}),t.define("createElement",function(t){return this.doc.createElement(t)}),t.define("createFragment",function(){return this.doc.createDocumentFragment()}),t.define("htmlToElement",function(t){var e;return e=this.createElement("div"),e.innerHTML=t,e.firstElementChild}),t.define("hasSelectedText",function(){return!!l.getSelectedText(this.win)}),t.define("setTargetToBlank",function(){var t=this.createElement("base");t.target="_blank",this.doc.head.appendChild(t)}),t.define("addRootClass",function(t){var e=this.rootEl;return t=Array.isArray(t)?t:[t],this.initialized?d.write(function(){t.forEach(function(t){c.add(e,t)})}):w.reject(new Error("sandbox not initialized"))}),t.define("removeRootClass",function(t){var e=this.rootEl;return t=Array.isArray(t)?t:[t],this.initialized?d.write(function(){t.forEach(function(t){c.remove(e,t)})}):w.reject(new Error("sandbox not initialized"))}),t.define("hasRootClass",function(t){return c.present(this.rootEl,t)}),t.define("addStyleSheet",function(t,e){function n(){var t=o.doc.head.firstElementChild;return t?o.doc.head.insertBefore(i,t):o.doc.head.appendChild(i)}function r(){return o.doc.head.appendChild(i)}var i,o=this,a=new g;return this.initialized?(i=this.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=t,i.addEventListener("load",a.resolve,!1),i.addEventListener("error",a.reject,!1),d.write(e?n:r).then(function(){var e=o.createElement("img");return e.src=t,e.onerror=function(){s.setTimeout(a.resolve,50)},a.promise})):w.reject(new Error("sandbox not initialized"))}),t.define("prependStyleSheet",function(t){return this.addStyleSheet(t,!0)}),t.define("appendStyleSheet",function(t){return this.addStyleSheet(t,!1)}),t.define("addCss",function(t,e){function n(){var t=o.doc.head.firstElementChild;return t?o.doc.head.insertBefore(i,t):o.doc.head.appendChild(i)}function r(){return o.doc.head.appendChild(i)}var i,o=this;return h.cspEnabled()?(f.warn("CSP enabled; cannot embed inline styles"),w.resolve()):(i=this.createElement("style"),i.type="text/css",i.appendChild(this.doc.createTextNode(t)),d.write(e?n:r))}),t.define("prependCss",function(t){return this.addCss(t,!0)}),t.define("appendCss",function(t){return this.addCss(t,!1)}),t.define("makeVisible",function(){var t=this;return this.styleSelf(A).then(function(){t.updateCachedDimensions()})}),t.define("injectWidgetEl",function(t){var e=this;return this.initialized?this.widgetEl?w.reject(new Error("widget already injected")):d.write(function(){e.doc.body.appendChild(t)}):w.reject(new Error("sandbox not initialized"))}),t.define("matchHeightToContent",function(){var t,e=this;return d.read(function(){t=e.widgetEl?v(e.widgetEl).height:0}),d.write(function(){e.sandboxEl.style.height=t+"px"}).then(function(){return e.updateCachedDimensions()})}),t.define("didResize",function(){var t=this,e=t._resizeHandlers.length>0;return this.updateCachedDimensions().then(function(){e&&t._resizeHandlers.forEach(function(e){e(t)})})}),t.after("initialize",function(){this._iframe=null,this._width=this._height=0,this._resizeHandlers=[]}),t.override("insert",function(t,e,n){var a=this,s=new g,u=r(t,e.join(" "));return d.write(E(n,null,u)),u.addEventListener("load",function(){i(u).then(null,E(o,null,u)).then(s.resolve,s.reject)},!1),u.addEventListener("error",s.reject,!1),s.promise.then(function(t){var e=p(a.didResize,S,a);return a._iframe=t,a.win.addEventListener("resize",e,!1),w.all([a.setTargetToBlank(),a.addRootClass(I),a.prependCss(C)])})}),t.override("onResize",function(t){this._resizeHandlers.push(t)}),t.after("styleSelf",function(){return this.updateCachedDimensions()})}var s=t(20),u=t(17),c=t(11),d=t(14),l=t(15),f=t(24),h=t(85),p=t(90),m=t(91),v=t(81),g=t(95),w=t(96),b=t(105),y=t(28),x=t(103),E=t(88),_={allowfullscreen:"true"},T={position:"absolute",visibility:"hidden",display:"block",width:"0px",height:"0px",padding:"0",border:"none"},A={position:"static",visibility:"visible"},I="SandboxRoot",C=".SandboxRoot { display: none; }",S=50;e.exports=a},{103:103,105:105,11:11,14:14,15:15,17:17,20:20,24:24,28:28,81:81,85:85,88:88,90:90,91:91,95:95,96:96}],48:[function(t,e,n){function r(t){t.overrideProperty("id",{get:function(){return this.sandboxEl&&this.sandboxEl.id}}),t.overrideProperty("initialized",{get:function(){return!!this.iframeEl}}),t.overrideProperty("width",{get:function(){return this._width}}),t.overrideProperty("height",{get:function(){return this._height}}),t.overrideProperty("sandboxEl",{get:function(){return this.iframeEl}}),t.defineProperty("iframeEl",{get:function(){return this._iframe}}),t.define("updateCachedDimensions",function(){var t=this;return this.initialized?i.read(function(){t._width=t.sandboxEl.offsetWidth,t._height=t.sandboxEl.offsetHeight}):c.resolve()}),t.define("setTitle",function(t){this.iframeEl.title=t}),t.define("makeVisible",function(){return this.styleSelf(f)}),t.define("didResize",function(){var t=this,e=t._resizeHandlers.length>0;return this.updateCachedDimensions().then(function(){e&&t._resizeHandlers.forEach(function(e){e(t)})})}),t.define("loadDocument",function(t){var e=new u;return this.initialized?this.iframeEl.src?c.reject(new Error("widget already loaded")):(this.iframeEl.addEventListener("load",e.resolve,!1),this.iframeEl.addEventListener("error",e.reject,!1),this.iframeEl.src=t,e.promise):c.reject(new Error("sandbox not initialized"))}),t.after("initialize",function(){this._iframe=null,this._width=this._height=0,this._resizeHandlers=[]}),t.override("insert",function(t,e,n){var r=this,o=this._iframe=s({id:t,"class":e.join(" ")},l);return h[t]=this,this.onResize(a(function(){r.makeVisible()})),i.write(d(n,null,o))}),t.override("onResize",function(t){this._resizeHandlers.push(t)}),t.after("styleSelf",function(){return this.updateCachedDimensions()})}var i=t(14),o=t(63),a=t(89),s=t(91),u=t(95),c=t(96),d=t(88),l={position:"absolute",visibility:"hidden",width:"0px",height:"0px"},f={position:"static",visibility:"visible"},h={};o(function(t,e,n){var r=h[t];if(r)return r.styleSelf({width:e+"px",height:n+"px"}).then(function(){r.didResize()})}),e.exports=r},{14:14,63:63,88:88,89:89,91:91,95:95,96:96}],49:[function(t,e,n){function r(t,e){c[t.id]=e}function i(t){d[t.id]=t}function o(t){return c[t]}function a(t){var e=d[t];return e&&e.element}function s(t){return o(t)||a(t)}function u(){d={}}var c={},d={};e.exports={add:r,addClassic:i,getSandboxElement:s,resetClassic:u}},{}],50:[function(t,e,n){e.exports={CONVERSATION_ORIGIN:4}},{}],51:[function(t,e,n){function r(){return d.formatGenericEventData("syndicated_impression",{})}function i(){u("tweet")}function o(){u("timeline")}function a(){u("video")}function s(){u("partnertweet")}function u(t){l.isHostPageSensitive()||f[t]||(f[t]=!0,c.scribe(d.formatClientEventNamespace({page:t,action:"impression"}),r(),d.AUDIENCE_ENDPOINT))}var c=t(56),d=t(58),l=t(100),f={};e.exports={scribeAudienceImpression:u,scribePartnerTweetAudienceImpression:s,scribeTweetAudienceImpression:i,scribeTimelineAudienceImpression:o,scribeVideoAudienceImpression:a}},{100:100,56:56,58:58}],52:[function(t,e,n){e.exports={CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2}},{}],53:[function(t,e,n){function r(t){return t?(t=Array.isArray(t)?t:[t],t.reduce(function(t,e){var n=e.getAttribute("data-tweet-id"),r=e.getAttribute("data-rendered-tweet-id")||n;return n===r?t[r]={item_type:i.TWEET}:n&&(t[r]={item_type:i.RETWEET,target_type:i.TWEET,target_id:n}),t},{})):{}}var i=t(55);e.exports=r},{55:55}],54:[function(t,e,n){function r(){return A?I.promise:(m.createSandbox({id:"rufous-sandbox"},{display:"none"}).then(function(t){f=t,d=u(),l=c(),I.resolve([d,l])}),A=!0,I.promise)}function i(t,e){var n,r,i;b.isObject(t)&&b.isObject(e)&&(i=w.flattenClientEventPayload(t,e),n=d.firstChild,n.value=+(+n.value||i.dnt||0),r=f.createElement("input"),r.type="hidden",r.name="l",r.value=w.stringify(i),d.appendChild(r))}function o(t,e,n){var r=!b.isObject(t),o=e?!b.isObject(e):!1;r||o||I.promise.then(function(){i(w.formatClientEventNamespace(t),w.formatClientEventData(e,n))})}function a(){return I.promise.then(function(){if(d.children.length<=2)return g.reject();var t=g.all([f.appendChild(d),f.appendChild(l)]).then(function(t){var e=t[0],n=t[1];return n.addEventListener("load",function(){s(e,n)(),y.get("events").trigger("logFlushed")}),e.submit(),t});return d=u(),l=c(),t})}function s(t,e){return function(){var n=t.parentNode;n&&(n.removeChild(t),n.removeChild(e))}}function u(){var t=f.createElement("form"),e=f.createElement("input"),n=f.createElement("input");return T++,t.action=w.CLIENT_EVENT_ENDPOINT,t.method="POST",t.target=E+T,t.id=_+T,e.type="hidden",e.name="dnt",e.value=p.enabled(),n.type="hidden",n.name="tfw_redirect",n.value=w.RUFOUS_REDIRECT,t.appendChild(e),t.appendChild(n),t}function c(){var t=E+T;return h({id:t,name:t,width:0,height:0,border:0},{display:"none"},f.document())}var d,l,f,h=t(91),p=t(80),m=t(46),v=t(95),g=t(96),w=t(58),b=t(105),y=t(29),x=Math.floor(1e3*Math.random())+"_",E="rufous-frame-"+x+"-",_="rufous-form-"+x+"-",T=0,A=!1,I=new v;e.exports={clientEvent:o,flush:a,init:r}},{105:105,29:29,46:46,58:58,80:80,91:91,95:95,96:96}],55:[function(t,e,n){e.exports={TWEET:0,RETWEET:10,CUSTOM_TIMELINE:17}},{}],56:[function(t,e,n){function r(t,e,n){return i(t,e,n,2)}function i(t,e,n,r){var i=!p.isObject(t),o=e?!p.isObject(e):!1;i||o||a(h.formatClientEventNamespace(t),h.formatClientEventData(e,n,r),h.CLIENT_EVENT_ENDPOINT)}function o(t,e,n,r){var o=h.extractTermsFromDOM(t.target||t.srcElement);o.action=r||"click",i(o,e,n)}function a(t,e,n){var r,i;n&&p.isObject(t)&&p.isObject(e)&&(r=h.flattenClientEventPayload(t,e),i={l:h.stringify(r)},r.dnt&&(i.dnt=1),d(f.url(n,i)))}function s(t,e,n,r){var i,o=!p.isObject(t),a=e?!p.isObject(e):!1;if(!o&&!a)return i=h.flattenClientEventPayload(h.formatClientEventNamespace(t),h.formatClientEventData(e,n,r)),u(i)}function u(t){return v.push(t),v}function c(){var t,e,n=f.url(h.CLIENT_EVENT_ENDPOINT,{dnt:0,l:""}),r=encodeURIComponent(n).length;return v.length>1&&s({page:"widgets_js",component:"scribe_pixel",action:"batch_log"},{}),t=v,v=[],e=t.reduce(function(e,n,i){var o,a,s=e.length,u=s&&e[s-1],c=i+1==t.length;return c&&n.event_namespace&&"batch_log"==n.event_namespace.action&&(n.message=["entries:"+i,"requests:"+s].join("/")),o=h.stringify(n),a=encodeURIComponent(o).length+3,r+a>m?e:((!u||u.urlLength+a>m)&&(u={urlLength:r,items:[]},e.push(u)),u.urlLength+=a,u.items.push(o),e)},[]),e.map(function(t){var e={l:t.items};return l.enabled()&&(e.dnt=1),d(f.url(h.CLIENT_EVENT_ENDPOINT,e))})}function d(t){var e=new Image;return e.src=t}var l=t(80),f=t(98),h=t(58),p=t(105),m=2083,v=[];e.exports={_enqueueRawObject:u,scribe:a,clientEvent:i,clientEvent2:r,enqueueClientEvent:s,flushClientEvents:c,interaction:o}},{105:105,58:58,80:80,98:98}],57:[function(t,e,n){function r(t){t.forEach(function(t){var e=t.input.namespace,n=t.input.data,r=t.input.offsite,i=t.input.version;u.clientEvent(e,n,r,i),t.taskDoneDeferred.resolve()})}function i(t){function e(){t.forEach(function(t){t.taskDoneDeferred.resolve()})}function n(){t.forEach(function(t){t.taskDoneDeferred.reject()})}s.init(),t.forEach(function(t){var e=t.input.namespace,n=t.input.data,r=t.input.offsite,i=t.input.version;s.clientEvent(e,n,r,i)}),s.flush().then(e,n)}function o(t){(1===t.length?r:i)(t)}function a(t,e,n,r){return d.add({namespace:t,data:e,offsite:n,version:r})}var s=t(54),u=t(56),c=t(75),d=new c(o);e.exports={scribe:a}},{54:54,56:56,75:75}],58:[function(t,e,n){function r(t,e){var n;return e=e||{},t&&t.nodeType===Node.ELEMENT_NODE?((n=t.getAttribute("data-scribe"))&&n.split(" ").forEach(function(t){var n=t.trim().split(":"),r=n[0],i=n[1];r&&i&&!e[r]&&(e[r]=i)}),r(t.parentNode,e)):e}function i(t){return l.aug({client:"tfw"},t||{})}function o(t,e,n){var r=t&&t.widget_origin||c.referrer;return t=a("tfw_client_event",t,r),t.client_version=p,t.format_version=void 0!==n?n:1,e||(t.widget_origin=r),t}function a(t,e,n){return e=e||{},l.aug({},e,{_category_:t,triggered_on:e.triggered_on||+new Date,dnt:d.enabled(n)})}function s(t,e){return l.aug({},e,{event_namespace:t})}function u(t){var e,n=Array.prototype.toJSON;return delete Array.prototype.toJSON,e=JSON.stringify(t),n&&(Array.prototype.toJSON=n),e}var c=t(17),d=t(80),l=t(105),f=t(111),h=t(28),p=f.version,m=h.get("endpoints.rufous")||"https://syndication.twitter.com/i/jot",v=h.get("endpoints.rufousAudience")||"https://syndication.twitter.com/i/jot/syndication",g=h.get("endpoints.rufousRedirect")||"https://platform.twitter.com/jot.html";e.exports={extractTermsFromDOM:r,flattenClientEventPayload:s,formatGenericEventData:a,formatClientEventData:o,formatClientEventNamespace:i,stringify:u,AUDIENCE_ENDPOINT:v,CLIENT_EVENT_ENDPOINT:m,RUFOUS_REDIRECT:g}},{105:105,111:111,17:17,28:28,80:80}],59:[function(t,e,n){function r(t,e){var n=c.connect({src:t,iframe:{name:e,style:"position:absolute;top:-9999em;width:10px;height:10px"}});return d(n).expose({trigger:function(t,e,n){e=e||{};var r=e.region;delete e.region,f.get("events").trigger(t,{target:h.getSandboxElement(n),data:e,region:r,type:t})},initXPHub:function(){o(!0)}}),n}function i(t){return t?l.secureHubId:l.contextualHubId}function o(t){var e=u.base(t)+"/widgets/hub.56100c81297724e06acf94c7d4b00921.html",n=i(t);if(!s.getElementById(n))return r(e,n)}function a(t,e){var n=c.connect({window:{width:550,height:450},src:t});d(n).expose({trigger:function(t,n){f.get("events").trigger(t,{target:e,region:"intent",type:t,data:n})}})}var s=t(17),u=t(60),c=t(192),d=t(191),l=t(106),f=t(29),h=t(49);e.exports={init:o,openIntent:a}},{106:106,17:17,191:191,192:192,29:29,49:49,60:60}],60:[function(t,e,n){function r(t,e){var n,r=c[t];return"embed/timeline.css"===t&&u.contains(o.href,"localhost.twitter.com")?"/node_modules/syndication-templates/lib/css/index.css":(n=s.retina()?"2x":"default",e&&(n+=".rtl"),i()+"/"+r[n])}function i(t){var e=a.get("host");return d(t)+"://"+e}var o=t(18),a=t(28),s=t(85),u=t(105),c={"embed/timeline.css":{"default":"embed/timeline.93933550310288c77a13ff57ab42950b.default.css","2x":"embed/timeline.93933550310288c77a13ff57ab42950b.2x.css",gif:"embed/timeline.93933550310288c77a13ff57ab42950b.gif.css","default.rtl":"embed/timeline.93933550310288c77a13ff57ab42950b.default.rtl.css","2x.rtl":"embed/timeline.93933550310288c77a13ff57ab42950b.2x.rtl.css","gif.rtl":"embed/timeline.93933550310288c77a13ff57ab42950b.gif.rtl.css"}},d=function(){return/^http\:$/.test(o.protocol)?function(t){return t?"https":"http"}:function(){return"https"}}();e.exports={builtUrl:r,base:i}},{105:105,18:18,28:28,85:85}],61:[function(t,e,n){function r(){var t=36e5,e=a.combined(o)._;return void 0!==i?i:(i=!1,e&&/^\d+$/.test(e)&&(i=+new Date-parseInt(e)<t),i)}var i,o=t(18),a=t(94);e.exports={isDynamicWidget:r}},{18:18,94:94}],62:[function(t,e,n){function r(t){var e=t.split(" ");this.url=decodeURIComponent(e[0].trim()),this.width=+e[1].replace(/w$/,"").trim()}function i(t,e,n){var i,o,a,s;if(t=p.devicePixelRatio?t*p.devicePixelRatio:t,o=e.split(",").map(function(t){return new r(t.trim())}),n)for(s=0;s<o.length;s++)o[s].url===n&&(i=o[s]);return a=o.reduce(function(e,n){return n.width<e.width&&n.width>=t?n:e},o[0]),i&&i.width>a.width?i:a}function o(t,e){var n,r=t.getAttribute("data-srcset"),o=t.src;r&&(n=i(e,r,o),t.src=n.url)}function a(t,e){e=void 0!==e?!!e:v.retina(),m.toRealArray(t.getElementsByTagName("IMG")).forEach(function(t){var n=t.getAttribute("data-src-1x")||t.getAttribute("src"),r=t.getAttribute("data-src-2x");e&&r?t.src=r:n&&(t.src=n)})}function s(t,e,n){t&&(m.toRealArray(t.querySelectorAll(".NaturalImage-image")).forEach(function(t){n(function(){o(t,e)})}),m.toRealArray(t.querySelectorAll(".CroppedImage-image")).forEach(function(t){n(function(){o(t,e/2)})}),m.toRealArray(t.querySelectorAll("img.autosized-media")).forEach(function(t){n(function(){o(t,e),t.removeAttribute("width"),t.removeAttribute("height")})}))}function u(t,e,n,r){t&&((v.ios()||v.android())&&m.toRealArray(t.querySelectorAll(".FilledIframe")).forEach(function(t){r(function(){l(t,{width:t.offsetWidth,height:t.offsetHeight})})}),m.toRealArray(t.querySelectorAll("iframe.autosized-media")).forEach(function(t){var i=d(t.getAttribute("data-width"),t.getAttribute("data-height"),w.effectiveWidth(t.parentElement)||e,n);r(function(){t.width=i.width,t.height=i.height,l(t,i)})}))}function c(t,e,n,r){s(t,e,r),u(t,e,n,r)}function d(t,e,n,r,i,o){return n=n||t,r=r||e,i=i||0,o=o||0,t>n&&(e*=n/t,t=n),e>r&&(t*=r/e,e=r),i>t&&(e*=i/t,t=i),o>e&&(t*=o/e,e=o),{width:Math.floor(t),height:Math.floor(e)}}function l(t,e){function n(){var t={name:"tfw:resize",dimensions:e};i.postMessage(t,"*")}var r,i,o,a,s;t&&(i=t.contentWindow,r=t.ownerDocument&&t.ownerDocument.defaultView,o=v.ios()||v.android(),a=g.isTwitterURL(t.src),s=i&&v.canPostMessage(i),o&&a&&s&&(n(),r&&r.addEventListener("message",function(t){"tfw:requestsize"===t.data&&n()},!1)))}function f(t,e,n,r){m.toRealArray(t.querySelectorAll(e)).forEach(function(t){var e=t.getAttribute("style")||t.getAttribute("data-style"),i=r.test(e)&&RegExp.$1;i&&(t.setAttribute("data-csp-fix",!0),t.style[n]=i)})}function h(t){v.cspEnabled()&&(f(t,".MediaCard-widthConstraint","maxWidth",b),f(t,".MediaCard-mediaContainer","paddingBottom",E),f(t,".CroppedImage-image","top",y),f(t,".CroppedImage-image","left",x))}var p=t(20),m=t(105),v=t(85),g=t(101),w=t(16),b=/max-width:\s*([\d\.]+px)/,y=/top:\s*(\-?[\d\.]+%)/,x=/left:\s*(\-?[\d\.]+%)/,E=/padding-bottom:\s*([\d\.]+%)/;e.exports={scaleDimensions:d,retinize:a,setSrcForImgs:s,sizeIframes:u,constrainMedia:c,fixMediaCardLayout:h,__setSrcFromSet:o}},{101:101,105:105,16:16,20:20,85:85}],63:[function(t,e,n){function r(t){(new o).attachReceiver(new a.Receiver(i,"twttr.resize")).bind("twttr.private.resizeButton",function(e){var n=u(this),r=n&&n.id,i=s.asInt(e.width),o=s.asInt(e.height);r&&i&&o&&t(r,i,o)})}var i=t(20),o=t(38),a=t(39),s=t(102),u=t(87);e.exports=r},{102:102,20:20,38:38,39:39,87:87}],64:[function(t,e,n){function r(t){c.open(t)}function i(e,n){var r=t(59);r.openIntent(e,n)}function o(t,e){u.isTwitterURL(t)&&(l.get("eventsHub")&&e?(f.add(s.generate(),e),i(t,e),d.get("events").trigger("click",{target:e,region:"intent",type:"click",data:{}})):r(t))}function a(t){this.srcEl=[],this.element=t}var s=t(103),u=t(101),c=t(33),d=t(29),l=t(28),f=t(49);a.open=o,e.exports=a},{101:101,103:103,28:28,29:29,33:33,49:49,59:59}],65:[function(t,e,n){function r(){o.set("eventsHub",s.init()),s.init(!0)}function i(){return o.get("eventsHub")?a.get("events"):{}}var o=t(28),a=t(29),s=t(59),u=t(86),c=t(105),d=c.aug(i(),u.Emitter),l=d.bind;d.bind=function(t,e){r(),this.bind=l,this.bind(t,e)},e.exports=d},{105:105,28:28,29:29,59:59,86:86}],66:[function(t,e,n){e.exports=[t(117),t(175),t(152),t(168),t(183),t(124)]},{117:117,124:124,152:152,168:168,175:175,183:183}],67:[function(t,e,n){var r=t(105);e.exports=r.aug({},t(116),t(174),t(167),t(150),t(182))},{105:105,116:116,150:150,167:167,174:174,182:182}],68:[function(t,e,n){var r,i=t(95),o=t(17),a=t(21),s=t(28),u=t(29),s=t(28),c=t(32),d=t(36),l=t(65),f=t(69),h=t(67),p=t(78),m=t(79),v="_e";s.set("widgets.init",!0),u.set("init",!0),r=new i,a.exposeReadyPromise(r.promise,u.base,v),u.set("widgets",h),u.set("widgets.load",f.load),u.set("events",l),s.init("host","platform.twitter.com"),m(function(){r.resolve(u.base),c.attachTo(o),d.start("widgets-js-load"),f.loadPage().then(function(){d.endAndTrack("render","widgets-js-load","page",{widget_origin:p.rootDocumentLocation(),widget_frame:p.isFramed()&&p.currentDocumentLocation()})})})},{17:17,21:21,28:28,29:29,32:32,36:36,65:65,67:67,69:69,78:78,79:79,95:95}],69:[function(t,e,n){function r(t){return t.reduce(function(t,e){return t.concat(m.reduce(function(t,n){return t.concat(n(e))},[]))},[])}function i(){var t=d.val("widgets:autoload")||!0;return h.isFalseValue(t)?!1:h.isTruthValue(t)?u.body:u.querySelectorAll(t)}function o(t){return t=t||u.body,t=t.length?p.toRealArray(t):[t],s.all(r(t).map(function(t){return c.addWidget(t)})).then(function(t){f.trigger("loaded",{widgets:t})})}function a(){var t=i();return t===!1?s.resolve():(l.set("widgets.loaded",!0),o(t))}var s=t(96),u=t(17),c=t(34),d=t(27),l=t(28),f=t(65),h=t(102),p=t(105),m=t(66);e.exports={load:o,loadPage:a,_getPageLoadTarget:i}},{102:102,105:105,17:17,27:27,28:28,34:34,65:65,66:66,96:96}],70:[function(t,e,n){function r(t,e){return function(){var n,r=this,i=arguments;return n=e.apply(this,arguments),a.isPromise(n)?n.then(function(){return t.apply(r,i)}):t.apply(this,arguments)}}function i(t,e){return function(){function n(t,e){return a.isPromise(e)?e.then(function(){return t}):t}var r,i=this,o=arguments;return r=t.apply(this,arguments),a.isPromise(r)?r.then(function(t){return n(t,e.apply(i,o))}):n(r,e.apply(this,arguments))}}function o(t,e){return function(){var n=s.toRealArray(arguments);return n.unshift(u(t,this)),e.apply(this,n)}}var a=t(97),s=t(105),u=t(88);e.exports={before:r,after:i,around:o}},{105:105,88:88,97:97}],71:[function(t,e,n){function r(t){var e=[];return t.forEach(function(t){var n=i.isType("array",t)?r(t):[t];e=e.concat(n)}),e}var i=t(105);e.exports=r},{105:105}],72:[function(t,e,n){function r(t,e){return t.reduce(function(t,n){var r=e(n);return t[r]=t[r]||[],t[r].push(n),t},{})}e.exports=r},{}],73:[function(t,e,n){function r(t){return t.filter(function(e,n){return t.indexOf(e)===n})}e.exports=r},{}],74:[function(t,e,n){var r=t(1).Promise;e.exports=r._asap},{1:1}],75:[function(t,e,n){function r(t){this.inputsQueue=[],this.task=t,this.hasFlushBeenScheduled=!1}var i=t(95),o=t(74),a=t(88);r.prototype.add=function(t){var e=new i;return this.inputsQueue.push({input:t,taskDoneDeferred:e}),this.hasFlushBeenScheduled||(this.hasFlushBeenScheduled=!0,o(a(this._flush,this))),e.promise},r.prototype._flush=function(){try{this.task.call(null,this.inputsQueue)}catch(t){this.inputsQueue.forEach(function(e){e.taskDoneDeferred.reject(t)})}this.inputsQueue=[],this.hasFlushBeenScheduled=!1},e.exports=r},{74:74,88:88,95:95}],76:[function(t,e,n){function r(t){return u.parseInt(t,16)}function i(t){return c.isType("string",t)?(t=t.replace(d,""),t+=3===t.length?t:""):null}function o(t,e){var n,o,a,s;return t=i(t),e=e||0,t?(n=0>e?0:255,e=0>e?-Math.max(e,-1):Math.min(e,1),o=r(t.substring(0,2)),a=r(t.substring(2,4)),s=r(t.substring(4,6)),"#"+(16777216+65536*(Math.round((n-o)*e)+o)+256*(Math.round((n-a)*e)+a)+(Math.round((n-s)*e)+s)).toString(16).slice(1)):void 0}function a(t,e){return o(t,-e)}function s(t,e){return o(t,e)}var u=t(20),c=t(105),d=/^#/;e.exports={darken:a,lighten:s}},{105:105,20:20}],77:[function(t,e,n){var r=t(17),i=t(102),o=r.createElement("div");e.exports=function(t){return i.isNumber(t)&&(t+="px"),o.style.width="",o.style.width=t,o.style.width||null}},{102:102,17:17}],78:[function(t,e,n){function r(t){return t&&u.isType("string",t)&&(c=t),c}function i(){return d}function o(){return c!==d}var a=t(18),s=t(104),u=t(105),c=s.getCanonicalURL()||a.href,d=c;e.exports={isFramed:o,rootDocumentLocation:r,currentDocumentLocation:i}},{104:104,105:105,18:18}],79:[function(t,e,n){function r(){c=1;for(var t=0,e=d.length;e>t;t++)d[t]()}var i,o,a,s=t(17),u=t(20),c=0,d=[],l=!1,f=s.createElement("a");/^loade|c/.test(s.readyState)&&(c=1),s.addEventListener&&s.addEventListener("DOMContentLoaded",o=function(){s.removeEventListener("DOMContentLoaded",o,l),r()},l),f.doScroll&&s.attachEvent("onreadystatechange",i=function(){/^c/.test(s.readyState)&&(s.detachEvent("onreadystatechange",i),r())}),a=f.doScroll?function(t){u.self!=u.top?c?t():d.push(t):!function(){try{f.doScroll("left")}catch(e){return setTimeout(function(){a(t)},50)}t()}()}:function(t){c?t():d.push(t)},e.exports=a},{17:17,20:20}],80:[function(t,e,n){function r(){f=!0}function i(t,e){return f?!0:d.asBoolean(l.val("dnt"))?!0:!s||1!=s.doNotTrack&&1!=s.msDoNotTrack?c.isUrlSensitive(e||a.host)?!0:u.isFramed()&&c.isUrlSensitive(u.rootDocumentLocation())?!0:(t=h.test(t||o.referrer)&&RegExp.$1,t&&c.isUrlSensitive(t)?!0:!1):!0}var o=t(17),a=t(18),s=t(19),u=t(78),c=t(100),d=t(102),l=t(27),f=!1,h=/https?:\/\/([^\/]+).*/i;e.exports={setOn:r,enabled:i}},{100:100,102:102,17:17,18:18,19:19,27:27,78:78}],81:[function(t,e,n){function r(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}}e.exports=r},{}],82:[function(t,e,n){function r(t){var e;if(t)return e=t.lang||t.getAttribute("data-lang"),e?e:r(t.parentElement)}e.exports=r},{}],83:[function(t,e,n){function r(t,e){return a?a.call(t,e):void 0}var i=t(20),o=i.HTMLElement,a=o.prototype.matches||o.prototype.matchesSelector||o.prototype.webkitMatchesSelector||o.prototype.mozMatchesSelector||o.prototype.msMatchesSelector||o.prototype.oMatchesSelector;e.exports=r},{20:20}],84:[function(t,e,n){function r(t,e){return o(t,e)?[t]:i.toRealArray(t.querySelectorAll(e))}var i=t(105),o=t(83);e.exports=r},{105:105,83:83}],85:[function(t,e,n){function r(t){return t=t||v,t.devicePixelRatio?t.devicePixelRatio>=1.5:t.matchMedia?t.matchMedia("only screen and (min-resolution: 144dpi)").matches:!1}function i(t){return t=t||_,/(Trident|MSIE \d)/.test(t)}function o(t){return t=t||_,/MSIE 9/.test(t)}function a(t){return t=t||_,/(iPad|iPhone|iPod)/.test(t)}function s(t){return t=t||_,/^Mozilla\/5\.0 \(Linux; (U; )?Android/.test(t)}function u(){return T}function c(t,e){return t=t||v,e=e||_,t.postMessage&&!(i(e)&&t.opener)}function d(t){t=t||m;try{return!!t.plugins["Shockwave Flash"]||!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){return!1}}function l(t,e,n){return t=t||v,e=e||m,n=n||_,"ontouchstart"in t||/Opera Mini/.test(n)||e.msMaxTouchPoints>0}function f(){var t=p.body.style;return void 0!==t.transition||void 0!==t.webkitTransition||void 0!==t.mozTransition||void 0!==t.oTransition||void 0!==t.msTransition}function h(){return!!(v.Promise&&v.Promise.resolve&&v.Promise.reject&&v.Promise.all&&v.Promise.race&&function(){var t;return new v.Promise(function(e){t=e}),y.isType("function",t)}())}var p=t(17),m=t(19),v=t(20),g=t(79),w=t(92),b=t(102),y=t(105),x=t(27),E=t(28),_=m.userAgent,T=!1,A=!1,I="twitter-csp-test";E.set("verifyCSP",function(t){var e=p.getElementById(I);A=!0,T=!!t,e&&e.parentNode.removeChild(e)}),g(function(){var t;return b.asBoolean(x.val("widgets:csp"))?T=!0:(t=p.createElement("script"),t.id=I,t.text=E.fullPath("verifyCSP")+"(false);",p.body.appendChild(t),void v.setTimeout(function(){A||(w.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),w.warn("TWITTER: Please note: Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied."))},5e3))}),e.exports={retina:r,anyIE:i,ie9:o,ios:a,android:s,cspEnabled:u,flashEnabled:d,canPostMessage:c,touch:l,cssTransitions:f,hasPromiseSupport:h}},{102:102,105:105,17:17,19:19,20:20,27:27,28:28,79:79,92:92}],86:[function(t,e,n){var r=t(105),i=t(88),o={bind:function(t,e){return this._handlers=this._handlers||{},this._handlers[t]=this._handlers[t]||[],this._handlers[t].push(e)},unbind:function(t,e){if(this._handlers[t])if(e){var n=this._handlers[t].indexOf(e);n>=0&&this._handlers[t].splice(n,1)}else this._handlers[t]=[]},trigger:function(t,e){var n=this._handlers&&this._handlers[t];e=e||{},e.type=t,n&&n.forEach(function(t){r.async(i(t,this,e))})}};e.exports={Emitter:o}},{105:105,88:88}],87:[function(t,e,n){function r(t){for(var e,n=i.getElementsByTagName("iframe"),r=0;e=n[r];r++)if(e.contentWindow===t)return e}var i=t(17);e.exports=r},{17:17}],88:[function(t,e,n){var r=t(105);e.exports=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){var i=r.toRealArray(arguments);return t.apply(e,n.concat(i))}}},{105:105}],89:[function(t,e,n){function r(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}}e.exports=r},{}],90:[function(t,e,n){function r(t,e,n){function r(){var s=n||this,u=arguments,c=+new Date;return i.clearTimeout(o),c-a>e?(a=c,void t.apply(s,u)):void(o=i.setTimeout(function(){r.apply(s,u)},e))}var o,a=0;return n=n||null,r}var i=t(20);e.exports=r},{20:20}],91:[function(t,e,n){var r=t(17),i=t(105);e.exports=function(t,e,n){var o;if(n=n||r,t=t||{},e=e||{},t.name){try{o=n.createElement('<iframe name="'+t.name+'"></iframe>')}catch(a){o=n.createElement("iframe"),o.name=t.name}delete t.name}else o=n.createElement("iframe");return t.id&&(o.id=t.id,delete t.id),o.allowtransparency="true",o.scrolling="no",o.setAttribute("frameBorder",0),o.setAttribute("allowTransparency",!0),i.forIn(t,function(t,e){o.setAttribute(t,e)}),i.forIn(e,function(t,e){o.style[t]=e}),o}},{105:105,17:17}],92:[function(t,e,n){function r(){c("info",f.toRealArray(arguments))}function i(){c("warn",f.toRealArray(arguments))}function o(){c("error",f.toRealArray(arguments))}function a(t){m&&(p[t]=u())}function s(t){var e;m&&(p[t]?(e=u(),r("_twitter",t,e-p[t])):o("timeEnd() called before time() for id: ",t))}function u(){return l.performance&&+l.performance.now()||+new Date}function c(t,e){if(l[h]&&l[h][t])switch(e.length){case 1:l[h][t](e[0]);break;case 2:l[h][t](e[0],e[1]);break;case 3:l[h][t](e[0],e[1],e[2]);break;case 4:l[h][t](e[0],e[1],e[2],e[3]);break;case 5:l[h][t](e[0],e[1],e[2],e[3],e[4]);break;default:0!==e.length&&l[h].warn&&l[h].warn("too many params passed to logger."+t)}}var d=t(18),l=t(20),f=t(105),h=["con","sole"].join(""),p={},m=f.contains(d.href,"tw_debug=true");e.exports={info:r,warn:i,error:o,time:a,timeEnd:s}},{105:105,18:18,20:20}],93:[function(t,e,n){function r(t){
return function(e){return o.hasValue(e[t])}}function i(){this.assertions=[],this._defaults={}}var o=t(102),a=t(105);i.prototype.assert=function(t,e){return this.assertions.push({fn:t,msg:e||"assertion failed"}),this},i.prototype.defaults=function(t){return this._defaults=t||this._defaults,this},i.prototype.require=function(t){var e=this;return t=Array.isArray(t)?t:a.toRealArray(arguments),t.forEach(function(t){e.assert(r(t),"required: "+t)}),this},i.prototype.parse=function(t){var e,n;if(e=a.aug({},this._defaults,t||{}),n=this.assertions.reduce(function(t,n){return n.fn(e)||t.push(n.msg),t},[]),n.length>0)throw new Error(n.join("\n"));return e},e.exports=i},{102:102,105:105}],94:[function(t,e,n){var r,i,o,a=t(98);r=function(t){var e=t.search.substr(1);return a.decode(e)},i=function(t){var e=t.href,n=e.indexOf("#"),r=0>n?"":e.substring(n+1);return a.decode(r)},o=function(t){var e,n={},o=r(t),a=i(t);for(e in o)o.hasOwnProperty(e)&&(n[e]=o[e]);for(e in a)a.hasOwnProperty(e)&&(n[e]=a[e]);return n},e.exports={combined:o,fromQuery:r,fromFragment:i}},{98:98}],95:[function(t,e,n){function r(){var t=this;this.promise=new i(function(e,n){t.resolve=e,t.reject=n})}var i=t(96);e.exports=r},{96:96}],96:[function(t,e,n){var r=t(1).Promise,i=t(20),o=t(85);e.exports=o.hasPromiseSupport()?i.Promise:r},{1:1,20:20,85:85}],97:[function(t,e,n){function r(t,e){return t.then(e,e)}function i(t){var e;return t=t||[],e=t.length,t=t.filter(o),e?e!==t.length?a.reject("non-Promise passed to .some"):new a(function(e,n){function r(){i+=1,i===t.length&&n()}var i=0;t.forEach(function(t){t.then(e,r)})}):a.reject("no promises passed to .some")}function o(t){return t instanceof a}var a=t(96);e.exports={always:r,some:i,isPromise:o}},{96:96}],98:[function(t,e,n){function r(t){return encodeURIComponent(t).replace(/\+/g,"%2B").replace(/'/g,"%27")}function i(t){return decodeURIComponent(t)}function o(t){var e=[];return d.forIn(t,function(t,n){var i=r(t);d.isType("array",n)||(n=[n]),n.forEach(function(t){c.hasValue(t)&&e.push(i+"="+r(t))})}),e.sort().join("&")}function a(t){var e,n={};return t?(e=t.split("&"),e.forEach(function(t){var e=t.split("="),r=i(e[0]),o=i(e[1]);return 2==e.length?d.isType("array",n[r])?void n[r].push(o):r in n?(n[r]=[n[r]],void n[r].push(o)):void(n[r]=o):void 0}),n):{}}function s(t,e){var n=o(e);return n.length>0?d.contains(t,"?")?t+"&"+o(e):t+"?"+o(e):t}function u(t){var e=t&&t.split("?");return 2==e.length?a(e[1]):{}}var c=t(102),d=t(105);e.exports={url:s,decodeURL:u,decode:a,encode:o,encodePart:r,decodePart:i}},{102:102,105:105}],99:[function(t,e,n){function r(t,e){return t.replace(i,function(t,n){return void 0!==e[n]?e[n]:t})}var i=/\{\{([\w_]+)\}\}/g;e.exports=r},{}],100:[function(t,e,n){function r(t){return t in s?s[t]:s[t]=a.test(t)}function i(){return r(o.host)}var o=t(18),a=/^[^#?]*\.(gov|mil)(:\d+)?([#?].*)?$/i,s={};e.exports={isUrlSensitive:r,isHostPageSensitive:i}},{18:18}],101:[function(t,e,n){function r(t){return"string"==typeof t&&v.test(t)&&RegExp.$1.length<=20}function i(t){return r(t)?RegExp.$1:void 0}function o(t,e){var n=m.decodeURL(t);return e=e||!1,n.screen_name=i(t),n.screen_name?m.url("https://twitter.com/intent/"+(e?"follow":"user"),n):void 0}function a(t){return o(t,!0)}function s(t){return"string"==typeof t&&y.test(t)}function u(t,e){return e=void 0===e?!0:e,s(t)?(e?"#":"")+RegExp.$1:void 0}function c(t){return"string"==typeof t&&g.test(t)}function d(t){return c(t)&&RegExp.$1}function l(t){return w.test(t)}function f(t){return b.test(t)}function h(t){return x.test(t)}function p(t){return E.test(t)&&RegExp.$1}var m=t(98),v=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,g=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,w=/^http(s?):\/\/(\w+\.)*twitter\.com([\:\/]|$)/i,b=/^http(s?):\/\/pbs\.twimg\.com\//,y=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/,x=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,E=/^https?:\/\/(?:www\.)?twitter\.com\/i\/moments\/(\d+)/i;e.exports={isHashTag:s,hashTag:u,isScreenName:r,screenName:i,isStatus:c,status:d,intentForProfileURL:o,intentForFollowURL:a,isTwitterURL:l,isTwimgURL:f,isIntentURL:h,regexen:{profile:v},momentId:p}},{98:98}],102:[function(t,e,n){function r(t){return void 0!==t&&null!==t&&""!==t}function i(t){return a(t)&&t%1===0}function o(t){return a(t)&&!i(t)}function a(t){return r(t)&&!isNaN(t)}function s(t){return r(t)&&"array"==p.toType(t)}function u(t){return p.contains(v,t)}function c(t){return p.contains(m,t)}function d(t){return r(t)?c(t)?!0:u(t)?!1:!!t:!1}function l(t){return a(t)?t:void 0}function f(t){return o(t)?t:void 0}function h(t){return i(t)?t:void 0}var p=t(105),m=[!0,1,"1","on","ON","true","TRUE","yes","YES"],v=[!1,0,"0","off","OFF","false","FALSE","no","NO"];e.exports={hasValue:r,isInt:i,isFloat:o,isNumber:a,isArray:s,isTruthValue:c,isFalseValue:u,asInt:h,asFloat:f,asNumber:l,asBoolean:d}},{105:105}],103:[function(t,e,n){function r(){return o+String(+new Date)+Math.floor(1e5*Math.random())+a++}function i(){return o+String(s++)}var o="i",a=0,s=0;e.exports={generate:r,deterministic:i}},{}],104:[function(t,e,n){function r(t,e){var n,r;return e=e||s,/^https?:\/\//.test(t)?t:/^\/\//.test(t)?e.protocol+t:(n=e.host+(e.port.length?":"+e.port:""),0!==t.indexOf("/")&&(r=e.pathname.split("/"),r.pop(),r.push(t),t="/"+r.join("/")),[e.protocol,"//",n,t].join(""))}function i(){for(var t,e=a.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"==t.rel)return r(t.href)}function o(){for(var t,e,n,r=a.getElementsByTagName("a"),i=a.getElementsByTagName("link"),o=[r,i],s=0,c=0,d=/\bme\b/;t=o[s];s++)for(c=0;e=t[c];c++)if(d.test(e.rel)&&(n=u.screenName(e.href)))return n}var a=t(17),s=t(18),u=t(101);e.exports={absolutize:r,getCanonicalURL:i,getScreenNameFromPage:o}},{101:101,17:17,18:18}],105:[function(t,e,n){function r(t){return l(arguments).slice(1).forEach(function(e){o(e,function(e,n){t[e]=n})}),t}function i(t){return o(t,function(e,n){u(n)&&(i(n),c(n)&&delete t[e]),(void 0===n||null===n||""===n)&&delete t[e]}),t}function o(t,e){for(var n in t)(!t.hasOwnProperty||t.hasOwnProperty(n))&&e(n,t[n]);return t}function a(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function s(t,e){return t==a(e)}function u(t){return t===Object(t)}function c(t){if(!u(t))return!1;if(Object.keys)return!Object.keys(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function d(t,e){h.setTimeout(function(){t.call(e||null)},0)}function l(t){return Array.prototype.slice.call(t)}function f(t,e){return t&&t.indexOf?t.indexOf(e)>-1:!1}var h=t(20);e.exports={aug:r,async:d,compact:i,contains:f,forIn:o,isObject:u,isEmptyObject:c,toType:a,isType:s,toRealArray:l}},{20:20}],106:[function(t,e,n){function r(){if(o)return o;if(c.isDynamicWidget()){var t,e=0,n=u.parent.frames.length;try{if(o=u.parent.frames[f])return o}catch(r){}if(d.anyIE())for(;n>e;e++)try{if(t=u.parent.frames[e],t&&"function"==typeof t.openIntent)return o=t}catch(r){}}}function i(){var t,e,n,o,s,d,l={};if("function"===(typeof arguments[0]).toLowerCase()?l.success=arguments[0]:l=arguments[0],t=l.success||function(){},e=l.timeout||function(){},n=l.nohub||function(){},o=l.complete||function(){},s=void 0!==l.attempt?l.attempt:m,!c.isDynamicWidget()||a)return n(),o(),!1;d=r(),s--;try{if(d&&d.trigger)return t(d),void o()}catch(f){}return 0>=s?(a=!0,e(),void o()):+new Date-h>p*m?(a=!0,void n()):void u.setTimeout(function(){i({success:t,timeout:e,nohub:n,attempt:s,complete:o})},p)}var o,a,s=t(18),u=t(20),c=t(61),d=t(85),l="twttrHubFrameSecure",f="http:"==s.protocol?"twttrHubFrame":l,h=+new Date,p=100,m=20;e.exports={withHub:i,contextualHubId:f,secureHubId:l}},{18:18,20:20,61:61,85:85}],107:[function(t,e,n){function r(t){return i.test(t)}var i=/^#(?:[a-f\d]{3}){1,2}$/i;e.exports=r},{}],108:[function(t,e,n){function r(t){return i.isType("string",t)}var i=t(105);e.exports=r},{105:105}],109:[function(t,e,n){function r(t){return"en"===t||i.contains(o,t)}var i=t(105),o=t(30);e.exports=r},{105:105,30:30}],110:[function(t,e,n){function r(t){return i.test(t)}var i=/^(dark|light)$/;e.exports=r},{}],111:[function(t,e,n){e.exports={version:"b6b62a0:1440535324533"}},{}],112:[function(t,e,n){e.exports={css:"a628960e3573c02b8650fcbd305178b9"}},{}],113:[function(t,e,n){function r(t){t=i.parse(t),this.rootEl=t.rootEl,this.videoEl=t.videoEl,this.playButtonEl=t.playButtonEl,this.fallbackUrl=t.fallbackUrl,this.player=new c({videoEl:this.videoEl,loop:!0,autoplay:!1}),this._attachClickListener()}var i,o=t(11),a=t(12),s=t(20),u=t(93),c=t(114);i=(new u).require("rootEl","videoEl","playButtonEl").defaults({fallbackUrl:null}),r.prototype._attachClickListener=function(){function t(t){a.stopPropagation(t),e._togglePlayer()}var e=this;this.videoEl.addEventListener("click",t,!1),this.playButtonEl.addEventListener("click",t,!1)},r.prototype._togglePlayer=function(){return this.player.hasPlayableSource()?(this.player.toggle(),void o.toggle(this.rootEl,"is-playing",!this.player.isPaused())):void(this.fallbackUrl&&s.open(this.fallbackUrl))},e.exports=r},{11:11,114:114,12:12,20:20,93:93}],114:[function(t,e,n){function r(t){var e;t=i.parse(t),this.videoEl=t.videoEl,"loop"in t&&(this.videoEl.loop=t.loop),"autoplay"in t&&(this.videoEl.autoplay=t.autoplay),"poster"in t&&(this.videoEl.poster=t.poster),e=s.toRealArray(this.videoEl.querySelectorAll("source")),this.sourceTypes=e.map(function(t){return t.type})}var i,o=t(17),a=t(93),s=t(105);i=(new a).require("videoEl"),r.prototype.isPaused=function(){return this.videoEl.paused},r.prototype.play=function(){return this.videoEl.play(),this},r.prototype.pause=function(){return this.videoEl.pause(),this},r.prototype.toggle=function(){return this.videoEl.paused?this.play():this.pause()},r.prototype.addSource=function(t,e){var n=o.createElement("source");return n.src=t,n.type=e,this.sourceTypes.push(e),this.videoEl.appendChild(n),this},r.prototype.hasPlayableSource=function(){var t=this.videoEl;return t.canPlayType?this.sourceTypes.reduce(function(e,n){return e||!!t.canPlayType(n).replace("no","")},!1):!1},r.prototype.setDimensions=function(t,e){return this.videoEl.width=t,this.videoEl.height=e,this},e.exports=r},{105:105,17:17,93:93}],115:[function(t,e,n){function r(t,e){return t&&t.getAttribute?t.getAttribute("data-"+e):void 0}function i(t,e){return{element:t.element||g,action:t.action||w,page:o(e)?"video":void 0}}function o(t){return l.closest(".embedded-video",t)}function a(t){var e=l.closest(".tweet",t),n=!e&&l.closest(".EmbeddedTweet",t);return n&&(e=n.querySelector(".tweet.subject")),e}function s(t){return JSON.parse(r(o(t),"player-config"))}function u(t,e){var n,i,s,u=o(e);return u?n=d.aug({item_type:m,card_type:v,id:r(u,"tweet-id"),card_name:r(u,"card-name"),publisher_id:r(u,"publisher-id"),content_id:r(u,"content-id")},t.itemData||{}):(i=l.closest(".cards-multimedia",e),s=a(e),n=d.aug({item_type:m,card_type:v,id:r(s,"tweet-id"),card_name:r(i,"card-name"),publisher_id:r(i,"publisher-id"),content_id:r(i,"video-content-id")},t.itemData||{})),{items:[n]}}function c(t){var e=this;this.global=t,this.server=(new f).attachReceiver(new p.Receiver(t,"")).bind("scribe",function(t){e.scribe(t,this)}).bind("requestPlayerConfig",function(){return e.requestPlayerConfig(this)})}var d=t(105),l=t(13),f=t(38),h=t(56),p=t(39),m=0,v=6,g="amplify_player",w="undefined";c.prototype.findIframeByWindow=function(t){for(var e=this.global.document.getElementsByTagName("iframe"),n=e.length,r=0;n>r;r++)if(e[r].contentWindow==t)return e[r]},c.prototype.requestPlayerConfig=function(t){var e=this.findIframeByWindow(t);if(e)return s(e)},c.prototype.scribe=function(t,e){var n,r,o,a;n=t&&t.customScribe,r=this.findIframeByWindow(e),n&&r&&(o=i(n,r),a=u(n,r),h.clientEvent2(o,a,!0))},e.exports=c},{105:105,13:13,38:38,39:39,56:56}],116:[function(t,e,n){var r=t(120),i=t(180),o=i(["screenName"],{},r);e.exports={createFollowButton:o}},{120:120,180:180}],117:[function(t,e,n){function r(t){var e=s(t),n={screenName:o.screenName(t.href),showScreenName:"false"!==t.getAttribute("data-show-screen-name"),showCount:"false"!==t.getAttribute("data-show-count"),size:t.getAttribute("data-size"),count:t.getAttribute("data-count"),align:t.getAttribute("data-align"),preview:t.getAttribute("data-preview")};return a.forIn(n,function(t,n){var r=e[t];e[t]=d.hasValue(r)?r:n}),e}function i(t){var e=u(t,l);return e.map(function(t){return c(r(t),t.parentNode,t)})}var o=t(101),a=t(105),s=t(179),u=t(181)(),c=t(120),d=t(102),l="a.twitter-follow-button";e.exports=i},{101:101,102:102,105:105,120:120,179:179,181:181}],118:[function(t,e,n){function r(t){return"large"===t?"l":"m"}function i(t){t.params({screenName:{required:!0},lang:{fallback:"en",validate:p},size:{fallback:"medium",transform:r},showScreenName:{fallback:!0},showCount:{fallback:!0},partner:{fallback:h(s.val,s,"partner")},count:{},align:{},preview:{}}),t.define("getUrlParams",function(){return l.compact({id:this.id,lang:this.params.lang,size:this.params.size,screen_name:this.params.screenName,show_count:"none"===this.params.count?!1:this.params.showCount,show_screen_name:this.params.showScreenName,preview:this.params.preview,align:this.params.align,partner:this.params.partner,dnt:c.enabled(),_:+new Date})}),t.around("widgetDataAttributes",function(t){return l.aug({"screen-name":this.params.screenName},t())}),t.override("render",function(){var t=d(m,{lang:this.params.lang}),e=f.encode(this.getUrlParams()),n=u.base()+t+"#"+e;return o.all([this.sandbox.addClass(v),this.sandbox.loadDocument(n)])})}var o=t(96),a=t(123),s=t(27),u=t(60),c=t(80),d=t(99),l=t(105),f=t(98),h=t(88),p=t(109),m="/widgets/follow_button.8a755018e6a97b17947c10de5373fa76.{{lang}}.html",v="twitter-follow-button";e.exports=a.couple(t(149),i)},{105:105,109:109,123:123,149:149,27:27,60:60,80:80,88:88,96:96,98:98,99:99}],119:[function(t,e,n){var r=t(123);e.exports=r.build([t(118)])},{118:118,123:123}],120:[function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-follow-button",t,e,n)}var i=t(35),o=t(119),a=t(42);e.exports=r},{119:119,35:35,42:42}],121:[function(t,e,n){function r(){function t(t,n){e.apply(this,arguments),this.id=l+u.generate(),this.sandbox=n}var e=a();return t.prototype=Object.create(e.prototype),c.aug(t.prototype,{selectors:{},hydrate:function(){return i.resolve()},prepForInsertion:function(){},render:function(){return i.resolve()},resize:function(){return i.resolve()},select:function(t,e){return 1===arguments.length&&(e=t,t=this.el),t?(e=this.selectors[e]||e,c.toRealArray(t.querySelectorAll(e))):[]},selectOne:function(){return this.select.apply(this,arguments)[0]},selectLast:function(){return this.select.apply(this,arguments).pop()},on:function(t,e,n){function r(t){u.addEventListener(t,n,!1)}function i(t){o.delegate(u,t,a,n)}var a,u=this.el;return this.el?(t=(t||"").split(/\s+/),2===arguments.length?n=e:a=e,a=this.selectors[a]||a,n=d(n,this),void t.forEach(a?i:r)):s.fail("el has not been set")}}),t}var i=t(96),o=t(12),a=t(22),s=t(24),u=t(103),c=t(105),d=t(88),l="twitter-widget-";e.exports=r},{103:103,105:105,12:12,22:22,24:24,88:88,96:96}],122:[function(t,e,n){function r(){i.apply(this,arguments),this.Widget=this.Component}var i=t(23),o=t(24),a=t(105),s=t(121);r.prototype=Object.create(i.prototype),a.aug(r.prototype,{factory:s,build:function(){var t=i.prototype.build.apply(this,arguments);return o.ifEnabled(function(){Object.freeze(t.prototype.selectors)}),t},selectors:function(t){var e=this.Widget.prototype.selectors;t=t||{},this.Widget.prototype.selectors=a.aug({},t,e)}}),e.exports=r},{105:105,121:121,23:23,24:24}],123:[function(t,e,n){var r=t(25),i=t(122),o=t(88);r=Object.create(r),r.build=o(r.build,null,i),e.exports=r},{122:122,25:25,88:88}],124:[function(t,e,n){function r(t){var e=u(t),n={momentId:s.momentId(t.href)};return a.forIn(n,function(t,n){var r=e[t];e[t]=o.hasValue(r)?r:n}),e}function i(t){var e=c(t,l);return e.map(function(t){return d(r(t),t.parentNode,t)})}var o=t(102),a=t(105),s=t(101),u=t(179),c=t(181)(),d=t(128),l="a.twitter-moment";e.exports=i},{101:101,102:102,105:105,128:128,179:179,181:181}],125:[function(t,e,n){function r(t){return v+t}function i(t){return"tl_"+t.momentId+"_"+t.instanceId}function o(t){if(!t||!t.headers)throw new Error("unexpected response schema");return{html:t.body}}function a(t){if(t&&t.headers)throw new Error(t.headers.status);throw t instanceof Error?t:new Error(t)}function s(t){var e=r(t.momentId),n=i(t),s={lang:t.lang,t:p(),domain:d.host,dnt:f.enabled()},l=h.compact(s);return u.fetch(e,l,c,n).then(o,a)}var u=t(7),c=t(8),d=t(18),l=t(28),f=t(80),h=t(105),p=t(6),m="https://syndication.twitter.com/moments/",v=l.get("endpoints.gridTimeline")||m;e.exports={gridTimeline:s}},{105:105,18:18,28:28,6:6,7:7,8:8,80:80}],126:[function(t,e,n){function r(t){t.params({momentId:{required:!0},width:{required:!0,fallback:"100%",validate:u,transform:u},instanceId:{required:!0,fallback:l.deterministic},lang:{required:!0,fallback:"en",validate:s}}),t.around("widgetDataAttributes",function(t){return d.aug({"moment-id":this.params.momentId},t())}),t.override("hydrate",function(){var t=this;return a.gridTimeline(this.params).then(function(e){t.html=e.html})}),t.override("render",function(){var t=this;return this.el=this.sandbox.htmlToElement(this.html),this.el?(this.el.lang=this.params.lang,i.all([this.sandbox.appendStyleSheet(o.grid(this.params.lang,this.params.theme)),this.sandbox.styleSelf({display:"inline-block",maxWidth:this.params.width,width:h,minWidth:f})]).then(function(){return t.prepForInsertion(t.el),t.sandbox.injectWidgetEl(t.el)})):i.reject(new Error("unable to render"))}),t.last("render",function(){var t=this.sandbox;return this.sandbox.matchHeightToContent().then(function(){return t.makeVisible()})}),t.last("resize",function(){return this.sandbox.matchHeightToContent()})}var i=t(96),o=t(3),a=t(125),s=t(109),u=t(77),c=t(123),d=t(105),l=t(103),f="180px",h="100%";e.exports=e.exports=c.couple(t(149),r)},{103:103,105:105,109:109,123:123,125:125,149:149,3:3,77:77,96:96}],127:[function(t,e,n){var r=t(123);e.exports=r.build([t(126),t(133),t(135),t(142),t(143),t(130),t(147)],{productName:"grid",narrowBreakpoint:"500"})},{123:123,126:126,130:130,133:133,135:135,142:142,143:143,147:147}],128:[function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-moment",t,e,n)}var i=t(35),o=t(127),a=t(41);e.exports=r},{127:127,35:35,41:41}],129:[function(t,e,n){function r(t){t.params({pageForAudienceImpression:{required:!0}}),t.before("hydrate",function(){i.scribeAudienceImpression(this.params.pageForAudienceImpression)})}var i=t(51);e.exports=r},{51:51}],130:[function(t,e,n){function r(t){t.params({narrowBreakpoint:{required:!0,validate:o.isInt}}),t.define("recalculateBreakpoints",function(){return!this.sandbox.hasRootClass(a)&&this.sandbox.width<=this.params.narrowBreakpoint?this.sandbox.addRootClass(a):this.sandbox.hasRootClass(a)&&this.sandbox.width>this.params.narrowBreakpoint?this.sandbox.removeRootClass(a):i.resolve()}),t.after("render",function(){return this.recalculateBreakpoints()}),t.after("resize",function(){return this.recalculateBreakpoints()})}var i=t(96),o=t(102),a="env-narrow";e.exports=r},{102:102,96:96}],131:[function(t,e,n){function r(t){t.before("render",function(){i.ios()&&this.sandbox.addRootClass("env-ios"),i.ie9()&&this.sandbox.addRootClass("ie9"),i.touch()&&this.sandbox.addRootClass("is-touch")})}var i=t(85);e.exports=r},{85:85}],132:[function(t,e,n){function r(t){t.selectors({followButton:".follow-button"}),t.define("handleFollowButtonClick",function(t,e){var n=s.intentForFollowURL(e.href),r=t.altKey||t.metaKey||t.shiftKey,c=a.ios()||a.android(),d=u.asBoolean(e.getAttribute("data-age-gate"));!n||r||c||d||(o.open(n,this.sandbox.sandboxEl),i.preventDefault(t))}),t.after("render",function(){this.on("click","followButton",function(t,e){this.handleFollowButtonClick(t,e)})})}var i=t(12),o=t(64),a=t(85),s=t(101),u=t(102);e.exports=r},{101:101,102:102,12:12,64:64,85:85}],133:[function(t,e,n){function r(t){t.selectors({gifPlayer:".GifPlayer, .MediaPlayer",gifPlayerVideo:".GifPlayer-video, .MediaPlayer-video",gifPlayerPlayButton:".GifPlayer-playButton, .MediaPlayer-playButton"}),t.after("prepForInsertion",function(t){var e=this;this.select(t,"gifPlayer").forEach(function(t){new i({rootEl:t,videoEl:e.selectOne(t,"gifPlayerVideo"),playButtonEl:e.selectOne(t,"gifPlayerPlayButton"),fallbackUrl:t.getAttribute("data-fallback-url")})})})}var i=t(113);e.exports=r},{113:113}],134:[function(t,e,n){function r(t){t.after("prepForInsertion",function(t){i.retinize(t)})}var i=t(62);e.exports=r},{62:62}],135:[function(t,e,n){function r(t){t.after("prepForInsertion",function(t){o.sizeIframes(t,this.sandbox.width,a,i.sync)}),t.after("resize",function(){o.sizeIframes(this.el,this.sandbox.width,a,i.write)})}var i=t(14),o=t(62),a=375;e.exports=r},{14:14,62:62}],136:[function(t,e,n){function r(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function i(t){return(t||"").split(";").reduce(function(t,e){var n,i;return d.test(e.trim())?(n=RegExp.$1,i=RegExp.$2,t[r(n)]=i):s.warn("unable to parse inline style: "+e),t},{})}function o(t){var e=i(t.getAttribute("data-style"));0!==Object.keys(e).length&&(t.setAttribute("data-csp-fix","true"),c.forIn(e,function(e,n){t.style[e]=n}))}function a(t){t.selectors({cspForcedStyle:".js-cspForcedStyle"}),t.after("prepForInsertion",function(t){u.cspEnabled()&&this.select(t,"cspForcedStyle").forEach(o)})}var s=t(24),u=t(85),c=t(105),d=/^([a-zA-Z-]+):\s*(.+)$/;e.exports=a},{105:105,24:24,85:85}],137:[function(t,e,n){function r(t){return[c+"{color:"+t+";}",d+"{color:"+a.lighten(t,.2)+";}"].join("")}function i(t){t.params({linkColor:{fallback:u(o.val,o,"widgets:link-color"),validate:s}}),t.after("render",function(){this.params.linkColor&&this.sandbox.appendCss(r(this.params.linkColor))})}var o=t(27),a=t(76),s=t(107),u=t(88),c="a, a:visited",d="a:hover, a:focus, a:active";e.exports=i},{107:107,27:27,76:76,88:88}],138:[function(t,e,n){function r(t){t.selectors({fullTimestampToLocalize:".long-permalink time",relativeTimestampToLocalize:".permalink time"}),t.after("prepForInsertion",function(t){var e=s(this.el);e&&(this.select(t,"fullTimestampToLocalize").forEach(function(t){var n=t.getAttribute("datetime"),r=n&&e.localTimeStamp(n);r&&(t.innerHTML=r)}),this.select(t,"relativeTimestampToLocalize").forEach(function(t){var n=t.getAttribute("datetime"),r=n&&e.timeAgo(n);r&&(t.innerHTML=r)}))}),t.define("updateRelativeTimestamps",function(){var t=s(this.el);if(t){var e=this.select("relativeTimestampToLocalize").reduce(function(e,n){var r=n.getAttribute("datetime"),i=r&&t.timeAgo(r);return i&&e.push(function(){n.innerHTML=i}),e},[]);return i.all(e.map(o.write))}}),t.after("render",function(){var t=this;a.setInterval(function(){t.updateRelativeTimestamps()},u)})}var i=t(96),o=t(14),a=t(20),s=t(10),u=6e4;e.exports=r},{10:10,14:14,20:20,96:96}],139:[function(t,e,n){function r(t){t.selectors({mediaCard:".MediaCard",mediaCardNsfwDismissalTarget:".MediaCard-dismissNsfw"}),t.define("dismissNsfwWarning",function(t,e){var n=i.closest(this.selectors.mediaCard,e,this.el);n&&o.remove(n,"is-nsfw")}),t.after("render",function(){this.on("click","mediaCardNsfwDismissalTarget",this.dismissNsfwWarning)})}var i=t(13),o=t(11);e.exports=r},{11:11,13:13}],140:[function(t,e,n){function r(t){t.selectors({prerenderedCard:".PrerenderedCard"}),t.define("scribeCardShown",function(t){var e=2;this.scribe({component:"card",action:"shown"},{items:[{card_name:t.getAttribute("data-card-name")}]},e)}),t.define("displayCardEl",function(t){function e(){r&&n.sandbox.matchHeightToContent()}var n=this,r=!1;return this.select(t,"img").forEach(function(t){t.addEventListener("load",e,!1)}),this.scribeCardShown(t),o.write(function(){i.add(t,"is-ready")}).then(function(){r=!0,n.sandbox.matchHeightToContent()})}),t.after("prepForInsertion",function(t){var e=this,n=this.select(t,"prerenderedCard").reduce(function(t,e){var n=e.getAttribute("data-css");return n&&(t[n]=t[n]||[],t[n].push(e)),t},{});a.forIn(n,function(t,n){e.sandbox.prependStyleSheet(t).then(function(){n.forEach(function(t){e.displayCardEl(t)})})})})}var i=t(11),o=t(14),a=t(105),s=t(123);e.exports=s.couple(t(144),r)},{105:105,11:11,123:123,14:14,144:144}],141:[function(t,e,n){function r(t){t.define("injectRefSrcParam",function(t){t.getAttribute(s)||(t.setAttribute(s,!0),t.href=i.url(t.href,{ref_src:a}))}),t.after("render",function(){this.on("click","A",function(t,e){o.isTwitterURL(e.href)&&this.injectRefSrcParam(e)})})}var i=t(98),o=t(101),a="twsrc^tfw",s="data-url-refsrc-injected";e.exports=r},{101:101,98:98}],142:[function(t,e,n){function r(t){t.after("prepForInsertion",function(t){o.setSrcForImgs(t,this.sandbox.width,i.sync)}),t.after("resize",function(){o.setSrcForImgs(this.el,this.sandbox.width,i.write)})}var i=t(14),o=t(62);e.exports=r},{14:14,62:62}],143:[function(t,e,n){function r(t){t.after("render",function(){var t=this.el.getAttribute(i);t&&this.sandbox.setTitle(t)})}var i="data-iframe-title";e.exports=r},{}],144:[function(t,e,n){function r(t){t.define("scribeNamespace",function(){return{client:"tfw"}}),t.define("scribeData",function(){return{widget_origin:a.rootDocumentLocation(),widget_frame:a.isFramed()&&a.currentDocumentLocation()}}),t.define("scribe",function(t,e,n){t=s.aug(this.scribeNamespace(),t||{}),e=s.aug(this.scribeData(),e||{}),i.scribe(t,e,!1,n)}),t.define("scribeInteraction",function(t,e,n){var r=o.extractTermsFromDOM(t.target);r.action=t.type,this.scribe(r,e,n)})}var i=t(57),o=t(58),a=t(78),s=t(105);e.exports=r},{105:105,57:57,58:58,78:78}],145:[function(t,e,n){function r(t){var e=s([t]);return{item_ids:Object.keys(e),item_details:e}}function i(t){t.selectors({tweet:".tweet"}),t.define("scribeTweetClickInteraction",function(t,e){var n=o.closest(this.selectors.tweet,e,this.el);n&&this.scribeInteraction(t,r(n))}),t.after("render",function(){this.on("click","A",this.scribeTweetClickInteraction),this.on("click","BUTTON",this.scribeTweetClickInteraction)})}var o=t(13),a=t(123),s=t(53);e.exports=a.couple(t(144),i)},{123:123,13:13,144:144,53:53}],146:[function(t,e,n){function r(t){t.after("render",function(){new i(this.sandbox.win)})}var i=t(115);e.exports=r},{115:115}],147:[function(t,e,n){function r(t){t.params({productName:{required:!0},widgetId:{required:!1},related:{required:!1},partner:{fallback:l(a.val,a,"partner")}}),t.selectors({timeline:".timeline",tweet:".tweet"}),t.define("injectWebIntentParams",function(t){var e=o.closest(this.selectors.tweet,t,this.el),n=o.closest(this.selectors.timeline,t,this.el);t.getAttribute(f)||(t.setAttribute(f,!0),t.href=c.url(t.href,{tw_w:this.params.widgetId,tw_i:e&&e.getAttribute("data-tweet-id"),tw_p:this.params.productName,related:this.params.related,partner:this.params.partner,query:n&&n.getAttribute("data-search-query"),profile_id:n&&n.getAttribute("data-profile-id"),original_referer:u.rootDocumentLocation()}))}),t.after("render",function(){this.on("click","A",function(t,e){d.isIntentURL(e.href)&&(this.injectWebIntentParams(e),t.altKey||t.metaKey||t.shiftKey||(s.open(e.href,this.sandbox.sandboxEl),i.preventDefault(t)))})})}var i=t(12),o=t(13),a=t(27),s=t(64),u=t(78),c=t(98),d=t(101),l=t(88),f="data-url-params-injected";e.exports=r},{101:101,12:12,13:13,27:27,64:64,78:78,88:88,98:98}],148:[function(t,e,n){function r(t){t.params({align:{required:!1},width:{required:!1},floatedWidth:{fallback:"350px",validate:i},centeredWidth:{fallback:"70%",validate:i}}),t.before("render",function(){var t,e,n,r,i=this.params.align;switch(i&&i.toLowerCase()){case"center":t=this.params.width||this.params.centeredWidth,e="auto",n="auto";break;case"left":t=this.params.width||this.params.floatedWidth,n="10px",r="left";break;case"right":t=this.params.width||this.params.floatedWidth,e="10px",r="right";break;default:return}return this.sandbox.styleSelf({width:t,marginLeft:e,marginRight:n,cssFloat:r})})}var i=t(108);e.exports=r},{108:108}],149:[function(t,e,n){function r(t){t.define("widgetDataAttributes",function(){return{}}),t.define("setDataAttributes",function(){var t=this.sandbox.sandboxEl;o.forIn(this.widgetDataAttributes(),function(e,n){i.hasValue(n)&&t.setAttribute("data-"+e,n)})}),t.after("render",function(){this.setDataAttributes()})}var i=t(102),o=t(105);e.exports=r},{102:102,105:105}],150:[function(t,e,n){function r(t){return function(){return a.toRealArray(arguments).slice(1).forEach(function(t){a.isType("object",t)&&(t.profileScreenName=t.screenName,t.profileUserId=t.userId,t.profileShowReplies=t.showReplies,t.listOwnerUserId=t.listOwnerId,t.ariaLive=t.ariaPolite)}),t.apply(this,arguments)}}var i=t(18),o=t(101),a=t(105),s=t(164),u=t(180),c=u(["widgetId"],{},s),d={createTimeline:r(c)};o.isTwitterURL(i.href)&&(d.createTimelinePreview=function(t,e,n){return d.createTimeline("preview",e,{previewParams:t||{}},n)}),e.exports=d},{101:101,105:105,164:164,18:18,180:180}],151:[function(t,e,n){function r(t,e){var n;if(t)for(;n=t.children[e];)t.removeChild(n)}e.exports=r},{}],152:[function(t,e,n){function r(t){var e=s(t),n=t.getAttribute("data-show-replies"),r={widgetId:t.getAttribute("data-widget-id"),chrome:t.getAttribute("data-chrome"),tweetLimit:t.getAttribute("data-tweet-limit"),ariaLive:t.getAttribute("data-aria-polite"),theme:t.getAttribute("data-theme"),linkColor:t.getAttribute("data-link-color"),borderColor:t.getAttribute("data-border-color"),profileShowReplies:n?o.asBoolean(n):null,profileScreenName:t.getAttribute("data-screen-name"),profileUserId:t.getAttribute("data-user-id"),favoritesScreenName:t.getAttribute("data-favorites-screen-name"),favoritesUserId:t.getAttribute("data-favorites-user-id"),listOwnerScreenName:t.getAttribute("data-list-owner-screen-name"),listOwnerUserId:t.getAttribute("data-list-owner-id"),listId:t.getAttribute("data-list-id"),listSlug:t.getAttribute("data-list-slug"),customTimelineId:t.getAttribute("data-custom-timeline-id")};return a.forIn(r,function(t,n){var r=e[t];e[t]=o.hasValue(r)?r:n}),e}function i(t){var e=u(t,d);return e.map(function(t){return c(r(t),t.parentNode,t)})}var o=t(102),a=t(105),s=t(179),u=t(181)(),c=t(164),d="a.twitter-timeline,div.twitter-timeline";e.exports=i},{102:102,105:105,164:164,179:179,181:181}],153:[function(t,e,n){function r(t){return _+t}function i(t){return T+t}function o(t){return"tl_"+t.widgetId+"_"+t.instanceId}function a(t){var e=t.sinceId||t.maxId||t.maxPosition||t.minPosition;return"tlPoll_"+t.widgetId+"_"+t.instanceId+"_"+e}function s(t){if(!t||!t.headers)throw new Error("unexpected response schema");return{html:t.body,config:t.config,pollInterval:1e3*parseInt(t.headers.xPolling,10)||null,maxCursorPosition:t.headers.maxPosition,minCursorPosition:t.headers.minPosition}}function u(t){if(t&&t.headers)throw new Error(t.headers.status);throw t instanceof Error?t:new Error(t)}function c(t){var e=r(t.widgetId),n=o(t),i={lang:t.lang,t:b(),domain:p.host,dnt:v.enabled()},a=g.aug(i,w(t));return a=g.compact(a),f.fetch(e,a,h,n).then(s,u)}function d(t){var e=i(t.widgetId),n=a(t),r=g.compact({lang:t.lang,since_id:t.sinceId,max_id:t.maxId,min_position:t.minPosition,max_position:t.maxPosition,domain:p.host,dnt:v.enabled()}),o=g.aug(r,w(t));return o=g.compact(o),f.fetch(e,o,h,n).then(s,u)}function l(t){return f.fetch(A,t,h).then(s,u)}var f=t(7),h=t(8),p=t(18),m=t(28),v=t(80),g=t(105),w=t(154),b=t(6),y="https://cdn.syndication.twimg.com/widgets/timelines/",x="https://syndication.twitter.com/widgets/timelines/paged/",E="https://syndication.twitter.com/widgets/timelines/preview/",_=m.get("endpoints.timeline")||y,T=m.get("endpoints.timelinePoll")||x,A=m.get("endpoints.timelinePreview")||E;e.exports={timeline:c,poll:d,preview:l}},{105:105,154:154,18:18,28:28,6:6,7:7,8:8,80:80}],154:[function(t,e,n){function r(t){var e={};return t=t||{},t.profileScreenName||t.profileUserId?e={override_type:"user",override_id:t.profileUserId,override_name:t.profileScreenName,with_replies:t.profileShowReplies?"true":"false"}:t.favoritesScreenName||t.favoritesUserId?e={override_type:"favorites",
override_id:t.favoritesUserId,override_name:t.favoritesScreenName}:t.listOwnerScreenName||t.listOwnerUserId||t.listId||t.listSlug?e={override_type:"list",override_owner_id:t.listOwnerUserId,override_owner_name:t.listOwnerScreenName,override_id:t.listId,override_name:t.listSlug}:t.customTimelineId&&(e={override_type:"custom",override_id:t.customTimelineId}),e}e.exports=r},{}],155:[function(t,e,n){function r(t){t.params({widgetId:{required:!0},instanceId:{required:!0,fallback:d.deterministic},lang:{fallback:"en",validate:w},width:{required:!0,fallback:"520px",validate:m,transform:m},height:{validate:m,transform:m},theme:{fallback:[h(u.val,u,"widgets:theme")],validate:b},tweetLimit:{fallback:0,transform:c.asInt},partner:{fallback:h(u.val,u,"partner")},previewParams:{},profileScreenName:{},profileUserId:{},profileShowReplies:{fallback:!1,transform:c.asBoolean},favoritesScreenName:{},favoritesUserId:{},listOwnerScreenName:{},listOwnerUserId:{},listId:{},listSlug:{},customTimelineId:{}}),t.selectors({header:".timeline-header",footer:".timeline-footer",viewport:".stream",tweetList:".h-feed",tweetsInStream:".h-feed .tweet"}),t.around("scribeNamespace",function(t){return l.aug(t,{page:"timeline"})}),t.around("scribeData",function(t){return l.aug(t(),{widget_id:this.params.widgetId,message:this.params.partner,query:this.el&&this.el.getAttribute("data-search-query"),profile_id:this.el&&this.el.getAttribute("data-profile-id")})}),t.around("widgetDataAttributes",function(t){return l.aug({"widget-id":this.params.widgetId,"user-id":this.el&&this.el.getAttribute("data-profile-id"),"search-query":this.el&&this.el.getAttribute("data-search-query")},t())}),t.define("updateViewportHeight",function(){var t,e=this.sandbox,n=this.selectOne("header"),r=this.selectOne("footer"),i=this.selectOne("viewport");return s.read(function(){t=e.height-2*I,t-=n?n.offsetHeight:0,t-=r?r.offsetHeight:0}),s.write(function(){i.style.height=t+"px"})}),t.define("adjustWidgetSize",function(){return this.isStaticTimeline?this.sandbox.matchHeightToContent():this.updateViewportHeight()}),t.define("reconfigureWithServerSideParams",function(t){t=t||{},this.params.linkColor=this.params.linkColor||t.linkColor,this.params.theme=this.params.theme||t.theme||"light",this.params.height=m(this.params.height||t.height||"600px")}),t.define("scribeImpressionsForInitialTweetSet",function(){var t=p(this.select("tweetsInStream")),e=Object.keys(t),n=e.length?"results":"no_results",r=this.el.getAttribute("data-collection-id");r&&(e.push(r),t[r]={item_type:x.CUSTOM_TIMELINE}),this.scribe({component:"timeline",element:"initial",action:n},{item_ids:e,item_details:t})}),t.override("initialize",function(){this.isStaticTimeline=this.params.tweetLimit>0,this.isPreviewTimeline=!!this.params.previewParams}),t.override("hydrate",function(){var t=this,e=this.isPreviewTimeline?g.preview(this.params.previewParams):g.timeline(this.params);return e.then(function(e){t.html=e.html,t.reconfigureWithServerSideParams(e.config),y(t,e,E.INITIAL)})}),t.override("render",function(){var t=this;return this.el=this.sandbox.htmlToElement(this.html),this.el?(this.el.lang=this.params.lang,"dark"==this.params.theme&&a.add(this.el,"thm-dark"),this.isStaticTimeline&&(this.sandbox.addRootClass("var-static"),v(this.selectOne("tweetList"),this.params.tweetLimit)),this.scribeImpressionsForInitialTweetSet(),i.all([this.sandbox.appendStyleSheet(o.timeline(this.params.lang,this.params.theme)),this.sandbox.styleSelf({display:"inline-block",maxWidth:this.params.width,width:T,minWidth:_,minHeight:this.isStaticTimeline?void 0:A,height:this.params.height,marginTop:0,marginBottom:0})]).then(function(){return t.prepForInsertion(t.el),t.sandbox.injectWidgetEl(t.el)})):i.reject(new Error("unable to render"))}),t.last("render",function(){var t=this.sandbox,e=this.selectOne("viewport"),n=this;return this.adjustWidgetSize().then(function(){return i.all([t.makeVisible(),s.write(function(){e.style.width||(e.style.width="auto")})])}).then(function(){n.resize()})}),t.last("resize",function(){return this.adjustWidgetSize()})}var i=t(96),o=t(3),a=t(11),s=t(14),u=t(27),c=t(102),d=t(103),l=t(105),f=t(123),h=t(88),p=t(53),m=t(77),v=t(151),g=t(153),w=t(109),b=t(110),y=t(166),x=t(55),E=t(165),_="180px",T="100%",A="200px",I=1;e.exports=f.couple(t(144),t(149),r)},{102:102,103:103,105:105,109:109,11:11,110:110,123:123,14:14,144:144,149:149,151:151,153:153,165:165,166:166,27:27,3:3,53:53,55:55,77:77,88:88,96:96}],156:[function(t,e,n){var r=t(123);e.exports=r.build([t(155),t(159),t(131),t(129),t(145),t(141),t(157),t(138),t(134),t(142),t(135),t(132),t(160),t(163),t(161),t(147),t(158),t(162),t(143),t(130)],{pageForAudienceImpression:"timeline",productName:"embeddedtimeline",narrowBreakpoint:320})},{123:123,129:129,130:130,131:131,132:132,134:134,135:135,138:138,141:141,142:142,143:143,145:145,147:147,155:155,157:157,158:158,159:159,160:160,161:161,162:162,163:163}],157:[function(t,e,n){function r(t){t.params({ariaLive:{fallback:""}}),t.selectors({newTweetsNotifier:".new-tweets-bar"}),t.after("render",function(){var t=this.selectOne("newTweetsNotifier");"assertive"===this.params.ariaLive&&t&&t.setAttribute("aria-live","assertive")})}e.exports=r},{}],158:[function(t,e,n){function r(t,e){var n=d;return e&&(n=[c+" "+d,c+d].join(",")),n+"{border-color:"+t+";}"}function i(t){t.params({theme:{fallback:[u(o.val,o,"widgets:theme"),"light"],validate:s},borderColor:{fallback:[u(o.val,o,"widgets:border-color")],validate:a}}),t.after("render",function(){var t=this.params.borderColor,e="dark"===this.params.theme;t&&this.sandbox.appendCss(r(t,e))})}var o=t(27),a=t(107),s=t(110),u=t(88),c=".thm-dark",d=".customisable-border";e.exports=i},{107:107,110:110,27:27,88:88}],159:[function(t,e,n){function r(t){var e={transparent:!1,hideBorder:!1,hideHeader:!1,hideFooter:!1,hideScrollBar:!1};return t=t||"",o.contains(t,"transparent")&&(e.transparent=!0),o.contains(t,"noborders")&&(e.hideBorder=!0),o.contains(t,"noheader")&&(e.hideHeader=!0),o.contains(t,"nofooter")&&(e.hideFooter=!0),o.contains(t,"noscrollbar")&&(e.hideScrollBar=!0),e}function i(t){t.params({chrome:{transform:r,fallback:""}}),t.selectors({streamContainer:".stream",tweetStream:".h-feed"}),t.before("render",function(){this.params.chrome.transparent&&this.sandbox.addRootClass("var-chromeless"),this.params.chrome.hideBorder&&this.sandbox.addRootClass("var-borderless"),this.params.chrome.hideHeader&&this.sandbox.addRootClass("var-headerless"),this.params.chrome.hideFooter&&this.sandbox.addRootClass("var-footerless")}),t.after("render",function(){return this.params.chrome.hideScrollBar?this.hideScrollBar():void 0}),t.after("resize",function(){return this.params.chrome.hideScrollBar?this.hideScrollBar():void 0}),t.define("hideScrollBar",function(){var t=this.selectOne("streamContainer"),e=this.selectOne("tweetStream");return a.defer(function(){var n,r;t.style.width="",n=t.offsetWidth-e.offsetWidth,r=t.offsetWidth+n,t.style.width=r+"px"})})}var o=t(105),a=t(14);e.exports=i},{105:105,14:14}],160:[function(t,e,n){function r(t,e,n){var r={};return t=t||{},n&&t.max?r.minPosition=t.max:!n&&t.min?r.maxPosition=t.min:n?r.sinceId=e:r.maxId=e,r}function i(t){t.selectors({tweet:".tweet",viewport:".stream",tweetList:".h-feed",tweetsInStream:".h-feed .tweet",newTweetsNotifier:".new-tweets-bar",loadMoreButton:".load-more"}),t.define("gcTweetsSync",function(){var t="custom"===this.el.getAttribute("data-timeline-type"),e=this.selectOne("tweetList");return t?a.resolve():void p(e,y)}),t.define("scribeImpressionsForDynamicTweetSet",function(t,e){var n=l.toRealArray(t.querySelectorAll(this.selectors.tweet)),r=h(n),i=Object.keys(r),o=e?"newer":"older",a=e?w.CLIENT_SIDE_APP:w.CLIENT_SIDE_USER;this.scribe({component:"timeline",element:o,action:"results"},{item_ids:i,item_details:r,event_initiator:a})}),t.define("fetchTweets",function(t,e){function n(t){return o.isUpdating=!1,"404"===t?o.pollInterval=null:"503"===t&&(o.pollInterval*=1.5),a.reject(t)}function i(n){var r,i=o.sandbox.createFragment(),a=o.sandbox.createElement("ol"),s=e?b.NEWER:b.OLDER;return o.isUpdating=!1,v(o,n,s),a.innerHTML=n.html,r=a.firstElementChild,r&&"LI"===r.tagName?(r.getAttribute("data-tweet-id")===t&&a.removeChild(r),o.scribeImpressionsForDynamicTweetSet(a,e),o.prepForInsertion(a),l.toRealArray(a.children).forEach(function(t){i.appendChild(t)}),i):i}var o=this,s=r(this.cursors,t,e);return this.isUpdating=!0,m.poll(l.aug(s,this.params)).then(i,n)}),t.define("loadOldTweets",function(){var t=this,e=this.selectLast("tweetsInStream"),n=e&&e.getAttribute("data-tweet-id");return n?this.fetchTweets(n,!1).then(function(e){var n=t.selectOne("tweetList");return u.write(function(){e.childNodes.length>0?n.appendChild(e):s.add(t.el,"no-more")})}):a.reject(new Error("unable to load more"))}),t.after("loadOldTweets",function(){g.trigger("timelineUpdated",{target:this.sandbox.sandboxEl,region:"older"})}),t.define("loadNewTweets",function(){var t=this,e=this.selectOne("tweetsInStream"),n=e&&e.getAttribute("data-tweet-id");return n?this.fetchTweets(n,!0).then(function(n){var r,i,o=t.selectOne(".stream"),a=t.selectOne(".h-feed");return 0!==n.childNodes.length?(u.read(function(){r=o.scrollTop,i=o.scrollHeight}),u.defer(function(){var c;return a.insertBefore(n,e),c=r+o.scrollHeight-i,r>40||t.mouseIsOverWidget?(o.scrollTop=c,void t.showNewTweetsNotifier()):(s.remove(t.el,"pending-scroll-in"),a.style.marginTop="-"+c+"px",u.write(function(){o.scrollTop=0,s.add(t.el,"pending-scroll-in"),a.style.marginTop="",t.gcTweetsSync()}))})):void 0}):a.reject(new Error("unable to load new tweets"))}),t.after("loadNewTweets",function(){g.trigger("timelineUpdated",{target:this.sandbox.sandboxEl,region:"newer"})}),t.define("showNewTweetsNotifier",function(){var t=this,e=this.selectOne("newTweetsNotifier"),n=e&&e.firstElementChild;return c.setTimeout(function(){t.hideNewTweetsNotifier()},x),u.write(function(){e.removeChild(n),e.appendChild(n),s.add(t.el,"pending-new-tweet-display")}),u.defer(function(){s.add(t.el,"pending-new-tweet")})}),t.define("hideNewTweetsNotifier",function(t){var e=this,n=new o;return t=t||{},!t.force&&this.mouseIsOverNewTweetsNotifier?(n.resolve(),n.promise):(u.write(function(){s.remove(e.el,"pending-new-tweet")}),c.setTimeout(function(){u.write(function(){s.remove(e.el,"pending-new-tweet-display")}).then(n.resolve,n.reject)},E),n.promise)}),t.define("scrollToTopOfViewport",function(){var t=this.selectOne("viewport");return u.write(function(){t.scrollTop=0,t.focus()})}),t.define("schedulePolling",function(){function t(){var r=n||e.pollInterval;r&&setTimeout(function(){e.isUpdating||e.loadNewTweets(e.sandbox),t()},r)}var e=this,n=d.get("timeline.pollInterval");t()}),t.after("initialize",function(){this.isUpdating=!1,this.mouseIsOverWidget=!1,this.mouseIsOverNewTweetsNotifier=!1,this.cursors={},this.pollInterval=1e4}),t.after("render",function(){this.isStaticTimeline||this.isPreviewTimeline||(this.select("tweet").length>0&&this.schedulePolling(),this.on("mouseover",function(){this.mouseIsOverWidget=!0}),this.on("mouseout",function(){this.mouseIsOverWidget=!1}),this.on("mouseover","newTweetsNotifier",function(){this.mouseIsOverNewTweetsNotifier=!0}),this.on("mouseout","newTweetsNotifier",function(){this.mouseIsOverNewTweetsNotifier=!1}),this.on("click","newTweetsNotifier",function(){this.scrollToTopOfViewport(),this.hideNewTweetsNotifier({force:!0})}),this.on("click","loadMoreButton",function(){this.loadOldTweets()}))})}var o=t(95),a=t(96),s=t(11),u=t(14),c=t(20),d=t(28),l=t(105),f=t(123),h=t(53),p=t(151),m=t(153),v=t(166),g=t(65),w=t(52),b=t(165),y=50,x=5e3,E=500;e.exports=f.couple(t(144),i)},{105:105,11:11,123:123,14:14,144:144,151:151,153:153,165:165,166:166,20:20,28:28,52:52,53:53,65:65,95:95,96:96}],161:[function(t,e,n){function r(t){var e=t&&t.querySelector("b");return e?(u.write(function(){var n=e.innerText||e.textContent;e.innerHTML=t.getAttribute("data-toggled-text"),t.setAttribute("data-toggled-text",n)}),!0):!1}function i(t){t.selectors({tweetContent:".e-entry-content",expandoLink:".expand",tweetWithExpando:".with-expansion",expandoExpander:".detail-expander",expandoContentContainer:".detail-content"}),t.define("toggleExpando",function(t){var e,n=t.querySelector(this.selectors.tweetContent),i=t.querySelector(this.selectors.expandoLink),a=t.querySelector(this.selectors.expandoExpander),s=t.querySelector(this.selectors.expandoContentContainer),h=s&&s.getAttribute("data-expanded-media");return r(i)?o.present(t,d)?u.write(function(){o.remove(t,d),a.style.cssText="",s.innerHTML=""}):h?(u.read(function(){e=n.clientWidth}),u.write(function(){s.innerHTML=h,c.retinize(s),c.setSrcForImgs(s,e,u.sync),c.sizeIframes(s,e,l,u.sync),a.style.maxHeight=f,o.add(t,d)})):u.write(function(){o.add(t,d)}):void 0}),t.after("render",function(){this.isStaticTimeline||(this.on("click","expandoLink",function(t,e){var n=s.closest(this.selectors.tweetWithExpando,e,this.el),r=t.altKey||t.metaKey||t.shiftKey;n&&!r&&(this.toggleExpando(n),a.preventDefault(t))}),this.on("click","tweetWithExpando",function(t,e){s.closest("A",t.target,this.el)||(this.toggleExpando(e),a.preventDefault(t))}))})}var o=t(11),a=t(12),s=t(13),u=t(14),c=t(62),d="expanded",l=375,f="500px";e.exports=i},{11:11,12:12,13:13,14:14,62:62}],162:[function(t,e,n){function r(t){return t}function i(t){return h+" "+t}function o(t,e){return t.map(e?i:r).join(",")}function a(t,e){var n=o(p,e),r=o(m,e),i=o(v,e);return[n+"{color:"+t+";}",i+"{background-color:"+t+";}",r+"{color:"+c.lighten(t,.2)+";}"].join("")}function s(t){t.params({theme:{fallback:[f(u.val,u,"widgets:theme"),"light"],validate:l},linkColor:{fallback:f(u.val,u,"widgets:link-color"),validate:d}}),t.after("render",function(){var t=this.params.linkColor,e="dark"===this.params.theme;t&&this.sandbox.appendCss(a(t,e))})}var u=t(27),c=t(76),d=t(107),l=t(110),f=t(88),h=".thm-dark",p=[".customisable",".customisable:link",".customisable:visited"],m=[".customisable:hover",".customisable:focus",".customisable:active",".customisable-highlight:hover",".customisable-highlight:focus","a:hover .customisable-highlight","a:focus .customisable-highlight"],v=["a:hover .ic-mask","a:focus .ic-mask"];e.exports=s},{107:107,110:110,27:27,76:76,88:88}],163:[function(t,e,n){function r(t,e){var n,r,i;return(n=e.getAttribute("data-player"))?(r=t.createElement("iframe"),r.src=n):(i=t.createElement("a"),i.href=e.getAttribute("data-href"),r=t.createElement("img"),r.src=e.getAttribute(c.retina()?"data-image-2x":"data-image"),r.alt=e.getAttribute("data-alt"),i.appendChild(r)),r.title=e.getAttribute("data-title"),{mediaEl:r,rootEl:n?r:i}}function i(t){t.selectors({tweet:".tweet",tweetContent:".e-entry-content",showNsfwButton:".display-sensitive-image",nsfwInterstitial:".nsfw",expandoExpander:".detail-expander"}),t.define("displayNsfwMedia",function(t){var e,n,i,o=t.querySelector(this.selectors.nsfwInterstitial),a=t.querySelector(this.selectors.tweetContent),c=t.querySelector(this.selectors.expandoExpander),d=c&&c.children[0];return o&&a&&d?(e=r(this.sandbox,o),n=e.rootEl,i=e.mediaEl,s.read(function(){var t=u.scaleDimensions(o.getAttribute("data-width"),o.getAttribute("data-height"),a.offsetWidth,o.getAttribute("data-height"));i.width=t.width,i.height=t.height}),s.write(function(){o.parentElement.replaceChild(n,o)})):void 0}),t.after("render",function(){this.on("click","showNsfwButton",function(t,e){var n=a.closest(this.selectors.tweet,e,this.el);n&&(this.displayNsfwMedia(n),o.preventDefault(t))})})}var o=t(12),a=t(13),s=t(14),u=t(62),c=t(85);e.exports=i},{12:12,13:13,14:14,62:62,85:85}],164:[function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-timeline",t,e,n)}var i=t(35),o=t(156),a=t(41);e.exports=r},{156:156,35:35,41:41}],165:[function(t,e,n){e.exports={INITIAL:1,NEWER:2,OLDER:3}},{}],166:[function(t,e,n){function r(t,e,n){switch(t.cursors=t.cursors||{},t.pollInterval=e.pollInterval,n){case i.INITIAL:t.cursors.min=e.minCursorPosition,t.cursors.max=e.maxCursorPosition;break;case i.NEWER:t.cursors.max=e.maxCursorPosition||t.cursors.max;break;case i.OLDER:t.cursors.min=e.minCursorPosition||t.cursors.min}}var i=t(165);e.exports=r},{165:165}],167:[function(t,e,n){function r(t){return function(){return i.toRealArray(arguments).slice(1).forEach(function(t){i.isType("object",t)&&(t.hideCard="none"==t.cards||"hidden"==t.cards,t.hideThread="none"==t.conversation||"hidden"==t.conversation)}),t.apply(this,arguments)}}var i=t(105),o=t(173),a=t(180),s=r(a(["tweetId"],{},o));e.exports={createTweet:s,createTweetEmbed:s}},{105:105,173:173,180:180}],168:[function(t,e,n){function r(t){var e=u(t),n=t.getElementsByTagName("A"),r=n&&n[n.length-1],i=r&&a.status(r.href),c=t.getAttribute("data-conversation"),d="none"==c||"hidden"==c||o.present(t,"tw-hide-thread"),l=t.getAttribute("data-cards"),h="none"==l||"hidden"==l||o.present(t,"tw-hide-media"),p=t.getAttribute("data-align")||t.getAttribute("align"),m=t.getAttribute("data-link-color"),v=t.getAttribute("data-theme");return!p&&f.test(t.className)&&(p=RegExp.$1),s.aug(e,{tweetId:i,hideThread:d,hideCard:h,align:p,linkColor:m,theme:v})}function i(t){var e=c(t,l);return e.map(function(t){return d(r(t),t.parentNode,t)})}var o=t(11),a=t(101),s=t(105),u=t(179),c=t(181)(),d=t(173),l="blockquote.twitter-tweet",f=/\btw-align-(left|right|center)\b/;e.exports=i},{101:101,105:105,11:11,173:173,179:179,181:181}],169:[function(t,e,n){function r(t,e,n){var r="";return e&&(r+="c"),n&&(r+="t"),r?t+"-"+r:t}function i(t,e){return e=e||{},t=r(t,e.hideCard,e.hideThread),c.fetch(t,e.lang)}var o=t(4),a=t(28),s="https://syndication.twitter.com/tweets.json",u=a.get("endpoints.tweets")||s,c=new o(u);e.exports=i},{28:28,4:4}],170:[function(t,e,n){function r(t){var e={item_ids:[],item_details:{}};return e.item_ids.push(t),e.item_details[t]={item_type:b.TWEET},e}function i(t,e){var n={item_ids:[],item_details:{},associations:{}};return n.item_ids.push(e),n.item_details[e]={item_type:b.TWEET},n.associations[w.CONVERSATION_ORIGIN]={association_id:t,association_type:b.TWEET},n}function o(t){t.params({tweetId:{required:!0,validate:p},lang:{fallback:"en",validate:m},width:{required:!0,fallback:"500px",validate:h,transform:h},theme:{fallback:[f(u.val,u,"widgets:theme"),"light"],validate:v},hideCard:{fallback:!1,transform:c.asBoolean},hideThread:{fallback:!1,transform:c.asBoolean},partner:{fallback:f(u.val,u,"partner")}}),t.selectors({ancestorTweet:".EmbeddedTweet-ancestor .Tweet",subjectTweet:".EmbeddedTweet-tweet .Tweet"}),t.around("scribeNamespace",function(t){return d.aug(t,{page:"tweet"})}),t.around("scribeData",function(t){return d.aug(t(),{message:this.params.partner})}),t.around("widgetDataAttributes",function(t){return d.aug({"tweet-id":this.params.tweetId},t())}),t.define("scribeImpressionForTweets",function(){var t=this.selectOne("subjectTweet"),e=this.selectOne("ancestorTweet"),n=t&&t.getAttribute("data-tweet-id"),o=e&&e.getAttribute("data-tweet-id");n&&this.scribe({section:"subject",component:"tweet",action:"results"},r(n)),n&&o&&this.scribe({section:"conversation",component:"tweet",action:"results"},i(n,o))}),t.override("hydrate",function(){function t(t){i.html=t}function e(t){return i.scribe({section:"subject",component:"rawembedcode",action:"no_result"},r(i.params.tweetId)),a.reject(t)}var n,i=this;return n={lang:this.params.lang,hideCard:this.params.hideCard,hideThread:this.params.hideThread},g(this.params.tweetId,n).then(t,e)}),t.override("render",function(){var t=this;return this.el=this.sandbox.htmlToElement(this.html),this.el?(this.el.lang=this.params.lang,this.scribeImpressionForTweets(),a.all([this.sandbox.appendStyleSheet(s.tweet(this.params.lang,this.params.theme)),this.sandbox.styleSelf({maxWidth:this.params.width,width:x,minWidth:y,marginTop:E,marginBottom:E})]).then(function(){return t.prepForInsertion(t.el),t.sandbox.injectWidgetEl(t.el)})):a.reject(new Error("unable to render"))}),t.last("render",function(){var t=this.sandbox;return this.sandbox.matchHeightToContent().then(function(){return t.makeVisible()})}),t.last("resize",function(){return this.sandbox.matchHeightToContent()})}var a=t(96),s=t(3),u=t(27),c=t(102),d=t(105),l=t(123),f=t(88),h=t(77),p=t(108),m=t(109),v=t(110),g=t(169),w=t(50),b=t(55),y="220px",x="100%",E="10px";e.exports=l.couple(t(144),t(149),o)},{102:102,105:105,108:108,109:109,110:110,123:123,144:144,149:149,169:169,27:27,3:3,50:50,55:55,77:77,88:88,96:96}],171:[function(t,e,n){var r=t(123);e.exports=r.build([t(170),t(131),t(129),t(145),t(141),t(138),t(137),t(134),t(142),t(135),t(136),t(132),t(133),t(140),t(139),t(148),t(147),t(172),t(146),t(143),t(130)],{pageForAudienceImpression:"tweet",productName:"tweetembed",narrowBreakpoint:350})},{123:123,129:129,130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,145:145,146:146,147:147,148:148,170:170,172:172}],172:[function(t,e,n){function r(t){t.selectors({subjectTweet:".EmbeddedTweet .Tweet"}),t.define("possiblyFallbackToPermalink",function(t){var e,n;i.closest("A",t.target,this.el)||this.sandbox.hasSelectedText()||(e=this.selectOne("subjectTweet"),n=e&&e.getAttribute("cite"),a.isTwitterURL(n)&&(o.open(n),this.scribeInteraction(t)))}),t.after("render",function(){this.on("click",function(t){this.possiblyFallbackToPermalink(t)})})}var i=t(13),o=t(20),a=t(101),s=t(123);e.exports=s.couple(t(144),r)},{101:101,123:123,13:13,144:144,20:20}],173:[function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-tweet",t,e,n)}var i=t(35),o=t(171),a=t(41);e.exports=r},{171:171,35:35,41:41}],174:[function(t,e,n){function r(t){return function(){return i.toRealArray(arguments).slice(1).forEach(function(t){i.isType("object",t)&&(t.screenName=t.screenName||t.screen_name,t.buttonHashtag=t.buttonHashtag||t.button_hashtag||t.hashtag,t.countUrl=t.countUrl||t.counturl)}),t.apply(this,arguments)}}var i=t(105),o=t(178),a=t(180),s=a(["url"],{type:"share"},o),u=a(["buttonHashtag"],{type:"hashtag"},o),c=a(["screenName"],{type:"mention"},o);e.exports={createShareButton:r(s),createHashtagButton:r(u),createMentionButton:r(c)}},{105:105,178:178,180:180}],175:[function(t,e,n){function r(t){var e=s(t),n={screenName:t.getAttribute("data-button-screen-name"),text:t.getAttribute("data-text"),type:t.getAttribute("data-type"),size:t.getAttribute("data-size"),count:t.getAttribute("data-count"),align:t.getAttribute("data-align"),countUrl:t.getAttribute("data-counturl"),url:t.getAttribute("data-url"),hashtags:t.getAttribute("data-hashtags"),via:t.getAttribute("data-via"),buttonHashtag:t.getAttribute("data-button-hashtag"),searchLink:t.getAttribute("data-searchlink")};return a.forIn(n,function(t,n){var r=e[t];e[t]=d.hasValue(r)?r:n}),e.screenName=e.screenName||e.screen_name,e.buttonHashtag=e.buttonHashtag||e.button_hashtag||e.hashtag,o.present(t,f)&&(e.type="hashtag"),o.present(t,h)&&(e.type="mention"),e}function i(t){var e=u(t,l);return e.map(function(t){return c(r(t),t.parentNode,t)})}var o=t(11),a=t(105),s=t(179),u=t(181)(),c=t(178),d=t(102),l="a.twitter-share-button, a.twitter-mention-button, a.twitter-hashtag-button",f="twitter-hashtag-button",h="twitter-mention-button";e.exports=i},{102:102,105:105,11:11,178:178,179:179,181:181}],176:[function(t,e,n){function r(t){return"large"===t?"l":"m"}function i(t){return g.contains(S,t)}function o(t){return g.contains(N,t)}function a(t){return b.hashTag(t,!1)}function s(t){var e=/\+/.test(t)&&!/ /.test(t);return e?t.replace(/\+/g," "):t}function u(t){t.params({lang:{fallback:"en",validate:E},size:{fallback:"medium",transform:r},type:{fallback:"share",validate:i},count:{fallback:"horizontal",validate:o},text:{transform:s},screenName:{transform:b.screenName},buttonHashtag:{transform:a},partner:{fallback:x(f.val,f,"partner")},via:{},related:{},hashtags:{},url:{},countUrl:{},align:{},searchLink:{}}),t.define("getUrlParams",function(){var t=this.params.text,e=this.params.url,n=this.params.count,r=this.params.via,i=this.params.related,o=v.getScreenNameFromPage();return"share"===this.params.type?(t=t||d.title,e=e||v.getCanonicalURL()||l.href,r=r||o):(n="none",o&&(i=i?o+","+i:o)),g.compact({id:this.id,lang:this.params.lang,size:this.params.size,type:this.params.type,text:t,url:e,via:r,related:i,button_hashtag:this.params.buttonHashtag,count:n,counturl:this.params.countUrl,searchlink:this.params.searchLink,screen_name:this.params.screenName,hashtags:this.params.hashtags,align:this.params.align,partner:this.params.partner,original_referer:l.href,dnt:p.enabled(),_:+new Date})}),t.around("widgetDataAttributes",function(t){return"mention"==this.params.type?g.aug({"screen-name":this.params.screenName},t()):"hashtag"==this.params.type?g.aug({hashtag:this.params.buttonHashtag},t()):g.aug({url:this.params.url},t())}),t.override("render",function(){var t,e=m(_,{lang:this.params.lang}),n=w.encode(this.getUrlParams()),r=h.base()+e+"#"+n;switch(this.params.type){case"hashtag":t=I;break;case"mention":t=C;break;default:t=A}return c.all([this.sandbox.addClass(T),this.sandbox.addClass(t),this.sandbox.loadDocument(r)])})}var c=t(96),d=t(17),l=t(18),f=t(27),h=t(60),p=t(80),m=t(99),v=t(104),g=t(105),w=t(98),b=t(101),y=t(123),x=t(88),E=t(109),_="/widgets/tweet_button.77d41fbc5fa275535329b16ae6381b57.{{lang}}.html",T="twitter-tweet-button",A="twitter-share-button",I="twitter-hashtag-button",C="twitter-mention-button",S=["share","hashtag","mention"],N=["vertical","horizontal","none"];e.exports=y.couple(t(149),u)},{101:101,104:104,105:105,109:109,123:123,149:149,17:17,18:18,27:27,60:60,80:80,88:88,96:96,98:98,99:99}],177:[function(t,e,n){var r=t(123);e.exports=r.build([t(176)])},{123:123,176:176}],178:[function(t,e,n){function r(t,e,n){var r=t&&t.type||"share",s="hashtag"==r?"twitter-hashtag-button":"mention"==r?"twitter-mention-button":"twitter-share-button";return new i(o,a,s,t,e,n)}var i=t(35),o=t(177),a=t(42);e.exports=r},{177:177,35:35,42:42}],179:[function(t,e,n){function r(t){var e=t.href&&t.href.split("?")[1],n=e?a.decode(e):{},r={lang:u(t),width:t.getAttribute("data-width")||t.getAttribute("width"),height:t.getAttribute("data-height")||t.getAttribute("height"),related:t.getAttribute("data-related"),partner:t.getAttribute("data-partner")};return o.asBoolean(t.getAttribute("data-dnt"))&&i.setOn(),s.forIn(r,function(t,e){var r=n[t];n[t]=o.hasValue(r)?r:e}),n}var i=t(80),o=t(102),a=t(98),s=t(105),u=t(82);e.exports=r},{102:102,105:105,80:80,82:82,98:98}],180:[function(t,e,n){function r(t,e,n){t=t||[],e=e||{};var r="∆í("+t.join(", ")+", target, [options]);";return function(){var c,d,l,f,h=Array.prototype.slice.apply(arguments,[0,t.length]),p=Array.prototype.slice.apply(arguments,[t.length]);return p.forEach(function(t){return t?t.nodeType===Node.ELEMENT_NODE?void(l=t):u.isType("function",t)?void(c=t):void(u.isType("object",t)&&(d=t)):void 0}),h.length!==t.length||0===p.length?(c&&u.async(function(){c(!1)}),i.reject(new Error("Not enough parameters. Expected: "+r))):l?(d=u.aug(d||{},e),t.forEach(function(t){d[t]=h.shift()}),s.asBoolean(d.dnt)&&a.setOn(),f=o.addWidget(n(d,l)),c&&f.then(c,function(){c(!1)}),f):(c&&u.async(function(){c(!1)}),i.reject(new Error("No target element specified. Expected: "+r)))}}var i=t(96),o=t(34),a=t(80),s=t(102),u=t(105);e.exports=r},{102:102,105:105,34:34,80:80,96:96}],181:[function(t,e,n){var r=t(84),i=t(103);e.exports=function(){var t="data-twitter-extracted-"+i.generate();return function(e,n){function i(e){return!e.hasAttribute(t)}function o(e){return e.setAttribute(t,"true"),e}return r(e,n).filter(i).map(o)}}},{103:103,84:84}],182:[function(t,e,n){var r=t(187),i=t(180),o=i(["tweetId"],{},r);e.exports={createVideo:o}},{180:180,187:187}],183:[function(t,e,n){function r(t){var e=s(t),n=t.getElementsByTagName("A"),r=n&&n[n.length-1],i=r&&o.status(r.href),u="hidden"==t.getAttribute("data-status");return a.aug(e,{tweetId:i,hideStatus:u})}function i(t){var e=u(t,d);return e.map(function(t){return c(r(t),t.parentNode,t)})}var o=t(101),a=t(105),s=t(179),u=t(181)(),c=t(187),d="blockquote.twitter-video";e.exports=i},{101:101,105:105,179:179,181:181,187:187}],184:[function(t,e,n){function r(t,e){var n=e&&e.lang;return u.fetch(t,n)}var i=t(4),o=t(28),a="https://syndication.twitter.com/widgets/video/",s=o.get("endpoints.videos")||a,u=new i(s);e.exports=r},{28:28,4:4}],185:[function(t,e,n){function r(t){var e={item_ids:[],item_details:{}};return e.item_ids.push(t),e.item_details[t]={item_type:p.TWEET},e}function i(t){t.params({tweetId:{required:!0,validate:c},lang:{fallback:"en",validate:d},hideStatus:{fallback:!1,transform:s.asBoolean},partner:{fallback:v(m.val,m,"partner")}}),t.around("scribeNamespace",function(t){return h.aug(t,{page:"video"})}),t.around("scribeData",function(t){return h.aug(t(),{message:this.params.partner})}),t.around("widgetDataAttributes",function(t){return h.aug({"tweet-id":this.params.tweetId},t())}),t.define("scribeImpressionForTweet",function(){this.scribe({component:"tweet",action:"results"},r(this.params.tweetId))}),t.override("hydrate",function(){function t(t){i.html=t}function e(t){return i.scribe({component:"rawembedcode",action:"no_result"},r(i.params.tweetId)),o.reject(t)}var n,i=this;return n={lang:this.params.lang},l(this.params.tweetId,n).then(t,e)}),t.define("updatePlayerConfig",function(){var t=this.el.getAttribute("data-datetime"),e=f(this.el),n=t&&e.localTimeStamp(t),r=JSON.parse(this.el.getAttribute("data-player-config"));r.statusTimestamp={local:n},r.hideStatus=this.params.hideStatus,this.el.setAttribute("data-player-config",JSON.stringify(r))}),t.override("render",function(){var t,e=this;return this.el=this.sandbox.htmlToElement(this.html),this.scribeImpressionForTweet(),this.el?(this.updatePlayerConfig(),t=this.el.children[0],o.all([this.sandbox.setWrapperSize(t.getAttribute("data-width"),t.getAttribute("data-height")),this.sandbox.appendStyleSheet(a.video(this.params.lang))]).then(function(){return e.prepForInsertion(e.el),e.sandbox.injectWidgetEl(e.el)})):o.reject(new Error("unable to render"))}),t.last("render",function(){return this.sandbox.makeVisible()})}var o=t(96),a=t(3),s=t(102),u=t(123),c=t(108),d=t(109),l=t(184),f=t(10),h=t(105),p=t(55),m=t(27),v=t(88);e.exports=u.couple(t(144),t(149),i)},{10:10,102:102,105:105,108:108,109:109,123:123,144:144,149:149,184:184,27:27,3:3,55:55,88:88,96:96}],186:[function(t,e,n){var r=t(123);e.exports=r.build([t(185),t(143),t(129),t(146)],{pageForAudienceImpression:"video"})},{123:123,129:129,143:143,146:146,185:185}],187:[function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-video",t,e,n)}var i=t(35),o=t(186),a=t(188);e.exports=r},{186:186,188:188,35:35}],188:[function(t,e,n){function r(t){t.overrideProperty("sandboxEl",{get:function(){return this._constrainingWrapper}}),t.override("makeVisible",function(){var t=this.iframeEl;return i.write(function(){t.style.visibility="visible"})}),t.define("setWrapperSize",function(t,e){var n=this,r=t/e,o=100/r+"%",a=c*r+"px";return i.write(function(){n._constrainingWrapper.style.maxWidth=a,n._iframeWrapper.style.paddingBottom=o})}),t.after("initialize",function(){this._constrainingWrapper=this._iframeWrapper=null}),t.around("insert",function(t,e,n,r){var i=this._constrainingWrapper=o.createElement("div"),a=this._iframeWrapper=o.createElement("div");return i.id=e,i.className=n.join(" "),i.style.minWidth=u+"px",i.style.position="relative",i.style.margin=d,a.style.position="relative",a.style.height="0px",i.appendChild(a),t(void 0,[],function(t){t.style.position="absolute",t.style.top="0px",t.style.bottom="0px",t.style.width="100%",t.style.height="100%",a.appendChild(t),r(i)})})}var i=t(14),o=t(17),a=t(45),s=t(47),u=320,c=500,d="10px 0px";e.exports=a.build([s,r])},{14:14,17:17,45:45,47:47}],189:[function(t,e,n){function r(){}var i=t(105),o=t(86);i.aug(r.prototype,o.Emitter,{transportMethod:"",init:function(){},send:function(t){var e;this._ready?this._performSend(t):e=this.bind("ready",function(){this.unbind("ready",e),this._performSend(t)})},ready:function(){this.trigger("ready",this),this._ready=!0},isReady:function(){return!!this._ready},receive:function(t){
this.trigger("message",t)}}),e.exports={Connection:r}},{105:105,86:86}],190:[function(t,e,n){function r(t,e){var n=e||Math.floor(100*Math.random()),r=['<object id="xdflashshim'+n+'" name="xdflashshim'+n+'"','type="application/x-shockwave-flash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"','width="1" height="1" style="position:absolute;left:-9999px;top:-9999px;">','<param name="movie" value="'+t+"&debug="+i.__XDDEBUG__+'">','<param name="wmode" value="window">','<param name="allowscriptaccess" value="always">',"</object>"].join(" ");return r}var i=t(20);e.exports={object:r}},{20:20}],191:[function(t,e,n){function r(t){return(JSON.parse||JSON.decode)(t)}function i(t){this.con=t}function o(){this.id=o.id++}var a=t(105),s=t(86);a.aug(i.prototype,{expose:function(t){this.con.bind("message",this._handleRequest(t))},call:function(t){var e,n=this;return this._requests||(this._requests={},this.con.bind("message",function(t){var e;try{t=r(t)}catch(i){return}t.callback&&"number"==typeof t.id&&(e=n._requests[t.id])&&(t.error?e.trigger("error",t):e.trigger("success",t),delete n._requests[t.id])})),e=new o,this._requests[e.id]=e,e.send(this.con,t,Array.prototype.slice.call(arguments,1))},_handleRequest:function(t){var e=this;return function(n){var i,o;try{n=r(n)}catch(a){return}n.callback||"number"==typeof n.id&&"function"==typeof t[n.method]&&(o=e._responseCallbacks(n.id),i=t[n.method].apply(t,n.params.concat(o)),"undefined"!=typeof i&&o[0](i))}},_responseCallbacks:function(t){var e=this.con;return[function(n){e.send(JSON.stringify({id:t,result:n,callback:!0}))},function n(r){e.send(JSON.stringify({id:t,error:n,callback:r}))}]}}),o.id=0,a.aug(o.prototype,s.Emitter,{send:function(t,e,n){return t.send(JSON.stringify({id:this.id,method:e,params:n})),this},success:function(t){return this.bind("success",t),this},error:function(t){return this.bind("error",t),this}}),e.exports=function(t){return new i(t)}},{105:105,86:86}],192:[function(t,e,n){function r(){}function i(t){this.transportMethod="PostMessage",this.options=t,this._createChild()}function o(t){this.transportMethod="Flash",this.options=t,this.token=Math.random().toString(16).substring(2),this._setup()}function a(t){this.transportMethod="Fallback",this.options=t,this._createChild()}var s,u=t(17),c=t(20),d=t(189),l=t(105),f=t(85),h=t(33),p="__ready__",m=0;r.prototype=new d.Connection,l.aug(r.prototype,{_createChild:function(){this.options.window?this._createWindow():this._createIframe()},_createIframe:function(){function t(){o.child=e.contentWindow,o._ready||o.init()}var e,n,r,i,o=this,a={allowTransparency:!0,frameBorder:"0",scrolling:"no",tabIndex:"0",name:this._name()},d=l.aug(l.aug({},a),this.options.iframe);c.postMessage?(s||(s=u.createElement("iframe")),e=s.cloneNode(!1)):e=u.createElement('<iframe name="'+d.name+'">'),e.id=d.name,l.forIn(d,function(t,n){"style"!=t&&e.setAttribute(t,n)}),i=e.getAttribute("style"),i&&"undefined"!=typeof i.cssText?i.cssText=d.style:e.style.cssText=d.style,e.addEventListener("load",t,!1),e.src=this._source(),(n=this.options.appendTo)?n.appendChild(e):(r=this.options.replace)?(n=r.parentNode,n&&n.replaceChild(e,r)):u.body.insertBefore(e,u.body.firstChild)},_createWindow:function(){var t=h.open(this._source()).popup;t&&t.focus(),this.child=t,this.init()},_source:function(){return this.options.src},_name:function(){var t="_xd_"+m++;return c.parent&&c.parent!=c&&c.name&&(t=c.name+t),t}}),i.prototype=new r,l.aug(i.prototype,{init:function(){function t(t){t.source===e.child&&(e._ready||t.data!==p?e.receive(t.data):e.ready())}var e=this;c.addEventListener("message",t,!1)},_performSend:function(t){this.child.postMessage(t,this.options.src)}}),o.prototype=new r,l.aug(o.prototype,{_setup:function(){var e=this,n=t(190);c["__xdcb"+e.token]={receive:function(t){e._ready||t!==p?e.receive(t):e.ready()},loaded:function(){}};var r=u.createElement("div");r.innerHTML=n.object("https://platform.twitter.com/xd/ft.swf?&token="+e.token+"&parent=true&callback=__xdcb"+e.token+"&xdomain="+e._host(),e.token),u.body.insertBefore(r,u.body.firstChild),e.proxy=r.firstChild,e._createChild()},init:function(){},_performSend:function(t){this.proxy.send(t)},_host:function(){return this.options.src.replace(/https?:\/\//,"").split(/(:|\/)/)[0]},_source:function(){return this.options.src+(this.options.src.match(/\?/)?"&":"?")+"xd_token="+c.escape(this.token)}}),a.prototype=new r,l.aug(a.prototype,{init:function(){},_performSend:function(){}}),e.exports={connect:function(t){return!f.canPostMessage()||f.anyIE()&&t.window?f.anyIE()&&f.flashEnabled()?new o(t):new a(t):new i(t)}}},{105:105,17:17,189:189,190:190,20:20,33:33,85:85}]},{},[68])))}();‘	9:;<_text/javascript_,http://www.google-analytics.com/analytics.jsOÑbplist00‘opX$versionX$objectsY$archiverT$top Ü†Ø##)*0123OPQRSTUVWXYZ[\]^_`abcdehijU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄ Ä"ÄÄ!Ä”$%&'(WNS.base[NS.relativeÄ ÄÄ_,http://www.google-analytics.com/analytics.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçô¬Ò£° »”456BNWNS.keysZNS.objects´789:;<=>?@AÄ	Ä
ÄÄÄÄÄÄÄÄÄ´CDEFGHIJKLMÄÄÄÄÄÄÄÄÄÄÄÄ_X-Content-Type-Options\Content-TypeVServer]Last-ModifiedTVarySAgeTDate_Content-Encoding^Content-Length]Cache-ControlWExpiresWnosniff_text/javascriptWGFE/2.0_Thu, 06 Aug 2015 18:26:56 GMT_Accept-EncodingT1953_Wed, 26 Aug 2015 06:20:18 GMTTgzipU11090_public, max-age=7200_Wed, 26 Aug 2015 08:20:18 GMT“+,fg\NSDictionary¢f/+R_text/javascript“+,kl_NSHTTPURLResponse£mn/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—qr_WebResourceResponseÄ    # - 2 7 ] c ~ Å Ö à ã é í ï ú ü ¢ • ® ´ ≠ Ø ± ≥ µ ∂ ∏ ∫ º æ ¿ ¬ ƒ À ” ﬂ · „ Â$-36?HJLS[frtvxz|~ÄÇÑÜàîñòöúû†¢§¶®™¨≈“ŸÁÏı%-5GOoÅÜ¶´±»ËÌ˙˝ +/CQcf|             s              ~Ob§(function(){var n=Math,f=window,aa=encodeURIComponent;function Pc(a,b){return a.href=b}
var m="match",Ab="href",Ga="sendBeacon",A="split",H="join",ha="slice",jd="target",v="name",C="call",na="clientHeight",z="prototype",ja="port",t="indexOf",kd="action",Qc="replace",ia="defaultValue",ma="hostname",F="substring",q="data",p="push",B="location",ga="search",E="protocol",ra="hasOwnProperty",G="apply",oa="navigator",la="clientWidth",r="cookie",y="length",pa="test",I="toLowerCase",h="hash",id="setAttribute",da="getTime",u="createElement";var $c=function(a){this.w=a||[]};$c[z].set=function(a){this.w[a]=!0};$c[z].encode=function(){for(var a=[],b=0;b<this.w[y];b++)this.w[b]&&(a[n.floor(b/6)]=a[n.floor(b/6)]^1<<b%6);for(b=0;b<a[y];b++)a[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a[b]||0);return a[H]("")+"~"};var vd=new $c;function J(a){vd.set(a)}var Nd=function(a,b){var c=new $c(Dd(a));c.set(b);a.set(Gd,c.w)},Td=function(a){a=Dd(a);a=new $c(a);for(var b=vd.w[ha](),c=0;c<a.w[y];c++)b[c]=b[c]||a.w[c];return(new $c(b)).encode()},Dd=function(a){a=a.get(Gd);ka(a)||(a=[]);return a};var ea=function(a){return"function"==typeof a},ka=function(a){return"[object Array]"==Object[z].toString[C](Object(a))},qa=function(a){return void 0!=a&&-1<(a.constructor+"")[t]("String")},D=function(a,b){return 0==a[t](b)},sa=function(a){return a?a[Qc](/^[\s\xa0]+|[\s\xa0]+$/g,""):""},ta=function(a){var b=M[u]("img");b.width=1;b.height=1;b.src=a;return b},ua=function(){},K=function(a){if(aa instanceof Function)return aa(a);J(28);return a},L=function(a,b,c,d){try{a.addEventListener?a.addEventListener(b,
c,!!d):a.attachEvent&&a.attachEvent("on"+b,c)}catch(e){J(27)}},wa=function(a,b){if(a){var c=M[u]("script");c.type="text/javascript";c.async=!0;c.src=a;b&&(c.id=b);var d=M.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}},Ud=function(){return"https:"==M[B][E]},xa=function(){var a=""+M[B][ma];return 0==a[t]("www.")?a[F](4):a},ya=function(a){var b=M.referrer;if(/^https?:\/\//i[pa](b)){if(a)return b;a="//"+M[B][ma];var c=b[t](a);if(5==c||6==c)if(a=b.charAt(c+a[y]),"/"==a||"?"==a||""==
a||":"==a)return;return b}},za=function(a,b){if(1==b[y]&&null!=b[0]&&"object"===typeof b[0])return b[0];for(var c={},d=n.min(a[y]+1,b[y]),e=0;e<d;e++)if("object"===typeof b[e]){for(var g in b[e])b[e][ra](g)&&(c[g]=b[e][g]);break}else e<a[y]&&(c[a[e]]=b[e]);return c};var ee=function(){this.keys=[];this.values={};this.m={}};ee[z].set=function(a,b,c){this.keys[p](a);c?this.m[":"+a]=b:this.values[":"+a]=b};ee[z].get=function(a){return this.m[ra](":"+a)?this.m[":"+a]:this.values[":"+a]};ee[z].map=function(a){for(var b=0;b<this.keys[y];b++){var c=this.keys[b],d=this.get(c);d&&a(c,d)}};var O=f,M=document,Mc=function(){for(var a=O[oa].userAgent+(M[r]?M[r]:"")+(M.referrer?M.referrer:""),b=a[y],c=O.history[y];0<c;)a+=c--^b++;return La(a)};var Aa=function(a){var b=O._gaUserPrefs;if(b&&b.ioo&&b.ioo()||a&&!0===O["ga-disable-"+a])return!0;try{var c=O.external;if(c&&c._gaUserPrefs&&"oo"==c._gaUserPrefs)return!0}catch(d){}return!1};var Ca=function(a){var b=[],c=M[r][A](";");a=new RegExp("^\\s*"+a+"=\\s*(.*?)\\s*$");for(var d=0;d<c[y];d++){var e=c[d][m](a);e&&b[p](e[1])}return b},zc=function(a,b,c,d,e,g){e=Aa(e)?!1:eb[pa](M[B][ma])||"/"==c&&vc[pa](d)?!1:!0;if(!e)return!1;b&&1200<b[y]&&(b=b[F](0,1200),J(24));c=a+"="+b+"; path="+c+"; ";g&&(c+="expires="+(new Date((new Date)[da]()+g)).toGMTString()+"; ");d&&"none"!=d&&(c+="domain="+d+";");d=M[r];M.cookie=c;if(!(d=d!=M[r]))a:{a=Ca(a);for(d=0;d<a[y];d++)if(b==a[d]){d=!0;break a}d=
!1}return d},Cc=function(a){return K(a)[Qc](/\(/g,"%28")[Qc](/\)/g,"%29")},vc=/^(www\.)?google(\.com?)?(\.[a-z]{2})?$/,eb=/(^|\.)doubleclick\.net$/i;var oc=function(){return(Ba||Ud()?"https:":"http:")+"//www.google-analytics.com"},Da=function(a){this.name="len";this.message=a+"-8192"},ba=function(a,b,c){c=c||ua;if(2036>=b[y])wc(a,b,c);else if(8192>=b[y])x(a,b,c)||wd(a,b,c)||wc(a,b,c);else throw ge("len",b[y]),new Da(b[y]);},wc=function(a,b,c){var d=ta(a+"?"+b);d.onload=d.onerror=function(){d.onload=null;d.onerror=null;c()}},wd=function(a,b,c){var d=O.XMLHttpRequest;if(!d)return!1;var e=new d;if(!("withCredentials"in e))return!1;e.open("POST",
a,!0);e.withCredentials=!0;e.setRequestHeader("Content-Type","text/plain");e.onreadystatechange=function(){4==e.readyState&&(c(),e=null)};e.send(b);return!0},x=function(a,b,c){return O[oa][Ga]?O[oa][Ga](a,b)?(c(),!0):!1:!1},ge=function(a,b,c){1<=100*n.random()||Aa("?")||(a=["t=error","_e="+a,"_v=j38","sr=1"],b&&a[p]("_f="+b),c&&a[p]("_m="+K(c[F](0,100))),a[p]("aip=1"),a[p]("z="+fe()),wc(oc()+"/collect",a[H]("&"),ua))};var Ha=function(){this.M=[]};Ha[z].add=function(a){this.M[p](a)};Ha[z].D=function(a){try{for(var b=0;b<this.M[y];b++){var c=a.get(this.M[b]);c&&ea(c)&&c[C](O,a)}}catch(d){}b=a.get(Ia);b!=ua&&ea(b)&&(a.set(Ia,ua,!0),setTimeout(b,10))};function Ja(a){if(100!=a.get(Ka)&&La(P(a,Q))%1E4>=100*R(a,Ka))throw"abort";}function Ma(a){if(Aa(P(a,Na)))throw"abort";}function Oa(){var a=M[B][E];if("http:"!=a&&"https:"!=a)throw"abort";}
function Pa(a){try{O[oa][Ga]?J(42):O.XMLHttpRequest&&"withCredentials"in new O.XMLHttpRequest&&J(40)}catch(b){}a.set(ld,Td(a),!0);a.set(Ac,R(a,Ac)+1);var c=[];Qa.map(function(b,e){if(e.F){var g=a.get(b);void 0!=g&&g!=e[ia]&&("boolean"==typeof g&&(g*=1),c[p](e.F+"="+K(""+g)))}});c[p]("z="+Bd());a.set(Ra,c[H]("&"),!0)}
function Sa(a){var b=P(a,gd)||oc()+"/collect",c=P(a,fa);!c&&a.get(Vd)&&(c="beacon");if(c){var d=P(a,Ra),e=a.get(Ia),e=e||ua;"image"==c?wc(b,d,e):"xhr"==c&&wd(b,d,e)||"beacon"==c&&x(b,d,e)||ba(b,d,e)}else ba(b,P(a,Ra),a.get(Ia));a.set(Ia,ua,!0)}function Hc(a){var b=O.gaData;b&&(b.expId&&a.set(Nc,b.expId),b.expVar&&a.set(Oc,b.expVar))}function cd(){if(O[oa]&&"preview"==O[oa].loadPurpose)throw"abort";}function yd(a){var b=O.gaDevIds;ka(b)&&0!=b[y]&&a.set("&did",b[H](","),!0)}
function vb(a){if(!a.get(Na))throw"abort";};var hd=function(){return n.round(2147483647*n.random())},Bd=function(){try{var a=new Uint32Array(1);O.crypto.getRandomValues(a);return a[0]&2147483647}catch(b){return hd()}},fe=hd;function Ta(a){var b=R(a,Ua);500<=b&&J(15);var c=P(a,Va);if("transaction"!=c&&"item"!=c){var c=R(a,Wa),d=(new Date)[da](),e=R(a,Xa);0==e&&a.set(Xa,d);e=n.round(2*(d-e)/1E3);0<e&&(c=n.min(c+e,20),a.set(Xa,d));if(0>=c)throw"abort";a.set(Wa,--c)}a.set(Ua,++b)};var Ya=function(){this.data=new ee},Qa=new ee,Za=[];Ya[z].get=function(a){var b=$a(a),c=this[q].get(a);b&&void 0==c&&(c=ea(b[ia])?b[ia]():b[ia]);return b&&b.Z?b.Z(this,a,c):c};var P=function(a,b){var c=a.get(b);return void 0==c?"":""+c},R=function(a,b){var c=a.get(b);return void 0==c||""===c?0:1*c};Ya[z].set=function(a,b,c){if(a)if("object"==typeof a)for(var d in a)a[ra](d)&&ab(this,d,a[d],c);else ab(this,a,b,c)};
var ab=function(a,b,c,d){if(void 0!=c)switch(b){case Na:wb[pa](c)}var e=$a(b);e&&e.o?e.o(a,b,c,d):a[q].set(b,c,d)},bb=function(a,b,c,d,e){this.name=a;this.F=b;this.Z=d;this.o=e;this.defaultValue=c},$a=function(a){var b=Qa.get(a);if(!b)for(var c=0;c<Za[y];c++){var d=Za[c],e=d[0].exec(a);if(e){b=d[1](e);Qa.set(b[v],b);break}}return b},yc=function(a){var b;Qa.map(function(c,d){d.F==a&&(b=d)});return b&&b[v]},S=function(a,b,c,d,e){a=new bb(a,b,c,d,e);Qa.set(a[v],a);return a[v]},cb=function(a,b){Za[p]([new RegExp("^"+
a+"$"),b])},T=function(a,b,c){return S(a,b,c,void 0,db)},db=function(){};var gb=qa(f.GoogleAnalyticsObject)&&sa(f.GoogleAnalyticsObject)||"ga",Ba=!1,he=S("_br"),hb=T("apiVersion","v"),ib=T("clientVersion","_v");S("anonymizeIp","aip");var jb=S("adSenseId","a"),Va=S("hitType","t"),Ia=S("hitCallback"),Ra=S("hitPayload");S("nonInteraction","ni");S("currencyCode","cu");S("dataSource","ds");var Vd=S("useBeacon",void 0,!1),fa=S("transport");S("sessionControl","sc","");S("sessionGroup","sg");S("queueTime","qt");var Ac=S("_s","_s");S("screenName","cd");
var kb=S("location","dl",""),lb=S("referrer","dr"),mb=S("page","dp","");S("hostname","dh");var nb=S("language","ul"),ob=S("encoding","de");S("title","dt",function(){return M.title||void 0});cb("contentGroup([0-9]+)",function(a){return new bb(a[0],"cg"+a[1])});var pb=S("screenColors","sd"),qb=S("screenResolution","sr"),rb=S("viewportSize","vp"),sb=S("javaEnabled","je"),tb=S("flashVersion","fl");S("campaignId","ci");S("campaignName","cn");S("campaignSource","cs");S("campaignMedium","cm");
S("campaignKeyword","ck");S("campaignContent","cc");var ub=S("eventCategory","ec"),xb=S("eventAction","ea"),yb=S("eventLabel","el"),zb=S("eventValue","ev"),Bb=S("socialNetwork","sn"),Cb=S("socialAction","sa"),Db=S("socialTarget","st"),Eb=S("l1","plt"),Fb=S("l2","pdt"),Gb=S("l3","dns"),Hb=S("l4","rrt"),Ib=S("l5","srt"),Jb=S("l6","tcp"),Kb=S("l7","dit"),Lb=S("l8","clt"),Mb=S("timingCategory","utc"),Nb=S("timingVar","utv"),Ob=S("timingLabel","utl"),Pb=S("timingValue","utt");S("appName","an");
S("appVersion","av","");S("appId","aid","");S("appInstallerId","aiid","");S("exDescription","exd");S("exFatal","exf");var Nc=S("expId","xid"),Oc=S("expVar","xvar"),Rc=S("_utma","_utma"),Sc=S("_utmz","_utmz"),Tc=S("_utmht","_utmht"),Ua=S("_hc",void 0,0),Xa=S("_ti",void 0,0),Wa=S("_to",void 0,20);cb("dimension([0-9]+)",function(a){return new bb(a[0],"cd"+a[1])});cb("metric([0-9]+)",function(a){return new bb(a[0],"cm"+a[1])});S("linkerParam",void 0,void 0,Bc,db);var ld=S("usage","_u"),Gd=S("_um");
S("forceSSL",void 0,void 0,function(){return Ba},function(a,b,c){J(34);Ba=!!c});var ed=S("_j1","jid");cb("\\&(.*)",function(a){var b=new bb(a[0],a[1]),c=yc(a[0][F](1));c&&(b.Z=function(a){return a.get(c)},b.o=function(a,b,g,ca){a.set(c,g,ca)},b.F=void 0);return b});
var Qb=T("_oot"),dd=S("previewTask"),Rb=S("checkProtocolTask"),md=S("validationTask"),Sb=S("checkStorageTask"),Uc=S("historyImportTask"),Tb=S("samplerTask"),Vb=S("_rlt"),Wb=S("buildHitTask"),Xb=S("sendHitTask"),Vc=S("ceTask"),zd=S("devIdTask"),Cd=S("timingTask"),Ld=S("displayFeaturesTask"),V=T("name"),Q=T("clientId","cid"),Ad=S("userId","uid"),Na=T("trackingId","tid"),U=T("cookieName",void 0,"_ga"),W=T("cookieDomain"),Yb=T("cookiePath",void 0,"/"),Zb=T("cookieExpires",void 0,63072E3),$b=T("legacyCookieDomain"),
Wc=T("legacyHistoryImport",void 0,!0),ac=T("storage",void 0,"cookie"),bc=T("allowLinker",void 0,!1),cc=T("allowAnchor",void 0,!0),Ka=T("sampleRate","sf",100),dc=T("siteSpeedSampleRate",void 0,1),ec=T("alwaysSendReferrer",void 0,!1),gd=S("transportUrl"),Md=S("_r","_r");function X(a,b,c,d){b[a]=function(){try{return d&&J(d),c[G](this,arguments)}catch(b){throw ge("exc",a,b&&b[v]),b;}}};var Od=function(a,b,c){this.V=1E4;this.fa=a;this.$=!1;this.B=b;this.ea=c||1},Ed=function(a,b){var c;if(a.fa&&a.$)return 0;a.$=!0;if(b){if(a.B&&R(b,a.B))return R(b,a.B);if(0==b.get(dc))return 0}if(0==a.V)return 0;void 0===c&&(c=Bd());return 0==c%a.V?n.floor(c/a.V)%a.ea+1:0};var ie=new Od(!0,he,7),je=function(a){if(!Ud()&&!Ba){var b=Ed(ie,a);if(b&&!(!O[oa][Ga]&&4<=b&&6>=b)){var c=(new Date).getHours(),d=[Bd(),Bd(),Bd()][H](".");a=(3==b||5==b?"https:":"http:")+"//www.google-analytics.com/collect?z=br.";a+=[b,"A",c,d][H](".");var e=1!=b%3?"https:":"http:",e=e+"//www.google-analytics.com/collect?z=br.",e=e+[b,"B",c,d][H](".");7==b&&(e=e[Qc]("//www.","//ssl."));c=function(){4<=b&&6>=b?O[oa][Ga](e,""):ta(e)};Bd()%2?(ta(a),c()):(c(),ta(a))}}};function fc(){var a,b,c;if((c=(c=O[oa])?c.plugins:null)&&c[y])for(var d=0;d<c[y]&&!b;d++){var e=c[d];-1<e[v][t]("Shockwave Flash")&&(b=e.description)}if(!b)try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),b=a.GetVariable("$version")}catch(g){}if(!b)try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),b="WIN 6,0,21,0",a.AllowScriptAccess="always",b=a.GetVariable("$version")}catch(ca){}if(!b)try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),b=a.GetVariable("$version")}catch(l){}b&&
(a=b[m](/[\d]+/g))&&3<=a[y]&&(b=a[0]+"."+a[1]+" r"+a[2]);return b||void 0};var gc=function(a,b){var c=n.min(R(a,dc),100);if(!(La(P(a,Q))%100>=c)&&(c={},Ec(c)||Fc(c))){var d=c[Eb];void 0==d||Infinity==d||isNaN(d)||(0<d?(Y(c,Gb),Y(c,Jb),Y(c,Ib),Y(c,Fb),Y(c,Hb),Y(c,Kb),Y(c,Lb),b(c)):L(O,"load",function(){gc(a,b)},!1))}},Ec=function(a){var b=O.performance||O.webkitPerformance,b=b&&b.timing;if(!b)return!1;var c=b.navigationStart;if(0==c)return!1;a[Eb]=b.loadEventStart-c;a[Gb]=b.domainLookupEnd-b.domainLookupStart;a[Jb]=b.connectEnd-b.connectStart;a[Ib]=b.responseStart-b.requestStart;
a[Fb]=b.responseEnd-b.responseStart;a[Hb]=b.fetchStart-c;a[Kb]=b.domInteractive-c;a[Lb]=b.domContentLoadedEventStart-c;return!0},Fc=function(a){if(O.top!=O)return!1;var b=O.external,c=b&&b.onloadT;b&&!b.isValidLoadTime&&(c=void 0);2147483648<c&&(c=void 0);0<c&&b.setPageReadyTime();if(void 0==c)return!1;a[Eb]=c;return!0},Y=function(a,b){var c=a[b];if(isNaN(c)||Infinity==c||0>c)a[b]=void 0},Fd=function(a){return function(b){"pageview"!=b.get(Va)||a.I||(a.I=!0,gc(b,function(b){a.send("timing",b)}))}};var hc=!1,mc=function(a){if("cookie"==P(a,ac)){var b=P(a,U),c=nd(a),d=kc(P(a,Yb)),e=lc(P(a,W)),g=1E3*R(a,Zb),ca=P(a,Na);if("auto"!=e)zc(b,c,d,e,ca,g)&&(hc=!0);else{J(32);var l;a:{c=[];e=xa()[A](".");if(4==e[y]&&(l=e[e[y]-1],parseInt(l,10)==l)){l=["none"];break a}for(l=e[y]-2;0<=l;l--)c[p](e[ha](l)[H]("."));c[p]("none");l=c}for(var k=0;k<l[y];k++)if(e=l[k],a[q].set(W,e),c=nd(a),zc(b,c,d,e,ca,g)){hc=!0;return}a[q].set(W,"auto")}}},nc=function(a){if("cookie"==P(a,ac)&&!hc&&(mc(a),!hc))throw"abort";},
Yc=function(a){if(a.get(Wc)){var b=P(a,W),c=P(a,$b)||xa(),d=Xc("__utma",c,b);d&&(J(19),a.set(Tc,(new Date)[da](),!0),a.set(Rc,d.R),(b=Xc("__utmz",c,b))&&d[h]==b[h]&&a.set(Sc,b.R))}},nd=function(a){var b=Cc(P(a,Q)),c=ic(P(a,W));a=jc(P(a,Yb));1<a&&(c+="-"+a);return["GA1",c,b][H](".")},Gc=function(a,b,c){for(var d=[],e=[],g,ca=0;ca<a[y];ca++){var l=a[ca];if(l.H[c]==b)d[p](l);else void 0==g||l.H[c]<g?(e=[l],g=l.H[c]):l.H[c]==g&&e[p](l)}return 0<d[y]?d:e},lc=function(a){return 0==a[t](".")?a.substr(1):
a},ic=function(a){return lc(a)[A](".")[y]},kc=function(a){if(!a)return"/";1<a[y]&&a.lastIndexOf("/")==a[y]-1&&(a=a.substr(0,a[y]-1));0!=a[t]("/")&&(a="/"+a);return a},jc=function(a){a=kc(a);return"/"==a?1:a[A]("/")[y]};function Xc(a,b,c){"none"==b&&(b="");var d=[],e=Ca(a);a="__utma"==a?6:2;for(var g=0;g<e[y];g++){var ca=(""+e[g])[A](".");ca[y]>=a&&d[p]({hash:ca[0],R:e[g],O:ca})}return 0==d[y]?void 0:1==d[y]?d[0]:Zc(b,d)||Zc(c,d)||Zc(null,d)||d[0]}function Zc(a,b){var c,d;null==a?c=d=1:(c=La(a),d=La(D(a,".")?a[F](1):"."+a));for(var e=0;e<b[y];e++)if(b[e][h]==c||b[e][h]==d)return b[e]};var od=new RegExp(/^https?:\/\/([^\/:]+)/),pd=/(.*)([?&#])(?:_ga=[^&#]*)(?:&?)(.*)/;function Bc(a){a=a.get(Q);var b=Ic(a,0);return"_ga=1."+K(b+"."+a)}function Ic(a,b){for(var c=new Date,d=O[oa],e=d.plugins||[],c=[a,d.userAgent,c.getTimezoneOffset(),c.getYear(),c.getDate(),c.getHours(),c.getMinutes()+b],d=0;d<e[y];++d)c[p](e[d].description);return La(c[H]("."))}var Dc=function(a){J(48);this.target=a;this.T=!1};
Dc[z].ca=function(a,b){if(a.tagName){if("a"==a.tagName[I]()){a[Ab]&&Pc(a,qd(this,a[Ab],b));return}if("form"==a.tagName[I]())return rd(this,a)}if("string"==typeof a)return qd(this,a,b)};
var qd=function(a,b,c){var d=pd.exec(b);d&&3<=d[y]&&(b=d[1]+(d[3]?d[2]+d[3]:""));a=a[jd].get("linkerParam");var e=b[t]("?"),d=b[t]("#");c?b+=(-1==d?"#":"&")+a:(c=-1==e?"?":"&",b=-1==d?b+(c+a):b[F](0,d)+c+a+b[F](d));return b},rd=function(a,b){if(b&&b[kd]){var c=a[jd].get("linkerParam")[A]("=")[1];if("get"==b.method[I]()){for(var d=b.childNodes||[],e=0;e<d[y];e++)if("_ga"==d[e][v]){d[e][id]("value",c);return}d=M[u]("input");d[id]("type","hidden");d[id]("name","_ga");d[id]("value",c);b.appendChild(d)}else"post"==
b.method[I]()&&(b.action=qd(a,b[kd]))}};
Dc[z].S=function(a,b,c){function d(c){try{c=c||O.event;var d;a:{var g=c[jd]||c.srcElement;for(c=100;g&&0<c;){if(g[Ab]&&g.nodeName[m](/^a(?:rea)?$/i)){d=g;break a}g=g.parentNode;c--}d={}}("http:"==d[E]||"https:"==d[E])&&sd(a,d[ma]||"")&&d[Ab]&&Pc(d,qd(e,d[Ab],b))}catch(w){J(26)}}var e=this;this.T||(this.T=!0,L(M,"mousedown",d,!1),L(M,"keyup",d,!1));if(c){c=function(b){b=b||O.event;if((b=b[jd]||b.srcElement)&&b[kd]){var c=b[kd][m](od);c&&sd(a,c[1])&&rd(e,b)}};for(var g=0;g<M.forms[y];g++)L(M.forms[g],
"submit",c)}};function sd(a,b){if(b==M[B][ma])return!1;for(var c=0;c<a[y];c++)if(a[c]instanceof RegExp){if(a[c][pa](b))return!0}else if(0<=b[t](a[c]))return!0;return!1};var Jd=function(a,b,c){this.U=ed;this.aa=b;(b=c)||(b=(b=P(a,V))&&"t0"!=b?Wd[pa](b)?"_gat_"+Cc(P(a,Na)):"_gat_"+Cc(b):"_gat");this.Y=b},Rd=function(a,b){var c=b.get(Wb);b.set(Wb,function(b){Pd(a,b);var d=c(b);Qd(a,b);return d});var d=b.get(Xb);b.set(Xb,function(b){var c=d(b);Id(a,b);return c})},Pd=function(a,b){b.get(a.U)||("1"==Ca(a.Y)[0]?b.set(a.U,"",!0):b.set(a.U,""+fe(),!0))},Qd=function(a,b){b.get(a.U)&&zc(a.Y,"1",b.get(Yb),b.get(W),b.get(Na),6E5)},Id=function(a,b){if(b.get(a.U)){var c=new ee,
d=function(a){$a(a).F&&c.set($a(a).F,b.get(a))};d(hb);d(ib);d(Na);d(Q);d(a.U);c.set($a(ld).F,Td(b));var e=a.aa;c.map(function(a,b){e+=K(a)+"=";e+=K(""+b)+"&"});e+="z="+fe();ta(e);b.set(a.U,"",!0)}},Wd=/^gtm\d+$/;var fd=function(a,b){var c=a.b;if(!c.get("dcLoaded")){Nd(c,29);b=b||{};var d;b[U]&&(d=Cc(b[U]));d=new Jd(c,"https://stats.g.doubleclick.net/r/collect?t=dc&aip=1&_r=3&",d);Rd(d,c);c.set("dcLoaded",!0)}};var Sd=function(a){var b;b=a.get("dcLoaded")?!1:"cookie"!=a.get(ac)?!1:!0;b&&(Nd(a,51),b=new Jd(a),Pd(b,a),Qd(b,a),a.get(b.U)&&(a.set(Md,1,!0),a.set(gd,oc()+"/r/collect",!0)))};var Lc=function(){var a=O.gaGlobal=O.gaGlobal||{};return a.hid=a.hid||fe()};var ad,bd=function(a,b,c){if(!ad){var d;d=M[B][h];var e=O[v],g=/^#?gaso=([^&]*)/;if(e=(d=(d=d&&d[m](g)||e&&e[m](g))?d[1]:Ca("GASO")[0]||"")&&d[m](/^(?:!([-0-9a-z.]{1,40})!)?([-.\w]{10,1200})$/i))zc("GASO",""+d,c,b,a,0),f._udo||(f._udo=b),f._utcp||(f._utcp=c),a=e[1],wa("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(a?"prefix="+a+"&":"")+fe(),"_gasojs");ad=!0}};var wb=/^(UA|YT|MO|GP)-(\d+)-(\d+)$/,pc=function(a){function b(a,b){d.b[q].set(a,b)}function c(a,c){b(a,c);d.filters.add(a)}var d=this;this.b=new Ya;this.filters=new Ha;b(V,a[V]);b(Na,sa(a[Na]));b(U,a[U]);b(W,a[W]||xa());b(Yb,a[Yb]);b(Zb,a[Zb]);b($b,a[$b]);b(Wc,a[Wc]);b(bc,a[bc]);b(cc,a[cc]);b(Ka,a[Ka]);b(dc,a[dc]);b(ec,a[ec]);b(ac,a[ac]);b(Ad,a[Ad]);b(hb,1);b(ib,"j38");c(Qb,Ma);c(dd,cd);c(Rb,Oa);c(md,vb);c(Sb,nc);c(Uc,Yc);c(Tb,Ja);c(Vb,Ta);c(Vc,Hc);c(zd,yd);c(Ld,Sd);c(Wb,Pa);c(Xb,Sa);c(Cd,Fd(this));
Jc(this.b,a[Q]);Kc(this.b);this.b.set(jb,Lc());bd(this.b.get(Na),this.b.get(W),this.b.get(Yb))},Jc=function(a,b){if("cookie"==P(a,ac)){hc=!1;var c;b:{var d=Ca(P(a,U));if(d&&!(1>d[y])){c=[];for(var e=0;e<d[y];e++){var g;g=d[e][A](".");var ca=g.shift();("GA1"==ca||"1"==ca)&&1<g[y]?(ca=g.shift()[A]("-"),1==ca[y]&&(ca[1]="1"),ca[0]*=1,ca[1]*=1,g={H:ca,s:g[H](".")}):g=void 0;g&&c[p](g)}if(1==c[y]){J(13);c=c[0].s;break b}if(0==c[y])J(12);else{J(14);d=ic(P(a,W));c=Gc(c,d,0);if(1==c[y]){c=c[0].s;break b}d=
jc(P(a,Yb));c=Gc(c,d,1);c=c[0]&&c[0].s;break b}}c=void 0}c||(c=P(a,W),d=P(a,$b)||xa(),c=Xc("__utma",d,c),void 0!=c?(J(10),c=c.O[1]+"."+c.O[2]):c=void 0);c&&(a[q].set(Q,c),hc=!0)}c=a.get(cc);if(e=(c=M[B][c?"href":"search"][m]("(?:&|#|\\?)"+K("_ga")[Qc](/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+"=([^&#]*)"))&&2==c[y]?c[1]:"")a.get(bc)?(c=e[t]("."),-1==c?J(22):(d=e[F](c+1),"1"!=e[F](0,c)?J(22):(c=d[t]("."),-1==c?J(22):(e=d[F](0,c),c=d[F](c+1),e!=Ic(c,0)&&e!=Ic(c,-1)&&e!=Ic(c,-2)?J(23):(J(11),a[q].set(Q,
c)))))):J(21);b&&(J(9),a[q].set(Q,K(b)));a.get(Q)||((c=(c=O.gaGlobal&&O.gaGlobal.vid)&&-1!=c[ga](/^(?:utma\.)?\d+\.\d+$/)?c:void 0)?(J(17),a[q].set(Q,c)):(J(8),a[q].set(Q,[fe()^Mc()&2147483647,n.round((new Date)[da]()/1E3)][H]("."))));mc(a)},Kc=function(a){var b=O[oa],c=O.screen,d=M[B];a.set(lb,ya(a.get(ec)));if(d){var e=d.pathname||"";"/"!=e.charAt(0)&&(J(31),e="/"+e);a.set(kb,d[E]+"//"+d[ma]+e+d[ga])}c&&a.set(qb,c.width+"x"+c.height);c&&a.set(pb,c.colorDepth+"-bit");var c=M.documentElement,g=(e=
M.body)&&e[la]&&e[na],ca=[];c&&c[la]&&c[na]&&("CSS1Compat"===M.compatMode||!g)?ca=[c[la],c[na]]:g&&(ca=[e[la],e[na]]);c=0>=ca[0]||0>=ca[1]?"":ca[H]("x");a.set(rb,c);a.set(tb,fc());a.set(ob,M.characterSet||M.charset);a.set(sb,b&&"function"===typeof b.javaEnabled&&b.javaEnabled()||!1);a.set(nb,(b&&(b.language||b.browserLanguage)||"")[I]());if(d&&a.get(cc)&&(b=M[B][h])){b=b[A](/[?&#]+/);d=[];for(c=0;c<b[y];++c)(D(b[c],"utm_id")||D(b[c],"utm_campaign")||D(b[c],"utm_source")||D(b[c],"utm_medium")||D(b[c],
"utm_term")||D(b[c],"utm_content")||D(b[c],"gclid")||D(b[c],"dclid")||D(b[c],"gclsrc"))&&d[p](b[c]);0<d[y]&&(b="#"+d[H]("&"),a.set(kb,a.get(kb)+b))}};pc[z].get=function(a){return this.b.get(a)};pc[z].set=function(a,b){this.b.set(a,b)};var qc={pageview:[mb],event:[ub,xb,yb,zb],social:[Bb,Cb,Db],timing:[Mb,Nb,Pb,Ob]};
pc[z].send=function(a){if(!(1>arguments[y])){var b,c;"string"===typeof arguments[0]?(b=arguments[0],c=[][ha][C](arguments,1)):(b=arguments[0]&&arguments[0][Va],c=arguments);b&&(c=za(qc[b]||[],c),c[Va]=b,this.b.set(c,void 0,!0),this.filters.D(this.b),this.b[q].m={},je(this.b))}};var rc=function(a){if("prerender"==M.visibilityState)return!1;a();return!0};var td=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,sc=function(a){if(ea(a[0]))this.u=a[0];else{var b=td.exec(a[0]);null!=b&&4==b[y]&&(this.c=b[1]||"t0",this.K=b[2]||"",this.C=b[3],this.a=[][ha][C](a,1),this.K||(this.A="create"==this.C,this.i="require"==this.C,this.g="provide"==this.C,this.ba="remove"==this.C),this.i&&(3<=this.a[y]?(this.X=this.a[1],this.W=this.a[2]):this.a[1]&&(qa(this.a[1])?this.X=this.a[1]:this.W=this.a[1])));b=a[1];a=a[2];if(!this.C)throw"abort";if(this.i&&(!qa(b)||""==b))throw"abort";if(this.g&&
(!qa(b)||""==b||!ea(a)))throw"abort";if(ud(this.c)||ud(this.K))throw"abort";if(this.g&&"t0"!=this.c)throw"abort";}};function ud(a){return 0<=a[t](".")||0<=a[t](":")};var Yd,Zd,$d;Yd=new ee;$d=new ee;Zd={ec:45,ecommerce:46,linkid:47};
var ae=function(a){function b(a){var b=(a[ma]||"")[A](":")[0][I](),c=(a[E]||"")[I](),c=1*a[ja]||("http:"==c?80:"https:"==c?443:"");a=a.pathname||"";D(a,"/")||(a="/"+a);return[b,""+c,a]}var c=M[u]("a");Pc(c,M[B][Ab]);var d=(c[E]||"")[I](),e=b(c),g=c[ga]||"",ca=d+"//"+e[0]+(e[1]?":"+e[1]:"");D(a,"//")?a=d+a:D(a,"/")?a=ca+a:!a||D(a,"?")?a=ca+e[2]+(a||g):0>a[A]("/")[0][t](":")&&(a=ca+e[2][F](0,e[2].lastIndexOf("/"))+"/"+a);Pc(c,a);d=b(c);return{protocol:(c[E]||"")[I](),host:d[0],port:d[1],path:d[2],G:c[ga]||
"",url:a||""}};var Z={ga:function(){Z.f=[]}};Z.ga();Z.D=function(a){var b=Z.J[G](Z,arguments),b=Z.f.concat(b);for(Z.f=[];0<b[y]&&!Z.v(b[0])&&!(b.shift(),0<Z.f[y]););Z.f=Z.f.concat(b)};
Z.J=function(a){for(var b=[],c=0;c<arguments[y];c++)try{var d=new sc(arguments[c]);if(d.g)Yd.set(d.a[0],d.a[1]);else{if(d.i){var e=d,g=e.a[0];if(!ea(Yd.get(g))&&!$d.get(g)){Zd[ra](g)&&J(Zd[g]);var ca=e.X;!ca&&Zd[ra](g)?(J(39),ca=g+".js"):J(43);if(ca){ca&&0<=ca[t]("/")||(ca=(Ba||Ud()?"https:":"http:")+"//www.google-analytics.com/plugins/ua/"+ca);var l=ae(ca),e=void 0;var k=l[E],w=M[B][E],e="https:"==k||k==w?!0:"http:"!=k?!1:"http:"==w;var Xd;if(Xd=e){var e=l,be=ae(M[B][Ab]);if(e.G||0<=e.url[t]("?")||
0<=e.path[t]("://"))Xd=!1;else if(e.host==be.host&&e[ja]==be[ja])Xd=!0;else{var ce="http:"==e[E]?80:443;Xd="www.google-analytics.com"==e.host&&(e[ja]||ce)==ce&&D(e.path,"/plugins/")?!0:!1}}Xd&&(wa(l.url),$d.set(g,!0))}}}b[p](d)}}catch(de){}return b};
Z.v=function(a){try{if(a.u)a.u[C](O,N.j("t0"));else{var b=a.c==gb?N:N.j(a.c);if(a.A)"t0"==a.c&&N.create[G](N,a.a);else if(a.ba)N.remove(a.c);else if(b)if(a.i){var c;var d=a.a[0],e=a.W;b==N||b.get(V);var g=Yd.get(d);ea(g)?(b.plugins_=b.plugins_||new ee,b.plugins_.get(d)||b.plugins_.set(d,new g(b,e||{})),c=!0):c=!1;if(!c)return!0}else if(a.K){var ca=a.C,l=a.a,k=b.plugins_.get(a.K);k[ca][G](k,l)}else b[a.C][G](b,a.a)}}catch(w){}};var N=function(a){J(1);Z.D[G](Z,[arguments])};N.h={};N.P=[];N.L=0;N.answer=42;var uc=[Na,W,V];N.create=function(a){var b=za(uc,[][ha][C](arguments));b[V]||(b[V]="t0");var c=""+b[V];if(N.h[c])return N.h[c];b=new pc(b);N.h[c]=b;N.P[p](b);return b};N.remove=function(a){for(var b=0;b<N.P[y];b++)if(N.P[b].get(V)==a){N.P.splice(b,1);N.h[a]=null;break}};N.j=function(a){return N.h[a]};N.getAll=function(){return N.P[ha](0)};
N.N=function(){"ga"!=gb&&J(49);var a=O[gb];if(!a||42!=a.answer){N.L=a&&a.l;N.loaded=!0;var b=O[gb]=N;X("create",b,b.create);X("remove",b,b.remove);X("getByName",b,b.j,5);X("getAll",b,b.getAll,6);b=pc[z];X("get",b,b.get,7);X("set",b,b.set,4);X("send",b,b.send);b=Ya[z];X("get",b,b.get);X("set",b,b.set);if(!Ud()&&!Ba){a:{for(var b=M.getElementsByTagName("script"),c=0;c<b[y]&&100>c;c++){var d=b[c].src;if(d&&0==d[t]("https://www.google-analytics.com/analytics")){J(33);b=!0;break a}}b=!1}b&&(Ba=!0)}Ud()||
Ba||!Ed(new Od)||(J(36),Ba=!0);(O.gaplugins=O.gaplugins||{}).Linker=Dc;b=Dc[z];Yd.set("linker",Dc);X("decorate",b,b.ca,20);X("autoLink",b,b.S,25);Yd.set("displayfeatures",fd);Yd.set("adfeatures",fd);a=a&&a.q;ka(a)?Z.D[G](N,a):J(50)}};N.da=function(){for(var a=N.getAll(),b=0;b<a[y];b++)a[b].get(V)};
(function(){var a=N.N;if(!rc(a)){J(16);var b=!1,c=function(){if(!b&&rc(a)){b=!0;var d=c,e=M;e.removeEventListener?e.removeEventListener("visibilitychange",d,!1):e.detachEvent&&e.detachEvent("onvisibilitychange",d)}};L(M,"visibilitychange",c)}})();function La(a){var b=1,c=0,d;if(a)for(b=0,d=a[y]-1;0<=d;d--)c=a.charCodeAt(d),b=(b<<6&268435455)+c+(c<<14),c=b&266338304,b=0!=c?b^c>>21:b;return b};})(window);
‘	>?@A_application/x-javascript_)http://rum-static.pingdom.net/prum.min.jsOubplist00‘wxX$versionX$objectsY$archiverT$top Ü†Ø'#)*0123STUVWXYZ[\]^_`abcdefghijklmpqrU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄ$Ä&ÄÄ%Ä”$%&'(WNS.base[NS.relativeÄ ÄÄ_)http://rum-static.pingdom.net/prum.min.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàŒÄ »”456DRWNS.keysZNS.objects≠789:;<=>?@ABCÄ	Ä
ÄÄÄÄÄÄÄÄÄÄÄ≠EFGHIJKLMNOPQÄÄÄÄÄÄÄÄÄÄÄ Ä!Ä"Ä#\Content-TypeZSet-CookieVServer_Content-EncodingWExpires_Transfer-Encoding_CF-Cache-Status]Cache-ControlTDateZConnectionVCF-RAYTVary]Last-Modified_application/x-javascript_Ä__cfduid=de99b12cb83e96dcedcb10a198390e0b81440567630; expires=Thu, 25-Aug-16 05:40:30 GMT; path=/; domain=.pingdom.net; HttpOnly_cloudflare-nginxTgzip_Thu, 27 Aug 2015 05:40:30 GMTXIdentitySHIT_public, max-age=86400_Wed, 26 Aug 2015 05:40:30 GMTZkeep-alive_21bd33ca72861425-LAX_Accept-Encoding_Thu, 25 Sep 2014 14:57:27 GMT“+,no\NSDictionary¢n/˜_application/x-javascript“+,st_NSHTTPURLResponse£uv/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—yz_WebResourceResponseÄ    # - 2 7 a g Ç Ö â å è í ñ ô † £ ¶ © ¨ Ø ± ≥ µ ∑ π ∫ º æ ¿ ¬ ƒ ∆ » œ ◊ „ Â Á È%.47@IKMT\guwy{}ÅÉÖáâãçèùü°£•ß©´≠Ø±≥µ∑π∆—ÿÎÛ',7>CQlÔ'04Llwé†¿≈“’ÿÛ¯$2DG]             {              _O˜var PRUM_EPISODES=PRUM_EPISODES||{};PRUM_EPISODES.q=PRUM_EPISODES.q||[];PRUM_EPISODES.version="0.2";PRUM_EPISODES.targetOrigin=document.location.protocol+"//"+document.location.hostname;PRUM_EPISODES.bPostMessage=false;PRUM_EPISODES.beaconUrl=PRUM_EPISODES.beaconUrl||"/images/beacon.gif";PRUM_EPISODES.autorun=false;PRUM_EPISODES.init=function(){PRUM_EPISODES.bDone=false;PRUM_EPISODES.bUnloaded=false;PRUM_EPISODES.marks={};PRUM_EPISODES.measures={};PRUM_EPISODES.starts={};PRUM_EPISODES.findStartTime();PRUM_EPISODES.addEventListener("beforeunload",PRUM_EPISODES.beforeUnload,false);PRUM_EPISODES.addEventListener("pagehide",PRUM_EPISODES.beforeUnload,false);PRUM_EPISODES.addEventListener("unload",PRUM_EPISODES.beforeUnload,false);PRUM_EPISODES.addOnLoadListener(PRUM_EPISODES.onload);PRUM_EPISODES.processQ()};PRUM_EPISODES.processQ=function(){var a=PRUM_EPISODES.q.length;for(var b=0;b<a;b++){var d=PRUM_EPISODES.q[b];var c=d[0];if("mark"===c){PRUM_EPISODES.mark(d[1],d[2])}else{if("measure"===c){PRUM_EPISODES.measure(d[1],d[2],d[3])}else{if("done"===c){PRUM_EPISODES.done(d[1])}}}}};PRUM_EPISODES.mark=function(a,b){PRUM_EPISODES.dprint("PRUM_EPISODES.mark: "+a+", "+b);if(!a){PRUM_EPISODES.dprint("Error: markName is undefined in PRUM_EPISODES.mark.");return}PRUM_EPISODES.marks[a]=parseInt(b||new Date().getTime());if(PRUM_EPISODES.bPostMessage){window.postMessage("PRUM_EPISODES:mark:"+a+":"+b,PRUM_EPISODES.targetOrigin)}if("firstbyte"===a){PRUM_EPISODES.measure("backend","starttime","firstbyte")}else{if("onload"===a){PRUM_EPISODES.measure("frontend","firstbyte","onload");PRUM_EPISODES.measure("page load time","starttime","onload")}else{if("done"===a){PRUM_EPISODES.measure("total load time","starttime","done")}}}};PRUM_EPISODES.measure=function(c,b,e){PRUM_EPISODES.dprint("PRUM_EPISODES.measure: "+c+", "+b+", "+e);if(!c){PRUM_EPISODES.dprint("Error: episodeName is undefined in PRUM_EPISODES.measure.");return}var a;if("undefined"===typeof(b)){if("number"===typeof(PRUM_EPISODES.marks[c])){a=PRUM_EPISODES.marks[c]}else{a=new Date().getTime()}}else{if("number"===typeof(PRUM_EPISODES.marks[b])){a=PRUM_EPISODES.marks[b]}else{if("number"===typeof(b)){a=b}else{PRUM_EPISODES.dprint("Error: unexpected startNameOrTime in PRUM_EPISODES.measure: "+b);return}}}var d;if("undefined"===typeof(e)){d=new Date().getTime()}else{if("number"===typeof(PRUM_EPISODES.marks[e])){d=PRUM_EPISODES.marks[e]}else{if("number"===typeof(e)){d=e}else{PRUM_EPISODES.dprint("Error: unexpected endNameOrTime in PRUM_EPISODES.measure: "+e);return}}}PRUM_EPISODES.starts[c]=parseInt(a);PRUM_EPISODES.measures[c]=parseInt(d-a);if(PRUM_EPISODES.bPostMessage){window.postMessage("PRUM_EPISODES:measure:"+c+":"+a+":"+d,PRUM_EPISODES.targetOrigin)}};PRUM_EPISODES.done=function(a){PRUM_EPISODES.bDone=true;PRUM_EPISODES.mark("done");if(PRUM_EPISODES.autorun){PRUM_EPISODES.sendBeacon()}if(PRUM_EPISODES.bPostMessage){window.postMessage("PRUM_EPISODES:done",PRUM_EPISODES.targetOrigin)}if("function"===typeof(a)){a()}};PRUM_EPISODES.getMarks=function(){return PRUM_EPISODES.marks};PRUM_EPISODES.getMeasures=function(){return PRUM_EPISODES.measures};PRUM_EPISODES.getStarts=function(){return PRUM_EPISODES.starts};PRUM_EPISODES.findStartTime=function(){var a=PRUM_EPISODES.findStartWebTiming()||PRUM_EPISODES.findStartGToolbar()||PRUM_EPISODES.findStartCookie();if(a){PRUM_EPISODES.mark("starttime",a)}};PRUM_EPISODES.findStartWebTiming=function(){var a=undefined;var b=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;if("undefined"!=typeof(b)&&"undefined"!=typeof(b.timing)&&"undefined"!=typeof(b.timing.navigationStart)){a=b.timing.navigationStart;PRUM_EPISODES.dprint("PRUM_EPISODES.findStartWebTiming: startTime = "+a)}return a};PRUM_EPISODES.findStartGToolbar=function(){var a=undefined;if(window.external&&window.external.pageT){a=(new Date().getTime())-window.external.pageT}else{if(window.gtbExternal&&window.gtbExternal.pageT){a=(new Date().getTime())-window.gtbExternal.pageT()}else{if(window.chrome&&window.chrome.csi){a=(new Date().getTime())-window.chrome.csi().pageT}}}if(a){PRUM_EPISODES.dprint("PRUM_EPISODES.findStartGToolbar: startTime = "+a)}return a};PRUM_EPISODES.findStartCookie=function(){var g=document.cookie.split("; ");for(var d=0;d<g.length;d++){if(0===g[d].indexOf("PRUM_EPISODES=")){var a=g[d].substring("PRUM_EPISODES=".length).split("&");var e,f;for(var b=0;b<a.length;b++){if(0===a[b].indexOf("s=")){e=a[b].substring(2)}else{if(0===a[b].indexOf("r=")){var c=a[b].substring(2);f=(escape(document.referrer)==c)}}}if(f&&e){PRUM_EPISODES.dprint("PRUM_EPISODES.findStartCookie: startTime = "+e);return e}}}return undefined};PRUM_EPISODES.beforeUnload=function(a){if(PRUM_EPISODES.bUnloaded){return}document.cookie="PRUM_EPISODES=s="+Number(new Date())+"&r="+escape(document.location)+"; path=/";PRUM_EPISODES.bUnloaded=true};PRUM_EPISODES.onload=function(a){PRUM_EPISODES.mark("onload");PRUM_EPISODES.done()};PRUM_EPISODES.addEventListener=function(c,b,a){if("undefined"!=typeof(window.attachEvent)){return window.attachEvent("on"+c,b)}else{if(window.addEventListener){return window.addEventListener(c,b,a)}}};PRUM_EPISODES.addOnLoadListener=function(d){var a=document.readyState;if(a==="complete"){setTimeout(d,0)}else{if(typeof a==="undefined"){var c=function(){var e=document.getElementsByTagName("*");return e[e.length-1]};var b=c();setTimeout(function(){if(c()===b&&typeof document.readyState==="undefined"){d()}},500)}else{PRUM_EPISODES.addEventListener("load",d,false)}}};PRUM_EPISODES.dprint=function(a){};PRUM_EPISODES.init();_prum||(_prum=[]);(function(){var a="//rum-collector.pingdom.net/img/beacon.gif",h=null,i="",l=[];var k={navigationStart:"nS",unloadEventStart:"uES",unloadEventEnd:"uEE",redirectStart:"rS",redirectEnd:"rE",fetchStart:"fS",domainLookupStart:"dLS",domainLookupEnd:"dLE",connectStart:"cS",connectEnd:"cE",handshakeStart:"hS",requestStart:"reS",responseStart:"resS",responseEnd:"resE",domLoading:"dL",domInteractive:"dI",domContentLoadedEventStart:"dCLES",domContentLoadedEventEnd:"dCLEE",domComplete:"dC",loadEventStart:"lES",loadEventEnd:"lEE"};var c={id:function(m){i=m},tag:function(m){l.push(m)},tags:function(m){l=l.concat(m)},mark:function(m,n){if(n instanceof Date){n=n.getTime()}if(PRUM_EPISODES&&PRUM_EPISODES.mark){PRUM_EPISODES.mark(m,n)}}};function d(m){return Object.prototype.toString.call(m)==="[object Array]"}function g(p){if(typeof p==="string"){return p}var o="";for(var m in p){var n=d(p[m])?p[m].join(" "):p[m];o+=o.length?"&":"?";o+=encodeURIComponent(m);o+="=";o+=encodeURIComponent(n)}return o}function f(m,o){var n=new Image();if(l.length){o.tags=l}n.src=m+g(o)}function e(){var p=window.performance.timing;var q=window.performance.navigation;if(p.loadEventEnd===0){return false}clearInterval(h);h=null;var m={path:window.location.protocol+"//"+window.location.host+window.location.pathname,title:document.title,id:i,s:"nt",rC:q.redirectCount};for(var o in k){m[k[o]]=-1;if(!(o in p)){continue}if(p[o]<=0){continue}m[k[o]]=(p[o]-p.navigationStart)}f(a,m)}function b(){if(!PRUM_EPISODES||!PRUM_EPISODES.bDone){return false}clearInterval(h);h=false;var o=PRUM_EPISODES.getMeasures();if(o!=null&&o.backend!=null&&o.frontend!=null&&o["page load time"]!=null&&o["total load time"]!=null){var m=o.backend;var p=o.backend+o.frontend;var n={path:window.location.href,id:i,s:"ep",uES:-1,uEE:-1,rS:-1,rE:-1,rC:0,fS:0,dLS:0,dLE:0,cS:0,cE:0,hS:0,reS:0,resS:m,resE:m,dL:m,dI:m,dCLES:m,dCLEE:p,dC:p,lES:o["page load time"],lEE:o["total load time"]};f(a,n)}}function j(){if(!d(_prum)){var m=[["id",_prum.id]];if(_prum.tags){m.push(["tags",_prum.tags])}_prum=m}_prum.push=function(n){var o=n.shift();if(c[o]){c[o].apply(this,n)}};while(_prum.length){_prum.push(_prum.shift())}}if(window.performance!=null&&window.performance.timing!=null&&window.performance.navigation!=null){h=setInterval(e,100)}else{h=setInterval(b,100)}j()})();‘	CDEF_application/javascript_;http://jsfiddle.net/js/moo-clientcide-1.3.js?update10082015OÉbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_;http://jsfiddle.net/js/moo-clientcide-1.3.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçà 1ê »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Wed, 01 Oct 2014 07:00:40 GMT_Wed, 16 Sep 2015 05:40:26 GMT_W/"542ba698-5f3ba"_Wed, 26 Aug 2015 05:40:26 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/ Û∫_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „!&1:@CLUWY`hs~ÄÇÑÜàäåéêíùü°£•ß©´≠Ø±≥æÀ“‡ËÌÚ'2KQqë¶∆À›ÊÎ¯˚ 26JXjmÉ             o              ÖO Û∫
//This library: http://dev.clientcide.com/depender/build?download=true&version=Clientcide+3.1.0&require=Core%2FBrowser&require=Core%2FClass.Extras&require=Core%2FClass&require=Core%2FCore&require=Core%2FElement.Delegation&require=Core%2FElement.Dimensions&require=Core%2FElement.Event&require=Core%2FElement.Style&require=Core%2FElement&require=Core%2FFx.CSS&require=Core%2FFx.Morph&require=Core%2FFx.Transitions&require=Core%2FFx.Tween&require=Core%2FFx&require=Core%2FRequest.HTML&require=Core%2FRequest.JSON&require=Core%2FRequest&require=Core%2FSlick.Finder&require=Core%2FSlick.Parser&require=Core%2FArray&require=Core%2FEvent&require=Core%2FFunction&require=Core%2FNumber&require=Core%2FObject&require=Core%2FString&require=Core%2FCookie&require=Core%2FDOMReady&require=Core%2FJSON&require=Core%2FSwiff&require=Clientcide%2FBehavior.StickyWin&require=Clientcide%2FCollapsible&require=Clientcide%2FMultipleOpenAccordion&require=Clientcide%2FTabSwapper&require=Clientcide%2FStickyWin.Ajax&require=Clientcide%2FStickyWin.Alert&require=Clientcide%2FStickyWin.Confirm&require=Clientcide%2FStickyWin.Drag&require=Clientcide%2FStickyWin.Fx&require=Clientcide%2FStickyWin.Modal&require=Clientcide%2FStickyWin.UI&require=More%2FElement.Forms&require=More%2FOverText&require=More%2FFx.Accordion&require=More%2FFx.Move&require=More%2FFx.Reveal&require=More%2FFx.Scroll&require=More%2FFx.Slide&require=More%2FKeyboard.Extras&require=More%2FSpinner&require=More%2FMore&require=More%2FRequest.JSONP&require=More%2FRequest.Periodical&require=More%2FArray.Extras&require=More%2FDate.Extras&require=More%2FNumber.Format&require=More%2FURI.Relative&require=More%2FAssets&require=More%2FColor&require=More%2FHash.Cookie
//Contents: Core:Source/Core/Core.js, Core:Source/Types/Object.js, Core:Source/Types/Array.js, Core:Source/Types/Function.js, Core:Source/Types/Number.js, Core:Source/Types/String.js, Core:Source/Browser/Browser.js, Core:Source/Slick/Slick.Parser.js, Core:Source/Slick/Slick.Finder.js, Core:Source/Element/Element.js, Core:Source/Class/Class.js, Core:Source/Class/Class.Extras.js, Core:Source/Request/Request.js, Core:Source/Utilities/JSON.js, Core:Source/Request/Request.JSON.js, Core:Source/Types/DOMEvent.js, Core:Source/Element/Element.Event.js, Core:Source/Element/Element.Delegation.js, Core:Source/Fx/Fx.js, Core:Source/Element/Element.Style.js, Core:Source/Fx/Fx.CSS.js, Core:Source/Fx/Fx.Morph.js, Core:Source/Utilities/Swiff.js, Core:Source/Fx/Fx.Transitions.js, More:Source/More/More.js, More:Source/Class/Class.Binds.js, More:Source/Class/Class.Occlude.js, Core:Source/Element/Element.Dimensions.js, More:Source/Element/Element.Measure.js, More:Source/Element/Element.Position.js, More:Source/Element/Element.Shortcuts.js, More:Source/Forms/OverText.js, More:Source/Utilities/IframeShim.js, More:Source/Interface/Mask.js, Core:Source/Utilities/DOMReady.js, More:Source/Element/Element.Pin.js, More:Source/Types/Object.Extras.js, Clientcide:Source/Core/Clientcide.js, Clientcide:Source/Core/dbug.js, Clientcide:Source/UI/StyleWriter.js, Clientcide:Source/UI/StickyWin.js, Clientcide:Source/UI/StickyWin.Modal.js, More:Source/Types/String.Extras.js, Clientcide:Source/UI/StickyWin.UI.js, Clientcide:Source/UI/StickyWin.Alert.js, Clientcide:Source/UI/StickyWin.Confirm.js, More:Source/Fx/Fx.Move.js, More:Source/Fx/Fx.Scroll.js, More:Source/Class/Class.Refactor.js, Core:Source/Fx/Fx.Tween.js, Clientcide:Source/UI/StickyWin.Fx.js, More:Source/Types/Array.Extras.js, Core:Source/Request/Request.HTML.js, Clientcide:Source/Layout/TabSwapper.js, More:Source/Element/Element.Forms.js, More:Source/Fx/Fx.Reveal.js, Clientcide:Source/Layout/Collapsible.js, More:Source/Utilities/Table.js, Behavior:Source/Element.Data.js, Behavior:Source/BehaviorAPI.js, Behavior:Source/Behavior.js, More:Source/Drag/Drag.js, More:Source/Drag/Drag.Move.js, Clientcide:Source/UI/StickyWin.Drag.js, Clientcide:Source/Behaviors/Behavior.StickyWin.js, More:Source/Utilities/Color.js, More:Source/Class/Events.Pseudos.js, More:Source/Element/Element.Event.Pseudos.js, More:Source/Element/Element.Event.Pseudos.Keys.js, More:Source/Interface/Keyboard.js, More:Source/Interface/Keyboard.Extras.js, More:Source/Locale/Locale.js, More:Source/Locale/Locale.en-US.Number.js, More:Source/Types/Number.Format.js, More:Source/Request/Request.Periodical.js, More:Source/Request/Request.JSONP.js, More:Source/Types/String.QueryString.js, More:Source/Types/URI.js, More:Source/Types/URI.Relative.js, Core:Source/Utilities/Cookie.js, More:Source/Locale/Locale.en-US.Date.js, More:Source/Types/Date.js, More:Source/Types/Date.Extras.js, More:Source/Fx/Fx.Elements.js, More:Source/Fx/Fx.Accordion.js, More:Source/Types/Hash.js, More:Source/Utilities/Hash.Cookie.js, More:Source/Utilities/Assets.js, More:Source/Interface/Spinner.js, More:Source/Fx/Fx.Slide.js, Clientcide:Source/UI/StickyWin.UI.Pointy.js, Clientcide:Source/UI/StickyWin.PointyTip.js, Clientcide:Source/UI/StickyWin.Ajax.js, Clientcide:Source/Layout/MultipleOpenAccordion.js

// Begin: Source/Core/Core.js
/*
---

name: Core

description: The heart of MooTools.

license: MIT-style license.

copyright: Copyright (c) 2006-2012 [Valerio Proietti](http://mad4milk.net/).

authors: The MooTools production team (http://mootools.net/developers/)

inspiration:
  - Class implementation inspired by [Base.js](http://dean.edwards.name/weblog/2006/03/base/) Copyright (c) 2006 Dean Edwards, [GNU Lesser General Public License](http://opensource.org/licenses/lgpl-license.php)
  - Some functionality inspired by [Prototype.js](http://prototypejs.org) Copyright (c) 2005-2007 Sam Stephenson, [MIT License](http://opensource.org/licenses/mit-license.php)

provides: [Core, MooTools, Type, typeOf, instanceOf, Native]

...
*/

(function(){

this.MooTools = {
	version: '1.4.5',
	build: 'ab8ea8824dc3b24b6666867a2c4ed58ebb762cf0'
};

// typeOf, instanceOf

var typeOf = this.typeOf = function(item){
	if (item == null) return 'null';
	if (item.$family != null) return item.$family();

	if (item.nodeName){
		if (item.nodeType == 1) return 'element';
		if (item.nodeType == 3) return (/\S/).test(item.nodeValue) ? 'textnode' : 'whitespace';
	} else if (typeof item.length == 'number'){
		if (item.callee) return 'arguments';
		if ('item' in item) return 'collection';
	}

	return typeof item;
};

var instanceOf = this.instanceOf = function(item, object){
	if (item == null) return false;
	var constructor = item.$constructor || item.constructor;
	while (constructor){
		if (constructor === object) return true;
		constructor = constructor.parent;
	}
	/*<ltIE8>*/
	if (!item.hasOwnProperty) return false;
	/*</ltIE8>*/
	return item instanceof object;
};

// Function overloading

var Function = this.Function;

var enumerables = true;
for (var i in {toString: 1}) enumerables = null;
if (enumerables) enumerables = ['hasOwnProperty', 'valueOf', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'constructor'];

Function.prototype.overloadSetter = function(usePlural){
	var self = this;
	return function(a, b){
		if (a == null) return this;
		if (usePlural || typeof a != 'string'){
			for (var k in a) self.call(this, k, a[k]);
			if (enumerables) for (var i = enumerables.length; i--;){
				k = enumerables[i];
				if (a.hasOwnProperty(k)) self.call(this, k, a[k]);
			}
		} else {
			self.call(this, a, b);
		}
		return this;
	};
};

Function.prototype.overloadGetter = function(usePlural){
	var self = this;
	return function(a){
		var args, result;
		if (typeof a != 'string') args = a;
		else if (arguments.length > 1) args = arguments;
		else if (usePlural) args = [a];
		if (args){
			result = {};
			for (var i = 0; i < args.length; i++) result[args[i]] = self.call(this, args[i]);
		} else {
			result = self.call(this, a);
		}
		return result;
	};
};

Function.prototype.extend = function(key, value){
	this[key] = value;
}.overloadSetter();

Function.prototype.implement = function(key, value){
	this.prototype[key] = value;
}.overloadSetter();

// From

var slice = Array.prototype.slice;

Function.from = function(item){
	return (typeOf(item) == 'function') ? item : function(){
		return item;
	};
};

Array.from = function(item){
	if (item == null) return [];
	return (Type.isEnumerable(item) && typeof item != 'string') ? (typeOf(item) == 'array') ? item : slice.call(item) : [item];
};

Number.from = function(item){
	var number = parseFloat(item);
	return isFinite(number) ? number : null;
};

String.from = function(item){
	return item + '';
};

// hide, protect

Function.implement({

	hide: function(){
		this.$hidden = true;
		return this;
	},

	protect: function(){
		this.$protected = true;
		return this;
	}

});

// Type

var Type = this.Type = function(name, object){
	if (name){
		var lower = name.toLowerCase();
		var typeCheck = function(item){
			return (typeOf(item) == lower);
		};

		Type['is' + name] = typeCheck;
		if (object != null){
			object.prototype.$family = (function(){
				return lower;
			}).hide();
			//<1.2compat>
			object.type = typeCheck;
			//</1.2compat>
		}
	}

	if (object == null) return null;

	object.extend(this);
	object.$constructor = Type;
	object.prototype.$constructor = object;

	return object;
};

var toString = Object.prototype.toString;

Type.isEnumerable = function(item){
	return (item != null && typeof item.length == 'number' && toString.call(item) != '[object Function]' );
};

var hooks = {};

var hooksOf = function(object){
	var type = typeOf(object.prototype);
	return hooks[type] || (hooks[type] = []);
};

var implement = function(name, method){
	if (method && method.$hidden) return;

	var hooks = hooksOf(this);

	for (var i = 0; i < hooks.length; i++){
		var hook = hooks[i];
		if (typeOf(hook) == 'type') implement.call(hook, name, method);
		else hook.call(this, name, method);
	}

	var previous = this.prototype[name];
	if (previous == null || !previous.$protected) this.prototype[name] = method;

	if (this[name] == null && typeOf(method) == 'function') extend.call(this, name, function(item){
		return method.apply(item, slice.call(arguments, 1));
	});
};

var extend = function(name, method){
	if (method && method.$hidden) return;
	var previous = this[name];
	if (previous == null || !previous.$protected) this[name] = method;
};

Type.implement({

	implement: implement.overloadSetter(),

	extend: extend.overloadSetter(),

	alias: function(name, existing){
		implement.call(this, name, this.prototype[existing]);
	}.overloadSetter(),

	mirror: function(hook){
		hooksOf(this).push(hook);
		return this;
	}

});

new Type('Type', Type);

// Default Types

var force = function(name, object, methods){
	var isType = (object != Object),
		prototype = object.prototype;

	if (isType) object = new Type(name, object);

	for (var i = 0, l = methods.length; i < l; i++){
		var key = methods[i],
			generic = object[key],
			proto = prototype[key];

		if (generic) generic.protect();
		if (isType && proto) object.implement(key, proto.protect());
	}

	if (isType){
		var methodsEnumerable = prototype.propertyIsEnumerable(methods[0]);
		object.forEachMethod = function(fn){
			if (!methodsEnumerable) for (var i = 0, l = methods.length; i < l; i++){
				fn.call(prototype, prototype[methods[i]], methods[i]);
			}
			for (var key in prototype) fn.call(prototype, prototype[key], key)
		};
	}

	return force;
};

force('String', String, [
	'charAt', 'charCodeAt', 'concat', 'indexOf', 'lastIndexOf', 'match', 'quote', 'replace', 'search',
	'slice', 'split', 'substr', 'substring', 'trim', 'toLowerCase', 'toUpperCase'
])('Array', Array, [
	'pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift', 'concat', 'join', 'slice',
	'indexOf', 'lastIndexOf', 'filter', 'forEach', 'every', 'map', 'some', 'reduce', 'reduceRight', 'contains'
])('Number', Number, [
	'toExponential', 'toFixed', 'toLocaleString', 'toPrecision'
])('Function', Function, [
	'apply', 'call', 'bind'
])('RegExp', RegExp, [
	'exec', 'test'
])('Object', Object, [
	'create', 'defineProperty', 'defineProperties', 'keys',
	'getPrototypeOf', 'getOwnPropertyDescriptor', 'getOwnPropertyNames',
	'preventExtensions', 'isExtensible', 'seal', 'isSealed', 'freeze', 'isFrozen'
])('Date', Date, ['now']);

Object.extend = extend.overloadSetter();

Date.extend('now', function(){
	return +(new Date);
});

new Type('Boolean', Boolean);

// fixes NaN returning as Number

Number.prototype.$family = function(){
	return isFinite(this) ? 'number' : 'null';
}.hide();

// Number.random

Number.extend('random', function(min, max){
	return Math.floor(Math.random() * (max - min + 1) + min);
});

// forEach, each

var hasOwnProperty = Object.prototype.hasOwnProperty;
Object.extend('forEach', function(object, fn, bind){
	for (var key in object){
		if (hasOwnProperty.call(object, key)) fn.call(bind, object[key], key, object);
	}
});

Object.each = Object.forEach;

Array.implement({

	forEach: function(fn, bind){
		for (var i = 0, l = this.length; i < l; i++){
			if (i in this) fn.call(bind, this[i], i, this);
		}
	},

	each: function(fn, bind){
		Array.forEach(this, fn, bind);
		return this;
	}

});

// Array & Object cloning, Object merging and appending

var cloneOf = function(item){
	switch (typeOf(item)){
		case 'array': return item.clone();
		case 'object': return Object.clone(item);
		default: return item;
	}
};

Array.implement('clone', function(){
	var i = this.length, clone = new Array(i);
	while (i--) clone[i] = cloneOf(this[i]);
	return clone;
});

var mergeOne = function(source, key, current){
	switch (typeOf(current)){
		case 'object':
			if (typeOf(source[key]) == 'object') Object.merge(source[key], current);
			else source[key] = Object.clone(current);
		break;
		case 'array': source[key] = current.clone(); break;
		default: source[key] = current;
	}
	return source;
};

Object.extend({

	merge: function(source, k, v){
		if (typeOf(k) == 'string') return mergeOne(source, k, v);
		for (var i = 1, l = arguments.length; i < l; i++){
			var object = arguments[i];
			for (var key in object) mergeOne(source, key, object[key]);
		}
		return source;
	},

	clone: function(object){
		var clone = {};
		for (var key in object) clone[key] = cloneOf(object[key]);
		return clone;
	},

	append: function(original){
		for (var i = 1, l = arguments.length; i < l; i++){
			var extended = arguments[i] || {};
			for (var key in extended) original[key] = extended[key];
		}
		return original;
	}

});

// Object-less types

['Object', 'WhiteSpace', 'TextNode', 'Collection', 'Arguments'].each(function(name){
	new Type(name);
});

// Unique ID

var UID = Date.now();

String.extend('uniqueID', function(){
	return (UID++).toString(36);
});

//<1.2compat>

var Hash = this.Hash = new Type('Hash', function(object){
	if (typeOf(object) == 'hash') object = Object.clone(object.getClean());
	for (var key in object) this[key] = object[key];
	return this;
});

Hash.implement({

	forEach: function(fn, bind){
		Object.forEach(this, fn, bind);
	},

	getClean: function(){
		var clean = {};
		for (var key in this){
			if (this.hasOwnProperty(key)) clean[key] = this[key];
		}
		return clean;
	},

	getLength: function(){
		var length = 0;
		for (var key in this){
			if (this.hasOwnProperty(key)) length++;
		}
		return length;
	}

});

Hash.alias('each', 'forEach');

Object.type = Type.isObject;

var Native = this.Native = function(properties){
	return new Type(properties.name, properties.initialize);
};

Native.type = Type.type;

Native.implement = function(objects, methods){
	for (var i = 0; i < objects.length; i++) objects[i].implement(methods);
	return Native;
};

var arrayType = Array.type;
Array.type = function(item){
	return instanceOf(item, Array) || arrayType(item);
};

this.$A = function(item){
	return Array.from(item).slice();
};

this.$arguments = function(i){
	return function(){
		return arguments[i];
	};
};

this.$chk = function(obj){
	return !!(obj || obj === 0);
};

this.$clear = function(timer){
	clearTimeout(timer);
	clearInterval(timer);
	return null;
};

this.$defined = function(obj){
	return (obj != null);
};

this.$each = function(iterable, fn, bind){
	var type = typeOf(iterable);
	((type == 'arguments' || type == 'collection' || type == 'array' || type == 'elements') ? Array : Object).each(iterable, fn, bind);
};

this.$empty = function(){};

this.$extend = function(original, extended){
	return Object.append(original, extended);
};

this.$H = function(object){
	return new Hash(object);
};

this.$merge = function(){
	var args = Array.slice(arguments);
	args.unshift({});
	return Object.merge.apply(null, args);
};

this.$lambda = Function.from;
this.$mixin = Object.merge;
this.$random = Number.random;
this.$splat = Array.from;
this.$time = Date.now;

this.$type = function(object){
	var type = typeOf(object);
	if (type == 'elements') return 'array';
	return (type == 'null') ? false : type;
};

this.$unlink = function(object){
	switch (typeOf(object)){
		case 'object': return Object.clone(object);
		case 'array': return Array.clone(object);
		case 'hash': return new Hash(object);
		default: return object;
	}
};

//</1.2compat>

})();


// Begin: Source/Types/Object.js
/*
---

name: Object

description: Object generic methods

license: MIT-style license.

requires: Type

provides: [Object, Hash]

...
*/

(function(){

var hasOwnProperty = Object.prototype.hasOwnProperty;

Object.extend({

	subset: function(object, keys){
		var results = {};
		for (var i = 0, l = keys.length; i < l; i++){
			var k = keys[i];
			if (k in object) results[k] = object[k];
		}
		return results;
	},

	map: function(object, fn, bind){
		var results = {};
		for (var key in object){
			if (hasOwnProperty.call(object, key)) results[key] = fn.call(bind, object[key], key, object);
		}
		return results;
	},

	filter: function(object, fn, bind){
		var results = {};
		for (var key in object){
			var value = object[key];
			if (hasOwnProperty.call(object, key) && fn.call(bind, value, key, object)) results[key] = value;
		}
		return results;
	},

	every: function(object, fn, bind){
		for (var key in object){
			if (hasOwnProperty.call(object, key) && !fn.call(bind, object[key], key)) return false;
		}
		return true;
	},

	some: function(object, fn, bind){
		for (var key in object){
			if (hasOwnProperty.call(object, key) && fn.call(bind, object[key], key)) return true;
		}
		return false;
	},

	keys: function(object){
		var keys = [];
		for (var key in object){
			if (hasOwnProperty.call(object, key)) keys.push(key);
		}
		return keys;
	},

	values: function(object){
		var values = [];
		for (var key in object){
			if (hasOwnProperty.call(object, key)) values.push(object[key]);
		}
		return values;
	},

	getLength: function(object){
		return Object.keys(object).length;
	},

	keyOf: function(object, value){
		for (var key in object){
			if (hasOwnProperty.call(object, key) && object[key] === value) return key;
		}
		return null;
	},

	contains: function(object, value){
		return Object.keyOf(object, value) != null;
	},

	toQueryString: function(object, base){
		var queryString = [];

		Object.each(object, function(value, key){
			if (base) key = base + '[' + key + ']';
			var result;
			switch (typeOf(value)){
				case 'object': result = Object.toQueryString(value, key); break;
				case 'array':
					var qs = {};
					value.each(function(val, i){
						qs[i] = val;
					});
					result = Object.toQueryString(qs, key);
				break;
				default: result = key + '=' + encodeURIComponent(value);
			}
			if (value != null) queryString.push(result);
		});

		return queryString.join('&');
	}

});

})();

//<1.2compat>

Hash.implement({

	has: Object.prototype.hasOwnProperty,

	keyOf: function(value){
		return Object.keyOf(this, value);
	},

	hasValue: function(value){
		return Object.contains(this, value);
	},

	extend: function(properties){
		Hash.each(properties || {}, function(value, key){
			Hash.set(this, key, value);
		}, this);
		return this;
	},

	combine: function(properties){
		Hash.each(properties || {}, function(value, key){
			Hash.include(this, key, value);
		}, this);
		return this;
	},

	erase: function(key){
		if (this.hasOwnProperty(key)) delete this[key];
		return this;
	},

	get: function(key){
		return (this.hasOwnProperty(key)) ? this[key] : null;
	},

	set: function(key, value){
		if (!this[key] || this.hasOwnProperty(key)) this[key] = value;
		return this;
	},

	empty: function(){
		Hash.each(this, function(value, key){
			delete this[key];
		}, this);
		return this;
	},

	include: function(key, value){
		if (this[key] == null) this[key] = value;
		return this;
	},

	map: function(fn, bind){
		return new Hash(Object.map(this, fn, bind));
	},

	filter: function(fn, bind){
		return new Hash(Object.filter(this, fn, bind));
	},

	every: function(fn, bind){
		return Object.every(this, fn, bind);
	},

	some: function(fn, bind){
		return Object.some(this, fn, bind);
	},

	getKeys: function(){
		return Object.keys(this);
	},

	getValues: function(){
		return Object.values(this);
	},

	toQueryString: function(base){
		return Object.toQueryString(this, base);
	}

});

Hash.extend = Object.append;

Hash.alias({indexOf: 'keyOf', contains: 'hasValue'});

//</1.2compat>


// Begin: Source/Types/Array.js
/*
---

name: Array

description: Contains Array Prototypes like each, contains, and erase.

license: MIT-style license.

requires: Type

provides: Array

...
*/

Array.implement({

	/*<!ES5>*/
	every: function(fn, bind){
		for (var i = 0, l = this.length >>> 0; i < l; i++){
			if ((i in this) && !fn.call(bind, this[i], i, this)) return false;
		}
		return true;
	},

	filter: function(fn, bind){
		var results = [];
		for (var value, i = 0, l = this.length >>> 0; i < l; i++) if (i in this){
			value = this[i];
			if (fn.call(bind, value, i, this)) results.push(value);
		}
		return results;
	},

	indexOf: function(item, from){
		var length = this.length >>> 0;
		for (var i = (from < 0) ? Math.max(0, length + from) : from || 0; i < length; i++){
			if (this[i] === item) return i;
		}
		return -1;
	},

	map: function(fn, bind){
		var length = this.length >>> 0, results = Array(length);
		for (var i = 0; i < length; i++){
			if (i in this) results[i] = fn.call(bind, this[i], i, this);
		}
		return results;
	},

	some: function(fn, bind){
		for (var i = 0, l = this.length >>> 0; i < l; i++){
			if ((i in this) && fn.call(bind, this[i], i, this)) return true;
		}
		return false;
	},
	/*</!ES5>*/

	clean: function(){
		return this.filter(function(item){
			return item != null;
		});
	},

	invoke: function(methodName){
		var args = Array.slice(arguments, 1);
		return this.map(function(item){
			return item[methodName].apply(item, args);
		});
	},

	associate: function(keys){
		var obj = {}, length = Math.min(this.length, keys.length);
		for (var i = 0; i < length; i++) obj[keys[i]] = this[i];
		return obj;
	},

	link: function(object){
		var result = {};
		for (var i = 0, l = this.length; i < l; i++){
			for (var key in object){
				if (object[key](this[i])){
					result[key] = this[i];
					delete object[key];
					break;
				}
			}
		}
		return result;
	},

	contains: function(item, from){
		return this.indexOf(item, from) != -1;
	},

	append: function(array){
		this.push.apply(this, array);
		return this;
	},

	getLast: function(){
		return (this.length) ? this[this.length - 1] : null;
	},

	getRandom: function(){
		return (this.length) ? this[Number.random(0, this.length - 1)] : null;
	},

	include: function(item){
		if (!this.contains(item)) this.push(item);
		return this;
	},

	combine: function(array){
		for (var i = 0, l = array.length; i < l; i++) this.include(array[i]);
		return this;
	},

	erase: function(item){
		for (var i = this.length; i--;){
			if (this[i] === item) this.splice(i, 1);
		}
		return this;
	},

	empty: function(){
		this.length = 0;
		return this;
	},

	flatten: function(){
		var array = [];
		for (var i = 0, l = this.length; i < l; i++){
			var type = typeOf(this[i]);
			if (type == 'null') continue;
			array = array.concat((type == 'array' || type == 'collection' || type == 'arguments' || instanceOf(this[i], Array)) ? Array.flatten(this[i]) : this[i]);
		}
		return array;
	},

	pick: function(){
		for (var i = 0, l = this.length; i < l; i++){
			if (this[i] != null) return this[i];
		}
		return null;
	},

	hexToRgb: function(array){
		if (this.length != 3) return null;
		var rgb = this.map(function(value){
			if (value.length == 1) value += value;
			return value.toInt(16);
		});
		return (array) ? rgb : 'rgb(' + rgb + ')';
	},

	rgbToHex: function(array){
		if (this.length < 3) return null;
		if (this.length == 4 && this[3] == 0 && !array) return 'transparent';
		var hex = [];
		for (var i = 0; i < 3; i++){
			var bit = (this[i] - 0).toString(16);
			hex.push((bit.length == 1) ? '0' + bit : bit);
		}
		return (array) ? hex : '#' + hex.join('');
	}

});

//<1.2compat>

Array.alias('extend', 'append');

var $pick = function(){
	return Array.from(arguments).pick();
};

//</1.2compat>


// Begin: Source/Types/Function.js
/*
---

name: Function

description: Contains Function Prototypes like create, bind, pass, and delay.

license: MIT-style license.

requires: Type

provides: Function

...
*/

Function.extend({

	attempt: function(){
		for (var i = 0, l = arguments.length; i < l; i++){
			try {
				return arguments[i]();
			} catch (e){}
		}
		return null;
	}

});

Function.implement({

	attempt: function(args, bind){
		try {
			return this.apply(bind, Array.from(args));
		} catch (e){}

		return null;
	},

	/*<!ES5-bind>*/
	bind: function(that){
		var self = this,
			args = arguments.length > 1 ? Array.slice(arguments, 1) : null,
			F = function(){};

		var bound = function(){
			var context = that, length = arguments.length;
			if (this instanceof bound){
				F.prototype = self.prototype;
				context = new F;
			}
			var result = (!args && !length)
				? self.call(context)
				: self.apply(context, args && length ? args.concat(Array.slice(arguments)) : args || arguments);
			return context == that ? result : context;
		};
		return bound;
	},
	/*</!ES5-bind>*/

	pass: function(args, bind){
		var self = this;
		if (args != null) args = Array.from(args);
		return function(){
			return self.apply(bind, args || arguments);
		};
	},

	delay: function(delay, bind, args){
		return setTimeout(this.pass((args == null ? [] : args), bind), delay);
	},

	periodical: function(periodical, bind, args){
		return setInterval(this.pass((args == null ? [] : args), bind), periodical);
	}

});

//<1.2compat>

delete Function.prototype.bind;

Function.implement({

	create: function(options){
		var self = this;
		options = options || {};
		return function(event){
			var args = options.arguments;
			args = (args != null) ? Array.from(args) : Array.slice(arguments, (options.event) ? 1 : 0);
			if (options.event) args = [event || window.event].extend(args);
			var returns = function(){
				return self.apply(options.bind || null, args);
			};
			if (options.delay) return setTimeout(returns, options.delay);
			if (options.periodical) return setInterval(returns, options.periodical);
			if (options.attempt) return Function.attempt(returns);
			return returns();
		};
	},

	bind: function(bind, args){
		var self = this;
		if (args != null) args = Array.from(args);
		return function(){
			return self.apply(bind, args || arguments);
		};
	},

	bindWithEvent: function(bind, args){
		var self = this;
		if (args != null) args = Array.from(args);
		return function(event){
			return self.apply(bind, (args == null) ? arguments : [event].concat(args));
		};
	},

	run: function(args, bind){
		return this.apply(bind, Array.from(args));
	}

});

if (Object.create == Function.prototype.create) Object.create = null;

var $try = Function.attempt;

//</1.2compat>


// Begin: Source/Types/Number.js
/*
---

name: Number

description: Contains Number Prototypes like limit, round, times, and ceil.

license: MIT-style license.

requires: Type

provides: Number

...
*/

Number.implement({

	limit: function(min, max){
		return Math.min(max, Math.max(min, this));
	},

	round: function(precision){
		precision = Math.pow(10, precision || 0).toFixed(precision < 0 ? -precision : 0);
		return Math.round(this * precision) / precision;
	},

	times: function(fn, bind){
		for (var i = 0; i < this; i++) fn.call(bind, i, this);
	},

	toFloat: function(){
		return parseFloat(this);
	},

	toInt: function(base){
		return parseInt(this, base || 10);
	}

});

Number.alias('each', 'times');

(function(math){
	var methods = {};
	math.each(function(name){
		if (!Number[name]) methods[name] = function(){
			return Math[name].apply(null, [this].concat(Array.from(arguments)));
		};
	});
	Number.implement(methods);
})(['abs', 'acos', 'asin', 'atan', 'atan2', 'ceil', 'cos', 'exp', 'floor', 'log', 'max', 'min', 'pow', 'sin', 'sqrt', 'tan']);


// Begin: Source/Types/String.js
/*
---

name: String

description: Contains String Prototypes like camelCase, capitalize, test, and toInt.

license: MIT-style license.

requires: Type

provides: String

...
*/

String.implement({

	test: function(regex, params){
		return ((typeOf(regex) == 'regexp') ? regex : new RegExp('' + regex, params)).test(this);
	},

	contains: function(string, separator){
		return (separator) ? (separator + this + separator).indexOf(separator + string + separator) > -1 : String(this).indexOf(string) > -1;
	},

	trim: function(){
		return String(this).replace(/^\s+|\s+$/g, '');
	},

	clean: function(){
		return String(this).replace(/\s+/g, ' ').trim();
	},

	camelCase: function(){
		return String(this).replace(/-\D/g, function(match){
			return match.charAt(1).toUpperCase();
		});
	},

	hyphenate: function(){
		return String(this).replace(/[A-Z]/g, function(match){
			return ('-' + match.charAt(0).toLowerCase());
		});
	},

	capitalize: function(){
		return String(this).replace(/\b[a-z]/g, function(match){
			return match.toUpperCase();
		});
	},

	escapeRegExp: function(){
		return String(this).replace(/([-.*+?^${}()|[\]\/\\])/g, '\\$1');
	},

	toInt: function(base){
		return parseInt(this, base || 10);
	},

	toFloat: function(){
		return parseFloat(this);
	},

	hexToRgb: function(array){
		var hex = String(this).match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);
		return (hex) ? hex.slice(1).hexToRgb(array) : null;
	},

	rgbToHex: function(array){
		var rgb = String(this).match(/\d{1,3}/g);
		return (rgb) ? rgb.rgbToHex(array) : null;
	},

	substitute: function(object, regexp){
		return String(this).replace(regexp || (/\\?\{([^{}]+)\}/g), function(match, name){
			if (match.charAt(0) == '\\') return match.slice(1);
			return (object[name] != null) ? object[name] : '';
		});
	}

});


// Begin: Source/Browser/Browser.js
/*
---

name: Browser

description: The Browser Object. Contains Browser initialization, Window and Document, and the Browser Hash.

license: MIT-style license.

requires: [Array, Function, Number, String]

provides: [Browser, Window, Document]

...
*/

(function(){

var document = this.document;
var window = document.window = this;

var ua = navigator.userAgent.toLowerCase(),
	platform = navigator.platform.toLowerCase(),
	UA = ua.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/) || [null, 'unknown', 0],
	mode = UA[1] == 'ie' && document.documentMode;

var Browser = this.Browser = {

	extend: Function.prototype.extend,

	name: (UA[1] == 'version') ? UA[3] : UA[1],

	version: mode || parseFloat((UA[1] == 'opera' && UA[4]) ? UA[4] : UA[2]),

	Platform: {
		name: ua.match(/ip(?:ad|od|hone)/) ? 'ios' : (ua.match(/(?:webos|android)/) || platform.match(/mac|win|linux/) || ['other'])[0]
	},

	Features: {
		xpath: !!(document.evaluate),
		air: !!(window.runtime),
		query: !!(document.querySelector),
		json: !!(window.JSON)
	},

	Plugins: {}

};

Browser[Browser.name] = true;
Browser[Browser.name + parseInt(Browser.version, 10)] = true;
Browser.Platform[Browser.Platform.name] = true;

// Request

Browser.Request = (function(){

	var XMLHTTP = function(){
		return new XMLHttpRequest();
	};

	var MSXML2 = function(){
		return new ActiveXObject('MSXML2.XMLHTTP');
	};

	var MSXML = function(){
		return new ActiveXObject('Microsoft.XMLHTTP');
	};

	return Function.attempt(function(){
		XMLHTTP();
		return XMLHTTP;
	}, function(){
		MSXML2();
		return MSXML2;
	}, function(){
		MSXML();
		return MSXML;
	});

})();

Browser.Features.xhr = !!(Browser.Request);

// Flash detection

var version = (Function.attempt(function(){
	return navigator.plugins['Shockwave Flash'].description;
}, function(){
	return new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version');
}) || '0 r0').match(/\d+/g);

Browser.Plugins.Flash = {
	version: Number(version[0] || '0.' + version[1]) || 0,
	build: Number(version[2]) || 0
};

// String scripts

Browser.exec = function(text){
	if (!text) return text;
	if (window.execScript){
		window.execScript(text);
	} else {
		var script = document.createElement('script');
		script.setAttribute('type', 'text/javascript');
		script.text = text;
		document.head.appendChild(script);
		document.head.removeChild(script);
	}
	return text;
};

String.implement('stripScripts', function(exec){
	var scripts = '';
	var text = this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi, function(all, code){
		scripts += code + '\n';
		return '';
	});
	if (exec === true) Browser.exec(scripts);
	else if (typeOf(exec) == 'function') exec(scripts, text);
	return text;
});

// Window, Document

Browser.extend({
	Document: this.Document,
	Window: this.Window,
	Element: this.Element,
	Event: this.Event
});

this.Window = this.$constructor = new Type('Window', function(){});

this.$family = Function.from('window').hide();

Window.mirror(function(name, method){
	window[name] = method;
});

this.Document = document.$constructor = new Type('Document', function(){});

document.$family = Function.from('document').hide();

Document.mirror(function(name, method){
	document[name] = method;
});

document.html = document.documentElement;
if (!document.head) document.head = document.getElementsByTagName('head')[0];

if (document.execCommand) try {
	document.execCommand("BackgroundImageCache", false, true);
} catch (e){}

/*<ltIE9>*/
if (this.attachEvent && !this.addEventListener){
	var unloadEvent = function(){
		this.detachEvent('onunload', unloadEvent);
		document.head = document.html = document.window = null;
	};
	this.attachEvent('onunload', unloadEvent);
}

// IE fails on collections and <select>.options (refers to <select>)
var arrayFrom = Array.from;
try {
	arrayFrom(document.html.childNodes);
} catch(e){
	Array.from = function(item){
		if (typeof item != 'string' && Type.isEnumerable(item) && typeOf(item) != 'array'){
			var i = item.length, array = new Array(i);
			while (i--) array[i] = item[i];
			return array;
		}
		return arrayFrom(item);
	};

	var prototype = Array.prototype,
		slice = prototype.slice;
	['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift', 'concat', 'join', 'slice'].each(function(name){
		var method = prototype[name];
		Array[name] = function(item){
			return method.apply(Array.from(item), slice.call(arguments, 1));
		};
	});
}
/*</ltIE9>*/

//<1.2compat>

if (Browser.Platform.ios) Browser.Platform.ipod = true;

Browser.Engine = {};

var setEngine = function(name, version){
	Browser.Engine.name = name;
	Browser.Engine[name + version] = true;
	Browser.Engine.version = version;
};

if (Browser.ie){
	Browser.Engine.trident = true;

	switch (Browser.version){
		case 6: setEngine('trident', 4); break;
		case 7: setEngine('trident', 5); break;
		case 8: setEngine('trident', 6);
	}
}

if (Browser.firefox){
	Browser.Engine.gecko = true;

	if (Browser.version >= 3) setEngine('gecko', 19);
	else setEngine('gecko', 18);
}

if (Browser.safari || Browser.chrome){
	Browser.Engine.webkit = true;

	switch (Browser.version){
		case 2: setEngine('webkit', 419); break;
		case 3: setEngine('webkit', 420); break;
		case 4: setEngine('webkit', 525);
	}
}

if (Browser.opera){
	Browser.Engine.presto = true;

	if (Browser.version >= 9.6) setEngine('presto', 960);
	else if (Browser.version >= 9.5) setEngine('presto', 950);
	else setEngine('presto', 925);
}

if (Browser.name == 'unknown'){
	switch ((ua.match(/(?:webkit|khtml|gecko)/) || [])[0]){
		case 'webkit':
		case 'khtml':
			Browser.Engine.webkit = true;
		break;
		case 'gecko':
			Browser.Engine.gecko = true;
	}
}

this.$exec = Browser.exec;

//</1.2compat>

})();


// Begin: Source/Slick/Slick.Parser.js
/*
---
name: Slick.Parser
description: Standalone CSS3 Selector parser
provides: Slick.Parser
...
*/

;(function(){

var parsed,
	separatorIndex,
	combinatorIndex,
	reversed,
	cache = {},
	reverseCache = {},
	reUnescape = /\\/g;

var parse = function(expression, isReversed){
	if (expression == null) return null;
	if (expression.Slick === true) return expression;
	expression = ('' + expression).replace(/^\s+|\s+$/g, '');
	reversed = !!isReversed;
	var currentCache = (reversed) ? reverseCache : cache;
	if (currentCache[expression]) return currentCache[expression];
	parsed = {
		Slick: true,
		expressions: [],
		raw: expression,
		reverse: function(){
			return parse(this.raw, true);
		}
	};
	separatorIndex = -1;
	while (expression != (expression = expression.replace(regexp, parser)));
	parsed.length = parsed.expressions.length;
	return currentCache[parsed.raw] = (reversed) ? reverse(parsed) : parsed;
};

var reverseCombinator = function(combinator){
	if (combinator === '!') return ' ';
	else if (combinator === ' ') return '!';
	else if ((/^!/).test(combinator)) return combinator.replace(/^!/, '');
	else return '!' + combinator;
};

var reverse = function(expression){
	var expressions = expression.expressions;
	for (var i = 0; i < expressions.length; i++){
		var exp = expressions[i];
		var last = {parts: [], tag: '*', combinator: reverseCombinator(exp[0].combinator)};

		for (var j = 0; j < exp.length; j++){
			var cexp = exp[j];
			if (!cexp.reverseCombinator) cexp.reverseCombinator = ' ';
			cexp.combinator = cexp.reverseCombinator;
			delete cexp.reverseCombinator;
		}

		exp.reverse().push(last);
	}
	return expression;
};

var escapeRegExp = function(string){// Credit: XRegExp 0.6.1 (c) 2007-2008 Steven Levithan <http://stevenlevithan.com/regex/xregexp/> MIT License
	return string.replace(/[-[\]{}()*+?.\\^$|,#\s]/g, function(match){
		return '\\' + match;
	});
};

var regexp = new RegExp(
/*
#!/usr/bin/env ruby
puts "\t\t" + DATA.read.gsub(/\(\?x\)|\s+#.*$|\s+|\\$|\\n/,'')
__END__
	"(?x)^(?:\
	  \\s* ( , ) \\s*               # Separator          \n\
	| \\s* ( <combinator>+ ) \\s*   # Combinator         \n\
	|      ( \\s+ )                 # CombinatorChildren \n\
	|      ( <unicode>+ | \\* )     # Tag                \n\
	| \\#  ( <unicode>+       )     # ID                 \n\
	| \\.  ( <unicode>+       )     # ClassName          \n\
	|                               # Attribute          \n\
	\\[  \
		\\s* (<unicode1>+)  (?:  \
			\\s* ([*^$!~|]?=)  (?:  \
				\\s* (?:\
					([\"']?)(.*?)\\9 \
				)\
			)  \
		)?  \\s*  \
	\\](?!\\]) \n\
	|   :+ ( <unicode>+ )(?:\
	\\( (?:\
		(?:([\"'])([^\\12]*)\\12)|((?:\\([^)]+\\)|[^()]*)+)\
	) \\)\
	)?\
	)"
*/
	"^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)"
	.replace(/<combinator>/, '[' + escapeRegExp(">+~`!@$%^&={}\\;</") + ']')
	.replace(/<unicode>/g, '(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])')
	.replace(/<unicode1>/g, '(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])')
);

function parser(
	rawMatch,

	separator,
	combinator,
	combinatorChildren,

	tagName,
	id,
	className,

	attributeKey,
	attributeOperator,
	attributeQuote,
	attributeValue,

	pseudoMarker,
	pseudoClass,
	pseudoQuote,
	pseudoClassQuotedValue,
	pseudoClassValue
){
	if (separator || separatorIndex === -1){
		parsed.expressions[++separatorIndex] = [];
		combinatorIndex = -1;
		if (separator) return '';
	}

	if (combinator || combinatorChildren || combinatorIndex === -1){
		combinator = combinator || ' ';
		var currentSeparator = parsed.expressions[separatorIndex];
		if (reversed && currentSeparator[combinatorIndex])
			currentSeparator[combinatorIndex].reverseCombinator = reverseCombinator(combinator);
		currentSeparator[++combinatorIndex] = {combinator: combinator, tag: '*'};
	}

	var currentParsed = parsed.expressions[separatorIndex][combinatorIndex];

	if (tagName){
		currentParsed.tag = tagName.replace(reUnescape, '');

	} else if (id){
		currentParsed.id = id.replace(reUnescape, '');

	} else if (className){
		className = className.replace(reUnescape, '');

		if (!currentParsed.classList) currentParsed.classList = [];
		if (!currentParsed.classes) currentParsed.classes = [];
		currentParsed.classList.push(className);
		currentParsed.classes.push({
			value: className,
			regexp: new RegExp('(^|\\s)' + escapeRegExp(className) + '(\\s|$)')
		});

	} else if (pseudoClass){
		pseudoClassValue = pseudoClassValue || pseudoClassQuotedValue;
		pseudoClassValue = pseudoClassValue ? pseudoClassValue.replace(reUnescape, '') : null;

		if (!currentParsed.pseudos) currentParsed.pseudos = [];
		currentParsed.pseudos.push({
			key: pseudoClass.replace(reUnescape, ''),
			value: pseudoClassValue,
			type: pseudoMarker.length == 1 ? 'class' : 'element'
		});

	} else if (attributeKey){
		attributeKey = attributeKey.replace(reUnescape, '');
		attributeValue = (attributeValue || '').replace(reUnescape, '');

		var test, regexp;

		switch (attributeOperator){
			case '^=' : regexp = new RegExp(       '^'+ escapeRegExp(attributeValue)            ); break;
			case '$=' : regexp = new RegExp(            escapeRegExp(attributeValue) +'$'       ); break;
			case '~=' : regexp = new RegExp( '(^|\\s)'+ escapeRegExp(attributeValue) +'(\\s|$)' ); break;
			case '|=' : regexp = new RegExp(       '^'+ escapeRegExp(attributeValue) +'(-|$)'   ); break;
			case  '=' : test = function(value){
				return attributeValue == value;
			}; break;
			case '*=' : test = function(value){
				return value && value.indexOf(attributeValue) > -1;
			}; break;
			case '!=' : test = function(value){
				return attributeValue != value;
			}; break;
			default   : test = function(value){
				return !!value;
			};
		}

		if (attributeValue == '' && (/^[*$^]=$/).test(attributeOperator)) test = function(){
			return false;
		};

		if (!test) test = function(value){
			return value && regexp.test(value);
		};

		if (!currentParsed.attributes) currentParsed.attributes = [];
		currentParsed.attributes.push({
			key: attributeKey,
			operator: attributeOperator,
			value: attributeValue,
			test: test
		});

	}

	return '';
};

// Slick NS

var Slick = (this.Slick || {});

Slick.parse = function(expression){
	return parse(expression);
};

Slick.escapeRegExp = escapeRegExp;

if (!this.Slick) this.Slick = Slick;

}).apply(/*<CommonJS>*/(typeof exports != 'undefined') ? exports : /*</CommonJS>*/this);


// Begin: Source/Slick/Slick.Finder.js
/*
---
name: Slick.Finder
description: The new, superfast css selector engine.
provides: Slick.Finder
requires: Slick.Parser
...
*/

;(function(){

var local = {},
	featuresCache = {},
	toString = Object.prototype.toString;

// Feature / Bug detection

local.isNativeCode = function(fn){
	return (/\{\s*\[native code\]\s*\}/).test('' + fn);
};

local.isXML = function(document){
	return (!!document.xmlVersion) || (!!document.xml) || (toString.call(document) == '[object XMLDocument]') ||
	(document.nodeType == 9 && document.documentElement.nodeName != 'HTML');
};

local.setDocument = function(document){

	// convert elements / window arguments to document. if document cannot be extrapolated, the function returns.
	var nodeType = document.nodeType;
	if (nodeType == 9); // document
	else if (nodeType) document = document.ownerDocument; // node
	else if (document.navigator) document = document.document; // window
	else return;

	// check if it's the old document

	if (this.document === document) return;
	this.document = document;

	// check if we have done feature detection on this document before

	var root = document.documentElement,
		rootUid = this.getUIDXML(root),
		features = featuresCache[rootUid],
		feature;

	if (features){
		for (feature in features){
			this[feature] = features[feature];
		}
		return;
	}

	features = featuresCache[rootUid] = {};

	features.root = root;
	features.isXMLDocument = this.isXML(document);

	features.brokenStarGEBTN
	= features.starSelectsClosedQSA
	= features.idGetsName
	= features.brokenMixedCaseQSA
	= features.brokenGEBCN
	= features.brokenCheckedQSA
	= features.brokenEmptyAttributeQSA
	= features.isHTMLDocument
	= features.nativeMatchesSelector
	= false;

	var starSelectsClosed, starSelectsComments,
		brokenSecondClassNameGEBCN, cachedGetElementsByClassName,
		brokenFormAttributeGetter;

	var selected, id = 'slick_uniqueid';
	var testNode = document.createElement('div');

	var testRoot = document.body || document.getElementsByTagName('body')[0] || root;
	testRoot.appendChild(testNode);

	// on non-HTML documents innerHTML and getElementsById doesnt work properly
	try {
		testNode.innerHTML = '<a id="'+id+'"></a>';
		features.isHTMLDocument = !!document.getElementById(id);
	} catch(e){};

	if (features.isHTMLDocument){

		testNode.style.display = 'none';

		// IE returns comment nodes for getElementsByTagName('*') for some documents
		testNode.appendChild(document.createComment(''));
		starSelectsComments = (testNode.getElementsByTagName('*').length > 1);

		// IE returns closed nodes (EG:"</foo>") for getElementsByTagName('*') for some documents
		try {
			testNode.innerHTML = 'foo</foo>';
			selected = testNode.getElementsByTagName('*');
			starSelectsClosed = (selected && !!selected.length && selected[0].nodeName.charAt(0) == '/');
		} catch(e){};

		features.brokenStarGEBTN = starSelectsComments || starSelectsClosed;

		// IE returns elements with the name instead of just id for getElementsById for some documents
		try {
			testNode.innerHTML = '<a name="'+ id +'"></a><b id="'+ id +'"></b>';
			features.idGetsName = document.getElementById(id) === testNode.firstChild;
		} catch(e){};

		if (testNode.getElementsByClassName){

			// Safari 3.2 getElementsByClassName caches results
			try {
				testNode.innerHTML = '<a class="f"></a><a class="b"></a>';
				testNode.getElementsByClassName('b').length;
				testNode.firstChild.className = 'b';
				cachedGetElementsByClassName = (testNode.getElementsByClassName('b').length != 2);
			} catch(e){};

			// Opera 9.6 getElementsByClassName doesnt detects the class if its not the first one
			try {
				testNode.innerHTML = '<a class="a"></a><a class="f b a"></a>';
				brokenSecondClassNameGEBCN = (testNode.getElementsByClassName('a').length != 2);
			} catch(e){};

			features.brokenGEBCN = cachedGetElementsByClassName || brokenSecondClassNameGEBCN;
		}

		if (testNode.querySelectorAll){
			// IE 8 returns closed nodes (EG:"</foo>") for querySelectorAll('*') for some documents
			try {
				testNode.innerHTML = 'foo</foo>';
				selected = testNode.querySelectorAll('*');
				features.starSelectsClosedQSA = (selected && !!selected.length && selected[0].nodeName.charAt(0) == '/');
			} catch(e){};

			// Safari 3.2 querySelectorAll doesnt work with mixedcase on quirksmode
			try {
				testNode.innerHTML = '<a class="MiX"></a>';
				features.brokenMixedCaseQSA = !testNode.querySelectorAll('.MiX').length;
			} catch(e){};

			// Webkit and Opera dont return selected options on querySelectorAll
			try {
				testNode.innerHTML = '<select><option selected="selected">a</option></select>';
				features.brokenCheckedQSA = (testNode.querySelectorAll(':checked').length == 0);
			} catch(e){};

			// IE returns incorrect results for attr[*^$]="" selectors on querySelectorAll
			try {
				testNode.innerHTML = '<a class=""></a>';
				features.brokenEmptyAttributeQSA = (testNode.querySelectorAll('[class*=""]').length != 0);
			} catch(e){};

		}

		// IE6-7, if a form has an input of id x, form.getAttribute(x) returns a reference to the input
		try {
			testNode.innerHTML = '<form action="s"><input id="action"/></form>';
			brokenFormAttributeGetter = (testNode.firstChild.getAttribute('action') != 's');
		} catch(e){};

		// native matchesSelector function

		features.nativeMatchesSelector = root.matchesSelector || /*root.msMatchesSelector ||*/ root.mozMatchesSelector || root.webkitMatchesSelector;
		if (features.nativeMatchesSelector) try {
			// if matchesSelector trows errors on incorrect sintaxes we can use it
			features.nativeMatchesSelector.call(root, ':slick');
			features.nativeMatchesSelector = null;
		} catch(e){};

	}

	try {
		root.slick_expando = 1;
		delete root.slick_expando;
		features.getUID = this.getUIDHTML;
	} catch(e) {
		features.getUID = this.getUIDXML;
	}

	testRoot.removeChild(testNode);
	testNode = selected = testRoot = null;

	// getAttribute

	features.getAttribute = (features.isHTMLDocument && brokenFormAttributeGetter) ? function(node, name){
		var method = this.attributeGetters[name];
		if (method) return method.call(node);
		var attributeNode = node.getAttributeNode(name);
		return (attributeNode) ? attributeNode.nodeValue : null;
	} : function(node, name){
		var method = this.attributeGetters[name];
		return (method) ? method.call(node) : node.getAttribute(name);
	};

	// hasAttribute

	features.hasAttribute = (root && this.isNativeCode(root.hasAttribute)) ? function(node, attribute) {
		return node.hasAttribute(attribute);
	} : function(node, attribute) {
		node = node.getAttributeNode(attribute);
		return !!(node && (node.specified || node.nodeValue));
	};

	// contains
	// FIXME: Add specs: local.contains should be different for xml and html documents?
	var nativeRootContains = root && this.isNativeCode(root.contains),
		nativeDocumentContains = document && this.isNativeCode(document.contains);

	features.contains = (nativeRootContains && nativeDocumentContains) ? function(context, node){
		return context.contains(node);
	} : (nativeRootContains && !nativeDocumentContains) ? function(context, node){
		// IE8 does not have .contains on document.
		return context === node || ((context === document) ? document.documentElement : context).contains(node);
	} : (root && root.compareDocumentPosition) ? function(context, node){
		return context === node || !!(context.compareDocumentPosition(node) & 16);
	} : function(context, node){
		if (node) do {
			if (node === context) return true;
		} while ((node = node.parentNode));
		return false;
	};

	// document order sorting
	// credits to Sizzle (http://sizzlejs.com/)

	features.documentSorter = (root.compareDocumentPosition) ? function(a, b){
		if (!a.compareDocumentPosition || !b.compareDocumentPosition) return 0;
		return a.compareDocumentPosition(b) & 4 ? -1 : a === b ? 0 : 1;
	} : ('sourceIndex' in root) ? function(a, b){
		if (!a.sourceIndex || !b.sourceIndex) return 0;
		return a.sourceIndex - b.sourceIndex;
	} : (document.createRange) ? function(a, b){
		if (!a.ownerDocument || !b.ownerDocument) return 0;
		var aRange = a.ownerDocument.createRange(), bRange = b.ownerDocument.createRange();
		aRange.setStart(a, 0);
		aRange.setEnd(a, 0);
		bRange.setStart(b, 0);
		bRange.setEnd(b, 0);
		return aRange.compareBoundaryPoints(Range.START_TO_END, bRange);
	} : null ;

	root = null;

	for (feature in features){
		this[feature] = features[feature];
	}
};

// Main Method

var reSimpleSelector = /^([#.]?)((?:[\w-]+|\*))$/,
	reEmptyAttribute = /\[.+[*$^]=(?:""|'')?\]/,
	qsaFailExpCache = {};

local.search = function(context, expression, append, first){

	var found = this.found = (first) ? null : (append || []);

	if (!context) return found;
	else if (context.navigator) context = context.document; // Convert the node from a window to a document
	else if (!context.nodeType) return found;

	// setup

	var parsed, i,
		uniques = this.uniques = {},
		hasOthers = !!(append && append.length),
		contextIsDocument = (context.nodeType == 9);

	if (this.document !== (contextIsDocument ? context : context.ownerDocument)) this.setDocument(context);

	// avoid duplicating items already in the append array
	if (hasOthers) for (i = found.length; i--;) uniques[this.getUID(found[i])] = true;

	// expression checks

	if (typeof expression == 'string'){ // expression is a string

		/*<simple-selectors-override>*/
		var simpleSelector = expression.match(reSimpleSelector);
		simpleSelectors: if (simpleSelector) {

			var symbol = simpleSelector[1],
				name = simpleSelector[2],
				node, nodes;

			if (!symbol){

				if (name == '*' && this.brokenStarGEBTN) break simpleSelectors;
				nodes = context.getElementsByTagName(name);
				if (first) return nodes[0] || null;
				for (i = 0; node = nodes[i++];){
					if (!(hasOthers && uniques[this.getUID(node)])) found.push(node);
				}

			} else if (symbol == '#'){

				if (!this.isHTMLDocument || !contextIsDocument) break simpleSelectors;
				node = context.getElementById(name);
				if (!node) return found;
				if (this.idGetsName && node.getAttributeNode('id').nodeValue != name) break simpleSelectors;
				if (first) return node || null;
				if (!(hasOthers && uniques[this.getUID(node)])) found.push(node);

			} else if (symbol == '.'){

				if (!this.isHTMLDocument || ((!context.getElementsByClassName || this.brokenGEBCN) && context.querySelectorAll)) break simpleSelectors;
				if (context.getElementsByClassName && !this.brokenGEBCN){
					nodes = context.getElementsByClassName(name);
					if (first) return nodes[0] || null;
					for (i = 0; node = nodes[i++];){
						if (!(hasOthers && uniques[this.getUID(node)])) found.push(node);
					}
				} else {
					var matchClass = new RegExp('(^|\\s)'+ Slick.escapeRegExp(name) +'(\\s|$)');
					nodes = context.getElementsByTagName('*');
					for (i = 0; node = nodes[i++];){
						className = node.className;
						if (!(className && matchClass.test(className))) continue;
						if (first) return node;
						if (!(hasOthers && uniques[this.getUID(node)])) found.push(node);
					}
				}

			}

			if (hasOthers) this.sort(found);
			return (first) ? null : found;

		}
		/*</simple-selectors-override>*/

		/*<query-selector-override>*/
		querySelector: if (context.querySelectorAll) {

			if (!this.isHTMLDocument
				|| qsaFailExpCache[expression]
				//TODO: only skip when expression is actually mixed case
				|| this.brokenMixedCaseQSA
				|| (this.brokenCheckedQSA && expression.indexOf(':checked') > -1)
				|| (this.brokenEmptyAttributeQSA && reEmptyAttribute.test(expression))
				|| (!contextIsDocument //Abort when !contextIsDocument and...
					//  there are multiple expressions in the selector
					//  since we currently only fix non-document rooted QSA for single expression selectors
					&& expression.indexOf(',') > -1
				)
				|| Slick.disableQSA
			) break querySelector;

			var _expression = expression, _context = context;
			if (!contextIsDocument){
				// non-document rooted QSA
				// credits to Andrew Dupont
				var currentId = _context.getAttribute('id'), slickid = 'slickid__';
				_context.setAttribute('id', slickid);
				_expression = '#' + slickid + ' ' + _expression;
				context = _context.parentNode;
			}

			try {
				if (first) return context.querySelector(_expression) || null;
				else nodes = context.querySelectorAll(_expression);
			} catch(e) {
				qsaFailExpCache[expression] = 1;
				break querySelector;
			} finally {
				if (!contextIsDocument){
					if (currentId) _context.setAttribute('id', currentId);
					else _context.removeAttribute('id');
					context = _context;
				}
			}

			if (this.starSelectsClosedQSA) for (i = 0; node = nodes[i++];){
				if (node.nodeName > '@' && !(hasOthers && uniques[this.getUID(node)])) found.push(node);
			} else for (i = 0; node = nodes[i++];){
				if (!(hasOthers && uniques[this.getUID(node)])) found.push(node);
			}

			if (hasOthers) this.sort(found);
			return found;

		}
		/*</query-selector-override>*/

		parsed = this.Slick.parse(expression);
		if (!parsed.length) return found;
	} else if (expression == null){ // there is no expression
		return found;
	} else if (expression.Slick){ // expression is a parsed Slick object
		parsed = expression;
	} else if (this.contains(context.documentElement || context, expression)){ // expression is a node
		(found) ? found.push(expression) : found = expression;
		return found;
	} else { // other junk
		return found;
	}

	/*<pseudo-selectors>*//*<nth-pseudo-selectors>*/

	// cache elements for the nth selectors

	this.posNTH = {};
	this.posNTHLast = {};
	this.posNTHType = {};
	this.posNTHTypeLast = {};

	/*</nth-pseudo-selectors>*//*</pseudo-selectors>*/

	// if append is null and there is only a single selector with one expression use pushArray, else use pushUID
	this.push = (!hasOthers && (first || (parsed.length == 1 && parsed.expressions[0].length == 1))) ? this.pushArray : this.pushUID;

	if (found == null) found = [];

	// default engine

	var j, m, n;
	var combinator, tag, id, classList, classes, attributes, pseudos;
	var currentItems, currentExpression, currentBit, lastBit, expressions = parsed.expressions;

	search: for (i = 0; (currentExpression = expressions[i]); i++) for (j = 0; (currentBit = currentExpression[j]); j++){

		combinator = 'combinator:' + currentBit.combinator;
		if (!this[combinator]) continue search;

		tag        = (this.isXMLDocument) ? currentBit.tag : currentBit.tag.toUpperCase();
		id         = currentBit.id;
		classList  = currentBit.classList;
		classes    = currentBit.classes;
		attributes = currentBit.attributes;
		pseudos    = currentBit.pseudos;
		lastBit    = (j === (currentExpression.length - 1));

		this.bitUniques = {};

		if (lastBit){
			this.uniques = uniques;
			this.found = found;
		} else {
			this.uniques = {};
			this.found = [];
		}

		if (j === 0){
			this[combinator](context, tag, id, classes, attributes, pseudos, classList);
			if (first && lastBit && found.length) break search;
		} else {
			if (first && lastBit) for (m = 0, n = currentItems.length; m < n; m++){
				this[combinator](currentItems[m], tag, id, classes, attributes, pseudos, classList);
				if (found.length) break search;
			} else for (m = 0, n = currentItems.length; m < n; m++) this[combinator](currentItems[m], tag, id, classes, attributes, pseudos, classList);
		}

		currentItems = this.found;
	}

	// should sort if there are nodes in append and if you pass multiple expressions.
	if (hasOthers || (parsed.expressions.length > 1)) this.sort(found);

	return (first) ? (found[0] || null) : found;
};

// Utils

local.uidx = 1;
local.uidk = 'slick-uniqueid';

local.getUIDXML = function(node){
	var uid = node.getAttribute(this.uidk);
	if (!uid){
		uid = this.uidx++;
		node.setAttribute(this.uidk, uid);
	}
	return uid;
};

local.getUIDHTML = function(node){
	return node.uniqueNumber || (node.uniqueNumber = this.uidx++);
};

// sort based on the setDocument documentSorter method.

local.sort = function(results){
	if (!this.documentSorter) return results;
	results.sort(this.documentSorter);
	return results;
};

/*<pseudo-selectors>*//*<nth-pseudo-selectors>*/

local.cacheNTH = {};

local.matchNTH = /^([+-]?\d*)?([a-z]+)?([+-]\d+)?$/;

local.parseNTHArgument = function(argument){
	var parsed = argument.match(this.matchNTH);
	if (!parsed) return false;
	var special = parsed[2] || false;
	var a = parsed[1] || 1;
	if (a == '-') a = -1;
	var b = +parsed[3] || 0;
	parsed =
		(special == 'n')	? {a: a, b: b} :
		(special == 'odd')	? {a: 2, b: 1} :
		(special == 'even')	? {a: 2, b: 0} : {a: 0, b: a};

	return (this.cacheNTH[argument] = parsed);
};

local.createNTHPseudo = function(child, sibling, positions, ofType){
	return function(node, argument){
		var uid = this.getUID(node);
		if (!this[positions][uid]){
			var parent = node.parentNode;
			if (!parent) return false;
			var el = parent[child], count = 1;
			if (ofType){
				var nodeName = node.nodeName;
				do {
					if (el.nodeName != nodeName) continue;
					this[positions][this.getUID(el)] = count++;
				} while ((el = el[sibling]));
			} else {
				do {
					if (el.nodeType != 1) continue;
					this[positions][this.getUID(el)] = count++;
				} while ((el = el[sibling]));
			}
		}
		argument = argument || 'n';
		var parsed = this.cacheNTH[argument] || this.parseNTHArgument(argument);
		if (!parsed) return false;
		var a = parsed.a, b = parsed.b, pos = this[positions][uid];
		if (a == 0) return b == pos;
		if (a > 0){
			if (pos < b) return false;
		} else {
			if (b < pos) return false;
		}
		return ((pos - b) % a) == 0;
	};
};

/*</nth-pseudo-selectors>*//*</pseudo-selectors>*/

local.pushArray = function(node, tag, id, classes, attributes, pseudos){
	if (this.matchSelector(node, tag, id, classes, attributes, pseudos)) this.found.push(node);
};

local.pushUID = function(node, tag, id, classes, attributes, pseudos){
	var uid = this.getUID(node);
	if (!this.uniques[uid] && this.matchSelector(node, tag, id, classes, attributes, pseudos)){
		this.uniques[uid] = true;
		this.found.push(node);
	}
};

local.matchNode = function(node, selector){
	if (this.isHTMLDocument && this.nativeMatchesSelector){
		try {
			return this.nativeMatchesSelector.call(node, selector.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g, '[$1="$2"]'));
		} catch(matchError) {}
	}

	var parsed = this.Slick.parse(selector);
	if (!parsed) return true;

	// simple (single) selectors
	var expressions = parsed.expressions, simpleExpCounter = 0, i;
	for (i = 0; (currentExpression = expressions[i]); i++){
		if (currentExpression.length == 1){
			var exp = currentExpression[0];
			if (this.matchSelector(node, (this.isXMLDocument) ? exp.tag : exp.tag.toUpperCase(), exp.id, exp.classes, exp.attributes, exp.pseudos)) return true;
			simpleExpCounter++;
		}
	}

	if (simpleExpCounter == parsed.length) return false;

	var nodes = this.search(this.document, parsed), item;
	for (i = 0; item = nodes[i++];){
		if (item === node) return true;
	}
	return false;
};

local.matchPseudo = function(node, name, argument){
	var pseudoName = 'pseudo:' + name;
	if (this[pseudoName]) return this[pseudoName](node, argument);
	var attribute = this.getAttribute(node, name);
	return (argument) ? argument == attribute : !!attribute;
};

local.matchSelector = function(node, tag, id, classes, attributes, pseudos){
	if (tag){
		var nodeName = (this.isXMLDocument) ? node.nodeName : node.nodeName.toUpperCase();
		if (tag == '*'){
			if (nodeName < '@') return false; // Fix for comment nodes and closed nodes
		} else {
			if (nodeName != tag) return false;
		}
	}

	if (id && node.getAttribute('id') != id) return false;

	var i, part, cls;
	if (classes) for (i = classes.length; i--;){
		cls = this.getAttribute(node, 'class');
		if (!(cls && classes[i].regexp.test(cls))) return false;
	}
	if (attributes) for (i = attributes.length; i--;){
		part = attributes[i];
		if (part.operator ? !part.test(this.getAttribute(node, part.key)) : !this.hasAttribute(node, part.key)) return false;
	}
	if (pseudos) for (i = pseudos.length; i--;){
		part = pseudos[i];
		if (!this.matchPseudo(node, part.key, part.value)) return false;
	}
	return true;
};

var combinators = {

	' ': function(node, tag, id, classes, attributes, pseudos, classList){ // all child nodes, any level

		var i, item, children;

		if (this.isHTMLDocument){
			getById: if (id){
				item = this.document.getElementById(id);
				if ((!item && node.all) || (this.idGetsName && item && item.getAttributeNode('id').nodeValue != id)){
					// all[id] returns all the elements with that name or id inside node
					// if theres just one it will return the element, else it will be a collection
					children = node.all[id];
					if (!children) return;
					if (!children[0]) children = [children];
					for (i = 0; item = children[i++];){
						var idNode = item.getAttributeNode('id');
						if (idNode && idNode.nodeValue == id){
							this.push(item, tag, null, classes, attributes, pseudos);
							break;
						}
					}
					return;
				}
				if (!item){
					// if the context is in the dom we return, else we will try GEBTN, breaking the getById label
					if (this.contains(this.root, node)) return;
					else break getById;
				} else if (this.document !== node && !this.contains(node, item)) return;
				this.push(item, tag, null, classes, attributes, pseudos);
				return;
			}
			getByClass: if (classes && node.getElementsByClassName && !this.brokenGEBCN){
				children = node.getElementsByClassName(classList.join(' '));
				if (!(children && children.length)) break getByClass;
				for (i = 0; item = children[i++];) this.push(item, tag, id, null, attributes, pseudos);
				return;
			}
		}
		getByTag: {
			children = node.getElementsByTagName(tag);
			if (!(children && children.length)) break getByTag;
			if (!this.brokenStarGEBTN) tag = null;
			for (i = 0; item = children[i++];) this.push(item, tag, id, classes, attributes, pseudos);
		}
	},

	'>': function(node, tag, id, classes, attributes, pseudos){ // direct children
		if ((node = node.firstChild)) do {
			if (node.nodeType == 1) this.push(node, tag, id, classes, attributes, pseudos);
		} while ((node = node.nextSibling));
	},

	'+': function(node, tag, id, classes, attributes, pseudos){ // next sibling
		while ((node = node.nextSibling)) if (node.nodeType == 1){
			this.push(node, tag, id, classes, attributes, pseudos);
			break;
		}
	},

	'^': function(node, tag, id, classes, attributes, pseudos){ // first child
		node = node.firstChild;
		if (node){
			if (node.nodeType == 1) this.push(node, tag, id, classes, attributes, pseudos);
			else this['combinator:+'](node, tag, id, classes, attributes, pseudos);
		}
	},

	'~': function(node, tag, id, classes, attributes, pseudos){ // next siblings
		while ((node = node.nextSibling)){
			if (node.nodeType != 1) continue;
			var uid = this.getUID(node);
			if (this.bitUniques[uid]) break;
			this.bitUniques[uid] = true;
			this.push(node, tag, id, classes, attributes, pseudos);
		}
	},

	'++': function(node, tag, id, classes, attributes, pseudos){ // next sibling and previous sibling
		this['combinator:+'](node, tag, id, classes, attributes, pseudos);
		this['combinator:!+'](node, tag, id, classes, attributes, pseudos);
	},

	'~~': function(node, tag, id, classes, attributes, pseudos){ // next siblings and previous siblings
		this['combinator:~'](node, tag, id, classes, attributes, pseudos);
		this['combinator:!~'](node, tag, id, classes, attributes, pseudos);
	},

	'!': function(node, tag, id, classes, attributes, pseudos){ // all parent nodes up to document
		while ((node = node.parentNode)) if (node !== this.document) this.push(node, tag, id, classes, attributes, pseudos);
	},

	'!>': function(node, tag, id, classes, attributes, pseudos){ // direct parent (one level)
		node = node.parentNode;
		if (node !== this.document) this.push(node, tag, id, classes, attributes, pseudos);
	},

	'!+': function(node, tag, id, classes, attributes, pseudos){ // previous sibling
		while ((node = node.previousSibling)) if (node.nodeType == 1){
			this.push(node, tag, id, classes, attributes, pseudos);
			break;
		}
	},

	'!^': function(node, tag, id, classes, attributes, pseudos){ // last child
		node = node.lastChild;
		if (node){
			if (node.nodeType == 1) this.push(node, tag, id, classes, attributes, pseudos);
			else this['combinator:!+'](node, tag, id, classes, attributes, pseudos);
		}
	},

	'!~': function(node, tag, id, classes, attributes, pseudos){ // previous siblings
		while ((node = node.previousSibling)){
			if (node.nodeType != 1) continue;
			var uid = this.getUID(node);
			if (this.bitUniques[uid]) break;
			this.bitUniques[uid] = true;
			this.push(node, tag, id, classes, attributes, pseudos);
		}
	}

};

for (var c in combinators) local['combinator:' + c] = combinators[c];

var pseudos = {

	/*<pseudo-selectors>*/

	'empty': function(node){
		var child = node.firstChild;
		return !(child && child.nodeType == 1) && !(node.innerText || node.textContent || '').length;
	},

	'not': function(node, expression){
		return !this.matchNode(node, expression);
	},

	'contains': function(node, text){
		return (node.innerText || node.textContent || '').indexOf(text) > -1;
	},

	'first-child': function(node){
		while ((node = node.previousSibling)) if (node.nodeType == 1) return false;
		return true;
	},

	'last-child': function(node){
		while ((node = node.nextSibling)) if (node.nodeType == 1) return false;
		return true;
	},

	'only-child': function(node){
		var prev = node;
		while ((prev = prev.previousSibling)) if (prev.nodeType == 1) return false;
		var next = node;
		while ((next = next.nextSibling)) if (next.nodeType == 1) return false;
		return true;
	},

	/*<nth-pseudo-selectors>*/

	'nth-child': local.createNTHPseudo('firstChild', 'nextSibling', 'posNTH'),

	'nth-last-child': local.createNTHPseudo('lastChild', 'previousSibling', 'posNTHLast'),

	'nth-of-type': local.createNTHPseudo('firstChild', 'nextSibling', 'posNTHType', true),

	'nth-last-of-type': local.createNTHPseudo('lastChild', 'previousSibling', 'posNTHTypeLast', true),

	'index': function(node, index){
		return this['pseudo:nth-child'](node, '' + (index + 1));
	},

	'even': function(node){
		return this['pseudo:nth-child'](node, '2n');
	},

	'odd': function(node){
		return this['pseudo:nth-child'](node, '2n+1');
	},

	/*</nth-pseudo-selectors>*/

	/*<of-type-pseudo-selectors>*/

	'first-of-type': function(node){
		var nodeName = node.nodeName;
		while ((node = node.previousSibling)) if (node.nodeName == nodeName) return false;
		return true;
	},

	'last-of-type': function(node){
		var nodeName = node.nodeName;
		while ((node = node.nextSibling)) if (node.nodeName == nodeName) return false;
		return true;
	},

	'only-of-type': function(node){
		var prev = node, nodeName = node.nodeName;
		while ((prev = prev.previousSibling)) if (prev.nodeName == nodeName) return false;
		var next = node;
		while ((next = next.nextSibling)) if (next.nodeName == nodeName) return false;
		return true;
	},

	/*</of-type-pseudo-selectors>*/

	// custom pseudos

	'enabled': function(node){
		return !node.disabled;
	},

	'disabled': function(node){
		return node.disabled;
	},

	'checked': function(node){
		return node.checked || node.selected;
	},

	'focus': function(node){
		return this.isHTMLDocument && this.document.activeElement === node && (node.href || node.type || this.hasAttribute(node, 'tabindex'));
	},

	'root': function(node){
		return (node === this.root);
	},

	'selected': function(node){
		return node.selected;
	}

	/*</pseudo-selectors>*/
};

for (var p in pseudos) local['pseudo:' + p] = pseudos[p];

// attributes methods

var attributeGetters = local.attributeGetters = {

	'for': function(){
		return ('htmlFor' in this) ? this.htmlFor : this.getAttribute('for');
	},

	'href': function(){
		return ('href' in this) ? this.getAttribute('href', 2) : this.getAttribute('href');
	},

	'style': function(){
		return (this.style) ? this.style.cssText : this.getAttribute('style');
	},

	'tabindex': function(){
		var attributeNode = this.getAttributeNode('tabindex');
		return (attributeNode && attributeNode.specified) ? attributeNode.nodeValue : null;
	},

	'type': function(){
		return this.getAttribute('type');
	},

	'maxlength': function(){
		var attributeNode = this.getAttributeNode('maxLength');
		return (attributeNode && attributeNode.specified) ? attributeNode.nodeValue : null;
	}

};

attributeGetters.MAXLENGTH = attributeGetters.maxLength = attributeGetters.maxlength;

// Slick

var Slick = local.Slick = (this.Slick || {});

Slick.version = '1.1.7';

// Slick finder

Slick.search = function(context, expression, append){
	return local.search(context, expression, append);
};

Slick.find = function(context, expression){
	return local.search(context, expression, null, true);
};

// Slick containment checker

Slick.contains = function(container, node){
	local.setDocument(container);
	return local.contains(container, node);
};

// Slick attribute getter

Slick.getAttribute = function(node, name){
	local.setDocument(node);
	return local.getAttribute(node, name);
};

Slick.hasAttribute = function(node, name){
	local.setDocument(node);
	return local.hasAttribute(node, name);
};

// Slick matcher

Slick.match = function(node, selector){
	if (!(node && selector)) return false;
	if (!selector || selector === node) return true;
	local.setDocument(node);
	return local.matchNode(node, selector);
};

// Slick attribute accessor

Slick.defineAttributeGetter = function(name, fn){
	local.attributeGetters[name] = fn;
	return this;
};

Slick.lookupAttributeGetter = function(name){
	return local.attributeGetters[name];
};

// Slick pseudo accessor

Slick.definePseudo = function(name, fn){
	local['pseudo:' + name] = function(node, argument){
		return fn.call(node, argument);
	};
	return this;
};

Slick.lookupPseudo = function(name){
	var pseudo = local['pseudo:' + name];
	if (pseudo) return function(argument){
		return pseudo.call(this, argument);
	};
	return null;
};

// Slick overrides accessor

Slick.override = function(regexp, fn){
	local.override(regexp, fn);
	return this;
};

Slick.isXML = local.isXML;

Slick.uidOf = function(node){
	return local.getUIDHTML(node);
};

if (!this.Slick) this.Slick = Slick;

}).apply(/*<CommonJS>*/(typeof exports != 'undefined') ? exports : /*</CommonJS>*/this);


// Begin: Source/Element/Element.js
/*
---

name: Element

description: One of the most important items in MooTools. Contains the dollar function, the dollars function, and an handful of cross-browser, time-saver methods to let you easily work with HTML Elements.

license: MIT-style license.

requires: [Window, Document, Array, String, Function, Object, Number, Slick.Parser, Slick.Finder]

provides: [Element, Elements, $, $$, Iframe, Selectors]

...
*/

var Element = function(tag, props){
	var konstructor = Element.Constructors[tag];
	if (konstructor) return konstructor(props);
	if (typeof tag != 'string') return document.id(tag).set(props);

	if (!props) props = {};

	if (!(/^[\w-]+$/).test(tag)){
		var parsed = Slick.parse(tag).expressions[0][0];
		tag = (parsed.tag == '*') ? 'div' : parsed.tag;
		if (parsed.id && props.id == null) props.id = parsed.id;

		var attributes = parsed.attributes;
		if (attributes) for (var attr, i = 0, l = attributes.length; i < l; i++){
			attr = attributes[i];
			if (props[attr.key] != null) continue;

			if (attr.value != null && attr.operator == '=') props[attr.key] = attr.value;
			else if (!attr.value && !attr.operator) props[attr.key] = true;
		}

		if (parsed.classList && props['class'] == null) props['class'] = parsed.classList.join(' ');
	}

	return document.newElement(tag, props);
};


if (Browser.Element){
	Element.prototype = Browser.Element.prototype;
	// IE8 and IE9 require the wrapping.
	Element.prototype._fireEvent = (function(fireEvent){
		return function(type, event){
			return fireEvent.call(this, type, event);
		};
	})(Element.prototype.fireEvent);
}

new Type('Element', Element).mirror(function(name){
	if (Array.prototype[name]) return;

	var obj = {};
	obj[name] = function(){
		var results = [], args = arguments, elements = true;
		for (var i = 0, l = this.length; i < l; i++){
			var element = this[i], result = results[i] = element[name].apply(element, args);
			elements = (elements && typeOf(result) == 'element');
		}
		return (elements) ? new Elements(results) : results;
	};

	Elements.implement(obj);
});

if (!Browser.Element){
	Element.parent = Object;

	Element.Prototype = {
		'$constructor': Element,
		'$family': Function.from('element').hide()
	};

	Element.mirror(function(name, method){
		Element.Prototype[name] = method;
	});
}

Element.Constructors = {};

//<1.2compat>

Element.Constructors = new Hash;

//</1.2compat>

var IFrame = new Type('IFrame', function(){
	var params = Array.link(arguments, {
		properties: Type.isObject,
		iframe: function(obj){
			return (obj != null);
		}
	});

	var props = params.properties || {}, iframe;
	if (params.iframe) iframe = document.id(params.iframe);
	var onload = props.onload || function(){};
	delete props.onload;
	props.id = props.name = [props.id, props.name, iframe ? (iframe.id || iframe.name) : 'IFrame_' + String.uniqueID()].pick();
	iframe = new Element(iframe || 'iframe', props);

	var onLoad = function(){
		onload.call(iframe.contentWindow);
	};

	if (window.frames[props.id]) onLoad();
	else iframe.addListener('load', onLoad);
	return iframe;
});

var Elements = this.Elements = function(nodes){
	if (nodes && nodes.length){
		var uniques = {}, node;
		for (var i = 0; node = nodes[i++];){
			var uid = Slick.uidOf(node);
			if (!uniques[uid]){
				uniques[uid] = true;
				this.push(node);
			}
		}
	}
};

Elements.prototype = {length: 0};
Elements.parent = Array;

new Type('Elements', Elements).implement({

	filter: function(filter, bind){
		if (!filter) return this;
		return new Elements(Array.filter(this, (typeOf(filter) == 'string') ? function(item){
			return item.match(filter);
		} : filter, bind));
	}.protect(),

	push: function(){
		var length = this.length;
		for (var i = 0, l = arguments.length; i < l; i++){
			var item = document.id(arguments[i]);
			if (item) this[length++] = item;
		}
		return (this.length = length);
	}.protect(),

	unshift: function(){
		var items = [];
		for (var i = 0, l = arguments.length; i < l; i++){
			var item = document.id(arguments[i]);
			if (item) items.push(item);
		}
		return Array.prototype.unshift.apply(this, items);
	}.protect(),

	concat: function(){
		var newElements = new Elements(this);
		for (var i = 0, l = arguments.length; i < l; i++){
			var item = arguments[i];
			if (Type.isEnumerable(item)) newElements.append(item);
			else newElements.push(item);
		}
		return newElements;
	}.protect(),

	append: function(collection){
		for (var i = 0, l = collection.length; i < l; i++) this.push(collection[i]);
		return this;
	}.protect(),

	empty: function(){
		while (this.length) delete this[--this.length];
		return this;
	}.protect()

});

//<1.2compat>

Elements.alias('extend', 'append');

//</1.2compat>

(function(){

// FF, IE
var splice = Array.prototype.splice, object = {'0': 0, '1': 1, length: 2};

splice.call(object, 1, 1);
if (object[1] == 1) Elements.implement('splice', function(){
	var length = this.length;
	var result = splice.apply(this, arguments);
	while (length >= this.length) delete this[length--];
	return result;
}.protect());

Array.forEachMethod(function(method, name){
	Elements.implement(name, method);
});

Array.mirror(Elements);

/*<ltIE8>*/
var createElementAcceptsHTML;
try {
    createElementAcceptsHTML = (document.createElement('<input name=x>').name == 'x');
} catch (e){}

var escapeQuotes = function(html){
	return ('' + html).replace(/&/g, '&amp;').replace(/"/g, '&quot;');
};
/*</ltIE8>*/

Document.implement({

	newElement: function(tag, props){
		if (props && props.checked != null) props.defaultChecked = props.checked;
		/*<ltIE8>*/// Fix for readonly name and type properties in IE < 8
		if (createElementAcceptsHTML && props){
			tag = '<' + tag;
			if (props.name) tag += ' name="' + escapeQuotes(props.name) + '"';
			if (props.type) tag += ' type="' + escapeQuotes(props.type) + '"';
			tag += '>';
			delete props.name;
			delete props.type;
		}
		/*</ltIE8>*/
		return this.id(this.createElement(tag)).set(props);
	}

});

})();

(function(){

Slick.uidOf(window);
Slick.uidOf(document);

Document.implement({

	newTextNode: function(text){
		return this.createTextNode(text);
	},

	getDocument: function(){
		return this;
	},

	getWindow: function(){
		return this.window;
	},

	id: (function(){

		var types = {

			string: function(id, nocash, doc){
				id = Slick.find(doc, '#' + id.replace(/(\W)/g, '\\$1'));
				return (id) ? types.element(id, nocash) : null;
			},

			element: function(el, nocash){
				Slick.uidOf(el);
				if (!nocash && !el.$family && !(/^(?:object|embed)$/i).test(el.tagName)){
					var fireEvent = el.fireEvent;
					// wrapping needed in IE7, or else crash
					el._fireEvent = function(type, event){
						return fireEvent(type, event);
					};
					Object.append(el, Element.Prototype);
				}
				return el;
			},

			object: function(obj, nocash, doc){
				if (obj.toElement) return types.element(obj.toElement(doc), nocash);
				return null;
			}

		};

		types.textnode = types.whitespace = types.window = types.document = function(zero){
			return zero;
		};

		return function(el, nocash, doc){
			if (el && el.$family && el.uniqueNumber) return el;
			var type = typeOf(el);
			return (types[type]) ? types[type](el, nocash, doc || document) : null;
		};

	})()

});

if (window.$ == null) Window.implement('$', function(el, nc){
	return document.id(el, nc, this.document);
});

Window.implement({

	getDocument: function(){
		return this.document;
	},

	getWindow: function(){
		return this;
	}

});

[Document, Element].invoke('implement', {

	getElements: function(expression){
		return Slick.search(this, expression, new Elements);
	},

	getElement: function(expression){
		return document.id(Slick.find(this, expression));
	}

});

var contains = {contains: function(element){
	return Slick.contains(this, element);
}};

if (!document.contains) Document.implement(contains);
if (!document.createElement('div').contains) Element.implement(contains);

//<1.2compat>

Element.implement('hasChild', function(element){
	return this !== element && this.contains(element);
});

(function(search, find, match){

	this.Selectors = {};
	var pseudos = this.Selectors.Pseudo = new Hash();

	var addSlickPseudos = function(){
		for (var name in pseudos) if (pseudos.hasOwnProperty(name)){
			Slick.definePseudo(name, pseudos[name]);
			delete pseudos[name];
		}
	};

	Slick.search = function(context, expression, append){
		addSlickPseudos();
		return search.call(this, context, expression, append);
	};

	Slick.find = function(context, expression){
		addSlickPseudos();
		return find.call(this, context, expression);
	};

	Slick.match = function(node, selector){
		addSlickPseudos();
		return match.call(this, node, selector);
	};

})(Slick.search, Slick.find, Slick.match);

//</1.2compat>

// tree walking

var injectCombinator = function(expression, combinator){
	if (!expression) return combinator;

	expression = Object.clone(Slick.parse(expression));

	var expressions = expression.expressions;
	for (var i = expressions.length; i--;)
		expressions[i][0].combinator = combinator;

	return expression;
};

Object.forEach({
	getNext: '~',
	getPrevious: '!~',
	getParent: '!'
}, function(combinator, method){
	Element.implement(method, function(expression){
		return this.getElement(injectCombinator(expression, combinator));
	});
});

Object.forEach({
	getAllNext: '~',
	getAllPrevious: '!~',
	getSiblings: '~~',
	getChildren: '>',
	getParents: '!'
}, function(combinator, method){
	Element.implement(method, function(expression){
		return this.getElements(injectCombinator(expression, combinator));
	});
});

Element.implement({

	getFirst: function(expression){
		return document.id(Slick.search(this, injectCombinator(expression, '>'))[0]);
	},

	getLast: function(expression){
		return document.id(Slick.search(this, injectCombinator(expression, '>')).getLast());
	},

	getWindow: function(){
		return this.ownerDocument.window;
	},

	getDocument: function(){
		return this.ownerDocument;
	},

	getElementById: function(id){
		return document.id(Slick.find(this, '#' + ('' + id).replace(/(\W)/g, '\\$1')));
	},

	match: function(expression){
		return !expression || Slick.match(this, expression);
	}

});

//<1.2compat>

if (window.$$ == null) Window.implement('$$', function(selector){
	var elements = new Elements;
	if (arguments.length == 1 && typeof selector == 'string') return Slick.search(this.document, selector, elements);
	var args = Array.flatten(arguments);
	for (var i = 0, l = args.length; i < l; i++){
		var item = args[i];
		switch (typeOf(item)){
			case 'element': elements.push(item); break;
			case 'string': Slick.search(this.document, item, elements);
		}
	}
	return elements;
});

//</1.2compat>

if (window.$$ == null) Window.implement('$$', function(selector){
	if (arguments.length == 1){
		if (typeof selector == 'string') return Slick.search(this.document, selector, new Elements);
		else if (Type.isEnumerable(selector)) return new Elements(selector);
	}
	return new Elements(arguments);
});

// Inserters

var inserters = {

	before: function(context, element){
		var parent = element.parentNode;
		if (parent) parent.insertBefore(context, element);
	},

	after: function(context, element){
		var parent = element.parentNode;
		if (parent) parent.insertBefore(context, element.nextSibling);
	},

	bottom: function(context, element){
		element.appendChild(context);
	},

	top: function(context, element){
		element.insertBefore(context, element.firstChild);
	}

};

inserters.inside = inserters.bottom;

//<1.2compat>

Object.each(inserters, function(inserter, where){

	where = where.capitalize();

	var methods = {};

	methods['inject' + where] = function(el){
		inserter(this, document.id(el, true));
		return this;
	};

	methods['grab' + where] = function(el){
		inserter(document.id(el, true), this);
		return this;
	};

	Element.implement(methods);

});

//</1.2compat>

// getProperty / setProperty

var propertyGetters = {}, propertySetters = {};

// properties

var properties = {};
Array.forEach([
	'type', 'value', 'defaultValue', 'accessKey', 'cellPadding', 'cellSpacing', 'colSpan',
	'frameBorder', 'rowSpan', 'tabIndex', 'useMap'
], function(property){
	properties[property.toLowerCase()] = property;
});

properties.html = 'innerHTML';
properties.text = (document.createElement('div').textContent == null) ? 'innerText': 'textContent';

Object.forEach(properties, function(real, key){
	propertySetters[key] = function(node, value){
		node[real] = value;
	};
	propertyGetters[key] = function(node){
		return node[real];
	};
});

// Booleans

var bools = [
	'compact', 'nowrap', 'ismap', 'declare', 'noshade', 'checked',
	'disabled', 'readOnly', 'multiple', 'selected', 'noresize',
	'defer', 'defaultChecked', 'autofocus', 'controls', 'autoplay',
	'loop'
];

var booleans = {};
Array.forEach(bools, function(bool){
	var lower = bool.toLowerCase();
	booleans[lower] = bool;
	propertySetters[lower] = function(node, value){
		node[bool] = !!value;
	};
	propertyGetters[lower] = function(node){
		return !!node[bool];
	};
});

// Special cases

Object.append(propertySetters, {

	'class': function(node, value){
		('className' in node) ? node.className = (value || '') : node.setAttribute('class', value);
	},

	'for': function(node, value){
		('htmlFor' in node) ? node.htmlFor = value : node.setAttribute('for', value);
	},

	'style': function(node, value){
		(node.style) ? node.style.cssText = value : node.setAttribute('style', value);
	},

	'value': function(node, value){
		node.value = (value != null) ? value : '';
	}

});

propertyGetters['class'] = function(node){
	return ('className' in node) ? node.className || null : node.getAttribute('class');
};

/* <webkit> */
var el = document.createElement('button');
// IE sets type as readonly and throws
try { el.type = 'button'; } catch(e){}
if (el.type != 'button') propertySetters.type = function(node, value){
	node.setAttribute('type', value);
};
el = null;
/* </webkit> */

/*<IE>*/
var input = document.createElement('input');
input.value = 't';
input.type = 'submit';
if (input.value != 't') propertySetters.type = function(node, type){
	var value = node.value;
	node.type = type;
	node.value = value;
};
input = null;
/*</IE>*/

/* getProperty, setProperty */

/* <ltIE9> */
var pollutesGetAttribute = (function(div){
	div.random = 'attribute';
	return (div.getAttribute('random') == 'attribute');
})(document.createElement('div'));

/* <ltIE9> */

Element.implement({

	setProperty: function(name, value){
		var setter = propertySetters[name.toLowerCase()];
		if (setter){
			setter(this, value);
		} else {
			/* <ltIE9> */
			if (pollutesGetAttribute) var attributeWhiteList = this.retrieve('$attributeWhiteList', {});
			/* </ltIE9> */

			if (value == null){
				this.removeAttribute(name);
				/* <ltIE9> */
				if (pollutesGetAttribute) delete attributeWhiteList[name];
				/* </ltIE9> */
			} else {
				this.setAttribute(name, '' + value);
				/* <ltIE9> */
				if (pollutesGetAttribute) attributeWhiteList[name] = true;
				/* </ltIE9> */
			}
		}
		return this;
	},

	setProperties: function(attributes){
		for (var attribute in attributes) this.setProperty(attribute, attributes[attribute]);
		return this;
	},

	getProperty: function(name){
		var getter = propertyGetters[name.toLowerCase()];
		if (getter) return getter(this);
		/* <ltIE9> */
		if (pollutesGetAttribute){
			var attr = this.getAttributeNode(name), attributeWhiteList = this.retrieve('$attributeWhiteList', {});
			if (!attr) return null;
			if (attr.expando && !attributeWhiteList[name]){
				var outer = this.outerHTML;
				// segment by the opening tag and find mention of attribute name
				if (outer.substr(0, outer.search(/\/?['"]?>(?![^<]*<['"])/)).indexOf(name) < 0) return null;
				attributeWhiteList[name] = true;
			}
		}
		/* </ltIE9> */
		var result = Slick.getAttribute(this, name);
		return (!result && !Slick.hasAttribute(this, name)) ? null : result;
	},

	getProperties: function(){
		var args = Array.from(arguments);
		return args.map(this.getProperty, this).associate(args);
	},

	removeProperty: function(name){
		return this.setProperty(name, null);
	},

	removeProperties: function(){
		Array.each(arguments, this.removeProperty, this);
		return this;
	},

	set: function(prop, value){
		var property = Element.Properties[prop];
		(property && property.set) ? property.set.call(this, value) : this.setProperty(prop, value);
	}.overloadSetter(),

	get: function(prop){
		var property = Element.Properties[prop];
		return (property && property.get) ? property.get.apply(this) : this.getProperty(prop);
	}.overloadGetter(),

	erase: function(prop){
		var property = Element.Properties[prop];
		(property && property.erase) ? property.erase.apply(this) : this.removeProperty(prop);
		return this;
	},

	hasClass: function(className){
		return this.className.clean().contains(className, ' ');
	},

	addClass: function(className){
		if (!this.hasClass(className)) this.className = (this.className + ' ' + className).clean();
		return this;
	},

	removeClass: function(className){
		this.className = this.className.replace(new RegExp('(^|\\s)' + className + '(?:\\s|$)'), '$1');
		return this;
	},

	toggleClass: function(className, force){
		if (force == null) force = !this.hasClass(className);
		return (force) ? this.addClass(className) : this.removeClass(className);
	},

	adopt: function(){
		var parent = this, fragment, elements = Array.flatten(arguments), length = elements.length;
		if (length > 1) parent = fragment = document.createDocumentFragment();

		for (var i = 0; i < length; i++){
			var element = document.id(elements[i], true);
			if (element) parent.appendChild(element);
		}

		if (fragment) this.appendChild(fragment);

		return this;
	},

	appendText: function(text, where){
		return this.grab(this.getDocument().newTextNode(text), where);
	},

	grab: function(el, where){
		inserters[where || 'bottom'](document.id(el, true), this);
		return this;
	},

	inject: function(el, where){
		inserters[where || 'bottom'](this, document.id(el, true));
		return this;
	},

	replaces: function(el){
		el = document.id(el, true);
		el.parentNode.replaceChild(this, el);
		return this;
	},

	wraps: function(el, where){
		el = document.id(el, true);
		return this.replaces(el).grab(el, where);
	},

	getSelected: function(){
		this.selectedIndex; // Safari 3.2.1
		return new Elements(Array.from(this.options).filter(function(option){
			return option.selected;
		}));
	},

	toQueryString: function(){
		var queryString = [];
		this.getElements('input, select, textarea').each(function(el){
			var type = el.type;
			if (!el.name || el.disabled || type == 'submit' || type == 'reset' || type == 'file' || type == 'image') return;

			var value = (el.get('tag') == 'select') ? el.getSelected().map(function(opt){
				// IE
				return document.id(opt).get('value');
			}) : ((type == 'radio' || type == 'checkbox') && !el.checked) ? null : el.get('value');

			Array.from(value).each(function(val){
				if (typeof val != 'undefined') queryString.push(encodeURIComponent(el.name) + '=' + encodeURIComponent(val));
			});
		});
		return queryString.join('&');
	}

});

var collected = {}, storage = {};

var get = function(uid){
	return (storage[uid] || (storage[uid] = {}));
};

var clean = function(item){
	var uid = item.uniqueNumber;
	if (item.removeEvents) item.removeEvents();
	if (item.clearAttributes) item.clearAttributes();
	if (uid != null){
		delete collected[uid];
		delete storage[uid];
	}
	return item;
};

var formProps = {input: 'checked', option: 'selected', textarea: 'value'};

Element.implement({

	destroy: function(){
		var children = clean(this).getElementsByTagName('*');
		Array.each(children, clean);
		Element.dispose(this);
		return null;
	},

	empty: function(){
		Array.from(this.childNodes).each(Element.dispose);
		return this;
	},

	dispose: function(){
		return (this.parentNode) ? this.parentNode.removeChild(this) : this;
	},

	clone: function(contents, keepid){
		contents = contents !== false;
		var clone = this.cloneNode(contents), ce = [clone], te = [this], i;

		if (contents){
			ce.append(Array.from(clone.getElementsByTagName('*')));
			te.append(Array.from(this.getElementsByTagName('*')));
		}

		for (i = ce.length; i--;){
			var node = ce[i], element = te[i];
			if (!keepid) node.removeAttribute('id');
			/*<ltIE9>*/
			if (node.clearAttributes){
				node.clearAttributes();
				node.mergeAttributes(element);
				node.removeAttribute('uniqueNumber');
				if (node.options){
					var no = node.options, eo = element.options;
					for (var j = no.length; j--;) no[j].selected = eo[j].selected;
				}
			}
			/*</ltIE9>*/
			var prop = formProps[element.tagName.toLowerCase()];
			if (prop && element[prop]) node[prop] = element[prop];
		}

		/*<ltIE9>*/
		if (Browser.ie){
			var co = clone.getElementsByTagName('object'), to = this.getElementsByTagName('object');
			for (i = co.length; i--;) co[i].outerHTML = to[i].outerHTML;
		}
		/*</ltIE9>*/
		return document.id(clone);
	}

});

[Element, Window, Document].invoke('implement', {

	addListener: function(type, fn){
		if (type == 'unload'){
			var old = fn, self = this;
			fn = function(){
				self.removeListener('unload', fn);
				old();
			};
		} else {
			collected[Slick.uidOf(this)] = this;
		}
		if (this.addEventListener) this.addEventListener(type, fn, !!arguments[2]);
		else this.attachEvent('on' + type, fn);
		return this;
	},

	removeListener: function(type, fn){
		if (this.removeEventListener) this.removeEventListener(type, fn, !!arguments[2]);
		else this.detachEvent('on' + type, fn);
		return this;
	},

	retrieve: function(property, dflt){
		var storage = get(Slick.uidOf(this)), prop = storage[property];
		if (dflt != null && prop == null) prop = storage[property] = dflt;
		return prop != null ? prop : null;
	},

	store: function(property, value){
		var storage = get(Slick.uidOf(this));
		storage[property] = value;
		return this;
	},

	eliminate: function(property){
		var storage = get(Slick.uidOf(this));
		delete storage[property];
		return this;
	}

});

/*<ltIE9>*/
if (window.attachEvent && !window.addEventListener) window.addListener('unload', function(){
	Object.each(collected, clean);
	if (window.CollectGarbage) CollectGarbage();
});
/*</ltIE9>*/

Element.Properties = {};

//<1.2compat>

Element.Properties = new Hash;

//</1.2compat>

Element.Properties.style = {

	set: function(style){
		this.style.cssText = style;
	},

	get: function(){
		return this.style.cssText;
	},

	erase: function(){
		this.style.cssText = '';
	}

};

Element.Properties.tag = {

	get: function(){
		return this.tagName.toLowerCase();
	}

};

Element.Properties.html = {

	set: function(html){
		if (html == null) html = '';
		else if (typeOf(html) == 'array') html = html.join('');
		this.innerHTML = html;
	},

	erase: function(){
		this.innerHTML = '';
	}

};

/*<ltIE9>*/
// technique by jdbarlett - http://jdbartlett.com/innershiv/
var div = document.createElement('div');
div.innerHTML = '<nav></nav>';
var supportsHTML5Elements = (div.childNodes.length == 1);
if (!supportsHTML5Elements){
	var tags = 'abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video'.split(' '),
		fragment = document.createDocumentFragment(), l = tags.length;
	while (l--) fragment.createElement(tags[l]);
}
div = null;
/*</ltIE9>*/

/*<IE>*/
var supportsTableInnerHTML = Function.attempt(function(){
	var table = document.createElement('table');
	table.innerHTML = '<tr><td></td></tr>';
	return true;
});

/*<ltFF4>*/
var tr = document.createElement('tr'), html = '<td></td>';
tr.innerHTML = html;
var supportsTRInnerHTML = (tr.innerHTML == html);
tr = null;
/*</ltFF4>*/

if (!supportsTableInnerHTML || !supportsTRInnerHTML || !supportsHTML5Elements){

	Element.Properties.html.set = (function(set){

		var translations = {
			table: [1, '<table>', '</table>'],
			select: [1, '<select>', '</select>'],
			tbody: [2, '<table><tbody>', '</tbody></table>'],
			tr: [3, '<table><tbody><tr>', '</tr></tbody></table>']
		};

		translations.thead = translations.tfoot = translations.tbody;

		return function(html){
			var wrap = translations[this.get('tag')];
			if (!wrap && !supportsHTML5Elements) wrap = [0, '', ''];
			if (!wrap) return set.call(this, html);

			var level = wrap[0], wrapper = document.createElement('div'), target = wrapper;
			if (!supportsHTML5Elements) fragment.appendChild(wrapper);
			wrapper.innerHTML = [wrap[1], html, wrap[2]].flatten().join('');
			while (level--) target = target.firstChild;
			this.empty().adopt(target.childNodes);
			if (!supportsHTML5Elements) fragment.removeChild(wrapper);
			wrapper = null;
		};

	})(Element.Properties.html.set);
}
/*</IE>*/

/*<ltIE9>*/
var testForm = document.createElement('form');
testForm.innerHTML = '<select><option>s</option></select>';

if (testForm.firstChild.value != 's') Element.Properties.value = {

	set: function(value){
		var tag = this.get('tag');
		if (tag != 'select') return this.setProperty('value', value);
		var options = this.getElements('option');
		for (var i = 0; i < options.length; i++){
			var option = options[i],
				attr = option.getAttributeNode('value'),
				optionValue = (attr && attr.specified) ? option.value : option.get('text');
			if (optionValue == value) return option.selected = true;
		}
	},

	get: function(){
		var option = this, tag = option.get('tag');

		if (tag != 'select' && tag != 'option') return this.getProperty('value');

		if (tag == 'select' && !(option = option.getSelected()[0])) return '';

		var attr = option.getAttributeNode('value');
		return (attr && attr.specified) ? option.value : option.get('text');
	}

};
testForm = null;
/*</ltIE9>*/

/*<IE>*/
if (document.createElement('div').getAttributeNode('id')) Element.Properties.id = {
	set: function(id){
		this.id = this.getAttributeNode('id').value = id;
	},
	get: function(){
		return this.id || null;
	},
	erase: function(){
		this.id = this.getAttributeNode('id').value = '';
	}
};
/*</IE>*/

})();


// Begin: Source/Class/Class.js
/*
---

name: Class

description: Contains the Class Function for easily creating, extending, and implementing reusable Classes.

license: MIT-style license.

requires: [Array, String, Function, Number]

provides: Class

...
*/

(function(){

var Class = this.Class = new Type('Class', function(params){
	if (instanceOf(params, Function)) params = {initialize: params};

	var newClass = function(){
		reset(this);
		if (newClass.$prototyping) return this;
		this.$caller = null;
		var value = (this.initialize) ? this.initialize.apply(this, arguments) : this;
		this.$caller = this.caller = null;
		return value;
	}.extend(this).implement(params);

	newClass.$constructor = Class;
	newClass.prototype.$constructor = newClass;
	newClass.prototype.parent = parent;

	return newClass;
});

var parent = function(){
	if (!this.$caller) throw new Error('The method "parent" cannot be called.');
	var name = this.$caller.$name,
		parent = this.$caller.$owner.parent,
		previous = (parent) ? parent.prototype[name] : null;
	if (!previous) throw new Error('The method "' + name + '" has no parent.');
	return previous.apply(this, arguments);
};

var reset = function(object){
	for (var key in object){
		var value = object[key];
		switch (typeOf(value)){
			case 'object':
				var F = function(){};
				F.prototype = value;
				object[key] = reset(new F);
			break;
			case 'array': object[key] = value.clone(); break;
		}
	}
	return object;
};

var wrap = function(self, key, method){
	if (method.$origin) method = method.$origin;
	var wrapper = function(){
		if (method.$protected && this.$caller == null) throw new Error('The method "' + key + '" cannot be called.');
		var caller = this.caller, current = this.$caller;
		this.caller = current; this.$caller = wrapper;
		var result = method.apply(this, arguments);
		this.$caller = current; this.caller = caller;
		return result;
	}.extend({$owner: self, $origin: method, $name: key});
	return wrapper;
};

var implement = function(key, value, retain){
	if (Class.Mutators.hasOwnProperty(key)){
		value = Class.Mutators[key].call(this, value);
		if (value == null) return this;
	}

	if (typeOf(value) == 'function'){
		if (value.$hidden) return this;
		this.prototype[key] = (retain) ? value : wrap(this, key, value);
	} else {
		Object.merge(this.prototype, key, value);
	}

	return this;
};

var getInstance = function(klass){
	klass.$prototyping = true;
	var proto = new klass;
	delete klass.$prototyping;
	return proto;
};

Class.implement('implement', implement.overloadSetter());

Class.Mutators = {

	Extends: function(parent){
		this.parent = parent;
		this.prototype = getInstance(parent);
	},

	Implements: function(items){
		Array.from(items).each(function(item){
			var instance = new item;
			for (var key in instance) implement.call(this, key, instance[key], true);
		}, this);
	}
};

})();


// Begin: Source/Class/Class.Extras.js
/*
---

name: Class.Extras

description: Contains Utility Classes that can be implemented into your own Classes to ease the execution of many common tasks.

license: MIT-style license.

requires: Class

provides: [Class.Extras, Chain, Events, Options]

...
*/

(function(){

this.Chain = new Class({

	$chain: [],

	chain: function(){
		this.$chain.append(Array.flatten(arguments));
		return this;
	},

	callChain: function(){
		return (this.$chain.length) ? this.$chain.shift().apply(this, arguments) : false;
	},

	clearChain: function(){
		this.$chain.empty();
		return this;
	}

});

var removeOn = function(string){
	return string.replace(/^on([A-Z])/, function(full, first){
		return first.toLowerCase();
	});
};

this.Events = new Class({

	$events: {},

	addEvent: function(type, fn, internal){
		type = removeOn(type);

		/*<1.2compat>*/
		if (fn == $empty) return this;
		/*</1.2compat>*/

		this.$events[type] = (this.$events[type] || []).include(fn);
		if (internal) fn.internal = true;
		return this;
	},

	addEvents: function(events){
		for (var type in events) this.addEvent(type, events[type]);
		return this;
	},

	fireEvent: function(type, args, delay){
		type = removeOn(type);
		var events = this.$events[type];
		if (!events) return this;
		args = Array.from(args);
		events.each(function(fn){
			if (delay) fn.delay(delay, this, args);
			else fn.apply(this, args);
		}, this);
		return this;
	},

	removeEvent: function(type, fn){
		type = removeOn(type);
		var events = this.$events[type];
		if (events && !fn.internal){
			var index =  events.indexOf(fn);
			if (index != -1) delete events[index];
		}
		return this;
	},

	removeEvents: function(events){
		var type;
		if (typeOf(events) == 'object'){
			for (type in events) this.removeEvent(type, events[type]);
			return this;
		}
		if (events) events = removeOn(events);
		for (type in this.$events){
			if (events && events != type) continue;
			var fns = this.$events[type];
			for (var i = fns.length; i--;) if (i in fns){
				this.removeEvent(type, fns[i]);
			}
		}
		return this;
	}

});

this.Options = new Class({

	setOptions: function(){
		var options = this.options = Object.merge.apply(null, [{}, this.options].append(arguments));
		if (this.addEvent) for (var option in options){
			if (typeOf(options[option]) != 'function' || !(/^on[A-Z]/).test(option)) continue;
			this.addEvent(option, options[option]);
			delete options[option];
		}
		return this;
	}

});

})();


// Begin: Source/Request/Request.js
/*
---

name: Request

description: Powerful all purpose Request Class. Uses XMLHTTPRequest.

license: MIT-style license.

requires: [Object, Element, Chain, Events, Options, Browser]

provides: Request

...
*/

(function(){

var empty = function(){},
	progressSupport = ('onprogress' in new Browser.Request);

var Request = this.Request = new Class({

	Implements: [Chain, Events, Options],

	options: {/*
		onRequest: function(){},
		onLoadstart: function(event, xhr){},
		onProgress: function(event, xhr){},
		onComplete: function(){},
		onCancel: function(){},
		onSuccess: function(responseText, responseXML){},
		onFailure: function(xhr){},
		onException: function(headerName, value){},
		onTimeout: function(){},
		user: '',
		password: '',*/
		url: '',
		data: '',
		headers: {
			'X-Requested-With': 'XMLHttpRequest',
			'Accept': 'text/javascript, text/html, application/xml, text/xml, */*'
		},
		async: true,
		format: false,
		method: 'post',
		link: 'ignore',
		isSuccess: null,
		emulation: true,
		urlEncoded: true,
		encoding: 'utf-8',
		evalScripts: false,
		evalResponse: false,
		timeout: 0,
		noCache: false
	},

	initialize: function(options){
		this.xhr = new Browser.Request();
		this.setOptions(options);
		this.headers = this.options.headers;
	},

	onStateChange: function(){
		var xhr = this.xhr;
		if (xhr.readyState != 4 || !this.running) return;
		this.running = false;
		this.status = 0;
		Function.attempt(function(){
			var status = xhr.status;
			this.status = (status == 1223) ? 204 : status;
		}.bind(this));
		xhr.onreadystatechange = empty;
		if (progressSupport) xhr.onprogress = xhr.onloadstart = empty;
		clearTimeout(this.timer);

		this.response = {text: this.xhr.responseText || '', xml: this.xhr.responseXML};
		if (this.options.isSuccess.call(this, this.status))
			this.success(this.response.text, this.response.xml);
		else
			this.failure();
	},

	isSuccess: function(){
		var status = this.status;
		return (status >= 200 && status < 300);
	},

	isRunning: function(){
		return !!this.running;
	},

	processScripts: function(text){
		if (this.options.evalResponse || (/(ecma|java)script/).test(this.getHeader('Content-type'))) return Browser.exec(text);
		return text.stripScripts(this.options.evalScripts);
	},

	success: function(text, xml){
		this.onSuccess(this.processScripts(text), xml);
	},

	onSuccess: function(){
		this.fireEvent('complete', arguments).fireEvent('success', arguments).callChain();
	},

	failure: function(){
		this.onFailure();
	},

	onFailure: function(){
		this.fireEvent('complete').fireEvent('failure', this.xhr);
	},

	loadstart: function(event){
		this.fireEvent('loadstart', [event, this.xhr]);
	},

	progress: function(event){
		this.fireEvent('progress', [event, this.xhr]);
	},

	timeout: function(){
		this.fireEvent('timeout', this.xhr);
	},

	setHeader: function(name, value){
		this.headers[name] = value;
		return this;
	},

	getHeader: function(name){
		return Function.attempt(function(){
			return this.xhr.getResponseHeader(name);
		}.bind(this));
	},

	check: function(){
		if (!this.running) return true;
		switch (this.options.link){
			case 'cancel': this.cancel(); return true;
			case 'chain': this.chain(this.caller.pass(arguments, this)); return false;
		}
		return false;
	},

	send: function(options){
		if (!this.check(options)) return this;

		this.options.isSuccess = this.options.isSuccess || this.isSuccess;
		this.running = true;

		var type = typeOf(options);
		if (type == 'string' || type == 'element') options = {data: options};

		var old = this.options;
		options = Object.append({data: old.data, url: old.url, method: old.method}, options);
		var data = options.data, url = String(options.url), method = options.method.toLowerCase();

		switch (typeOf(data)){
			case 'element': data = document.id(data).toQueryString(); break;
			case 'object': case 'hash': data = Object.toQueryString(data);
		}

		if (this.options.format){
			var format = 'format=' + this.options.format;
			data = (data) ? format + '&' + data : format;
		}

		if (this.options.emulation && !['get', 'post'].contains(method)){
			var _method = '_method=' + method;
			data = (data) ? _method + '&' + data : _method;
			method = 'post';
		}

		if (this.options.urlEncoded && ['post', 'put'].contains(method)){
			var encoding = (this.options.encoding) ? '; charset=' + this.options.encoding : '';
			this.headers['Content-type'] = 'application/x-www-form-urlencoded' + encoding;
		}

		if (!url) url = document.location.pathname;

		var trimPosition = url.lastIndexOf('/');
		if (trimPosition > -1 && (trimPosition = url.indexOf('#')) > -1) url = url.substr(0, trimPosition);

		if (this.options.noCache)
			url += (url.contains('?') ? '&' : '?') + String.uniqueID();

		if (data && method == 'get'){
			url += (url.contains('?') ? '&' : '?') + data;
			data = null;
		}

		var xhr = this.xhr;
		if (progressSupport){
			xhr.onloadstart = this.loadstart.bind(this);
			xhr.onprogress = this.progress.bind(this);
		}

		xhr.open(method.toUpperCase(), url, this.options.async, this.options.user, this.options.password);
		if (this.options.user && 'withCredentials' in xhr) xhr.withCredentials = true;

		xhr.onreadystatechange = this.onStateChange.bind(this);

		Object.each(this.headers, function(value, key){
			try {
				xhr.setRequestHeader(key, value);
			} catch (e){
				this.fireEvent('exception', [key, value]);
			}
		}, this);

		this.fireEvent('request');
		xhr.send(data);
		if (!this.options.async) this.onStateChange();
		else if (this.options.timeout) this.timer = this.timeout.delay(this.options.timeout, this);
		return this;
	},

	cancel: function(){
		if (!this.running) return this;
		this.running = false;
		var xhr = this.xhr;
		xhr.abort();
		clearTimeout(this.timer);
		xhr.onreadystatechange = empty;
		if (progressSupport) xhr.onprogress = xhr.onloadstart = empty;
		this.xhr = new Browser.Request();
		this.fireEvent('cancel');
		return this;
	}

});

var methods = {};
['get', 'post', 'put', 'delete', 'GET', 'POST', 'PUT', 'DELETE'].each(function(method){
	methods[method] = function(data){
		var object = {
			method: method
		};
		if (data != null) object.data = data;
		return this.send(object);
	};
});

Request.implement(methods);

Element.Properties.send = {

	set: function(options){
		var send = this.get('send').cancel();
		send.setOptions(options);
		return this;
	},

	get: function(){
		var send = this.retrieve('send');
		if (!send){
			send = new Request({
				data: this, link: 'cancel', method: this.get('method') || 'post', url: this.get('action')
			});
			this.store('send', send);
		}
		return send;
	}

};

Element.implement({

	send: function(url){
		var sender = this.get('send');
		sender.send({data: this, url: url || sender.options.url});
		return this;
	}

});

})();


// Begin: Source/Utilities/JSON.js
/*
---

name: JSON

description: JSON encoder and decoder.

license: MIT-style license.

SeeAlso: <http://www.json.org/>

requires: [Array, String, Number, Function]

provides: JSON

...
*/

if (typeof JSON == 'undefined') this.JSON = {};

//<1.2compat>

JSON = new Hash({
	stringify: JSON.stringify,
	parse: JSON.parse
});

//</1.2compat>

(function(){

var special = {'\b': '\\b', '\t': '\\t', '\n': '\\n', '\f': '\\f', '\r': '\\r', '"' : '\\"', '\\': '\\\\'};

var escape = function(chr){
	return special[chr] || '\\u' + ('0000' + chr.charCodeAt(0).toString(16)).slice(-4);
};

JSON.validate = function(string){
	string = string.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').
					replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').
					replace(/(?:^|:|,)(?:\s*\[)+/g, '');

	return (/^[\],:{}\s]*$/).test(string);
};

JSON.encode = JSON.stringify ? function(obj){
	return JSON.stringify(obj);
} : function(obj){
	if (obj && obj.toJSON) obj = obj.toJSON();

	switch (typeOf(obj)){
		case 'string':
			return '"' + obj.replace(/[\x00-\x1f\\"]/g, escape) + '"';
		case 'array':
			return '[' + obj.map(JSON.encode).clean() + ']';
		case 'object': case 'hash':
			var string = [];
			Object.each(obj, function(value, key){
				var json = JSON.encode(value);
				if (json) string.push(JSON.encode(key) + ':' + json);
			});
			return '{' + string + '}';
		case 'number': case 'boolean': return '' + obj;
		case 'null': return 'null';
	}

	return null;
};

JSON.decode = function(string, secure){
	if (!string || typeOf(string) != 'string') return null;

	if (secure || JSON.secure){
		if (JSON.parse) return JSON.parse(string);
		if (!JSON.validate(string)) throw new Error('JSON could not decode the input; security is enabled and the value is not secure.');
	}

	return eval('(' + string + ')');
};

})();


// Begin: Source/Request/Request.JSON.js
/*
---

name: Request.JSON

description: Extends the basic Request Class with additional methods for sending and receiving JSON data.

license: MIT-style license.

requires: [Request, JSON]

provides: Request.JSON

...
*/

Request.JSON = new Class({

	Extends: Request,

	options: {
		/*onError: function(text, error){},*/
		secure: true
	},

	initialize: function(options){
		this.parent(options);
		Object.append(this.headers, {
			'Accept': 'application/json',
			'X-Request': 'JSON'
		});
	},

	success: function(text){
		var json;
		try {
			json = this.response.json = JSON.decode(text, this.options.secure);
		} catch (error){
			this.fireEvent('error', [text, error]);
			return;
		}
		if (json == null) this.onFailure();
		else this.onSuccess(json, text);
	}

});


// Begin: Source/Types/DOMEvent.js
/*
---

name: Event

description: Contains the Event Type, to make the event object cross-browser.

license: MIT-style license.

requires: [Window, Document, Array, Function, String, Object]

provides: Event

...
*/

(function() {

var _keys = {};

var DOMEvent = this.DOMEvent = new Type('DOMEvent', function(event, win){
	if (!win) win = window;
	event = event || win.event;
	if (event.$extended) return event;
	this.event = event;
	this.$extended = true;
	this.shift = event.shiftKey;
	this.control = event.ctrlKey;
	this.alt = event.altKey;
	this.meta = event.metaKey;
	var type = this.type = event.type;
	var target = event.target || event.srcElement;
	while (target && target.nodeType == 3) target = target.parentNode;
	this.target = document.id(target);

	if (type.indexOf('key') == 0){
		var code = this.code = (event.which || event.keyCode);
		this.key = _keys[code]/*<1.3compat>*/ || Object.keyOf(Event.Keys, code)/*</1.3compat>*/;
		if (type == 'keydown'){
			if (code > 111 && code < 124) this.key = 'f' + (code - 111);
			else if (code > 95 && code < 106) this.key = code - 96;
		}
		if (this.key == null) this.key = String.fromCharCode(code).toLowerCase();
	} else if (type == 'click' || type == 'dblclick' || type == 'contextmenu' || type == 'DOMMouseScroll' || type.indexOf('mouse') == 0){
		var doc = win.document;
		doc = (!doc.compatMode || doc.compatMode == 'CSS1Compat') ? doc.html : doc.body;
		this.page = {
			x: (event.pageX != null) ? event.pageX : event.clientX + doc.scrollLeft,
			y: (event.pageY != null) ? event.pageY : event.clientY + doc.scrollTop
		};
		this.client = {
			x: (event.pageX != null) ? event.pageX - win.pageXOffset : event.clientX,
			y: (event.pageY != null) ? event.pageY - win.pageYOffset : event.clientY
		};
		if (type == 'DOMMouseScroll' || type == 'mousewheel')
			this.wheel = (event.wheelDelta) ? event.wheelDelta / 120 : -(event.detail || 0) / 3;

		this.rightClick = (event.which == 3 || event.button == 2);
		if (type == 'mouseover' || type == 'mouseout'){
			var related = event.relatedTarget || event[(type == 'mouseover' ? 'from' : 'to') + 'Element'];
			while (related && related.nodeType == 3) related = related.parentNode;
			this.relatedTarget = document.id(related);
		}
	} else if (type.indexOf('touch') == 0 || type.indexOf('gesture') == 0){
		this.rotation = event.rotation;
		this.scale = event.scale;
		this.targetTouches = event.targetTouches;
		this.changedTouches = event.changedTouches;
		var touches = this.touches = event.touches;
		if (touches && touches[0]){
			var touch = touches[0];
			this.page = {x: touch.pageX, y: touch.pageY};
			this.client = {x: touch.clientX, y: touch.clientY};
		}
	}

	if (!this.client) this.client = {};
	if (!this.page) this.page = {};
});

DOMEvent.implement({

	stop: function(){
		return this.preventDefault().stopPropagation();
	},

	stopPropagation: function(){
		if (this.event.stopPropagation) this.event.stopPropagation();
		else this.event.cancelBubble = true;
		return this;
	},

	preventDefault: function(){
		if (this.event.preventDefault) this.event.preventDefault();
		else this.event.returnValue = false;
		return this;
	}

});

DOMEvent.defineKey = function(code, key){
	_keys[code] = key;
	return this;
};

DOMEvent.defineKeys = DOMEvent.defineKey.overloadSetter(true);

DOMEvent.defineKeys({
	'38': 'up', '40': 'down', '37': 'left', '39': 'right',
	'27': 'esc', '32': 'space', '8': 'backspace', '9': 'tab',
	'46': 'delete', '13': 'enter'
});

})();

/*<1.3compat>*/
var Event = DOMEvent;
Event.Keys = {};
/*</1.3compat>*/

/*<1.2compat>*/

Event.Keys = new Hash(Event.Keys);

/*</1.2compat>*/


// Begin: Source/Element/Element.Event.js
/*
---

name: Element.Event

description: Contains Element methods for dealing with events. This file also includes mouseenter and mouseleave custom Element Events, if necessary.

license: MIT-style license.

requires: [Element, Event]

provides: Element.Event

...
*/

(function(){

Element.Properties.events = {set: function(events){
	this.addEvents(events);
}};

[Element, Window, Document].invoke('implement', {

	addEvent: function(type, fn){
		var events = this.retrieve('events', {});
		if (!events[type]) events[type] = {keys: [], values: []};
		if (events[type].keys.contains(fn)) return this;
		events[type].keys.push(fn);
		var realType = type,
			custom = Element.Events[type],
			condition = fn,
			self = this;
		if (custom){
			if (custom.onAdd) custom.onAdd.call(this, fn, type);
			if (custom.condition){
				condition = function(event){
					if (custom.condition.call(this, event, type)) return fn.call(this, event);
					return true;
				};
			}
			if (custom.base) realType = Function.from(custom.base).call(this, type);
		}
		var defn = function(){
			return fn.call(self);
		};
		var nativeEvent = Element.NativeEvents[realType];
		if (nativeEvent){
			if (nativeEvent == 2){
				defn = function(event){
					event = new DOMEvent(event, self.getWindow());
					if (condition.call(self, event) === false) event.stop();
				};
			}
			this.addListener(realType, defn, arguments[2]);
		}
		events[type].values.push(defn);
		return this;
	},

	removeEvent: function(type, fn){
		var events = this.retrieve('events');
		if (!events || !events[type]) return this;
		var list = events[type];
		var index = list.keys.indexOf(fn);
		if (index == -1) return this;
		var value = list.values[index];
		delete list.keys[index];
		delete list.values[index];
		var custom = Element.Events[type];
		if (custom){
			if (custom.onRemove) custom.onRemove.call(this, fn, type);
			if (custom.base) type = Function.from(custom.base).call(this, type);
		}
		return (Element.NativeEvents[type]) ? this.removeListener(type, value, arguments[2]) : this;
	},

	addEvents: function(events){
		for (var event in events) this.addEvent(event, events[event]);
		return this;
	},

	removeEvents: function(events){
		var type;
		if (typeOf(events) == 'object'){
			for (type in events) this.removeEvent(type, events[type]);
			return this;
		}
		var attached = this.retrieve('events');
		if (!attached) return this;
		if (!events){
			for (type in attached) this.removeEvents(type);
			this.eliminate('events');
		} else if (attached[events]){
			attached[events].keys.each(function(fn){
				this.removeEvent(events, fn);
			}, this);
			delete attached[events];
		}
		return this;
	},

	fireEvent: function(type, args, delay){
		var events = this.retrieve('events');
		if (!events || !events[type]) return this;
		args = Array.from(args);

		events[type].keys.each(function(fn){
			if (delay) fn.delay(delay, this, args);
			else fn.apply(this, args);
		}, this);
		return this;
	},

	cloneEvents: function(from, type){
		from = document.id(from);
		var events = from.retrieve('events');
		if (!events) return this;
		if (!type){
			for (var eventType in events) this.cloneEvents(from, eventType);
		} else if (events[type]){
			events[type].keys.each(function(fn){
				this.addEvent(type, fn);
			}, this);
		}
		return this;
	}

});

Element.NativeEvents = {
	click: 2, dblclick: 2, mouseup: 2, mousedown: 2, contextmenu: 2, //mouse buttons
	mousewheel: 2, DOMMouseScroll: 2, //mouse wheel
	mouseover: 2, mouseout: 2, mousemove: 2, selectstart: 2, selectend: 2, //mouse movement
	keydown: 2, keypress: 2, keyup: 2, //keyboard
	orientationchange: 2, // mobile
	touchstart: 2, touchmove: 2, touchend: 2, touchcancel: 2, // touch
	gesturestart: 2, gesturechange: 2, gestureend: 2, // gesture
	focus: 2, blur: 2, change: 2, reset: 2, select: 2, submit: 2, paste: 2, input: 2, //form elements
	load: 2, unload: 1, beforeunload: 2, resize: 1, move: 1, DOMContentLoaded: 1, readystatechange: 1, //window
	error: 1, abort: 1, scroll: 1 //misc
};

Element.Events = {mousewheel: {
	base: (Browser.firefox) ? 'DOMMouseScroll' : 'mousewheel'
}};

if ('onmouseenter' in document.documentElement){
	Element.NativeEvents.mouseenter = Element.NativeEvents.mouseleave = 2;
} else {
	var check = function(event){
		var related = event.relatedTarget;
		if (related == null) return true;
		if (!related) return false;
		return (related != this && related.prefix != 'xul' && typeOf(this) != 'document' && !this.contains(related));
	};

	Element.Events.mouseenter = {
		base: 'mouseover',
		condition: check
	};

	Element.Events.mouseleave = {
		base: 'mouseout',
		condition: check
	};
}

/*<ltIE9>*/
if (!window.addEventListener){
	Element.NativeEvents.propertychange = 2;
	Element.Events.change = {
		base: function(){
			var type = this.type;
			return (this.get('tag') == 'input' && (type == 'radio' || type == 'checkbox')) ? 'propertychange' : 'change'
		},
		condition: function(event){
			return this.type != 'radio' || (event.event.propertyName == 'checked' && this.checked);
		}
	}
}
/*</ltIE9>*/

//<1.2compat>

Element.Events = new Hash(Element.Events);

//</1.2compat>

})();


// Begin: Source/Element/Element.Delegation.js
/*
---

name: Element.Delegation

description: Extends the Element native object to include the delegate method for more efficient event management.

license: MIT-style license.

requires: [Element.Event]

provides: [Element.Delegation]

...
*/

(function(){

var eventListenerSupport = !!window.addEventListener;

Element.NativeEvents.focusin = Element.NativeEvents.focusout = 2;

var bubbleUp = function(self, match, fn, event, target){
	while (target && target != self){
		if (match(target, event)) return fn.call(target, event, target);
		target = document.id(target.parentNode);
	}
};

var map = {
	mouseenter: {
		base: 'mouseover'
	},
	mouseleave: {
		base: 'mouseout'
	},
	focus: {
		base: 'focus' + (eventListenerSupport ? '' : 'in'),
		capture: true
	},
	blur: {
		base: eventListenerSupport ? 'blur' : 'focusout',
		capture: true
	}
};

/*<ltIE9>*/
var _key = '$delegation:';
var formObserver = function(type){

	return {

		base: 'focusin',

		remove: function(self, uid){
			var list = self.retrieve(_key + type + 'listeners', {})[uid];
			if (list && list.forms) for (var i = list.forms.length; i--;){
				list.forms[i].removeEvent(type, list.fns[i]);
			}
		},

		listen: function(self, match, fn, event, target, uid){
			var form = (target.get('tag') == 'form') ? target : event.target.getParent('form');
			if (!form) return;

			var listeners = self.retrieve(_key + type + 'listeners', {}),
				listener = listeners[uid] || {forms: [], fns: []},
				forms = listener.forms, fns = listener.fns;

			if (forms.indexOf(form) != -1) return;
			forms.push(form);

			var _fn = function(event){
				bubbleUp(self, match, fn, event, target);
			};
			form.addEvent(type, _fn);
			fns.push(_fn);

			listeners[uid] = listener;
			self.store(_key + type + 'listeners', listeners);
		}
	};
};

var inputObserver = function(type){
	return {
		base: 'focusin',
		listen: function(self, match, fn, event, target){
			var events = {blur: function(){
				this.removeEvents(events);
			}};
			events[type] = function(event){
				bubbleUp(self, match, fn, event, target);
			};
			event.target.addEvents(events);
		}
	};
};

if (!eventListenerSupport) Object.append(map, {
	submit: formObserver('submit'),
	reset: formObserver('reset'),
	change: inputObserver('change'),
	select: inputObserver('select')
});
/*</ltIE9>*/

var proto = Element.prototype,
	addEvent = proto.addEvent,
	removeEvent = proto.removeEvent;

var relay = function(old, method){
	return function(type, fn, useCapture){
		if (type.indexOf(':relay') == -1) return old.call(this, type, fn, useCapture);
		var parsed = Slick.parse(type).expressions[0][0];
		if (parsed.pseudos[0].key != 'relay') return old.call(this, type, fn, useCapture);
		var newType = parsed.tag;
		parsed.pseudos.slice(1).each(function(pseudo){
			newType += ':' + pseudo.key + (pseudo.value ? '(' + pseudo.value + ')' : '');
		});
		old.call(this, type, fn);
		return method.call(this, newType, parsed.pseudos[0].value, fn);
	};
};

var delegation = {

	addEvent: function(type, match, fn){
		var storage = this.retrieve('$delegates', {}), stored = storage[type];
		if (stored) for (var _uid in stored){
			if (stored[_uid].fn == fn && stored[_uid].match == match) return this;
		}

		var _type = type, _match = match, _fn = fn, _map = map[type] || {};
		type = _map.base || _type;

		match = function(target){
			return Slick.match(target, _match);
		};

		var elementEvent = Element.Events[_type];
		if (elementEvent && elementEvent.condition){
			var __match = match, condition = elementEvent.condition;
			match = function(target, event){
				return __match(target, event) && condition.call(target, event, type);
			};
		}

		var self = this, uid = String.uniqueID();
		var delegator = _map.listen ? function(event, target){
			if (!target && event && event.target) target = event.target;
			if (target) _map.listen(self, match, fn, event, target, uid);
		} : function(event, target){
			if (!target && event && event.target) target = event.target;
			if (target) bubbleUp(self, match, fn, event, target);
		};

		if (!stored) stored = {};
		stored[uid] = {
			match: _match,
			fn: _fn,
			delegator: delegator
		};
		storage[_type] = stored;
		return addEvent.call(this, type, delegator, _map.capture);
	},

	removeEvent: function(type, match, fn, _uid){
		var storage = this.retrieve('$delegates', {}), stored = storage[type];
		if (!stored) return this;

		if (_uid){
			var _type = type, delegator = stored[_uid].delegator, _map = map[type] || {};
			type = _map.base || _type;
			if (_map.remove) _map.remove(this, _uid);
			delete stored[_uid];
			storage[_type] = stored;
			return removeEvent.call(this, type, delegator);
		}

		var __uid, s;
		if (fn) for (__uid in stored){
			s = stored[__uid];
			if (s.match == match && s.fn == fn) return delegation.removeEvent.call(this, type, match, fn, __uid);
		} else for (__uid in stored){
			s = stored[__uid];
			if (s.match == match) delegation.removeEvent.call(this, type, match, s.fn, __uid);
		}
		return this;
	}

};

[Element, Window, Document].invoke('implement', {
	addEvent: relay(addEvent, delegation.addEvent),
	removeEvent: relay(removeEvent, delegation.removeEvent)
});

})();


// Begin: Source/Fx/Fx.js
/*
---

name: Fx

description: Contains the basic animation logic to be extended by all other Fx Classes.

license: MIT-style license.

requires: [Chain, Events, Options]

provides: Fx

...
*/

(function(){

var Fx = this.Fx = new Class({

	Implements: [Chain, Events, Options],

	options: {
		/*
		onStart: nil,
		onCancel: nil,
		onComplete: nil,
		*/
		fps: 60,
		unit: false,
		duration: 500,
		frames: null,
		frameSkip: true,
		link: 'ignore'
	},

	initialize: function(options){
		this.subject = this.subject || this;
		this.setOptions(options);
	},

	getTransition: function(){
		return function(p){
			return -(Math.cos(Math.PI * p) - 1) / 2;
		};
	},

	step: function(now){
		if (this.options.frameSkip){
			var diff = (this.time != null) ? (now - this.time) : 0, frames = diff / this.frameInterval;
			this.time = now;
			this.frame += frames;
		} else {
			this.frame++;
		}

		if (this.frame < this.frames){
			var delta = this.transition(this.frame / this.frames);
			this.set(this.compute(this.from, this.to, delta));
		} else {
			this.frame = this.frames;
			this.set(this.compute(this.from, this.to, 1));
			this.stop();
		}
	},

	set: function(now){
		return now;
	},

	compute: function(from, to, delta){
		return Fx.compute(from, to, delta);
	},

	check: function(){
		if (!this.isRunning()) return true;
		switch (this.options.link){
			case 'cancel': this.cancel(); return true;
			case 'chain': this.chain(this.caller.pass(arguments, this)); return false;
		}
		return false;
	},

	start: function(from, to){
		if (!this.check(from, to)) return this;
		this.from = from;
		this.to = to;
		this.frame = (this.options.frameSkip) ? 0 : -1;
		this.time = null;
		this.transition = this.getTransition();
		var frames = this.options.frames, fps = this.options.fps, duration = this.options.duration;
		this.duration = Fx.Durations[duration] || duration.toInt();
		this.frameInterval = 1000 / fps;
		this.frames = frames || Math.round(this.duration / this.frameInterval);
		this.fireEvent('start', this.subject);
		pushInstance.call(this, fps);
		return this;
	},

	stop: function(){
		if (this.isRunning()){
			this.time = null;
			pullInstance.call(this, this.options.fps);
			if (this.frames == this.frame){
				this.fireEvent('complete', this.subject);
				if (!this.callChain()) this.fireEvent('chainComplete', this.subject);
			} else {
				this.fireEvent('stop', this.subject);
			}
		}
		return this;
	},

	cancel: function(){
		if (this.isRunning()){
			this.time = null;
			pullInstance.call(this, this.options.fps);
			this.frame = this.frames;
			this.fireEvent('cancel', this.subject).clearChain();
		}
		return this;
	},

	pause: function(){
		if (this.isRunning()){
			this.time = null;
			pullInstance.call(this, this.options.fps);
		}
		return this;
	},

	resume: function(){
		if ((this.frame < this.frames) && !this.isRunning()) pushInstance.call(this, this.options.fps);
		return this;
	},

	isRunning: function(){
		var list = instances[this.options.fps];
		return list && list.contains(this);
	}

});

Fx.compute = function(from, to, delta){
	return (to - from) * delta + from;
};

Fx.Durations = {'short': 250, 'normal': 500, 'long': 1000};

// global timers

var instances = {}, timers = {};

var loop = function(){
	var now = Date.now();
	for (var i = this.length; i--;){
		var instance = this[i];
		if (instance) instance.step(now);
	}
};

var pushInstance = function(fps){
	var list = instances[fps] || (instances[fps] = []);
	list.push(this);
	if (!timers[fps]) timers[fps] = loop.periodical(Math.round(1000 / fps), list);
};

var pullInstance = function(fps){
	var list = instances[fps];
	if (list){
		list.erase(this);
		if (!list.length && timers[fps]){
			delete instances[fps];
			timers[fps] = clearInterval(timers[fps]);
		}
	}
};

})();


// Begin: Source/Element/Element.Style.js
/*
---

name: Element.Style

description: Contains methods for interacting with the styles of Elements in a fashionable way.

license: MIT-style license.

requires: Element

provides: Element.Style

...
*/

(function(){

var html = document.html;

//<ltIE9>
// Check for oldIE, which does not remove styles when they're set to null
var el = document.createElement('div');
el.style.color = 'red';
el.style.color = null;
var doesNotRemoveStyles = el.style.color == 'red';
el = null;
//</ltIE9>

Element.Properties.styles = {set: function(styles){
	this.setStyles(styles);
}};

var hasOpacity = (html.style.opacity != null),
	hasFilter = (html.style.filter != null),
	reAlpha = /alpha\(opacity=([\d.]+)\)/i;

var setVisibility = function(element, opacity){
	element.store('$opacity', opacity);
	element.style.visibility = opacity > 0 || opacity == null ? 'visible' : 'hidden';
};

var setOpacity = (hasOpacity ? function(element, opacity){
	element.style.opacity = opacity;
} : (hasFilter ? function(element, opacity){
	var style = element.style;
	if (!element.currentStyle || !element.currentStyle.hasLayout) style.zoom = 1;
	if (opacity == null || opacity == 1) opacity = '';
	else opacity = 'alpha(opacity=' + (opacity * 100).limit(0, 100).round() + ')';
	var filter = style.filter || element.getComputedStyle('filter') || '';
	style.filter = reAlpha.test(filter) ? filter.replace(reAlpha, opacity) : filter + opacity;
	if (!style.filter) style.removeAttribute('filter');
} : setVisibility));

var getOpacity = (hasOpacity ? function(element){
	var opacity = element.style.opacity || element.getComputedStyle('opacity');
	return (opacity == '') ? 1 : opacity.toFloat();
} : (hasFilter ? function(element){
	var filter = (element.style.filter || element.getComputedStyle('filter')),
		opacity;
	if (filter) opacity = filter.match(reAlpha);
	return (opacity == null || filter == null) ? 1 : (opacity[1] / 100);
} : function(element){
	var opacity = element.retrieve('$opacity');
	if (opacity == null) opacity = (element.style.visibility == 'hidden' ? 0 : 1);
	return opacity;
}));

var floatName = (html.style.cssFloat == null) ? 'styleFloat' : 'cssFloat';

Element.implement({

	getComputedStyle: function(property){
		if (this.currentStyle) return this.currentStyle[property.camelCase()];
		var defaultView = Element.getDocument(this).defaultView,
			computed = defaultView ? defaultView.getComputedStyle(this, null) : null;
		return (computed) ? computed.getPropertyValue((property == floatName) ? 'float' : property.hyphenate()) : null;
	},

	setStyle: function(property, value){
		if (property == 'opacity'){
			if (value != null) value = parseFloat(value);
			setOpacity(this, value);
			return this;
		}
		property = (property == 'float' ? floatName : property).camelCase();
		if (typeOf(value) != 'string'){
			var map = (Element.Styles[property] || '@').split(' ');
			value = Array.from(value).map(function(val, i){
				if (!map[i]) return '';
				return (typeOf(val) == 'number') ? map[i].replace('@', Math.round(val)) : val;
			}).join(' ');
		} else if (value == String(Number(value))){
			value = Math.round(value);
		}
		this.style[property] = value;
		//<ltIE9>
		if ((value == '' || value == null) && doesNotRemoveStyles && this.style.removeAttribute){
			this.style.removeAttribute(property);
		}
		//</ltIE9>
		return this;
	},

	getStyle: function(property){
		if (property == 'opacity') return getOpacity(this);
		property = (property == 'float' ? floatName : property).camelCase();
		var result = this.style[property];
		if (!result || property == 'zIndex'){
			result = [];
			for (var style in Element.ShortStyles){
				if (property != style) continue;
				for (var s in Element.ShortStyles[style]) result.push(this.getStyle(s));
				return result.join(' ');
			}
			result = this.getComputedStyle(property);
		}
		if (result){
			result = String(result);
			var color = result.match(/rgba?\([\d\s,]+\)/);
			if (color) result = result.replace(color[0], color[0].rgbToHex());
		}
		if (Browser.opera || Browser.ie){
			if ((/^(height|width)$/).test(property) && !(/px$/.test(result))){
				var values = (property == 'width') ? ['left', 'right'] : ['top', 'bottom'], size = 0;
				values.each(function(value){
					size += this.getStyle('border-' + value + '-width').toInt() + this.getStyle('padding-' + value).toInt();
				}, this);
				return this['offset' + property.capitalize()] - size + 'px';
			}
			if (Browser.ie && (/^border(.+)Width|margin|padding/).test(property) && isNaN(parseFloat(result))){
				return '0px';
			}
		}
		return result;
	},

	setStyles: function(styles){
		for (var style in styles) this.setStyle(style, styles[style]);
		return this;
	},

	getStyles: function(){
		var result = {};
		Array.flatten(arguments).each(function(key){
			result[key] = this.getStyle(key);
		}, this);
		return result;
	}

});

Element.Styles = {
	left: '@px', top: '@px', bottom: '@px', right: '@px',
	width: '@px', height: '@px', maxWidth: '@px', maxHeight: '@px', minWidth: '@px', minHeight: '@px',
	backgroundColor: 'rgb(@, @, @)', backgroundPosition: '@px @px', color: 'rgb(@, @, @)',
	fontSize: '@px', letterSpacing: '@px', lineHeight: '@px', clip: 'rect(@px @px @px @px)',
	margin: '@px @px @px @px', padding: '@px @px @px @px', border: '@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)',
	borderWidth: '@px @px @px @px', borderStyle: '@ @ @ @', borderColor: 'rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)',
	zIndex: '@', 'zoom': '@', fontWeight: '@', textIndent: '@px', opacity: '@'
};

//<1.3compat>

Element.implement({

	setOpacity: function(value){
		setOpacity(this, value);
		return this;
	},

	getOpacity: function(){
		return getOpacity(this);
	}

});

Element.Properties.opacity = {

	set: function(opacity){
		setOpacity(this, opacity);
		setVisibility(this, opacity);
	},

	get: function(){
		return getOpacity(this);
	}

};

//</1.3compat>

//<1.2compat>

Element.Styles = new Hash(Element.Styles);

//</1.2compat>

Element.ShortStyles = {margin: {}, padding: {}, border: {}, borderWidth: {}, borderStyle: {}, borderColor: {}};

['Top', 'Right', 'Bottom', 'Left'].each(function(direction){
	var Short = Element.ShortStyles;
	var All = Element.Styles;
	['margin', 'padding'].each(function(style){
		var sd = style + direction;
		Short[style][sd] = All[sd] = '@px';
	});
	var bd = 'border' + direction;
	Short.border[bd] = All[bd] = '@px @ rgb(@, @, @)';
	var bdw = bd + 'Width', bds = bd + 'Style', bdc = bd + 'Color';
	Short[bd] = {};
	Short.borderWidth[bdw] = Short[bd][bdw] = All[bdw] = '@px';
	Short.borderStyle[bds] = Short[bd][bds] = All[bds] = '@';
	Short.borderColor[bdc] = Short[bd][bdc] = All[bdc] = 'rgb(@, @, @)';
});

})();


// Begin: Source/Fx/Fx.CSS.js
/*
---

name: Fx.CSS

description: Contains the CSS animation logic. Used by Fx.Tween, Fx.Morph, Fx.Elements.

license: MIT-style license.

requires: [Fx, Element.Style]

provides: Fx.CSS

...
*/

Fx.CSS = new Class({

	Extends: Fx,

	//prepares the base from/to object

	prepare: function(element, property, values){
		values = Array.from(values);
		var from = values[0], to = values[1];
		if (to == null){
			to = from;
			from = element.getStyle(property);
			var unit = this.options.unit;
			// adapted from: https://github.com/ryanmorr/fx/blob/master/fx.js#L299
			if (unit && from.slice(-unit.length) != unit && parseFloat(from) != 0){
				element.setStyle(property, to + unit);
				var value = element.getComputedStyle(property);
				// IE and Opera support pixelLeft or pixelWidth
				if (!(/px$/.test(value))){
					value = element.style[('pixel-' + property).camelCase()];
					if (value == null){
						// adapted from Dean Edwards' http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291
						var left = element.style.left;
						element.style.left = to + unit;
						value = element.style.pixelLeft;
						element.style.left = left;
					}
				}
				from = (to || 1) / (parseFloat(value) || 1) * (parseFloat(from) || 0);
				element.setStyle(property, from + unit);
			}
		}
		return {from: this.parse(from), to: this.parse(to)};
	},

	//parses a value into an array

	parse: function(value){
		value = Function.from(value)();
		value = (typeof value == 'string') ? value.split(' ') : Array.from(value);
		return value.map(function(val){
			val = String(val);
			var found = false;
			Object.each(Fx.CSS.Parsers, function(parser, key){
				if (found) return;
				var parsed = parser.parse(val);
				if (parsed || parsed === 0) found = {value: parsed, parser: parser};
			});
			found = found || {value: val, parser: Fx.CSS.Parsers.String};
			return found;
		});
	},

	//computes by a from and to prepared objects, using their parsers.

	compute: function(from, to, delta){
		var computed = [];
		(Math.min(from.length, to.length)).times(function(i){
			computed.push({value: from[i].parser.compute(from[i].value, to[i].value, delta), parser: from[i].parser});
		});
		computed.$family = Function.from('fx:css:value');
		return computed;
	},

	//serves the value as settable

	serve: function(value, unit){
		if (typeOf(value) != 'fx:css:value') value = this.parse(value);
		var returned = [];
		value.each(function(bit){
			returned = returned.concat(bit.parser.serve(bit.value, unit));
		});
		return returned;
	},

	//renders the change to an element

	render: function(element, property, value, unit){
		element.setStyle(property, this.serve(value, unit));
	},

	//searches inside the page css to find the values for a selector

	search: function(selector){
		if (Fx.CSS.Cache[selector]) return Fx.CSS.Cache[selector];
		var to = {}, selectorTest = new RegExp('^' + selector.escapeRegExp() + '$');
		Array.each(document.styleSheets, function(sheet, j){
			var href = sheet.href;
			if (href && href.contains('://') && !href.contains(document.domain)) return;
			var rules = sheet.rules || sheet.cssRules;
			Array.each(rules, function(rule, i){
				if (!rule.style) return;
				var selectorText = (rule.selectorText) ? rule.selectorText.replace(/^\w+/, function(m){
					return m.toLowerCase();
				}) : null;
				if (!selectorText || !selectorTest.test(selectorText)) return;
				Object.each(Element.Styles, function(value, style){
					if (!rule.style[style] || Element.ShortStyles[style]) return;
					value = String(rule.style[style]);
					to[style] = ((/^rgb/).test(value)) ? value.rgbToHex() : value;
				});
			});
		});
		return Fx.CSS.Cache[selector] = to;
	}

});

Fx.CSS.Cache = {};

Fx.CSS.Parsers = {

	Color: {
		parse: function(value){
			if (value.match(/^#[0-9a-f]{3,6}$/i)) return value.hexToRgb(true);
			return ((value = value.match(/(\d+),\s*(\d+),\s*(\d+)/))) ? [value[1], value[2], value[3]] : false;
		},
		compute: function(from, to, delta){
			return from.map(function(value, i){
				return Math.round(Fx.compute(from[i], to[i], delta));
			});
		},
		serve: function(value){
			return value.map(Number);
		}
	},

	Number: {
		parse: parseFloat,
		compute: Fx.compute,
		serve: function(value, unit){
			return (unit) ? value + unit : value;
		}
	},

	String: {
		parse: Function.from(false),
		compute: function(zero, one){
			return one;
		},
		serve: function(zero){
			return zero;
		}
	}

};

//<1.2compat>

Fx.CSS.Parsers = new Hash(Fx.CSS.Parsers);

//</1.2compat>


// Begin: Source/Fx/Fx.Morph.js
/*
---

name: Fx.Morph

description: Formerly Fx.Styles, effect to transition any number of CSS properties for an element using an object of rules, or CSS based selector rules.

license: MIT-style license.

requires: Fx.CSS

provides: Fx.Morph

...
*/

Fx.Morph = new Class({

	Extends: Fx.CSS,

	initialize: function(element, options){
		this.element = this.subject = document.id(element);
		this.parent(options);
	},

	set: function(now){
		if (typeof now == 'string') now = this.search(now);
		for (var p in now) this.render(this.element, p, now[p], this.options.unit);
		return this;
	},

	compute: function(from, to, delta){
		var now = {};
		for (var p in from) now[p] = this.parent(from[p], to[p], delta);
		return now;
	},

	start: function(properties){
		if (!this.check(properties)) return this;
		if (typeof properties == 'string') properties = this.search(properties);
		var from = {}, to = {};
		for (var p in properties){
			var parsed = this.prepare(this.element, p, properties[p]);
			from[p] = parsed.from;
			to[p] = parsed.to;
		}
		return this.parent(from, to);
	}

});

Element.Properties.morph = {

	set: function(options){
		this.get('morph').cancel().setOptions(options);
		return this;
	},

	get: function(){
		var morph = this.retrieve('morph');
		if (!morph){
			morph = new Fx.Morph(this, {link: 'cancel'});
			this.store('morph', morph);
		}
		return morph;
	}

};

Element.implement({

	morph: function(props){
		this.get('morph').start(props);
		return this;
	}

});


// Begin: Source/Utilities/Swiff.js
/*
---

name: Swiff

description: Wrapper for embedding SWF movies. Supports External Interface Communication.

license: MIT-style license.

credits:
  - Flash detection & Internet Explorer + Flash Player 9 fix inspired by SWFObject.

requires: [Options, Object, Element]

provides: Swiff

...
*/

(function(){

var Swiff = this.Swiff = new Class({

	Implements: Options,

	options: {
		id: null,
		height: 1,
		width: 1,
		container: null,
		properties: {},
		params: {
			quality: 'high',
			allowScriptAccess: 'always',
			wMode: 'window',
			swLiveConnect: true
		},
		callBacks: {},
		vars: {}
	},

	toElement: function(){
		return this.object;
	},

	initialize: function(path, options){
		this.instance = 'Swiff_' + String.uniqueID();

		this.setOptions(options);
		options = this.options;
		var id = this.id = options.id || this.instance;
		var container = document.id(options.container);

		Swiff.CallBacks[this.instance] = {};

		var params = options.params, vars = options.vars, callBacks = options.callBacks;
		var properties = Object.append({height: options.height, width: options.width}, options.properties);

		var self = this;

		for (var callBack in callBacks){
			Swiff.CallBacks[this.instance][callBack] = (function(option){
				return function(){
					return option.apply(self.object, arguments);
				};
			})(callBacks[callBack]);
			vars[callBack] = 'Swiff.CallBacks.' + this.instance + '.' + callBack;
		}

		params.flashVars = Object.toQueryString(vars);
		if (Browser.ie){
			properties.classid = 'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000';
			params.movie = path;
		} else {
			properties.type = 'application/x-shockwave-flash';
		}
		properties.data = path;

		var build = '<object id="' + id + '"';
		for (var property in properties) build += ' ' + property + '="' + properties[property] + '"';
		build += '>';
		for (var param in params){
			if (params[param]) build += '<param name="' + param + '" value="' + params[param] + '" />';
		}
		build += '</object>';
		this.object = ((container) ? container.empty() : new Element('div')).set('html', build).firstChild;
	},

	replaces: function(element){
		element = document.id(element, true);
		element.parentNode.replaceChild(this.toElement(), element);
		return this;
	},

	inject: function(element){
		document.id(element, true).appendChild(this.toElement());
		return this;
	},

	remote: function(){
		return Swiff.remote.apply(Swiff, [this.toElement()].append(arguments));
	}

});

Swiff.CallBacks = {};

Swiff.remote = function(obj, fn){
	var rs = obj.CallFunction('<invoke name="' + fn + '" returntype="javascript">' + __flash__argumentsToXML(arguments, 2) + '</invoke>');
	return eval(rs);
};

})();


// Begin: Source/Fx/Fx.Transitions.js
/*
---

name: Fx.Transitions

description: Contains a set of advanced transitions to be used with any of the Fx Classes.

license: MIT-style license.

credits:
  - Easing Equations by Robert Penner, <http://www.robertpenner.com/easing/>, modified and optimized to be used with MooTools.

requires: Fx

provides: Fx.Transitions

...
*/

Fx.implement({

	getTransition: function(){
		var trans = this.options.transition || Fx.Transitions.Sine.easeInOut;
		if (typeof trans == 'string'){
			var data = trans.split(':');
			trans = Fx.Transitions;
			trans = trans[data[0]] || trans[data[0].capitalize()];
			if (data[1]) trans = trans['ease' + data[1].capitalize() + (data[2] ? data[2].capitalize() : '')];
		}
		return trans;
	}

});

Fx.Transition = function(transition, params){
	params = Array.from(params);
	var easeIn = function(pos){
		return transition(pos, params);
	};
	return Object.append(easeIn, {
		easeIn: easeIn,
		easeOut: function(pos){
			return 1 - transition(1 - pos, params);
		},
		easeInOut: function(pos){
			return (pos <= 0.5 ? transition(2 * pos, params) : (2 - transition(2 * (1 - pos), params))) / 2;
		}
	});
};

Fx.Transitions = {

	linear: function(zero){
		return zero;
	}

};

//<1.2compat>

Fx.Transitions = new Hash(Fx.Transitions);

//</1.2compat>

Fx.Transitions.extend = function(transitions){
	for (var transition in transitions) Fx.Transitions[transition] = new Fx.Transition(transitions[transition]);
};

Fx.Transitions.extend({

	Pow: function(p, x){
		return Math.pow(p, x && x[0] || 6);
	},

	Expo: function(p){
		return Math.pow(2, 8 * (p - 1));
	},

	Circ: function(p){
		return 1 - Math.sin(Math.acos(p));
	},

	Sine: function(p){
		return 1 - Math.cos(p * Math.PI / 2);
	},

	Back: function(p, x){
		x = x && x[0] || 1.618;
		return Math.pow(p, 2) * ((x + 1) * p - x);
	},

	Bounce: function(p){
		var value;
		for (var a = 0, b = 1; 1; a += b, b /= 2){
			if (p >= (7 - 4 * a) / 11){
				value = b * b - Math.pow((11 - 6 * a - 11 * p) / 4, 2);
				break;
			}
		}
		return value;
	},

	Elastic: function(p, x){
		return Math.pow(2, 10 * --p) * Math.cos(20 * p * Math.PI * (x && x[0] || 1) / 3);
	}

});

['Quad', 'Cubic', 'Quart', 'Quint'].each(function(transition, i){
	Fx.Transitions[transition] = new Fx.Transition(function(p){
		return Math.pow(p, i + 2);
	});
});


// Begin: Source/More/More.js
/*
---

script: More.js

name: More

description: MooTools More

license: MIT-style license

authors:
  - Guillermo Rauch
  - Thomas Aylott
  - Scott Kyle
  - Arian Stolwijk
  - Tim Wienk
  - Christoph Pojer
  - Aaron Newton
  - Jacob Thornton

requires:
  - Core/MooTools

provides: [MooTools.More]

...
*/

MooTools.More = {
	version: '1.4.3.1dev',
	build: '%build%'
};


// Begin: Source/Class/Class.Binds.js
/*
---

script: Class.Binds.js

name: Class.Binds

description: Automagically binds specified methods in a class to the instance of the class.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Class
  - /MooTools.More

provides: [Class.Binds]

...
*/

Class.Mutators.Binds = function(binds){
	if (!this.prototype.initialize) this.implement('initialize', function(){});
	return Array.from(binds).concat(this.prototype.Binds || []);
};

Class.Mutators.initialize = function(initialize){
	return function(){
		Array.from(this.Binds).each(function(name){
			var original = this[name];
			if (original) this[name] = original.bind(this);
		}, this);
		return initialize.apply(this, arguments);
	};
};


// Begin: Source/Class/Class.Occlude.js
/*
---

script: Class.Occlude.js

name: Class.Occlude

description: Prevents a class from being applied to a DOM element twice.

license: MIT-style license.

authors:
  - Aaron Newton

requires:
  - Core/Class
  - Core/Element
  - /MooTools.More

provides: [Class.Occlude]

...
*/

Class.Occlude = new Class({

	occlude: function(property, element){
		element = document.id(element || this.element);
		var instance = element.retrieve(property || this.property);
		if (instance && !this.occluded)
			return (this.occluded = instance);

		this.occluded = false;
		element.store(property || this.property, this);
		return this.occluded;
	}

});


// Begin: Source/Element/Element.Dimensions.js
/*
---

name: Element.Dimensions

description: Contains methods to work with size, scroll, or positioning of Elements and the window object.

license: MIT-style license.

credits:
  - Element positioning based on the [qooxdoo](http://qooxdoo.org/) code and smart browser fixes, [LGPL License](http://www.gnu.org/licenses/lgpl.html).
  - Viewport dimensions based on [YUI](http://developer.yahoo.com/yui/) code, [BSD License](http://developer.yahoo.com/yui/license.html).

requires: [Element, Element.Style]

provides: [Element.Dimensions]

...
*/

(function(){

var element = document.createElement('div'),
	child = document.createElement('div');
element.style.height = '0';
element.appendChild(child);
var brokenOffsetParent = (child.offsetParent === element);
element = child = null;

var isOffset = function(el){
	return styleString(el, 'position') != 'static' || isBody(el);
};

var isOffsetStatic = function(el){
	return isOffset(el) || (/^(?:table|td|th)$/i).test(el.tagName);
};

Element.implement({

	scrollTo: function(x, y){
		if (isBody(this)){
			this.getWindow().scrollTo(x, y);
		} else {
			this.scrollLeft = x;
			this.scrollTop = y;
		}
		return this;
	},

	getSize: function(){
		if (isBody(this)) return this.getWindow().getSize();
		return {x: this.offsetWidth, y: this.offsetHeight};
	},

	getScrollSize: function(){
		if (isBody(this)) return this.getWindow().getScrollSize();
		return {x: this.scrollWidth, y: this.scrollHeight};
	},

	getScroll: function(){
		if (isBody(this)) return this.getWindow().getScroll();
		return {x: this.scrollLeft, y: this.scrollTop};
	},

	getScrolls: function(){
		var element = this.parentNode, position = {x: 0, y: 0};
		while (element && !isBody(element)){
			position.x += element.scrollLeft;
			position.y += element.scrollTop;
			element = element.parentNode;
		}
		return position;
	},

	getOffsetParent: brokenOffsetParent ? function(){
		var element = this;
		if (isBody(element) || styleString(element, 'position') == 'fixed') return null;

		var isOffsetCheck = (styleString(element, 'position') == 'static') ? isOffsetStatic : isOffset;
		while ((element = element.parentNode)){
			if (isOffsetCheck(element)) return element;
		}
		return null;
	} : function(){
		var element = this;
		if (isBody(element) || styleString(element, 'position') == 'fixed') return null;

		try {
			return element.offsetParent;
		} catch(e) {}
		return null;
	},

	getOffsets: function(){
		if (this.getBoundingClientRect && !Browser.Platform.ios){
			var bound = this.getBoundingClientRect(),
				html = document.id(this.getDocument().documentElement),
				htmlScroll = html.getScroll(),
				elemScrolls = this.getScrolls(),
				isFixed = (styleString(this, 'position') == 'fixed');

			return {
				x: bound.left.toInt() + elemScrolls.x + ((isFixed) ? 0 : htmlScroll.x) - html.clientLeft,
				y: bound.top.toInt()  + elemScrolls.y + ((isFixed) ? 0 : htmlScroll.y) - html.clientTop
			};
		}

		var element = this, position = {x: 0, y: 0};
		if (isBody(this)) return position;

		while (element && !isBody(element)){
			position.x += element.offsetLeft;
			position.y += element.offsetTop;

			if (Browser.firefox){
				if (!borderBox(element)){
					position.x += leftBorder(element);
					position.y += topBorder(element);
				}
				var parent = element.parentNode;
				if (parent && styleString(parent, 'overflow') != 'visible'){
					position.x += leftBorder(parent);
					position.y += topBorder(parent);
				}
			} else if (element != this && Browser.safari){
				position.x += leftBorder(element);
				position.y += topBorder(element);
			}

			element = element.offsetParent;
		}
		if (Browser.firefox && !borderBox(this)){
			position.x -= leftBorder(this);
			position.y -= topBorder(this);
		}
		return position;
	},

	getPosition: function(relative){
		var offset = this.getOffsets(),
			scroll = this.getScrolls();
		var position = {
			x: offset.x - scroll.x,
			y: offset.y - scroll.y
		};

		if (relative && (relative = document.id(relative))){
			var relativePosition = relative.getPosition();
			return {x: position.x - relativePosition.x - leftBorder(relative), y: position.y - relativePosition.y - topBorder(relative)};
		}
		return position;
	},

	getCoordinates: function(element){
		if (isBody(this)) return this.getWindow().getCoordinates();
		var position = this.getPosition(element),
			size = this.getSize();
		var obj = {
			left: position.x,
			top: position.y,
			width: size.x,
			height: size.y
		};
		obj.right = obj.left + obj.width;
		obj.bottom = obj.top + obj.height;
		return obj;
	},

	computePosition: function(obj){
		return {
			left: obj.x - styleNumber(this, 'margin-left'),
			top: obj.y - styleNumber(this, 'margin-top')
		};
	},

	setPosition: function(obj){
		return this.setStyles(this.computePosition(obj));
	}

});


[Document, Window].invoke('implement', {

	getSize: function(){
		var doc = getCompatElement(this);
		return {x: doc.clientWidth, y: doc.clientHeight};
	},

	getScroll: function(){
		var win = this.getWindow(), doc = getCompatElement(this);
		return {x: win.pageXOffset || doc.scrollLeft, y: win.pageYOffset || doc.scrollTop};
	},

	getScrollSize: function(){
		var doc = getCompatElement(this),
			min = this.getSize(),
			body = this.getDocument().body;

		return {x: Math.max(doc.scrollWidth, body.scrollWidth, min.x), y: Math.max(doc.scrollHeight, body.scrollHeight, min.y)};
	},

	getPosition: function(){
		return {x: 0, y: 0};
	},

	getCoordinates: function(){
		var size = this.getSize();
		return {top: 0, left: 0, bottom: size.y, right: size.x, height: size.y, width: size.x};
	}

});

// private methods

var styleString = Element.getComputedStyle;

function styleNumber(element, style){
	return styleString(element, style).toInt() || 0;
}

function borderBox(element){
	return styleString(element, '-moz-box-sizing') == 'border-box';
}

function topBorder(element){
	return styleNumber(element, 'border-top-width');
}

function leftBorder(element){
	return styleNumber(element, 'border-left-width');
}

function isBody(element){
	return (/^(?:body|html)$/i).test(element.tagName);
}

function getCompatElement(element){
	var doc = element.getDocument();
	return (!doc.compatMode || doc.compatMode == 'CSS1Compat') ? doc.html : doc.body;
}

})();

//aliases
Element.alias({position: 'setPosition'}); //compatability

[Window, Document, Element].invoke('implement', {

	getHeight: function(){
		return this.getSize().y;
	},

	getWidth: function(){
		return this.getSize().x;
	},

	getScrollTop: function(){
		return this.getScroll().y;
	},

	getScrollLeft: function(){
		return this.getScroll().x;
	},

	getScrollHeight: function(){
		return this.getScrollSize().y;
	},

	getScrollWidth: function(){
		return this.getScrollSize().x;
	},

	getTop: function(){
		return this.getPosition().y;
	},

	getLeft: function(){
		return this.getPosition().x;
	}

});


// Begin: Source/Element/Element.Measure.js
/*
---

script: Element.Measure.js

name: Element.Measure

description: Extends the Element native object to include methods useful in measuring dimensions.

credits: "Element.measure / .expose methods by Daniel Steigerwald License: MIT-style license. Copyright: Copyright (c) 2008 Daniel Steigerwald, daniel.steigerwald.cz"

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Element.Style
  - Core/Element.Dimensions
  - /MooTools.More

provides: [Element.Measure]

...
*/

(function(){

var getStylesList = function(styles, planes){
	var list = [];
	Object.each(planes, function(directions){
		Object.each(directions, function(edge){
			styles.each(function(style){
				list.push(style + '-' + edge + (style == 'border' ? '-width' : ''));
			});
		});
	});
	return list;
};

var calculateEdgeSize = function(edge, styles){
	var total = 0;
	Object.each(styles, function(value, style){
		if (style.test(edge)) total = total + value.toInt();
	});
	return total;
};

var isVisible = function(el){
	return !!(!el || el.offsetHeight || el.offsetWidth);
};


Element.implement({

	measure: function(fn){
		if (isVisible(this)) return fn.call(this);
		var parent = this.getParent(),
			toMeasure = [];
		while (!isVisible(parent) && parent != document.body){
			toMeasure.push(parent.expose());
			parent = parent.getParent();
		}
		var restore = this.expose(),
			result = fn.call(this);
		restore();
		toMeasure.each(function(restore){
			restore();
		});
		return result;
	},

	expose: function(){
		if (this.getStyle('display') != 'none') return function(){};
		var before = this.style.cssText;
		this.setStyles({
			display: 'block',
			position: 'absolute',
			visibility: 'hidden'
		});
		return function(){
			this.style.cssText = before;
		}.bind(this);
	},

	getDimensions: function(options){
		options = Object.merge({computeSize: false}, options);
		var dim = {x: 0, y: 0};

		var getSize = function(el, options){
			return (options.computeSize) ? el.getComputedSize(options) : el.getSize();
		};

		var parent = this.getParent('body');

		if (parent && this.getStyle('display') == 'none'){
			dim = this.measure(function(){
				return getSize(this, options);
			});
		} else if (parent){
			try { //safari sometimes crashes here, so catch it
				dim = getSize(this, options);
			}catch(e){}
		}

		return Object.append(dim, (dim.x || dim.x === 0) ? {
				width: dim.x,
				height: dim.y
			} : {
				x: dim.width,
				y: dim.height
			}
		);
	},

	getComputedSize: function(options){
		//<1.2compat>
		//legacy support for my stupid spelling error
		if (options && options.plains) options.planes = options.plains;
		//</1.2compat>

		options = Object.merge({
			styles: ['padding','border'],
			planes: {
				height: ['top','bottom'],
				width: ['left','right']
			},
			mode: 'both'
		}, options);

		var styles = {},
			size = {width: 0, height: 0},
			dimensions;

		if (options.mode == 'vertical'){
			delete size.width;
			delete options.planes.width;
		} else if (options.mode == 'horizontal'){
			delete size.height;
			delete options.planes.height;
		}

		getStylesList(options.styles, options.planes).each(function(style){
			styles[style] = this.getStyle(style).toInt();
		}, this);

		Object.each(options.planes, function(edges, plane){

			var capitalized = plane.capitalize(),
				style = this.getStyle(plane);

			if (style == 'auto' && !dimensions) dimensions = this.getDimensions();

			style = styles[plane] = (style == 'auto') ? dimensions[plane] : style.toInt();
			size['total' + capitalized] = style;

			edges.each(function(edge){
				var edgesize = calculateEdgeSize(edge, styles);
				size['computed' + edge.capitalize()] = edgesize;
				size['total' + capitalized] += edgesize;
			});

		}, this);

		return Object.append(size, styles);
	}

});

})();


// Begin: Source/Element/Element.Position.js
/*
---

script: Element.Position.js

name: Element.Position

description: Extends the Element native object to include methods useful positioning elements relative to others.

license: MIT-style license

authors:
  - Aaron Newton
  - Jacob Thornton

requires:
  - Core/Options
  - Core/Element.Dimensions
  - Element.Measure

provides: [Element.Position]

...
*/

(function(original){

var local = Element.Position = {

	options: {/*
		edge: false,
		returnPos: false,
		minimum: {x: 0, y: 0},
		maximum: {x: 0, y: 0},
		relFixedPosition: false,
		ignoreMargins: false,
		ignoreScroll: false,
		allowNegative: false,*/
		relativeTo: document.body,
		position: {
			x: 'center', //left, center, right
			y: 'center' //top, center, bottom
		},
		offset: {x: 0, y: 0}
	},

	getOptions: function(element, options){
		options = Object.merge({}, local.options, options);
		local.setPositionOption(options);
		local.setEdgeOption(options);
		local.setOffsetOption(element, options);
		local.setDimensionsOption(element, options);
		return options;
	},

	setPositionOption: function(options){
		options.position = local.getCoordinateFromValue(options.position);
	},

	setEdgeOption: function(options){
		var edgeOption = local.getCoordinateFromValue(options.edge);
		options.edge = edgeOption ? edgeOption :
			(options.position.x == 'center' && options.position.y == 'center') ? {x: 'center', y: 'center'} :
			{x: 'left', y: 'top'};
	},

	setOffsetOption: function(element, options){
		var parentOffset = {x: 0, y: 0},
			offsetParent = element.measure(function(){
				return document.id(this.getOffsetParent());
			}),
			parentScroll = offsetParent.getScroll();

		if (!offsetParent || offsetParent == element.getDocument().body) return;
		parentOffset = offsetParent.measure(function(){
			var position = this.getPosition();
			if (this.getStyle('position') == 'fixed'){
				var scroll = window.getScroll();
				position.x += scroll.x;
				position.y += scroll.y;
			}
			return position;
		});

		options.offset = {
			parentPositioned: offsetParent != document.id(options.relativeTo),
			x: options.offset.x - parentOffset.x + parentScroll.x,
			y: options.offset.y - parentOffset.y + parentScroll.y
		};
	},

	setDimensionsOption: function(element, options){
		options.dimensions = element.getDimensions({
			computeSize: true,
			styles: ['padding', 'border', 'margin']
		});
	},

	getPosition: function(element, options){
		var position = {};
		options = local.getOptions(element, options);
		var relativeTo = document.id(options.relativeTo) || document.body;

		local.setPositionCoordinates(options, position, relativeTo);
		if (options.edge) local.toEdge(position, options);

		var offset = options.offset;
		position.left = ((position.x >= 0 || offset.parentPositioned || options.allowNegative) ? position.x : 0).toInt();
		position.top = ((position.y >= 0 || offset.parentPositioned || options.allowNegative) ? position.y : 0).toInt();

		local.toMinMax(position, options);

		if (options.relFixedPosition || relativeTo.getStyle('position') == 'fixed') local.toRelFixedPosition(relativeTo, position);
		if (options.ignoreScroll) local.toIgnoreScroll(relativeTo, position);
		if (options.ignoreMargins) local.toIgnoreMargins(position, options);

		position.left = Math.ceil(position.left);
		position.top = Math.ceil(position.top);
		delete position.x;
		delete position.y;

		return position;
	},

	setPositionCoordinates: function(options, position, relativeTo){
		var offsetY = options.offset.y,
			offsetX = options.offset.x,
			calc = (relativeTo == document.body) ? window.getScroll() : relativeTo.getPosition(),
			top = calc.y,
			left = calc.x,
			winSize = window.getSize();

		switch(options.position.x){
			case 'left': position.x = left + offsetX; break;
			case 'right': position.x = left + offsetX + relativeTo.offsetWidth; break;
			default: position.x = left + ((relativeTo == document.body ? winSize.x : relativeTo.offsetWidth) / 2) + offsetX; break;
		}

		switch(options.position.y){
			case 'top': position.y = top + offsetY; break;
			case 'bottom': position.y = top + offsetY + relativeTo.offsetHeight; break;
			default: position.y = top + ((relativeTo == document.body ? winSize.y : relativeTo.offsetHeight) / 2) + offsetY; break;
		}
	},

	toMinMax: function(position, options){
		var xy = {left: 'x', top: 'y'}, value;
		['minimum', 'maximum'].each(function(minmax){
			['left', 'top'].each(function(lr){
				value = options[minmax] ? options[minmax][xy[lr]] : null;
				if (value != null && ((minmax == 'minimum') ? position[lr] < value : position[lr] > value)) position[lr] = value;
			});
		});
	},

	toRelFixedPosition: function(relativeTo, position){
		var winScroll = window.getScroll();
		position.top += winScroll.y;
		position.left += winScroll.x;
	},

	toIgnoreScroll: function(relativeTo, position){
		var relScroll = relativeTo.getScroll();
		position.top -= relScroll.y;
		position.left -= relScroll.x;
	},

	toIgnoreMargins: function(position, options){
		position.left += options.edge.x == 'right'
			? options.dimensions['margin-right']
			: (options.edge.x != 'center'
				? -options.dimensions['margin-left']
				: -options.dimensions['margin-left'] + ((options.dimensions['margin-right'] + options.dimensions['margin-left']) / 2));

		position.top += options.edge.y == 'bottom'
			? options.dimensions['margin-bottom']
			: (options.edge.y != 'center'
				? -options.dimensions['margin-top']
				: -options.dimensions['margin-top'] + ((options.dimensions['margin-bottom'] + options.dimensions['margin-top']) / 2));
	},

	toEdge: function(position, options){
		var edgeOffset = {},
			dimensions = options.dimensions,
			edge = options.edge;

		switch(edge.x){
			case 'left': edgeOffset.x = 0; break;
			case 'right': edgeOffset.x = -dimensions.x - dimensions.computedRight - dimensions.computedLeft; break;
			// center
			default: edgeOffset.x = -(Math.round(dimensions.totalWidth / 2)); break;
		}

		switch(edge.y){
			case 'top': edgeOffset.y = 0; break;
			case 'bottom': edgeOffset.y = -dimensions.y - dimensions.computedTop - dimensions.computedBottom; break;
			// center
			default: edgeOffset.y = -(Math.round(dimensions.totalHeight / 2)); break;
		}

		position.x += edgeOffset.x;
		position.y += edgeOffset.y;
	},

	getCoordinateFromValue: function(option){
		if (typeOf(option) != 'string') return option;
		option = option.toLowerCase();

		return {
			x: option.test('left') ? 'left'
				: (option.test('right') ? 'right' : 'center'),
			y: option.test(/upper|top/) ? 'top'
				: (option.test('bottom') ? 'bottom' : 'center')
		};
	}

};

Element.implement({

	position: function(options){
		if (options && (options.x != null || options.y != null)){
			return (original ? original.apply(this, arguments) : this);
		}
		var position = this.setStyle('position', 'absolute').calculatePosition(options);
		return (options && options.returnPos) ? position : this.setStyles(position);
	},

	calculatePosition: function(options){
		return local.getPosition(this, options);
	}

});

})(Element.prototype.position);


// Begin: Source/Element/Element.Shortcuts.js
/*
---

script: Element.Shortcuts.js

name: Element.Shortcuts

description: Extends the Element native object to include some shortcut methods.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Element.Style
  - /MooTools.More

provides: [Element.Shortcuts]

...
*/

Element.implement({

	isDisplayed: function(){
		return this.getStyle('display') != 'none';
	},

	isVisible: function(){
		var w = this.offsetWidth,
			h = this.offsetHeight;
		return (w == 0 && h == 0) ? false : (w > 0 && h > 0) ? true : this.style.display != 'none';
	},

	toggle: function(){
		return this[this.isDisplayed() ? 'hide' : 'show']();
	},

	hide: function(){
		var d;
		try {
			//IE fails here if the element is not in the dom
			d = this.getStyle('display');
		} catch(e){}
		if (d == 'none') return this;
		return this.store('element:_originalDisplay', d || '').setStyle('display', 'none');
	},

	show: function(display){
		if (!display && this.isDisplayed()) return this;
		display = display || this.retrieve('element:_originalDisplay') || 'block';
		return this.setStyle('display', (display == 'none') ? 'block' : display);
	},

	swapClass: function(remove, add){
		return this.removeClass(remove).addClass(add);
	}

});

Document.implement({

	clearSelection: function(){
		if (window.getSelection){
			var selection = window.getSelection();
			if (selection && selection.removeAllRanges) selection.removeAllRanges();
		} else if (document.selection && document.selection.empty){
			try {
				//IE fails here if selected element is not in dom
				document.selection.empty();
			} catch(e){}
		}
	}

});


// Begin: Source/Forms/OverText.js
/*
---

script: OverText.js

name: OverText

description: Shows text over an input that disappears when the user clicks into it. The text remains hidden if the user adds a value.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Options
  - Core/Events
  - Core/Element.Event
  - Class.Binds
  - Class.Occlude
  - Element.Position
  - Element.Shortcuts

provides: [OverText]

...
*/

var OverText = new Class({

	Implements: [Options, Events, Class.Occlude],

	Binds: ['reposition', 'assert', 'focus', 'hide'],

	options: {/*
		textOverride: null,
		onFocus: function(){},
		onTextHide: function(textEl, inputEl){},
		onTextShow: function(textEl, inputEl){}, */
		element: 'label',
		labelClass: 'overTxtLabel',
		positionOptions: {
			position: 'upperLeft',
			edge: 'upperLeft',
			offset: {
				x: 4,
				y: 2
			}
		},
		poll: false,
		pollInterval: 250,
		wrap: false
	},

	property: 'OverText',

	initialize: function(element, options){
		element = this.element = document.id(element);

		if (this.occlude()) return this.occluded;
		this.setOptions(options);

		this.attach(element);
		OverText.instances.push(this);

		if (this.options.poll) this.poll();
	},

	toElement: function(){
		return this.element;
	},

	attach: function(){
		var element = this.element,
			options = this.options,
			value = options.textOverride || element.get('alt') || element.get('title');

		if (!value) return this;

		var text = this.text = new Element(options.element, {
			'class': options.labelClass,
			styles: {
				lineHeight: 'normal',
				position: 'absolute',
				cursor: 'text'
			},
			html: value,
			events: {
				click: this.hide.pass(options.element == 'label', this)
			}
		}).inject(element, 'after');

		if (options.element == 'label'){
			if (!element.get('id')) element.set('id', 'input_' + String.uniqueID());
			text.set('for', element.get('id'));
		}

		if (options.wrap){
			this.textHolder = new Element('div.overTxtWrapper', {
				styles: {
					lineHeight: 'normal',
					position: 'relative'
				}
			}).grab(text).inject(element, 'before');
		}

		return this.enable();
	},

	destroy: function(){
		this.element.eliminate(this.property); // Class.Occlude storage
		this.disable();
		if (this.text) this.text.destroy();
		if (this.textHolder) this.textHolder.destroy();
		return this;
	},

	disable: function(){
		this.element.removeEvents({
			focus: this.focus,
			blur: this.assert,
			change: this.assert
		});
		window.removeEvent('resize', this.reposition);
		this.hide(true, true);
		return this;
	},

	enable: function(){
		this.element.addEvents({
			focus: this.focus,
			blur: this.assert,
			change: this.assert
		});
		window.addEvent('resize', this.reposition);
		this.reposition();
		return this;
	},

	wrap: function(){
		if (this.options.element == 'label'){
			if (!this.element.get('id')) this.element.set('id', 'input_' + String.uniqueID());
			this.text.set('for', this.element.get('id'));
		}
	},

	startPolling: function(){
		this.pollingPaused = false;
		return this.poll();
	},

	poll: function(stop){
		//start immediately
		//pause on focus
		//resumeon blur
		if (this.poller && !stop) return this;
		if (stop){
			clearInterval(this.poller);
		} else {
			this.poller = (function(){
				if (!this.pollingPaused) this.assert(true);
			}).periodical(this.options.pollInterval, this);
		}

		return this;
	},

	stopPolling: function(){
		this.pollingPaused = true;
		return this.poll(true);
	},

	focus: function(){
		if (this.text && (!this.text.isDisplayed() || this.element.get('disabled'))) return this;
		return this.hide();
	},

	hide: function(suppressFocus, force){
		if (this.text && (this.text.isDisplayed() && (!this.element.get('disabled') || force))){
			this.text.hide();
			this.fireEvent('textHide', [this.text, this.element]);
			this.pollingPaused = true;
			if (!suppressFocus){
				try {
					this.element.fireEvent('focus');
					this.element.focus();
				} catch(e){} //IE barfs if you call focus on hidden elements
			}
		}
		return this;
	},

	show: function(){
		if (document.id(this.text) && !this.text.isDisplayed()){
			this.text.show();
			this.reposition();
			this.fireEvent('textShow', [this.text, this.element]);
			this.pollingPaused = false;
		}
		return this;
	},

	test: function(){
		return !this.element.get('value');
	},

	assert: function(suppressFocus){
		return this[this.test() ? 'show' : 'hide'](suppressFocus);
	},

	reposition: function(){
		this.assert(true);
		if (!this.element.isVisible()) return this.stopPolling().hide();
		if (this.text && this.test()){
			this.text.position(Object.merge(this.options.positionOptions, {
				relativeTo: this.element
			}));
		}
		return this;
	}

});

OverText.instances = [];

Object.append(OverText, {

	each: function(fn){
		return OverText.instances.each(function(ot, i){
			if (ot.element && ot.text) fn.call(OverText, ot, i);
		});
	},

	update: function(){

		return OverText.each(function(ot){
			return ot.reposition();
		});

	},

	hideAll: function(){

		return OverText.each(function(ot){
			return ot.hide(true, true);
		});

	},

	showAll: function(){
		return OverText.each(function(ot){
			return ot.show();
		});
	}

});



// Begin: Source/Utilities/IframeShim.js
/*
---

script: IframeShim.js

name: IframeShim

description: Defines IframeShim, a class for obscuring select lists and flash objects in IE.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Element.Event
  - Core/Element.Style
  - Core/Options
  - Core/Events
  - /Element.Position
  - /Class.Occlude

provides: [IframeShim]

...
*/

var IframeShim = new Class({

	Implements: [Options, Events, Class.Occlude],

	options: {
		className: 'iframeShim',
		src: 'javascript:false;document.write("");',
		display: false,
		zIndex: null,
		margin: 0,
		offset: {x: 0, y: 0},
		browsers: (Browser.ie6 || (Browser.firefox && Browser.version < 3 && Browser.Platform.mac))
	},

	property: 'IframeShim',

	initialize: function(element, options){
		this.element = document.id(element);
		if (this.occlude()) return this.occluded;
		this.setOptions(options);
		this.makeShim();
		return this;
	},

	makeShim: function(){
		if (this.options.browsers){
			var zIndex = this.element.getStyle('zIndex').toInt();

			if (!zIndex){
				zIndex = 1;
				var pos = this.element.getStyle('position');
				if (pos == 'static' || !pos) this.element.setStyle('position', 'relative');
				this.element.setStyle('zIndex', zIndex);
			}
			zIndex = ((this.options.zIndex != null || this.options.zIndex === 0) && zIndex > this.options.zIndex) ? this.options.zIndex : zIndex - 1;
			if (zIndex < 0) zIndex = 1;
			this.shim = new Element('iframe', {
				src: this.options.src,
				scrolling: 'no',
				frameborder: 0,
				styles: {
					zIndex: zIndex,
					position: 'absolute',
					border: 'none',
					filter: 'progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)'
				},
				'class': this.options.className
			}).store('IframeShim', this);
			var inject = (function(){
				this.shim.inject(this.element, 'after');
				this[this.options.display ? 'show' : 'hide']();
				this.fireEvent('inject');
			}).bind(this);
			if (!IframeShim.ready) window.addEvent('load', inject);
			else inject();
		} else {
			this.position = this.hide = this.show = this.dispose = Function.from(this);
		}
	},

	position: function(){
		if (!IframeShim.ready || !this.shim) return this;
		var size = this.element.measure(function(){
			return this.getSize();
		});
		if (this.options.margin != undefined){
			size.x = size.x - (this.options.margin * 2);
			size.y = size.y - (this.options.margin * 2);
			this.options.offset.x += this.options.margin;
			this.options.offset.y += this.options.margin;
		}
		this.shim.set({width: size.x, height: size.y}).position({
			relativeTo: this.element,
			offset: this.options.offset
		});
		return this;
	},

	hide: function(){
		if (this.shim) this.shim.setStyle('display', 'none');
		return this;
	},

	show: function(){
		if (this.shim) this.shim.setStyle('display', 'block');
		return this.position();
	},

	dispose: function(){
		if (this.shim) this.shim.dispose();
		return this;
	},

	destroy: function(){
		if (this.shim) this.shim.destroy();
		return this;
	}

});

window.addEvent('load', function(){
	IframeShim.ready = true;
});


// Begin: Source/Interface/Mask.js
/*
---

script: Mask.js

name: Mask

description: Creates a mask element to cover another.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Options
  - Core/Events
  - Core/Element.Event
  - /Class.Binds
  - /Element.Position
  - /IframeShim

provides: [Mask]

...
*/

var Mask = new Class({

	Implements: [Options, Events],

	Binds: ['position'],

	options: {/*
		onShow: function(){},
		onHide: function(){},
		onDestroy: function(){},
		onClick: function(event){},
		inject: {
			where: 'after',
			target: null,
		},
		hideOnClick: false,
		id: null,
		destroyOnHide: false,*/
		style: {},
		'class': 'mask',
		maskMargins: false,
		useIframeShim: true,
		iframeShimOptions: {}
	},

	initialize: function(target, options){
		this.target = document.id(target) || document.id(document.body);
		this.target.store('mask', this);
		this.setOptions(options);
		this.render();
		this.inject();
	},

	render: function(){
		this.element = new Element('div', {
			'class': this.options['class'],
			id: this.options.id || 'mask-' + String.uniqueID(),
			styles: Object.merge({}, this.options.style, {
				display: 'none'
			}),
			events: {
				click: function(event){
					this.fireEvent('click', event);
					if (this.options.hideOnClick) this.hide();
				}.bind(this)
			}
		});

		this.hidden = true;
	},

	toElement: function(){
		return this.element;
	},

	inject: function(target, where){
		where = where || (this.options.inject ? this.options.inject.where : '') || this.target == document.body ? 'inside' : 'after';
		target = target || (this.options.inject && this.options.inject.target) || this.target;

		this.element.inject(target, where);

		if (this.options.useIframeShim){
			this.shim = new IframeShim(this.element, this.options.iframeShimOptions);

			this.addEvents({
				show: this.shim.show.bind(this.shim),
				hide: this.shim.hide.bind(this.shim),
				destroy: this.shim.destroy.bind(this.shim)
			});
		}
	},

	position: function(){
		this.resize(this.options.width, this.options.height);

		this.element.position({
			relativeTo: this.target,
			position: 'topLeft',
			ignoreMargins: !this.options.maskMargins,
			ignoreScroll: this.target == document.body
		});

		return this;
	},

	resize: function(x, y){
		var opt = {
			styles: ['padding', 'border']
		};
		if (this.options.maskMargins) opt.styles.push('margin');

		var dim = this.target.getComputedSize(opt);
		if (this.target == document.body){
			this.element.setStyles({width: 0, height: 0});
			var win = window.getScrollSize();
			if (dim.totalHeight < win.y) dim.totalHeight = win.y;
			if (dim.totalWidth < win.x) dim.totalWidth = win.x;
		}
		this.element.setStyles({
			width: Array.pick([x, dim.totalWidth, dim.x]),
			height: Array.pick([y, dim.totalHeight, dim.y])
		});

		return this;
	},

	show: function(){
		if (!this.hidden) return this;

		window.addEvent('resize', this.position);
		this.position();
		this.showMask.apply(this, arguments);

		return this;
	},

	showMask: function(){
		this.element.setStyle('display', 'block');
		this.hidden = false;
		this.fireEvent('show');
	},

	hide: function(){
		if (this.hidden) return this;

		window.removeEvent('resize', this.position);
		this.hideMask.apply(this, arguments);
		if (this.options.destroyOnHide) return this.destroy();

		return this;
	},

	hideMask: function(){
		this.element.setStyle('display', 'none');
		this.hidden = true;
		this.fireEvent('hide');
	},

	toggle: function(){
		this[this.hidden ? 'show' : 'hide']();
	},

	destroy: function(){
		this.hide();
		this.element.destroy();
		this.fireEvent('destroy');
		this.target.eliminate('mask');
	}

});

Element.Properties.mask = {

	set: function(options){
		var mask = this.retrieve('mask');
		if (mask) mask.destroy();
		return this.eliminate('mask').store('mask:options', options);
	},

	get: function(){
		var mask = this.retrieve('mask');
		if (!mask){
			mask = new Mask(this, this.retrieve('mask:options'));
			this.store('mask', mask);
		}
		return mask;
	}

};

Element.implement({

	mask: function(options){
		if (options) this.set('mask', options);
		this.get('mask').show();
		return this;
	},

	unmask: function(){
		this.get('mask').hide();
		return this;
	}

});


// Begin: Source/Utilities/DOMReady.js
/*
---

name: DOMReady

description: Contains the custom event domready.

license: MIT-style license.

requires: [Browser, Element, Element.Event]

provides: [DOMReady, DomReady]

...
*/

(function(window, document){

var ready,
	loaded,
	checks = [],
	shouldPoll,
	timer,
	testElement = document.createElement('div');

var domready = function(){
	clearTimeout(timer);
	if (ready) return;
	Browser.loaded = ready = true;
	document.removeListener('DOMContentLoaded', domready).removeListener('readystatechange', check);

	document.fireEvent('domready');
	window.fireEvent('domready');
};

var check = function(){
	for (var i = checks.length; i--;) if (checks[i]()){
		domready();
		return true;
	}
	return false;
};

var poll = function(){
	clearTimeout(timer);
	if (!check()) timer = setTimeout(poll, 10);
};

document.addListener('DOMContentLoaded', domready);

/*<ltIE8>*/
// doScroll technique by Diego Perini http://javascript.nwbox.com/IEContentLoaded/
// testElement.doScroll() throws when the DOM is not ready, only in the top window
var doScrollWorks = function(){
	try {
		testElement.doScroll();
		return true;
	} catch (e){}
	return false;
};
// If doScroll works already, it can't be used to determine domready
//   e.g. in an iframe
if (testElement.doScroll && !doScrollWorks()){
	checks.push(doScrollWorks);
	shouldPoll = true;
}
/*</ltIE8>*/

if (document.readyState) checks.push(function(){
	var state = document.readyState;
	return (state == 'loaded' || state == 'complete');
});

if ('onreadystatechange' in document) document.addListener('readystatechange', check);
else shouldPoll = true;

if (shouldPoll) poll();

Element.Events.domready = {
	onAdd: function(fn){
		if (ready) fn.call(this);
	}
};

// Make sure that domready fires before load
Element.Events.load = {
	base: 'load',
	onAdd: function(fn){
		if (loaded && this == window) fn.call(this);
	},
	condition: function(){
		if (this == window){
			domready();
			delete Element.Events.load;
		}
		return true;
	}
};

// This is based on the custom load event
window.addEvent('load', function(){
	loaded = true;
});

})(window, document);


// Begin: Source/Element/Element.Pin.js
/*
---

script: Element.Pin.js

name: Element.Pin

description: Extends the Element native object to include the pin method useful for fixed positioning for elements.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Element.Event
  - Core/Element.Dimensions
  - Core/Element.Style
  - /MooTools.More

provides: [Element.Pin]

...
*/

(function(){
	var supportsPositionFixed = false,
		supportTested = false;

	var testPositionFixed = function(){
		var test = new Element('div').setStyles({
			position: 'fixed',
			top: 0,
			right: 0
		}).inject(document.body);
		supportsPositionFixed = (test.offsetTop === 0);
		test.dispose();
		supportTested = true;
	};

	Element.implement({

		pin: function(enable, forceScroll){
			if (!supportTested) testPositionFixed();
			if (this.getStyle('display') == 'none') return this;

			var pinnedPosition,
				scroll = window.getScroll(),
				parent,
				scrollFixer;

			if (enable !== false){
				pinnedPosition = this.getPosition(supportsPositionFixed ? document.body : this.getOffsetParent());
				if (!this.retrieve('pin:_pinned')){
					var currentPosition = {
						top: pinnedPosition.y - scroll.y,
						left: pinnedPosition.x - scroll.x
					};

					if (supportsPositionFixed && !forceScroll){
						this.setStyle('position', 'fixed').setStyles(currentPosition);
					} else {

						parent = this.getOffsetParent();
						var position = this.getPosition(parent),
							styles = this.getStyles('left', 'top');

						if (parent && styles.left == 'auto' || styles.top == 'auto') this.setPosition(position);
						if (this.getStyle('position') == 'static') this.setStyle('position', 'absolute');

						position = {
							x: styles.left.toInt() - scroll.x,
							y: styles.top.toInt() - scroll.y
						};

						scrollFixer = function(){
							if (!this.retrieve('pin:_pinned')) return;
							var scroll = window.getScroll();
							this.setStyles({
								left: position.x + scroll.x,
								top: position.y + scroll.y
							});
						}.bind(this);

						this.store('pin:_scrollFixer', scrollFixer);
						window.addEvent('scroll', scrollFixer);
					}
					this.store('pin:_pinned', true);
				}

			} else {
				if (!this.retrieve('pin:_pinned')) return this;

				parent = this.getParent();
				var offsetParent = (parent.getComputedStyle('position') != 'static' ? parent : parent.getOffsetParent());

				pinnedPosition = this.getPosition(offsetParent);

				this.store('pin:_pinned', false);
				scrollFixer = this.retrieve('pin:_scrollFixer');
				if (!scrollFixer){
					this.setStyles({
						position: 'absolute',
						top: pinnedPosition.y + scroll.y,
						left: pinnedPosition.x + scroll.x
					});
				} else {
					this.store('pin:_scrollFixer', null);
					window.removeEvent('scroll', scrollFixer);
				}
				this.removeClass('isPinned');
			}
			return this;
		},

		unpin: function(){
			return this.pin(false);
		},

		togglePin: function(){
			return this.pin(!this.retrieve('pin:_pinned'));
		}

	});

//<1.2compat>
Element.alias('togglepin', 'togglePin');
//</1.2compat>

})();


// Begin: Source/Types/Object.Extras.js
/*
---

script: Object.Extras.js

name: Object.Extras

description: Extra Object generics, like getFromPath which allows a path notation to child elements.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Object
  - /MooTools.More

provides: [Object.Extras]

...
*/

(function(){

var defined = function(value){
	return value != null;
};

var hasOwnProperty = Object.prototype.hasOwnProperty;

Object.extend({

	getFromPath: function(source, parts){
		if (typeof parts == 'string') parts = parts.split('.');
		for (var i = 0, l = parts.length; i < l; i++){
			if (hasOwnProperty.call(source, parts[i])) source = source[parts[i]];
			else return null;
		}
		return source;
	},

	cleanValues: function(object, method){
		method = method || defined;
		for (var key in object) if (!method(object[key])){
			delete object[key];
		}
		return object;
	},

	erase: function(object, key){
		if (hasOwnProperty.call(object, key)) delete object[key];
		return object;
	},

	run: function(object){
		var args = Array.slice(arguments, 1);
		for (var key in object) if (object[key].apply){
			object[key].apply(object, args);
		}
		return object;
	}

});

})();


// Begin: Source/Core/Clientcide.js
/*
---

name: Clientcide

description: The Clientcide namespace.

license: MIT-style license.

provides: Clientcide

...
*/
var Clientcide = {
	version: '3.0.10',
	assetLocation: "http://github.com/anutron/clientcide/raw/master/Assets",
	setAssetLocation: function(baseHref) {
		Clientcide.assetLocation = baseHref;
		if (Clientcide.preloaded) Clientcide.preLoadCss();
	},
	preLoadCss: function(){
		if (window.StickyWin && StickyWin.ui) StickyWin.ui();
		if (window.StickyWin && StickyWin.pointy) StickyWin.pointy();
		Clientcide.preloaded = true;
		return true;
	},
	preloaded: false
};
(function(){
	if (!window.addEvent) return;
	var preload = function(){
		if (window.dbug) dbug.log('preloading clientcide css');
		if (!Clientcide.preloaded) Clientcide.preLoadCss();
	};
	window.addEvent('domready', preload);
	window.addEvent('load', preload);
})();
setCNETAssetBaseHref = Clientcide.setAssetLocation;


// Begin: Source/Core/dbug.js
/*
---

name: dbug

description: A wrapper for Firebug console.* statements.

license: MIT-style license.

authors:
- Aaron Newton

provides: dbug

...
*/
var dbug = {
	logged: [],
	timers: {},
	firebug: false,
	enabled: false,
	log: function() {
		dbug.logged.push(arguments);
	},
	nolog: function(msg) {
		dbug.logged.push(arguments);
	},
	time: function(name){
		dbug.timers[name] = new Date().getTime();
	},
	timeEnd: function(name){
		if (dbug.timers[name]) {
			var end = new Date().getTime() - dbug.timers[name];
			dbug.timers[name] = false;
			dbug.log('%s: %s', name, end);
		} else dbug.log('no such timer: %s', name);
	},
	enable: function(silent) {
		var con = window.firebug ? firebug.d.console.cmd : window.console;

		if((!!window.console && !!window.console.warn) || window.firebug) {
			try {
				dbug.enabled = true;
				dbug.log = function(){
						try {
							(con.debug || con.log).apply(con, arguments);
						} catch(e) {
							console.log(Array.slice(arguments));
						}
				};
				dbug.time = function(){
					con.time.apply(con, arguments);
				};
				dbug.timeEnd = function(){
					con.timeEnd.apply(con, arguments);
				};
				if(!silent) dbug.log('enabling dbug');
				for(var i=0;i<dbug.logged.length;i++){ dbug.log.apply(con, dbug.logged[i]); }
				dbug.logged=[];
			} catch(e) {
				dbug.enable.delay(400);
			}
		}
	},
	disable: function(){
		if(dbug.firebug) dbug.enabled = false;
		dbug.log = dbug.nolog;
		dbug.time = function(){};
		dbug.timeEnd = function(){};
	},
	cookie: function(set){
		var value = document.cookie.match('(?:^|;)\\s*jsdebug=([^;]*)');
		var debugCookie = value ? unescape(value[1]) : false;
		if((set == null && debugCookie != 'true') || (set != null && set)) {
			dbug.enable();
			dbug.log('setting debugging cookie');
			var date = new Date();
			date.setTime(date.getTime()+(24*60*60*1000));
			document.cookie = 'jsdebug=true;expires='+date.toGMTString()+';path=/;';
		} else dbug.disableCookie();
	},
	disableCookie: function(){
		dbug.log('disabling debugging cookie');
		document.cookie = 'jsdebug=false;path=/;';
	},
	conditional: function(fn, fnIfError) {
		if (dbug.enabled) {
			return fn();
		} else {
			try {
				return fn();
			} catch(e) {
				if (fnIfError) fnIfError(e);
			}
		}
	}
};

(function(){
	var fb = !!window.console || !!window.firebug;
	var con = window.firebug ? window.firebug.d.console.cmd : window.console;
	var debugMethods = ['debug','info','warn','error','assert','dir','dirxml'];
	var otherMethods = ['trace','group','groupEnd','profile','profileEnd','count'];
	function set(methodList, defaultFunction) {

		var getLogger = function(method) {
			return function(){
				con[method].apply(con, arguments);
			};
		};

		for(var i = 0; i < methodList.length; i++){
			var method = methodList[i];
			if (fb && con[method]) {
				dbug[method] = getLogger(method);
			} else {
				dbug[method] = defaultFunction;
			}
		}
	};
	set(debugMethods, dbug.log);
	set(otherMethods, function(){});
})();
if ((!!window.console && !!window.console.warn) || window.firebug){
	dbug.firebug = true;
	var value = document.cookie.match('(?:^|;)\\s*jsdebug=([^;]*)');
	var debugCookie = value ? unescape(value[1]) : false;
	if(window.location.href.indexOf("jsdebug=true")>0 || debugCookie=='true') dbug.enable();
	if(debugCookie=='true')dbug.log('debugging cookie enabled');
	if(window.location.href.indexOf("jsdebugCookie=true")>0){
		dbug.cookie();
		if(!dbug.enabled)dbug.enable();
	}
	if(window.location.href.indexOf("jsdebugCookie=false")>0)dbug.disableCookie();
}


// Begin: Source/UI/StyleWriter.js
/*
---
name: StyleWriter

description: Provides a simple method for injecting a css style element into the DOM if it's not already present.

license: MIT-Style License

requires: [Core/Class, Core/DomReady, Core/Element, dbug]

provides: StyleWriter

...
*/

var StyleWriter = new Class({
	createStyle: function(css, id) {
		window.addEvent('domready', function(){
			try {
				if (document.id(id) && id) return;
				var style = new Element('style', {id: id||''}).inject($$('head')[0]);
				if (Browser.ie) style.styleSheet.cssText = css;
				else style.set('text', css);
			}catch(e){dbug.log('error: %s',e);}
		}.bind(this));
	}
});

// Begin: Source/UI/StickyWin.js
/*
---

name: StickyWin

description: Creates a div within the page with the specified contents at the location relative to the element you specify; basically an in-page popup maker.

license: MIT-Style License

requires: [
  Core/DomReady,
  Core/Slick.Finder,
  More/Element.Position,
  More/Class.Binds,
  More/Element.Shortcuts,
  More/Element.Pin,
  More/IframeShim,
  More/Object.Extras,
  Clientcide,
  StyleWriter
]

provides: [StickyWin, StickyWin.Stacker]
...
*/


var StickyWin = new Class({
	Binds: ['destroy', 'hide', 'togglepin', 'esc'],
	Implements: [Options, Events, StyleWriter],
	options: {
//		onDisplay: function(){},
//		onClose: function(){},
//		onDestroy: function(){},
		closeClassName: 'closeSticky',
		pinClassName: 'pinSticky',
		content: '',
		zIndex: 10000,
		className: '',
//		id: ... set above in initialize function
/*  	these are the defaults for Element.position anyway
		************************************************
		edge: false, //see Element.position
		position: 'center', //center, corner == upperLeft, upperRight, bottomLeft, bottomRight
		offset: {x:0,y:0},
		relativeTo: document.body, */
		width: false,
		height: false,
		timeout: -1,
		allowMultipleByClass: true,
		allowMultiple: true,
		showNow: true,
		useIframeShim: true,
		iframeShimSelector: '',
		destroyOnClose: false,
		closeOnClickOut: false,
		closeOnEsc: false,
		getWindowManager: function(){ return StickyWin.WM; }
	},

	css: '.SWclearfix:after {content: "."; display: block; height: 0; clear: both; visibility: hidden;}'+
		 '.SWclearfix {display: inline-table;} * html .SWclearfix {height: 1%;} .SWclearfix {display: block;}',

	initialize: function(options){
		this.options.inject = this.options.inject || {
			target: document.body,
			where: 'bottom'
		};
		this.setOptions(options);
		this.windowManager = this.options.getWindowManager();
		this.id = this.options.id || 'StickyWin_'+new Date().getTime();
		this.makeWindow();
		if (this.windowManager) this.windowManager.add(this);

		if (this.options.content) this.setContent(this.options.content);
		if (this.options.timeout > 0) {
			this.addEvent('onDisplay', function(){
				this.hide.delay(this.options.timeout, this);
			}.bind(this));
		}
		//add css for clearfix
		this.createStyle(this.css, 'StickyWinClearFix');
		if (this.options.closeOnClickOut || this.options.closeOnEsc) this.attach();
		if (this.options.destroyOnClose) this.addEvent('close', this.destroy);
		if (this.options.showNow) this.show();
	},
	toElement: function(){
		return this.element;
	},
	attach: function(dettach){
		var method = dettach ? 'removeEvents' : 'addEvents';
		var events = {};
		if (this.options.closeOnClickOut) events.click = this.esc;
		if (this.options.closeOnEsc) events.keyup = this.esc;
		document[method](events);
	},
	esc: function(e) {
		if (e.key == "esc") this.hide();
		if (e.type == "click" && this.element != e.target && !this.element.contains(e.target)) this.hide();
	},
	makeWindow: function(){
		this.destroyOthers();
		if (!document.id(this.id)) {
			this.win = new Element('div', {
				id: this.id
			}).addClass(this.options.className).addClass('StickyWinInstance').addClass('SWclearfix').setStyles({
			 	display: 'none',
				position: 'absolute',
				zIndex: this.options.zIndex
			}).inject(this.options.inject.target, this.options.inject.where).store('StickyWin', this);
		} else this.win = document.id(this.id);
		this.element = this.win;
		if (this.options.width && typeOf(this.options.width.toInt())=="number") this.win.setStyle('width', this.options.width.toInt());
		if (this.options.height && typeOf(this.options.height.toInt())=="number") this.win.setStyle('height', this.options.height.toInt());
		return this;
	},
	show: function(suppressEvent){
		this.showWin();
		if (!suppressEvent) this.fireEvent('display');
		if (this.options.useIframeShim) this.showIframeShim();
		this.visible = true;
		return this;
	},
	showWin: function(){
		if (this.windowManager) this.windowManager.focus(this);
		if (!this.positioned) this.position();
		this.win.show();
	},
	hide: function(suppressEvent){
		if (typeOf(suppressEvent) == "event" || !suppressEvent) this.fireEvent('close');
		this.hideWin();
		if (this.options.useIframeShim) this.hideIframeShim();
		this.visible = false;
		return this;
	},
	hideWin: function(){
		this.win.setStyle('display','none');
	},
	destroyOthers: function() {
		if (!this.options.allowMultipleByClass || !this.options.allowMultiple) {
			$$('div.StickyWinInstance').each(function(sw) {
				if (!this.options.allowMultiple || (!this.options.allowMultipleByClass && sw.hasClass(this.options.className)))
					sw.retrieve('StickyWin').destroy();
			}, this);
		}
	},
	setContent: function(html) {
		if (this.win.getChildren().length>0) this.win.empty();
		if (typeOf(html) == "string") this.win.set('html', html);
		else if (document.id(html)) this.win.adopt(html);
		this.win.getElements('.'+this.options.closeClassName).each(function(el){
			el.addEvent('click', this.hide);
		}, this);
		this.win.getElements('.'+this.options.pinClassName).each(function(el){
			el.addEvent('click', this.togglepin);
		}, this);
		return this;
	},
	position: function(options){
		this.positioned = true;
		this.setOptions(options);
		this.win.position(
			Object.cleanValues({
				allowNegative: [this.options.allowNegative, this.options.relativeTo != document.body].pick(),
				relativeTo: this.options.relativeTo,
				position: this.options.position,
				offset: this.options.offset,
				edge: this.options.edge
			})
		);
		if (this.shim) this.shim.position();
		return this;
	},
	pin: function(pin) {
		if (!this.win.pin) {
			dbug.log('you must include element.pin.js!');
			return this;
		}
		this.pinned = pin != null && pin;
		this.win.pin(pin);
		return this;
	},
	unpin: function(){
		return this.pin(false);
	},
	togglepin: function(){
		return this.pin(!this.pinned);
	},
	makeIframeShim: function(){
		if (!this.shim){
			var el = (this.options.iframeShimSelector)?this.win.getElement(this.options.iframeShimSelector):this.win;
			this.shim = new IframeShim(el, {
				display: false,
				name: 'StickyWinShim'
			});
		}
	},
	showIframeShim: function(){
		if (this.options.useIframeShim) {
			this.makeIframeShim();
			this.shim.show();
		}
	},
	hideIframeShim: function(){
		if (this.shim) this.shim.hide();
	},
	destroy: function(){
		this.destroyed = true;
		this.attach(true);
		if (this.windowManager) this.windowManager.remove(this);
		if (this.win) this.win.destroy();
		if (this.options.useIframeShim && this.shim) this.shim.destroy();
		if (document.id('modalOverlay')) document.id('modalOverlay').destroy();
		this.fireEvent('destroy');
	}
});

StickyWin.Stacker = new Class({
	Implements: [Options, Events],
	Binds: ['click'],
	instances: [],
	options: {
		zIndexBase: 9000
	},
	initialize: function(options) {
		this.setOptions(options);
	},
	add: function(sw) {
		this.instances.include(sw);
		$(sw).addEvent('mousedown', this.click);
	},
	click: function(e) {
		this.instances.each(function(sw){
			var el = $(sw);
			if (el == e.target || el.contains($(e.target))) this.focus(sw);
		}, this);
	},
	focus: function(instance){
		if (this.focused == instance) return;
		this.focused = instance;
		if (instance) this.instances.erase(instance).push(instance);
		this.instances.each(function(current, i){
			$(current).setStyle('z-index', this.options.zIndexBase + i);
		}, this);
		this.focused = instance;
	},
	remove: function(sw) {
		this.instances.erase(sw);
		$(sw).removeEvent('click', this.click);
	}
});
StickyWin.WM = new StickyWin.Stacker();

// Begin: Source/UI/StickyWin.Modal.js
/*
---

name: StickyWin.Modal

description: This script extends StickyWin and StickyWin.Fx classes to add Mask functionality.

license: MIT-Style License

requires: [More/Mask, StickyWin]

provides: StickyWin.Modal
...
*/
StickyWin.Modal = new Class({

	Extends: StickyWin,

	options: {
		modalize: true,
		maskOptions: {
			style: {
				'background-color':'#333',
				opacity:0.8
			}
		},
		hideOnClick: true,
		getWindowManager: function(){ return StickyWin.ModalWM; }
	},

	initialize: function(options) {
		this.options.maskTarget = this.options.maskTarget || document.body;
		this.setOptions(options);
		this.mask = new Mask(this.options.maskTarget, this.options.maskOptions).addEvent('click', function() {
			if (this.options.hideOnClick) this.hide();
		}.bind(this));
		this.parent(options);
	},

	show: function(showModal){
		if ([showModal, this.options.modalize].pick()) this.mask.show();
		this.parent();
	},

	hide: function(hideModal){
		if ([hideModal, true].pick()) this.mask.hide();
		this.parent();
	},

	destroy: function(){
		this.mask.destroy();
		this.parent.apply(this, arguments);
	}

});

StickyWin.ModalWM = new StickyWin.Stacker({
	zIndexBase: 11000
});
if (StickyWin.Fx) StickyWin.Fx.Modal = StickyWin.Modal;

// Begin: Source/Types/String.Extras.js
/*
---

script: String.Extras.js

name: String.Extras

description: Extends the String native object to include methods useful in managing various kinds of strings (query strings, urls, html, etc).

license: MIT-style license

authors:
  - Aaron Newton
  - Guillermo Rauch
  - Christopher Pitt

requires:
  - Core/String
  - Core/Array
  - MooTools.More

provides: [String.Extras]

...
*/

(function(){

var special = {
	'a': /[√†√°√¢√£√§√•ƒÉƒÖ]/g,
	'A': /[√Ä√Å√Ç√É√Ñ√ÖƒÇƒÑ]/g,
	'c': /[ƒáƒç√ß]/g,
	'C': /[ƒÜƒå√á]/g,
	'd': /[ƒèƒë]/g,
	'D': /[ƒé√ê]/g,
	'e': /[√®√©√™√´ƒõƒô]/g,
	'E': /[√à√â√ä√ãƒöƒò]/g,
	'g': /[ƒü]/g,
	'G': /[ƒû]/g,
	'i': /[√¨√≠√Æ√Ø]/g,
	'I': /[√å√ç√é√è]/g,
	'l': /[ƒ∫ƒæ≈Ç]/g,
	'L': /[ƒπƒΩ≈Å]/g,
	'n': /[√±≈à≈Ñ]/g,
	'N': /[√ë≈á≈É]/g,
	'o': /[√≤√≥√¥√µ√∂√∏≈ë]/g,
	'O': /[√í√ì√î√ï√ñ√ò]/g,
	'r': /[≈ô≈ï]/g,
	'R': /[≈ò≈î]/g,
	's': /[≈°≈°≈ü]/g,
	'S': /[≈†≈û≈ö]/g,
	't': /[≈•≈£]/g,
	'T': /[≈§≈¢]/g,
	'ue': /[√º]/g,
	'UE': /[√ú]/g,
	'u': /[√π√∫√ª≈Ø¬µ]/g,
	'U': /[√ô√ö√õ≈Æ]/g,
	'y': /[√ø√Ω]/g,
	'Y': /[≈∏√ù]/g,
	'z': /[≈æ≈∫≈º]/g,
	'Z': /[≈Ω≈π≈ª]/g,
	'th': /[√æ]/g,
	'TH': /[√û]/g,
	'dh': /[√∞]/g,
	'DH': /[√ê]/g,
	'ss': /[√ü]/g,
	'oe': /[≈ì]/g,
	'OE': /[≈í]/g,
	'ae': /[√¶]/g,
	'AE': /[√Ü]/g
},

tidy = {
	' ': /[\xa0\u2002\u2003\u2009]/g,
	'*': /[\xb7]/g,
	'\'': /[\u2018\u2019]/g,
	'"': /[\u201c\u201d]/g,
	'...': /[\u2026]/g,
	'-': /[\u2013]/g,
//	'--': /[\u2014]/g,
	'&raquo;': /[\uFFFD]/g
},

conversions = {
	ms: 1,
	s: 1000,
	m: 6e4,
	h: 36e5
},

findUnits = /(\d*.?\d+)([msh]+)/;

var walk = function(string, replacements){
	var result = string, key;
	for (key in replacements) result = result.replace(replacements[key], key);
	return result;
};

var getRegexForTag = function(tag, contents){
	tag = tag || '';
	var regstr = contents ? "<" + tag + "(?!\\w)[^>]*>([\\s\\S]*?)<\/" + tag + "(?!\\w)>" : "<\/?" + tag + "([^>]+)?>",
		reg = new RegExp(regstr, "gi");
	return reg;
};

String.implement({

	standardize: function(){
		return walk(this, special);
	},

	repeat: function(times){
		return new Array(times + 1).join(this);
	},

	pad: function(length, str, direction){
		if (this.length >= length) return this;

		var pad = (str == null ? ' ' : '' + str)
			.repeat(length - this.length)
			.substr(0, length - this.length);

		if (!direction || direction == 'right') return this + pad;
		if (direction == 'left') return pad + this;

		return pad.substr(0, (pad.length / 2).floor()) + this + pad.substr(0, (pad.length / 2).ceil());
	},

	getTags: function(tag, contents){
		return this.match(getRegexForTag(tag, contents)) || [];
	},

	stripTags: function(tag, contents){
		return this.replace(getRegexForTag(tag, contents), '');
	},

	tidy: function(){
		return walk(this, tidy);
	},

	truncate: function(max, trail, atChar){
		var string = this;
		if (trail == null && arguments.length == 1) trail = '‚Ä¶';
		if (string.length > max){
			string = string.substring(0, max);
			if (atChar){
				var index = string.lastIndexOf(atChar);
				if (index != -1) string = string.substr(0, index);
			}
			if (trail) string += trail;
		}
		return string;
	},

	ms: function(){
	  // "Borrowed" from https://gist.github.com/1503944
		var units = findUnits.exec(this);
		if (units == null) return Number(this);
		return Number(units[1]) * conversions[units[2]];
	}

});

})();


// Begin: Source/UI/StickyWin.UI.js
 /*
---
name: StickyWin.UI

description: Creates an html holder for in-page popups using a default style.

license: MIT-Style License

requires: [Core/Element.Style, More/String.Extras, StyleWriter, StickyWin]

provides: StickyWin.UI
...
*/
StickyWin.UI = new Class({
	Implements: [Options, StyleWriter],
	options: {
		width: 300,
		css: "div.DefaultStickyWin {font-family:verdana; font-size:11px; line-height: 13px;position: relative;}"+
			"div.DefaultStickyWin div.top{-moz-user-select: none;-khtml-user-select: none;}"+
			"div.DefaultStickyWin div.top_ul{background:url({%baseHref%}full.png) top left no-repeat; height:30px; width:15px; float:left}"+
			"div.DefaultStickyWin div.top_ur{position:relative; left:0px !important; left:-4px; background:url({%baseHref%}full.png) top right !important; height:30px; margin:0px 0px 0px 15px !important; margin-right:-4px; padding:0px}"+
			"div.DefaultStickyWin h1.caption{clear: none !important; margin:0px !important; overflow: hidden; padding:0 !important; font-weight:bold; color:#555; font-size:14px !important; position:relative; top:8px !important; left:5px !important; float: left; height: 22px !important;}"+
			"div.DefaultStickyWin div.middle, div.DefaultStickyWin div.closeBody {background:url({%baseHref%}body.png) top left repeat-y; margin:0px 20px 0px 0px !important;	margin-bottom: -3px; position: relative;	top: 0px !important; top: -3px;}"+
			"div.DefaultStickyWin div.body{background:url({%baseHref%}body.png) top right repeat-y; padding:8px 23px 8px 0px !important; margin-left:5px !important; position:relative; right:-20px !important; z-index: 1;}"+
			"div.DefaultStickyWin div.bottom{clear:both;}"+
			"div.DefaultStickyWin div.bottom_ll{background:url({%baseHref%}full.png) bottom left no-repeat; width:15px; height:15px; float:left}"+
			"div.DefaultStickyWin div.bottom_lr{background:url({%baseHref%}full.png) bottom right; position:relative; left:0px !important; left:-4px; margin:0px 0px 0px 15px !important; margin-right:-4px; height:15px}"+
			"div.DefaultStickyWin div.closeButtons{text-align: center; background:url({%baseHref%}body.png) top right repeat-y; padding: 4px 30px 8px 0px; margin-left:5px; position:relative; right:-20px}"+
			"div.DefaultStickyWin a.button:hover{background:url({%baseHref%}big_button_over.gif) repeat-x}"+
			"div.DefaultStickyWin a.button {background:url({%baseHref%}big_button.gif) repeat-x; margin: 2px 8px 2px 8px; padding: 2px 12px; cursor:pointer; border: 1px solid #999 !important; text-decoration:none; color: #000 !important;}"+
			"div.DefaultStickyWin div.closeButton{width:13px; height:13px; background:url({%baseHref%}closebtn.gif) no-repeat; position: absolute; right: 0px; margin:10px 15px 0px 0px !important; cursor:pointer;top:0px}"+
			"div.DefaultStickyWin div.dragHandle {	width: 11px;	height: 25px;	position: relative;	top: 5px;	left: -3px;	cursor: move;	background: url({%baseHref%}drag_corner.gif); float: left;}",
		cornerHandle: false,
		cssClass: '',
		buttons: [],
		cssId: 'defaultStickyWinStyle',
		cssClassName: 'DefaultStickyWin',
		closeButton: true
/*	These options are deprecated:
		closeTxt: false,
		onClose: function(){},
		confirmTxt: false,
		onConfirm: function(){}	*/
	},
	initialize: function() {
		var args = this.getArgs(arguments);
		this.setOptions(args.options);
		this.legacy();
		var css = this.options.css.substitute({baseHref: this.options.baseHref || Clientcide.assetLocation + '/stickyWinHTML/'}, /\\?\{%([^}]+)%\}/g);
		if (Browser.ie) css = css.replace(/png/g, 'gif');
		this.createStyle(css, this.options.cssId);
		this.build();
		if (args.caption || args.body) this.setContent(args.caption, args.body);
	},
	toElement: function(){
		return this.element;
	},
	getArgs: function(){
		return StickyWin.UI.getArgs.apply(this, arguments);
	},
	legacy: function(){
		var opt = this.options; //saving bytes
		//legacy support
		if (opt.confirmTxt) opt.buttons.push({text: opt.confirmTxt, onClick: opt.onConfirm || function(){}});
		if (opt.closeTxt) opt.buttons.push({text: opt.closeTxt, onClick: opt.onClose || function(){}});
	},
	build: function(){
		var opt = this.options;

		var container = new Element('div', {
			'class': opt.cssClassName
		});
		if (opt.width) container.setStyle('width', opt.width);
		this.element = container;
		this.element.store('StickyWinUI', this);
		if (opt.cssClass) container.addClass(opt.cssClass);


		var bodyDiv = new Element('div').addClass('body');
		this.body = bodyDiv;

		var top_ur = new Element('div').addClass('top_ur');
		this.top_ur = top_ur;
		this.top = new Element('div').addClass('top').adopt(
				new Element('div').addClass('top_ul')
			).adopt(top_ur);
		container.adopt(this.top);

		if (opt.cornerHandle) new Element('div').addClass('dragHandle').inject(top_ur, 'top');

		//body
		container.adopt(new Element('div').addClass('middle').adopt(bodyDiv));
		//close buttons
		if (opt.buttons.length > 0){
			var closeButtons = new Element('div').addClass('closeButtons');
			opt.buttons.each(function(button){
				if (button.properties && button.properties.className){
					button.properties['class'] = button.properties.className;
					delete button.properties.className;
				}
				var properties = Object.merge({'class': 'closeSticky'}, button.properties);
				new Element('a').addEvent('click', button.onClick || function(){})
					.appendText(button.text).inject(closeButtons).set(properties).addClass('button');
			});
			container.adopt(new Element('div').addClass('closeBody').adopt(closeButtons));
		}
		//footer
		container.adopt(
			new Element('div').addClass('bottom').adopt(
					new Element('div').addClass('bottom_ll')
				).adopt(
					new Element('div').addClass('bottom_lr')
			)
		);
		if (this.options.closeButton) container.adopt(new Element('div').addClass('closeButton').addClass('closeSticky'));
		return this;
	},
	setCaption: function(caption) {
		this.caption = caption;
		if (!this.h1) {
			this.makeCaption(caption);
		} else {
			if (document.id(caption)) this.h1.adopt(caption);
			else this.h1.set('html', caption);
		}
		return this;
	},
	makeCaption: function(caption) {
		if (!caption) return this.destroyCaption();
		var opt = this.options;
		this.h1 = new Element('h1').addClass('caption');
		if (opt.width) this.h1.setStyle('width', (opt.width.toInt()-(opt.cornerHandle?55:40)-(opt.closeButton?10:0)));
		this.setCaption(caption);
		this.top_ur.adopt(this.h1);
		if (!this.options.cornerHandle) this.h1.addClass('dragHandle');
		return this;
	},
	destroyCaption: function(){
		if (this.h1) {
			this.h1.destroy();
			this.h1 = null;
		}
		return this;
	},
	setContent: function(){
		var args = this.getArgs.apply(this, arguments);
		var caption = args.caption;
		var body = args.body;
		this.setCaption(caption);
		if (document.id(body)) this.body.empty().adopt(body);
		else this.body.set('html', body);
		return this;
	}
});
StickyWin.UI.getArgs = function(){
	var input = typeOf(arguments[0]) == "arguments"?arguments[0]:arguments;
	if (Browser.opera && 1 === input.length) input = input[0];

	var cap = input[0], bod = input[1];
	var args = Array.link(input, {options: Type.isObject});
	if (input.length == 3 || (!args.options && input.length == 2)) {
		args.caption = cap;
		args.body = bod;
	} else if ((typeOf(bod) == 'object' || !bod) && cap && typeOf(cap) != 'object'){
		args.body = cap;
	}
	return args;
};

StickyWin.ui = function(caption, body, options){
	return document.id(new StickyWin.UI(caption, body, options));
};


// Begin: Source/UI/StickyWin.Alert.js
/*
---

name: StickyWin.Alert

description: Defines StickyWin.Alert, a simple little alert box with a close button.

license: MIT-Style License

requires: [StickyWin.Modal, StickyWin.UI]

provides: [StickyWin.Alert, StickyWin.Error, StickyWin.alert, StickyWin.error]

...
*/
StickyWin.Alert = new Class({
	Implements: Options,
	Extends: StickyWin.Modal,
	options: {
		destroyOnClose: true,
		modalOptions: {
			modalStyle: {
				zIndex: 11000
			}
		},
		zIndex: 110001,
		uiOptions: {
			width: 250,
			buttons: [
				{text: 'Ok'}
			]
		},
		getWindowManager: function(){}
	},
	initialize: function(caption, message, options) {
		this.message = message;
		this.caption = caption;
		this.setOptions(options);
		this.setOptions({
			content: this.build()
		});
		this.parent(options);
	},
	makeMessage: function() {
		return new Element('p', {
			'class': 'errorMsg SWclearfix',
			styles: {
				margin: 0,
				minHeight: 10
			},
			html: this.message
		});
	},
	build: function(){
		return StickyWin.ui(this.caption, this.makeMessage(), this.options.uiOptions);
	}
});

StickyWin.Error = new Class({
	Extends: StickyWin.Alert,
	makeMessage: function(){
		var message = this.parent();
		new Element('img', {
			src: (this.options.baseHref || Clientcide.assetLocation + '/simple.error.popup') + '/icon_problems_sm.gif',
			'class': 'bang clearfix',
			styles: {
				'float': 'left',
				width: 30,
				height: 30,
				margin: '3px 5px 5px 0px'
			}
		}).inject(message, 'top');
		return message;
	}
});

StickyWin.alert = function(caption, message, options) {
	if (typeOf(options) == "string") options = {baseHref: options};
	return new StickyWin.Alert(caption, message, options);
};

StickyWin.error = function(caption, message, options) {
	return new StickyWin.Error(caption, message, options);
};

// Begin: Source/UI/StickyWin.Confirm.js
/*
---
name: StickyWin.Confirm

description: Defines StickyWin.Conferm, a simple confirmation box with an ok and a close button.

license: MIT-Style License

requires: StickyWin.Alert

provides: [StickyWin.Confirm, StickyWin.confirm]

...
*/
StickyWin.Confirm = new Class({
	Extends: StickyWin.Alert,
	options: {
		uiOptions: {
			width: 250
		}
	},
	build: function(callback){
		this.setOptions({
			uiOptions: {
				buttons: [
					{text: 'Cancel'},
					{
						text: 'Ok',
						onClick: callback || function(){
							this.fireEvent('confirm');
						}.bind(this)
					}
				]
			}
		});
		return this.parent();
	}
});

StickyWin.confirm = function(caption, message, callback, options) {
	return new StickyWin.Confirm(caption, message, options).addEvent('confirm', callback);
};

// Begin: Source/Fx/Fx.Move.js
/*
---

script: Fx.Move.js

name: Fx.Move

description: Defines Fx.Move, a class that works with Element.Position.js to transition an element from one location to another.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Fx.Morph
  - /Element.Position

provides: [Fx.Move]

...
*/

Fx.Move = new Class({

	Extends: Fx.Morph,

	options: {
		relativeTo: document.body,
		position: 'center',
		edge: false,
		offset: {x: 0, y: 0}
	},

	start: function(destination){
		var element = this.element,
			topLeft = element.getStyles('top', 'left');
		if (topLeft.top == 'auto' || topLeft.left == 'auto'){
			element.setPosition(element.getPosition(element.getOffsetParent()));
		}
		return this.parent(element.position(Object.merge({}, this.options, destination, {returnPos: true})));
	}

});

Element.Properties.move = {

	set: function(options){
		this.get('move').cancel().setOptions(options);
		return this;
	},

	get: function(){
		var move = this.retrieve('move');
		if (!move){
			move = new Fx.Move(this, {link: 'cancel'});
			this.store('move', move);
		}
		return move;
	}

};

Element.implement({

	move: function(options){
		this.get('move').start(options);
		return this;
	}

});


// Begin: Source/Fx/Fx.Scroll.js
/*
---

script: Fx.Scroll.js

name: Fx.Scroll

description: Effect to smoothly scroll any element, including the window.

license: MIT-style license

authors:
  - Valerio Proietti

requires:
  - Core/Fx
  - Core/Element.Event
  - Core/Element.Dimensions
  - /MooTools.More

provides: [Fx.Scroll]

...
*/

(function(){

Fx.Scroll = new Class({

	Extends: Fx,

	options: {
		offset: {x: 0, y: 0},
		wheelStops: true
	},

	initialize: function(element, options){
		this.element = this.subject = document.id(element);
		this.parent(options);

		if (typeOf(this.element) != 'element') this.element = document.id(this.element.getDocument().body);

		if (this.options.wheelStops){
			var stopper = this.element,
				cancel = this.cancel.pass(false, this);
			this.addEvent('start', function(){
				stopper.addEvent('mousewheel', cancel);
			}, true);
			this.addEvent('complete', function(){
				stopper.removeEvent('mousewheel', cancel);
			}, true);
		}
	},

	set: function(){
		var now = Array.flatten(arguments);
		if (Browser.firefox) now = [Math.round(now[0]), Math.round(now[1])]; // not needed anymore in newer firefox versions
		this.element.scrollTo(now[0], now[1]);
		return this;
	},

	compute: function(from, to, delta){
		return [0, 1].map(function(i){
			return Fx.compute(from[i], to[i], delta);
		});
	},

	start: function(x, y){
		if (!this.check(x, y)) return this;
		var scroll = this.element.getScroll();
		return this.parent([scroll.x, scroll.y], [x, y]);
	},

	calculateScroll: function(x, y){
		var element = this.element,
			scrollSize = element.getScrollSize(),
			scroll = element.getScroll(),
			size = element.getSize(),
			offset = this.options.offset,
			values = {x: x, y: y};

		for (var z in values){
			if (!values[z] && values[z] !== 0) values[z] = scroll[z];
			if (typeOf(values[z]) != 'number') values[z] = scrollSize[z] - size[z];
			values[z] += offset[z];
		}

		return [values.x, values.y];
	},

	toTop: function(){
		return this.start.apply(this, this.calculateScroll(false, 0));
	},

	toLeft: function(){
		return this.start.apply(this, this.calculateScroll(0, false));
	},

	toRight: function(){
		return this.start.apply(this, this.calculateScroll('right', false));
	},

	toBottom: function(){
		return this.start.apply(this, this.calculateScroll(false, 'bottom'));
	},

	toElement: function(el, axes){
		axes = axes ? Array.from(axes) : ['x', 'y'];
		var scroll = isBody(this.element) ? {x: 0, y: 0} : this.element.getScroll();
		var position = Object.map(document.id(el).getPosition(this.element), function(value, axis){
			return axes.contains(axis) ? value + scroll[axis] : false;
		});
		return this.start.apply(this, this.calculateScroll(position.x, position.y));
	},

	toElementEdge: function(el, axes, offset){
		axes = axes ? Array.from(axes) : ['x', 'y'];
		el = document.id(el);
		var to = {},
			position = el.getPosition(this.element),
			size = el.getSize(),
			scroll = this.element.getScroll(),
			containerSize = this.element.getSize(),
			edge = {
				x: position.x + size.x,
				y: position.y + size.y
			};

		['x', 'y'].each(function(axis){
			if (axes.contains(axis)){
				if (edge[axis] > scroll[axis] + containerSize[axis]) to[axis] = edge[axis] - containerSize[axis];
				if (position[axis] < scroll[axis]) to[axis] = position[axis];
			}
			if (to[axis] == null) to[axis] = scroll[axis];
			if (offset && offset[axis]) to[axis] = to[axis] + offset[axis];
		}, this);

		if (to.x != scroll.x || to.y != scroll.y) this.start(to.x, to.y);
		return this;
	},

	toElementCenter: function(el, axes, offset){
		axes = axes ? Array.from(axes) : ['x', 'y'];
		el = document.id(el);
		var to = {},
			position = el.getPosition(this.element),
			size = el.getSize(),
			scroll = this.element.getScroll(),
			containerSize = this.element.getSize();

		['x', 'y'].each(function(axis){
			if (axes.contains(axis)){
				to[axis] = position[axis] - (containerSize[axis] - size[axis]) / 2;
			}
			if (to[axis] == null) to[axis] = scroll[axis];
			if (offset && offset[axis]) to[axis] = to[axis] + offset[axis];
		}, this);

		if (to.x != scroll.x || to.y != scroll.y) this.start(to.x, to.y);
		return this;
	}

});

//<1.2compat>
Fx.Scroll.implement({
	scrollToCenter: function(){
		return this.toElementCenter.apply(this, arguments);
	},
	scrollIntoView: function(){
		return this.toElementEdge.apply(this, arguments);
	}
});
//</1.2compat>

function isBody(element){
	return (/^(?:body|html)$/i).test(element.tagName);
}

})();


// Begin: Source/Class/Class.Refactor.js
/*
---

script: Class.Refactor.js

name: Class.Refactor

description: Extends a class onto itself with new property, preserving any items attached to the class's namespace.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Class
  - /MooTools.More

# Some modules declare themselves dependent on Class.Refactor
provides: [Class.refactor, Class.Refactor]

...
*/

Class.refactor = function(original, refactors){

	Object.each(refactors, function(item, name){
		var origin = original.prototype[name];
		origin = (origin && origin.$origin) || origin || function(){};
		original.implement(name, (typeof item == 'function') ? function(){
			var old = this.previous;
			this.previous = origin;
			var value = item.apply(this, arguments);
			this.previous = old;
			return value;
		} : item);
	});

	return original;

};


// Begin: Source/Fx/Fx.Tween.js
/*
---

name: Fx.Tween

description: Formerly Fx.Style, effect to transition any CSS property for an element.

license: MIT-style license.

requires: Fx.CSS

provides: [Fx.Tween, Element.fade, Element.highlight]

...
*/

Fx.Tween = new Class({

	Extends: Fx.CSS,

	initialize: function(element, options){
		this.element = this.subject = document.id(element);
		this.parent(options);
	},

	set: function(property, now){
		if (arguments.length == 1){
			now = property;
			property = this.property || this.options.property;
		}
		this.render(this.element, property, now, this.options.unit);
		return this;
	},

	start: function(property, from, to){
		if (!this.check(property, from, to)) return this;
		var args = Array.flatten(arguments);
		this.property = this.options.property || args.shift();
		var parsed = this.prepare(this.element, this.property, args);
		return this.parent(parsed.from, parsed.to);
	}

});

Element.Properties.tween = {

	set: function(options){
		this.get('tween').cancel().setOptions(options);
		return this;
	},

	get: function(){
		var tween = this.retrieve('tween');
		if (!tween){
			tween = new Fx.Tween(this, {link: 'cancel'});
			this.store('tween', tween);
		}
		return tween;
	}

};

Element.implement({

	tween: function(property, from, to){
		this.get('tween').start(property, from, to);
		return this;
	},

	fade: function(how){
		var fade = this.get('tween'), method, args = ['opacity'].append(arguments), toggle;
		if (args[1] == null) args[1] = 'toggle';
		switch (args[1]){
			case 'in': method = 'start'; args[1] = 1; break;
			case 'out': method = 'start'; args[1] = 0; break;
			case 'show': method = 'set'; args[1] = 1; break;
			case 'hide': method = 'set'; args[1] = 0; break;
			case 'toggle':
				var flag = this.retrieve('fade:flag', this.getStyle('opacity') == 1);
				method = 'start';
				args[1] = flag ? 0 : 1;
				this.store('fade:flag', !flag);
				toggle = true;
			break;
			default: method = 'start';
		}
		if (!toggle) this.eliminate('fade:flag');
		fade[method].apply(fade, args);
		var to = args[args.length - 1];
		if (method == 'set' || to != 0) this.setStyle('visibility', to == 0 ? 'hidden' : 'visible');
		else fade.chain(function(){
			this.element.setStyle('visibility', 'hidden');
			this.callChain();
		});
		return this;
	},

	highlight: function(start, end){
		if (!end){
			end = this.retrieve('highlight:original', this.getStyle('background-color'));
			end = (end == 'transparent') ? '#fff' : end;
		}
		var tween = this.get('tween');
		tween.start('background-color', start || '#ffff88', end).chain(function(){
			this.setStyle('background-color', this.retrieve('highlight:original'));
			tween.callChain();
		}.bind(this));
		return this;
	}

});


// Begin: Source/UI/StickyWin.Fx.js
/*
---

name: StickyWin.Fx

description: Extends StickyWin to create popups that fade in and out.

license: MIT-style license.

requires: [More/Class.Refactor, Core/Fx.Tween, StickyWin]

provides: StickyWin.Fx

...
*/
if (!Browser.ie){
	StickyWin = Class.refactor(StickyWin, {
		options: {
			//fadeTransition: 'sine:in:out',
			fade: true,
			fadeDuration: 150
		},
		hideWin: function(){
			if (this.options.fade) this.fade(0);
			else this.previous();
		},
		showWin: function(){
			if (this.options.fade) this.fade(1);
			else this.previous();
		},
		hide: function(){
			this.previous(this.options.fade);
		},
		show: function(){
			this.previous(this.options.fade);
		},
		fade: function(to){
			if (!this.fadeFx) {
				this.win.setStyles({
					opacity: 0,
					display: 'block'
				});
				var opts = {
					property: 'opacity',
					duration: this.options.fadeDuration
				};
				if (this.options.fadeTransition) opts.transition = this.options.fadeTransition;
				this.fadeFx = new Fx.Tween(this.win, opts);
			}
			if (to > 0) {
				this.win.setStyle('display','block');
				this.position();
			}
			this.fadeFx.clearChain();
			this.fadeFx.start(to).chain(function (){
				if (to == 0) {
					this.win.setStyle('display', 'none');
					this.fireEvent('onClose');
				} else {
					this.fireEvent('onDisplay');
				}
			}.bind(this));
			return this;
		}
	});
}
StickyWin.Fx = StickyWin;


// Begin: Source/Types/Array.Extras.js
/*
---

script: Array.Extras.js

name: Array.Extras

description: Extends the Array native object to include useful methods to work with arrays.

license: MIT-style license

authors:
  - Christoph Pojer
  - Sebastian Markb√•ge

requires:
  - Core/Array
  - MooTools.More

provides: [Array.Extras]

...
*/

(function(nil){

Array.implement({

	min: function(){
		return Math.min.apply(null, this);
	},

	max: function(){
		return Math.max.apply(null, this);
	},

	average: function(){
		return this.length ? this.sum() / this.length : 0;
	},

	sum: function(){
		var result = 0, l = this.length;
		if (l){
			while (l--) result += this[l];
		}
		return result;
	},

	unique: function(){
		return [].combine(this);
	},

	shuffle: function(){
		for (var i = this.length; i && --i;){
			var temp = this[i], r = Math.floor(Math.random() * ( i + 1 ));
			this[i] = this[r];
			this[r] = temp;
		}
		return this;
	},

	reduce: function(fn, value){
		for (var i = 0, l = this.length; i < l; i++){
			if (i in this) value = value === nil ? this[i] : fn.call(null, value, this[i], i, this);
		}
		return value;
	},

	reduceRight: function(fn, value){
		var i = this.length;
		while (i--){
			if (i in this) value = value === nil ? this[i] : fn.call(null, value, this[i], i, this);
		}
		return value;
	},

	pluck: function(prop){
		return this.map(function(item){
			return item[prop];
		});
	}

});

})();


// Begin: Source/Request/Request.HTML.js
/*
---

name: Request.HTML

description: Extends the basic Request Class with additional methods for interacting with HTML responses.

license: MIT-style license.

requires: [Element, Request]

provides: Request.HTML

...
*/

Request.HTML = new Class({

	Extends: Request,

	options: {
		update: false,
		append: false,
		evalScripts: true,
		filter: false,
		headers: {
			Accept: 'text/html, application/xml, text/xml, */*'
		}
	},

	success: function(text){
		var options = this.options, response = this.response;

		response.html = text.stripScripts(function(script){
			response.javascript = script;
		});

		var match = response.html.match(/<body[^>]*>([\s\S]*?)<\/body>/i);
		if (match) response.html = match[1];
		var temp = new Element('div').set('html', response.html);

		response.tree = temp.childNodes;
		response.elements = temp.getElements(options.filter || '*');

		if (options.filter) response.tree = response.elements;
		if (options.update){
			var update = document.id(options.update).empty();
			if (options.filter) update.adopt(response.elements);
			else update.set('html', response.html);
		} else if (options.append){
			var append = document.id(options.append);
			if (options.filter) response.elements.reverse().inject(append);
			else append.adopt(temp.getChildren());
		}
		if (options.evalScripts) Browser.exec(response.javascript);

		this.onSuccess(response.tree, response.elements, response.html, response.javascript);
	}

});

Element.Properties.load = {

	set: function(options){
		var load = this.get('load').cancel();
		load.setOptions(options);
		return this;
	},

	get: function(){
		var load = this.retrieve('load');
		if (!load){
			load = new Request.HTML({data: this, link: 'cancel', update: this, method: 'get'});
			this.store('load', load);
		}
		return load;
	}

};

Element.implement({

	load: function(){
		this.get('load').send(Array.link(arguments, {data: Type.isObject, url: Type.isString}));
		return this;
	}

});


// Begin: Source/Layout/TabSwapper.js
/*
---

name: TabSwapper

description: Handles the scripting for a common UI layout; the tabbed box.

license: MIT-Style License

requires: [Core/Element.Event, Core/Fx.Tween, Core/Fx.Morph, Core/Element.Dimensions, More/Element.Shortcuts, More/Element.Measure]

provides: TabSwapper

...
*/
var TabSwapper = new Class({
	Implements: [Options, Events],
	options: {
		// initPanel: null,
		// smooth: false,
		// smoothSize: false,
		// maxSize: null,
		// onActive: function(){},
		// onActiveAfterFx: function(){},
		// onBackground: function(){}
		// cookieName: null,
		preventDefault: true,
		selectedClass: 'tabSelected',
		mouseoverClass: 'tabOver',
		deselectedClass: '',
		rearrangeDOM: true,
		effectOptions: {
			duration: 500
		},
		cookieDays: 999
	},
	tabs: [],
	sections: [],
	clickers: [],
	sectionFx: [],
	initialize: function(options){
		this.setOptions(options);
		var prev = this.setup();
		if (prev) return prev;
		if (this.options.initPanel != null) this.show(this.options.initPanel);
		else if (this.options.cookieName && this.recall()) this.show(this.recall().toInt());
		else this.show(0);

	},
	setup: function(){
		var opt = this.options,
		    sections = $$(opt.sections),
		    tabs = $$(opt.tabs);
		if (tabs[0] && tabs[0].retrieve('tabSwapper')) return tabs[0].retrieve('tabSwapper');
		var clickers = $$(opt.clickers);
		tabs.each(function(tab, index){
			this.addTab(tab, sections[index], clickers[index], index);
		}, this);
	},
	addTab: function(tab, section, clicker, index){
		tab = document.id(tab); clicker = document.id(clicker); section = document.id(section);
		//if the tab is already in the interface, just move it
		if (this.tabs.indexOf(tab) >= 0 && tab.retrieve('tabbered')
			 && this.tabs.indexOf(tab) != index && this.options.rearrangeDOM) {
			this.moveTab(this.tabs.indexOf(tab), index);
			return this;
		}
		//if the index isn't specified, put the tab at the end
		if (index == null) index = this.tabs.length;
		//if this isn't the first item, and there's a tab
		//already in the interface at the index 1 less than this
		//insert this after that one
		if (index > 0 && this.tabs[index-1] && this.options.rearrangeDOM) {
			tab.inject(this.tabs[index-1], 'after');
			section.inject(this.tabs[index-1].retrieve('section'), 'after');
		}
		this.tabs.splice(index, 0, tab);
		clicker = clicker || tab;

		tab.addEvents({
			mouseout: function(){
				tab.removeClass(this.options.mouseoverClass);
			}.bind(this),
			mouseover: function(){
				tab.addClass(this.options.mouseoverClass);
			}.bind(this)
		});

		clicker.addEvent('click', function(e){
			if (this.options.preventDefault) e.preventDefault();
			this.show(index);
		}.bind(this));

		tab.store('tabbered', true);
		tab.store('section', section);
		tab.store('clicker', clicker);
		this.hideSection(index);
		return this;
	},
	removeTab: function(index){
		var now = this.tabs[this.now];
		if (this.now == index){
			if (index > 0) this.show(index - 1);
			else if (index < this.tabs.length) this.show(index + 1);
		}
		this.now = this.tabs.indexOf(now);
		return this;
	},
	moveTab: function(from, to){
		var tab = this.tabs[from];
		var clicker = tab.retrieve('clicker');
		var section = tab.retrieve('section');

		var toTab = this.tabs[to];
		var toClicker = toTab.retrieve('clicker');
		var toSection = toTab.retrieve('section');

		this.tabs.erase(tab).splice(to, 0, tab);

		tab.inject(toTab, 'before');
		clicker.inject(toClicker, 'before');
		section.inject(toSection, 'before');
		return this;
	},
	show: function(i){
		if (this.now == null) {
			this.tabs.each(function(tab, idx){
				if (i != idx)
					this.hideSection(idx);
			}, this);
		}
		this.showSection(i).save(i);
		return this;
	},
	save: function(index){
		if (this.options.cookieName)
			Cookie.write(this.options.cookieName, index, {duration:this.options.cookieDays});
		return this;
	},
	recall: function(){
		return (this.options.cookieName) ? Cookie.read(this.options.cookieName) : false;
	},
	hideSection: function(idx) {
		var tab = this.tabs[idx];
		if (!tab) return this;
		var sect = tab.retrieve('section');
		if (!sect) return this;
		if (sect.getStyle('display') != 'none') {
			this.lastHeight = sect.getSize().y;
			sect.setStyle('display', 'none');
			tab.swapClass(this.options.selectedClass, this.options.deselectedClass);
			this.fireEvent('onBackground', [idx, sect, tab]);
		}
		return this;
	},
	showSection: function(idx) {
		var tab = this.tabs[idx];
		if (!tab) return this;
		var sect = tab.retrieve('section');
		if (!sect) return this;
		var smoothOk = this.options.smooth && !Browser.ie;
		if (this.now != idx) {
			if (!tab.retrieve('tabFx'))
				tab.store('tabFx', new Fx.Morph(sect, this.options.effectOptions));
			var overflow = sect.getStyle('overflow');
			var start = {
				display:'block',
				overflow: 'hidden'
			};
			if (smoothOk) start.opacity = 0;
			var effect = false;
			if (smoothOk) {
				effect = {opacity: 1};
			} else if (sect.getStyle('opacity').toInt() < 1) {
				sect.setStyle('opacity', 1);
				if (!this.options.smoothSize) this.fireEvent('onActiveAfterFx', [idx, sect, tab]);
			}
			if (this.options.smoothSize) {
				var size = sect.getDimensions().height;
				if (this.options.maxSize != null && this.options.maxSize < size)
					size = this.options.maxSize;
				if (!effect) effect = {};
				effect.height = size;
			}
			if (this.now != null) this.hideSection(this.now);
			if (this.options.smoothSize && this.lastHeight) start.height = this.lastHeight;
			sect.setStyles(start);
			var finish = function(){
				this.fireEvent('onActiveAfterFx', [idx, sect, tab]);
				sect.setStyles({
					height: this.options.maxSize == effect.height ? this.options.maxSize : "auto",
					overflow: overflow
				});
				sect.getElements('input, textarea').setStyle('opacity', 1);
			}.bind(this);
			if (effect) {
				tab.retrieve('tabFx').start(effect).chain(finish);
			} else {
				finish();
			}
			this.now = idx;
			this.fireEvent('onActive', [idx, sect, tab]);
		}
		tab.swapClass(this.options.deselectedClass, this.options.selectedClass);
		return this;
	}
});


// Begin: Source/Element/Element.Forms.js
/*
---

script: Element.Forms.js

name: Element.Forms

description: Extends the Element native object to include methods useful in managing inputs.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Element
  - /String.Extras
  - /MooTools.More

provides: [Element.Forms]

...
*/

Element.implement({

	tidy: function(){
		this.set('value', this.get('value').tidy());
	},

	getTextInRange: function(start, end){
		return this.get('value').substring(start, end);
	},

	getSelectedText: function(){
		if (this.setSelectionRange) return this.getTextInRange(this.getSelectionStart(), this.getSelectionEnd());
		return document.selection.createRange().text;
	},

	getSelectedRange: function(){
		if (this.selectionStart != null){
			return {
				start: this.selectionStart,
				end: this.selectionEnd
			};
		}

		var pos = {
			start: 0,
			end: 0
		};
		var range = this.getDocument().selection.createRange();
		if (!range || range.parentElement() != this) return pos;
		var duplicate = range.duplicate();

		if (this.type == 'text'){
			pos.start = 0 - duplicate.moveStart('character', -100000);
			pos.end = pos.start + range.text.length;
		} else {
			var value = this.get('value');
			var offset = value.length;
			duplicate.moveToElementText(this);
			duplicate.setEndPoint('StartToEnd', range);
			if (duplicate.text.length) offset -= value.match(/[\n\r]*$/)[0].length;
			pos.end = offset - duplicate.text.length;
			duplicate.setEndPoint('StartToStart', range);
			pos.start = offset - duplicate.text.length;
		}
		return pos;
	},

	getSelectionStart: function(){
		return this.getSelectedRange().start;
	},

	getSelectionEnd: function(){
		return this.getSelectedRange().end;
	},

	setCaretPosition: function(pos){
		if (pos == 'end') pos = this.get('value').length;
		this.selectRange(pos, pos);
		return this;
	},

	getCaretPosition: function(){
		return this.getSelectedRange().start;
	},

	selectRange: function(start, end){
		if (this.setSelectionRange){
			this.focus();
			this.setSelectionRange(start, end);
		} else {
			var value = this.get('value');
			var diff = value.substr(start, end - start).replace(/\r/g, '').length;
			start = value.substr(0, start).replace(/\r/g, '').length;
			var range = this.createTextRange();
			range.collapse(true);
			range.moveEnd('character', start + diff);
			range.moveStart('character', start);
			range.select();
		}
		return this;
	},

	insertAtCursor: function(value, select){
		var pos = this.getSelectedRange();
		var text = this.get('value');
		this.set('value', text.substring(0, pos.start) + value + text.substring(pos.end, text.length));
		if (select !== false) this.selectRange(pos.start, pos.start + value.length);
		else this.setCaretPosition(pos.start + value.length);
		return this;
	},

	insertAroundCursor: function(options, select){
		options = Object.append({
			before: '',
			defaultMiddle: '',
			after: ''
		}, options);

		var value = this.getSelectedText() || options.defaultMiddle;
		var pos = this.getSelectedRange();
		var text = this.get('value');

		if (pos.start == pos.end){
			this.set('value', text.substring(0, pos.start) + options.before + value + options.after + text.substring(pos.end, text.length));
			this.selectRange(pos.start + options.before.length, pos.end + options.before.length + value.length);
		} else {
			var current = text.substring(pos.start, pos.end);
			this.set('value', text.substring(0, pos.start) + options.before + current + options.after + text.substring(pos.end, text.length));
			var selStart = pos.start + options.before.length;
			if (select !== false) this.selectRange(selStart, selStart + current.length);
			else this.setCaretPosition(selStart + text.length);
		}
		return this;
	}

});


// Begin: Source/Fx/Fx.Reveal.js
/*
---

script: Fx.Reveal.js

name: Fx.Reveal

description: Defines Fx.Reveal, a class that shows and hides elements with a transition.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Fx.Morph
  - /Element.Shortcuts
  - /Element.Measure

provides: [Fx.Reveal]

...
*/

(function(){


var hideTheseOf = function(object){
	var hideThese = object.options.hideInputs;
	if (window.OverText){
		var otClasses = [null];
		OverText.each(function(ot){
			otClasses.include('.' + ot.options.labelClass);
		});
		if (otClasses) hideThese += otClasses.join(', ');
	}
	return (hideThese) ? object.element.getElements(hideThese) : null;
};


Fx.Reveal = new Class({

	Extends: Fx.Morph,

	options: {/*
		onShow: function(thisElement){},
		onHide: function(thisElement){},
		onComplete: function(thisElement){},
		heightOverride: null,
		widthOverride: null,*/
		link: 'cancel',
		styles: ['padding', 'border', 'margin'],
		transitionOpacity: !Browser.ie6,
		mode: 'vertical',
		display: function(){
			return this.element.get('tag') != 'tr' ? 'block' : 'table-row';
		},
		opacity: 1,
		hideInputs: Browser.ie ? 'select, input, textarea, object, embed' : null
	},

	dissolve: function(){
		if (!this.hiding && !this.showing){
			if (this.element.getStyle('display') != 'none'){
				this.hiding = true;
				this.showing = false;
				this.hidden = true;
				this.cssText = this.element.style.cssText;

				var startStyles = this.element.getComputedSize({
					styles: this.options.styles,
					mode: this.options.mode
				});
				if (this.options.transitionOpacity) startStyles.opacity = this.options.opacity;

				var zero = {};
				Object.each(startStyles, function(style, name){
					zero[name] = [style, 0];
				});

				this.element.setStyles({
					display: Function.from(this.options.display).call(this),
					overflow: 'hidden'
				});

				var hideThese = hideTheseOf(this);
				if (hideThese) hideThese.setStyle('visibility', 'hidden');

				this.$chain.unshift(function(){
					if (this.hidden){
						this.hiding = false;
						this.element.style.cssText = this.cssText;
						this.element.setStyle('display', 'none');
						if (hideThese) hideThese.setStyle('visibility', 'visible');
					}
					this.fireEvent('hide', this.element);
					this.callChain();
				}.bind(this));

				this.start(zero);
			} else {
				this.callChain.delay(10, this);
				this.fireEvent('complete', this.element);
				this.fireEvent('hide', this.element);
			}
		} else if (this.options.link == 'chain'){
			this.chain(this.dissolve.bind(this));
		} else if (this.options.link == 'cancel' && !this.hiding){
			this.cancel();
			this.dissolve();
		}
		return this;
	},

	reveal: function(){
		if (!this.showing && !this.hiding){
			if (this.element.getStyle('display') == 'none'){
				this.hiding = false;
				this.showing = true;
				this.hidden = false;
				this.cssText = this.element.style.cssText;

				var startStyles;
				this.element.measure(function(){
					startStyles = this.element.getComputedSize({
						styles: this.options.styles,
						mode: this.options.mode
					});
				}.bind(this));
				if (this.options.heightOverride != null) startStyles.height = this.options.heightOverride.toInt();
				if (this.options.widthOverride != null) startStyles.width = this.options.widthOverride.toInt();
				if (this.options.transitionOpacity){
					this.element.setStyle('opacity', 0);
					startStyles.opacity = this.options.opacity;
				}

				var zero = {
					height: 0,
					display: Function.from(this.options.display).call(this)
				};
				Object.each(startStyles, function(style, name){
					zero[name] = 0;
				});
				zero.overflow = 'hidden';

				this.element.setStyles(zero);

				var hideThese = hideTheseOf(this);
				if (hideThese) hideThese.setStyle('visibility', 'hidden');

				this.$chain.unshift(function(){
					this.element.style.cssText = this.cssText;
					this.element.setStyle('display', Function.from(this.options.display).call(this));
					if (!this.hidden) this.showing = false;
					if (hideThese) hideThese.setStyle('visibility', 'visible');
					this.callChain();
					this.fireEvent('show', this.element);
				}.bind(this));

				this.start(startStyles);
			} else {
				this.callChain();
				this.fireEvent('complete', this.element);
				this.fireEvent('show', this.element);
			}
		} else if (this.options.link == 'chain'){
			this.chain(this.reveal.bind(this));
		} else if (this.options.link == 'cancel' && !this.showing){
			this.cancel();
			this.reveal();
		}
		return this;
	},

	toggle: function(){
		if (this.element.getStyle('display') == 'none'){
			this.reveal();
		} else {
			this.dissolve();
		}
		return this;
	},

	cancel: function(){
		this.parent.apply(this, arguments);
		if (this.cssText != null) this.element.style.cssText = this.cssText;
		this.hiding = false;
		this.showing = false;
		return this;
	}

});

Element.Properties.reveal = {

	set: function(options){
		this.get('reveal').cancel().setOptions(options);
		return this;
	},

	get: function(){
		var reveal = this.retrieve('reveal');
		if (!reveal){
			reveal = new Fx.Reveal(this);
			this.store('reveal', reveal);
		}
		return reveal;
	}

};

Element.Properties.dissolve = Element.Properties.reveal;

Element.implement({

	reveal: function(options){
		this.get('reveal').setOptions(options).reveal();
		return this;
	},

	dissolve: function(options){
		this.get('reveal').setOptions(options).dissolve();
		return this;
	},

	nix: function(options){
		var params = Array.link(arguments, {destroy: Type.isBoolean, options: Type.isObject});
		this.get('reveal').setOptions(options).dissolve().chain(function(){
			this[params.destroy ? 'destroy' : 'dispose']();
		}.bind(this));
		return this;
	},

	wink: function(){
		var params = Array.link(arguments, {duration: Type.isNumber, options: Type.isObject});
		var reveal = this.get('reveal').setOptions(params.options);
		reveal.reveal().chain(function(){
			(function(){
				reveal.dissolve();
			}).delay(params.duration || 2000);
		});
	}

});

})();


// Begin: Source/Layout/Collapsible.js
/*
---
name: Collapsible

description: Enables a dom element to, when clicked, hide or show (it toggles) another dom element. Kind of an Accordion for one item.

license: MIT-Style License

requires: [Core/Element.Event, More/Fx.Reveal]

provides: Collapsible
...
*/
var Collapsible = new Class({
	Extends: Fx.Reveal,
	initialize: function(clicker, section, options) {
		this.clicker = document.id(clicker);
		this.section = document.id(section);
		this.parent(this.section, options);
		this.boundtoggle = this.toggle.bind(this);
		this.attach();
	},
	attach: function(){
		this.clicker.addEvent('click', this.boundtoggle);
	},
	detach: function(){
		this.clicker.removeEvent('click', this.boundtoggle);
	}
});
//legacy, this class originated w/ a typo. nice!
var Collapsable = Collapsible;

// Begin: Source/Utilities/Table.js
/*
---
name: Table
description: LUA-Style table implementation.
license: MIT-style license
authors:
  - Valerio Proietti
requires: [Core/Array]
provides: [Table]
...
*/

(function(){

var Table = this.Table = function(){

	this.length = 0;
	var keys = [],
	    values = [];
	
	this.set = function(key, value){
		var index = keys.indexOf(key);
		if (index == -1){
			var length = keys.length;
			keys[length] = key;
			values[length] = value;
			this.length++;
		} else {
			values[index] = value;
		}
		return this;
	};

	this.get = function(key){
		var index = keys.indexOf(key);
		return (index == -1) ? null : values[index];
	};

	this.erase = function(key){
		var index = keys.indexOf(key);
		if (index != -1){
			this.length--;
			keys.splice(index, 1);
			return values.splice(index, 1)[0];
		}
		return null;
	};

	this.each = this.forEach = function(fn, bind){
		for (var i = 0, l = this.length; i < l; i++) fn.call(bind, keys[i], values[i], this);
	};
	
};

if (this.Type) new Type('Table', Table);

})();


// Begin: Source/Element.Data.js
/*
---
name: Element.Data
description: Stores data in HTML5 data properties
provides: [Element.Data]
requires: [Core/Element, Core/JSON]
script: Element.Data.js

...
*/
(function(){

	JSON.isSecure = function(string){
		//this verifies that the string is parsable JSON and not malicious (borrowed from JSON.js in MooTools, which in turn borrowed it from Crockford)
		//this version is a little more permissive, as it allows single quoted attributes because forcing the use of double quotes
		//is a pain when this stuff is used as HTML properties
		return (/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(string.replace(/\\./g, '@').replace(/"[^"\\\n\r]*"/g, '').replace(/'[^'\\\n\r]*'/g, ''));
	};

	Element.implement({
		/*
			sets an HTML5 data property.
			arguments:
				name - (string) the data name to store; will be automatically prefixed with 'data-'.
				value - (string, number) the value to store.
		*/
		setData: function(name, value){
			return this.set('data-' + name.hyphenate(), value);
		},

		getData: function(name, defaultValue){
			var value = this.get('data-' + name.hyphenate());
			if (value != undefined){
				return value;
			} else if (defaultValue != undefined){
				this.setData(name, defaultValue);
				return defaultValue;
			}
		},

		/* 
			arguments:
				name - (string) the data name to store; will be automatically prefixed with 'data-'
				value - (string, array, or object) if an object or array the object will be JSON encoded; otherwise stored as provided.
		*/
		setJSONData: function(name, value){
			return this.setData(name, JSON.encode(value));
		},

		/*
			retrieves a property from HTML5 data property you specify
		
			arguments:
				name - (retrieve) the data name to store; will be automatically prefixed with 'data-'
				strict - (boolean) if true, will set the JSON.decode's secure flag to true; otherwise the value is still tested but allows single quoted attributes.
				defaultValue - (string, array, or object) the value to set if no value is found (see storeData above)
		*/
		getJSONData: function(name, strict, defaultValue){
			var value = this.get('data-' + name);
			if (value != undefined){
				if (value && JSON.isSecure(value)) {
					return JSON.decode(value, strict);
				} else {
					return value;
				}
			} else if (defaultValue != undefined){
				this.setJSONData(name, defaultValue);
				return defaultValue;
			}
		}

	});

})();

// Begin: Source/BehaviorAPI.js
/*
---
name: BehaviorAPI
description: HTML getters for Behavior's API model.
requires: [Core/Class, /Element.Data]
provides: [BehaviorAPI]
...
*/


(function(){
	//see Docs/BehaviorAPI.md for documentation of public methods.

	var reggy = /[^a-z0-9\-]/gi;

	window.BehaviorAPI = new Class({
		element: null,
		prefix: '',
		defaults: {},

		initialize: function(element, prefix){
			this.element = element;
			this.prefix = prefix.toLowerCase().replace('.', '-', 'g').replace(reggy, '');
		},

		/******************
		 * PUBLIC METHODS
		 ******************/

		get: function(/* name[, name, name, etc] */){
			if (arguments.length > 1) return this._getObj(Array.from(arguments));
			return this._getValue(arguments[0]);
		},

		getAs: function(/*returnType, name, defaultValue OR {name: returnType, name: returnType, etc}*/){
			if (typeOf(arguments[0]) == 'object') return this._getValuesAs.apply(this, arguments);
			return this._getValueAs.apply(this, arguments);
		},

		require: function(/* name[, name, name, etc] */){
			for (var i = 0; i < arguments.length; i++){
				if (this._getValue(arguments[i]) == undefined) throw new Error('Could not retrieve ' + this.prefix + '-' + arguments[i] + ' option from element.');
			}
			return this;
		},

		requireAs: function(returnType, name /* OR {name: returnType, name: returnType, etc}*/){
			var val;
			if (typeOf(arguments[0]) == 'object'){
				for (var objName in arguments[0]){
					val = this._getValueAs(arguments[0][objName], objName);
					if (val === undefined || val === null) throw new Error("Could not retrieve " + this.prefix + '-' + objName + " option from element.");
				}
			} else {
				val = this._getValueAs(returnType, name);
				if (val === undefined || val === null) throw new Error("Could not retrieve " + this.prefix + '-' + name + " option from element.");
			}
			return this;
		},

		setDefault: function(name, value /* OR {name: value, name: value, etc }*/){
			if (typeOf(arguments[0]) == 'object'){
				for (var objName in arguments[0]){
					this.setDefault(objName, arguments[0][objName]);
				}
				return;
			}
			name = name.camelCase();
			this.defaults[name] = value;
			if (this._getValue(name) == null){
				var options = this._getOptions();
				options[name] = value;
			}
			return this;
		},

		refreshAPI: function(){
			delete this.options;
			this.setDefault(this.defaults);
			return;
		},

		/******************
		 * PRIVATE METHODS
		 ******************/

		//given an array of names, returns an object of key/value pairs for each name
		_getObj: function(names){
			var obj = {};
			names.each(function(name){
				var value = this._getValue(name);
				if (value !== undefined) obj[name] = value;
			}, this);
			return obj;
		},
		//gets the data-behaviorname-options object and parses it as JSON
		_getOptions: function(){
			try {
				if (!this.options){
					var options = this.element.getData(this.prefix + '-options', '{}');
					if (options && options.substring(0,1) != '{') options = '{' + options + '}';
					var isSecure = JSON.isSecure(options);
					if (!isSecure) throw new Error('warning, options value for element is not parsable, check your JSON format for quotes, etc.');
					this.options = isSecure ? JSON.decode(options) : {};
					for (option in this.options) {
						this.options[option.camelCase()] = this.options[option];
					}
				}
			} catch (e){
				throw new Error('Could not get options from element; check your syntax. ' + this.prefix + '-options: "' + this.element.getData(this.prefix + '-options', '{}') + '"');
			}
			return this.options;
		},
		//given a name (string) returns the value for it
		_getValue: function(name){
			name = name.camelCase();
			var options = this._getOptions();
			if (!options.hasOwnProperty(name)){
				var inline = this.element.getData(this.prefix + '-' + name.hyphenate());
				if (inline) options[name] = inline;
			}
			return options[name];
		},
		//given a Type and a name (string) returns the value for it coerced to that type if possible
		//else returns the defaultValue or null
		_getValueAs: function(returnType, name, defaultValue){
			var value = this._getValue(name);
			if (value == null || value == undefined) return defaultValue;
			var coerced = this._coerceFromString(returnType, value);
			if (coerced == null) throw new Error("Could not retrieve value '" + name + "' as the specified type. Its value is: " + value);
			return coerced;
		},
		//given an object of name/Type pairs, returns those as an object of name/value (as specified Type) pairs
		_getValuesAs: function(obj){
			var returnObj = {};
			for (var name in obj){
				returnObj[name] = this._getValueAs(obj[name], name);
			}
			return returnObj;
		},
		//attempts to run a value through the JSON parser. If the result is not of that type returns null.
		_coerceFromString: function(toType, value){
			if (typeOf(value) == 'string' && toType != String){
				if (JSON.isSecure(value)) value = JSON.decode(value);
			}
			if (instanceOf(value, toType)) return value;
			return null;
		}
	});

})();

// Begin: Source/Behavior.js
/*
---
name: Behavior
description: Auto-instantiates widgets/classes based on parsed, declarative HTML.
requires: [Core/Class.Extras, Core/Element.Event, Core/Selectors, More/Table, /Element.Data, /BehaviorAPI]
provides: [Behavior]
...
*/

(function(){

	var getLog = function(method){
		return function(){
			if (window.console && console[method]){
				if(console[method].apply) console[method].apply(console, arguments);
				else console[method](Array.from(arguments).join(' '));
			}
		};
	};

	var PassMethods = new Class({
		//pass a method pointer through to a filter
		//by default the methods for add/remove events are passed to the filter
		//pointed to this instance of behavior. you could use this to pass along
		//other methods to your filters. For example, a method to close a popup
		//for filters presented inside popups.
		passMethod: function(method, fn){
			if (this.API.prototype[method]) throw new Error('Cannot overwrite API method ' + method + ' as it already exists');
			this.API.implement(method, fn);
			return this;
		},

		passMethods: function(methods){
			for (method in methods) this.passMethod(method, methods[method]);
			return this;
		}

	});

	var spaceOrCommaRegex = /\s*,\s*|\s+/g;

	BehaviorAPI.implement({
		deprecate: function(deprecated, asJSON){
			var set,
			    values = {};
			Object.each(deprecated, function(prop, key){
				var value = this.element[ asJSON ? 'getJSONData' : 'getData'](prop);
				if (value !== undefined){
					set = true;
					values[key] = value;
				}
			}, this);
			this.setDefault(values);
			return this;
		}
	});

	this.Behavior = new Class({

		Implements: [Options, Events, PassMethods],

		options: {
			//by default, errors thrown by filters are caught; the onError event is fired.
			//set this to *true* to NOT catch these errors to allow them to be handled by the browser.
			// breakOnErrors: false,
			// container: document.body,

			//default error behavior when a filter cannot be applied
			onError: getLog('error'),
			onWarn: getLog('warn'),
			enableDeprecation: true,
			selector: '[data-behavior]'
		},

		initialize: function(options){
			this.setOptions(options);
			this.API = new Class({ Extends: BehaviorAPI });
			this.passMethods({
				getDelegator: this.getDelegator.bind(this),
				addEvent: this.addEvent.bind(this),
				removeEvent: this.removeEvent.bind(this),
				addEvents: this.addEvents.bind(this),
				removeEvents: this.removeEvents.bind(this),
				fireEvent: this.fireEvent.bind(this),
				applyFilters: this.apply.bind(this),
				applyFilter: this.applyFilter.bind(this),
				getContentElement: this.getContentElement.bind(this),
				cleanup: this.cleanup.bind(this),
				getContainerSize: function(){
					return this.getContentElement().measure(function(){
						return this.getSize();
					});
				}.bind(this),
				error: function(){ this.fireEvent('error', arguments); }.bind(this),
				fail: function(){
					var msg = Array.join(arguments, ' ');
					throw new Error(msg);
				},
				warn: function(){
					this.fireEvent('warn', arguments);
				}.bind(this)
			});
		},

		getDelegator: function(){
			return this.delegator;
		},

		setDelegator: function(delegator){
			if (!instanceOf(delegator, Delegator)) throw new Error('Behavior.setDelegator only accepts instances of Delegator.');
			this.delegator = delegator;
			return this;
		},

		getContentElement: function(){
			return this.options.container || document.body;
		},

		//Applies all the behavior filters for an element.
		//container - (element) an element to apply the filters registered with this Behavior instance to.
		//force - (boolean; optional) passed through to applyFilter (see it for docs)
		apply: function(container, force){
		  this._getElements(container).each(function(element){
				var plugins = [];
				element.getBehaviors().each(function(name){
					var filter = this.getFilter(name);
					if (!filter){
						this.fireEvent('error', ['There is no filter registered with this name: ', name, element]);
					} else {
						var config = filter.config;
						if (config.delay !== undefined){
							this.applyFilter.delay(filter.config.delay, this, [element, filter, force]);
						} else if(config.delayUntil){
							this._delayFilterUntil(element, filter, force);
						} else if(config.initializer){
							this._customInit(element, filter, force);
						} else {
							plugins.append(this.applyFilter(element, filter, force, true));
						}
					}
				}, this);
				plugins.each(function(plugin){ plugin(); });
			}, this);
			return this;
		},

		_getElements: function(container){
			if (typeOf(this.options.selector) == 'function') return this.options.selector(container);
			else return document.id(container).getElements(this.options.selector);
		},

		//delays a filter until the event specified in filter.config.delayUntil is fired on the element
		_delayFilterUntil: function(element, filter, force){
			var events = filter.config.delayUntil.split(','),
			    attached = {},
			    inited = false;
			var clear = function(){
				events.each(function(event){
					element.removeEvent(event, attached[event]);
				});
				clear = function(){};
			};
			events.each(function(event){
				var init = function(e){
					clear();
					if (inited) return;
					inited = true;
					var setup = filter.setup;
					filter.setup = function(element, api, _pluginResult){
						api.event = e;
						return setup.apply(filter, [element, api, _pluginResult]);
					};
					this.applyFilter(element, filter, force);
					filter.setup = setup;
				}.bind(this);
				element.addEvent(event, init);
				attached[event] = init;
			}, this);
		},

		//runs custom initiliazer defined in filter.config.initializer
		_customInit: function(element, filter, force){
			var api = new this.API(element, filter.name);
			api.runSetup = this.applyFilter.pass([element, filter, force], this);
			filter.config.initializer(element, api);
		},

		//Applies a specific behavior to a specific element.
		//element - the element to which to apply the behavior
		//filter - (object) a specific behavior filter, typically one registered with this instance or registered globally.
		//force - (boolean; optional) apply the behavior to each element it matches, even if it was previously applied. Defaults to *false*.
		//_returnPlugins - (boolean; optional; internal) if true, plugins are not rendered but instead returned as an array of functions
		//_pluginTargetResult - (obj; optional internal) if this filter is a plugin for another, this is whatever that target filter returned
		//                      (an instance of a class for example)
		applyFilter: function(element, filter, force, _returnPlugins, _pluginTargetResult){
			var pluginsToReturn = [];
			if (this.options.breakOnErrors){
				pluginsToReturn = this._applyFilter.apply(this, arguments);
			} else {
				try {
					pluginsToReturn = this._applyFilter.apply(this, arguments);
				} catch (e){
					this.fireEvent('error', ['Could not apply the behavior ' + filter.name, e]);
				}
			}
			return _returnPlugins ? pluginsToReturn : this;
		},

		//see argument list above for applyFilter
		_applyFilter: function(element, filter, force, _returnPlugins, _pluginTargetResult){
			var pluginsToReturn = [];
			element = document.id(element);
			//get the filters already applied to this element
			var applied = getApplied(element);
			//if this filter is not yet applied to the element, or we are forcing the filter
			if (!applied[filter.name] || force){
				//if it was previously applied, garbage collect it
				if (applied[filter.name]) applied[filter.name].cleanup(element);
				var api = new this.API(element, filter.name);

				//deprecated
				api.markForCleanup = filter.markForCleanup.bind(filter);
				api.onCleanup = function(fn){
					filter.markForCleanup(element, fn);
				};

				if (filter.config.deprecated && this.options.enableDeprecation) api.deprecate(filter.config.deprecated);
				if (filter.config.deprecateAsJSON && this.options.enableDeprecation) api.deprecate(filter.config.deprecatedAsJSON, true);

				//deal with requirements and defaults
				if (filter.config.requireAs){
					api.requireAs(filter.config.requireAs);
				} else if (filter.config.require){
					api.require.apply(api, Array.from(filter.config.require));
				}

				if (filter.config.defaults) api.setDefault(filter.config.defaults);

				//apply the filter
				var result = filter.setup(element, api, _pluginTargetResult);
				if (filter.config.returns && !instanceOf(result, filter.config.returns)){
					throw new Error("Filter " + filter.name + " did not return a valid instance.");
				}
				element.store('Behavior Filter result:' + filter.name, result);
				//and mark it as having been previously applied
				applied[filter.name] = filter;
				//apply all the plugins for this filter
				var plugins = this.getPlugins(filter.name);
				if (plugins){
					for (var name in plugins){
						if (_returnPlugins){
							pluginsToReturn.push(this.applyFilter.pass([element, plugins[name], force, null, result], this));
						} else {
							this.applyFilter(element, plugins[name], force, null, result);
						}
					}
				}
			}
			return pluginsToReturn;
		},

		//given a name, returns a registered behavior
		getFilter: function(name){
			return this._registered[name] || Behavior.getFilter(name);
		},

		getPlugins: function(name){
			return this._plugins[name] || Behavior._plugins[name];
		},

		//Garbage collects all applied filters for an element and its children.
		//element - (*element*) container to cleanup
		//ignoreChildren - (*boolean*; optional) if *true* only the element will be cleaned, otherwise the element and all the
		//	  children with filters applied will be cleaned. Defaults to *false*.
		cleanup: function(element, ignoreChildren){
			element = document.id(element);
			var applied = getApplied(element);
			for (var filter in applied){
				applied[filter].cleanup(element);
				element.eliminate('Behavior Filter result:' + filter);
				delete applied[filter];
			}
			if (!ignoreChildren) this._getElements(element).each(this.cleanup, this);
			return this;
		}

	});

	//Export these for use elsewhere (notabily: Delegator).
	Behavior.getLog = getLog;
	Behavior.PassMethods = PassMethods;


	//Returns the applied behaviors for an element.
	var getApplied = function(el){
		return el.retrieve('_appliedBehaviors', {});
	};

	//Registers a behavior filter.
	//name - the name of the filter
	//fn - a function that applies the filter to the given element
	//overwrite - (boolean) if true, will overwrite existing filter if one exists; defaults to false.
	var addFilter = function(name, fn, overwrite){
		if (!this._registered[name] || overwrite) this._registered[name] = new Behavior.Filter(name, fn);
		else throw new Error('Could not add the Behavior filter "' + name  +'" as a previous trigger by that same name exists.');
	};

	var addFilters = function(obj, overwrite){
		for (var name in obj){
			addFilter.apply(this, [name, obj[name], overwrite]);
		}
	};

	//Registers a behavior plugin
	//filterName - (*string*) the filter (or plugin) this is a plugin for
	//name - (*string*) the name of this plugin
	//setup - a function that applies the filter to the given element
	var addPlugin = function(filterName, name, setup, overwrite){
		if (!this._plugins[filterName]) this._plugins[filterName] = {};
		if (!this._plugins[filterName][name] || overwrite) this._plugins[filterName][name] = new Behavior.Filter(name, setup);
		else throw new Error('Could not add the Behavior filter plugin "' + name  +'" as a previous trigger by that same name exists.');
	};

	var addPlugins = function(obj, overwrite){
		for (var name in obj){
			addPlugin.apply(this, [obj[name].fitlerName, obj[name].name, obj[name].setup], overwrite);
		}
	};

	var setFilterDefaults = function(name, defaults){
		var filter = this.getFilter(name);
		if (!filter.config.defaults) filter.config.defaults = {};
		Object.append(filter.config.defaults, defaults);
	};

	//Add methods to the Behavior namespace for global registration.
	Object.append(Behavior, {
		_registered: {},
		_plugins: {},
		addGlobalFilter: addFilter,
		addGlobalFilters: addFilters,
		addGlobalPlugin: addPlugin,
		addGlobalPlugins: addPlugins,
		setFilterDefaults: setFilterDefaults,
		getFilter: function(name){
			return this._registered[name];
		}
	});
	//Add methods to the Behavior class for instance registration.
	Behavior.implement({
		_registered: {},
		_plugins: {},
		addFilter: addFilter,
		addFilters: addFilters,
		addPlugin: addPlugin,
		addPlugins: addPlugins,
		setFilterDefaults: setFilterDefaults
	});

	//This class is an actual filter that, given an element, alters it with specific behaviors.
	Behavior.Filter = new Class({

		config: {
			/**
				returns: Foo,
				require: ['req1', 'req2'],
				//or
				requireAs: {
					req1: Boolean,
					req2: Number,
					req3: String
				},
				defaults: {
					opt1: false,
					opt2: 2
				},
				//simple example:
				setup: function(element, API){
					var kids = element.getElements(API.get('selector'));
					//some validation still has to occur here
					if (!kids.length) API.fail('there were no child elements found that match ', API.get('selector'));
					if (kids.length < 2) API.warn("there weren't more than 2 kids that match", API.get('selector'));
					var fooInstance = new Foo(kids, API.get('opt1', 'opt2'));
					API.onCleanup(function(){
						fooInstance.destroy();
					});
					return fooInstance;
				},
				delayUntil: 'mouseover',
				//OR
				delay: 100,
				//OR
				initializer: function(element, API){
					element.addEvent('mouseover', API.runSetup); //same as specifying event
					//or
					API.runSetup.delay(100); //same as specifying delay
					//or something completely esoteric
					var timer = (function(){
						if (element.hasClass('foo')){
							clearInterval(timer);
							API.runSetup();
						}
					}).periodical(100);
					//or
					API.addEvent('someBehaviorEvent', API.runSetup);
				});
				*/
		},

		//Pass in an object with the following properties:
		//name - the name of this filter
		//setup - a function that applies the filter to the given element
		initialize: function(name, setup){
			this.name = name;
			if (typeOf(setup) == "function"){
				this.setup = setup;
			} else {
				Object.append(this.config, setup);
				this.setup = this.config.setup;
			}
			this._cleanupFunctions = new Table();
		},

		//Stores a garbage collection pointer for a specific element.
		//Example: if your filter enhances all the inputs in the container
		//you might have a function that removes that enhancement for garbage collection.
		//You would mark each input matched with its own cleanup function.
		//NOTE: this MUST be the element passed to the filter - the element with this filters
		//      name in its data-behavior property. I.E.:
		//<form data-behavior="FormValidator">
		//  <input type="text" name="email"/>
		//</form>
		//If this filter is FormValidator, you can mark the form for cleanup, but not, for example
		//the input. Only elements that match this filter can be marked.
		markForCleanup: function(element, fn){
			var functions = this._cleanupFunctions.get(element);
			if (!functions) functions = [];
			functions.include(fn);
			this._cleanupFunctions.set(element, functions);
			return this;
		},

		//Garbage collect a specific element.
		//NOTE: this should be an element that has a data-behavior property that matches this filter.
		cleanup: function(element){
			var marks = this._cleanupFunctions.get(element);
			if (marks){
				marks.each(function(fn){ fn(); });
				this._cleanupFunctions.erase(element);
			}
			return this;
		}

	});

	Behavior.elementDataProperty = 'behavior';

	Element.implement({

		addBehaviorFilter: function(name){
			return this.setData(Behavior.elementDataProperty, this.getBehaviors().include(name).join(' '));
		},

		removeBehaviorFilter: function(name){
			return this.setData(Behavior.elementDataProperty, this.getBehaviors().erase(name).join(' '));
		},

		getBehaviors: function(){
			var filters = this.getData(Behavior.elementDataProperty);
			if (!filters) return [];
			return filters.trim().split(spaceOrCommaRegex);
		},

		hasBehavior: function(name){
			return this.getBehaviors().contains(name);
		},

		getBehaviorResult: function(name){
			return this.retrieve('Behavior Filter result:' + name);
		}

	});


})();


// Begin: Source/Drag/Drag.js
/*
---

script: Drag.js

name: Drag

description: The base Drag Class. Can be used to drag and resize Elements using mouse events.

license: MIT-style license

authors:
  - Valerio Proietti
  - Tom Occhinno
  - Jan Kassens

requires:
  - Core/Events
  - Core/Options
  - Core/Element.Event
  - Core/Element.Style
  - Core/Element.Dimensions
  - /MooTools.More

provides: [Drag]
...

*/

var Drag = new Class({

	Implements: [Events, Options],

	options: {/*
		onBeforeStart: function(thisElement){},
		onStart: function(thisElement, event){},
		onSnap: function(thisElement){},
		onDrag: function(thisElement, event){},
		onCancel: function(thisElement){},
		onComplete: function(thisElement, event){},*/
		snap: 6,
		unit: 'px',
		grid: false,
		style: true,
		limit: false,
		handle: false,
		invert: false,
		preventDefault: false,
		stopPropagation: false,
		modifiers: {x: 'left', y: 'top'}
	},

	initialize: function(){
		var params = Array.link(arguments, {
			'options': Type.isObject,
			'element': function(obj){
				return obj != null;
			}
		});

		this.element = document.id(params.element);
		this.document = this.element.getDocument();
		this.setOptions(params.options || {});
		var htype = typeOf(this.options.handle);
		this.handles = ((htype == 'array' || htype == 'collection') ? $$(this.options.handle) : document.id(this.options.handle)) || this.element;
		this.mouse = {'now': {}, 'pos': {}};
		this.value = {'start': {}, 'now': {}};

		this.selection = (Browser.ie) ? 'selectstart' : 'mousedown';


		if (Browser.ie && !Drag.ondragstartFixed){
			document.ondragstart = Function.from(false);
			Drag.ondragstartFixed = true;
		}

		this.bound = {
			start: this.start.bind(this),
			check: this.check.bind(this),
			drag: this.drag.bind(this),
			stop: this.stop.bind(this),
			cancel: this.cancel.bind(this),
			eventStop: Function.from(false)
		};
		this.attach();
	},

	attach: function(){
		this.handles.addEvent('mousedown', this.bound.start);
		return this;
	},

	detach: function(){
		this.handles.removeEvent('mousedown', this.bound.start);
		return this;
	},

	start: function(event){
		var options = this.options;

		if (event.rightClick) return;

		if (options.preventDefault) event.preventDefault();
		if (options.stopPropagation) event.stopPropagation();
		this.mouse.start = event.page;

		this.fireEvent('beforeStart', this.element);

		var limit = options.limit;
		this.limit = {x: [], y: []};

		var z, coordinates;
		for (z in options.modifiers){
			if (!options.modifiers[z]) continue;

			var style = this.element.getStyle(options.modifiers[z]);

			// Some browsers (IE and Opera) don't always return pixels.
			if (style && !style.match(/px$/)){
				if (!coordinates) coordinates = this.element.getCoordinates(this.element.getOffsetParent());
				style = coordinates[options.modifiers[z]];
			}

			if (options.style) this.value.now[z] = (style || 0).toInt();
			else this.value.now[z] = this.element[options.modifiers[z]];

			if (options.invert) this.value.now[z] *= -1;

			this.mouse.pos[z] = event.page[z] - this.value.now[z];

			if (limit && limit[z]){
				var i = 2;
				while (i--){
					var limitZI = limit[z][i];
					if (limitZI || limitZI === 0) this.limit[z][i] = (typeof limitZI == 'function') ? limitZI() : limitZI;
				}
			}
		}

		if (typeOf(this.options.grid) == 'number') this.options.grid = {
			x: this.options.grid,
			y: this.options.grid
		};

		var events = {
			mousemove: this.bound.check,
			mouseup: this.bound.cancel
		};
		events[this.selection] = this.bound.eventStop;
		this.document.addEvents(events);
	},

	check: function(event){
		if (this.options.preventDefault) event.preventDefault();
		var distance = Math.round(Math.sqrt(Math.pow(event.page.x - this.mouse.start.x, 2) + Math.pow(event.page.y - this.mouse.start.y, 2)));
		if (distance > this.options.snap){
			this.cancel();
			this.document.addEvents({
				mousemove: this.bound.drag,
				mouseup: this.bound.stop
			});
			this.fireEvent('start', [this.element, event]).fireEvent('snap', this.element);
		}
	},

	drag: function(event){
		var options = this.options;

		if (options.preventDefault) event.preventDefault();
		this.mouse.now = event.page;

		for (var z in options.modifiers){
			if (!options.modifiers[z]) continue;
			this.value.now[z] = this.mouse.now[z] - this.mouse.pos[z];

			if (options.invert) this.value.now[z] *= -1;

			if (options.limit && this.limit[z]){
				if ((this.limit[z][1] || this.limit[z][1] === 0) && (this.value.now[z] > this.limit[z][1])){
					this.value.now[z] = this.limit[z][1];
				} else if ((this.limit[z][0] || this.limit[z][0] === 0) && (this.value.now[z] < this.limit[z][0])){
					this.value.now[z] = this.limit[z][0];
				}
			}

			if (options.grid[z]) this.value.now[z] -= ((this.value.now[z] - (this.limit[z][0]||0)) % options.grid[z]);

			if (options.style) this.element.setStyle(options.modifiers[z], this.value.now[z] + options.unit);
			else this.element[options.modifiers[z]] = this.value.now[z];
		}

		this.fireEvent('drag', [this.element, event]);
	},

	cancel: function(event){
		this.document.removeEvents({
			mousemove: this.bound.check,
			mouseup: this.bound.cancel
		});
		if (event){
			this.document.removeEvent(this.selection, this.bound.eventStop);
			this.fireEvent('cancel', this.element);
		}
	},

	stop: function(event){
		var events = {
			mousemove: this.bound.drag,
			mouseup: this.bound.stop
		};
		events[this.selection] = this.bound.eventStop;
		this.document.removeEvents(events);
		if (event) this.fireEvent('complete', [this.element, event]);
	}

});

Element.implement({

	makeResizable: function(options){
		var drag = new Drag(this, Object.merge({
			modifiers: {
				x: 'width',
				y: 'height'
			}
		}, options));

		this.store('resizer', drag);
		return drag.addEvent('drag', function(){
			this.fireEvent('resize', drag);
		}.bind(this));
	}

});


// Begin: Source/Drag/Drag.Move.js
/*
---

script: Drag.Move.js

name: Drag.Move

description: A Drag extension that provides support for the constraining of draggables to containers and droppables.

license: MIT-style license

authors:
  - Valerio Proietti
  - Tom Occhinno
  - Jan Kassens
  - Aaron Newton
  - Scott Kyle

requires:
  - Core/Element.Dimensions
  - /Drag

provides: [Drag.Move]

...
*/

Drag.Move = new Class({

	Extends: Drag,

	options: {/*
		onEnter: function(thisElement, overed){},
		onLeave: function(thisElement, overed){},
		onDrop: function(thisElement, overed, event){},*/
		droppables: [],
		container: false,
		precalculate: false,
		includeMargins: true,
		checkDroppables: true
	},

	initialize: function(element, options){
		this.parent(element, options);
		element = this.element;

		this.droppables = $$(this.options.droppables);
		this.container = document.id(this.options.container);

		if (this.container && typeOf(this.container) != 'element')
			this.container = document.id(this.container.getDocument().body);

		if (this.options.style){
			if (this.options.modifiers.x == 'left' && this.options.modifiers.y == 'top'){
				var parent = element.getOffsetParent(),
					styles = element.getStyles('left', 'top');
				if (parent && (styles.left == 'auto' || styles.top == 'auto')){
					element.setPosition(element.getPosition(parent));
				}
			}

			if (element.getStyle('position') == 'static') element.setStyle('position', 'absolute');
		}

		this.addEvent('start', this.checkDroppables, true);
		this.overed = null;
	},

	start: function(event){
		if (this.container) this.options.limit = this.calculateLimit();

		if (this.options.precalculate){
			this.positions = this.droppables.map(function(el){
				return el.getCoordinates();
			});
		}

		this.parent(event);
	},

	calculateLimit: function(){
		var element = this.element,
			container = this.container,

			offsetParent = document.id(element.getOffsetParent()) || document.body,
			containerCoordinates = container.getCoordinates(offsetParent),
			elementMargin = {},
			elementBorder = {},
			containerMargin = {},
			containerBorder = {},
			offsetParentPadding = {};

		['top', 'right', 'bottom', 'left'].each(function(pad){
			elementMargin[pad] = element.getStyle('margin-' + pad).toInt();
			elementBorder[pad] = element.getStyle('border-' + pad).toInt();
			containerMargin[pad] = container.getStyle('margin-' + pad).toInt();
			containerBorder[pad] = container.getStyle('border-' + pad).toInt();
			offsetParentPadding[pad] = offsetParent.getStyle('padding-' + pad).toInt();
		}, this);

		var width = element.offsetWidth + elementMargin.left + elementMargin.right,
			height = element.offsetHeight + elementMargin.top + elementMargin.bottom,
			left = 0,
			top = 0,
			right = containerCoordinates.right - containerBorder.right - width,
			bottom = containerCoordinates.bottom - containerBorder.bottom - height;

		if (this.options.includeMargins){
			left += elementMargin.left;
			top += elementMargin.top;
		} else {
			right += elementMargin.right;
			bottom += elementMargin.bottom;
		}

		if (element.getStyle('position') == 'relative'){
			var coords = element.getCoordinates(offsetParent);
			coords.left -= element.getStyle('left').toInt();
			coords.top -= element.getStyle('top').toInt();

			left -= coords.left;
			top -= coords.top;
			if (container.getStyle('position') != 'relative'){
				left += containerBorder.left;
				top += containerBorder.top;
			}
			right += elementMargin.left - coords.left;
			bottom += elementMargin.top - coords.top;

			if (container != offsetParent){
				left += containerMargin.left + offsetParentPadding.left;
				top += ((Browser.ie6 || Browser.ie7) ? 0 : containerMargin.top) + offsetParentPadding.top;
			}
		} else {
			left -= elementMargin.left;
			top -= elementMargin.top;
			if (container != offsetParent){
				left += containerCoordinates.left + containerBorder.left;
				top += containerCoordinates.top + containerBorder.top;
			}
		}

		return {
			x: [left, right],
			y: [top, bottom]
		};
	},

	getDroppableCoordinates: function(element){
		var position = element.getCoordinates();
		if (element.getStyle('position') == 'fixed'){
			var scroll = window.getScroll();
			position.left += scroll.x;
			position.right += scroll.x;
			position.top += scroll.y;
			position.bottom += scroll.y;
		}
		return position;
	},

	checkDroppables: function(){
		var overed = this.droppables.filter(function(el, i){
			el = this.positions ? this.positions[i] : this.getDroppableCoordinates(el);
			var now = this.mouse.now;
			return (now.x > el.left && now.x < el.right && now.y < el.bottom && now.y > el.top);
		}, this).getLast();

		if (this.overed != overed){
			if (this.overed) this.fireEvent('leave', [this.element, this.overed]);
			if (overed) this.fireEvent('enter', [this.element, overed]);
			this.overed = overed;
		}
	},

	drag: function(event){
		this.parent(event);
		if (this.options.checkDroppables && this.droppables.length) this.checkDroppables();
	},

	stop: function(event){
		this.checkDroppables();
		this.fireEvent('drop', [this.element, this.overed, event]);
		this.overed = null;
		return this.parent(event);
	}

});

Element.implement({

	makeDraggable: function(options){
		var drag = new Drag.Move(this, options);
		this.store('dragger', drag);
		return drag;
	}

});


// Begin: Source/UI/StickyWin.Drag.js
/*
---

name: StickyWin.Drag

description: Implements drag and resize functionaity into StickyWin.Fx. See StickyWin.Fx for the options.

license: MIT-Style License

requires: [More/Class.Refactor, More/Drag.Move, StickyWin]

provides: StickyWin.Drag

...
*/
StickyWin = Class.refactor(StickyWin, {
	options: {
		draggable: false,
		dragOptions: {
			onComplete: function(){}
		},
		dragHandleSelector: '.dragHandle',
		resizable: false,
		resizeOptions: {
			onComplete: function(){}
		},
		resizeHandleSelector: ''
	},
	setContent: function(){
		this.previous.apply(this, arguments);
		if (this.options.draggable) this.makeDraggable();
		if (this.options.resizable) this.makeResizable();
		return this;
	},
	makeDraggable: function(){
		var toggled = this.toggleVisible(true);
		if (this.options.useIframeShim) {
			this.makeIframeShim();
			var onComplete = (this.options.dragOptions.onComplete);
			this.options.dragOptions.onComplete = function(){
				onComplete();
				this.shim.position();
			}.bind(this);
		}
		if (this.options.dragHandleSelector) {
			var handle = this.win.getElement(this.options.dragHandleSelector);
			if (handle) {
				handle.setStyle('cursor','move');
				this.options.dragOptions.handle = handle;
			}
		}
		this.win.makeDraggable(this.options.dragOptions);
		if (toggled) this.toggleVisible(false);
	},
	makeResizable: function(){
		var toggled = this.toggleVisible(true);
		if (this.options.useIframeShim) {
			this.makeIframeShim();
			var onComplete = (this.options.resizeOptions.onComplete);
			this.options.resizeOptions.onComplete = function(){
				onComplete();
				this.shim.position();
			}.bind(this);
		}
		if (this.options.resizeHandleSelector) {
			var handle = this.win.getElement(this.options.resizeHandleSelector);
			if (handle) this.options.resizeOptions.handle = this.win.getElement(this.options.resizeHandleSelector);
		}
		this.win.makeResizable(this.options.resizeOptions);
		if (toggled) this.toggleVisible(false);
	},
	toggleVisible: function(show){
		if (!this.visible && show == null || show) {
			this.win.setStyles({
				display: 'block',
				opacity: 0
			});
			return true;
		} else if (show != null && !show){
			this.win.setStyles({
				display: 'none',
				opacity: 1
			});
			return false;
		}
		return false;
	}
});
StickyWin.Fx = StickyWin;

// Begin: Source/Behaviors/Behavior.StickyWin.js
/*
---
name: Behavior.StickyWin
description: Behaviors for StickyWin instances.
provides: [Behavior.StickyWin]
requires: [Behavior/Behavior, /StickyWin, /StickyWin.Modal, /StickyWin.Fx, /StickyWin.Drag, More/Array.Extras, More/Object.Extras]
script: Behavior.Tabs.js

...
*/

Behavior.addGlobalFilters({

	'StickyWin.Modal': {
		defaults: {
			destroyOnClose: true,
			closeOnClickOut: true,
			closeOnEsc: true,
			draggable: false,
			resizable: false
		},
		returns: StickyWin.Modal,
		setup: function(element, api) {
			var flex = element.getElement('.flex'),
			    height = api.getAs(Number, 'height') || (window.getSize().y * .9);

			if (flex){
				element.measure(function(){
					var tmp = new Element('span', { styles: { display: 'none' }}).replaces(flex),
					    remainder = element.getSize().y;
					var padding = ['padding-top', 'padding-bottom', 'margin-top', 'margin-bottom', 'border-top-width', 'border-bottom-width'].map(function(style){
						return flex.getStyle(style).toInt();
					}).sum();
					flex.setStyle('max-height', height - remainder - padding);
					flex.replaces(tmp);
				});
			}

			var options = Object.merge({
					content: element
				},
				Object.cleanValues(
					api.getAs({
						closeClassName: String,
						pinClassName: String,
						className: String,
						edge: String,
						position: String,
						offset: Object,
						relativeTo: String,
						width: Number,
						height: Number,
						timeout: Number,
						destroyOnClose: Boolean,
						closeOnClickOut: Boolean,
						closeOnEsc: Boolean,
						//modal options
						maskOptions: Object,
						//draggable options
						draggable: Boolean,
						dragHandleSelector: String,
						resizable: Boolean,
						resizeHandleSelector: String
					})
				)
			);

			if (options.mask) options.closeOnClickOut = false;

			var sw = new StickyWin.Modal(options);
			api.onCleanup(function(){
				if (!sw.destroyed) sw.destroy();
			});
			sw.addEvent('destroy', function(){
				api.cleanup(element);
			});
			return sw;
		}
	}

});


// Begin: Source/Utilities/Color.js
/*
---

script: Color.js

name: Color

description: Class for creating and manipulating colors in JavaScript. Supports HSB -> RGB Conversions and vice versa.

license: MIT-style license

authors:
  - Valerio Proietti

requires:
  - Core/Array
  - Core/String
  - Core/Number
  - Core/Hash
  - Core/Function
  - MooTools.More

provides: [Color]

...
*/

(function(){

var Color = this.Color = new Type('Color', function(color, type){
	if (arguments.length >= 3){
		type = 'rgb'; color = Array.slice(arguments, 0, 3);
	} else if (typeof color == 'string'){
		if (color.match(/rgb/)) color = color.rgbToHex().hexToRgb(true);
		else if (color.match(/hsb/)) color = color.hsbToRgb();
		else color = color.hexToRgb(true);
	}
	type = type || 'rgb';
	switch (type){
		case 'hsb':
			var old = color;
			color = color.hsbToRgb();
			color.hsb = old;
		break;
		case 'hex': color = color.hexToRgb(true); break;
	}
	color.rgb = color.slice(0, 3);
	color.hsb = color.hsb || color.rgbToHsb();
	color.hex = color.rgbToHex();
	return Object.append(color, this);
});

Color.implement({

	mix: function(){
		var colors = Array.slice(arguments);
		var alpha = (typeOf(colors.getLast()) == 'number') ? colors.pop() : 50;
		var rgb = this.slice();
		colors.each(function(color){
			color = new Color(color);
			for (var i = 0; i < 3; i++) rgb[i] = Math.round((rgb[i] / 100 * (100 - alpha)) + (color[i] / 100 * alpha));
		});
		return new Color(rgb, 'rgb');
	},

	invert: function(){
		return new Color(this.map(function(value){
			return 255 - value;
		}));
	},

	setHue: function(value){
		return new Color([value, this.hsb[1], this.hsb[2]], 'hsb');
	},

	setSaturation: function(percent){
		return new Color([this.hsb[0], percent, this.hsb[2]], 'hsb');
	},

	setBrightness: function(percent){
		return new Color([this.hsb[0], this.hsb[1], percent], 'hsb');
	}

});

this.$RGB = function(r, g, b){
	return new Color([r, g, b], 'rgb');
};

this.$HSB = function(h, s, b){
	return new Color([h, s, b], 'hsb');
};

this.$HEX = function(hex){
	return new Color(hex, 'hex');
};

Array.implement({

	rgbToHsb: function(){
		var red = this[0],
				green = this[1],
				blue = this[2],
				hue = 0;
		var max = Math.max(red, green, blue),
				min = Math.min(red, green, blue);
		var delta = max - min;
		var brightness = max / 255,
				saturation = (max != 0) ? delta / max : 0;
		if (saturation != 0){
			var rr = (max - red) / delta;
			var gr = (max - green) / delta;
			var br = (max - blue) / delta;
			if (red == max) hue = br - gr;
			else if (green == max) hue = 2 + rr - br;
			else hue = 4 + gr - rr;
			hue /= 6;
			if (hue < 0) hue++;
		}
		return [Math.round(hue * 360), Math.round(saturation * 100), Math.round(brightness * 100)];
	},

	hsbToRgb: function(){
		var br = Math.round(this[2] / 100 * 255);
		if (this[1] == 0){
			return [br, br, br];
		} else {
			var hue = this[0] % 360;
			var f = hue % 60;
			var p = Math.round((this[2] * (100 - this[1])) / 10000 * 255);
			var q = Math.round((this[2] * (6000 - this[1] * f)) / 600000 * 255);
			var t = Math.round((this[2] * (6000 - this[1] * (60 - f))) / 600000 * 255);
			switch (Math.floor(hue / 60)){
				case 0: return [br, t, p];
				case 1: return [q, br, p];
				case 2: return [p, br, t];
				case 3: return [p, q, br];
				case 4: return [t, p, br];
				case 5: return [br, p, q];
			}
		}
		return false;
	}

});

String.implement({

	rgbToHsb: function(){
		var rgb = this.match(/\d{1,3}/g);
		return (rgb) ? rgb.rgbToHsb() : null;
	},

	hsbToRgb: function(){
		var hsb = this.match(/\d{1,3}/g);
		return (hsb) ? hsb.hsbToRgb() : null;
	}

});

})();



// Begin: Source/Class/Events.Pseudos.js
/*
---

name: Events.Pseudos

description: Adds the functionality to add pseudo events

license: MIT-style license

authors:
  - Arian Stolwijk

requires: [Core/Class.Extras, Core/Slick.Parser, More/MooTools.More]

provides: [Events.Pseudos]

...
*/

(function(){

Events.Pseudos = function(pseudos, addEvent, removeEvent){

	var storeKey = '_monitorEvents:';

	var storageOf = function(object){
		return {
			store: object.store ? function(key, value){
				object.store(storeKey + key, value);
			} : function(key, value){
				(object._monitorEvents || (object._monitorEvents = {}))[key] = value;
			},
			retrieve: object.retrieve ? function(key, dflt){
				return object.retrieve(storeKey + key, dflt);
			} : function(key, dflt){
				if (!object._monitorEvents) return dflt;
				return object._monitorEvents[key] || dflt;
			}
		};
	};

	var splitType = function(type){
		if (type.indexOf(':') == -1 || !pseudos) return null;

		var parsed = Slick.parse(type).expressions[0][0],
			parsedPseudos = parsed.pseudos,
			l = parsedPseudos.length,
			splits = [];

		while (l--){
			var pseudo = parsedPseudos[l].key,
				listener = pseudos[pseudo];
			if (listener != null) splits.push({
				event: parsed.tag,
				value: parsedPseudos[l].value,
				pseudo: pseudo,
				original: type,
				listener: listener
			});
		}
		return splits.length ? splits : null;
	};

	return {

		addEvent: function(type, fn, internal){
			var split = splitType(type);
			if (!split) return addEvent.call(this, type, fn, internal);

			var storage = storageOf(this),
				events = storage.retrieve(type, []),
				eventType = split[0].event,
				args = Array.slice(arguments, 2),
				stack = fn,
				self = this;

			split.each(function(item){
				var listener = item.listener,
					stackFn = stack;
				if (listener == false) eventType += ':' + item.pseudo + '(' + item.value + ')';
				else stack = function(){
					listener.call(self, item, stackFn, arguments, stack);
				};
			});

			events.include({type: eventType, event: fn, monitor: stack});
			storage.store(type, events);

			if (type != eventType) addEvent.apply(this, [type, fn].concat(args));
			return addEvent.apply(this, [eventType, stack].concat(args));
		},

		removeEvent: function(type, fn){
			var split = splitType(type);
			if (!split) return removeEvent.call(this, type, fn);

			var storage = storageOf(this),
				events = storage.retrieve(type);
			if (!events) return this;

			var args = Array.slice(arguments, 2);

			removeEvent.apply(this, [type, fn].concat(args));
			events.each(function(monitor, i){
				if (!fn || monitor.event == fn) removeEvent.apply(this, [monitor.type, monitor.monitor].concat(args));
				delete events[i];
			}, this);

			storage.store(type, events);
			return this;
		}

	};

};

var pseudos = {

	once: function(split, fn, args, monitor){
		fn.apply(this, args);
		this.removeEvent(split.event, monitor)
			.removeEvent(split.original, fn);
	},

	throttle: function(split, fn, args){
		if (!fn._throttled){
			fn.apply(this, args);
			fn._throttled = setTimeout(function(){
				fn._throttled = false;
			}, split.value || 250);
		}
	},

	pause: function(split, fn, args){
		clearTimeout(fn._pause);
		fn._pause = fn.delay(split.value || 250, this, args);
	}

};

Events.definePseudo = function(key, listener){
	pseudos[key] = listener;
	return this;
};

Events.lookupPseudo = function(key){
	return pseudos[key];
};

var proto = Events.prototype;
Events.implement(Events.Pseudos(pseudos, proto.addEvent, proto.removeEvent));

['Request', 'Fx'].each(function(klass){
	if (this[klass]) this[klass].implement(Events.prototype);
});

})();


// Begin: Source/Element/Element.Event.Pseudos.js
/*
---

name: Element.Event.Pseudos

description: Adds the functionality to add pseudo events for Elements

license: MIT-style license

authors:
  - Arian Stolwijk

requires: [Core/Element.Event, Core/Element.Delegation, Events.Pseudos]

provides: [Element.Event.Pseudos, Element.Delegation]

...
*/

(function(){

var pseudos = {relay: false},
	copyFromEvents = ['once', 'throttle', 'pause'],
	count = copyFromEvents.length;

while (count--) pseudos[copyFromEvents[count]] = Events.lookupPseudo(copyFromEvents[count]);

DOMEvent.definePseudo = function(key, listener){
	pseudos[key] = listener;
	return this;
};

var proto = Element.prototype;
[Element, Window, Document].invoke('implement', Events.Pseudos(pseudos, proto.addEvent, proto.removeEvent));

})();


// Begin: Source/Element/Element.Event.Pseudos.Keys.js
/*
---

name: Element.Event.Pseudos.Keys

description: Adds functionality fire events if certain keycombinations are pressed

license: MIT-style license

authors:
  - Arian Stolwijk

requires: [Element.Event.Pseudos]

provides: [Element.Event.Pseudos.Keys]

...
*/

(function(){

var keysStoreKey = '$moo:keys-pressed',
	keysKeyupStoreKey = '$moo:keys-keyup';


DOMEvent.definePseudo('keys', function(split, fn, args){

	var event = args[0],
		keys = [],
		pressed = this.retrieve(keysStoreKey, []);

	keys.append(split.value.replace('++', function(){
		keys.push('+'); // shift++ and shift+++a
		return '';
	}).split('+'));

	pressed.include(event.key);

	if (keys.every(function(key){
		return pressed.contains(key);
	})) fn.apply(this, args);

	this.store(keysStoreKey, pressed);

	if (!this.retrieve(keysKeyupStoreKey)){
		var keyup = function(event){
			(function(){
				pressed = this.retrieve(keysStoreKey, []).erase(event.key);
				this.store(keysStoreKey, pressed);
			}).delay(0, this); // Fix for IE
		};
		this.store(keysKeyupStoreKey, keyup).addEvent('keyup', keyup);
	}

});

DOMEvent.defineKeys({
	'16': 'shift',
	'17': 'control',
	'18': 'alt',
	'20': 'capslock',
	'33': 'pageup',
	'34': 'pagedown',
	'35': 'end',
	'36': 'home',
	'144': 'numlock',
	'145': 'scrolllock',
	'186': ';',
	'187': '=',
	'188': ',',
	'190': '.',
	'191': '/',
	'192': '`',
	'219': '[',
	'220': '\\',
	'221': ']',
	'222': "'",
	'107': '+'
}).defineKey(Browser.firefox ? 109 : 189, '-');

})();


// Begin: Source/Interface/Keyboard.js
/*
---

script: Keyboard.js

name: Keyboard

description: KeyboardEvents used to intercept events on a class for keyboard and format modifiers in a specific order so as to make alt+shift+c the same as shift+alt+c.

license: MIT-style license

authors:
  - Perrin Westrich
  - Aaron Newton
  - Scott Kyle

requires:
  - Core/Events
  - Core/Options
  - Core/Element.Event
  - Element.Event.Pseudos.Keys

provides: [Keyboard]

...
*/

(function(){

	var Keyboard = this.Keyboard = new Class({

		Extends: Events,

		Implements: [Options],

		options: {/*
			onActivate: function(){},
			onDeactivate: function(){},*/
			defaultEventType: 'keydown',
			active: false,
			manager: null,
			events: {},
			nonParsedEvents: ['activate', 'deactivate', 'onactivate', 'ondeactivate', 'changed', 'onchanged']
		},

		initialize: function(options){
			if (options && options.manager){
				this._manager = options.manager;
				delete options.manager;
			}
			this.setOptions(options);
			this._setup();
		},

		addEvent: function(type, fn, internal){
			return this.parent(Keyboard.parse(type, this.options.defaultEventType, this.options.nonParsedEvents), fn, internal);
		},

		removeEvent: function(type, fn){
			return this.parent(Keyboard.parse(type, this.options.defaultEventType, this.options.nonParsedEvents), fn);
		},

		toggleActive: function(){
			return this[this.isActive() ? 'deactivate' : 'activate']();
		},

		activate: function(instance){
			if (instance){
				if (instance.isActive()) return this;
				//if we're stealing focus, store the last keyboard to have it so the relinquish command works
				if (this._activeKB && instance != this._activeKB){
					this.previous = this._activeKB;
					this.previous.fireEvent('deactivate');
				}
				//if we're enabling a child, assign it so that events are now passed to it
				this._activeKB = instance.fireEvent('activate');
				Keyboard.manager.fireEvent('changed');
			} else if (this._manager){
				//else we're enabling ourselves, we must ask our parent to do it for us
				this._manager.activate(this);
			}
			return this;
		},

		isActive: function(){
			return this._manager ? (this._manager._activeKB == this) : (Keyboard.manager == this);
		},

		deactivate: function(instance){
			if (instance){
				if (instance === this._activeKB){
					this._activeKB = null;
					instance.fireEvent('deactivate');
					Keyboard.manager.fireEvent('changed');
				}
			} else if (this._manager){
				this._manager.deactivate(this);
			}
			return this;
		},

		relinquish: function(){
			if (this.isActive() && this._manager && this._manager.previous) this._manager.activate(this._manager.previous);
			else this.deactivate();
			return this;
		},

		//management logic
		manage: function(instance){
			if (instance._manager) instance._manager.drop(instance);
			this._instances.push(instance);
			instance._manager = this;
			if (!this._activeKB) this.activate(instance);
			return this;
		},

		drop: function(instance){
			instance.relinquish();
			this._instances.erase(instance);
			if (this._activeKB == instance){
				if (this.previous && this._instances.contains(this.previous)) this.activate(this.previous);
				else this._activeKB = this._instances[0];
			}
			return this;
		},

		trace: function(){
			Keyboard.trace(this);
		},

		each: function(fn){
			Keyboard.each(this, fn);
		},

		/*
			PRIVATE METHODS
		*/

		_instances: [],

		_disable: function(instance){
			if (this._activeKB == instance) this._activeKB = null;
		},

		_setup: function(){
			this.addEvents(this.options.events);
			//if this is the root manager, nothing manages it
			if (Keyboard.manager && !this._manager) Keyboard.manager.manage(this);
			if (this.options.active) this.activate();
			else this.relinquish();
		},

		_handle: function(event, type){
			//Keyboard.stop(event) prevents key propagation
			if (event.preventKeyboardPropagation) return;

			var bubbles = !!this._manager;
			if (bubbles && this._activeKB){
				this._activeKB._handle(event, type);
				if (event.preventKeyboardPropagation) return;
			}
			this.fireEvent(type, event);

			if (!bubbles && this._activeKB) this._activeKB._handle(event, type);
		}

	});

	var parsed = {};
	var modifiers = ['shift', 'control', 'alt', 'meta'];
	var regex = /^(?:shift|control|ctrl|alt|meta)$/;

	Keyboard.parse = function(type, eventType, ignore){
		if (ignore && ignore.contains(type.toLowerCase())) return type;

		type = type.toLowerCase().replace(/^(keyup|keydown):/, function($0, $1){
			eventType = $1;
			return '';
		});

		if (!parsed[type]){
			var key, mods = {};
			type.split('+').each(function(part){
				if (regex.test(part)) mods[part] = true;
				else key = part;
			});

			mods.control = mods.control || mods.ctrl; // allow both control and ctrl

			var keys = [];
			modifiers.each(function(mod){
				if (mods[mod]) keys.push(mod);
			});

			if (key) keys.push(key);
			parsed[type] = keys.join('+');
		}

		return eventType + ':keys(' + parsed[type] + ')';
	};

	Keyboard.each = function(keyboard, fn){
		var current = keyboard || Keyboard.manager;
		while (current){
			fn.run(current);
			current = current._activeKB;
		}
	};

	Keyboard.stop = function(event){
		event.preventKeyboardPropagation = true;
	};

	Keyboard.manager = new Keyboard({
		active: true
	});

	Keyboard.trace = function(keyboard){
		keyboard = keyboard || Keyboard.manager;
		var hasConsole = window.console && console.log;
		if (hasConsole) console.log('the following items have focus: ');
		Keyboard.each(keyboard, function(current){
			if (hasConsole) console.log(document.id(current.widget) || current.wiget || current);
		});
	};

	var handler = function(event){
		var keys = [];
		modifiers.each(function(mod){
			if (event[mod]) keys.push(mod);
		});

		if (!regex.test(event.key)) keys.push(event.key);
		Keyboard.manager._handle(event, event.type + ':keys(' + keys.join('+') + ')');
	};

	document.addEvents({
		'keyup': handler,
		'keydown': handler
	});

})();


// Begin: Source/Interface/Keyboard.Extras.js
/*
---

script: Keyboard.Extras.js

name: Keyboard.Extras

description: Enhances Keyboard by adding the ability to name and describe keyboard shortcuts, and the ability to grab shortcuts by name and bind the shortcut to different keys.

license: MIT-style license

authors:
  - Perrin Westrich

requires:
  - /Keyboard
  - /MooTools.More

provides: [Keyboard.Extras]

...
*/
Keyboard.prototype.options.nonParsedEvents.combine(['rebound', 'onrebound']);

Keyboard.implement({

	/*
		shortcut should be in the format of:
		{
			'keys': 'shift+s', // the default to add as an event.
			'description': 'blah blah blah', // a brief description of the functionality.
			'handler': function(){} // the event handler to run when keys are pressed.
		}
	*/
	addShortcut: function(name, shortcut){
		this._shortcuts = this._shortcuts || [];
		this._shortcutIndex = this._shortcutIndex || {};

		shortcut.getKeyboard = Function.from(this);
		shortcut.name = name;
		this._shortcutIndex[name] = shortcut;
		this._shortcuts.push(shortcut);
		if (shortcut.keys) this.addEvent(shortcut.keys, shortcut.handler);
		return this;
	},

	addShortcuts: function(obj){
		for (var name in obj) this.addShortcut(name, obj[name]);
		return this;
	},

	removeShortcut: function(name){
		var shortcut = this.getShortcut(name);
		if (shortcut && shortcut.keys){
			this.removeEvent(shortcut.keys, shortcut.handler);
			delete this._shortcutIndex[name];
			this._shortcuts.erase(shortcut);
		}
		return this;
	},

	removeShortcuts: function(names){
		names.each(this.removeShortcut, this);
		return this;
	},

	getShortcuts: function(){
		return this._shortcuts || [];
	},

	getShortcut: function(name){
		return (this._shortcutIndex || {})[name];
	}

});

Keyboard.rebind = function(newKeys, shortcuts){
	Array.from(shortcuts).each(function(shortcut){
		shortcut.getKeyboard().removeEvent(shortcut.keys, shortcut.handler);
		shortcut.getKeyboard().addEvent(newKeys, shortcut.handler);
		shortcut.keys = newKeys;
		shortcut.getKeyboard().fireEvent('rebound');
	});
};


Keyboard.getActiveShortcuts = function(keyboard){
	var activeKBS = [], activeSCS = [];
	Keyboard.each(keyboard, [].push.bind(activeKBS));
	activeKBS.each(function(kb){ activeSCS.extend(kb.getShortcuts()); });
	return activeSCS;
};

Keyboard.getShortcut = function(name, keyboard, opts){
	opts = opts || {};
	var shortcuts = opts.many ? [] : null,
		set = opts.many ? function(kb){
				var shortcut = kb.getShortcut(name);
				if (shortcut) shortcuts.push(shortcut);
			} : function(kb){
				if (!shortcuts) shortcuts = kb.getShortcut(name);
			};
	Keyboard.each(keyboard, set);
	return shortcuts;
};

Keyboard.getShortcuts = function(name, keyboard){
	return Keyboard.getShortcut(name, keyboard, { many: true });
};


// Begin: Source/Locale/Locale.js
/*
---

script: Locale.js

name: Locale

description: Provides methods for localization.

license: MIT-style license

authors:
  - Aaron Newton
  - Arian Stolwijk

requires:
  - Core/Events
  - /Object.Extras
  - /MooTools.More

provides: [Locale, Lang]

...
*/

(function(){

var current = null,
	locales = {},
	inherits = {};

var getSet = function(set){
	if (instanceOf(set, Locale.Set)) return set;
	else return locales[set];
};

var Locale = this.Locale = {

	define: function(locale, set, key, value){
		var name;
		if (instanceOf(locale, Locale.Set)){
			name = locale.name;
			if (name) locales[name] = locale;
		} else {
			name = locale;
			if (!locales[name]) locales[name] = new Locale.Set(name);
			locale = locales[name];
		}

		if (set) locale.define(set, key, value);

		/*<1.2compat>*/
		if (set == 'cascade') return Locale.inherit(name, key);
		/*</1.2compat>*/

		if (!current) current = locale;

		return locale;
	},

	use: function(locale){
		locale = getSet(locale);

		if (locale){
			current = locale;

			this.fireEvent('change', locale);

			/*<1.2compat>*/
			this.fireEvent('langChange', locale.name);
			/*</1.2compat>*/
		}

		return this;
	},

	getCurrent: function(){
		return current;
	},

	get: function(key, args){
		return (current) ? current.get(key, args) : '';
	},

	inherit: function(locale, inherits, set){
		locale = getSet(locale);

		if (locale) locale.inherit(inherits, set);
		return this;
	},

	list: function(){
		return Object.keys(locales);
	}

};

Object.append(Locale, new Events);

Locale.Set = new Class({

	sets: {},

	inherits: {
		locales: [],
		sets: {}
	},

	initialize: function(name){
		this.name = name || '';
	},

	define: function(set, key, value){
		var defineData = this.sets[set];
		if (!defineData) defineData = {};

		if (key){
			if (typeOf(key) == 'object') defineData = Object.merge(defineData, key);
			else defineData[key] = value;
		}
		this.sets[set] = defineData;

		return this;
	},

	get: function(key, args, _base){
		var value = Object.getFromPath(this.sets, key);
		if (value != null){
			var type = typeOf(value);
			if (type == 'function') value = value.apply(null, Array.from(args));
			else if (type == 'object') value = Object.clone(value);
			return value;
		}

		// get value of inherited locales
		var index = key.indexOf('.'),
			set = index < 0 ? key : key.substr(0, index),
			names = (this.inherits.sets[set] || []).combine(this.inherits.locales).include('en-US');
		if (!_base) _base = [];

		for (var i = 0, l = names.length; i < l; i++){
			if (_base.contains(names[i])) continue;
			_base.include(names[i]);

			var locale = locales[names[i]];
			if (!locale) continue;

			value = locale.get(key, args, _base);
			if (value != null) return value;
		}

		return '';
	},

	inherit: function(names, set){
		names = Array.from(names);

		if (set && !this.inherits.sets[set]) this.inherits.sets[set] = [];

		var l = names.length;
		while (l--) (set ? this.inherits.sets[set] : this.inherits.locales).unshift(names[l]);

		return this;
	}

});

/*<1.2compat>*/
var lang = MooTools.lang = {};

Object.append(lang, Locale, {
	setLanguage: Locale.use,
	getCurrentLanguage: function(){
		var current = Locale.getCurrent();
		return (current) ? current.name : null;
	},
	set: function(){
		Locale.define.apply(this, arguments);
		return this;
	},
	get: function(set, key, args){
		if (key) set += '.' + key;
		return Locale.get(set, args);
	}
});
/*</1.2compat>*/

})();


// Begin: Source/Locale/Locale.en-US.Number.js
/*
---

name: Locale.en-US.Number

description: Number messages for US English.

license: MIT-style license

authors:
  - Arian Stolwijk

requires:
  - /Locale

provides: [Locale.en-US.Number]

...
*/

Locale.define('en-US', 'Number', {

	decimal: '.',
	group: ',',

/* 	Commented properties are the defaults for Number.format
	decimals: 0,
	precision: 0,
	scientific: null,

	prefix: null,
	suffic: null,

	// Negative/Currency/percentage will mixin Number
	negative: {
		prefix: '-'
	},*/

	currency: {
//		decimals: 2,
		prefix: '$ '
	}/*,

	percentage: {
		decimals: 2,
		suffix: '%'
	}*/

});




// Begin: Source/Types/Number.Format.js
/*
---
name: Number.Format
description: Extends the Number Type object to include a number formatting method.
license: MIT-style license
authors: [Arian Stolwijk]
requires: [Core/Number, Locale.en-US.Number]
# Number.Extras is for compatibility
provides: [Number.Format, Number.Extras]
...
*/


Number.implement({

	format: function(options){
		// Thanks dojo and YUI for some inspiration
		var value = this;
		options = options ? Object.clone(options) : {};
		var getOption = function(key){
			if (options[key] != null) return options[key];
			return Locale.get('Number.' + key);
		};

		var negative = value < 0,
			decimal = getOption('decimal'),
			precision = getOption('precision'),
			group = getOption('group'),
			decimals = getOption('decimals');

		if (negative){
			var negativeLocale = getOption('negative') || {};
			if (negativeLocale.prefix == null && negativeLocale.suffix == null) negativeLocale.prefix = '-';
			['prefix', 'suffix'].each(function(key){
				if (negativeLocale[key]) options[key] = getOption(key) + negativeLocale[key];
			});

			value = -value;
		}

		var prefix = getOption('prefix'),
			suffix = getOption('suffix');

		if (decimals !== '' && decimals >= 0 && decimals <= 20) value = value.toFixed(decimals);
		if (precision >= 1 && precision <= 21) value = (+value).toPrecision(precision);

		value += '';
		var index;
		if (getOption('scientific') === false && value.indexOf('e') > -1){
			var match = value.split('e'),
				zeros = +match[1];
			value = match[0].replace('.', '');

			if (zeros < 0){
				zeros = -zeros - 1;
				index = match[0].indexOf('.');
				if (index > -1) zeros -= index - 1;
				while (zeros--) value = '0' + value;
				value = '0.' + value;
			} else {
				index = match[0].lastIndexOf('.');
				if (index > -1) zeros -= match[0].length - index - 1;
				while (zeros--) value += '0';
			}
		}

		if (decimal != '.') value = value.replace('.', decimal);

		if (group){
			index = value.lastIndexOf(decimal);
			index = (index > -1) ? index : value.length;
			var newOutput = value.substring(index),
				i = index;

			while (i--){
				if ((index - i - 1) % 3 == 0 && i != (index - 1)) newOutput = group + newOutput;
				newOutput = value.charAt(i) + newOutput;
			}

			value = newOutput;
		}

		if (prefix) value = prefix + value;
		if (suffix) value += suffix;

		return value;
	},

	formatCurrency: function(decimals){
		var locale = Locale.get('Number.currency') || {};
		if (locale.scientific == null) locale.scientific = false;
		locale.decimals = decimals != null ? decimals
			: (locale.decimals == null ? 2 : locale.decimals);

		return this.format(locale);
	},

	formatPercentage: function(decimals){
		var locale = Locale.get('Number.percentage') || {};
		if (locale.suffix == null) locale.suffix = '%';
		locale.decimals = decimals != null ? decimals
			: (locale.decimals == null ? 2 : locale.decimals);

		return this.format(locale);
	}

});


// Begin: Source/Request/Request.Periodical.js
/*
---

script: Request.Periodical.js

name: Request.Periodical

description: Requests the same URL to pull data from a server but increases the intervals if no data is returned to reduce the load

license: MIT-style license

authors:
  - Christoph Pojer

requires:
  - Core/Request
  - /MooTools.More

provides: [Request.Periodical]

...
*/

Request.implement({

	options: {
		initialDelay: 5000,
		delay: 5000,
		limit: 60000
	},

	startTimer: function(data){
		var fn = function(){
			if (!this.running) this.send({data: data});
		};
		this.lastDelay = this.options.initialDelay;
		this.timer = fn.delay(this.lastDelay, this);
		this.completeCheck = function(response){
			clearTimeout(this.timer);
			this.lastDelay = (response) ? this.options.delay : (this.lastDelay + this.options.delay).min(this.options.limit);
			this.timer = fn.delay(this.lastDelay, this);
		};
		return this.addEvent('complete', this.completeCheck);
	},

	stopTimer: function(){
		clearTimeout(this.timer);
		return this.removeEvent('complete', this.completeCheck);
	}

});


// Begin: Source/Request/Request.JSONP.js
/*
---

script: Request.JSONP.js

name: Request.JSONP

description: Defines Request.JSONP, a class for cross domain javascript via script injection.

license: MIT-style license

authors:
  - Aaron Newton
  - Guillermo Rauch
  - Arian Stolwijk

requires:
  - Core/Element
  - Core/Request
  - MooTools.More

provides: [Request.JSONP]

...
*/

Request.JSONP = new Class({

	Implements: [Chain, Events, Options],

	options: {/*
		onRequest: function(src, scriptElement){},
		onComplete: function(data){},
		onSuccess: function(data){},
		onCancel: function(){},
		onTimeout: function(){},
		onError: function(){}, */
		onRequest: function(src){
			if (this.options.log && window.console && console.log){
				console.log('JSONP retrieving script with url:' + src);
			}
		},
		onError: function(src){
			if (this.options.log && window.console && console.warn){
				console.warn('JSONP '+ src +' will fail in Internet Explorer, which enforces a 2083 bytes length limit on URIs');
			}
		},
		url: '',
		callbackKey: 'callback',
		injectScript: document.head,
		data: '',
		link: 'ignore',
		timeout: 0,
		log: false
	},

	initialize: function(options){
		this.setOptions(options);
	},

	send: function(options){
		if (!Request.prototype.check.call(this, options)) return this;
		this.running = true;

		var type = typeOf(options);
		if (type == 'string' || type == 'element') options = {data: options};
		options = Object.merge(this.options, options || {});

		var data = options.data;
		switch (typeOf(data)){
			case 'element': data = document.id(data).toQueryString(); break;
			case 'object': case 'hash': data = Object.toQueryString(data);
		}

		var index = this.index = Request.JSONP.counter++;

		var src = options.url +
			(options.url.test('\\?') ? '&' :'?') +
			(options.callbackKey) +
			'=Request.JSONP.request_map.request_'+ index +
			(data ? '&' + data : '');

		if (src.length > 2083) this.fireEvent('error', src);

		Request.JSONP.request_map['request_' + index] = function(){
			this.success(arguments, index);
		}.bind(this);

		var script = this.getScript(src).inject(options.injectScript);
		this.fireEvent('request', [src, script]);

		if (options.timeout) this.timeout.delay(options.timeout, this);

		return this;
	},

	getScript: function(src){
		if (!this.script) this.script = new Element('script', {
			type: 'text/javascript',
			async: true,
			src: src
		});
		return this.script;
	},

	success: function(args, index){
		if (!this.running) return;
		this.clear()
			.fireEvent('complete', args).fireEvent('success', args)
			.callChain();
	},

	cancel: function(){
		if (this.running) this.clear().fireEvent('cancel');
		return this;
	},

	isRunning: function(){
		return !!this.running;
	},

	clear: function(){
		this.running = false;
		if (this.script){
			this.script.destroy();
			this.script = null;
		}
		return this;
	},

	timeout: function(){
		if (this.running){
			this.running = false;
			this.fireEvent('timeout', [this.script.get('src'), this.script]).fireEvent('failure').cancel();
		}
		return this;
	}

});

Request.JSONP.counter = 0;
Request.JSONP.request_map = {};


// Begin: Source/Types/String.QueryString.js
/*
---

script: String.QueryString.js

name: String.QueryString

description: Methods for dealing with URI query strings.

license: MIT-style license

authors:
  - Sebastian Markb√•ge
  - Aaron Newton
  - Lennart Pilon
  - Valerio Proietti

requires:
  - Core/Array
  - Core/String
  - /MooTools.More

provides: [String.QueryString]

...
*/

String.implement({

	parseQueryString: function(decodeKeys, decodeValues){
		if (decodeKeys == null) decodeKeys = true;
		if (decodeValues == null) decodeValues = true;

		var vars = this.split(/[&;]/),
			object = {};
		if (!vars.length) return object;

		vars.each(function(val){
			var index = val.indexOf('=') + 1,
				value = index ? val.substr(index) : '',
				keys = index ? val.substr(0, index - 1).match(/([^\]\[]+|(\B)(?=\]))/g) : [val],
				obj = object;
			if (!keys) return;
			if (decodeValues) value = decodeURIComponent(value);
			keys.each(function(key, i){
				if (decodeKeys) key = decodeURIComponent(key);
				var current = obj[key];

				if (i < keys.length - 1) obj = obj[key] = current || {};
				else if (typeOf(current) == 'array') current.push(value);
				else obj[key] = current != null ? [current, value] : value;
			});
		});

		return object;
	},

	cleanQueryString: function(method){
		return this.split('&').filter(function(val){
			var index = val.indexOf('='),
				key = index < 0 ? '' : val.substr(0, index),
				value = val.substr(index + 1);

			return method ? method.call(null, key, value) : (value || value === 0);
		}).join('&');
	}

});


// Begin: Source/Types/URI.js
/*
---

script: URI.js

name: URI

description: Provides methods useful in managing the window location and uris.

license: MIT-style license

authors:
  - Sebastian Markb√•ge
  - Aaron Newton

requires:
  - Core/Object
  - Core/Class
  - Core/Class.Extras
  - Core/Element
  - /String.QueryString

provides: [URI]

...
*/

(function(){

var toString = function(){
	return this.get('value');
};

var URI = this.URI = new Class({

	Implements: Options,

	options: {
		/*base: false*/
	},

	regex: /^(?:(\w+):)?(?:\/\/(?:(?:([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)?(\.\.?$|(?:[^?#\/]*\/)*)([^?#]*)(?:\?([^#]*))?(?:#(.*))?/,
	parts: ['scheme', 'user', 'password', 'host', 'port', 'directory', 'file', 'query', 'fragment'],
	schemes: {http: 80, https: 443, ftp: 21, rtsp: 554, mms: 1755, file: 0},

	initialize: function(uri, options){
		this.setOptions(options);
		var base = this.options.base || URI.base;
		if (!uri) uri = base;

		if (uri && uri.parsed) this.parsed = Object.clone(uri.parsed);
		else this.set('value', uri.href || uri.toString(), base ? new URI(base) : false);
	},

	parse: function(value, base){
		var bits = value.match(this.regex);
		if (!bits) return false;
		bits.shift();
		return this.merge(bits.associate(this.parts), base);
	},

	merge: function(bits, base){
		if ((!bits || !bits.scheme) && (!base || !base.scheme)) return false;
		if (base){
			this.parts.every(function(part){
				if (bits[part]) return false;
				bits[part] = base[part] || '';
				return true;
			});
		}
		bits.port = bits.port || this.schemes[bits.scheme.toLowerCase()];
		bits.directory = bits.directory ? this.parseDirectory(bits.directory, base ? base.directory : '') : '/';
		return bits;
	},

	parseDirectory: function(directory, baseDirectory){
		directory = (directory.substr(0, 1) == '/' ? '' : (baseDirectory || '/')) + directory;
		if (!directory.test(URI.regs.directoryDot)) return directory;
		var result = [];
		directory.replace(URI.regs.endSlash, '').split('/').each(function(dir){
			if (dir == '..' && result.length > 0) result.pop();
			else if (dir != '.') result.push(dir);
		});
		return result.join('/') + '/';
	},

	combine: function(bits){
		return bits.value || bits.scheme + '://' +
			(bits.user ? bits.user + (bits.password ? ':' + bits.password : '') + '@' : '') +
			(bits.host || '') + (bits.port && bits.port != this.schemes[bits.scheme] ? ':' + bits.port : '') +
			(bits.directory || '/') + (bits.file || '') +
			(bits.query ? '?' + bits.query : '') +
			(bits.fragment ? '#' + bits.fragment : '');
	},

	set: function(part, value, base){
		if (part == 'value'){
			var scheme = value.match(URI.regs.scheme);
			if (scheme) scheme = scheme[1];
			if (scheme && this.schemes[scheme.toLowerCase()] == null) this.parsed = { scheme: scheme, value: value };
			else this.parsed = this.parse(value, (base || this).parsed) || (scheme ? { scheme: scheme, value: value } : { value: value });
		} else if (part == 'data'){
			this.setData(value);
		} else {
			this.parsed[part] = value;
		}
		return this;
	},

	get: function(part, base){
		switch (part){
			case 'value': return this.combine(this.parsed, base ? base.parsed : false);
			case 'data' : return this.getData();
		}
		return this.parsed[part] || '';
	},

	go: function(){
		document.location.href = this.toString();
	},

	toURI: function(){
		return this;
	},

	getData: function(key, part){
		var qs = this.get(part || 'query');
		if (!(qs || qs === 0)) return key ? null : {};
		var obj = qs.parseQueryString();
		return key ? obj[key] : obj;
	},

	setData: function(values, merge, part){
		if (typeof values == 'string'){
			var data = this.getData();
			data[arguments[0]] = arguments[1];
			values = data;
		} else if (merge){
			values = Object.merge(this.getData(), values);
		}
		return this.set(part || 'query', Object.toQueryString(values));
	},

	clearData: function(part){
		return this.set(part || 'query', '');
	},

	toString: toString,
	valueOf: toString

});

URI.regs = {
	endSlash: /\/$/,
	scheme: /^(\w+):/,
	directoryDot: /\.\/|\.$/
};

URI.base = new URI(Array.from(document.getElements('base[href]', true)).getLast(), {base: document.location});

String.implement({

	toURI: function(options){
		return new URI(this, options);
	}

});

})();


// Begin: Source/Types/URI.Relative.js
/*
---

script: URI.Relative.js

name: URI.Relative

description: Extends the URI class to add methods for computing relative and absolute urls.

license: MIT-style license

authors:
  - Sebastian Markb√•ge


requires:
  - /Class.refactor
  - /URI

provides: [URI.Relative]

...
*/

URI = Class.refactor(URI, {

	combine: function(bits, base){
		if (!base || bits.scheme != base.scheme || bits.host != base.host || bits.port != base.port)
			return this.previous.apply(this, arguments);
		var end = bits.file + (bits.query ? '?' + bits.query : '') + (bits.fragment ? '#' + bits.fragment : '');

		if (!base.directory) return (bits.directory || (bits.file ? '' : './')) + end;

		var baseDir = base.directory.split('/'),
			relDir = bits.directory.split('/'),
			path = '',
			offset;

		var i = 0;
		for (offset = 0; offset < baseDir.length && offset < relDir.length && baseDir[offset] == relDir[offset]; offset++);
		for (i = 0; i < baseDir.length - offset - 1; i++) path += '../';
		for (i = offset; i < relDir.length - 1; i++) path += relDir[i] + '/';

		return (path || (bits.file ? '' : './')) + end;
	},

	toAbsolute: function(base){
		base = new URI(base);
		if (base) base.set('directory', '').set('file', '');
		return this.toRelative(base);
	},

	toRelative: function(base){
		return this.get('value', new URI(base));
	}

});


// Begin: Source/Utilities/Cookie.js
/*
---

name: Cookie

description: Class for creating, reading, and deleting browser Cookies.

license: MIT-style license.

credits:
  - Based on the functions by Peter-Paul Koch (http://quirksmode.org).

requires: [Options, Browser]

provides: Cookie

...
*/

var Cookie = new Class({

	Implements: Options,

	options: {
		path: '/',
		domain: false,
		duration: false,
		secure: false,
		document: document,
		encode: true
	},

	initialize: function(key, options){
		this.key = key;
		this.setOptions(options);
	},

	write: function(value){
		if (this.options.encode) value = encodeURIComponent(value);
		if (this.options.domain) value += '; domain=' + this.options.domain;
		if (this.options.path) value += '; path=' + this.options.path;
		if (this.options.duration){
			var date = new Date();
			date.setTime(date.getTime() + this.options.duration * 24 * 60 * 60 * 1000);
			value += '; expires=' + date.toGMTString();
		}
		if (this.options.secure) value += '; secure';
		this.options.document.cookie = this.key + '=' + value;
		return this;
	},

	read: function(){
		var value = this.options.document.cookie.match('(?:^|;)\\s*' + this.key.escapeRegExp() + '=([^;]*)');
		return (value) ? decodeURIComponent(value[1]) : null;
	},

	dispose: function(){
		new Cookie(this.key, Object.merge({}, this.options, {duration: -1})).write('');
		return this;
	}

});

Cookie.write = function(key, value, options){
	return new Cookie(key, options).write(value);
};

Cookie.read = function(key){
	return new Cookie(key).read();
};

Cookie.dispose = function(key, options){
	return new Cookie(key, options).dispose();
};


// Begin: Source/Locale/Locale.en-US.Date.js
/*
---

name: Locale.en-US.Date

description: Date messages for US English.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - /Locale

provides: [Locale.en-US.Date]

...
*/

Locale.define('en-US', 'Date', {

	months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
	months_abbr: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
	days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
	days_abbr: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],

	// Culture's date order: MM/DD/YYYY
	dateOrder: ['month', 'date', 'year'],
	shortDate: '%m/%d/%Y',
	shortTime: '%I:%M%p',
	AM: 'AM',
	PM: 'PM',
	firstDayOfWeek: 0,

	// Date.Extras
	ordinal: function(dayOfMonth){
		// 1st, 2nd, 3rd, etc.
		return (dayOfMonth > 3 && dayOfMonth < 21) ? 'th' : ['th', 'st', 'nd', 'rd', 'th'][Math.min(dayOfMonth % 10, 4)];
	},

	lessThanMinuteAgo: 'less than a minute ago',
	minuteAgo: 'about a minute ago',
	minutesAgo: '{delta} minutes ago',
	hourAgo: 'about an hour ago',
	hoursAgo: 'about {delta} hours ago',
	dayAgo: '1 day ago',
	daysAgo: '{delta} days ago',
	weekAgo: '1 week ago',
	weeksAgo: '{delta} weeks ago',
	monthAgo: '1 month ago',
	monthsAgo: '{delta} months ago',
	yearAgo: '1 year ago',
	yearsAgo: '{delta} years ago',

	lessThanMinuteUntil: 'less than a minute from now',
	minuteUntil: 'about a minute from now',
	minutesUntil: '{delta} minutes from now',
	hourUntil: 'about an hour from now',
	hoursUntil: 'about {delta} hours from now',
	dayUntil: '1 day from now',
	daysUntil: '{delta} days from now',
	weekUntil: '1 week from now',
	weeksUntil: '{delta} weeks from now',
	monthUntil: '1 month from now',
	monthsUntil: '{delta} months from now',
	yearUntil: '1 year from now',
	yearsUntil: '{delta} years from now'

});


// Begin: Source/Types/Date.js
/*
---

script: Date.js

name: Date

description: Extends the Date native object to include methods useful in managing dates.

license: MIT-style license

authors:
  - Aaron Newton
  - Nicholas Barthelemy - https://svn.nbarthelemy.com/date-js/
  - Harald Kirshner - mail [at] digitarald.de; http://digitarald.de
  - Scott Kyle - scott [at] appden.com; http://appden.com

requires:
  - Core/Array
  - Core/String
  - Core/Number
  - MooTools.More
  - Locale
  - Locale.en-US.Date

provides: [Date]

...
*/

(function(){

var Date = this.Date;

var DateMethods = Date.Methods = {
	ms: 'Milliseconds',
	year: 'FullYear',
	min: 'Minutes',
	mo: 'Month',
	sec: 'Seconds',
	hr: 'Hours'
};

['Date', 'Day', 'FullYear', 'Hours', 'Milliseconds', 'Minutes', 'Month', 'Seconds', 'Time', 'TimezoneOffset',
	'Week', 'Timezone', 'GMTOffset', 'DayOfYear', 'LastMonth', 'LastDayOfMonth', 'UTCDate', 'UTCDay', 'UTCFullYear',
	'AMPM', 'Ordinal', 'UTCHours', 'UTCMilliseconds', 'UTCMinutes', 'UTCMonth', 'UTCSeconds', 'UTCMilliseconds'].each(function(method){
	Date.Methods[method.toLowerCase()] = method;
});

var pad = function(n, digits, string){
	if (digits == 1) return n;
	return n < Math.pow(10, digits - 1) ? (string || '0') + pad(n, digits - 1, string) : n;
};

Date.implement({

	set: function(prop, value){
		prop = prop.toLowerCase();
		var method = DateMethods[prop] && 'set' + DateMethods[prop];
		if (method && this[method]) this[method](value);
		return this;
	}.overloadSetter(),

	get: function(prop){
		prop = prop.toLowerCase();
		var method = DateMethods[prop] && 'get' + DateMethods[prop];
		if (method && this[method]) return this[method]();
		return null;
	}.overloadGetter(),

	clone: function(){
		return new Date(this.get('time'));
	},

	increment: function(interval, times){
		interval = interval || 'day';
		times = times != null ? times : 1;

		switch (interval){
			case 'year':
				return this.increment('month', times * 12);
			case 'month':
				var d = this.get('date');
				this.set('date', 1).set('mo', this.get('mo') + times);
				return this.set('date', d.min(this.get('lastdayofmonth')));
			case 'week':
				return this.increment('day', times * 7);
			case 'day':
				return this.set('date', this.get('date') + times);
		}

		if (!Date.units[interval]) throw new Error(interval + ' is not a supported interval');

		return this.set('time', this.get('time') + times * Date.units[interval]());
	},

	decrement: function(interval, times){
		return this.increment(interval, -1 * (times != null ? times : 1));
	},

	isLeapYear: function(){
		return Date.isLeapYear(this.get('year'));
	},

	clearTime: function(){
		return this.set({hr: 0, min: 0, sec: 0, ms: 0});
	},

	diff: function(date, resolution){
		if (typeOf(date) == 'string') date = Date.parse(date);

		return ((date - this) / Date.units[resolution || 'day'](3, 3)).round(); // non-leap year, 30-day month
	},

	getLastDayOfMonth: function(){
		return Date.daysInMonth(this.get('mo'), this.get('year'));
	},

	getDayOfYear: function(){
		return (Date.UTC(this.get('year'), this.get('mo'), this.get('date') + 1)
			- Date.UTC(this.get('year'), 0, 1)) / Date.units.day();
	},

	setDay: function(day, firstDayOfWeek){
		if (firstDayOfWeek == null){
			firstDayOfWeek = Date.getMsg('firstDayOfWeek');
			if (firstDayOfWeek === '') firstDayOfWeek = 1;
		}

		day = (7 + Date.parseDay(day, true) - firstDayOfWeek) % 7;
		var currentDay = (7 + this.get('day') - firstDayOfWeek) % 7;

		return this.increment('day', day - currentDay);
	},

	getWeek: function(firstDayOfWeek){
		if (firstDayOfWeek == null){
			firstDayOfWeek = Date.getMsg('firstDayOfWeek');
			if (firstDayOfWeek === '') firstDayOfWeek = 1;
		}

		var date = this,
			dayOfWeek = (7 + date.get('day') - firstDayOfWeek) % 7,
			dividend = 0,
			firstDayOfYear;

		if (firstDayOfWeek == 1){
			// ISO-8601, week belongs to year that has the most days of the week (i.e. has the thursday of the week)
			var month = date.get('month'),
				startOfWeek = date.get('date') - dayOfWeek;

			if (month == 11 && startOfWeek > 28) return 1; // Week 1 of next year

			if (month == 0 && startOfWeek < -2){
				// Use a date from last year to determine the week
				date = new Date(date).decrement('day', dayOfWeek);
				dayOfWeek = 0;
			}

			firstDayOfYear = new Date(date.get('year'), 0, 1).get('day') || 7;
			if (firstDayOfYear > 4) dividend = -7; // First week of the year is not week 1
		} else {
			// In other cultures the first week of the year is always week 1 and the last week always 53 or 54.
			// Days in the same week can have a different weeknumber if the week spreads across two years.
			firstDayOfYear = new Date(date.get('year'), 0, 1).get('day');
		}

		dividend += date.get('dayofyear');
		dividend += 6 - dayOfWeek; // Add days so we calculate the current date's week as a full week
		dividend += (7 + firstDayOfYear - firstDayOfWeek) % 7; // Make up for first week of the year not being a full week

		return (dividend / 7);
	},

	getOrdinal: function(day){
		return Date.getMsg('ordinal', day || this.get('date'));
	},

	getTimezone: function(){
		return this.toString()
			.replace(/^.*? ([A-Z]{3}).[0-9]{4}.*$/, '$1')
			.replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/, '$1$2$3');
	},

	getGMTOffset: function(){
		var off = this.get('timezoneOffset');
		return ((off > 0) ? '-' : '+') + pad((off.abs() / 60).floor(), 2) + pad(off % 60, 2);
	},

	setAMPM: function(ampm){
		ampm = ampm.toUpperCase();
		var hr = this.get('hr');
		if (hr > 11 && ampm == 'AM') return this.decrement('hour', 12);
		else if (hr < 12 && ampm == 'PM') return this.increment('hour', 12);
		return this;
	},

	getAMPM: function(){
		return (this.get('hr') < 12) ? 'AM' : 'PM';
	},

	parse: function(str){
		this.set('time', Date.parse(str));
		return this;
	},

	isValid: function(date){
		if (!date) date = this;
		return typeOf(date) == 'date' && !isNaN(date.valueOf());
	},

	format: function(format){
		if (!this.isValid()) return 'invalid date';

		if (!format) format = '%x %X';
		if (typeof format == 'string') format = formats[format.toLowerCase()] || format;
		if (typeof format == 'function') return format(this);

		var d = this;
		return format.replace(/%([a-z%])/gi,
			function($0, $1){
				switch ($1){
					case 'a': return Date.getMsg('days_abbr')[d.get('day')];
					case 'A': return Date.getMsg('days')[d.get('day')];
					case 'b': return Date.getMsg('months_abbr')[d.get('month')];
					case 'B': return Date.getMsg('months')[d.get('month')];
					case 'c': return d.format('%a %b %d %H:%M:%S %Y');
					case 'd': return pad(d.get('date'), 2);
					case 'e': return pad(d.get('date'), 2, ' ');
					case 'H': return pad(d.get('hr'), 2);
					case 'I': return pad((d.get('hr') % 12) || 12, 2);
					case 'j': return pad(d.get('dayofyear'), 3);
					case 'k': return pad(d.get('hr'), 2, ' ');
					case 'l': return pad((d.get('hr') % 12) || 12, 2, ' ');
					case 'L': return pad(d.get('ms'), 3);
					case 'm': return pad((d.get('mo') + 1), 2);
					case 'M': return pad(d.get('min'), 2);
					case 'o': return d.get('ordinal');
					case 'p': return Date.getMsg(d.get('ampm'));
					case 's': return Math.round(d / 1000);
					case 'S': return pad(d.get('seconds'), 2);
					case 'T': return d.format('%H:%M:%S');
					case 'U': return pad(d.get('week'), 2);
					case 'w': return d.get('day');
					case 'x': return d.format(Date.getMsg('shortDate'));
					case 'X': return d.format(Date.getMsg('shortTime'));
					case 'y': return d.get('year').toString().substr(2);
					case 'Y': return d.get('year');
					case 'z': return d.get('GMTOffset');
					case 'Z': return d.get('Timezone');
				}
				return $1;
			}
		);
	},

	toISOString: function(){
		return this.format('iso8601');
	}

}).alias({
	toJSON: 'toISOString',
	compare: 'diff',
	strftime: 'format'
});

// The day and month abbreviations are standardized, so we cannot use simply %a and %b because they will get localized
var rfcDayAbbr = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
	rfcMonthAbbr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

var formats = {
	db: '%Y-%m-%d %H:%M:%S',
	compact: '%Y%m%dT%H%M%S',
	'short': '%d %b %H:%M',
	'long': '%B %d, %Y %H:%M',
	rfc822: function(date){
		return rfcDayAbbr[date.get('day')] + date.format(', %d ') + rfcMonthAbbr[date.get('month')] + date.format(' %Y %H:%M:%S %Z');
	},
	rfc2822: function(date){
		return rfcDayAbbr[date.get('day')] + date.format(', %d ') + rfcMonthAbbr[date.get('month')] + date.format(' %Y %H:%M:%S %z');
	},
	iso8601: function(date){
		return (
			date.getUTCFullYear() + '-' +
			pad(date.getUTCMonth() + 1, 2) + '-' +
			pad(date.getUTCDate(), 2) + 'T' +
			pad(date.getUTCHours(), 2) + ':' +
			pad(date.getUTCMinutes(), 2) + ':' +
			pad(date.getUTCSeconds(), 2) + '.' +
			pad(date.getUTCMilliseconds(), 3) + 'Z'
		);
	}
};

var parsePatterns = [],
	nativeParse = Date.parse;

var parseWord = function(type, word, num){
	var ret = -1,
		translated = Date.getMsg(type + 's');
	switch (typeOf(word)){
		case 'object':
			ret = translated[word.get(type)];
			break;
		case 'number':
			ret = translated[word];
			if (!ret) throw new Error('Invalid ' + type + ' index: ' + word);
			break;
		case 'string':
			var match = translated.filter(function(name){
				return this.test(name);
			}, new RegExp('^' + word, 'i'));
			if (!match.length) throw new Error('Invalid ' + type + ' string');
			if (match.length > 1) throw new Error('Ambiguous ' + type);
			ret = match[0];
	}

	return (num) ? translated.indexOf(ret) : ret;
};

var startCentury = 1900,
	startYear = 70;

Date.extend({

	getMsg: function(key, args){
		return Locale.get('Date.' + key, args);
	},

	units: {
		ms: Function.from(1),
		second: Function.from(1000),
		minute: Function.from(60000),
		hour: Function.from(3600000),
		day: Function.from(86400000),
		week: Function.from(608400000),
		month: function(month, year){
			var d = new Date;
			return Date.daysInMonth(month != null ? month : d.get('mo'), year != null ? year : d.get('year')) * 86400000;
		},
		year: function(year){
			year = year || new Date().get('year');
			return Date.isLeapYear(year) ? 31622400000 : 31536000000;
		}
	},

	daysInMonth: function(month, year){
		return [31, Date.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
	},

	isLeapYear: function(year){
		return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);
	},

	parse: function(from){
		var t = typeOf(from);
		if (t == 'number') return new Date(from);
		if (t != 'string') return from;
		from = from.clean();
		if (!from.length) return null;

		var parsed;
		parsePatterns.some(function(pattern){
			var bits = pattern.re.exec(from);
			return (bits) ? (parsed = pattern.handler(bits)) : false;
		});

		if (!(parsed && parsed.isValid())){
			parsed = new Date(nativeParse(from));
			if (!(parsed && parsed.isValid())) parsed = new Date(from.toInt());
		}
		return parsed;
	},

	parseDay: function(day, num){
		return parseWord('day', day, num);
	},

	parseMonth: function(month, num){
		return parseWord('month', month, num);
	},

	parseUTC: function(value){
		var localDate = new Date(value);
		var utcSeconds = Date.UTC(
			localDate.get('year'),
			localDate.get('mo'),
			localDate.get('date'),
			localDate.get('hr'),
			localDate.get('min'),
			localDate.get('sec'),
			localDate.get('ms')
		);
		return new Date(utcSeconds);
	},

	orderIndex: function(unit){
		return Date.getMsg('dateOrder').indexOf(unit) + 1;
	},

	defineFormat: function(name, format){
		formats[name] = format;
		return this;
	},

	//<1.2compat>
	parsePatterns: parsePatterns,
	//</1.2compat>

	defineParser: function(pattern){
		parsePatterns.push((pattern.re && pattern.handler) ? pattern : build(pattern));
		return this;
	},

	defineParsers: function(){
		Array.flatten(arguments).each(Date.defineParser);
		return this;
	},

	define2DigitYearStart: function(year){
		startYear = year % 100;
		startCentury = year - startYear;
		return this;
	}

}).extend({
	defineFormats: Date.defineFormat.overloadSetter()
});

var regexOf = function(type){
	return new RegExp('(?:' + Date.getMsg(type).map(function(name){
		return name.substr(0, 3);
	}).join('|') + ')[a-z]*');
};

var replacers = function(key){
	switch (key){
		case 'T':
			return '%H:%M:%S';
		case 'x': // iso8601 covers yyyy-mm-dd, so just check if month is first
			return ((Date.orderIndex('month') == 1) ? '%m[-./]%d' : '%d[-./]%m') + '([-./]%y)?';
		case 'X':
			return '%H([.:]%M)?([.:]%S([.:]%s)?)? ?%p? ?%z?';
	}
	return null;
};

var keys = {
	d: /[0-2]?[0-9]|3[01]/,
	H: /[01]?[0-9]|2[0-3]/,
	I: /0?[1-9]|1[0-2]/,
	M: /[0-5]?\d/,
	s: /\d+/,
	o: /[a-z]*/,
	p: /[ap]\.?m\.?/,
	y: /\d{2}|\d{4}/,
	Y: /\d{4}/,
	z: /Z|[+-]\d{2}(?::?\d{2})?/
};

keys.m = keys.I;
keys.S = keys.M;

var currentLanguage;

var recompile = function(language){
	currentLanguage = language;

	keys.a = keys.A = regexOf('days');
	keys.b = keys.B = regexOf('months');

	parsePatterns.each(function(pattern, i){
		if (pattern.format) parsePatterns[i] = build(pattern.format);
	});
};

var build = function(format){
	if (!currentLanguage) return {format: format};

	var parsed = [];
	var re = (format.source || format) // allow format to be regex
	 .replace(/%([a-z])/gi,
		function($0, $1){
			return replacers($1) || $0;
		}
	).replace(/\((?!\?)/g, '(?:') // make all groups non-capturing
	 .replace(/ (?!\?|\*)/g, ',? ') // be forgiving with spaces and commas
	 .replace(/%([a-z%])/gi,
		function($0, $1){
			var p = keys[$1];
			if (!p) return $1;
			parsed.push($1);
			return '(' + p.source + ')';
		}
	).replace(/\[a-z\]/gi, '[a-z\\u00c0-\\uffff;\&]'); // handle unicode words

	return {
		format: format,
		re: new RegExp('^' + re + '$', 'i'),
		handler: function(bits){
			bits = bits.slice(1).associate(parsed);
			var date = new Date().clearTime(),
				year = bits.y || bits.Y;

			if (year != null) handle.call(date, 'y', year); // need to start in the right year
			if ('d' in bits) handle.call(date, 'd', 1);
			if ('m' in bits || bits.b || bits.B) handle.call(date, 'm', 1);

			for (var key in bits) handle.call(date, key, bits[key]);
			return date;
		}
	};
};

var handle = function(key, value){
	if (!value) return this;

	switch (key){
		case 'a': case 'A': return this.set('day', Date.parseDay(value, true));
		case 'b': case 'B': return this.set('mo', Date.parseMonth(value, true));
		case 'd': return this.set('date', value);
		case 'H': case 'I': return this.set('hr', value);
		case 'm': return this.set('mo', value - 1);
		case 'M': return this.set('min', value);
		case 'p': return this.set('ampm', value.replace(/\./g, ''));
		case 'S': return this.set('sec', value);
		case 's': return this.set('ms', ('0.' + value) * 1000);
		case 'w': return this.set('day', value);
		case 'Y': return this.set('year', value);
		case 'y':
			value = +value;
			if (value < 100) value += startCentury + (value < startYear ? 100 : 0);
			return this.set('year', value);
		case 'z':
			if (value == 'Z') value = '+00';
			var offset = value.match(/([+-])(\d{2}):?(\d{2})?/);
			offset = (offset[1] + '1') * (offset[2] * 60 + (+offset[3] || 0)) + this.getTimezoneOffset();
			return this.set('time', this - offset * 60000);
	}

	return this;
};

Date.defineParsers(
	'%Y([-./]%m([-./]%d((T| )%X)?)?)?', // "1999-12-31", "1999-12-31 11:59pm", "1999-12-31 23:59:59", ISO8601
	'%Y%m%d(T%H(%M%S?)?)?', // "19991231", "19991231T1159", compact
	'%x( %X)?', // "12/31", "12.31.99", "12-31-1999", "12/31/2008 11:59 PM"
	'%d%o( %b( %Y)?)?( %X)?', // "31st", "31st December", "31 Dec 1999", "31 Dec 1999 11:59pm"
	'%b( %d%o)?( %Y)?( %X)?', // Same as above with month and day switched
	'%Y %b( %d%o( %X)?)?', // Same as above with year coming first
	'%o %b %d %X %z %Y', // "Thu Oct 22 08:11:23 +0000 2009"
	'%T', // %H:%M:%S
	'%H:%M( ?%p)?' // "11:05pm", "11:05 am" and "11:05"
);

Locale.addEvent('change', function(language){
	if (Locale.get('Date')) recompile(language);
}).fireEvent('change', Locale.getCurrent());

})();


// Begin: Source/Types/Date.Extras.js
/*
---

script: Date.Extras.js

name: Date.Extras

description: Extends the Date native object to include extra methods (on top of those in Date.js).

license: MIT-style license

authors:
  - Aaron Newton
  - Scott Kyle

requires:
  - /Date

provides: [Date.Extras]

...
*/

Date.implement({

	timeDiffInWords: function(to){
		return Date.distanceOfTimeInWords(this, to || new Date);
	},

	timeDiff: function(to, separator){
		if (to == null) to = new Date;
		var delta = ((to - this) / 1000).floor().abs();

		var vals = [],
			durations = [60, 60, 24, 365, 0],
			names = ['s', 'm', 'h', 'd', 'y'],
			value, duration;

		for (var item = 0; item < durations.length; item++){
			if (item && !delta) break;
			value = delta;
			if ((duration = durations[item])){
				value = (delta % duration);
				delta = (delta / duration).floor();
			}
			vals.unshift(value + (names[item] || ''));
		}

		return vals.join(separator || ':');
	}

}).extend({

	distanceOfTimeInWords: function(from, to){
		return Date.getTimePhrase(((to - from) / 1000).toInt());
	},

	getTimePhrase: function(delta){
		var suffix = (delta < 0) ? 'Until' : 'Ago';
		if (delta < 0) delta *= -1;

		var units = {
			minute: 60,
			hour: 60,
			day: 24,
			week: 7,
			month: 52 / 12,
			year: 12,
			eon: Infinity
		};

		var msg = 'lessThanMinute';

		for (var unit in units){
			var interval = units[unit];
			if (delta < 1.5 * interval){
				if (delta > 0.75 * interval) msg = unit;
				break;
			}
			delta /= interval;
			msg = unit + 's';
		}

		delta = delta.round();
		return Date.getMsg(msg + suffix, delta).substitute({delta: delta});
	}

}).defineParsers(

	{
		// "today", "tomorrow", "yesterday"
		re: /^(?:tod|tom|yes)/i,
		handler: function(bits){
			var d = new Date().clearTime();
			switch (bits[0]){
				case 'tom': return d.increment();
				case 'yes': return d.decrement();
				default: return d;
			}
		}
	},

	{
		// "next Wednesday", "last Thursday"
		re: /^(next|last) ([a-z]+)$/i,
		handler: function(bits){
			var d = new Date().clearTime();
			var day = d.getDay();
			var newDay = Date.parseDay(bits[2], true);
			var addDays = newDay - day;
			if (newDay <= day) addDays += 7;
			if (bits[1] == 'last') addDays -= 7;
			return d.set('date', d.getDate() + addDays);
		}
	}

).alias('timeAgoInWords', 'timeDiffInWords');


// Begin: Source/Fx/Fx.Elements.js
/*
---

script: Fx.Elements.js

name: Fx.Elements

description: Effect to change any number of CSS properties of any number of Elements.

license: MIT-style license

authors:
  - Valerio Proietti

requires:
  - Core/Fx.CSS
  - /MooTools.More

provides: [Fx.Elements]

...
*/

Fx.Elements = new Class({

	Extends: Fx.CSS,

	initialize: function(elements, options){
		this.elements = this.subject = $$(elements);
		this.parent(options);
	},

	compute: function(from, to, delta){
		var now = {};

		for (var i in from){
			var iFrom = from[i], iTo = to[i], iNow = now[i] = {};
			for (var p in iFrom) iNow[p] = this.parent(iFrom[p], iTo[p], delta);
		}

		return now;
	},

	set: function(now){
		for (var i in now){
			if (!this.elements[i]) continue;

			var iNow = now[i];
			for (var p in iNow) this.render(this.elements[i], p, iNow[p], this.options.unit);
		}

		return this;
	},

	start: function(obj){
		if (!this.check(obj)) return this;
		var from = {}, to = {};

		for (var i in obj){
			if (!this.elements[i]) continue;

			var iProps = obj[i], iFrom = from[i] = {}, iTo = to[i] = {};

			for (var p in iProps){
				var parsed = this.prepare(this.elements[i], p, iProps[p]);
				iFrom[p] = parsed.from;
				iTo[p] = parsed.to;
			}
		}

		return this.parent(from, to);
	}

});


// Begin: Source/Fx/Fx.Accordion.js
/*
---

script: Fx.Accordion.js

name: Fx.Accordion

description: An Fx.Elements extension which allows you to easily create accordion type controls.

license: MIT-style license

authors:
  - Valerio Proietti

requires:
  - Core/Element.Event
  - /Fx.Elements

provides: [Fx.Accordion]

...
*/

Fx.Accordion = new Class({

	Extends: Fx.Elements,

	options: {/*
		onActive: function(toggler, section){},
		onBackground: function(toggler, section){},*/
		fixedHeight: false,
		fixedWidth: false,
		display: 0,
		show: false,
		height: true,
		width: false,
		opacity: true,
		alwaysHide: false,
		trigger: 'click',
		initialDisplayFx: true,
		resetHeight: true
	},

	initialize: function(){
		var defined = function(obj){
			return obj != null;
		};

		var params = Array.link(arguments, {
			'container': Type.isElement, //deprecated
			'options': Type.isObject,
			'togglers': defined,
			'elements': defined
		});
		this.parent(params.elements, params.options);

		var options = this.options,
			togglers = this.togglers = $$(params.togglers);

		this.previous = -1;
		this.internalChain = new Chain();

		if (options.alwaysHide) this.options.link = 'chain';

		if (options.show || this.options.show === 0){
			options.display = false;
			this.previous = options.show;
		}

		if (options.start){
			options.display = false;
			options.show = false;
		}

		var effects = this.effects = {};

		if (options.opacity) effects.opacity = 'fullOpacity';
		if (options.width) effects.width = options.fixedWidth ? 'fullWidth' : 'offsetWidth';
		if (options.height) effects.height = options.fixedHeight ? 'fullHeight' : 'scrollHeight';

		for (var i = 0, l = togglers.length; i < l; i++) this.addSection(togglers[i], this.elements[i]);

		this.elements.each(function(el, i){
			if (options.show === i){
				this.fireEvent('active', [togglers[i], el]);
			} else {
				for (var fx in effects) el.setStyle(fx, 0);
			}
		}, this);

		if (options.display || options.display === 0 || options.initialDisplayFx === false){
			this.display(options.display, options.initialDisplayFx);
		}

		if (options.fixedHeight !== false) options.resetHeight = false;
		this.addEvent('complete', this.internalChain.callChain.bind(this.internalChain));
	},

	addSection: function(toggler, element){
		toggler = document.id(toggler);
		element = document.id(element);
		this.togglers.include(toggler);
		this.elements.include(element);

		var togglers = this.togglers,
			options = this.options,
			test = togglers.contains(toggler),
			idx = togglers.indexOf(toggler),
			displayer = this.display.pass(idx, this);

		toggler.store('accordion:display', displayer)
			.addEvent(options.trigger, displayer);

		if (options.height) element.setStyles({'padding-top': 0, 'border-top': 'none', 'padding-bottom': 0, 'border-bottom': 'none'});
		if (options.width) element.setStyles({'padding-left': 0, 'border-left': 'none', 'padding-right': 0, 'border-right': 'none'});

		element.fullOpacity = 1;
		if (options.fixedWidth) element.fullWidth = options.fixedWidth;
		if (options.fixedHeight) element.fullHeight = options.fixedHeight;
		element.setStyle('overflow', 'hidden');

		if (!test) for (var fx in this.effects){
			element.setStyle(fx, 0);
		}
		return this;
	},

	removeSection: function(toggler, displayIndex){
		var togglers = this.togglers,
			idx = togglers.indexOf(toggler),
			element = this.elements[idx];

		var remover = function(){
			togglers.erase(toggler);
			this.elements.erase(element);
			this.detach(toggler);
		}.bind(this);

		if (this.now == idx || displayIndex != null){
			this.display(displayIndex != null ? displayIndex : (idx - 1 >= 0 ? idx - 1 : 0)).chain(remover);
		} else {
			remover();
		}
		return this;
	},

	detach: function(toggler){
		var remove = function(toggler){
			toggler.removeEvent(this.options.trigger, toggler.retrieve('accordion:display'));
		}.bind(this);

		if (!toggler) this.togglers.each(remove);
		else remove(toggler);
		return this;
	},

	display: function(index, useFx){
		if (!this.check(index, useFx)) return this;

		var obj = {},
			elements = this.elements,
			options = this.options,
			effects = this.effects;

		if (useFx == null) useFx = true;
		if (typeOf(index) == 'element') index = elements.indexOf(index);
		if (index == this.previous && !options.alwaysHide) return this;

		if (options.resetHeight){
			var prev = elements[this.previous];
			if (prev && !this.selfHidden){
				for (var fx in effects) prev.setStyle(fx, prev[effects[fx]]);
			}
		}

		if ((this.timer && options.link == 'chain') || (index === this.previous && !options.alwaysHide)) return this;

		this.previous = index;
		this.selfHidden = false;

		elements.each(function(el, i){
			obj[i] = {};
			var hide;
			if (i != index){
				hide = true;
			} else if (options.alwaysHide && ((el.offsetHeight > 0 && options.height) || el.offsetWidth > 0 && options.width)){
				hide = true;
				this.selfHidden = true;
			}
			this.fireEvent(hide ? 'background' : 'active', [this.togglers[i], el]);
			for (var fx in effects) obj[i][fx] = hide ? 0 : el[effects[fx]];
			if (!useFx && !hide && options.resetHeight) obj[i].height = 'auto';
		}, this);

		this.internalChain.clearChain();
		this.internalChain.chain(function(){
			if (options.resetHeight && !this.selfHidden){
				var el = elements[index];
				if (el) el.setStyle('height', 'auto');
			}
		}.bind(this));

		return useFx ? this.start(obj) : this.set(obj).internalChain.callChain();
	}

});

/*<1.2compat>*/
/*
	Compatibility with 1.2.0
*/
var Accordion = new Class({

	Extends: Fx.Accordion,

	initialize: function(){
		this.parent.apply(this, arguments);
		var params = Array.link(arguments, {'container': Type.isElement});
		this.container = params.container;
	},

	addSection: function(toggler, element, pos){
		toggler = document.id(toggler);
		element = document.id(element);

		var test = this.togglers.contains(toggler);
		var len = this.togglers.length;
		if (len && (!test || pos)){
			pos = pos != null ? pos : len - 1;
			toggler.inject(this.togglers[pos], 'before');
			element.inject(toggler, 'after');
		} else if (this.container && !test){
			toggler.inject(this.container);
			element.inject(this.container);
		}
		return this.parent.apply(this, arguments);
	}

});
/*</1.2compat>*/


// Begin: Source/Types/Hash.js
/*
---

name: Hash

description: Contains Hash Prototypes. Provides a means for overcoming the JavaScript practical impossibility of extending native Objects.

license: MIT-style license.

requires:
  - Core/Object
  - /MooTools.More

provides: [Hash]

...
*/

(function(){

if (this.Hash) return;

var Hash = this.Hash = new Type('Hash', function(object){
	if (typeOf(object) == 'hash') object = Object.clone(object.getClean());
	for (var key in object) this[key] = object[key];
	return this;
});

this.$H = function(object){
	return new Hash(object);
};

Hash.implement({

	forEach: function(fn, bind){
		Object.forEach(this, fn, bind);
	},

	getClean: function(){
		var clean = {};
		for (var key in this){
			if (this.hasOwnProperty(key)) clean[key] = this[key];
		}
		return clean;
	},

	getLength: function(){
		var length = 0;
		for (var key in this){
			if (this.hasOwnProperty(key)) length++;
		}
		return length;
	}

});

Hash.alias('each', 'forEach');

Hash.implement({

	has: Object.prototype.hasOwnProperty,

	keyOf: function(value){
		return Object.keyOf(this, value);
	},

	hasValue: function(value){
		return Object.contains(this, value);
	},

	extend: function(properties){
		Hash.each(properties || {}, function(value, key){
			Hash.set(this, key, value);
		}, this);
		return this;
	},

	combine: function(properties){
		Hash.each(properties || {}, function(value, key){
			Hash.include(this, key, value);
		}, this);
		return this;
	},

	erase: function(key){
		if (this.hasOwnProperty(key)) delete this[key];
		return this;
	},

	get: function(key){
		return (this.hasOwnProperty(key)) ? this[key] : null;
	},

	set: function(key, value){
		if (!this[key] || this.hasOwnProperty(key)) this[key] = value;
		return this;
	},

	empty: function(){
		Hash.each(this, function(value, key){
			delete this[key];
		}, this);
		return this;
	},

	include: function(key, value){
		if (this[key] == undefined) this[key] = value;
		return this;
	},

	map: function(fn, bind){
		return new Hash(Object.map(this, fn, bind));
	},

	filter: function(fn, bind){
		return new Hash(Object.filter(this, fn, bind));
	},

	every: function(fn, bind){
		return Object.every(this, fn, bind);
	},

	some: function(fn, bind){
		return Object.some(this, fn, bind);
	},

	getKeys: function(){
		return Object.keys(this);
	},

	getValues: function(){
		return Object.values(this);
	},

	toQueryString: function(base){
		return Object.toQueryString(this, base);
	}

});

Hash.alias({indexOf: 'keyOf', contains: 'hasValue'});


})();



// Begin: Source/Utilities/Hash.Cookie.js
/*
---

script: Hash.Cookie.js

name: Hash.Cookie

description: Class for creating, reading, and deleting Cookies in JSON format.

license: MIT-style license

authors:
  - Valerio Proietti
  - Aaron Newton

requires:
  - Core/Cookie
  - Core/JSON
  - /MooTools.More
  - /Hash

provides: [Hash.Cookie]

...
*/

Hash.Cookie = new Class({

	Extends: Cookie,

	options: {
		autoSave: true
	},

	initialize: function(name, options){
		this.parent(name, options);
		this.load();
	},

	save: function(){
		var value = JSON.encode(this.hash);
		if (!value || value.length > 4096) return false; //cookie would be truncated!
		if (value == '{}') this.dispose();
		else this.write(value);
		return true;
	},

	load: function(){
		this.hash = new Hash(JSON.decode(this.read(), true));
		return this;
	}

});

Hash.each(Hash.prototype, function(method, name){
	if (typeof method == 'function') Hash.Cookie.implement(name, function(){
		var value = method.apply(this.hash, arguments);
		if (this.options.autoSave) this.save();
		return value;
	});
});


// Begin: Source/Utilities/Assets.js
/*
---

script: Assets.js

name: Assets

description: Provides methods to dynamically load JavaScript, CSS, and Image files into the document.

license: MIT-style license

authors:
  - Valerio Proietti

requires:
  - Core/Element.Event
  - /MooTools.More

provides: [Assets]

...
*/

var Asset = {

	javascript: function(source, properties){
		if (!properties) properties = {};

		var script = new Element('script', {src: source, type: 'text/javascript'}),
			doc = properties.document || document,
			load = properties.onload || properties.onLoad;

		delete properties.onload;
		delete properties.onLoad;
		delete properties.document;

		if (load){
			if (!script.addEventListener){
				script.addEvent('readystatechange', function(){
					if (['loaded', 'complete'].contains(this.readyState)) load.call(this);
				});
			} else {
				script.addEvent('load', load);
			}
		}

		return script.set(properties).inject(doc.head);
	},

	css: function(source, properties){
		if (!properties) properties = {};

		var link = new Element('link', {
			rel: 'stylesheet',
			media: 'screen',
			type: 'text/css',
			href: source
		});

		var load = properties.onload || properties.onLoad,
			doc = properties.document || document;

		delete properties.onload;
		delete properties.onLoad;
		delete properties.document;

		if (load) link.addEvent('load', load);
		return link.set(properties).inject(doc.head);
	},

	image: function(source, properties){
		if (!properties) properties = {};

		var image = new Image(),
			element = document.id(image) || new Element('img');

		['load', 'abort', 'error'].each(function(name){
			var type = 'on' + name,
				cap = 'on' + name.capitalize(),
				event = properties[type] || properties[cap] || function(){};

			delete properties[cap];
			delete properties[type];

			image[type] = function(){
				if (!image) return;
				if (!element.parentNode){
					element.width = image.width;
					element.height = image.height;
				}
				image = image.onload = image.onabort = image.onerror = null;
				event.delay(1, element, element);
				element.fireEvent(name, element, 1);
			};
		});

		image.src = element.src = source;
		if (image && image.complete) image.onload.delay(1);
		return element.set(properties);
	},

	images: function(sources, options){
		sources = Array.from(sources);

		var fn = function(){},
			counter = 0;

		options = Object.merge({
			onComplete: fn,
			onProgress: fn,
			onError: fn,
			properties: {}
		}, options);

		return new Elements(sources.map(function(source, index){
			return Asset.image(source, Object.append(options.properties, {
				onload: function(){
					counter++;
					options.onProgress.call(this, counter, index, source);
					if (counter == sources.length) options.onComplete();
				},
				onerror: function(){
					counter++;
					options.onError.call(this, counter, index, source);
					if (counter == sources.length) options.onComplete();
				}
			}));
		}));
	}

};


// Begin: Source/Interface/Spinner.js
/*
---

script: Spinner.js

name: Spinner

description: Adds a semi-transparent overlay over a dom element with a spinnin ajax icon.

license: MIT-style license

authors:
  - Aaron Newton

requires:
  - Core/Fx.Tween
  - Core/Request
  - /Class.refactor
  - /Mask

provides: [Spinner]

...
*/

var Spinner = new Class({

	Extends: Mask,

	Implements: Chain,

	options: {/*
		message: false,*/
		'class': 'spinner',
		containerPosition: {},
		content: {
			'class': 'spinner-content'
		},
		messageContainer: {
			'class': 'spinner-msg'
		},
		img: {
			'class': 'spinner-img'
		},
		fxOptions: {
			link: 'chain'
		}
	},

	initialize: function(target, options){
		this.target = document.id(target) || document.id(document.body);
		this.target.store('spinner', this);
		this.setOptions(options);
		this.render();
		this.inject();

		// Add this to events for when noFx is true; parent methods handle hide/show.
		var deactivate = function(){ this.active = false; }.bind(this);
		this.addEvents({
			hide: deactivate,
			show: deactivate
		});
	},

	render: function(){
		this.parent();

		this.element.set('id', this.options.id || 'spinner-' + String.uniqueID());

		this.content = document.id(this.options.content) || new Element('div', this.options.content);
		this.content.inject(this.element);

		if (this.options.message){
			this.msg = document.id(this.options.message) || new Element('p', this.options.messageContainer).appendText(this.options.message);
			this.msg.inject(this.content);
		}

		if (this.options.img){
			this.img = document.id(this.options.img) || new Element('div', this.options.img);
			this.img.inject(this.content);
		}

		this.element.set('tween', this.options.fxOptions);
	},

	show: function(noFx){
		if (this.active) return this.chain(this.show.bind(this));
		if (!this.hidden){
			this.callChain.delay(20, this);
			return this;
		}

		this.active = true;

		return this.parent(noFx);
	},

	showMask: function(noFx){
		var pos = function(){
			this.content.position(Object.merge({
				relativeTo: this.element
			}, this.options.containerPosition));
		}.bind(this);

		if (noFx){
			this.parent();
			pos();
		} else {
			if (!this.options.style.opacity) this.options.style.opacity = this.element.getStyle('opacity').toFloat();
			this.element.setStyles({
				display: 'block',
				opacity: 0
			}).tween('opacity', this.options.style.opacity);
			pos();
			this.hidden = false;
			this.fireEvent('show');
			this.callChain();
		}
	},

	hide: function(noFx){
		if (this.active) return this.chain(this.hide.bind(this));
		if (this.hidden){
			this.callChain.delay(20, this);
			return this;
		}
		this.active = true;
		return this.parent(noFx);
	},

	hideMask: function(noFx){
		if (noFx) return this.parent();
		this.element.tween('opacity', 0).get('tween').chain(function(){
			this.element.setStyle('display', 'none');
			this.hidden = true;
			this.fireEvent('hide');
			this.callChain();
		}.bind(this));
	},

	destroy: function(){
		this.content.destroy();
		this.parent();
		this.target.eliminate('spinner');
	}

});

Request = Class.refactor(Request, {

	options: {
		useSpinner: false,
		spinnerOptions: {},
		spinnerTarget: false
	},

	initialize: function(options){
		this._send = this.send;
		this.send = function(options){
			var spinner = this.getSpinner();
			if (spinner) spinner.chain(this._send.pass(options, this)).show();
			else this._send(options);
			return this;
		};
		this.previous(options);
	},

	getSpinner: function(){
		if (!this.spinner){
			var update = document.id(this.options.spinnerTarget) || document.id(this.options.update);
			if (this.options.useSpinner && update){
				update.set('spinner', this.options.spinnerOptions);
				var spinner = this.spinner = update.get('spinner');
				['complete', 'exception', 'cancel'].each(function(event){
					this.addEvent(event, spinner.hide.bind(spinner));
				}, this);
			}
		}
		return this.spinner;
	}

});

Element.Properties.spinner = {

	set: function(options){
		var spinner = this.retrieve('spinner');
		if (spinner) spinner.destroy();
		return this.eliminate('spinner').store('spinner:options', options);
	},

	get: function(){
		var spinner = this.retrieve('spinner');
		if (!spinner){
			spinner = new Spinner(this, this.retrieve('spinner:options'));
			this.store('spinner', spinner);
		}
		return spinner;
	}

};

Element.implement({

	spin: function(options){
		if (options) this.set('spinner', options);
		this.get('spinner').show();
		return this;
	},

	unspin: function(){
		this.get('spinner').hide();
		return this;
	}

});


// Begin: Source/Fx/Fx.Slide.js
/*
---

script: Fx.Slide.js

name: Fx.Slide

description: Effect to slide an element in and out of view.

license: MIT-style license

authors:
  - Valerio Proietti

requires:
  - Core/Fx
  - Core/Element.Style
  - /MooTools.More

provides: [Fx.Slide]

...
*/

Fx.Slide = new Class({

	Extends: Fx,

	options: {
		mode: 'vertical',
		wrapper: false,
		hideOverflow: true,
		resetHeight: false
	},

	initialize: function(element, options){
		element = this.element = this.subject = document.id(element);
		this.parent(options);
		options = this.options;

		var wrapper = element.retrieve('wrapper'),
			styles = element.getStyles('margin', 'position', 'overflow');

		if (options.hideOverflow) styles = Object.append(styles, {overflow: 'hidden'});
		if (options.wrapper) wrapper = document.id(options.wrapper).setStyles(styles);

		if (!wrapper) wrapper = new Element('div', {
			styles: styles
		}).wraps(element);

		element.store('wrapper', wrapper).setStyle('margin', 0);
		if (element.getStyle('overflow') == 'visible') element.setStyle('overflow', 'hidden');

		this.now = [];
		this.open = true;
		this.wrapper = wrapper;

		this.addEvent('complete', function(){
			this.open = (wrapper['offset' + this.layout.capitalize()] != 0);
			if (this.open && this.options.resetHeight) wrapper.setStyle('height', '');
		}, true);
	},

	vertical: function(){
		this.margin = 'margin-top';
		this.layout = 'height';
		this.offset = this.element.offsetHeight;
	},

	horizontal: function(){
		this.margin = 'margin-left';
		this.layout = 'width';
		this.offset = this.element.offsetWidth;
	},

	set: function(now){
		this.element.setStyle(this.margin, now[0]);
		this.wrapper.setStyle(this.layout, now[1]);
		return this;
	},

	compute: function(from, to, delta){
		return [0, 1].map(function(i){
			return Fx.compute(from[i], to[i], delta);
		});
	},

	start: function(how, mode){
		if (!this.check(how, mode)) return this;
		this[mode || this.options.mode]();

		var margin = this.element.getStyle(this.margin).toInt(),
			layout = this.wrapper.getStyle(this.layout).toInt(),
			caseIn = [[margin, layout], [0, this.offset]],
			caseOut = [[margin, layout], [-this.offset, 0]],
			start;

		switch (how){
			case 'in': start = caseIn; break;
			case 'out': start = caseOut; break;
			case 'toggle': start = (layout == 0) ? caseIn : caseOut;
		}
		return this.parent(start[0], start[1]);
	},

	slideIn: function(mode){
		return this.start('in', mode);
	},

	slideOut: function(mode){
		return this.start('out', mode);
	},

	hide: function(mode){
		this[mode || this.options.mode]();
		this.open = false;
		return this.set([-this.offset, 0]);
	},

	show: function(mode){
		this[mode || this.options.mode]();
		this.open = true;
		return this.set([0, this.offset]);
	},

	toggle: function(mode){
		return this.start('toggle', mode);
	}

});

Element.Properties.slide = {

	set: function(options){
		this.get('slide').cancel().setOptions(options);
		return this;
	},

	get: function(){
		var slide = this.retrieve('slide');
		if (!slide){
			slide = new Fx.Slide(this, {link: 'cancel'});
			this.store('slide', slide);
		}
		return slide;
	}

};

Element.implement({

	slide: function(how, mode){
		how = how || 'toggle';
		var slide = this.get('slide'), toggle;
		switch (how){
			case 'hide': slide.hide(mode); break;
			case 'show': slide.show(mode); break;
			case 'toggle':
				var flag = this.retrieve('slide:flag', slide.open);
				slide[flag ? 'slideOut' : 'slideIn'](mode);
				this.store('slide:flag', !flag);
				toggle = true;
			break;
			default: slide.start(how, mode);
		}
		if (!toggle) this.eliminate('slide:flag');
		return this;
	}

});


// Begin: Source/UI/StickyWin.UI.Pointy.js
/*
---
name: StickyWin.UI.Pointy

description: Creates an html holder for in-page popups using a default style - this one including a pointer in the specified direction.

license: MIT-Style License

requires: [More/Element.Shortcuts, More/Element.Position, StickyWin.UI]

provides: [StickyWin.UI.Pointy, StickyWin.UI.pointy]
...
*/
StickyWin.UI.Pointy = new Class({
	Extends: StickyWin.UI,
	options: {
		theme: 'dark',
		themes: {
			dark: {
				bgColor: '#333',
				fgColor: '#ddd',
				imgset: 'dark'
			},
			light: {
				bgColor: '#ccc',
				fgColor: '#333',
				imgset: 'light'
			}
		},
		css: "div.DefaultPointyTip {vertical-align: auto; position: relative;}"+
		"div.DefaultPointyTip * {text-align:left !important}"+
		"div.DefaultPointyTip .pointyWrapper div.body{background: {%bgColor%}; color: {%fgColor%}; left: 0px; right: 0px !important;padding:  0px 10px !important;margin-left: 0px !important;font-family: verdana;font-size: 11px;line-height: 13px;position: relative;}"+
		"div.DefaultPointyTip .pointyWrapper div.top {position: relative;height: 25px; overflow: visible;}"+
		"div.DefaultPointyTip .pointyWrapper div.top_ul{background: url({%baseHref%}{%imgset%}_back.png) top left no-repeat;width: 8px;height: 25px; position: absolute; left: 0px;}"+
		"div.DefaultPointyTip .pointyWrapper div.top_ur{background: url({%baseHref%}{%imgset%}_back.png) top right !important;margin: 0 0 0 8px !important;height: 25px;position: relative;left: 0px !important;padding: 0;}"+
		"div.DefaultPointyTip .pointyWrapper h1.caption{color: {%fgColor%};left: 0px !important;top: 4px !important;clear: none !important;overflow: hidden;font-weight: 700;font-size: 12px !important;position: relative;float: left;height: 22px !important;margin: 0 !important;padding: 0 !important;}"+
		"div.DefaultPointyTip .pointyWrapper div.middle, div.DefaultPointyTip .pointyWrapper div.closeBody{background:  {%bgColor%};margin: 0 0px 0 0 !important;position: relative;top: 0 !important;}"+
		"div.DefaultPointyTip .pointyWrapper div.middle {min-height: 16px; background:  {%bgColor%};margin: 0 0px 0 0 !important;position: relative;top: 0 !important;}"+
		"div.DefaultPointyTip .pointyWrapper div.bottom {clear: both; width: 100% !important; background: none; height: 6px} "+
		"div.DefaultPointyTip .pointyWrapper div.bottom_ll{font-size:1; background: url({%baseHref%}{%imgset%}_back.png) bottom left no-repeat;width: 6px;height: 6px;position: absolute; left: 0px;}"+
		"div.DefaultPointyTip .pointyWrapper div.bottom_lr{font-size:1; background: url({%baseHref%}{%imgset%}_back.png) bottom right;height: 6px;margin: 0 0 0 6px !important;position: relative;left: 0 !important;}"+
		"div.DefaultPointyTip .pointyWrapper div.noCaption{ height: 6px; overflow: hidden}"+
		"div.DefaultPointyTip .pointyWrapper div.closeButton{width:13px; height:13px; background:url({%baseHref%}{%imgset%}_x.png) no-repeat; position: absolute; right: 0px; margin:0px !important; cursor:pointer; z-index: 1; top: 4px;}"+
		"div.DefaultPointyTip .pointyWrapper div.pointyDivot {background: url({%divot%}) no-repeat;}",
		divot: '{%baseHref%}{%imgset%}_divot.png',
		divotSize: 22,
		direction: 12,
		cssId: 'defaultPointyTipStyle',
		cssClassName: 'DefaultPointyTip'
	},
	initialize: function() {
		var args = this.getArgs(arguments);
		this.setOptions(args.options);
		Object.append(this.options, this.options.themes[this.options.theme]);
		this.options.baseHref = this.options.baseHref || Clientcide.assetLocation + '/PointyTip/';
		this.options.divot = this.options.divot.substitute(this.options, /\\?\{%([^}]+)%\}/g);
		if (Browser.ie) this.options.divot = this.options.divot.replace(/png/g, 'gif');
		this.options.css = this.options.css.substitute(this.options, /\\?\{%([^}]+)%\}/g);
		if (args.options && args.options.theme) {
			while (!this.id) {
				var id = Number.random(0, 999999999);
				if (!StickyWin.UI.Pointy[id]) {
					StickyWin.UI.Pointy[id] = this;
					this.id = id;
				}
			}
			this.options.css = this.options.css.replace(/div\.DefaultPointyTip/g, "div#pointy_"+this.id);
			this.options.cssId = "pointyTipStyle_" + this.id;
		}
		if (typeOf(this.options.direction) == 'string') {
			var map = {
				left: 9,
				right: 3,
				up: 12,
				down: 6
			};
			this.options.direction = map[this.options.direction];
		}

		this.parent(args.caption, args.body, this.options);
		if (this.id) document.id(this).set('id', "pointy_"+this.id);
	},
	build: function(){
		this.parent();
		var opt = this.options;
		this.pointyWrapper = new Element('div', {
			'class': 'pointyWrapper'
		}).inject(document.id(this));
		document.id(this).getChildren().each(function(el){
			if (el != this.pointyWrapper) this.pointyWrapper.grab(el);
		}, this);

		var w = opt.divotSize;
		var h = w;
		var left = (opt.width.toInt() - opt.divotSize)/2;
		var orient = function(){
			switch(opt.direction) {
				case 12: case 1: case 11:
					return {
						height: h/2
					};
				case 5: case 6: case 7:
					return {
						height: h/2,
						backgroundPosition: '0 -'+h/2+'px'
					};
				case 8: case 9: case 10:
					return {
						width: w/2
					};
				case 2: case 3: case 4:
					return {
						width: w/2,
						backgroundPosition: '100%'
					};
			};
		};
		this.pointer = new Element('div', {
			styles: Object.append({
				width: w,
				height: h,
				overflow: 'hidden'
			}, orient()),
			'class': 'pointyDivot pointy_'+opt.direction
		}).inject(this.pointyWrapper);
	},
	expose: function(){
		if (document.id(this).getStyle('display') != 'none' &&
		  document.body != document.id(this) &&
		  document.id(document.body).contains(document.id(this))) return function(){};
		document.id(this).setStyles({
			visibility: 'hidden',
			position: 'absolute'
		});
		var dispose;
		if (document.body != document.id(this) && !document.body.contains(document.id(this))) {
			document.id(this).inject(document.body);
			dispose = true;
		}
		return (function(){
			if (dispose) document.id(this).dispose();
			document.id(this).setStyles({
				visibility: 'visible',
				position: 'relative'
			});
		}).bind(this);
	},
	positionPointer: function(options){
		if (!this.pointer) return;
		var opt = options || this.options;
		var pos;
		var d = opt.direction;
		switch (d){
			case 12: case 1: case 11:
				pos = {
					edge: {x: 'center', y: 'bottom'},
					position: {
						x: d==12?'center':d==1?'right':'left',
						y: 'top'
					},
					offset: {
						x: (d==12?0:d==1?-1:1)*opt.divotSize,
						y: 1
					}
				};
				break;
			case 2: case 3: case 4:
				pos = {
					edge: {x: 'left', y: 'center'},
					position: {
						x: 'right',
						y: d==3?'center':d==2?'top':'bottom'
					},
					offset: {
						x: -1,
						y: (d==3?0:d==4?-1:1)*opt.divotSize
					}
				};
				break;
			case 5: case 6: case 7:
				pos = {
					edge: {x: 'center', y: 'top'},
					position: {
						x: d==6?'center':d==5?'right':'left',
						y: 'bottom'
					},
					offset: {
						x: (d==6?0:d==5?-1:1)*opt.divotSize,
						y: -1
					}
				};
				break;
			case 8: case 9: case 10:
				pos = {
					edge: {x: 'right', y: 'center'},
					position: {
						x: 'left',
						y: d==9?'center':d==10?'top':'bottom'
					},
					offset: {
						x: 1,
						y: (d==9?0:d==8?-1:1)*opt.divotSize
					}
				};
				break;
		};
		var putItBack = this.expose();
		this.pointer.position(Object.append({
			relativeTo: this.pointyWrapper,
			allowNegative: true
		}, pos, options));
		putItBack();
	},
	setContent: function(a1, a2){
		this.parent(a1, a2);
		this.top[this.h1?'removeClass':'addClass']('noCaption');
		if (Browser.ie) document.id(this).getElements('.bottom_ll, .bottom_lr').setStyle('font-size', 1); //IE6 bullshit
		if (this.options.closeButton) this.body.setStyle('margin-right', 6);
		this.positionPointer();
		return this;
	},
	makeCaption: function(caption){
		this.parent(caption);
		if (this.options.width && this.h1) this.h1.setStyle('width', (this.options.width.toInt()-(this.options.closeButton?25:15)));
	}
});

StickyWin.UI.pointy = function(caption, body, options){
	return document.id(new StickyWin.UI.Pointy(caption, body, options));
};
StickyWin.ui.pointy = StickyWin.UI.pointy;

// Begin: Source/UI/StickyWin.PointyTip.js
/*
---
name: StickyWin.PointyTip

description: Positions a pointy tip relative to the element you specify.

license: MIT-Style License

requires: StickyWin.UI.Pointy

provides: StickyWin.PointyTip

...
*/
StickyWin.PointyTip = new Class({
	Extends: StickyWin,
	options: {
		point: "left",
		pointyOptions: {}
	},
	initialize: function(){
		var args = this.getArgs(arguments);
		this.setOptions(args.options);
		var popts = this.options.pointyOptions;
		var d = popts.direction;
		if (!d) {
			var map = {
				left: 9,
				right: 3,
				up: 12,
				down: 6
			};
			d = map[this.options.point];
			if (!d) d = this.options.point;
			popts.direction = d;
		}
		if (!popts.width) popts.width = this.options.width;
		this.pointy = new StickyWin.UI.Pointy(args.caption, args.body, popts);
		this.options.content = null;
		this.setOptions(args.options, this.getPositionSettings());
		this.parent(this.options);
		this.win.empty().adopt(document.id(this.pointy));
		this.attachHandlers(this.win);
		if (this.options.showNow) this.position();
	},
	getArgs: function(){
		return StickyWin.UI.getArgs.apply(this, arguments);
	},
	getPositionSettings: function(){
		var s = this.pointy.options.divotSize;
		var d = this.options.point;
		var offset = this.options.offset || {};
		switch(d) {
			case "left": case 8: case 9: case 10:
				return {
					edge: {
						x: 'left',
						y: d==10?'top':d==8?'bottom':'center'
					},
					position: {x: 'right', y: 'center'},
					offset: {
						x: s + (offset.x || 0),
						y: offset.y || 0
					}
				};
			case "right": case 2:  case 3: case 4:
				return {
					edge: {
						x: 'right',
						y: (d==2?'top':d==4?'bottom':'center') + (offset.y || 0)
					},
					position: {x: 'left', y: 'center'},
					offset: {
						x: -s + (offset.x || 0),
						y: offset.y || 0
					}
				};
			case "up": case 11: case 12: case 1:
				return {
					edge: {
						x: d==11?'left':d==1?'right':'center',
						y: 'top'
					},
					position: {	x: 'center', y: 'bottom' },
					offset: {
						y: s + (offset.y || 0),
						x: (d==11?-s:d==1?s:0) + (offset.x || 0)
					}
				};
			case "down": case 5: case 6: case 7:
				return {
					edge: {
						x: (d==7?'left':d==5?'right':'center') + (offset.x || 0),
						y: 'bottom'
					},
					position: {x: 'center', y: 'top'},
					offset: {
						y: -s + (offset.y || 0),
						x: (d==7?-s:d==5?s:0) + (offset.x || 0)
					}
				};
		};
	},
	setContent: function() {
		var args = this.getArgs(arguments);
		this.pointy.setContent(args.caption, args.body);
		[this.pointy.h1, this.pointy.body].each(this.attachHandlers, this);
		if (this.visible) this.position();
		return this;
	},
	showWin: function(){
		this.parent();
		this.pointy.positionPointer();
	},
	position: function(options){
		this.parent(options);
		this.pointy.positionPointer();
	},
	attachHandlers: function(content) {
		if (!content) return;
		content.getElements('.'+this.options.closeClassName).addEvent('click', function(){ this.hide(); }.bind(this));
		content.getElements('.'+this.options.pinClassName).addEvent('click', function(){ this.togglepin(); }.bind(this));
	}
});

// Begin: Source/UI/StickyWin.Ajax.js
/*
---

name: StickyWin.Ajax

description: Adds ajax functionality to all the StickyWin classes.

license: MIT-Style License

requires: [Core/Request, StickyWin, StickyWin.UI, StickyWin.PointyTip]

provides: [StickyWin.Ajax, StickyWin.Modal.Ajax, StickyWin.PointyTip.Ajax]

...
*/
(function(){
	var SWA = function(extend){
		return {
			Extends: extend,
			options: {
				//onUpdate: function(){},
				url: '',
				showNow: false,
				cacheRequest: false,
				requestOptions: {
					method: 'get',
					evalScripts: true
				},
				wrapWithUi: false,
				caption: '',
				uiOptions:{},
				cacheRequest: false,
				handleResponse: function(response){
					if(this.options.cacheRequest) {
						this.element.store(this.Request.options.url, response);
					}
					var responseScript = "";
					this.Request.response.text.stripScripts(function(script){	responseScript += script; });
					if (this.options.wrapWithUi) response = StickyWin.ui(this.options.caption, response, this.options.uiOptions);
					this.setContent(response);
					this.show();
					if (this.evalScripts) Browser.exec(responseScript);
					this.fireEvent('update');
				}
			},
			initialize: function(options){
				var showNow;
				if (options && options.showNow) {
					showNow = true;
					options.showNow = false;
				}
				this.parent(options);
				this.evalScripts = this.options.requestOptions.evalScripts;
				this.options.requestOptions.evalScripts = false;
				this.createRequest();
				if (showNow) this.update();
			},
			createRequest: function(){
				this.Request = new Request(this.options.requestOptions).addEvent('onSuccess',
					this.options.handleResponse.bind(this));
			},
			update: function(url, options){
				this.Request.options.url = url || options.url;
				var cachedResponse;
				if(this.options.cacheRequest) {
					cachedResponse = this.element.retrieve(url);
				}
				if(!cachedResponse) {
					this.Request.setOptions(options).send({url: url||this.options.url});
					return this;
				} else {
					this.Request.fireEvent('onSuccess', cachedResponse);
					return this;
				}
			}
		};
	};
	try { StickyWin.Ajax = new Class(SWA(StickyWin)); } catch(e){}
	try { StickyWin.Modal.Ajax = new Class(SWA(StickyWin.Modal)); } catch(e){}
	try { StickyWin.PointyTip.Ajax = new Class(SWA(StickyWin.PointyTip)); } catch(e){}
})();

// Begin: Source/Layout/MultipleOpenAccordion.js
/*
---
name: MultipleOpenAccordion

description: Creates a Mootools Fx.Accordion that allows the user to open more than one element.

license: MIT-Style License

requires: [Core/Element.Event, More/Fx.Reveal]

provides: MultipleOpenAccordion

...
*/
var MultipleOpenAccordion = new Class({
	Implements: [Options, Events, Chain],
	options: {
		togglers: [],
		elements: [],
		openAll: false,
		firstElementsOpen: [0],
		fixedHeight: null,
		fixedWidth: null,
		height: true,
		opacity: true,
		width: false
		//onActive: function(){},
		//onBackground: function(){}
	},
	togglers: [],
	elements: [],
	initialize: function(options){
		var args = Array.link(arguments, {options: Type.isObject, elements: Type.isElements});
		this.setOptions(args.options);
		elements = $$(this.options.elements);
		$$(this.options.togglers).each(function(toggler, idx){
			this.addSection(toggler, elements[idx], idx);
		}, this);
		if (this.togglers.length) {
			if (this.options.openAll) this.showAll();
			else this.toggleSections(this.options.firstElementsOpen, false, true);
		}
		this.openSections = this.showSections.bind(this);
		this.closeSections = this.hideSections.bind(this);
	},
	addSection: function(toggler, element){
		toggler = document.id(toggler);
		element = document.id(element);
		var test = this.togglers.contains(toggler);
		var len = this.togglers.length;
		this.togglers.include(toggler);
		this.elements.include(element);
		var idx = this.togglers.indexOf(toggler);
		var displayer = this.toggleSection.bind(this, idx);
		toggler.addEvent('click', displayer).store('multipleOpenAccordion:display', displayer);
		var mode;
		if (this.options.height && this.options.width) mode = "both";
		else mode = (this.options.height)?"vertical":"horizontal";
		element.store('moa:reveal', new Fx.Reveal(element, {
			transitionOpacity: this.options.opacity,
			mode: mode,
			heightOverride: this.options.fixedHeight,
			widthOverride: this.options.fixedWidth
		}));
		return this;
	},
	removeSection: function(toggler) {
		var idx = this.togglers.indexOf(toggler);
		var element = this.elements[idx];
		element.dissolve();
		this.togglers.erase(toggler);
		this.elements.erase(element);
		this.detach(toggler);
		return this;
	},
	detach: function(toggler){
		var remove = function(toggler) {
			toggler.removeEvent(this.options.trigger, toggler.retrieve('multipleOpenAccordion:display'));
		}.bind(this);
		if (!toggler) this.togglers.each(remove);
		else remove(toggler);
		return this;
	},
	onComplete: function(idx, callChain){
		this.fireEvent(this.elements[idx].isDisplayed()?'onActive':'onBackground', [this.togglers[idx], this.elements[idx]]);
		this.callChain();
		return this;
	},
	showSection: function(idx, useFx){
		this.toggleSection(idx, useFx, true);
	},
	hideSection: function(idx, useFx){
		this.toggleSection(idx, useFx, false);
	},
	toggleSection: function(idx, useFx, show, callChain){
		var method = show?'reveal':show != null?'dissolve':'toggle';
		callChain = [callChain, true].pick();
		var el = this.elements[idx];
		if (useFx != null ? useFx : true) {
			el.retrieve('moa:reveal')[method]().chain(
				this.onComplete.bind(this, idx, callChain)
			);
		} else {
				if (method == "toggle") el.toggle();
				else el[method == "reveal"?'show':'hide']();
				this.onComplete(idx, callChain);
		}
		return this;
	},
	toggleAll: function(useFx, show){
		var method = show?'reveal':(show!=null)?'disolve':'toggle';
		var last = this.elements.getLast();
		this.elements.each(function(el, idx){
			this.toggleSection(idx, useFx, show, el == last);
		}, this);
		return this;
	},
	toggleSections: function(sections, useFx, show) {
		last = sections.getLast();
		this.elements.each(function(el,idx){
			this.toggleSection(idx, useFx, sections.contains(idx)?show:!show, idx == last);
		}, this);
		return this;
	},
	showSections: function(sections, useFx){
		sections.each(function(i){
			this.showSection(i, useFx);
		}, this);
	},
	hideSections: function(sections, useFx){
		sections.each(function(i){
			this.hideSection(i, useFx);
		}, this);
	},
	showAll: function(useFx){
		return this.toggleAll(useFx, true);
	},
	hideAll: function(useFx){
		return this.toggleAll(useFx, false);
	}
});


‘	HIJK_application/javascript_Bhttp://jsfiddle.net/js/codemirror/lib/codemirror.js?update10082015Oäbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Bhttp://jsfiddle.net/js/codemirror/lib/codemirror.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçà Õ"Ÿ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"55c87ff2-551e0"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/ Q‡_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „(-8AGJS\^`gozÖáâãçèëìïóô§¶®™¨Æ∞≤¥∂∏∫≈“ŸÁÔÙ˘.9RXxò≠Õ“‰ÌÚˇ %9=Q_qtä             o              åO Q‡// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// This is CodeMirror (http://codemirror.net), a code editor
// implemented in JavaScript on top of the browser's DOM.
//
// You can find some technical background for some of the code below
// at http://marijnhaverbeke.nl/blog/#cm-internals .

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    module.exports = mod();
  else if (typeof define == "function" && define.amd) // AMD
    return define([], mod);
  else // Plain browser env
    this.CodeMirror = mod();
})(function() {
  "use strict";

  // BROWSER SNIFFING

  // Kludges for bugs and behavior differences that can't be feature
  // detected are enabled based on userAgent etc sniffing.

  var gecko = /gecko\/\d/i.test(navigator.userAgent);
  var ie_upto10 = /MSIE \d/.test(navigator.userAgent);
  var ie_11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);
  var ie = ie_upto10 || ie_11up;
  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : ie_11up[1]);
  var webkit = /WebKit\//.test(navigator.userAgent);
  var qtwebkit = webkit && /Qt\/\d+\.\d+/.test(navigator.userAgent);
  var chrome = /Chrome\//.test(navigator.userAgent);
  var presto = /Opera\//.test(navigator.userAgent);
  var safari = /Apple Computer/.test(navigator.vendor);
  var mac_geMountainLion = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);
  var phantom = /PhantomJS/.test(navigator.userAgent);

  var ios = /AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent);
  // This is woefully incomplete. Suggestions for alternative methods welcome.
  var mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);
  var mac = ios || /Mac/.test(navigator.platform);
  var windows = /win/i.test(navigator.platform);

  var presto_version = presto && navigator.userAgent.match(/Version\/(\d*\.\d*)/);
  if (presto_version) presto_version = Number(presto_version[1]);
  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }
  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X
  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));
  var captureRightClick = gecko || (ie && ie_version >= 9);

  // Optimize some code when these features are not used.
  var sawReadOnlySpans = false, sawCollapsedSpans = false;

  // EDITOR CONSTRUCTOR

  // A CodeMirror instance represents an editor. This is the object
  // that user code is usually dealing with.

  function CodeMirror(place, options) {
    if (!(this instanceof CodeMirror)) return new CodeMirror(place, options);

    this.options = options = options ? copyObj(options) : {};
    // Determine effective options based on given values and defaults.
    copyObj(defaults, options, false);
    setGuttersForLineNumbers(options);

    var doc = options.value;
    if (typeof doc == "string") doc = new Doc(doc, options.mode, null, options.lineSeparator);
    this.doc = doc;

    var input = new CodeMirror.inputStyles[options.inputStyle](this);
    var display = this.display = new Display(place, doc, input);
    display.wrapper.CodeMirror = this;
    updateGutters(this);
    themeChanged(this);
    if (options.lineWrapping)
      this.display.wrapper.className += " CodeMirror-wrap";
    if (options.autofocus && !mobile) display.input.focus();
    initScrollbars(this);

    this.state = {
      keyMaps: [],  // stores maps added by addKeyMap
      overlays: [], // highlighting overlays, as added by addOverlay
      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info
      overwrite: false,
      delayingBlurEvent: false,
      focused: false,
      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode
      pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll
      draggingText: false,
      highlight: new Delayed(), // stores highlight worker timeout
      keySeq: null,  // Unfinished key sequence
      specialChars: null
    };

    var cm = this;

    // Override magic textarea content restore that IE sometimes does
    // on our hidden textarea on reload
    if (ie && ie_version < 11) setTimeout(function() { cm.display.input.reset(true); }, 20);

    registerEventHandlers(this);
    ensureGlobalHandlers();

    startOperation(this);
    this.curOp.forceUpdate = true;
    attachDoc(this, doc);

    if ((options.autofocus && !mobile) || cm.hasFocus())
      setTimeout(bind(onFocus, this), 20);
    else
      onBlur(this);

    for (var opt in optionHandlers) if (optionHandlers.hasOwnProperty(opt))
      optionHandlers[opt](this, options[opt], Init);
    maybeUpdateLineNumberWidth(this);
    if (options.finishInit) options.finishInit(this);
    for (var i = 0; i < initHooks.length; ++i) initHooks[i](this);
    endOperation(this);
    // Suppress optimizelegibility in Webkit, since it breaks text
    // measuring on line wrapping boundaries.
    if (webkit && options.lineWrapping &&
        getComputedStyle(display.lineDiv).textRendering == "optimizelegibility")
      display.lineDiv.style.textRendering = "auto";
  }

  // DISPLAY CONSTRUCTOR

  // The display handles the DOM integration, both for input reading
  // and content drawing. It holds references to DOM nodes and
  // display-related state.

  function Display(place, doc, input) {
    var d = this;
    this.input = input;

    // Covers bottom-right square when both scrollbars are present.
    d.scrollbarFiller = elt("div", null, "CodeMirror-scrollbar-filler");
    d.scrollbarFiller.setAttribute("cm-not-content", "true");
    // Covers bottom of gutter when coverGutterNextToScrollbar is on
    // and h scrollbar is present.
    d.gutterFiller = elt("div", null, "CodeMirror-gutter-filler");
    d.gutterFiller.setAttribute("cm-not-content", "true");
    // Will contain the actual code, positioned to cover the viewport.
    d.lineDiv = elt("div", null, "CodeMirror-code");
    // Elements are added to these to represent selection and cursors.
    d.selectionDiv = elt("div", null, null, "position: relative; z-index: 1");
    d.cursorDiv = elt("div", null, "CodeMirror-cursors");
    // A visibility: hidden element used to find the size of things.
    d.measure = elt("div", null, "CodeMirror-measure");
    // When lines outside of the viewport are measured, they are drawn in this.
    d.lineMeasure = elt("div", null, "CodeMirror-measure");
    // Wraps everything that needs to exist inside the vertically-padded coordinate system
    d.lineSpace = elt("div", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],
                      null, "position: relative; outline: none");
    // Moved around its parent to cover visible view.
    d.mover = elt("div", [elt("div", [d.lineSpace], "CodeMirror-lines")], null, "position: relative");
    // Set to the height of the document, allowing scrolling.
    d.sizer = elt("div", [d.mover], "CodeMirror-sizer");
    d.sizerWidth = null;
    // Behavior of elts with overflow: auto and padding is
    // inconsistent across browsers. This is used to ensure the
    // scrollable area is big enough.
    d.heightForcer = elt("div", null, null, "position: absolute; height: " + scrollerGap + "px; width: 1px;");
    // Will contain the gutters, if any.
    d.gutters = elt("div", null, "CodeMirror-gutters");
    d.lineGutter = null;
    // Actual scrollable element.
    d.scroller = elt("div", [d.sizer, d.heightForcer, d.gutters], "CodeMirror-scroll");
    d.scroller.setAttribute("tabIndex", "-1");
    // The element in which the editor lives.
    d.wrapper = elt("div", [d.scrollbarFiller, d.gutterFiller, d.scroller], "CodeMirror");

    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)
    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }
    if (!webkit && !(gecko && mobile)) d.scroller.draggable = true;

    if (place) {
      if (place.appendChild) place.appendChild(d.wrapper);
      else place(d.wrapper);
    }

    // Current rendered range (may be bigger than the view window).
    d.viewFrom = d.viewTo = doc.first;
    d.reportedViewFrom = d.reportedViewTo = doc.first;
    // Information about the rendered lines.
    d.view = [];
    d.renderedView = null;
    // Holds info about a single rendered line when it was rendered
    // for measurement, while not in view.
    d.externalMeasured = null;
    // Empty space (in pixels) above the view
    d.viewOffset = 0;
    d.lastWrapHeight = d.lastWrapWidth = 0;
    d.updateLineNumbers = null;

    d.nativeBarWidth = d.barHeight = d.barWidth = 0;
    d.scrollbarsClipped = false;

    // Used to only resize the line number gutter when necessary (when
    // the amount of lines crosses a boundary that makes its width change)
    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;
    // Set to true when a non-horizontal-scrolling line widget is
    // added. As an optimization, line widget aligning is skipped when
    // this is false.
    d.alignWidgets = false;

    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;

    // Tracks the maximum line length so that the horizontal scrollbar
    // can be kept static when scrolling.
    d.maxLine = null;
    d.maxLineLength = 0;
    d.maxLineChanged = false;

    // Used for measuring wheel scrolling granularity
    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;

    // True when shift is held down.
    d.shift = false;

    // Used to track whether anything happened since the context menu
    // was opened.
    d.selForContextMenu = null;

    d.activeTouch = null;

    input.init(d);
  }

  // STATE UPDATES

  // Used to get the editor into a consistent state again when options change.

  function loadMode(cm) {
    cm.doc.mode = CodeMirror.getMode(cm.options, cm.doc.modeOption);
    resetModeState(cm);
  }

  function resetModeState(cm) {
    cm.doc.iter(function(line) {
      if (line.stateAfter) line.stateAfter = null;
      if (line.styles) line.styles = null;
    });
    cm.doc.frontier = cm.doc.first;
    startWorker(cm, 100);
    cm.state.modeGen++;
    if (cm.curOp) regChange(cm);
  }

  function wrappingChanged(cm) {
    if (cm.options.lineWrapping) {
      addClass(cm.display.wrapper, "CodeMirror-wrap");
      cm.display.sizer.style.minWidth = "";
      cm.display.sizerWidth = null;
    } else {
      rmClass(cm.display.wrapper, "CodeMirror-wrap");
      findMaxLine(cm);
    }
    estimateLineHeights(cm);
    regChange(cm);
    clearCaches(cm);
    setTimeout(function(){updateScrollbars(cm);}, 100);
  }

  // Returns a function that estimates the height of a line, to use as
  // first approximation until the line becomes visible (and is thus
  // properly measurable).
  function estimateHeight(cm) {
    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;
    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);
    return function(line) {
      if (lineIsHidden(cm.doc, line)) return 0;

      var widgetsHeight = 0;
      if (line.widgets) for (var i = 0; i < line.widgets.length; i++) {
        if (line.widgets[i].height) widgetsHeight += line.widgets[i].height;
      }

      if (wrapping)
        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;
      else
        return widgetsHeight + th;
    };
  }

  function estimateLineHeights(cm) {
    var doc = cm.doc, est = estimateHeight(cm);
    doc.iter(function(line) {
      var estHeight = est(line);
      if (estHeight != line.height) updateLineHeight(line, estHeight);
    });
  }

  function themeChanged(cm) {
    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") +
      cm.options.theme.replace(/(^|\s)\s*/g, " cm-s-");
    clearCaches(cm);
  }

  function guttersChanged(cm) {
    updateGutters(cm);
    regChange(cm);
    setTimeout(function(){alignHorizontally(cm);}, 20);
  }

  // Rebuild the gutter elements, ensure the margin to the left of the
  // code matches their width.
  function updateGutters(cm) {
    var gutters = cm.display.gutters, specs = cm.options.gutters;
    removeChildren(gutters);
    for (var i = 0; i < specs.length; ++i) {
      var gutterClass = specs[i];
      var gElt = gutters.appendChild(elt("div", null, "CodeMirror-gutter " + gutterClass));
      if (gutterClass == "CodeMirror-linenumbers") {
        cm.display.lineGutter = gElt;
        gElt.style.width = (cm.display.lineNumWidth || 1) + "px";
      }
    }
    gutters.style.display = i ? "" : "none";
    updateGutterSpace(cm);
  }

  function updateGutterSpace(cm) {
    var width = cm.display.gutters.offsetWidth;
    cm.display.sizer.style.marginLeft = width + "px";
  }

  // Compute the character length of a line, taking into account
  // collapsed ranges (see markText) that might hide parts, and join
  // other lines onto it.
  function lineLength(line) {
    if (line.height == 0) return 0;
    var len = line.text.length, merged, cur = line;
    while (merged = collapsedSpanAtStart(cur)) {
      var found = merged.find(0, true);
      cur = found.from.line;
      len += found.from.ch - found.to.ch;
    }
    cur = line;
    while (merged = collapsedSpanAtEnd(cur)) {
      var found = merged.find(0, true);
      len -= cur.text.length - found.from.ch;
      cur = found.to.line;
      len += cur.text.length - found.to.ch;
    }
    return len;
  }

  // Find the longest line in the document.
  function findMaxLine(cm) {
    var d = cm.display, doc = cm.doc;
    d.maxLine = getLine(doc, doc.first);
    d.maxLineLength = lineLength(d.maxLine);
    d.maxLineChanged = true;
    doc.iter(function(line) {
      var len = lineLength(line);
      if (len > d.maxLineLength) {
        d.maxLineLength = len;
        d.maxLine = line;
      }
    });
  }

  // Make sure the gutters options contains the element
  // "CodeMirror-linenumbers" when the lineNumbers option is true.
  function setGuttersForLineNumbers(options) {
    var found = indexOf(options.gutters, "CodeMirror-linenumbers");
    if (found == -1 && options.lineNumbers) {
      options.gutters = options.gutters.concat(["CodeMirror-linenumbers"]);
    } else if (found > -1 && !options.lineNumbers) {
      options.gutters = options.gutters.slice(0);
      options.gutters.splice(found, 1);
    }
  }

  // SCROLLBARS

  // Prepare DOM reads needed to update the scrollbars. Done in one
  // shot to minimize update/measure roundtrips.
  function measureForScrollbars(cm) {
    var d = cm.display, gutterW = d.gutters.offsetWidth;
    var docH = Math.round(cm.doc.height + paddingVert(cm.display));
    return {
      clientHeight: d.scroller.clientHeight,
      viewHeight: d.wrapper.clientHeight,
      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,
      viewWidth: d.wrapper.clientWidth,
      barLeft: cm.options.fixedGutter ? gutterW : 0,
      docHeight: docH,
      scrollHeight: docH + scrollGap(cm) + d.barHeight,
      nativeBarWidth: d.nativeBarWidth,
      gutterWidth: gutterW
    };
  }

  function NativeScrollbars(place, scroll, cm) {
    this.cm = cm;
    var vert = this.vert = elt("div", [elt("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar");
    var horiz = this.horiz = elt("div", [elt("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
    place(vert); place(horiz);

    on(vert, "scroll", function() {
      if (vert.clientHeight) scroll(vert.scrollTop, "vertical");
    });
    on(horiz, "scroll", function() {
      if (horiz.clientWidth) scroll(horiz.scrollLeft, "horizontal");
    });

    this.checkedOverlay = false;
    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).
    if (ie && ie_version < 8) this.horiz.style.minHeight = this.vert.style.minWidth = "18px";
  }

  NativeScrollbars.prototype = copyObj({
    update: function(measure) {
      var needsH = measure.scrollWidth > measure.clientWidth + 1;
      var needsV = measure.scrollHeight > measure.clientHeight + 1;
      var sWidth = measure.nativeBarWidth;

      if (needsV) {
        this.vert.style.display = "block";
        this.vert.style.bottom = needsH ? sWidth + "px" : "0";
        var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);
        // A bug in IE8 can cause this value to be negative, so guard it.
        this.vert.firstChild.style.height =
          Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + "px";
      } else {
        this.vert.style.display = "";
        this.vert.firstChild.style.height = "0";
      }

      if (needsH) {
        this.horiz.style.display = "block";
        this.horiz.style.right = needsV ? sWidth + "px" : "0";
        this.horiz.style.left = measure.barLeft + "px";
        var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);
        this.horiz.firstChild.style.width =
          (measure.scrollWidth - measure.clientWidth + totalWidth) + "px";
      } else {
        this.horiz.style.display = "";
        this.horiz.firstChild.style.width = "0";
      }

      if (!this.checkedOverlay && measure.clientHeight > 0) {
        if (sWidth == 0) this.overlayHack();
        this.checkedOverlay = true;
      }

      return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0};
    },
    setScrollLeft: function(pos) {
      if (this.horiz.scrollLeft != pos) this.horiz.scrollLeft = pos;
    },
    setScrollTop: function(pos) {
      if (this.vert.scrollTop != pos) this.vert.scrollTop = pos;
    },
    overlayHack: function() {
      var w = mac && !mac_geMountainLion ? "12px" : "18px";
      this.horiz.style.minHeight = this.vert.style.minWidth = w;
      var self = this;
      var barMouseDown = function(e) {
        if (e_target(e) != self.vert && e_target(e) != self.horiz)
          operation(self.cm, onMouseDown)(e);
      };
      on(this.vert, "mousedown", barMouseDown);
      on(this.horiz, "mousedown", barMouseDown);
    },
    clear: function() {
      var parent = this.horiz.parentNode;
      parent.removeChild(this.horiz);
      parent.removeChild(this.vert);
    }
  }, NativeScrollbars.prototype);

  function NullScrollbars() {}

  NullScrollbars.prototype = copyObj({
    update: function() { return {bottom: 0, right: 0}; },
    setScrollLeft: function() {},
    setScrollTop: function() {},
    clear: function() {}
  }, NullScrollbars.prototype);

  CodeMirror.scrollbarModel = {"native": NativeScrollbars, "null": NullScrollbars};

  function initScrollbars(cm) {
    if (cm.display.scrollbars) {
      cm.display.scrollbars.clear();
      if (cm.display.scrollbars.addClass)
        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);
    }

    cm.display.scrollbars = new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node) {
      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);
      // Prevent clicks in the scrollbars from killing focus
      on(node, "mousedown", function() {
        if (cm.state.focused) setTimeout(function() { cm.display.input.focus(); }, 0);
      });
      node.setAttribute("cm-not-content", "true");
    }, function(pos, axis) {
      if (axis == "horizontal") setScrollLeft(cm, pos);
      else setScrollTop(cm, pos);
    }, cm);
    if (cm.display.scrollbars.addClass)
      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);
  }

  function updateScrollbars(cm, measure) {
    if (!measure) measure = measureForScrollbars(cm);
    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;
    updateScrollbarsInner(cm, measure);
    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {
      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)
        updateHeightsInViewport(cm);
      updateScrollbarsInner(cm, measureForScrollbars(cm));
      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;
    }
  }

  // Re-synchronize the fake scrollbars with the actual size of the
  // content.
  function updateScrollbarsInner(cm, measure) {
    var d = cm.display;
    var sizes = d.scrollbars.update(measure);

    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + "px";
    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + "px";

    if (sizes.right && sizes.bottom) {
      d.scrollbarFiller.style.display = "block";
      d.scrollbarFiller.style.height = sizes.bottom + "px";
      d.scrollbarFiller.style.width = sizes.right + "px";
    } else d.scrollbarFiller.style.display = "";
    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {
      d.gutterFiller.style.display = "block";
      d.gutterFiller.style.height = sizes.bottom + "px";
      d.gutterFiller.style.width = measure.gutterWidth + "px";
    } else d.gutterFiller.style.display = "";
  }

  // Compute the lines that are visible in a given viewport (defaults
  // the the current scroll position). viewport may contain top,
  // height, and ensure (see op.scrollToPos) properties.
  function visibleLines(display, doc, viewport) {
    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;
    top = Math.floor(top - paddingTop(display));
    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;

    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);
    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and
    // forces those lines into the viewport (if possible).
    if (viewport && viewport.ensure) {
      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;
      if (ensureFrom < from) {
        from = ensureFrom;
        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);
      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {
        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);
        to = ensureTo;
      }
    }
    return {from: from, to: Math.max(to, from + 1)};
  }

  // LINE NUMBERS

  // Re-align line numbers and gutter marks to compensate for
  // horizontal scrolling.
  function alignHorizontally(cm) {
    var display = cm.display, view = display.view;
    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) return;
    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;
    var gutterW = display.gutters.offsetWidth, left = comp + "px";
    for (var i = 0; i < view.length; i++) if (!view[i].hidden) {
      if (cm.options.fixedGutter && view[i].gutter)
        view[i].gutter.style.left = left;
      var align = view[i].alignable;
      if (align) for (var j = 0; j < align.length; j++)
        align[j].style.left = left;
    }
    if (cm.options.fixedGutter)
      display.gutters.style.left = (comp + gutterW) + "px";
  }

  // Used to ensure that the line number gutter is still the right
  // size for the current document size. Returns true when an update
  // is needed.
  function maybeUpdateLineNumberWidth(cm) {
    if (!cm.options.lineNumbers) return false;
    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;
    if (last.length != display.lineNumChars) {
      var test = display.measure.appendChild(elt("div", [elt("div", last)],
                                                 "CodeMirror-linenumber CodeMirror-gutter-elt"));
      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;
      display.lineGutter.style.width = "";
      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;
      display.lineNumWidth = display.lineNumInnerWidth + padding;
      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;
      display.lineGutter.style.width = display.lineNumWidth + "px";
      updateGutterSpace(cm);
      return true;
    }
    return false;
  }

  function lineNumberFor(options, i) {
    return String(options.lineNumberFormatter(i + options.firstLineNumber));
  }

  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,
  // but using getBoundingClientRect to get a sub-pixel-accurate
  // result.
  function compensateForHScroll(display) {
    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;
  }

  // DISPLAY DRAWING

  function DisplayUpdate(cm, viewport, force) {
    var display = cm.display;

    this.viewport = viewport;
    // Store some values that we'll need later (but don't want to force a relayout for)
    this.visible = visibleLines(display, cm.doc, viewport);
    this.editorIsHidden = !display.wrapper.offsetWidth;
    this.wrapperHeight = display.wrapper.clientHeight;
    this.wrapperWidth = display.wrapper.clientWidth;
    this.oldDisplayWidth = displayWidth(cm);
    this.force = force;
    this.dims = getDimensions(cm);
    this.events = [];
  }

  DisplayUpdate.prototype.signal = function(emitter, type) {
    if (hasHandler(emitter, type))
      this.events.push(arguments);
  };
  DisplayUpdate.prototype.finish = function() {
    for (var i = 0; i < this.events.length; i++)
      signal.apply(null, this.events[i]);
  };

  function maybeClipScrollbars(cm) {
    var display = cm.display;
    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {
      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;
      display.heightForcer.style.height = scrollGap(cm) + "px";
      display.sizer.style.marginBottom = -display.nativeBarWidth + "px";
      display.sizer.style.borderRightWidth = scrollGap(cm) + "px";
      display.scrollbarsClipped = true;
    }
  }

  // Does the actual updating of the line display. Bails out
  // (returning false) when there is nothing to be done and forced is
  // false.
  function updateDisplayIfNeeded(cm, update) {
    var display = cm.display, doc = cm.doc;

    if (update.editorIsHidden) {
      resetView(cm);
      return false;
    }

    // Bail out if the visible area is already rendered and nothing changed.
    if (!update.force &&
        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&
        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&
        display.renderedView == display.view && countDirtyView(cm) == 0)
      return false;

    if (maybeUpdateLineNumberWidth(cm)) {
      resetView(cm);
      update.dims = getDimensions(cm);
    }

    // Compute a suitable new viewport (from & to)
    var end = doc.first + doc.size;
    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);
    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);
    if (display.viewFrom < from && from - display.viewFrom < 20) from = Math.max(doc.first, display.viewFrom);
    if (display.viewTo > to && display.viewTo - to < 20) to = Math.min(end, display.viewTo);
    if (sawCollapsedSpans) {
      from = visualLineNo(cm.doc, from);
      to = visualLineEndNo(cm.doc, to);
    }

    var different = from != display.viewFrom || to != display.viewTo ||
      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;
    adjustView(cm, from, to);

    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));
    // Position the mover div to align with the current scroll position
    cm.display.mover.style.top = display.viewOffset + "px";

    var toUpdate = countDirtyView(cm);
    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&
        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))
      return false;

    // For big changes, we hide the enclosing element during the
    // update, since that speeds up the operations on most browsers.
    var focused = activeElt();
    if (toUpdate > 4) display.lineDiv.style.display = "none";
    patchDisplay(cm, display.updateLineNumbers, update.dims);
    if (toUpdate > 4) display.lineDiv.style.display = "";
    display.renderedView = display.view;
    // There might have been a widget with a focused element that got
    // hidden or updated, if so re-focus it.
    if (focused && activeElt() != focused && focused.offsetHeight) focused.focus();

    // Prevent selection and cursors from interfering with the scroll
    // width and height.
    removeChildren(display.cursorDiv);
    removeChildren(display.selectionDiv);
    display.gutters.style.height = display.sizer.style.minHeight = 0;

    if (different) {
      display.lastWrapHeight = update.wrapperHeight;
      display.lastWrapWidth = update.wrapperWidth;
      startWorker(cm, 400);
    }

    display.updateLineNumbers = null;

    return true;
  }

  function postUpdateDisplay(cm, update) {
    var viewport = update.viewport;
    for (var first = true;; first = false) {
      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {
        // Clip forced viewport to actual scrollable area.
        if (viewport && viewport.top != null)
          viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)};
        // Updated line heights might result in the drawn area not
        // actually covering the viewport. Keep looping until it does.
        update.visible = visibleLines(cm.display, cm.doc, viewport);
        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)
          break;
      }
      if (!updateDisplayIfNeeded(cm, update)) break;
      updateHeightsInViewport(cm);
      var barMeasure = measureForScrollbars(cm);
      updateSelection(cm);
      setDocumentHeight(cm, barMeasure);
      updateScrollbars(cm, barMeasure);
    }

    update.signal(cm, "update", cm);
    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {
      update.signal(cm, "viewportChange", cm, cm.display.viewFrom, cm.display.viewTo);
      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;
    }
  }

  function updateDisplaySimple(cm, viewport) {
    var update = new DisplayUpdate(cm, viewport);
    if (updateDisplayIfNeeded(cm, update)) {
      updateHeightsInViewport(cm);
      postUpdateDisplay(cm, update);
      var barMeasure = measureForScrollbars(cm);
      updateSelection(cm);
      setDocumentHeight(cm, barMeasure);
      updateScrollbars(cm, barMeasure);
      update.finish();
    }
  }

  function setDocumentHeight(cm, measure) {
    cm.display.sizer.style.minHeight = measure.docHeight + "px";
    var total = measure.docHeight + cm.display.barHeight;
    cm.display.heightForcer.style.top = total + "px";
    cm.display.gutters.style.height = Math.max(total + scrollGap(cm), measure.clientHeight) + "px";
  }

  // Read the actual heights of the rendered lines, and update their
  // stored heights to match.
  function updateHeightsInViewport(cm) {
    var display = cm.display;
    var prevBottom = display.lineDiv.offsetTop;
    for (var i = 0; i < display.view.length; i++) {
      var cur = display.view[i], height;
      if (cur.hidden) continue;
      if (ie && ie_version < 8) {
        var bot = cur.node.offsetTop + cur.node.offsetHeight;
        height = bot - prevBottom;
        prevBottom = bot;
      } else {
        var box = cur.node.getBoundingClientRect();
        height = box.bottom - box.top;
      }
      var diff = cur.line.height - height;
      if (height < 2) height = textHeight(display);
      if (diff > .001 || diff < -.001) {
        updateLineHeight(cur.line, height);
        updateWidgetHeight(cur.line);
        if (cur.rest) for (var j = 0; j < cur.rest.length; j++)
          updateWidgetHeight(cur.rest[j]);
      }
    }
  }

  // Read and store the height of line widgets associated with the
  // given line.
  function updateWidgetHeight(line) {
    if (line.widgets) for (var i = 0; i < line.widgets.length; ++i)
      line.widgets[i].height = line.widgets[i].node.offsetHeight;
  }

  // Do a bulk-read of the DOM positions and sizes needed to draw the
  // view, so that we don't interleave reading and writing to the DOM.
  function getDimensions(cm) {
    var d = cm.display, left = {}, width = {};
    var gutterLeft = d.gutters.clientLeft;
    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {
      left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;
      width[cm.options.gutters[i]] = n.clientWidth;
    }
    return {fixedPos: compensateForHScroll(d),
            gutterTotalWidth: d.gutters.offsetWidth,
            gutterLeft: left,
            gutterWidth: width,
            wrapperWidth: d.wrapper.clientWidth};
  }

  // Sync the actual display DOM structure with display.view, removing
  // nodes for lines that are no longer in view, and creating the ones
  // that are not there yet, and updating the ones that are out of
  // date.
  function patchDisplay(cm, updateNumbersFrom, dims) {
    var display = cm.display, lineNumbers = cm.options.lineNumbers;
    var container = display.lineDiv, cur = container.firstChild;

    function rm(node) {
      var next = node.nextSibling;
      // Works around a throw-scroll bug in OS X Webkit
      if (webkit && mac && cm.display.currentWheelTarget == node)
        node.style.display = "none";
      else
        node.parentNode.removeChild(node);
      return next;
    }

    var view = display.view, lineN = display.viewFrom;
    // Loop over the elements in the view, syncing cur (the DOM nodes
    // in display.lineDiv) with the view as we go.
    for (var i = 0; i < view.length; i++) {
      var lineView = view[i];
      if (lineView.hidden) {
      } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet
        var node = buildLineElement(cm, lineView, lineN, dims);
        container.insertBefore(node, cur);
      } else { // Already drawn
        while (cur != lineView.node) cur = rm(cur);
        var updateNumber = lineNumbers && updateNumbersFrom != null &&
          updateNumbersFrom <= lineN && lineView.lineNumber;
        if (lineView.changes) {
          if (indexOf(lineView.changes, "gutter") > -1) updateNumber = false;
          updateLineForChanges(cm, lineView, lineN, dims);
        }
        if (updateNumber) {
          removeChildren(lineView.lineNumber);
          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));
        }
        cur = lineView.node.nextSibling;
      }
      lineN += lineView.size;
    }
    while (cur) cur = rm(cur);
  }

  // When an aspect of a line changes, a string is added to
  // lineView.changes. This updates the relevant part of the line's
  // DOM structure.
  function updateLineForChanges(cm, lineView, lineN, dims) {
    for (var j = 0; j < lineView.changes.length; j++) {
      var type = lineView.changes[j];
      if (type == "text") updateLineText(cm, lineView);
      else if (type == "gutter") updateLineGutter(cm, lineView, lineN, dims);
      else if (type == "class") updateLineClasses(lineView);
      else if (type == "widget") updateLineWidgets(cm, lineView, dims);
    }
    lineView.changes = null;
  }

  // Lines with gutter elements, widgets or a background class need to
  // be wrapped, and have the extra elements added to the wrapper div
  function ensureLineWrapped(lineView) {
    if (lineView.node == lineView.text) {
      lineView.node = elt("div", null, null, "position: relative");
      if (lineView.text.parentNode)
        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);
      lineView.node.appendChild(lineView.text);
      if (ie && ie_version < 8) lineView.node.style.zIndex = 2;
    }
    return lineView.node;
  }

  function updateLineBackground(lineView) {
    var cls = lineView.bgClass ? lineView.bgClass + " " + (lineView.line.bgClass || "") : lineView.line.bgClass;
    if (cls) cls += " CodeMirror-linebackground";
    if (lineView.background) {
      if (cls) lineView.background.className = cls;
      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }
    } else if (cls) {
      var wrap = ensureLineWrapped(lineView);
      lineView.background = wrap.insertBefore(elt("div", null, cls), wrap.firstChild);
    }
  }

  // Wrapper around buildLineContent which will reuse the structure
  // in display.externalMeasured when possible.
  function getLineContent(cm, lineView) {
    var ext = cm.display.externalMeasured;
    if (ext && ext.line == lineView.line) {
      cm.display.externalMeasured = null;
      lineView.measure = ext.measure;
      return ext.built;
    }
    return buildLineContent(cm, lineView);
  }

  // Redraw the line's text. Interacts with the background and text
  // classes because the mode may output tokens that influence these
  // classes.
  function updateLineText(cm, lineView) {
    var cls = lineView.text.className;
    var built = getLineContent(cm, lineView);
    if (lineView.text == lineView.node) lineView.node = built.pre;
    lineView.text.parentNode.replaceChild(built.pre, lineView.text);
    lineView.text = built.pre;
    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {
      lineView.bgClass = built.bgClass;
      lineView.textClass = built.textClass;
      updateLineClasses(lineView);
    } else if (cls) {
      lineView.text.className = cls;
    }
  }

  function updateLineClasses(lineView) {
    updateLineBackground(lineView);
    if (lineView.line.wrapClass)
      ensureLineWrapped(lineView).className = lineView.line.wrapClass;
    else if (lineView.node != lineView.text)
      lineView.node.className = "";
    var textClass = lineView.textClass ? lineView.textClass + " " + (lineView.line.textClass || "") : lineView.line.textClass;
    lineView.text.className = textClass || "";
  }

  function updateLineGutter(cm, lineView, lineN, dims) {
    if (lineView.gutter) {
      lineView.node.removeChild(lineView.gutter);
      lineView.gutter = null;
    }
    if (lineView.gutterBackground) {
      lineView.node.removeChild(lineView.gutterBackground);
      lineView.gutterBackground = null;
    }
    if (lineView.line.gutterClass) {
      var wrap = ensureLineWrapped(lineView);
      lineView.gutterBackground = elt("div", null, "CodeMirror-gutter-background " + lineView.line.gutterClass,
                                      "left: " + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) +
                                      "px; width: " + dims.gutterTotalWidth + "px");
      wrap.insertBefore(lineView.gutterBackground, lineView.text);
    }
    var markers = lineView.line.gutterMarkers;
    if (cm.options.lineNumbers || markers) {
      var wrap = ensureLineWrapped(lineView);
      var gutterWrap = lineView.gutter = elt("div", null, "CodeMirror-gutter-wrapper", "left: " +
                                             (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + "px");
      cm.display.input.setUneditable(gutterWrap);
      wrap.insertBefore(gutterWrap, lineView.text);
      if (lineView.line.gutterClass)
        gutterWrap.className += " " + lineView.line.gutterClass;
      if (cm.options.lineNumbers && (!markers || !markers["CodeMirror-linenumbers"]))
        lineView.lineNumber = gutterWrap.appendChild(
          elt("div", lineNumberFor(cm.options, lineN),
              "CodeMirror-linenumber CodeMirror-gutter-elt",
              "left: " + dims.gutterLeft["CodeMirror-linenumbers"] + "px; width: "
              + cm.display.lineNumInnerWidth + "px"));
      if (markers) for (var k = 0; k < cm.options.gutters.length; ++k) {
        var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];
        if (found)
          gutterWrap.appendChild(elt("div", [found], "CodeMirror-gutter-elt", "left: " +
                                     dims.gutterLeft[id] + "px; width: " + dims.gutterWidth[id] + "px"));
      }
    }
  }

  function updateLineWidgets(cm, lineView, dims) {
    if (lineView.alignable) lineView.alignable = null;
    for (var node = lineView.node.firstChild, next; node; node = next) {
      var next = node.nextSibling;
      if (node.className == "CodeMirror-linewidget")
        lineView.node.removeChild(node);
    }
    insertLineWidgets(cm, lineView, dims);
  }

  // Build a line's DOM representation from scratch
  function buildLineElement(cm, lineView, lineN, dims) {
    var built = getLineContent(cm, lineView);
    lineView.text = lineView.node = built.pre;
    if (built.bgClass) lineView.bgClass = built.bgClass;
    if (built.textClass) lineView.textClass = built.textClass;

    updateLineClasses(lineView);
    updateLineGutter(cm, lineView, lineN, dims);
    insertLineWidgets(cm, lineView, dims);
    return lineView.node;
  }

  // A lineView may contain multiple logical lines (when merged by
  // collapsed spans). The widgets for all of them need to be drawn.
  function insertLineWidgets(cm, lineView, dims) {
    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);
    if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)
      insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);
  }

  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {
    if (!line.widgets) return;
    var wrap = ensureLineWrapped(lineView);
    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {
      var widget = ws[i], node = elt("div", [widget.node], "CodeMirror-linewidget");
      if (!widget.handleMouseEvents) node.setAttribute("cm-ignore-events", "true");
      positionLineWidget(widget, node, lineView, dims);
      cm.display.input.setUneditable(node);
      if (allowAbove && widget.above)
        wrap.insertBefore(node, lineView.gutter || lineView.text);
      else
        wrap.appendChild(node);
      signalLater(widget, "redraw");
    }
  }

  function positionLineWidget(widget, node, lineView, dims) {
    if (widget.noHScroll) {
      (lineView.alignable || (lineView.alignable = [])).push(node);
      var width = dims.wrapperWidth;
      node.style.left = dims.fixedPos + "px";
      if (!widget.coverGutter) {
        width -= dims.gutterTotalWidth;
        node.style.paddingLeft = dims.gutterTotalWidth + "px";
      }
      node.style.width = width + "px";
    }
    if (widget.coverGutter) {
      node.style.zIndex = 5;
      node.style.position = "relative";
      if (!widget.noHScroll) node.style.marginLeft = -dims.gutterTotalWidth + "px";
    }
  }

  // POSITION OBJECT

  // A Pos instance represents a position within the text.
  var Pos = CodeMirror.Pos = function(line, ch) {
    if (!(this instanceof Pos)) return new Pos(line, ch);
    this.line = line; this.ch = ch;
  };

  // Compare two positions, return 0 if they are the same, a negative
  // number when a is less, and a positive number otherwise.
  var cmp = CodeMirror.cmpPos = function(a, b) { return a.line - b.line || a.ch - b.ch; };

  function copyPos(x) {return Pos(x.line, x.ch);}
  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a; }
  function minPos(a, b) { return cmp(a, b) < 0 ? a : b; }

  // INPUT HANDLING

  function ensureFocus(cm) {
    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }
  }

  function isReadOnly(cm) {
    return cm.options.readOnly || cm.doc.cantEdit;
  }

  // This will be set to an array of strings when copying, so that,
  // when pasting, we know what kind of selections the copied text
  // was made out of.
  var lastCopied = null;

  function applyTextInput(cm, inserted, deleted, sel, origin) {
    var doc = cm.doc;
    cm.display.shift = false;
    if (!sel) sel = doc.sel;

    var paste = cm.state.pasteIncoming || origin == "paste";
    var textLines = doc.splitLines(inserted), multiPaste = null;
    // When pasing N lines into N selections, insert one line per selection
    if (paste && sel.ranges.length > 1) {
      if (lastCopied && lastCopied.join("\n") == inserted) {
        if (sel.ranges.length % lastCopied.length == 0) {
          multiPaste = [];
          for (var i = 0; i < lastCopied.length; i++)
            multiPaste.push(doc.splitLines(lastCopied[i]));
        }
      } else if (textLines.length == sel.ranges.length) {
        multiPaste = map(textLines, function(l) { return [l]; });
      }
    }

    // Normal behavior is to insert the new text into every selection
    for (var i = sel.ranges.length - 1; i >= 0; i--) {
      var range = sel.ranges[i];
      var from = range.from(), to = range.to();
      if (range.empty()) {
        if (deleted && deleted > 0) // Handle deletion
          from = Pos(from.line, from.ch - deleted);
        else if (cm.state.overwrite && !paste) // Handle overwrite
          to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));
      }
      var updateInput = cm.curOp.updateInput;
      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i % multiPaste.length] : textLines,
                         origin: origin || (paste ? "paste" : cm.state.cutIncoming ? "cut" : "+input")};
      makeChange(cm.doc, changeEvent);
      signalLater(cm, "inputRead", cm, changeEvent);
    }
    if (inserted && !paste)
      triggerElectric(cm, inserted);

    ensureCursorVisible(cm);
    cm.curOp.updateInput = updateInput;
    cm.curOp.typing = true;
    cm.state.pasteIncoming = cm.state.cutIncoming = false;
  }

  function handlePaste(e, cm) {
    var pasted = e.clipboardData && e.clipboardData.getData("text/plain");
    if (pasted) {
      e.preventDefault();
      runInOp(cm, function() { applyTextInput(cm, pasted, 0, null, "paste"); });
      return true;
    }
  }

  function triggerElectric(cm, inserted) {
    // When an 'electric' character is inserted, immediately trigger a reindent
    if (!cm.options.electricChars || !cm.options.smartIndent) return;
    var sel = cm.doc.sel;

    for (var i = sel.ranges.length - 1; i >= 0; i--) {
      var range = sel.ranges[i];
      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) continue;
      var mode = cm.getModeAt(range.head);
      var indented = false;
      if (mode.electricChars) {
        for (var j = 0; j < mode.electricChars.length; j++)
          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {
            indented = indentLine(cm, range.head.line, "smart");
            break;
          }
      } else if (mode.electricInput) {
        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))
          indented = indentLine(cm, range.head.line, "smart");
      }
      if (indented) signalLater(cm, "electricInput", cm, range.head.line);
    }
  }

  function copyableRanges(cm) {
    var text = [], ranges = [];
    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {
      var line = cm.doc.sel.ranges[i].head.line;
      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};
      ranges.push(lineRange);
      text.push(cm.getRange(lineRange.anchor, lineRange.head));
    }
    return {text: text, ranges: ranges};
  }

  function disableBrowserMagic(field) {
    field.setAttribute("autocorrect", "off");
    field.setAttribute("autocapitalize", "off");
    field.setAttribute("spellcheck", "false");
  }

  // TEXTAREA INPUT STYLE

  function TextareaInput(cm) {
    this.cm = cm;
    // See input.poll and input.reset
    this.prevInput = "";

    // Flag that indicates whether we expect input to appear real soon
    // now (after some event like 'keypress' or 'input') and are
    // polling intensively.
    this.pollingFast = false;
    // Self-resetting timeout for the poller
    this.polling = new Delayed();
    // Tracks when input.reset has punted to just putting a short
    // string into the textarea instead of the full selection.
    this.inaccurateSelection = false;
    // Used to work around IE issue with selection being forgotten when focus moves away from textarea
    this.hasSelection = false;
    this.composing = null;
  };

  function hiddenTextarea() {
    var te = elt("textarea", null, null, "position: absolute; padding: 0; width: 1px; height: 1em; outline: none");
    var div = elt("div", [te], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
    // The textarea is kept positioned near the cursor to prevent the
    // fact that it'll be scrolled into view on input from scrolling
    // our fake cursor out of view. On webkit, when wrap=off, paste is
    // very slow. So make the area wide instead.
    if (webkit) te.style.width = "1000px";
    else te.setAttribute("wrap", "off");
    // If border: 0; -- iOS fails to open keyboard (issue #1287)
    if (ios) te.style.border = "1px solid black";
    disableBrowserMagic(te);
    return div;
  }

  TextareaInput.prototype = copyObj({
    init: function(display) {
      var input = this, cm = this.cm;

      // Wraps and hides input textarea
      var div = this.wrapper = hiddenTextarea();
      // The semihidden textarea that is focused when the editor is
      // focused, and receives input.
      var te = this.textarea = div.firstChild;
      display.wrapper.insertBefore(div, display.wrapper.firstChild);

      // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)
      if (ios) te.style.width = "0px";

      on(te, "input", function() {
        if (ie && ie_version >= 9 && input.hasSelection) input.hasSelection = null;
        input.poll();
      });

      on(te, "paste", function(e) {
        if (handlePaste(e, cm)) return true;

        cm.state.pasteIncoming = true;
        input.fastPoll();
      });

      function prepareCopyCut(e) {
        if (cm.somethingSelected()) {
          lastCopied = cm.getSelections();
          if (input.inaccurateSelection) {
            input.prevInput = "";
            input.inaccurateSelection = false;
            te.value = lastCopied.join("\n");
            selectInput(te);
          }
        } else if (!cm.options.lineWiseCopyCut) {
          return;
        } else {
          var ranges = copyableRanges(cm);
          lastCopied = ranges.text;
          if (e.type == "cut") {
            cm.setSelections(ranges.ranges, null, sel_dontScroll);
          } else {
            input.prevInput = "";
            te.value = ranges.text.join("\n");
            selectInput(te);
          }
        }
        if (e.type == "cut") cm.state.cutIncoming = true;
      }
      on(te, "cut", prepareCopyCut);
      on(te, "copy", prepareCopyCut);

      on(display.scroller, "paste", function(e) {
        if (eventInWidget(display, e)) return;
        cm.state.pasteIncoming = true;
        input.focus();
      });

      // Prevent normal selection in the editor (we handle our own)
      on(display.lineSpace, "selectstart", function(e) {
        if (!eventInWidget(display, e)) e_preventDefault(e);
      });

      on(te, "compositionstart", function() {
        var start = cm.getCursor("from");
        input.composing = {
          start: start,
          range: cm.markText(start, cm.getCursor("to"), {className: "CodeMirror-composing"})
        };
      });
      on(te, "compositionend", function() {
        if (input.composing) {
          input.poll();
          input.composing.range.clear();
          input.composing = null;
        }
      });
    },

    prepareSelection: function() {
      // Redraw the selection and/or cursor
      var cm = this.cm, display = cm.display, doc = cm.doc;
      var result = prepareSelection(cm);

      // Move the hidden textarea near the cursor to prevent scrolling artifacts
      if (cm.options.moveInputWithCursor) {
        var headPos = cursorCoords(cm, doc.sel.primary().head, "div");
        var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();
        result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,
                                            headPos.top + lineOff.top - wrapOff.top));
        result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,
                                             headPos.left + lineOff.left - wrapOff.left));
      }

      return result;
    },

    showSelection: function(drawn) {
      var cm = this.cm, display = cm.display;
      removeChildrenAndAdd(display.cursorDiv, drawn.cursors);
      removeChildrenAndAdd(display.selectionDiv, drawn.selection);
      if (drawn.teTop != null) {
        this.wrapper.style.top = drawn.teTop + "px";
        this.wrapper.style.left = drawn.teLeft + "px";
      }
    },

    // Reset the input to correspond to the selection (or to be empty,
    // when not typing and nothing is selected)
    reset: function(typing) {
      if (this.contextMenuPending) return;
      var minimal, selected, cm = this.cm, doc = cm.doc;
      if (cm.somethingSelected()) {
        this.prevInput = "";
        var range = doc.sel.primary();
        minimal = hasCopyEvent &&
          (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000);
        var content = minimal ? "-" : selected || cm.getSelection();
        this.textarea.value = content;
        if (cm.state.focused) selectInput(this.textarea);
        if (ie && ie_version >= 9) this.hasSelection = content;
      } else if (!typing) {
        this.prevInput = this.textarea.value = "";
        if (ie && ie_version >= 9) this.hasSelection = null;
      }
      this.inaccurateSelection = minimal;
    },

    getField: function() { return this.textarea; },

    supportsTouch: function() { return false; },

    focus: function() {
      if (this.cm.options.readOnly != "nocursor" && (!mobile || activeElt() != this.textarea)) {
        try { this.textarea.focus(); }
        catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM
      }
    },

    blur: function() { this.textarea.blur(); },

    resetPosition: function() {
      this.wrapper.style.top = this.wrapper.style.left = 0;
    },

    receivedFocus: function() { this.slowPoll(); },

    // Poll for input changes, using the normal rate of polling. This
    // runs as long as the editor is focused.
    slowPoll: function() {
      var input = this;
      if (input.pollingFast) return;
      input.polling.set(this.cm.options.pollInterval, function() {
        input.poll();
        if (input.cm.state.focused) input.slowPoll();
      });
    },

    // When an event has just come in that is likely to add or change
    // something in the input textarea, we poll faster, to ensure that
    // the change appears on the screen quickly.
    fastPoll: function() {
      var missed = false, input = this;
      input.pollingFast = true;
      function p() {
        var changed = input.poll();
        if (!changed && !missed) {missed = true; input.polling.set(60, p);}
        else {input.pollingFast = false; input.slowPoll();}
      }
      input.polling.set(20, p);
    },

    // Read input from the textarea, and update the document to match.
    // When something is selected, it is present in the textarea, and
    // selected (unless it is huge, in which case a placeholder is
    // used). When nothing is selected, the cursor sits after previously
    // seen text (can be empty), which is stored in prevInput (we must
    // not reset the textarea when typing, because that breaks IME).
    poll: function() {
      var cm = this.cm, input = this.textarea, prevInput = this.prevInput;
      // Since this is called a *lot*, try to bail out as cheaply as
      // possible when it is clear that nothing happened. hasSelection
      // will be the case when there is a lot of text in the textarea,
      // in which case reading its value would be expensive.
      if (this.contextMenuPending || !cm.state.focused ||
          (hasSelection(input) && !prevInput && !this.composing) ||
          isReadOnly(cm) || cm.options.disableInput || cm.state.keySeq)
        return false;

      var text = input.value;
      // If nothing changed, bail.
      if (text == prevInput && !cm.somethingSelected()) return false;
      // Work around nonsensical selection resetting in IE9/10, and
      // inexplicable appearance of private area unicode characters on
      // some key combos in Mac (#2689).
      if (ie && ie_version >= 9 && this.hasSelection === text ||
          mac && /[\uf700-\uf7ff]/.test(text)) {
        cm.display.input.reset();
        return false;
      }

      if (cm.doc.sel == cm.display.selForContextMenu) {
        var first = text.charCodeAt(0);
        if (first == 0x200b && !prevInput) prevInput = "\u200b";
        if (first == 0x21da) { this.reset(); return this.cm.execCommand("undo"); }
      }
      // Find the part of the input that is actually new
      var same = 0, l = Math.min(prevInput.length, text.length);
      while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) ++same;

      var self = this;
      runInOp(cm, function() {
        applyTextInput(cm, text.slice(same), prevInput.length - same,
                       null, self.composing ? "*compose" : null);

        // Don't leave long text in the textarea, since it makes further polling slow
        if (text.length > 1000 || text.indexOf("\n") > -1) input.value = self.prevInput = "";
        else self.prevInput = text;

        if (self.composing) {
          self.composing.range.clear();
          self.composing.range = cm.markText(self.composing.start, cm.getCursor("to"),
                                             {className: "CodeMirror-composing"});
        }
      });
      return true;
    },

    ensurePolled: function() {
      if (this.pollingFast && this.poll()) this.pollingFast = false;
    },

    onKeyPress: function() {
      if (ie && ie_version >= 9) this.hasSelection = null;
      this.fastPoll();
    },

    onContextMenu: function(e) {
      var input = this, cm = input.cm, display = cm.display, te = input.textarea;
      var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;
      if (!pos || presto) return; // Opera is difficult.

      // Reset the current text selection only if the click is done outside of the selection
      // and 'resetSelectionOnContextMenu' option is true.
      var reset = cm.options.resetSelectionOnContextMenu;
      if (reset && cm.doc.sel.contains(pos) == -1)
        operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);

      var oldCSS = te.style.cssText;
      input.wrapper.style.position = "absolute";
      te.style.cssText = "position: fixed; width: 30px; height: 30px; top: " + (e.clientY - 5) +
        "px; left: " + (e.clientX - 5) + "px; z-index: 1000; background: " +
        (ie ? "rgba(255, 255, 255, .05)" : "transparent") +
        "; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
      if (webkit) var oldScrollY = window.scrollY; // Work around Chrome issue (#2712)
      display.input.focus();
      if (webkit) window.scrollTo(null, oldScrollY);
      display.input.reset();
      // Adds "Select all" to context menu in FF
      if (!cm.somethingSelected()) te.value = input.prevInput = " ";
      input.contextMenuPending = true;
      display.selForContextMenu = cm.doc.sel;
      clearTimeout(display.detectingSelectAll);

      // Select-all will be greyed out if there's nothing to select, so
      // this adds a zero-width space so that we can later check whether
      // it got selected.
      function prepareSelectAllHack() {
        if (te.selectionStart != null) {
          var selected = cm.somethingSelected();
          var extval = "\u200b" + (selected ? te.value : "");
          te.value = "\u21da"; // Used to catch context-menu undo
          te.value = extval;
          input.prevInput = selected ? "" : "\u200b";
          te.selectionStart = 1; te.selectionEnd = extval.length;
          // Re-set this, in case some other handler touched the
          // selection in the meantime.
          display.selForContextMenu = cm.doc.sel;
        }
      }
      function rehide() {
        input.contextMenuPending = false;
        input.wrapper.style.position = "relative";
        te.style.cssText = oldCSS;
        if (ie && ie_version < 9) display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);

        // Try to detect the user choosing select-all
        if (te.selectionStart != null) {
          if (!ie || (ie && ie_version < 9)) prepareSelectAllHack();
          var i = 0, poll = function() {
            if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&
                te.selectionEnd > 0 && input.prevInput == "\u200b")
              operation(cm, commands.selectAll)(cm);
            else if (i++ < 10) display.detectingSelectAll = setTimeout(poll, 500);
            else display.input.reset();
          };
          display.detectingSelectAll = setTimeout(poll, 200);
        }
      }

      if (ie && ie_version >= 9) prepareSelectAllHack();
      if (captureRightClick) {
        e_stop(e);
        var mouseup = function() {
          off(window, "mouseup", mouseup);
          setTimeout(rehide, 20);
        };
        on(window, "mouseup", mouseup);
      } else {
        setTimeout(rehide, 50);
      }
    },

    setUneditable: nothing,

    needsContentAttribute: false
  }, TextareaInput.prototype);

  // CONTENTEDITABLE INPUT STYLE

  function ContentEditableInput(cm) {
    this.cm = cm;
    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;
    this.polling = new Delayed();
    this.gracePeriod = false;
  }

  ContentEditableInput.prototype = copyObj({
    init: function(display) {
      var input = this, cm = input.cm;
      var div = input.div = display.lineDiv;
      div.contentEditable = "true";
      disableBrowserMagic(div);

      on(div, "paste", function(e) { handlePaste(e, cm); })

      on(div, "compositionstart", function(e) {
        var data = e.data;
        input.composing = {sel: cm.doc.sel, data: data, startData: data};
        if (!data) return;
        var prim = cm.doc.sel.primary();
        var line = cm.getLine(prim.head.line);
        var found = line.indexOf(data, Math.max(0, prim.head.ch - data.length));
        if (found > -1 && found <= prim.head.ch)
          input.composing.sel = simpleSelection(Pos(prim.head.line, found),
                                                Pos(prim.head.line, found + data.length));
      });
      on(div, "compositionupdate", function(e) {
        input.composing.data = e.data;
      });
      on(div, "compositionend", function(e) {
        var ours = input.composing;
        if (!ours) return;
        if (e.data != ours.startData && !/\u200b/.test(e.data))
          ours.data = e.data;
        // Need a small delay to prevent other code (input event,
        // selection polling) from doing damage when fired right after
        // compositionend.
        setTimeout(function() {
          if (!ours.handled)
            input.applyComposition(ours);
          if (input.composing == ours)
            input.composing = null;
        }, 50);
      });

      on(div, "touchstart", function() {
        input.forceCompositionEnd();
      });

      on(div, "input", function() {
        if (input.composing) return;
        if (!input.pollContent())
          runInOp(input.cm, function() {regChange(cm);});
      });

      function onCopyCut(e) {
        if (cm.somethingSelected()) {
          lastCopied = cm.getSelections();
          if (e.type == "cut") cm.replaceSelection("", null, "cut");
        } else if (!cm.options.lineWiseCopyCut) {
          return;
        } else {
          var ranges = copyableRanges(cm);
          lastCopied = ranges.text;
          if (e.type == "cut") {
            cm.operation(function() {
              cm.setSelections(ranges.ranges, 0, sel_dontScroll);
              cm.replaceSelection("", null, "cut");
            });
          }
        }
        // iOS exposes the clipboard API, but seems to discard content inserted into it
        if (e.clipboardData && !ios) {
          e.preventDefault();
          e.clipboardData.clearData();
          e.clipboardData.setData("text/plain", lastCopied.join("\n"));
        } else {
          // Old-fashioned briefly-focus-a-textarea hack
          var kludge = hiddenTextarea(), te = kludge.firstChild;
          cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);
          te.value = lastCopied.join("\n");
          var hadFocus = document.activeElement;
          selectInput(te);
          setTimeout(function() {
            cm.display.lineSpace.removeChild(kludge);
            hadFocus.focus();
          }, 50);
        }
      }
      on(div, "copy", onCopyCut);
      on(div, "cut", onCopyCut);
    },

    prepareSelection: function() {
      var result = prepareSelection(this.cm, false);
      result.focus = this.cm.state.focused;
      return result;
    },

    showSelection: function(info) {
      if (!info || !this.cm.display.view.length) return;
      if (info.focus) this.showPrimarySelection();
      this.showMultipleSelections(info);
    },

    showPrimarySelection: function() {
      var sel = window.getSelection(), prim = this.cm.doc.sel.primary();
      var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset);
      var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset);
      if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&
          cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&
          cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)
        return;

      var start = posToDOM(this.cm, prim.from());
      var end = posToDOM(this.cm, prim.to());
      if (!start && !end) return;

      var view = this.cm.display.view;
      var old = sel.rangeCount && sel.getRangeAt(0);
      if (!start) {
        start = {node: view[0].measure.map[2], offset: 0};
      } else if (!end) { // FIXME dangerously hacky
        var measure = view[view.length - 1].measure;
        var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;
        end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};
      }

      try { var rng = range(start.node, start.offset, end.offset, end.node); }
      catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible
      if (rng) {
        sel.removeAllRanges();
        sel.addRange(rng);
        if (old && sel.anchorNode == null) sel.addRange(old);
        else if (gecko) this.startGracePeriod();
      }
      this.rememberSelection();
    },

    startGracePeriod: function() {
      var input = this;
      clearTimeout(this.gracePeriod);
      this.gracePeriod = setTimeout(function() {
        input.gracePeriod = false;
        if (input.selectionChanged())
          input.cm.operation(function() { input.cm.curOp.selectionChanged = true; });
      }, 20);
    },

    showMultipleSelections: function(info) {
      removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);
      removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);
    },

    rememberSelection: function() {
      var sel = window.getSelection();
      this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;
      this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;
    },

    selectionInEditor: function() {
      var sel = window.getSelection();
      if (!sel.rangeCount) return false;
      var node = sel.getRangeAt(0).commonAncestorContainer;
      return contains(this.div, node);
    },

    focus: function() {
      if (this.cm.options.readOnly != "nocursor") this.div.focus();
    },
    blur: function() { this.div.blur(); },
    getField: function() { return this.div; },

    supportsTouch: function() { return true; },

    receivedFocus: function() {
      var input = this;
      if (this.selectionInEditor())
        this.pollSelection();
      else
        runInOp(this.cm, function() { input.cm.curOp.selectionChanged = true; });

      function poll() {
        if (input.cm.state.focused) {
          input.pollSelection();
          input.polling.set(input.cm.options.pollInterval, poll);
        }
      }
      this.polling.set(this.cm.options.pollInterval, poll);
    },

    selectionChanged: function() {
      var sel = window.getSelection();
      return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||
        sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;
    },

    pollSelection: function() {
      if (!this.composing && !this.gracePeriod && this.selectionChanged()) {
        var sel = window.getSelection(), cm = this.cm;
        this.rememberSelection();
        var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);
        var head = domToPos(cm, sel.focusNode, sel.focusOffset);
        if (anchor && head) runInOp(cm, function() {
          setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);
          if (anchor.bad || head.bad) cm.curOp.selectionChanged = true;
        });
      }
    },

    pollContent: function() {
      var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();
      var from = sel.from(), to = sel.to();
      if (from.line < display.viewFrom || to.line > display.viewTo - 1) return false;

      var fromIndex;
      if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {
        var fromLine = lineNo(display.view[0].line);
        var fromNode = display.view[0].node;
      } else {
        var fromLine = lineNo(display.view[fromIndex].line);
        var fromNode = display.view[fromIndex - 1].node.nextSibling;
      }
      var toIndex = findViewIndex(cm, to.line);
      if (toIndex == display.view.length - 1) {
        var toLine = display.viewTo - 1;
        var toNode = display.lineDiv.lastChild;
      } else {
        var toLine = lineNo(display.view[toIndex + 1].line) - 1;
        var toNode = display.view[toIndex + 1].node.previousSibling;
      }

      var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));
      var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));
      while (newText.length > 1 && oldText.length > 1) {
        if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }
        else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }
        else break;
      }

      var cutFront = 0, cutEnd = 0;
      var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);
      while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))
        ++cutFront;
      var newBot = lst(newText), oldBot = lst(oldText);
      var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),
                               oldBot.length - (oldText.length == 1 ? cutFront : 0));
      while (cutEnd < maxCutEnd &&
             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))
        ++cutEnd;

      newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd);
      newText[0] = newText[0].slice(cutFront);

      var chFrom = Pos(fromLine, cutFront);
      var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);
      if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {
        replaceRange(cm.doc, newText, chFrom, chTo, "+input");
        return true;
      }
    },

    ensurePolled: function() {
      this.forceCompositionEnd();
    },
    reset: function() {
      this.forceCompositionEnd();
    },
    forceCompositionEnd: function() {
      if (!this.composing || this.composing.handled) return;
      this.applyComposition(this.composing);
      this.composing.handled = true;
      this.div.blur();
      this.div.focus();
    },
    applyComposition: function(composing) {
      if (composing.data && composing.data != composing.startData)
        operation(this.cm, applyTextInput)(this.cm, composing.data, 0, composing.sel);
    },

    setUneditable: function(node) {
      node.setAttribute("contenteditable", "false");
    },

    onKeyPress: function(e) {
      e.preventDefault();
      operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);
    },

    onContextMenu: nothing,
    resetPosition: nothing,

    needsContentAttribute: true
  }, ContentEditableInput.prototype);

  function posToDOM(cm, pos) {
    var view = findViewForLine(cm, pos.line);
    if (!view || view.hidden) return null;
    var line = getLine(cm.doc, pos.line);
    var info = mapFromLineView(view, line, pos.line);

    var order = getOrder(line), side = "left";
    if (order) {
      var partPos = getBidiPartAt(order, pos.ch);
      side = partPos % 2 ? "right" : "left";
    }
    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);
    result.offset = result.collapse == "right" ? result.end : result.start;
    return result;
  }

  function badPos(pos, bad) { if (bad) pos.bad = true; return pos; }

  function domToPos(cm, node, offset) {
    var lineNode;
    if (node == cm.display.lineDiv) {
      lineNode = cm.display.lineDiv.childNodes[offset];
      if (!lineNode) return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);
      node = null; offset = 0;
    } else {
      for (lineNode = node;; lineNode = lineNode.parentNode) {
        if (!lineNode || lineNode == cm.display.lineDiv) return null;
        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) break;
      }
    }
    for (var i = 0; i < cm.display.view.length; i++) {
      var lineView = cm.display.view[i];
      if (lineView.node == lineNode)
        return locateNodeInLineView(lineView, node, offset);
    }
  }

  function locateNodeInLineView(lineView, node, offset) {
    var wrapper = lineView.text.firstChild, bad = false;
    if (!node || !contains(wrapper, node)) return badPos(Pos(lineNo(lineView.line), 0), true);
    if (node == wrapper) {
      bad = true;
      node = wrapper.childNodes[offset];
      offset = 0;
      if (!node) {
        var line = lineView.rest ? lst(lineView.rest) : lineView.line;
        return badPos(Pos(lineNo(line), line.text.length), bad);
      }
    }

    var textNode = node.nodeType == 3 ? node : null, topNode = node;
    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {
      textNode = node.firstChild;
      if (offset) offset = textNode.nodeValue.length;
    }
    while (topNode.parentNode != wrapper) topNode = topNode.parentNode;
    var measure = lineView.measure, maps = measure.maps;

    function find(textNode, topNode, offset) {
      for (var i = -1; i < (maps ? maps.length : 0); i++) {
        var map = i < 0 ? measure.map : maps[i];
        for (var j = 0; j < map.length; j += 3) {
          var curNode = map[j + 2];
          if (curNode == textNode || curNode == topNode) {
            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);
            var ch = map[j] + offset;
            if (offset < 0 || curNode != textNode) ch = map[j + (offset ? 1 : 0)];
            return Pos(line, ch);
          }
        }
      }
    }
    var found = find(textNode, topNode, offset);
    if (found) return badPos(found, bad);

    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems
    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {
      found = find(after, after.firstChild, 0);
      if (found)
        return badPos(Pos(found.line, found.ch - dist), bad);
      else
        dist += after.textContent.length;
    }
    for (var before = topNode.previousSibling, dist = offset; before; before = before.previousSibling) {
      found = find(before, before.firstChild, -1);
      if (found)
        return badPos(Pos(found.line, found.ch + dist), bad);
      else
        dist += after.textContent.length;
    }
  }

  function domTextBetween(cm, from, to, fromLine, toLine) {
    var text = "", closing = false, lineSep = cm.doc.lineSeparator();
    function recognizeMarker(id) { return function(marker) { return marker.id == id; }; }
    function walk(node) {
      if (node.nodeType == 1) {
        var cmText = node.getAttribute("cm-text");
        if (cmText != null) {
          if (cmText == "") cmText = node.textContent.replace(/\u200b/g, "");
          text += cmText;
          return;
        }
        var markerID = node.getAttribute("cm-marker"), range;
        if (markerID) {
          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));
          if (found.length && (range = found[0].find()))
            text += getBetween(cm.doc, range.from, range.to).join(lineSep);
          return;
        }
        if (node.getAttribute("contenteditable") == "false") return;
        for (var i = 0; i < node.childNodes.length; i++)
          walk(node.childNodes[i]);
        if (/^(pre|div|p)$/i.test(node.nodeName))
          closing = true;
      } else if (node.nodeType == 3) {
        var val = node.nodeValue;
        if (!val) return;
        if (closing) {
          text += lineSep;
          closing = false;
        }
        text += val;
      }
    }
    for (;;) {
      walk(from);
      if (from == to) break;
      from = from.nextSibling;
    }
    return text;
  }

  CodeMirror.inputStyles = {"textarea": TextareaInput, "contenteditable": ContentEditableInput};

  // SELECTION / CURSOR

  // Selection objects are immutable. A new one is created every time
  // the selection changes. A selection is one or more non-overlapping
  // (and non-touching) ranges, sorted, and an integer that indicates
  // which one is the primary selection (the one that's scrolled into
  // view, that getCursor returns, etc).
  function Selection(ranges, primIndex) {
    this.ranges = ranges;
    this.primIndex = primIndex;
  }

  Selection.prototype = {
    primary: function() { return this.ranges[this.primIndex]; },
    equals: function(other) {
      if (other == this) return true;
      if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) return false;
      for (var i = 0; i < this.ranges.length; i++) {
        var here = this.ranges[i], there = other.ranges[i];
        if (cmp(here.anchor, there.anchor) != 0 || cmp(here.head, there.head) != 0) return false;
      }
      return true;
    },
    deepCopy: function() {
      for (var out = [], i = 0; i < this.ranges.length; i++)
        out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));
      return new Selection(out, this.primIndex);
    },
    somethingSelected: function() {
      for (var i = 0; i < this.ranges.length; i++)
        if (!this.ranges[i].empty()) return true;
      return false;
    },
    contains: function(pos, end) {
      if (!end) end = pos;
      for (var i = 0; i < this.ranges.length; i++) {
        var range = this.ranges[i];
        if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)
          return i;
      }
      return -1;
    }
  };

  function Range(anchor, head) {
    this.anchor = anchor; this.head = head;
  }

  Range.prototype = {
    from: function() { return minPos(this.anchor, this.head); },
    to: function() { return maxPos(this.anchor, this.head); },
    empty: function() {
      return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;
    }
  };

  // Take an unsorted, potentially overlapping set of ranges, and
  // build a selection out of it. 'Consumes' ranges array (modifying
  // it).
  function normalizeSelection(ranges, primIndex) {
    var prim = ranges[primIndex];
    ranges.sort(function(a, b) { return cmp(a.from(), b.from()); });
    primIndex = indexOf(ranges, prim);
    for (var i = 1; i < ranges.length; i++) {
      var cur = ranges[i], prev = ranges[i - 1];
      if (cmp(prev.to(), cur.from()) >= 0) {
        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());
        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;
        if (i <= primIndex) --primIndex;
        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));
      }
    }
    return new Selection(ranges, primIndex);
  }

  function simpleSelection(anchor, head) {
    return new Selection([new Range(anchor, head || anchor)], 0);
  }

  // Most of the external API clips given positions to make sure they
  // actually exist within the document.
  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));}
  function clipPos(doc, pos) {
    if (pos.line < doc.first) return Pos(doc.first, 0);
    var last = doc.first + doc.size - 1;
    if (pos.line > last) return Pos(last, getLine(doc, last).text.length);
    return clipToLen(pos, getLine(doc, pos.line).text.length);
  }
  function clipToLen(pos, linelen) {
    var ch = pos.ch;
    if (ch == null || ch > linelen) return Pos(pos.line, linelen);
    else if (ch < 0) return Pos(pos.line, 0);
    else return pos;
  }
  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size;}
  function clipPosArray(doc, array) {
    for (var out = [], i = 0; i < array.length; i++) out[i] = clipPos(doc, array[i]);
    return out;
  }

  // SELECTION UPDATES

  // The 'scroll' parameter given to many of these indicated whether
  // the new cursor position should be scrolled into view after
  // modifying the selection.

  // If shift is held or the extend flag is set, extends a range to
  // include a given position (and optionally a second position).
  // Otherwise, simply returns the range between the given positions.
  // Used for cursor motion and such.
  function extendRange(doc, range, head, other) {
    if (doc.cm && doc.cm.display.shift || doc.extend) {
      var anchor = range.anchor;
      if (other) {
        var posBefore = cmp(head, anchor) < 0;
        if (posBefore != (cmp(other, anchor) < 0)) {
          anchor = head;
          head = other;
        } else if (posBefore != (cmp(head, other) < 0)) {
          head = other;
        }
      }
      return new Range(anchor, head);
    } else {
      return new Range(other || head, head);
    }
  }

  // Extend the primary selection range, discard the rest.
  function extendSelection(doc, head, other, options) {
    setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options);
  }

  // Extend all selections (pos is an array of selections with length
  // equal the number of selections)
  function extendSelections(doc, heads, options) {
    for (var out = [], i = 0; i < doc.sel.ranges.length; i++)
      out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null);
    var newSel = normalizeSelection(out, doc.sel.primIndex);
    setSelection(doc, newSel, options);
  }

  // Updates a single range in the selection.
  function replaceOneSelection(doc, i, range, options) {
    var ranges = doc.sel.ranges.slice(0);
    ranges[i] = range;
    setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options);
  }

  // Reset the selection to a single range.
  function setSimpleSelection(doc, anchor, head, options) {
    setSelection(doc, simpleSelection(anchor, head), options);
  }

  // Give beforeSelectionChange handlers a change to influence a
  // selection update.
  function filterSelectionChange(doc, sel) {
    var obj = {
      ranges: sel.ranges,
      update: function(ranges) {
        this.ranges = [];
        for (var i = 0; i < ranges.length; i++)
          this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),
                                     clipPos(doc, ranges[i].head));
      }
    };
    signal(doc, "beforeSelectionChange", doc, obj);
    if (doc.cm) signal(doc.cm, "beforeSelectionChange", doc.cm, obj);
    if (obj.ranges != sel.ranges) return normalizeSelection(obj.ranges, obj.ranges.length - 1);
    else return sel;
  }

  function setSelectionReplaceHistory(doc, sel, options) {
    var done = doc.history.done, last = lst(done);
    if (last && last.ranges) {
      done[done.length - 1] = sel;
      setSelectionNoUndo(doc, sel, options);
    } else {
      setSelection(doc, sel, options);
    }
  }

  // Set a new selection.
  function setSelection(doc, sel, options) {
    setSelectionNoUndo(doc, sel, options);
    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);
  }

  function setSelectionNoUndo(doc, sel, options) {
    if (hasHandler(doc, "beforeSelectionChange") || doc.cm && hasHandler(doc.cm, "beforeSelectionChange"))
      sel = filterSelectionChange(doc, sel);

    var bias = options && options.bias ||
      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);
    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));

    if (!(options && options.scroll === false) && doc.cm)
      ensureCursorVisible(doc.cm);
  }

  function setSelectionInner(doc, sel) {
    if (sel.equals(doc.sel)) return;

    doc.sel = sel;

    if (doc.cm) {
      doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true;
      signalCursorActivity(doc.cm);
    }
    signalLater(doc, "cursorActivity", doc);
  }

  // Verify that the selection does not partially select any atomic
  // marked ranges.
  function reCheckSelection(doc) {
    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll);
  }

  // Return a selection that does not partially select any atomic
  // ranges.
  function skipAtomicInSelection(doc, sel, bias, mayClear) {
    var out;
    for (var i = 0; i < sel.ranges.length; i++) {
      var range = sel.ranges[i];
      var newAnchor = skipAtomic(doc, range.anchor, bias, mayClear);
      var newHead = skipAtomic(doc, range.head, bias, mayClear);
      if (out || newAnchor != range.anchor || newHead != range.head) {
        if (!out) out = sel.ranges.slice(0, i);
        out[i] = new Range(newAnchor, newHead);
      }
    }
    return out ? normalizeSelection(out, sel.primIndex) : sel;
  }

  // Ensure a given position is not inside an atomic range.
  function skipAtomic(doc, pos, bias, mayClear) {
    var flipped = false, curPos = pos;
    var dir = bias || 1;
    doc.cantEdit = false;
    search: for (;;) {
      var line = getLine(doc, curPos.line);
      if (line.markedSpans) {
        for (var i = 0; i < line.markedSpans.length; ++i) {
          var sp = line.markedSpans[i], m = sp.marker;
          if ((sp.from == null || (m.inclusiveLeft ? sp.from <= curPos.ch : sp.from < curPos.ch)) &&
              (sp.to == null || (m.inclusiveRight ? sp.to >= curPos.ch : sp.to > curPos.ch))) {
            if (mayClear) {
              signal(m, "beforeCursorEnter");
              if (m.explicitlyCleared) {
                if (!line.markedSpans) break;
                else {--i; continue;}
              }
            }
            if (!m.atomic) continue;
            var newPos = m.find(dir < 0 ? -1 : 1);
            if (cmp(newPos, curPos) == 0) {
              newPos.ch += dir;
              if (newPos.ch < 0) {
                if (newPos.line > doc.first) newPos = clipPos(doc, Pos(newPos.line - 1));
                else newPos = null;
              } else if (newPos.ch > line.text.length) {
                if (newPos.line < doc.first + doc.size - 1) newPos = Pos(newPos.line + 1, 0);
                else newPos = null;
              }
              if (!newPos) {
                if (flipped) {
                  // Driven in a corner -- no valid cursor position found at all
                  // -- try again *with* clearing, if we didn't already
                  if (!mayClear) return skipAtomic(doc, pos, bias, true);
                  // Otherwise, turn off editing until further notice, and return the start of the doc
                  doc.cantEdit = true;
                  return Pos(doc.first, 0);
                }
                flipped = true; newPos = pos; dir = -dir;
              }
            }
            curPos = newPos;
            continue search;
          }
        }
      }
      return curPos;
    }
  }

  // SELECTION DRAWING

  function updateSelection(cm) {
    cm.display.input.showSelection(cm.display.input.prepareSelection());
  }

  function prepareSelection(cm, primary) {
    var doc = cm.doc, result = {};
    var curFragment = result.cursors = document.createDocumentFragment();
    var selFragment = result.selection = document.createDocumentFragment();

    for (var i = 0; i < doc.sel.ranges.length; i++) {
      if (primary === false && i == doc.sel.primIndex) continue;
      var range = doc.sel.ranges[i];
      var collapsed = range.empty();
      if (collapsed || cm.options.showCursorWhenSelecting)
        drawSelectionCursor(cm, range, curFragment);
      if (!collapsed)
        drawSelectionRange(cm, range, selFragment);
    }
    return result;
  }

  // Draws a cursor for the given range
  function drawSelectionCursor(cm, range, output) {
    var pos = cursorCoords(cm, range.head, "div", null, null, !cm.options.singleCursorHeightPerLine);

    var cursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor"));
    cursor.style.left = pos.left + "px";
    cursor.style.top = pos.top + "px";
    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + "px";

    if (pos.other) {
      // Secondary cursor, shown when on a 'jump' in bi-directional text
      var otherCursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor CodeMirror-secondarycursor"));
      otherCursor.style.display = "";
      otherCursor.style.left = pos.other.left + "px";
      otherCursor.style.top = pos.other.top + "px";
      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + "px";
    }
  }

  // Draws the given range as a highlighted selection
  function drawSelectionRange(cm, range, output) {
    var display = cm.display, doc = cm.doc;
    var fragment = document.createDocumentFragment();
    var padding = paddingH(cm.display), leftSide = padding.left;
    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;

    function add(left, top, width, bottom) {
      if (top < 0) top = 0;
      top = Math.round(top);
      bottom = Math.round(bottom);
      fragment.appendChild(elt("div", null, "CodeMirror-selected", "position: absolute; left: " + left +
                               "px; top: " + top + "px; width: " + (width == null ? rightSide - left : width) +
                               "px; height: " + (bottom - top) + "px"));
    }

    function drawForLine(line, fromArg, toArg) {
      var lineObj = getLine(doc, line);
      var lineLen = lineObj.text.length;
      var start, end;
      function coords(ch, bias) {
        return charCoords(cm, Pos(line, ch), "div", lineObj, bias);
      }

      iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function(from, to, dir) {
        var leftPos = coords(from, "left"), rightPos, left, right;
        if (from == to) {
          rightPos = leftPos;
          left = right = leftPos.left;
        } else {
          rightPos = coords(to - 1, "right");
          if (dir == "rtl") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp; }
          left = leftPos.left;
          right = rightPos.right;
        }
        if (fromArg == null && from == 0) left = leftSide;
        if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part
          add(left, leftPos.top, null, leftPos.bottom);
          left = leftSide;
          if (leftPos.bottom < rightPos.top) add(left, leftPos.bottom, null, rightPos.top);
        }
        if (toArg == null && to == lineLen) right = rightSide;
        if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)
          start = leftPos;
        if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)
          end = rightPos;
        if (left < leftSide + 1) left = leftSide;
        add(left, rightPos.top, right - left, rightPos.bottom);
      });
      return {start: start, end: end};
    }

    var sFrom = range.from(), sTo = range.to();
    if (sFrom.line == sTo.line) {
      drawForLine(sFrom.line, sFrom.ch, sTo.ch);
    } else {
      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);
      var singleVLine = visualLine(fromLine) == visualLine(toLine);
      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;
      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;
      if (singleVLine) {
        if (leftEnd.top < rightStart.top - 2) {
          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);
          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);
        } else {
          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);
        }
      }
      if (leftEnd.bottom < rightStart.top)
        add(leftSide, leftEnd.bottom, null, rightStart.top);
    }

    output.appendChild(fragment);
  }

  // Cursor-blinking
  function restartBlink(cm) {
    if (!cm.state.focused) return;
    var display = cm.display;
    clearInterval(display.blinker);
    var on = true;
    display.cursorDiv.style.visibility = "";
    if (cm.options.cursorBlinkRate > 0)
      display.blinker = setInterval(function() {
        display.cursorDiv.style.visibility = (on = !on) ? "" : "hidden";
      }, cm.options.cursorBlinkRate);
    else if (cm.options.cursorBlinkRate < 0)
      display.cursorDiv.style.visibility = "hidden";
  }

  // HIGHLIGHT WORKER

  function startWorker(cm, time) {
    if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)
      cm.state.highlight.set(time, bind(highlightWorker, cm));
  }

  function highlightWorker(cm) {
    var doc = cm.doc;
    if (doc.frontier < doc.first) doc.frontier = doc.first;
    if (doc.frontier >= cm.display.viewTo) return;
    var end = +new Date + cm.options.workTime;
    var state = copyState(doc.mode, getStateBefore(cm, doc.frontier));
    var changedLines = [];

    doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function(line) {
      if (doc.frontier >= cm.display.viewFrom) { // Visible
        var oldStyles = line.styles;
        var highlighted = highlightLine(cm, line, state, true);
        line.styles = highlighted.styles;
        var oldCls = line.styleClasses, newCls = highlighted.classes;
        if (newCls) line.styleClasses = newCls;
        else if (oldCls) line.styleClasses = null;
        var ischange = !oldStyles || oldStyles.length != line.styles.length ||
          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);
        for (var i = 0; !ischange && i < oldStyles.length; ++i) ischange = oldStyles[i] != line.styles[i];
        if (ischange) changedLines.push(doc.frontier);
        line.stateAfter = copyState(doc.mode, state);
      } else {
        processLine(cm, line.text, state);
        line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null;
      }
      ++doc.frontier;
      if (+new Date > end) {
        startWorker(cm, cm.options.workDelay);
        return true;
      }
    });
    if (changedLines.length) runInOp(cm, function() {
      for (var i = 0; i < changedLines.length; i++)
        regLineChange(cm, changedLines[i], "text");
    });
  }

  // Finds the line to start with when starting a parse. Tries to
  // find a line with a stateAfter, so that it can start with a
  // valid state. If that fails, it returns the line with the
  // smallest indentation, which tends to need the least context to
  // parse correctly.
  function findStartLine(cm, n, precise) {
    var minindent, minline, doc = cm.doc;
    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);
    for (var search = n; search > lim; --search) {
      if (search <= doc.first) return doc.first;
      var line = getLine(doc, search - 1);
      if (line.stateAfter && (!precise || search <= doc.frontier)) return search;
      var indented = countColumn(line.text, null, cm.options.tabSize);
      if (minline == null || minindent > indented) {
        minline = search - 1;
        minindent = indented;
      }
    }
    return minline;
  }

  function getStateBefore(cm, n, precise) {
    var doc = cm.doc, display = cm.display;
    if (!doc.mode.startState) return true;
    var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter;
    if (!state) state = startState(doc.mode);
    else state = copyState(doc.mode, state);
    doc.iter(pos, n, function(line) {
      processLine(cm, line.text, state);
      var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo;
      line.stateAfter = save ? copyState(doc.mode, state) : null;
      ++pos;
    });
    if (precise) doc.frontier = pos;
    return state;
  }

  // POSITION MEASUREMENT

  function paddingTop(display) {return display.lineSpace.offsetTop;}
  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight;}
  function paddingH(display) {
    if (display.cachedPaddingH) return display.cachedPaddingH;
    var e = removeChildrenAndAdd(display.measure, elt("pre", "x"));
    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;
    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};
    if (!isNaN(data.left) && !isNaN(data.right)) display.cachedPaddingH = data;
    return data;
  }

  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth; }
  function displayWidth(cm) {
    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;
  }
  function displayHeight(cm) {
    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;
  }

  // Ensure the lineView.wrapping.heights array is populated. This is
  // an array of bottom offsets for the lines that make up a drawn
  // line. When lineWrapping is on, there might be more than one
  // height.
  function ensureLineHeights(cm, lineView, rect) {
    var wrapping = cm.options.lineWrapping;
    var curWidth = wrapping && displayWidth(cm);
    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {
      var heights = lineView.measure.heights = [];
      if (wrapping) {
        lineView.measure.width = curWidth;
        var rects = lineView.text.firstChild.getClientRects();
        for (var i = 0; i < rects.length - 1; i++) {
          var cur = rects[i], next = rects[i + 1];
          if (Math.abs(cur.bottom - next.bottom) > 2)
            heights.push((cur.bottom + next.top) / 2 - rect.top);
        }
      }
      heights.push(rect.bottom - rect.top);
    }
  }

  // Find a line map (mapping character offsets to text nodes) and a
  // measurement cache for the given line number. (A line view might
  // contain multiple lines when collapsed ranges are present.)
  function mapFromLineView(lineView, line, lineN) {
    if (lineView.line == line)
      return {map: lineView.measure.map, cache: lineView.measure.cache};
    for (var i = 0; i < lineView.rest.length; i++)
      if (lineView.rest[i] == line)
        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]};
    for (var i = 0; i < lineView.rest.length; i++)
      if (lineNo(lineView.rest[i]) > lineN)
        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i], before: true};
  }

  // Render a line into the hidden node display.externalMeasured. Used
  // when measurement is needed for a line that's not in the viewport.
  function updateExternalMeasurement(cm, line) {
    line = visualLine(line);
    var lineN = lineNo(line);
    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);
    view.lineN = lineN;
    var built = view.built = buildLineContent(cm, view);
    view.text = built.pre;
    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);
    return view;
  }

  // Get a {top, bottom, left, right} box (in line-local coordinates)
  // for a given character.
  function measureChar(cm, line, ch, bias) {
    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);
  }

  // Find a line view that corresponds to the given line number.
  function findViewForLine(cm, lineN) {
    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)
      return cm.display.view[findViewIndex(cm, lineN)];
    var ext = cm.display.externalMeasured;
    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)
      return ext;
  }

  // Measurement can be split in two steps, the set-up work that
  // applies to the whole line, and the measurement of the actual
  // character. Functions like coordsChar, that need to do a lot of
  // measurements in a row, can thus ensure that the set-up work is
  // only done once.
  function prepareMeasureForLine(cm, line) {
    var lineN = lineNo(line);
    var view = findViewForLine(cm, lineN);
    if (view && !view.text) {
      view = null;
    } else if (view && view.changes) {
      updateLineForChanges(cm, view, lineN, getDimensions(cm));
      cm.curOp.forceUpdate = true;
    }
    if (!view)
      view = updateExternalMeasurement(cm, line);

    var info = mapFromLineView(view, line, lineN);
    return {
      line: line, view: view, rect: null,
      map: info.map, cache: info.cache, before: info.before,
      hasHeights: false
    };
  }

  // Given a prepared measurement object, measures the position of an
  // actual character (or fetches it from the cache).
  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {
    if (prepared.before) ch = -1;
    var key = ch + (bias || ""), found;
    if (prepared.cache.hasOwnProperty(key)) {
      found = prepared.cache[key];
    } else {
      if (!prepared.rect)
        prepared.rect = prepared.view.text.getBoundingClientRect();
      if (!prepared.hasHeights) {
        ensureLineHeights(cm, prepared.view, prepared.rect);
        prepared.hasHeights = true;
      }
      found = measureCharInner(cm, prepared, ch, bias);
      if (!found.bogus) prepared.cache[key] = found;
    }
    return {left: found.left, right: found.right,
            top: varHeight ? found.rtop : found.top,
            bottom: varHeight ? found.rbottom : found.bottom};
  }

  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};

  function nodeAndOffsetInLineMap(map, ch, bias) {
    var node, start, end, collapse;
    // First, search the line map for the text node corresponding to,
    // or closest to, the target character.
    for (var i = 0; i < map.length; i += 3) {
      var mStart = map[i], mEnd = map[i + 1];
      if (ch < mStart) {
        start = 0; end = 1;
        collapse = "left";
      } else if (ch < mEnd) {
        start = ch - mStart;
        end = start + 1;
      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {
        end = mEnd - mStart;
        start = end - 1;
        if (ch >= mEnd) collapse = "right";
      }
      if (start != null) {
        node = map[i + 2];
        if (mStart == mEnd && bias == (node.insertLeft ? "left" : "right"))
          collapse = bias;
        if (bias == "left" && start == 0)
          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {
            node = map[(i -= 3) + 2];
            collapse = "left";
          }
        if (bias == "right" && start == mEnd - mStart)
          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {
            node = map[(i += 3) + 2];
            collapse = "right";
          }
        break;
      }
    }
    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd};
  }

  function measureCharInner(cm, prepared, ch, bias) {
    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);
    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;

    var rect;
    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.
      for (var i = 0; i < 4; i++) { // Retry a maximum of 4 times when nonsense rectangles are returned
        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) --start;
        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) ++end;
        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {
          rect = node.parentNode.getBoundingClientRect();
        } else if (ie && cm.options.lineWrapping) {
          var rects = range(node, start, end).getClientRects();
          if (rects.length)
            rect = rects[bias == "right" ? rects.length - 1 : 0];
          else
            rect = nullRect;
        } else {
          rect = range(node, start, end).getBoundingClientRect() || nullRect;
        }
        if (rect.left || rect.right || start == 0) break;
        end = start;
        start = start - 1;
        collapse = "right";
      }
      if (ie && ie_version < 11) rect = maybeUpdateRectForZooming(cm.display.measure, rect);
    } else { // If it is a widget, simply get the box for the whole widget.
      if (start > 0) collapse = bias = "right";
      var rects;
      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)
        rect = rects[bias == "right" ? rects.length - 1 : 0];
      else
        rect = node.getBoundingClientRect();
    }
    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {
      var rSpan = node.parentNode.getClientRects()[0];
      if (rSpan)
        rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom};
      else
        rect = nullRect;
    }

    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;
    var mid = (rtop + rbot) / 2;
    var heights = prepared.view.measure.heights;
    for (var i = 0; i < heights.length - 1; i++)
      if (mid < heights[i]) break;
    var top = i ? heights[i - 1] : 0, bot = heights[i];
    var result = {left: (collapse == "right" ? rect.right : rect.left) - prepared.rect.left,
                  right: (collapse == "left" ? rect.left : rect.right) - prepared.rect.left,
                  top: top, bottom: bot};
    if (!rect.left && !rect.right) result.bogus = true;
    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }

    return result;
  }

  // Work around problem with bounding client rects on ranges being
  // returned incorrectly when zoomed on IE10 and below.
  function maybeUpdateRectForZooming(measure, rect) {
    if (!window.screen || screen.logicalXDPI == null ||
        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))
      return rect;
    var scaleX = screen.logicalXDPI / screen.deviceXDPI;
    var scaleY = screen.logicalYDPI / screen.deviceYDPI;
    return {left: rect.left * scaleX, right: rect.right * scaleX,
            top: rect.top * scaleY, bottom: rect.bottom * scaleY};
  }

  function clearLineMeasurementCacheFor(lineView) {
    if (lineView.measure) {
      lineView.measure.cache = {};
      lineView.measure.heights = null;
      if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)
        lineView.measure.caches[i] = {};
    }
  }

  function clearLineMeasurementCache(cm) {
    cm.display.externalMeasure = null;
    removeChildren(cm.display.lineMeasure);
    for (var i = 0; i < cm.display.view.length; i++)
      clearLineMeasurementCacheFor(cm.display.view[i]);
  }

  function clearCaches(cm) {
    clearLineMeasurementCache(cm);
    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;
    if (!cm.options.lineWrapping) cm.display.maxLineChanged = true;
    cm.display.lineNumChars = null;
  }

  function pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft; }
  function pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop; }

  // Converts a {top, bottom, left, right} box from line-local
  // coordinates into another coordinate system. Context may be one of
  // "line", "div" (display.lineDiv), "local"/null (editor), "window",
  // or "page".
  function intoCoordSystem(cm, lineObj, rect, context) {
    if (lineObj.widgets) for (var i = 0; i < lineObj.widgets.length; ++i) if (lineObj.widgets[i].above) {
      var size = widgetHeight(lineObj.widgets[i]);
      rect.top += size; rect.bottom += size;
    }
    if (context == "line") return rect;
    if (!context) context = "local";
    var yOff = heightAtLine(lineObj);
    if (context == "local") yOff += paddingTop(cm.display);
    else yOff -= cm.display.viewOffset;
    if (context == "page" || context == "window") {
      var lOff = cm.display.lineSpace.getBoundingClientRect();
      yOff += lOff.top + (context == "window" ? 0 : pageScrollY());
      var xOff = lOff.left + (context == "window" ? 0 : pageScrollX());
      rect.left += xOff; rect.right += xOff;
    }
    rect.top += yOff; rect.bottom += yOff;
    return rect;
  }

  // Coverts a box from "div" coords to another coordinate system.
  // Context may be "window", "page", "div", or "local"/null.
  function fromCoordSystem(cm, coords, context) {
    if (context == "div") return coords;
    var left = coords.left, top = coords.top;
    // First move into "page" coordinate system
    if (context == "page") {
      left -= pageScrollX();
      top -= pageScrollY();
    } else if (context == "local" || !context) {
      var localBox = cm.display.sizer.getBoundingClientRect();
      left += localBox.left;
      top += localBox.top;
    }

    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();
    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top};
  }

  function charCoords(cm, pos, context, lineObj, bias) {
    if (!lineObj) lineObj = getLine(cm.doc, pos.line);
    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);
  }

  // Returns a box for a given cursor position, which may have an
  // 'other' property containing the position of the secondary cursor
  // on a bidi boundary.
  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {
    lineObj = lineObj || getLine(cm.doc, pos.line);
    if (!preparedMeasure) preparedMeasure = prepareMeasureForLine(cm, lineObj);
    function get(ch, right) {
      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? "right" : "left", varHeight);
      if (right) m.left = m.right; else m.right = m.left;
      return intoCoordSystem(cm, lineObj, m, context);
    }
    function getBidi(ch, partPos) {
      var part = order[partPos], right = part.level % 2;
      if (ch == bidiLeft(part) && partPos && part.level < order[partPos - 1].level) {
        part = order[--partPos];
        ch = bidiRight(part) - (part.level % 2 ? 0 : 1);
        right = true;
      } else if (ch == bidiRight(part) && partPos < order.length - 1 && part.level < order[partPos + 1].level) {
        part = order[++partPos];
        ch = bidiLeft(part) - part.level % 2;
        right = false;
      }
      if (right && ch == part.to && ch > part.from) return get(ch - 1);
      return get(ch, right);
    }
    var order = getOrder(lineObj), ch = pos.ch;
    if (!order) return get(ch);
    var partPos = getBidiPartAt(order, ch);
    var val = getBidi(ch, partPos);
    if (bidiOther != null) val.other = getBidi(ch, bidiOther);
    return val;
  }

  // Used to cheaply estimate the coordinates for a position. Used for
  // intermediate scroll updates.
  function estimateCoords(cm, pos) {
    var left = 0, pos = clipPos(cm.doc, pos);
    if (!cm.options.lineWrapping) left = charWidth(cm.display) * pos.ch;
    var lineObj = getLine(cm.doc, pos.line);
    var top = heightAtLine(lineObj) + paddingTop(cm.display);
    return {left: left, right: left, top: top, bottom: top + lineObj.height};
  }

  // Positions returned by coordsChar contain some extra information.
  // xRel is the relative x position of the input coordinates compared
  // to the found position (so xRel > 0 means the coordinates are to
  // the right of the character position, for example). When outside
  // is true, that means the coordinates lie outside the line's
  // vertical range.
  function PosWithInfo(line, ch, outside, xRel) {
    var pos = Pos(line, ch);
    pos.xRel = xRel;
    if (outside) pos.outside = true;
    return pos;
  }

  // Compute the character position closest to the given coordinates.
  // Input must be lineSpace-local ("div" coordinate system).
  function coordsChar(cm, x, y) {
    var doc = cm.doc;
    y += cm.display.viewOffset;
    if (y < 0) return PosWithInfo(doc.first, 0, true, -1);
    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;
    if (lineN > last)
      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, true, 1);
    if (x < 0) x = 0;

    var lineObj = getLine(doc, lineN);
    for (;;) {
      var found = coordsCharInner(cm, lineObj, lineN, x, y);
      var merged = collapsedSpanAtEnd(lineObj);
      var mergedPos = merged && merged.find(0, true);
      if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))
        lineN = lineNo(lineObj = mergedPos.to.line);
      else
        return found;
    }
  }

  function coordsCharInner(cm, lineObj, lineNo, x, y) {
    var innerOff = y - heightAtLine(lineObj);
    var wrongLine = false, adjust = 2 * cm.display.wrapper.clientWidth;
    var preparedMeasure = prepareMeasureForLine(cm, lineObj);

    function getX(ch) {
      var sp = cursorCoords(cm, Pos(lineNo, ch), "line", lineObj, preparedMeasure);
      wrongLine = true;
      if (innerOff > sp.bottom) return sp.left - adjust;
      else if (innerOff < sp.top) return sp.left + adjust;
      else wrongLine = false;
      return sp.left;
    }

    var bidi = getOrder(lineObj), dist = lineObj.text.length;
    var from = lineLeft(lineObj), to = lineRight(lineObj);
    var fromX = getX(from), fromOutside = wrongLine, toX = getX(to), toOutside = wrongLine;

    if (x > toX) return PosWithInfo(lineNo, to, toOutside, 1);
    // Do a binary search between these bounds.
    for (;;) {
      if (bidi ? to == from || to == moveVisually(lineObj, from, 1) : to - from <= 1) {
        var ch = x < fromX || x - fromX <= toX - x ? from : to;
        var xDiff = x - (ch == from ? fromX : toX);
        while (isExtendingChar(lineObj.text.charAt(ch))) ++ch;
        var pos = PosWithInfo(lineNo, ch, ch == from ? fromOutside : toOutside,
                              xDiff < -1 ? -1 : xDiff > 1 ? 1 : 0);
        return pos;
      }
      var step = Math.ceil(dist / 2), middle = from + step;
      if (bidi) {
        middle = from;
        for (var i = 0; i < step; ++i) middle = moveVisually(lineObj, middle, 1);
      }
      var middleX = getX(middle);
      if (middleX > x) {to = middle; toX = middleX; if (toOutside = wrongLine) toX += 1000; dist = step;}
      else {from = middle; fromX = middleX; fromOutside = wrongLine; dist -= step;}
    }
  }

  var measureText;
  // Compute the default text height.
  function textHeight(display) {
    if (display.cachedTextHeight != null) return display.cachedTextHeight;
    if (measureText == null) {
      measureText = elt("pre");
      // Measure a bunch of lines, for browsers that compute
      // fractional heights.
      for (var i = 0; i < 49; ++i) {
        measureText.appendChild(document.createTextNode("x"));
        measureText.appendChild(elt("br"));
      }
      measureText.appendChild(document.createTextNode("x"));
    }
    removeChildrenAndAdd(display.measure, measureText);
    var height = measureText.offsetHeight / 50;
    if (height > 3) display.cachedTextHeight = height;
    removeChildren(display.measure);
    return height || 1;
  }

  // Compute the default character width.
  function charWidth(display) {
    if (display.cachedCharWidth != null) return display.cachedCharWidth;
    var anchor = elt("span", "xxxxxxxxxx");
    var pre = elt("pre", [anchor]);
    removeChildrenAndAdd(display.measure, pre);
    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;
    if (width > 2) display.cachedCharWidth = width;
    return width || 10;
  }

  // OPERATIONS

  // Operations are used to wrap a series of changes to the editor
  // state in such a way that each change won't have to update the
  // cursor and display (which would be awkward, slow, and
  // error-prone). Instead, display updates are batched and then all
  // combined and executed at once.

  var operationGroup = null;

  var nextOpId = 0;
  // Start a new operation.
  function startOperation(cm) {
    cm.curOp = {
      cm: cm,
      viewChanged: false,      // Flag that indicates that lines might need to be redrawn
      startHeight: cm.doc.height, // Used to detect need to update scrollbar
      forceUpdate: false,      // Used to force a redraw
      updateInput: null,       // Whether to reset the input textarea
      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)
      changeObjs: null,        // Accumulated changes, for firing change events
      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on
      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already
      selectionChanged: false, // Whether the selection needs to be redrawn
      updateMaxLine: false,    // Set when the widest line needs to be determined anew
      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet
      scrollToPos: null,       // Used to scroll to a specific position
      focus: false,
      id: ++nextOpId           // Unique ID
    };
    if (operationGroup) {
      operationGroup.ops.push(cm.curOp);
    } else {
      cm.curOp.ownsGroup = operationGroup = {
        ops: [cm.curOp],
        delayedCallbacks: []
      };
    }
  }

  function fireCallbacksForOps(group) {
    // Calls delayed callbacks and cursorActivity handlers until no
    // new ones appear
    var callbacks = group.delayedCallbacks, i = 0;
    do {
      for (; i < callbacks.length; i++)
        callbacks[i]();
      for (var j = 0; j < group.ops.length; j++) {
        var op = group.ops[j];
        if (op.cursorActivityHandlers)
          while (op.cursorActivityCalled < op.cursorActivityHandlers.length)
            op.cursorActivityHandlers[op.cursorActivityCalled++](op.cm);
      }
    } while (i < callbacks.length);
  }

  // Finish an operation, updating the display and signalling delayed events
  function endOperation(cm) {
    var op = cm.curOp, group = op.ownsGroup;
    if (!group) return;

    try { fireCallbacksForOps(group); }
    finally {
      operationGroup = null;
      for (var i = 0; i < group.ops.length; i++)
        group.ops[i].cm.curOp = null;
      endOperations(group);
    }
  }

  // The DOM updates done when an operation finishes are batched so
  // that the minimum number of relayouts are required.
  function endOperations(group) {
    var ops = group.ops;
    for (var i = 0; i < ops.length; i++) // Read DOM
      endOperation_R1(ops[i]);
    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)
      endOperation_W1(ops[i]);
    for (var i = 0; i < ops.length; i++) // Read DOM
      endOperation_R2(ops[i]);
    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)
      endOperation_W2(ops[i]);
    for (var i = 0; i < ops.length; i++) // Read DOM
      endOperation_finish(ops[i]);
  }

  function endOperation_R1(op) {
    var cm = op.cm, display = cm.display;
    maybeClipScrollbars(cm);
    if (op.updateMaxLine) findMaxLine(cm);

    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||
      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||
                         op.scrollToPos.to.line >= display.viewTo) ||
      display.maxLineChanged && cm.options.lineWrapping;
    op.update = op.mustUpdate &&
      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);
  }

  function endOperation_W1(op) {
    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);
  }

  function endOperation_R2(op) {
    var cm = op.cm, display = cm.display;
    if (op.updatedDisplay) updateHeightsInViewport(cm);

    op.barMeasure = measureForScrollbars(cm);

    // If the max line changed since it was last measured, measure it,
    // and ensure the document's width matches it.
    // updateDisplay_W2 will use these properties to do the actual resizing
    if (display.maxLineChanged && !cm.options.lineWrapping) {
      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;
      cm.display.sizerWidth = op.adjustWidthTo;
      op.barMeasure.scrollWidth =
        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);
      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));
    }

    if (op.updatedDisplay || op.selectionChanged)
      op.preparedSelection = display.input.prepareSelection();
  }

  function endOperation_W2(op) {
    var cm = op.cm;

    if (op.adjustWidthTo != null) {
      cm.display.sizer.style.minWidth = op.adjustWidthTo + "px";
      if (op.maxScrollLeft < cm.doc.scrollLeft)
        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);
      cm.display.maxLineChanged = false;
    }

    if (op.preparedSelection)
      cm.display.input.showSelection(op.preparedSelection);
    if (op.updatedDisplay)
      setDocumentHeight(cm, op.barMeasure);
    if (op.updatedDisplay || op.startHeight != cm.doc.height)
      updateScrollbars(cm, op.barMeasure);

    if (op.selectionChanged) restartBlink(cm);

    if (cm.state.focused && op.updateInput)
      cm.display.input.reset(op.typing);
    if (op.focus && op.focus == activeElt()) ensureFocus(op.cm);
  }

  function endOperation_finish(op) {
    var cm = op.cm, display = cm.display, doc = cm.doc;

    if (op.updatedDisplay) postUpdateDisplay(cm, op.update);

    // Abort mouse wheel delta measurement, when scrolling explicitly
    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))
      display.wheelStartX = display.wheelStartY = null;

    // Propagate the scroll position to the actual DOM scroller
    if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {
      doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop));
      display.scrollbars.setScrollTop(doc.scrollTop);
      display.scroller.scrollTop = doc.scrollTop;
    }
    if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {
      doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - displayWidth(cm), op.scrollLeft));
      display.scrollbars.setScrollLeft(doc.scrollLeft);
      display.scroller.scrollLeft = doc.scrollLeft;
      alignHorizontally(cm);
    }
    // If we need to scroll a specific position into view, do so.
    if (op.scrollToPos) {
      var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),
                                     clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);
      if (op.scrollToPos.isCursor && cm.state.focused) maybeScrollWindow(cm, coords);
    }

    // Fire events for markers that are hidden/unidden by editing or
    // undoing
    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;
    if (hidden) for (var i = 0; i < hidden.length; ++i)
      if (!hidden[i].lines.length) signal(hidden[i], "hide");
    if (unhidden) for (var i = 0; i < unhidden.length; ++i)
      if (unhidden[i].lines.length) signal(unhidden[i], "unhide");

    if (display.wrapper.offsetHeight)
      doc.scrollTop = cm.display.scroller.scrollTop;

    // Fire change events, and delayed event handlers
    if (op.changeObjs)
      signal(cm, "changes", cm, op.changeObjs);
    if (op.update)
      op.update.finish();
  }

  // Run the given function in an operation
  function runInOp(cm, f) {
    if (cm.curOp) return f();
    startOperation(cm);
    try { return f(); }
    finally { endOperation(cm); }
  }
  // Wraps a function in an operation. Returns the wrapped function.
  function operation(cm, f) {
    return function() {
      if (cm.curOp) return f.apply(cm, arguments);
      startOperation(cm);
      try { return f.apply(cm, arguments); }
      finally { endOperation(cm); }
    };
  }
  // Used to add methods to editor and doc instances, wrapping them in
  // operations.
  function methodOp(f) {
    return function() {
      if (this.curOp) return f.apply(this, arguments);
      startOperation(this);
      try { return f.apply(this, arguments); }
      finally { endOperation(this); }
    };
  }
  function docMethodOp(f) {
    return function() {
      var cm = this.cm;
      if (!cm || cm.curOp) return f.apply(this, arguments);
      startOperation(cm);
      try { return f.apply(this, arguments); }
      finally { endOperation(cm); }
    };
  }

  // VIEW TRACKING

  // These objects are used to represent the visible (currently drawn)
  // part of the document. A LineView may correspond to multiple
  // logical lines, if those are connected by collapsed ranges.
  function LineView(doc, line, lineN) {
    // The starting line
    this.line = line;
    // Continuing lines, if any
    this.rest = visualLineContinued(line);
    // Number of logical lines in this visual line
    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;
    this.node = this.text = null;
    this.hidden = lineIsHidden(doc, line);
  }

  // Create a range of LineView objects for the given lines.
  function buildViewArray(cm, from, to) {
    var array = [], nextPos;
    for (var pos = from; pos < to; pos = nextPos) {
      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);
      nextPos = pos + view.size;
      array.push(view);
    }
    return array;
  }

  // Updates the display.view data structure for a given change to the
  // document. From and to are in pre-change coordinates. Lendiff is
  // the amount of lines added or subtracted by the change. This is
  // used for changes that span multiple lines, or change the way
  // lines are divided into visual lines. regLineChange (below)
  // registers single-line changes.
  function regChange(cm, from, to, lendiff) {
    if (from == null) from = cm.doc.first;
    if (to == null) to = cm.doc.first + cm.doc.size;
    if (!lendiff) lendiff = 0;

    var display = cm.display;
    if (lendiff && to < display.viewTo &&
        (display.updateLineNumbers == null || display.updateLineNumbers > from))
      display.updateLineNumbers = from;

    cm.curOp.viewChanged = true;

    if (from >= display.viewTo) { // Change after
      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)
        resetView(cm);
    } else if (to <= display.viewFrom) { // Change before
      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {
        resetView(cm);
      } else {
        display.viewFrom += lendiff;
        display.viewTo += lendiff;
      }
    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap
      resetView(cm);
    } else if (from <= display.viewFrom) { // Top overlap
      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);
      if (cut) {
        display.view = display.view.slice(cut.index);
        display.viewFrom = cut.lineN;
        display.viewTo += lendiff;
      } else {
        resetView(cm);
      }
    } else if (to >= display.viewTo) { // Bottom overlap
      var cut = viewCuttingPoint(cm, from, from, -1);
      if (cut) {
        display.view = display.view.slice(0, cut.index);
        display.viewTo = cut.lineN;
      } else {
        resetView(cm);
      }
    } else { // Gap in the middle
      var cutTop = viewCuttingPoint(cm, from, from, -1);
      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);
      if (cutTop && cutBot) {
        display.view = display.view.slice(0, cutTop.index)
          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))
          .concat(display.view.slice(cutBot.index));
        display.viewTo += lendiff;
      } else {
        resetView(cm);
      }
    }

    var ext = display.externalMeasured;
    if (ext) {
      if (to < ext.lineN)
        ext.lineN += lendiff;
      else if (from < ext.lineN + ext.size)
        display.externalMeasured = null;
    }
  }

  // Register a change to a single line. Type must be one of "text",
  // "gutter", "class", "widget"
  function regLineChange(cm, line, type) {
    cm.curOp.viewChanged = true;
    var display = cm.display, ext = cm.display.externalMeasured;
    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)
      display.externalMeasured = null;

    if (line < display.viewFrom || line >= display.viewTo) return;
    var lineView = display.view[findViewIndex(cm, line)];
    if (lineView.node == null) return;
    var arr = lineView.changes || (lineView.changes = []);
    if (indexOf(arr, type) == -1) arr.push(type);
  }

  // Clear the view.
  function resetView(cm) {
    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;
    cm.display.view = [];
    cm.display.viewOffset = 0;
  }

  // Find the view element corresponding to a given line. Return null
  // when the line isn't visible.
  function findViewIndex(cm, n) {
    if (n >= cm.display.viewTo) return null;
    n -= cm.display.viewFrom;
    if (n < 0) return null;
    var view = cm.display.view;
    for (var i = 0; i < view.length; i++) {
      n -= view[i].size;
      if (n < 0) return i;
    }
  }

  function viewCuttingPoint(cm, oldN, newN, dir) {
    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;
    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)
      return {index: index, lineN: newN};
    for (var i = 0, n = cm.display.viewFrom; i < index; i++)
      n += view[i].size;
    if (n != oldN) {
      if (dir > 0) {
        if (index == view.length - 1) return null;
        diff = (n + view[index].size) - oldN;
        index++;
      } else {
        diff = n - oldN;
      }
      oldN += diff; newN += diff;
    }
    while (visualLineNo(cm.doc, newN) != newN) {
      if (index == (dir < 0 ? 0 : view.length - 1)) return null;
      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;
      index += dir;
    }
    return {index: index, lineN: newN};
  }

  // Force the view to cover a given range, adding empty view element
  // or clipping off existing ones as needed.
  function adjustView(cm, from, to) {
    var display = cm.display, view = display.view;
    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {
      display.view = buildViewArray(cm, from, to);
      display.viewFrom = from;
    } else {
      if (display.viewFrom > from)
        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);
      else if (display.viewFrom < from)
        display.view = display.view.slice(findViewIndex(cm, from));
      display.viewFrom = from;
      if (display.viewTo < to)
        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));
      else if (display.viewTo > to)
        display.view = display.view.slice(0, findViewIndex(cm, to));
    }
    display.viewTo = to;
  }

  // Count the number of lines in the view whose DOM representation is
  // out of date (or nonexistent).
  function countDirtyView(cm) {
    var view = cm.display.view, dirty = 0;
    for (var i = 0; i < view.length; i++) {
      var lineView = view[i];
      if (!lineView.hidden && (!lineView.node || lineView.changes)) ++dirty;
    }
    return dirty;
  }

  // EVENT HANDLERS

  // Attach the necessary event handlers when initializing the editor
  function registerEventHandlers(cm) {
    var d = cm.display;
    on(d.scroller, "mousedown", operation(cm, onMouseDown));
    // Older IE's will not fire a second mousedown for a double click
    if (ie && ie_version < 11)
      on(d.scroller, "dblclick", operation(cm, function(e) {
        if (signalDOMEvent(cm, e)) return;
        var pos = posFromMouse(cm, e);
        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) return;
        e_preventDefault(e);
        var word = cm.findWordAt(pos);
        extendSelection(cm.doc, word.anchor, word.head);
      }));
    else
      on(d.scroller, "dblclick", function(e) { signalDOMEvent(cm, e) || e_preventDefault(e); });
    // Some browsers fire contextmenu *after* opening the menu, at
    // which point we can't mess with it anymore. Context menu is
    // handled in onMouseDown for these browsers.
    if (!captureRightClick) on(d.scroller, "contextmenu", function(e) {onContextMenu(cm, e);});

    // Used to suppress mouse event handling when a touch happens
    var touchFinished, prevTouch = {end: 0};
    function finishTouch() {
      if (d.activeTouch) {
        touchFinished = setTimeout(function() {d.activeTouch = null;}, 1000);
        prevTouch = d.activeTouch;
        prevTouch.end = +new Date;
      }
    };
    function isMouseLikeTouchEvent(e) {
      if (e.touches.length != 1) return false;
      var touch = e.touches[0];
      return touch.radiusX <= 1 && touch.radiusY <= 1;
    }
    function farAway(touch, other) {
      if (other.left == null) return true;
      var dx = other.left - touch.left, dy = other.top - touch.top;
      return dx * dx + dy * dy > 20 * 20;
    }
    on(d.scroller, "touchstart", function(e) {
      if (!isMouseLikeTouchEvent(e)) {
        clearTimeout(touchFinished);
        var now = +new Date;
        d.activeTouch = {start: now, moved: false,
                         prev: now - prevTouch.end <= 300 ? prevTouch : null};
        if (e.touches.length == 1) {
          d.activeTouch.left = e.touches[0].pageX;
          d.activeTouch.top = e.touches[0].pageY;
        }
      }
    });
    on(d.scroller, "touchmove", function() {
      if (d.activeTouch) d.activeTouch.moved = true;
    });
    on(d.scroller, "touchend", function(e) {
      var touch = d.activeTouch;
      if (touch && !eventInWidget(d, e) && touch.left != null &&
          !touch.moved && new Date - touch.start < 300) {
        var pos = cm.coordsChar(d.activeTouch, "page"), range;
        if (!touch.prev || farAway(touch, touch.prev)) // Single tap
          range = new Range(pos, pos);
        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap
          range = cm.findWordAt(pos);
        else // Triple tap
          range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));
        cm.setSelection(range.anchor, range.head);
        cm.focus();
        e_preventDefault(e);
      }
      finishTouch();
    });
    on(d.scroller, "touchcancel", finishTouch);

    // Sync scrolling between fake scrollbars and real scrollable
    // area, ensure viewport is updated when scrolling.
    on(d.scroller, "scroll", function() {
      if (d.scroller.clientHeight) {
        setScrollTop(cm, d.scroller.scrollTop);
        setScrollLeft(cm, d.scroller.scrollLeft, true);
        signal(cm, "scroll", cm);
      }
    });

    // Listen to wheel events in order to try and update the viewport on time.
    on(d.scroller, "mousewheel", function(e){onScrollWheel(cm, e);});
    on(d.scroller, "DOMMouseScroll", function(e){onScrollWheel(cm, e);});

    // Prevent wrapper from ever scrolling
    on(d.wrapper, "scroll", function() { d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });

    d.dragFunctions = {
      simple: function(e) {if (!signalDOMEvent(cm, e)) e_stop(e);},
      start: function(e){onDragStart(cm, e);},
      drop: operation(cm, onDrop)
    };

    var inp = d.input.getField();
    on(inp, "keyup", function(e) { onKeyUp.call(cm, e); });
    on(inp, "keydown", operation(cm, onKeyDown));
    on(inp, "keypress", operation(cm, onKeyPress));
    on(inp, "focus", bind(onFocus, cm));
    on(inp, "blur", bind(onBlur, cm));
  }

  function dragDropChanged(cm, value, old) {
    var wasOn = old && old != CodeMirror.Init;
    if (!value != !wasOn) {
      var funcs = cm.display.dragFunctions;
      var toggle = value ? on : off;
      toggle(cm.display.scroller, "dragstart", funcs.start);
      toggle(cm.display.scroller, "dragenter", funcs.simple);
      toggle(cm.display.scroller, "dragover", funcs.simple);
      toggle(cm.display.scroller, "drop", funcs.drop);
    }
  }

  // Called when the window resizes
  function onResize(cm) {
    var d = cm.display;
    if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)
      return;
    // Might be a text scaling operation, clear size caches.
    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;
    d.scrollbarsClipped = false;
    cm.setSize();
  }

  // MOUSE EVENTS

  // Return true when the given mouse event happened in a widget
  function eventInWidget(display, e) {
    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {
      if (!n || (n.nodeType == 1 && n.getAttribute("cm-ignore-events") == "true") ||
          (n.parentNode == display.sizer && n != display.mover))
        return true;
    }
  }

  // Given a mouse event, find the corresponding position. If liberal
  // is false, it checks whether a gutter or scrollbar was clicked,
  // and returns null if it was. forRect is used by rectangular
  // selections, and tries to estimate a character position even for
  // coordinates beyond the right of the text.
  function posFromMouse(cm, e, liberal, forRect) {
    var display = cm.display;
    if (!liberal && e_target(e).getAttribute("cm-not-content") == "true") return null;

    var x, y, space = display.lineSpace.getBoundingClientRect();
    // Fails unpredictably on IE[67] when mouse is dragged around quickly.
    try { x = e.clientX - space.left; y = e.clientY - space.top; }
    catch (e) { return null; }
    var coords = coordsChar(cm, x, y), line;
    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {
      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;
      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));
    }
    return coords;
  }

  // A mouse down can be a single click, double click, triple click,
  // start of selection drag, start of text drag, new cursor
  // (ctrl-click), rectangle drag (alt-drag), or xwin
  // middle-click-paste. Or it might be a click on something we should
  // not interfere with, such as a scrollbar or widget.
  function onMouseDown(e) {
    var cm = this, display = cm.display;
    if (display.activeTouch && display.input.supportsTouch() || signalDOMEvent(cm, e)) return;
    display.shift = e.shiftKey;

    if (eventInWidget(display, e)) {
      if (!webkit) {
        // Briefly turn off draggability, to allow widgets to do
        // normal dragging things.
        display.scroller.draggable = false;
        setTimeout(function(){display.scroller.draggable = true;}, 100);
      }
      return;
    }
    if (clickInGutter(cm, e)) return;
    var start = posFromMouse(cm, e);
    window.focus();

    switch (e_button(e)) {
    case 1:
      if (start)
        leftButtonDown(cm, e, start);
      else if (e_target(e) == display.scroller)
        e_preventDefault(e);
      break;
    case 2:
      if (webkit) cm.state.lastMiddleDown = +new Date;
      if (start) extendSelection(cm.doc, start);
      setTimeout(function() {display.input.focus();}, 20);
      e_preventDefault(e);
      break;
    case 3:
      if (captureRightClick) onContextMenu(cm, e);
      else delayBlurEvent(cm);
      break;
    }
  }

  var lastClick, lastDoubleClick;
  function leftButtonDown(cm, e, start) {
    if (ie) setTimeout(bind(ensureFocus, cm), 0);
    else cm.curOp.focus = activeElt();

    var now = +new Date, type;
    if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {
      type = "triple";
    } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {
      type = "double";
      lastDoubleClick = {time: now, pos: start};
    } else {
      type = "single";
      lastClick = {time: now, pos: start};
    }

    var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained;
    if (cm.options.dragDrop && dragAndDrop && !isReadOnly(cm) &&
        type == "single" && (contained = sel.contains(start)) > -1 &&
        (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&
        (cmp(contained.to(), start) > 0 || start.xRel < 0))
      leftButtonStartDrag(cm, e, start, modifier);
    else
      leftButtonSelect(cm, e, start, type, modifier);
  }

  // Start a text drag. When it ends, see if any dragging actually
  // happen, and treat as a click if it didn't.
  function leftButtonStartDrag(cm, e, start, modifier) {
    var display = cm.display, startTime = +new Date;
    var dragEnd = operation(cm, function(e2) {
      if (webkit) display.scroller.draggable = false;
      cm.state.draggingText = false;
      off(document, "mouseup", dragEnd);
      off(display.scroller, "drop", dragEnd);
      if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {
        e_preventDefault(e2);
        if (!modifier && +new Date - 200 < startTime)
          extendSelection(cm.doc, start);
        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)
        if (webkit || ie && ie_version == 9)
          setTimeout(function() {document.body.focus(); display.input.focus();}, 20);
        else
          display.input.focus();
      }
    });
    // Let the drag handler handle this.
    if (webkit) display.scroller.draggable = true;
    cm.state.draggingText = dragEnd;
    // IE's approach to draggable
    if (display.scroller.dragDrop) display.scroller.dragDrop();
    on(document, "mouseup", dragEnd);
    on(display.scroller, "drop", dragEnd);
  }

  // Normal selection, as opposed to text dragging.
  function leftButtonSelect(cm, e, start, type, addNew) {
    var display = cm.display, doc = cm.doc;
    e_preventDefault(e);

    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;
    if (addNew && !e.shiftKey) {
      ourIndex = doc.sel.contains(start);
      if (ourIndex > -1)
        ourRange = ranges[ourIndex];
      else
        ourRange = new Range(start, start);
    } else {
      ourRange = doc.sel.primary();
      ourIndex = doc.sel.primIndex;
    }

    if (e.altKey) {
      type = "rect";
      if (!addNew) ourRange = new Range(start, start);
      start = posFromMouse(cm, e, true, true);
      ourIndex = -1;
    } else if (type == "double") {
      var word = cm.findWordAt(start);
      if (cm.display.shift || doc.extend)
        ourRange = extendRange(doc, ourRange, word.anchor, word.head);
      else
        ourRange = word;
    } else if (type == "triple") {
      var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)));
      if (cm.display.shift || doc.extend)
        ourRange = extendRange(doc, ourRange, line.anchor, line.head);
      else
        ourRange = line;
    } else {
      ourRange = extendRange(doc, ourRange, start);
    }

    if (!addNew) {
      ourIndex = 0;
      setSelection(doc, new Selection([ourRange], 0), sel_mouse);
      startSel = doc.sel;
    } else if (ourIndex == -1) {
      ourIndex = ranges.length;
      setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),
                   {scroll: false, origin: "*mouse"});
    } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == "single" && !e.shiftKey) {
      setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0));
      startSel = doc.sel;
    } else {
      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);
    }

    var lastPos = start;
    function extendTo(pos) {
      if (cmp(lastPos, pos) == 0) return;
      lastPos = pos;

      if (type == "rect") {
        var ranges = [], tabSize = cm.options.tabSize;
        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);
        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);
        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);
        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));
             line <= end; line++) {
          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);
          if (left == right)
            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));
          else if (text.length > leftPos)
            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));
        }
        if (!ranges.length) ranges.push(new Range(start, start));
        setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),
                     {origin: "*mouse", scroll: false});
        cm.scrollIntoView(pos);
      } else {
        var oldRange = ourRange;
        var anchor = oldRange.anchor, head = pos;
        if (type != "single") {
          if (type == "double")
            var range = cm.findWordAt(pos);
          else
            var range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0)));
          if (cmp(range.anchor, anchor) > 0) {
            head = range.head;
            anchor = minPos(oldRange.from(), range.anchor);
          } else {
            head = range.anchor;
            anchor = maxPos(oldRange.to(), range.head);
          }
        }
        var ranges = startSel.ranges.slice(0);
        ranges[ourIndex] = new Range(clipPos(doc, anchor), head);
        setSelection(doc, normalizeSelection(ranges, ourIndex), sel_mouse);
      }
    }

    var editorSize = display.wrapper.getBoundingClientRect();
    // Used to ensure timeout re-tries don't fire when another extend
    // happened in the meantime (clearTimeout isn't reliable -- at
    // least on Chrome, the timeouts still happen even when cleared,
    // if the clear happens after their scheduled firing time).
    var counter = 0;

    function extend(e) {
      var curCount = ++counter;
      var cur = posFromMouse(cm, e, true, type == "rect");
      if (!cur) return;
      if (cmp(cur, lastPos) != 0) {
        cm.curOp.focus = activeElt();
        extendTo(cur);
        var visible = visibleLines(display, doc);
        if (cur.line >= visible.to || cur.line < visible.from)
          setTimeout(operation(cm, function(){if (counter == curCount) extend(e);}), 150);
      } else {
        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;
        if (outside) setTimeout(operation(cm, function() {
          if (counter != curCount) return;
          display.scroller.scrollTop += outside;
          extend(e);
        }), 50);
      }
    }

    function done(e) {
      counter = Infinity;
      e_preventDefault(e);
      display.input.focus();
      off(document, "mousemove", move);
      off(document, "mouseup", up);
      doc.history.lastSelOrigin = null;
    }

    var move = operation(cm, function(e) {
      if (!e_button(e)) done(e);
      else extend(e);
    });
    var up = operation(cm, done);
    on(document, "mousemove", move);
    on(document, "mouseup", up);
  }

  // Determines whether an event happened in the gutter, and fires the
  // handlers for the corresponding event.
  function gutterEvent(cm, e, type, prevent, signalfn) {
    try { var mX = e.clientX, mY = e.clientY; }
    catch(e) { return false; }
    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) return false;
    if (prevent) e_preventDefault(e);

    var display = cm.display;
    var lineBox = display.lineDiv.getBoundingClientRect();

    if (mY > lineBox.bottom || !hasHandler(cm, type)) return e_defaultPrevented(e);
    mY -= lineBox.top - display.viewOffset;

    for (var i = 0; i < cm.options.gutters.length; ++i) {
      var g = display.gutters.childNodes[i];
      if (g && g.getBoundingClientRect().right >= mX) {
        var line = lineAtHeight(cm.doc, mY);
        var gutter = cm.options.gutters[i];
        signalfn(cm, type, cm, line, gutter, e);
        return e_defaultPrevented(e);
      }
    }
  }

  function clickInGutter(cm, e) {
    return gutterEvent(cm, e, "gutterClick", true, signalLater);
  }

  // Kludge to work around strange IE behavior where it'll sometimes
  // re-fire a series of drag-related events right after the drop (#1551)
  var lastDrop = 0;

  function onDrop(e) {
    var cm = this;
    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))
      return;
    e_preventDefault(e);
    if (ie) lastDrop = +new Date;
    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;
    if (!pos || isReadOnly(cm)) return;
    // Might be a file drop, in which case we simply extract the text
    // and insert it.
    if (files && files.length && window.FileReader && window.File) {
      var n = files.length, text = Array(n), read = 0;
      var loadFile = function(file, i) {
        var reader = new FileReader;
        reader.onload = operation(cm, function() {
          text[i] = reader.result;
          if (++read == n) {
            pos = clipPos(cm.doc, pos);
            var change = {from: pos, to: pos,
                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),
                          origin: "paste"};
            makeChange(cm.doc, change);
            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));
          }
        });
        reader.readAsText(file);
      };
      for (var i = 0; i < n; ++i) loadFile(files[i], i);
    } else { // Normal drop
      // Don't do a replace if the drop happened inside of the selected text.
      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {
        cm.state.draggingText(e);
        // Ensure the editor is re-focused
        setTimeout(function() {cm.display.input.focus();}, 20);
        return;
      }
      try {
        var text = e.dataTransfer.getData("Text");
        if (text) {
          if (cm.state.draggingText && !(mac ? e.altKey : e.ctrlKey))
            var selected = cm.listSelections();
          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));
          if (selected) for (var i = 0; i < selected.length; ++i)
            replaceRange(cm.doc, "", selected[i].anchor, selected[i].head, "drag");
          cm.replaceSelection(text, "around", "paste");
          cm.display.input.focus();
        }
      }
      catch(e){}
    }
  }

  function onDragStart(cm, e) {
    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return; }
    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) return;

    e.dataTransfer.setData("Text", cm.getSelection());

    // Use dummy image instead of default browsers image.
    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.
    if (e.dataTransfer.setDragImage && !safari) {
      var img = elt("img", null, null, "position: fixed; left: 0; top: 0;");
      img.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
      if (presto) {
        img.width = img.height = 1;
        cm.display.wrapper.appendChild(img);
        // Force a relayout, or Opera won't use our image for some obscure reason
        img._top = img.offsetTop;
      }
      e.dataTransfer.setDragImage(img, 0, 0);
      if (presto) img.parentNode.removeChild(img);
    }
  }

  // SCROLL EVENTS

  // Sync the scrollable area and scrollbars, ensure the viewport
  // covers the visible area.
  function setScrollTop(cm, val) {
    if (Math.abs(cm.doc.scrollTop - val) < 2) return;
    cm.doc.scrollTop = val;
    if (!gecko) updateDisplaySimple(cm, {top: val});
    if (cm.display.scroller.scrollTop != val) cm.display.scroller.scrollTop = val;
    cm.display.scrollbars.setScrollTop(val);
    if (gecko) updateDisplaySimple(cm);
    startWorker(cm, 100);
  }
  // Sync scroller and scrollbar, ensure the gutter elements are
  // aligned.
  function setScrollLeft(cm, val, isScroller) {
    if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) return;
    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);
    cm.doc.scrollLeft = val;
    alignHorizontally(cm);
    if (cm.display.scroller.scrollLeft != val) cm.display.scroller.scrollLeft = val;
    cm.display.scrollbars.setScrollLeft(val);
  }

  // Since the delta values reported on mouse wheel events are
  // unstandardized between browsers and even browser versions, and
  // generally horribly unpredictable, this code starts by measuring
  // the scroll effect that the first few mouse wheel events have,
  // and, from that, detects the way it can convert deltas to pixel
  // offsets afterwards.
  //
  // The reason we want to know the amount a wheel event will scroll
  // is that it gives us a chance to update the display before the
  // actual scrolling happens, reducing flickering.

  var wheelSamples = 0, wheelPixelsPerUnit = null;
  // Fill in a browser-detected starting value on browsers where we
  // know one. These don't have to be accurate -- the result of them
  // being wrong would just be a slight flicker on the first wheel
  // scroll (if it is large enough).
  if (ie) wheelPixelsPerUnit = -.53;
  else if (gecko) wheelPixelsPerUnit = 15;
  else if (chrome) wheelPixelsPerUnit = -.7;
  else if (safari) wheelPixelsPerUnit = -1/3;

  var wheelEventDelta = function(e) {
    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;
    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) dx = e.detail;
    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) dy = e.detail;
    else if (dy == null) dy = e.wheelDelta;
    return {x: dx, y: dy};
  };
  CodeMirror.wheelEventPixels = function(e) {
    var delta = wheelEventDelta(e);
    delta.x *= wheelPixelsPerUnit;
    delta.y *= wheelPixelsPerUnit;
    return delta;
  };

  function onScrollWheel(cm, e) {
    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;

    var display = cm.display, scroll = display.scroller;
    // Quit if there's nothing to scroll here
    if (!(dx && scroll.scrollWidth > scroll.clientWidth ||
          dy && scroll.scrollHeight > scroll.clientHeight)) return;

    // Webkit browsers on OS X abort momentum scrolls when the target
    // of the scroll event is removed from the scrollable element.
    // This hack (see related code in patchDisplay) makes sure the
    // element is kept around.
    if (dy && mac && webkit) {
      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {
        for (var i = 0; i < view.length; i++) {
          if (view[i].node == cur) {
            cm.display.currentWheelTarget = cur;
            break outer;
          }
        }
      }
    }

    // On some browsers, horizontal scrolling will cause redraws to
    // happen before the gutter has been realigned, causing it to
    // wriggle around in a most unseemly way. When we have an
    // estimated pixels/delta value, we just handle horizontal
    // scrolling entirely here. It'll be slightly off from native, but
    // better than glitching out.
    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {
      if (dy)
        setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight)));
      setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)));
      e_preventDefault(e);
      display.wheelStartX = null; // Abort measurement, if in progress
      return;
    }

    // 'Project' the visible viewport to cover the area that is being
    // scrolled into view (if we know enough to estimate it).
    if (dy && wheelPixelsPerUnit != null) {
      var pixels = dy * wheelPixelsPerUnit;
      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;
      if (pixels < 0) top = Math.max(0, top + pixels - 50);
      else bot = Math.min(cm.doc.height, bot + pixels + 50);
      updateDisplaySimple(cm, {top: top, bottom: bot});
    }

    if (wheelSamples < 20) {
      if (display.wheelStartX == null) {
        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;
        display.wheelDX = dx; display.wheelDY = dy;
        setTimeout(function() {
          if (display.wheelStartX == null) return;
          var movedX = scroll.scrollLeft - display.wheelStartX;
          var movedY = scroll.scrollTop - display.wheelStartY;
          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||
            (movedX && display.wheelDX && movedX / display.wheelDX);
          display.wheelStartX = display.wheelStartY = null;
          if (!sample) return;
          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);
          ++wheelSamples;
        }, 200);
      } else {
        display.wheelDX += dx; display.wheelDY += dy;
      }
    }
  }

  // KEY EVENTS

  // Run a handler that was bound to a key.
  function doHandleBinding(cm, bound, dropShift) {
    if (typeof bound == "string") {
      bound = commands[bound];
      if (!bound) return false;
    }
    // Ensure previous input has been read, so that the handler sees a
    // consistent view of the document
    cm.display.input.ensurePolled();
    var prevShift = cm.display.shift, done = false;
    try {
      if (isReadOnly(cm)) cm.state.suppressEdits = true;
      if (dropShift) cm.display.shift = false;
      done = bound(cm) != Pass;
    } finally {
      cm.display.shift = prevShift;
      cm.state.suppressEdits = false;
    }
    return done;
  }

  function lookupKeyForEditor(cm, name, handle) {
    for (var i = 0; i < cm.state.keyMaps.length; i++) {
      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);
      if (result) return result;
    }
    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))
      || lookupKey(name, cm.options.keyMap, handle, cm);
  }

  var stopSeq = new Delayed;
  function dispatchKey(cm, name, e, handle) {
    var seq = cm.state.keySeq;
    if (seq) {
      if (isModifierKey(name)) return "handled";
      stopSeq.set(50, function() {
        if (cm.state.keySeq == seq) {
          cm.state.keySeq = null;
          cm.display.input.reset();
        }
      });
      name = seq + " " + name;
    }
    var result = lookupKeyForEditor(cm, name, handle);

    if (result == "multi")
      cm.state.keySeq = name;
    if (result == "handled")
      signalLater(cm, "keyHandled", cm, name, e);

    if (result == "handled" || result == "multi") {
      e_preventDefault(e);
      restartBlink(cm);
    }

    if (seq && !result && /\'$/.test(name)) {
      e_preventDefault(e);
      return true;
    }
    return !!result;
  }

  // Handle a key from the keydown event.
  function handleKeyBinding(cm, e) {
    var name = keyName(e, true);
    if (!name) return false;

    if (e.shiftKey && !cm.state.keySeq) {
      // First try to resolve full name (including 'Shift-'). Failing
      // that, see if there is a cursor-motion command (starting with
      // 'go') bound to the keyname without 'Shift-'.
      return dispatchKey(cm, "Shift-" + name, e, function(b) {return doHandleBinding(cm, b, true);})
          || dispatchKey(cm, name, e, function(b) {
               if (typeof b == "string" ? /^go[A-Z]/.test(b) : b.motion)
                 return doHandleBinding(cm, b);
             });
    } else {
      return dispatchKey(cm, name, e, function(b) { return doHandleBinding(cm, b); });
    }
  }

  // Handle a key from the keypress event
  function handleCharBinding(cm, e, ch) {
    return dispatchKey(cm, "'" + ch + "'", e,
                       function(b) { return doHandleBinding(cm, b, true); });
  }

  var lastStoppedKey = null;
  function onKeyDown(e) {
    var cm = this;
    cm.curOp.focus = activeElt();
    if (signalDOMEvent(cm, e)) return;
    // IE does strange things with escape.
    if (ie && ie_version < 11 && e.keyCode == 27) e.returnValue = false;
    var code = e.keyCode;
    cm.display.shift = code == 16 || e.shiftKey;
    var handled = handleKeyBinding(cm, e);
    if (presto) {
      lastStoppedKey = handled ? code : null;
      // Opera has no cut event... we try to at least catch the key combo
      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))
        cm.replaceSelection("", null, "cut");
    }

    // Turn mouse into crosshair when Alt is held on Mac.
    if (code == 18 && !/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className))
      showCrossHair(cm);
  }

  function showCrossHair(cm) {
    var lineDiv = cm.display.lineDiv;
    addClass(lineDiv, "CodeMirror-crosshair");

    function up(e) {
      if (e.keyCode == 18 || !e.altKey) {
        rmClass(lineDiv, "CodeMirror-crosshair");
        off(document, "keyup", up);
        off(document, "mouseover", up);
      }
    }
    on(document, "keyup", up);
    on(document, "mouseover", up);
  }

  function onKeyUp(e) {
    if (e.keyCode == 16) this.doc.sel.shift = false;
    signalDOMEvent(this, e);
  }

  function onKeyPress(e) {
    var cm = this;
    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) return;
    var keyCode = e.keyCode, charCode = e.charCode;
    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return;}
    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) return;
    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);
    if (handleCharBinding(cm, e, ch)) return;
    cm.display.input.onKeyPress(e);
  }

  // FOCUS/BLUR EVENTS

  function delayBlurEvent(cm) {
    cm.state.delayingBlurEvent = true;
    setTimeout(function() {
      if (cm.state.delayingBlurEvent) {
        cm.state.delayingBlurEvent = false;
        onBlur(cm);
      }
    }, 100);
  }

  function onFocus(cm) {
    if (cm.state.delayingBlurEvent) cm.state.delayingBlurEvent = false;

    if (cm.options.readOnly == "nocursor") return;
    if (!cm.state.focused) {
      signal(cm, "focus", cm);
      cm.state.focused = true;
      addClass(cm.display.wrapper, "CodeMirror-focused");
      // This test prevents this from firing when a context
      // menu is closed (since the input reset would kill the
      // select-all detection hack)
      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {
        cm.display.input.reset();
        if (webkit) setTimeout(function() { cm.display.input.reset(true); }, 20); // Issue #1730
      }
      cm.display.input.receivedFocus();
    }
    restartBlink(cm);
  }
  function onBlur(cm) {
    if (cm.state.delayingBlurEvent) return;

    if (cm.state.focused) {
      signal(cm, "blur", cm);
      cm.state.focused = false;
      rmClass(cm.display.wrapper, "CodeMirror-focused");
    }
    clearInterval(cm.display.blinker);
    setTimeout(function() {if (!cm.state.focused) cm.display.shift = false;}, 150);
  }

  // CONTEXT MENU HANDLING

  // To make the context menu work, we need to briefly unhide the
  // textarea (making it as unobtrusive as possible) to let the
  // right-click take effect on it.
  function onContextMenu(cm, e) {
    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) return;
    cm.display.input.onContextMenu(e);
  }

  function contextMenuInGutter(cm, e) {
    if (!hasHandler(cm, "gutterContextMenu")) return false;
    return gutterEvent(cm, e, "gutterContextMenu", false, signal);
  }

  // UPDATING

  // Compute the position of the end of a change (its 'to' property
  // refers to the pre-change end).
  var changeEnd = CodeMirror.changeEnd = function(change) {
    if (!change.text) return change.to;
    return Pos(change.from.line + change.text.length - 1,
               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));
  };

  // Adjust a position to refer to the post-change position of the
  // same text, or the end of the change if the change covers it.
  function adjustForChange(pos, change) {
    if (cmp(pos, change.from) < 0) return pos;
    if (cmp(pos, change.to) <= 0) return changeEnd(change);

    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;
    if (pos.line == change.to.line) ch += changeEnd(change).ch - change.to.ch;
    return Pos(line, ch);
  }

  function computeSelAfterChange(doc, change) {
    var out = [];
    for (var i = 0; i < doc.sel.ranges.length; i++) {
      var range = doc.sel.ranges[i];
      out.push(new Range(adjustForChange(range.anchor, change),
                         adjustForChange(range.head, change)));
    }
    return normalizeSelection(out, doc.sel.primIndex);
  }

  function offsetPos(pos, old, nw) {
    if (pos.line == old.line)
      return Pos(nw.line, pos.ch - old.ch + nw.ch);
    else
      return Pos(nw.line + (pos.line - old.line), pos.ch);
  }

  // Used by replaceSelections to allow moving the selection to the
  // start or around the replaced test. Hint may be "start" or "around".
  function computeReplacedSel(doc, changes, hint) {
    var out = [];
    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;
    for (var i = 0; i < changes.length; i++) {
      var change = changes[i];
      var from = offsetPos(change.from, oldPrev, newPrev);
      var to = offsetPos(changeEnd(change), oldPrev, newPrev);
      oldPrev = change.to;
      newPrev = to;
      if (hint == "around") {
        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;
        out[i] = new Range(inv ? to : from, inv ? from : to);
      } else {
        out[i] = new Range(from, from);
      }
    }
    return new Selection(out, doc.sel.primIndex);
  }

  // Allow "beforeChange" event handlers to influence a change
  function filterChange(doc, change, update) {
    var obj = {
      canceled: false,
      from: change.from,
      to: change.to,
      text: change.text,
      origin: change.origin,
      cancel: function() { this.canceled = true; }
    };
    if (update) obj.update = function(from, to, text, origin) {
      if (from) this.from = clipPos(doc, from);
      if (to) this.to = clipPos(doc, to);
      if (text) this.text = text;
      if (origin !== undefined) this.origin = origin;
    };
    signal(doc, "beforeChange", doc, obj);
    if (doc.cm) signal(doc.cm, "beforeChange", doc.cm, obj);

    if (obj.canceled) return null;
    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin};
  }

  // Apply a change to a document, and add it to the document's
  // history, and propagating it to all linked documents.
  function makeChange(doc, change, ignoreReadOnly) {
    if (doc.cm) {
      if (!doc.cm.curOp) return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);
      if (doc.cm.state.suppressEdits) return;
    }

    if (hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange")) {
      change = filterChange(doc, change, true);
      if (!change) return;
    }

    // Possibly split or suppress the update based on the presence
    // of read-only spans in its range.
    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);
    if (split) {
      for (var i = split.length - 1; i >= 0; --i)
        makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [""] : change.text});
    } else {
      makeChangeInner(doc, change);
    }
  }

  function makeChangeInner(doc, change) {
    if (change.text.length == 1 && change.text[0] == "" && cmp(change.from, change.to) == 0) return;
    var selAfter = computeSelAfterChange(doc, change);
    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);

    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));
    var rebased = [];

    linkedDocs(doc, function(doc, sharedHist) {
      if (!sharedHist && indexOf(rebased, doc.history) == -1) {
        rebaseHist(doc.history, change);
        rebased.push(doc.history);
      }
      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));
    });
  }

  // Revert a change stored in a document's history.
  function makeChangeFromHistory(doc, type, allowSelectionOnly) {
    if (doc.cm && doc.cm.state.suppressEdits) return;

    var hist = doc.history, event, selAfter = doc.sel;
    var source = type == "undo" ? hist.done : hist.undone, dest = type == "undo" ? hist.undone : hist.done;

    // Verify that there is a useable event (so that ctrl-z won't
    // needlessly clear selection events)
    for (var i = 0; i < source.length; i++) {
      event = source[i];
      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)
        break;
    }
    if (i == source.length) return;
    hist.lastOrigin = hist.lastSelOrigin = null;

    for (;;) {
      event = source.pop();
      if (event.ranges) {
        pushSelectionToHistory(event, dest);
        if (allowSelectionOnly && !event.equals(doc.sel)) {
          setSelection(doc, event, {clearRedo: false});
          return;
        }
        selAfter = event;
      }
      else break;
    }

    // Build up a reverse change object to add to the opposite history
    // stack (redo when undoing, and vice versa).
    var antiChanges = [];
    pushSelectionToHistory(selAfter, dest);
    dest.push({changes: antiChanges, generation: hist.generation});
    hist.generation = event.generation || ++hist.maxGeneration;

    var filter = hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange");

    for (var i = event.changes.length - 1; i >= 0; --i) {
      var change = event.changes[i];
      change.origin = type;
      if (filter && !filterChange(doc, change, false)) {
        source.length = 0;
        return;
      }

      antiChanges.push(historyChangeFromChange(doc, change));

      var after = i ? computeSelAfterChange(doc, change) : lst(source);
      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));
      if (!i && doc.cm) doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)});
      var rebased = [];

      // Propagate to the linked documents
      linkedDocs(doc, function(doc, sharedHist) {
        if (!sharedHist && indexOf(rebased, doc.history) == -1) {
          rebaseHist(doc.history, change);
          rebased.push(doc.history);
        }
        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));
      });
    }
  }

  // Sub-views need their line numbers shifted when text is added
  // above or below them in the parent document.
  function shiftDoc(doc, distance) {
    if (distance == 0) return;
    doc.first += distance;
    doc.sel = new Selection(map(doc.sel.ranges, function(range) {
      return new Range(Pos(range.anchor.line + distance, range.anchor.ch),
                       Pos(range.head.line + distance, range.head.ch));
    }), doc.sel.primIndex);
    if (doc.cm) {
      regChange(doc.cm, doc.first, doc.first - distance, distance);
      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)
        regLineChange(doc.cm, l, "gutter");
    }
  }

  // More lower-level change function, handling only a single document
  // (not linked ones).
  function makeChangeSingleDoc(doc, change, selAfter, spans) {
    if (doc.cm && !doc.cm.curOp)
      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);

    if (change.to.line < doc.first) {
      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));
      return;
    }
    if (change.from.line > doc.lastLine()) return;

    // Clip the change to the size of this doc
    if (change.from.line < doc.first) {
      var shift = change.text.length - 1 - (doc.first - change.from.line);
      shiftDoc(doc, shift);
      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),
                text: [lst(change.text)], origin: change.origin};
    }
    var last = doc.lastLine();
    if (change.to.line > last) {
      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),
                text: [change.text[0]], origin: change.origin};
    }

    change.removed = getBetween(doc, change.from, change.to);

    if (!selAfter) selAfter = computeSelAfterChange(doc, change);
    if (doc.cm) makeChangeSingleDocInEditor(doc.cm, change, spans);
    else updateDoc(doc, change, spans);
    setSelectionNoUndo(doc, selAfter, sel_dontScroll);
  }

  // Handle the interaction of a change to a document with the editor
  // that this document is part of.
  function makeChangeSingleDocInEditor(cm, change, spans) {
    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;

    var recomputeMaxLength = false, checkWidthStart = from.line;
    if (!cm.options.lineWrapping) {
      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));
      doc.iter(checkWidthStart, to.line + 1, function(line) {
        if (line == display.maxLine) {
          recomputeMaxLength = true;
          return true;
        }
      });
    }

    if (doc.sel.contains(change.from, change.to) > -1)
      signalCursorActivity(cm);

    updateDoc(doc, change, spans, estimateHeight(cm));

    if (!cm.options.lineWrapping) {
      doc.iter(checkWidthStart, from.line + change.text.length, function(line) {
        var len = lineLength(line);
        if (len > display.maxLineLength) {
          display.maxLine = line;
          display.maxLineLength = len;
          display.maxLineChanged = true;
          recomputeMaxLength = false;
        }
      });
      if (recomputeMaxLength) cm.curOp.updateMaxLine = true;
    }

    // Adjust frontier, schedule worker
    doc.frontier = Math.min(doc.frontier, from.line);
    startWorker(cm, 400);

    var lendiff = change.text.length - (to.line - from.line) - 1;
    // Remember that these lines changed, for updating the display
    if (change.full)
      regChange(cm);
    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))
      regLineChange(cm, from.line, "text");
    else
      regChange(cm, from.line, to.line + 1, lendiff);

    var changesHandler = hasHandler(cm, "changes"), changeHandler = hasHandler(cm, "change");
    if (changeHandler || changesHandler) {
      var obj = {
        from: from, to: to,
        text: change.text,
        removed: change.removed,
        origin: change.origin
      };
      if (changeHandler) signalLater(cm, "change", cm, obj);
      if (changesHandler) (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);
    }
    cm.display.selForContextMenu = null;
  }

  function replaceRange(doc, code, from, to, origin) {
    if (!to) to = from;
    if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp; }
    if (typeof code == "string") code = doc.splitLines(code);
    makeChange(doc, {from: from, to: to, text: code, origin: origin});
  }

  // SCROLLING THINGS INTO VIEW

  // If an editor sits on the top or bottom of the window, partially
  // scrolled out of view, this ensures that the cursor is visible.
  function maybeScrollWindow(cm, coords) {
    if (signalDOMEvent(cm, "scrollCursorIntoView")) return;

    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;
    if (coords.top + box.top < 0) doScroll = true;
    else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) doScroll = false;
    if (doScroll != null && !phantom) {
      var scrollNode = elt("div", "\u200b", null, "position: absolute; top: " +
                           (coords.top - display.viewOffset - paddingTop(cm.display)) + "px; height: " +
                           (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + "px; left: " +
                           coords.left + "px; width: 2px;");
      cm.display.lineSpace.appendChild(scrollNode);
      scrollNode.scrollIntoView(doScroll);
      cm.display.lineSpace.removeChild(scrollNode);
    }
  }

  // Scroll a given position into view (immediately), verifying that
  // it actually became visible (as line heights are accurately
  // measured, the position of something may 'drift' during drawing).
  function scrollPosIntoView(cm, pos, end, margin) {
    if (margin == null) margin = 0;
    for (var limit = 0; limit < 5; limit++) {
      var changed = false, coords = cursorCoords(cm, pos);
      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);
      var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),
                                         Math.min(coords.top, endCoords.top) - margin,
                                         Math.max(coords.left, endCoords.left),
                                         Math.max(coords.bottom, endCoords.bottom) + margin);
      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;
      if (scrollPos.scrollTop != null) {
        setScrollTop(cm, scrollPos.scrollTop);
        if (Math.abs(cm.doc.scrollTop - startTop) > 1) changed = true;
      }
      if (scrollPos.scrollLeft != null) {
        setScrollLeft(cm, scrollPos.scrollLeft);
        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) changed = true;
      }
      if (!changed) break;
    }
    return coords;
  }

  // Scroll a given set of coordinates into view (immediately).
  function scrollIntoView(cm, x1, y1, x2, y2) {
    var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2);
    if (scrollPos.scrollTop != null) setScrollTop(cm, scrollPos.scrollTop);
    if (scrollPos.scrollLeft != null) setScrollLeft(cm, scrollPos.scrollLeft);
  }

  // Calculate a new scroll position needed to scroll the given
  // rectangle into view. Returns an object with scrollTop and
  // scrollLeft properties. When these are undefined, the
  // vertical/horizontal position does not need to be adjusted.
  function calculateScrollPos(cm, x1, y1, x2, y2) {
    var display = cm.display, snapMargin = textHeight(cm.display);
    if (y1 < 0) y1 = 0;
    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;
    var screen = displayHeight(cm), result = {};
    if (y2 - y1 > screen) y2 = y1 + screen;
    var docBottom = cm.doc.height + paddingVert(display);
    var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin;
    if (y1 < screentop) {
      result.scrollTop = atTop ? 0 : y1;
    } else if (y2 > screentop + screen) {
      var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen);
      if (newTop != screentop) result.scrollTop = newTop;
    }

    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;
    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);
    var tooWide = x2 - x1 > screenw;
    if (tooWide) x2 = x1 + screenw;
    if (x1 < 10)
      result.scrollLeft = 0;
    else if (x1 < screenleft)
      result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10));
    else if (x2 > screenw + screenleft - 3)
      result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw;
    return result;
  }

  // Store a relative adjustment to the scroll position in the current
  // operation (to be applied when the operation finishes).
  function addToScrollPos(cm, left, top) {
    if (left != null || top != null) resolveScrollToPos(cm);
    if (left != null)
      cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left;
    if (top != null)
      cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;
  }

  // Make sure that at the end of the operation the current cursor is
  // shown.
  function ensureCursorVisible(cm) {
    resolveScrollToPos(cm);
    var cur = cm.getCursor(), from = cur, to = cur;
    if (!cm.options.lineWrapping) {
      from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur;
      to = Pos(cur.line, cur.ch + 1);
    }
    cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true};
  }

  // When an operation has its scrollToPos property set, and another
  // scroll action is applied before the end of the operation, this
  // 'simulates' scrolling that position into view in a cheap way, so
  // that the effect of intermediate scroll commands is not ignored.
  function resolveScrollToPos(cm) {
    var range = cm.curOp.scrollToPos;
    if (range) {
      cm.curOp.scrollToPos = null;
      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);
      var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),
                                    Math.min(from.top, to.top) - range.margin,
                                    Math.max(from.right, to.right),
                                    Math.max(from.bottom, to.bottom) + range.margin);
      cm.scrollTo(sPos.scrollLeft, sPos.scrollTop);
    }
  }

  // API UTILITIES

  // Indent the given line. The how parameter can be "smart",
  // "add"/null, "subtract", or "prev". When aggressive is false
  // (typically set to true for forced single-line indents), empty
  // lines are not indented, and places where the mode returns Pass
  // are left alone.
  function indentLine(cm, n, how, aggressive) {
    var doc = cm.doc, state;
    if (how == null) how = "add";
    if (how == "smart") {
      // Fall back to "prev" when the mode doesn't have an indentation
      // method.
      if (!doc.mode.indent) how = "prev";
      else state = getStateBefore(cm, n);
    }

    var tabSize = cm.options.tabSize;
    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);
    if (line.stateAfter) line.stateAfter = null;
    var curSpaceString = line.text.match(/^\s*/)[0], indentation;
    if (!aggressive && !/\S/.test(line.text)) {
      indentation = 0;
      how = "not";
    } else if (how == "smart") {
      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);
      if (indentation == Pass || indentation > 150) {
        if (!aggressive) return;
        how = "prev";
      }
    }
    if (how == "prev") {
      if (n > doc.first) indentation = countColumn(getLine(doc, n-1).text, null, tabSize);
      else indentation = 0;
    } else if (how == "add") {
      indentation = curSpace + cm.options.indentUnit;
    } else if (how == "subtract") {
      indentation = curSpace - cm.options.indentUnit;
    } else if (typeof how == "number") {
      indentation = curSpace + how;
    }
    indentation = Math.max(0, indentation);

    var indentString = "", pos = 0;
    if (cm.options.indentWithTabs)
      for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += "\t";}
    if (pos < indentation) indentString += spaceStr(indentation - pos);

    if (indentString != curSpaceString) {
      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), "+input");
      line.stateAfter = null;
      return true;
    } else {
      // Ensure that, if the cursor was in the whitespace at the start
      // of the line, it is moved to the end of that space.
      for (var i = 0; i < doc.sel.ranges.length; i++) {
        var range = doc.sel.ranges[i];
        if (range.head.line == n && range.head.ch < curSpaceString.length) {
          var pos = Pos(n, curSpaceString.length);
          replaceOneSelection(doc, i, new Range(pos, pos));
          break;
        }
      }
    }
  }

  // Utility for applying a change to a line by handle or number,
  // returning the number and optionally registering the line as
  // changed.
  function changeLine(doc, handle, changeType, op) {
    var no = handle, line = handle;
    if (typeof handle == "number") line = getLine(doc, clipLine(doc, handle));
    else no = lineNo(handle);
    if (no == null) return null;
    if (op(line, no) && doc.cm) regLineChange(doc.cm, no, changeType);
    return line;
  }

  // Helper for deleting text near the selection(s), used to implement
  // backspace, delete, and similar functionality.
  function deleteNearSelection(cm, compute) {
    var ranges = cm.doc.sel.ranges, kill = [];
    // Build up a set of ranges to kill first, merging overlapping
    // ranges.
    for (var i = 0; i < ranges.length; i++) {
      var toKill = compute(ranges[i]);
      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {
        var replaced = kill.pop();
        if (cmp(replaced.from, toKill.from) < 0) {
          toKill.from = replaced.from;
          break;
        }
      }
      kill.push(toKill);
    }
    // Next, remove those actual ranges.
    runInOp(cm, function() {
      for (var i = kill.length - 1; i >= 0; i--)
        replaceRange(cm.doc, "", kill[i].from, kill[i].to, "+delete");
      ensureCursorVisible(cm);
    });
  }

  // Used for horizontal relative motion. Dir is -1 or 1 (left or
  // right), unit can be "char", "column" (like char, but doesn't
  // cross line boundaries), "word" (across next word), or "group" (to
  // the start of next group of word or non-word-non-whitespace
  // chars). The visually param controls whether, in right-to-left
  // text, direction 1 means to move towards the next index in the
  // string, or towards the character to the right of the current
  // position. The resulting position will have a hitSide=true
  // property if it reached the end of the document.
  function findPosH(doc, pos, dir, unit, visually) {
    var line = pos.line, ch = pos.ch, origDir = dir;
    var lineObj = getLine(doc, line);
    var possible = true;
    function findNextLine() {
      var l = line + dir;
      if (l < doc.first || l >= doc.first + doc.size) return (possible = false);
      line = l;
      return lineObj = getLine(doc, l);
    }
    function moveOnce(boundToLine) {
      var next = (visually ? moveVisually : moveLogically)(lineObj, ch, dir, true);
      if (next == null) {
        if (!boundToLine && findNextLine()) {
          if (visually) ch = (dir < 0 ? lineRight : lineLeft)(lineObj);
          else ch = dir < 0 ? lineObj.text.length : 0;
        } else return (possible = false);
      } else ch = next;
      return true;
    }

    if (unit == "char") moveOnce();
    else if (unit == "column") moveOnce(true);
    else if (unit == "word" || unit == "group") {
      var sawType = null, group = unit == "group";
      var helper = doc.cm && doc.cm.getHelper(pos, "wordChars");
      for (var first = true;; first = false) {
        if (dir < 0 && !moveOnce(!first)) break;
        var cur = lineObj.text.charAt(ch) || "\n";
        var type = isWordChar(cur, helper) ? "w"
          : group && cur == "\n" ? "n"
          : !group || /\s/.test(cur) ? null
          : "p";
        if (group && !first && !type) type = "s";
        if (sawType && sawType != type) {
          if (dir < 0) {dir = 1; moveOnce();}
          break;
        }

        if (type) sawType = type;
        if (dir > 0 && !moveOnce(!first)) break;
      }
    }
    var result = skipAtomic(doc, Pos(line, ch), origDir, true);
    if (!possible) result.hitSide = true;
    return result;
  }

  // For relative vertical movement. Dir may be -1 or 1. Unit can be
  // "page" or "line". The resulting position will have a hitSide=true
  // property if it reached the end of the document.
  function findPosV(cm, pos, dir, unit) {
    var doc = cm.doc, x = pos.left, y;
    if (unit == "page") {
      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);
      y = pos.top + dir * (pageSize - (dir < 0 ? 1.5 : .5) * textHeight(cm.display));
    } else if (unit == "line") {
      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;
    }
    for (;;) {
      var target = coordsChar(cm, x, y);
      if (!target.outside) break;
      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break; }
      y += dir * 5;
    }
    return target;
  }

  // EDITOR METHODS

  // The publicly visible API. Note that methodOp(f) means
  // 'wrap f in an operation, performed on its `this` parameter'.

  // This is not the complete set of editor methods. Most of the
  // methods defined on the Doc type are also injected into
  // CodeMirror.prototype, for backwards compatibility and
  // convenience.

  CodeMirror.prototype = {
    constructor: CodeMirror,
    focus: function(){window.focus(); this.display.input.focus();},

    setOption: function(option, value) {
      var options = this.options, old = options[option];
      if (options[option] == value && option != "mode") return;
      options[option] = value;
      if (optionHandlers.hasOwnProperty(option))
        operation(this, optionHandlers[option])(this, value, old);
    },

    getOption: function(option) {return this.options[option];},
    getDoc: function() {return this.doc;},

    addKeyMap: function(map, bottom) {
      this.state.keyMaps[bottom ? "push" : "unshift"](getKeyMap(map));
    },
    removeKeyMap: function(map) {
      var maps = this.state.keyMaps;
      for (var i = 0; i < maps.length; ++i)
        if (maps[i] == map || maps[i].name == map) {
          maps.splice(i, 1);
          return true;
        }
    },

    addOverlay: methodOp(function(spec, options) {
      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);
      if (mode.startState) throw new Error("Overlays may not be stateful.");
      this.state.overlays.push({mode: mode, modeSpec: spec, opaque: options && options.opaque});
      this.state.modeGen++;
      regChange(this);
    }),
    removeOverlay: methodOp(function(spec) {
      var overlays = this.state.overlays;
      for (var i = 0; i < overlays.length; ++i) {
        var cur = overlays[i].modeSpec;
        if (cur == spec || typeof spec == "string" && cur.name == spec) {
          overlays.splice(i, 1);
          this.state.modeGen++;
          regChange(this);
          return;
        }
      }
    }),

    indentLine: methodOp(function(n, dir, aggressive) {
      if (typeof dir != "string" && typeof dir != "number") {
        if (dir == null) dir = this.options.smartIndent ? "smart" : "prev";
        else dir = dir ? "add" : "subtract";
      }
      if (isLine(this.doc, n)) indentLine(this, n, dir, aggressive);
    }),
    indentSelection: methodOp(function(how) {
      var ranges = this.doc.sel.ranges, end = -1;
      for (var i = 0; i < ranges.length; i++) {
        var range = ranges[i];
        if (!range.empty()) {
          var from = range.from(), to = range.to();
          var start = Math.max(end, from.line);
          end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;
          for (var j = start; j < end; ++j)
            indentLine(this, j, how);
          var newRanges = this.doc.sel.ranges;
          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)
            replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);
        } else if (range.head.line > end) {
          indentLine(this, range.head.line, how, true);
          end = range.head.line;
          if (i == this.doc.sel.primIndex) ensureCursorVisible(this);
        }
      }
    }),

    // Fetch the parser token for a given character. Useful for hacks
    // that want to inspect the mode state (say, for completion).
    getTokenAt: function(pos, precise) {
      return takeToken(this, pos, precise);
    },

    getLineTokens: function(line, precise) {
      return takeToken(this, Pos(line), precise, true);
    },

    getTokenTypeAt: function(pos) {
      pos = clipPos(this.doc, pos);
      var styles = getLineStyles(this, getLine(this.doc, pos.line));
      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;
      var type;
      if (ch == 0) type = styles[2];
      else for (;;) {
        var mid = (before + after) >> 1;
        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) after = mid;
        else if (styles[mid * 2 + 1] < ch) before = mid + 1;
        else { type = styles[mid * 2 + 2]; break; }
      }
      var cut = type ? type.indexOf("cm-overlay ") : -1;
      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);
    },

    getModeAt: function(pos) {
      var mode = this.doc.mode;
      if (!mode.innerMode) return mode;
      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;
    },

    getHelper: function(pos, type) {
      return this.getHelpers(pos, type)[0];
    },

    getHelpers: function(pos, type) {
      var found = [];
      if (!helpers.hasOwnProperty(type)) return found;
      var help = helpers[type], mode = this.getModeAt(pos);
      if (typeof mode[type] == "string") {
        if (help[mode[type]]) found.push(help[mode[type]]);
      } else if (mode[type]) {
        for (var i = 0; i < mode[type].length; i++) {
          var val = help[mode[type][i]];
          if (val) found.push(val);
        }
      } else if (mode.helperType && help[mode.helperType]) {
        found.push(help[mode.helperType]);
      } else if (help[mode.name]) {
        found.push(help[mode.name]);
      }
      for (var i = 0; i < help._global.length; i++) {
        var cur = help._global[i];
        if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)
          found.push(cur.val);
      }
      return found;
    },

    getStateAfter: function(line, precise) {
      var doc = this.doc;
      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);
      return getStateBefore(this, line + 1, precise);
    },

    cursorCoords: function(start, mode) {
      var pos, range = this.doc.sel.primary();
      if (start == null) pos = range.head;
      else if (typeof start == "object") pos = clipPos(this.doc, start);
      else pos = start ? range.from() : range.to();
      return cursorCoords(this, pos, mode || "page");
    },

    charCoords: function(pos, mode) {
      return charCoords(this, clipPos(this.doc, pos), mode || "page");
    },

    coordsChar: function(coords, mode) {
      coords = fromCoordSystem(this, coords, mode || "page");
      return coordsChar(this, coords.left, coords.top);
    },

    lineAtHeight: function(height, mode) {
      height = fromCoordSystem(this, {top: height, left: 0}, mode || "page").top;
      return lineAtHeight(this.doc, height + this.display.viewOffset);
    },
    heightAtLine: function(line, mode) {
      var end = false, lineObj;
      if (typeof line == "number") {
        var last = this.doc.first + this.doc.size - 1;
        if (line < this.doc.first) line = this.doc.first;
        else if (line > last) { line = last; end = true; }
        lineObj = getLine(this.doc, line);
      } else {
        lineObj = line;
      }
      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || "page").top +
        (end ? this.doc.height - heightAtLine(lineObj) : 0);
    },

    defaultTextHeight: function() { return textHeight(this.display); },
    defaultCharWidth: function() { return charWidth(this.display); },

    setGutterMarker: methodOp(function(line, gutterID, value) {
      return changeLine(this.doc, line, "gutter", function(line) {
        var markers = line.gutterMarkers || (line.gutterMarkers = {});
        markers[gutterID] = value;
        if (!value && isEmpty(markers)) line.gutterMarkers = null;
        return true;
      });
    }),

    clearGutter: methodOp(function(gutterID) {
      var cm = this, doc = cm.doc, i = doc.first;
      doc.iter(function(line) {
        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {
          line.gutterMarkers[gutterID] = null;
          regLineChange(cm, i, "gutter");
          if (isEmpty(line.gutterMarkers)) line.gutterMarkers = null;
        }
        ++i;
      });
    }),

    lineInfo: function(line) {
      if (typeof line == "number") {
        if (!isLine(this.doc, line)) return null;
        var n = line;
        line = getLine(this.doc, line);
        if (!line) return null;
      } else {
        var n = lineNo(line);
        if (n == null) return null;
      }
      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,
              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,
              widgets: line.widgets};
    },

    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo};},

    addWidget: function(pos, node, scroll, vert, horiz) {
      var display = this.display;
      pos = cursorCoords(this, clipPos(this.doc, pos));
      var top = pos.bottom, left = pos.left;
      node.style.position = "absolute";
      node.setAttribute("cm-ignore-events", "true");
      this.display.input.setUneditable(node);
      display.sizer.appendChild(node);
      if (vert == "over") {
        top = pos.top;
      } else if (vert == "above" || vert == "near") {
        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),
        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);
        // Default to positioning above (if specified and possible); otherwise default to positioning below
        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)
          top = pos.top - node.offsetHeight;
        else if (pos.bottom + node.offsetHeight <= vspace)
          top = pos.bottom;
        if (left + node.offsetWidth > hspace)
          left = hspace - node.offsetWidth;
      }
      node.style.top = top + "px";
      node.style.left = node.style.right = "";
      if (horiz == "right") {
        left = display.sizer.clientWidth - node.offsetWidth;
        node.style.right = "0px";
      } else {
        if (horiz == "left") left = 0;
        else if (horiz == "middle") left = (display.sizer.clientWidth - node.offsetWidth) / 2;
        node.style.left = left + "px";
      }
      if (scroll)
        scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight);
    },

    triggerOnKeyDown: methodOp(onKeyDown),
    triggerOnKeyPress: methodOp(onKeyPress),
    triggerOnKeyUp: onKeyUp,

    execCommand: function(cmd) {
      if (commands.hasOwnProperty(cmd))
        return commands[cmd](this);
    },

    triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),

    findPosH: function(from, amount, unit, visually) {
      var dir = 1;
      if (amount < 0) { dir = -1; amount = -amount; }
      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {
        cur = findPosH(this.doc, cur, dir, unit, visually);
        if (cur.hitSide) break;
      }
      return cur;
    },

    moveH: methodOp(function(dir, unit) {
      var cm = this;
      cm.extendSelectionsBy(function(range) {
        if (cm.display.shift || cm.doc.extend || range.empty())
          return findPosH(cm.doc, range.head, dir, unit, cm.options.rtlMoveVisually);
        else
          return dir < 0 ? range.from() : range.to();
      }, sel_move);
    }),

    deleteH: methodOp(function(dir, unit) {
      var sel = this.doc.sel, doc = this.doc;
      if (sel.somethingSelected())
        doc.replaceSelection("", null, "+delete");
      else
        deleteNearSelection(this, function(range) {
          var other = findPosH(doc, range.head, dir, unit, false);
          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other};
        });
    }),

    findPosV: function(from, amount, unit, goalColumn) {
      var dir = 1, x = goalColumn;
      if (amount < 0) { dir = -1; amount = -amount; }
      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {
        var coords = cursorCoords(this, cur, "div");
        if (x == null) x = coords.left;
        else coords.left = x;
        cur = findPosV(this, coords, dir, unit);
        if (cur.hitSide) break;
      }
      return cur;
    },

    moveV: methodOp(function(dir, unit) {
      var cm = this, doc = this.doc, goals = [];
      var collapse = !cm.display.shift && !doc.extend && doc.sel.somethingSelected();
      doc.extendSelectionsBy(function(range) {
        if (collapse)
          return dir < 0 ? range.from() : range.to();
        var headPos = cursorCoords(cm, range.head, "div");
        if (range.goalColumn != null) headPos.left = range.goalColumn;
        goals.push(headPos.left);
        var pos = findPosV(cm, headPos, dir, unit);
        if (unit == "page" && range == doc.sel.primary())
          addToScrollPos(cm, null, charCoords(cm, pos, "div").top - headPos.top);
        return pos;
      }, sel_move);
      if (goals.length) for (var i = 0; i < doc.sel.ranges.length; i++)
        doc.sel.ranges[i].goalColumn = goals[i];
    }),

    // Find the word at the given position (as returned by coordsChar).
    findWordAt: function(pos) {
      var doc = this.doc, line = getLine(doc, pos.line).text;
      var start = pos.ch, end = pos.ch;
      if (line) {
        var helper = this.getHelper(pos, "wordChars");
        if ((pos.xRel < 0 || end == line.length) && start) --start; else ++end;
        var startChar = line.charAt(start);
        var check = isWordChar(startChar, helper)
          ? function(ch) { return isWordChar(ch, helper); }
          : /\s/.test(startChar) ? function(ch) {return /\s/.test(ch);}
          : function(ch) {return !/\s/.test(ch) && !isWordChar(ch);};
        while (start > 0 && check(line.charAt(start - 1))) --start;
        while (end < line.length && check(line.charAt(end))) ++end;
      }
      return new Range(Pos(pos.line, start), Pos(pos.line, end));
    },

    toggleOverwrite: function(value) {
      if (value != null && value == this.state.overwrite) return;
      if (this.state.overwrite = !this.state.overwrite)
        addClass(this.display.cursorDiv, "CodeMirror-overwrite");
      else
        rmClass(this.display.cursorDiv, "CodeMirror-overwrite");

      signal(this, "overwriteToggle", this, this.state.overwrite);
    },
    hasFocus: function() { return this.display.input.getField() == activeElt(); },

    scrollTo: methodOp(function(x, y) {
      if (x != null || y != null) resolveScrollToPos(this);
      if (x != null) this.curOp.scrollLeft = x;
      if (y != null) this.curOp.scrollTop = y;
    }),
    getScrollInfo: function() {
      var scroller = this.display.scroller;
      return {left: scroller.scrollLeft, top: scroller.scrollTop,
              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,
              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,
              clientHeight: displayHeight(this), clientWidth: displayWidth(this)};
    },

    scrollIntoView: methodOp(function(range, margin) {
      if (range == null) {
        range = {from: this.doc.sel.primary().head, to: null};
        if (margin == null) margin = this.options.cursorScrollMargin;
      } else if (typeof range == "number") {
        range = {from: Pos(range, 0), to: null};
      } else if (range.from == null) {
        range = {from: range, to: null};
      }
      if (!range.to) range.to = range.from;
      range.margin = margin || 0;

      if (range.from.line != null) {
        resolveScrollToPos(this);
        this.curOp.scrollToPos = range;
      } else {
        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),
                                      Math.min(range.from.top, range.to.top) - range.margin,
                                      Math.max(range.from.right, range.to.right),
                                      Math.max(range.from.bottom, range.to.bottom) + range.margin);
        this.scrollTo(sPos.scrollLeft, sPos.scrollTop);
      }
    }),

    setSize: methodOp(function(width, height) {
      var cm = this;
      function interpret(val) {
        return typeof val == "number" || /^\d+$/.test(String(val)) ? val + "px" : val;
      }
      if (width != null) cm.display.wrapper.style.width = interpret(width);
      if (height != null) cm.display.wrapper.style.height = interpret(height);
      if (cm.options.lineWrapping) clearLineMeasurementCache(this);
      var lineNo = cm.display.viewFrom;
      cm.doc.iter(lineNo, cm.display.viewTo, function(line) {
        if (line.widgets) for (var i = 0; i < line.widgets.length; i++)
          if (line.widgets[i].noHScroll) { regLineChange(cm, lineNo, "widget"); break; }
        ++lineNo;
      });
      cm.curOp.forceUpdate = true;
      signal(cm, "refresh", this);
    }),

    operation: function(f){return runInOp(this, f);},

    refresh: methodOp(function() {
      var oldHeight = this.display.cachedTextHeight;
      regChange(this);
      this.curOp.forceUpdate = true;
      clearCaches(this);
      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop);
      updateGutterSpace(this);
      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)
        estimateLineHeights(this);
      signal(this, "refresh", this);
    }),

    swapDoc: methodOp(function(doc) {
      var old = this.doc;
      old.cm = null;
      attachDoc(this, doc);
      clearCaches(this);
      this.display.input.reset();
      this.scrollTo(doc.scrollLeft, doc.scrollTop);
      this.curOp.forceScroll = true;
      signalLater(this, "swapDoc", this, old);
      return old;
    }),

    getInputField: function(){return this.display.input.getField();},
    getWrapperElement: function(){return this.display.wrapper;},
    getScrollerElement: function(){return this.display.scroller;},
    getGutterElement: function(){return this.display.gutters;}
  };
  eventMixin(CodeMirror);

  // OPTION DEFAULTS

  // The default configuration options.
  var defaults = CodeMirror.defaults = {};
  // Functions to run when options are changed.
  var optionHandlers = CodeMirror.optionHandlers = {};

  function option(name, deflt, handle, notOnInit) {
    CodeMirror.defaults[name] = deflt;
    if (handle) optionHandlers[name] =
      notOnInit ? function(cm, val, old) {if (old != Init) handle(cm, val, old);} : handle;
  }

  // Passed to option handlers when there is no old value.
  var Init = CodeMirror.Init = {toString: function(){return "CodeMirror.Init";}};

  // These two are, on init, called from the constructor because they
  // have to be initialized before the editor can start at all.
  option("value", "", function(cm, val) {
    cm.setValue(val);
  }, true);
  option("mode", null, function(cm, val) {
    cm.doc.modeOption = val;
    loadMode(cm);
  }, true);

  option("indentUnit", 2, loadMode, true);
  option("indentWithTabs", false);
  option("smartIndent", true);
  option("tabSize", 4, function(cm) {
    resetModeState(cm);
    clearCaches(cm);
    regChange(cm);
  }, true);
  option("lineSeparator", null, function(cm, val) {
    cm.doc.lineSep = val;
    if (!val) return;
    var newBreaks = [], lineNo = cm.doc.first;
    cm.doc.iter(function(line) {
      for (var pos = 0;;) {
        var found = line.text.indexOf(val, pos);
        if (found == -1) break;
        pos = found + val.length;
        newBreaks.push(Pos(lineNo, found));
      }
      lineNo++;
    });
    for (var i = newBreaks.length - 1; i >= 0; i--)
      replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length))
  });
  option("specialChars", /[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g, function(cm, val, old) {
    cm.state.specialChars = new RegExp(val.source + (val.test("\t") ? "" : "|\t"), "g");
    if (old != CodeMirror.Init) cm.refresh();
  });
  option("specialCharPlaceholder", defaultSpecialCharPlaceholder, function(cm) {cm.refresh();}, true);
  option("electricChars", true);
  option("inputStyle", mobile ? "contenteditable" : "textarea", function() {
    throw new Error("inputStyle can not (yet) be changed in a running editor"); // FIXME
  }, true);
  option("rtlMoveVisually", !windows);
  option("wholeLineUpdateBefore", true);

  option("theme", "default", function(cm) {
    themeChanged(cm);
    guttersChanged(cm);
  }, true);
  option("keyMap", "default", function(cm, val, old) {
    var next = getKeyMap(val);
    var prev = old != CodeMirror.Init && getKeyMap(old);
    if (prev && prev.detach) prev.detach(cm, next);
    if (next.attach) next.attach(cm, prev || null);
  });
  option("extraKeys", null);

  option("lineWrapping", false, wrappingChanged, true);
  option("gutters", [], function(cm) {
    setGuttersForLineNumbers(cm.options);
    guttersChanged(cm);
  }, true);
  option("fixedGutter", true, function(cm, val) {
    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + "px" : "0";
    cm.refresh();
  }, true);
  option("coverGutterNextToScrollbar", false, function(cm) {updateScrollbars(cm);}, true);
  option("scrollbarStyle", "native", function(cm) {
    initScrollbars(cm);
    updateScrollbars(cm);
    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);
    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);
  }, true);
  option("lineNumbers", false, function(cm) {
    setGuttersForLineNumbers(cm.options);
    guttersChanged(cm);
  }, true);
  option("firstLineNumber", 1, guttersChanged, true);
  option("lineNumberFormatter", function(integer) {return integer;}, guttersChanged, true);
  option("showCursorWhenSelecting", false, updateSelection, true);

  option("resetSelectionOnContextMenu", true);
  option("lineWiseCopyCut", true);

  option("readOnly", false, function(cm, val) {
    if (val == "nocursor") {
      onBlur(cm);
      cm.display.input.blur();
      cm.display.disabled = true;
    } else {
      cm.display.disabled = false;
      if (!val) cm.display.input.reset();
    }
  });
  option("disableInput", false, function(cm, val) {if (!val) cm.display.input.reset();}, true);
  option("dragDrop", true, dragDropChanged);

  option("cursorBlinkRate", 530);
  option("cursorScrollMargin", 0);
  option("cursorHeight", 1, updateSelection, true);
  option("singleCursorHeightPerLine", true, updateSelection, true);
  option("workTime", 100);
  option("workDelay", 100);
  option("flattenSpans", true, resetModeState, true);
  option("addModeClass", false, resetModeState, true);
  option("pollInterval", 100);
  option("undoDepth", 200, function(cm, val){cm.doc.history.undoDepth = val;});
  option("historyEventDelay", 1250);
  option("viewportMargin", 10, function(cm){cm.refresh();}, true);
  option("maxHighlightLength", 10000, resetModeState, true);
  option("moveInputWithCursor", true, function(cm, val) {
    if (!val) cm.display.input.resetPosition();
  });

  option("tabindex", null, function(cm, val) {
    cm.display.input.getField().tabIndex = val || "";
  });
  option("autofocus", null);

  // MODE DEFINITION AND QUERYING

  // Known modes, by name and by MIME
  var modes = CodeMirror.modes = {}, mimeModes = CodeMirror.mimeModes = {};

  // Extra arguments are stored as the mode's dependencies, which is
  // used by (legacy) mechanisms like loadmode.js to automatically
  // load a mode. (Preferred mechanism is the require/define calls.)
  CodeMirror.defineMode = function(name, mode) {
    if (!CodeMirror.defaults.mode && name != "null") CodeMirror.defaults.mode = name;
    if (arguments.length > 2)
      mode.dependencies = Array.prototype.slice.call(arguments, 2);
    modes[name] = mode;
  };

  CodeMirror.defineMIME = function(mime, spec) {
    mimeModes[mime] = spec;
  };

  // Given a MIME type, a {name, ...options} config object, or a name
  // string, return a mode config object.
  CodeMirror.resolveMode = function(spec) {
    if (typeof spec == "string" && mimeModes.hasOwnProperty(spec)) {
      spec = mimeModes[spec];
    } else if (spec && typeof spec.name == "string" && mimeModes.hasOwnProperty(spec.name)) {
      var found = mimeModes[spec.name];
      if (typeof found == "string") found = {name: found};
      spec = createObj(found, spec);
      spec.name = found.name;
    } else if (typeof spec == "string" && /^[\w\-]+\/[\w\-]+\+xml$/.test(spec)) {
      return CodeMirror.resolveMode("application/xml");
    }
    if (typeof spec == "string") return {name: spec};
    else return spec || {name: "null"};
  };

  // Given a mode spec (anything that resolveMode accepts), find and
  // initialize an actual mode object.
  CodeMirror.getMode = function(options, spec) {
    var spec = CodeMirror.resolveMode(spec);
    var mfactory = modes[spec.name];
    if (!mfactory) return CodeMirror.getMode(options, "text/plain");
    var modeObj = mfactory(options, spec);
    if (modeExtensions.hasOwnProperty(spec.name)) {
      var exts = modeExtensions[spec.name];
      for (var prop in exts) {
        if (!exts.hasOwnProperty(prop)) continue;
        if (modeObj.hasOwnProperty(prop)) modeObj["_" + prop] = modeObj[prop];
        modeObj[prop] = exts[prop];
      }
    }
    modeObj.name = spec.name;
    if (spec.helperType) modeObj.helperType = spec.helperType;
    if (spec.modeProps) for (var prop in spec.modeProps)
      modeObj[prop] = spec.modeProps[prop];

    return modeObj;
  };

  // Minimal default mode.
  CodeMirror.defineMode("null", function() {
    return {token: function(stream) {stream.skipToEnd();}};
  });
  CodeMirror.defineMIME("text/plain", "null");

  // This can be used to attach properties to mode objects from
  // outside the actual mode definition.
  var modeExtensions = CodeMirror.modeExtensions = {};
  CodeMirror.extendMode = function(mode, properties) {
    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});
    copyObj(properties, exts);
  };

  // EXTENSIONS

  CodeMirror.defineExtension = function(name, func) {
    CodeMirror.prototype[name] = func;
  };
  CodeMirror.defineDocExtension = function(name, func) {
    Doc.prototype[name] = func;
  };
  CodeMirror.defineOption = option;

  var initHooks = [];
  CodeMirror.defineInitHook = function(f) {initHooks.push(f);};

  var helpers = CodeMirror.helpers = {};
  CodeMirror.registerHelper = function(type, name, value) {
    if (!helpers.hasOwnProperty(type)) helpers[type] = CodeMirror[type] = {_global: []};
    helpers[type][name] = value;
  };
  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {
    CodeMirror.registerHelper(type, name, value);
    helpers[type]._global.push({pred: predicate, val: value});
  };

  // MODE STATE HANDLING

  // Utility functions for working with state. Exported because nested
  // modes need to do this for their inner modes.

  var copyState = CodeMirror.copyState = function(mode, state) {
    if (state === true) return state;
    if (mode.copyState) return mode.copyState(state);
    var nstate = {};
    for (var n in state) {
      var val = state[n];
      if (val instanceof Array) val = val.concat([]);
      nstate[n] = val;
    }
    return nstate;
  };

  var startState = CodeMirror.startState = function(mode, a1, a2) {
    return mode.startState ? mode.startState(a1, a2) : true;
  };

  // Given a mode and a state (for that mode), find the inner mode and
  // state at the position that the state refers to.
  CodeMirror.innerMode = function(mode, state) {
    while (mode.innerMode) {
      var info = mode.innerMode(state);
      if (!info || info.mode == mode) break;
      state = info.state;
      mode = info.mode;
    }
    return info || {mode: mode, state: state};
  };

  // STANDARD COMMANDS

  // Commands are parameter-less actions that can be performed on an
  // editor, mostly used for keybindings.
  var commands = CodeMirror.commands = {
    selectAll: function(cm) {cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);},
    singleSelection: function(cm) {
      cm.setSelection(cm.getCursor("anchor"), cm.getCursor("head"), sel_dontScroll);
    },
    killLine: function(cm) {
      deleteNearSelection(cm, function(range) {
        if (range.empty()) {
          var len = getLine(cm.doc, range.head.line).text.length;
          if (range.head.ch == len && range.head.line < cm.lastLine())
            return {from: range.head, to: Pos(range.head.line + 1, 0)};
          else
            return {from: range.head, to: Pos(range.head.line, len)};
        } else {
          return {from: range.from(), to: range.to()};
        }
      });
    },
    deleteLine: function(cm) {
      deleteNearSelection(cm, function(range) {
        return {from: Pos(range.from().line, 0),
                to: clipPos(cm.doc, Pos(range.to().line + 1, 0))};
      });
    },
    delLineLeft: function(cm) {
      deleteNearSelection(cm, function(range) {
        return {from: Pos(range.from().line, 0), to: range.from()};
      });
    },
    delWrappedLineLeft: function(cm) {
      deleteNearSelection(cm, function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        var leftPos = cm.coordsChar({left: 0, top: top}, "div");
        return {from: leftPos, to: range.from()};
      });
    },
    delWrappedLineRight: function(cm) {
      deleteNearSelection(cm, function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div");
        return {from: range.from(), to: rightPos };
      });
    },
    undo: function(cm) {cm.undo();},
    redo: function(cm) {cm.redo();},
    undoSelection: function(cm) {cm.undoSelection();},
    redoSelection: function(cm) {cm.redoSelection();},
    goDocStart: function(cm) {cm.extendSelection(Pos(cm.firstLine(), 0));},
    goDocEnd: function(cm) {cm.extendSelection(Pos(cm.lastLine()));},
    goLineStart: function(cm) {
      cm.extendSelectionsBy(function(range) { return lineStart(cm, range.head.line); },
                            {origin: "+move", bias: 1});
    },
    goLineStartSmart: function(cm) {
      cm.extendSelectionsBy(function(range) {
        return lineStartSmart(cm, range.head);
      }, {origin: "+move", bias: 1});
    },
    goLineEnd: function(cm) {
      cm.extendSelectionsBy(function(range) { return lineEnd(cm, range.head.line); },
                            {origin: "+move", bias: -1});
    },
    goLineRight: function(cm) {
      cm.extendSelectionsBy(function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div");
      }, sel_move);
    },
    goLineLeft: function(cm) {
      cm.extendSelectionsBy(function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        return cm.coordsChar({left: 0, top: top}, "div");
      }, sel_move);
    },
    goLineLeftSmart: function(cm) {
      cm.extendSelectionsBy(function(range) {
        var top = cm.charCoords(range.head, "div").top + 5;
        var pos = cm.coordsChar({left: 0, top: top}, "div");
        if (pos.ch < cm.getLine(pos.line).search(/\S/)) return lineStartSmart(cm, range.head);
        return pos;
      }, sel_move);
    },
    goLineUp: function(cm) {cm.moveV(-1, "line");},
    goLineDown: function(cm) {cm.moveV(1, "line");},
    goPageUp: function(cm) {cm.moveV(-1, "page");},
    goPageDown: function(cm) {cm.moveV(1, "page");},
    goCharLeft: function(cm) {cm.moveH(-1, "char");},
    goCharRight: function(cm) {cm.moveH(1, "char");},
    goColumnLeft: function(cm) {cm.moveH(-1, "column");},
    goColumnRight: function(cm) {cm.moveH(1, "column");},
    goWordLeft: function(cm) {cm.moveH(-1, "word");},
    goGroupRight: function(cm) {cm.moveH(1, "group");},
    goGroupLeft: function(cm) {cm.moveH(-1, "group");},
    goWordRight: function(cm) {cm.moveH(1, "word");},
    delCharBefore: function(cm) {cm.deleteH(-1, "char");},
    delCharAfter: function(cm) {cm.deleteH(1, "char");},
    delWordBefore: function(cm) {cm.deleteH(-1, "word");},
    delWordAfter: function(cm) {cm.deleteH(1, "word");},
    delGroupBefore: function(cm) {cm.deleteH(-1, "group");},
    delGroupAfter: function(cm) {cm.deleteH(1, "group");},
    indentAuto: function(cm) {cm.indentSelection("smart");},
    indentMore: function(cm) {cm.indentSelection("add");},
    indentLess: function(cm) {cm.indentSelection("subtract");},
    insertTab: function(cm) {cm.replaceSelection("\t");},
    insertSoftTab: function(cm) {
      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;
      for (var i = 0; i < ranges.length; i++) {
        var pos = ranges[i].from();
        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);
        spaces.push(new Array(tabSize - col % tabSize + 1).join(" "));
      }
      cm.replaceSelections(spaces);
    },
    defaultTab: function(cm) {
      if (cm.somethingSelected()) cm.indentSelection("add");
      else cm.execCommand("insertTab");
    },
    transposeChars: function(cm) {
      runInOp(cm, function() {
        var ranges = cm.listSelections(), newSel = [];
        for (var i = 0; i < ranges.length; i++) {
          var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;
          if (line) {
            if (cur.ch == line.length) cur = new Pos(cur.line, cur.ch - 1);
            if (cur.ch > 0) {
              cur = new Pos(cur.line, cur.ch + 1);
              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),
                              Pos(cur.line, cur.ch - 2), cur, "+transpose");
            } else if (cur.line > cm.doc.first) {
              var prev = getLine(cm.doc, cur.line - 1).text;
              if (prev)
                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +
                                prev.charAt(prev.length - 1),
                                Pos(cur.line - 1, prev.length - 1), Pos(cur.line, 1), "+transpose");
            }
          }
          newSel.push(new Range(cur, cur));
        }
        cm.setSelections(newSel);
      });
    },
    newlineAndIndent: function(cm) {
      runInOp(cm, function() {
        var len = cm.listSelections().length;
        for (var i = 0; i < len; i++) {
          var range = cm.listSelections()[i];
          cm.replaceRange(cm.doc.lineSeparator(), range.anchor, range.head, "+input");
          cm.indentLine(range.from().line + 1, null, true);
          ensureCursorVisible(cm);
        }
      });
    },
    toggleOverwrite: function(cm) {cm.toggleOverwrite();}
  };


  // STANDARD KEYMAPS

  var keyMap = CodeMirror.keyMap = {};

  keyMap.basic = {
    "Left": "goCharLeft", "Right": "goCharRight", "Up": "goLineUp", "Down": "goLineDown",
    "End": "goLineEnd", "Home": "goLineStartSmart", "PageUp": "goPageUp", "PageDown": "goPageDown",
    "Delete": "delCharAfter", "Backspace": "delCharBefore", "Shift-Backspace": "delCharBefore",
    "Tab": "defaultTab", "Shift-Tab": "indentAuto",
    "Enter": "newlineAndIndent", "Insert": "toggleOverwrite",
    "Esc": "singleSelection"
  };
  // Note that the save and find-related commands aren't defined by
  // default. User code or addons can define them. Unknown commands
  // are simply ignored.
  keyMap.pcDefault = {
    "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo",
    "Ctrl-Home": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Up": "goLineUp", "Ctrl-Down": "goLineDown",
    "Ctrl-Left": "goGroupLeft", "Ctrl-Right": "goGroupRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd",
    "Ctrl-Backspace": "delGroupBefore", "Ctrl-Delete": "delGroupAfter", "Ctrl-S": "save", "Ctrl-F": "find",
    "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll",
    "Ctrl-[": "indentLess", "Ctrl-]": "indentMore",
    "Ctrl-U": "undoSelection", "Shift-Ctrl-U": "redoSelection", "Alt-U": "redoSelection",
    fallthrough: "basic"
  };
  // Very basic readline/emacs-style bindings, which are standard on Mac.
  keyMap.emacsy = {
    "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown",
    "Alt-F": "goWordRight", "Alt-B": "goWordLeft", "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd",
    "Ctrl-V": "goPageDown", "Shift-Ctrl-V": "goPageUp", "Ctrl-D": "delCharAfter", "Ctrl-H": "delCharBefore",
    "Alt-D": "delWordAfter", "Alt-Backspace": "delWordBefore", "Ctrl-K": "killLine", "Ctrl-T": "transposeChars"
  };
  keyMap.macDefault = {
    "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo",
    "Cmd-Home": "goDocStart", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goGroupLeft",
    "Alt-Right": "goGroupRight", "Cmd-Left": "goLineLeft", "Cmd-Right": "goLineRight", "Alt-Backspace": "delGroupBefore",
    "Ctrl-Alt-Backspace": "delGroupAfter", "Alt-Delete": "delGroupAfter", "Cmd-S": "save", "Cmd-F": "find",
    "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll",
    "Cmd-[": "indentLess", "Cmd-]": "indentMore", "Cmd-Backspace": "delWrappedLineLeft", "Cmd-Delete": "delWrappedLineRight",
    "Cmd-U": "undoSelection", "Shift-Cmd-U": "redoSelection", "Ctrl-Up": "goDocStart", "Ctrl-Down": "goDocEnd",
    fallthrough: ["basic", "emacsy"]
  };
  keyMap["default"] = mac ? keyMap.macDefault : keyMap.pcDefault;

  // KEYMAP DISPATCH

  function normalizeKeyName(name) {
    var parts = name.split(/-(?!$)/), name = parts[parts.length - 1];
    var alt, ctrl, shift, cmd;
    for (var i = 0; i < parts.length - 1; i++) {
      var mod = parts[i];
      if (/^(cmd|meta|m)$/i.test(mod)) cmd = true;
      else if (/^a(lt)?$/i.test(mod)) alt = true;
      else if (/^(c|ctrl|control)$/i.test(mod)) ctrl = true;
      else if (/^s(hift)$/i.test(mod)) shift = true;
      else throw new Error("Unrecognized modifier name: " + mod);
    }
    if (alt) name = "Alt-" + name;
    if (ctrl) name = "Ctrl-" + name;
    if (cmd) name = "Cmd-" + name;
    if (shift) name = "Shift-" + name;
    return name;
  }

  // This is a kludge to keep keymaps mostly working as raw objects
  // (backwards compatibility) while at the same time support features
  // like normalization and multi-stroke key bindings. It compiles a
  // new normalized keymap, and then updates the old object to reflect
  // this.
  CodeMirror.normalizeKeyMap = function(keymap) {
    var copy = {};
    for (var keyname in keymap) if (keymap.hasOwnProperty(keyname)) {
      var value = keymap[keyname];
      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) continue;
      if (value == "...") { delete keymap[keyname]; continue; }

      var keys = map(keyname.split(" "), normalizeKeyName);
      for (var i = 0; i < keys.length; i++) {
        var val, name;
        if (i == keys.length - 1) {
          name = keys.join(" ");
          val = value;
        } else {
          name = keys.slice(0, i + 1).join(" ");
          val = "...";
        }
        var prev = copy[name];
        if (!prev) copy[name] = val;
        else if (prev != val) throw new Error("Inconsistent bindings for " + name);
      }
      delete keymap[keyname];
    }
    for (var prop in copy) keymap[prop] = copy[prop];
    return keymap;
  };

  var lookupKey = CodeMirror.lookupKey = function(key, map, handle, context) {
    map = getKeyMap(map);
    var found = map.call ? map.call(key, context) : map[key];
    if (found === false) return "nothing";
    if (found === "...") return "multi";
    if (found != null && handle(found)) return "handled";

    if (map.fallthrough) {
      if (Object.prototype.toString.call(map.fallthrough) != "[object Array]")
        return lookupKey(key, map.fallthrough, handle, context);
      for (var i = 0; i < map.fallthrough.length; i++) {
        var result = lookupKey(key, map.fallthrough[i], handle, context);
        if (result) return result;
      }
    }
  };

  // Modifier key presses don't count as 'real' key presses for the
  // purpose of keymap fallthrough.
  var isModifierKey = CodeMirror.isModifierKey = function(value) {
    var name = typeof value == "string" ? value : keyNames[value.keyCode];
    return name == "Ctrl" || name == "Alt" || name == "Shift" || name == "Mod";
  };

  // Look up the name of a key as indicated by an event object.
  var keyName = CodeMirror.keyName = function(event, noShift) {
    if (presto && event.keyCode == 34 && event["char"]) return false;
    var base = keyNames[event.keyCode], name = base;
    if (name == null || event.altGraphKey) return false;
    if (event.altKey && base != "Alt") name = "Alt-" + name;
    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != "Ctrl") name = "Ctrl-" + name;
    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != "Cmd") name = "Cmd-" + name;
    if (!noShift && event.shiftKey && base != "Shift") name = "Shift-" + name;
    return name;
  };

  function getKeyMap(val) {
    return typeof val == "string" ? keyMap[val] : val;
  }

  // FROMTEXTAREA

  CodeMirror.fromTextArea = function(textarea, options) {
    options = options ? copyObj(options) : {};
    options.value = textarea.value;
    if (!options.tabindex && textarea.tabIndex)
      options.tabindex = textarea.tabIndex;
    if (!options.placeholder && textarea.placeholder)
      options.placeholder = textarea.placeholder;
    // Set autofocus to true if this textarea is focused, or if it has
    // autofocus and no other element is focused.
    if (options.autofocus == null) {
      var hasFocus = activeElt();
      options.autofocus = hasFocus == textarea ||
        textarea.getAttribute("autofocus") != null && hasFocus == document.body;
    }

    function save() {textarea.value = cm.getValue();}
    if (textarea.form) {
      on(textarea.form, "submit", save);
      // Deplorable hack to make the submit method do the right thing.
      if (!options.leaveSubmitMethodAlone) {
        var form = textarea.form, realSubmit = form.submit;
        try {
          var wrappedSubmit = form.submit = function() {
            save();
            form.submit = realSubmit;
            form.submit();
            form.submit = wrappedSubmit;
          };
        } catch(e) {}
      }
    }

    options.finishInit = function(cm) {
      cm.save = save;
      cm.getTextArea = function() { return textarea; };
      cm.toTextArea = function() {
        cm.toTextArea = isNaN; // Prevent this from being ran twice
        save();
        textarea.parentNode.removeChild(cm.getWrapperElement());
        textarea.style.display = "";
        if (textarea.form) {
          off(textarea.form, "submit", save);
          if (typeof textarea.form.submit == "function")
            textarea.form.submit = realSubmit;
        }
      };
    };

    textarea.style.display = "none";
    var cm = CodeMirror(function(node) {
      textarea.parentNode.insertBefore(node, textarea.nextSibling);
    }, options);
    return cm;
  };

  // STRING STREAM

  // Fed to the mode parsers, provides helper functions to make
  // parsers more succinct.

  var StringStream = CodeMirror.StringStream = function(string, tabSize) {
    this.pos = this.start = 0;
    this.string = string;
    this.tabSize = tabSize || 8;
    this.lastColumnPos = this.lastColumnValue = 0;
    this.lineStart = 0;
  };

  StringStream.prototype = {
    eol: function() {return this.pos >= this.string.length;},
    sol: function() {return this.pos == this.lineStart;},
    peek: function() {return this.string.charAt(this.pos) || undefined;},
    next: function() {
      if (this.pos < this.string.length)
        return this.string.charAt(this.pos++);
    },
    eat: function(match) {
      var ch = this.string.charAt(this.pos);
      if (typeof match == "string") var ok = ch == match;
      else var ok = ch && (match.test ? match.test(ch) : match(ch));
      if (ok) {++this.pos; return ch;}
    },
    eatWhile: function(match) {
      var start = this.pos;
      while (this.eat(match)){}
      return this.pos > start;
    },
    eatSpace: function() {
      var start = this.pos;
      while (/[\s\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;
      return this.pos > start;
    },
    skipToEnd: function() {this.pos = this.string.length;},
    skipTo: function(ch) {
      var found = this.string.indexOf(ch, this.pos);
      if (found > -1) {this.pos = found; return true;}
    },
    backUp: function(n) {this.pos -= n;},
    column: function() {
      if (this.lastColumnPos < this.start) {
        this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);
        this.lastColumnPos = this.start;
      }
      return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);
    },
    indentation: function() {
      return countColumn(this.string, null, this.tabSize) -
        (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);
    },
    match: function(pattern, consume, caseInsensitive) {
      if (typeof pattern == "string") {
        var cased = function(str) {return caseInsensitive ? str.toLowerCase() : str;};
        var substr = this.string.substr(this.pos, pattern.length);
        if (cased(substr) == cased(pattern)) {
          if (consume !== false) this.pos += pattern.length;
          return true;
        }
      } else {
        var match = this.string.slice(this.pos).match(pattern);
        if (match && match.index > 0) return null;
        if (match && consume !== false) this.pos += match[0].length;
        return match;
      }
    },
    current: function(){return this.string.slice(this.start, this.pos);},
    hideFirstChars: function(n, inner) {
      this.lineStart += n;
      try { return inner(); }
      finally { this.lineStart -= n; }
    }
  };

  // TEXTMARKERS

  // Created with markText and setBookmark methods. A TextMarker is a
  // handle that can be used to clear or find a marked position in the
  // document. Line objects hold arrays (markedSpans) containing
  // {from, to, marker} object pointing to such marker objects, and
  // indicating that such a marker is present on that line. Multiple
  // lines may point to the same marker when it spans across lines.
  // The spans will have null for their from/to properties when the
  // marker continues beyond the start/end of the line. Markers have
  // links back to the lines they currently touch.

  var nextMarkerId = 0;

  var TextMarker = CodeMirror.TextMarker = function(doc, type) {
    this.lines = [];
    this.type = type;
    this.doc = doc;
    this.id = ++nextMarkerId;
  };
  eventMixin(TextMarker);

  // Clear the marker.
  TextMarker.prototype.clear = function() {
    if (this.explicitlyCleared) return;
    var cm = this.doc.cm, withOp = cm && !cm.curOp;
    if (withOp) startOperation(cm);
    if (hasHandler(this, "clear")) {
      var found = this.find();
      if (found) signalLater(this, "clear", found.from, found.to);
    }
    var min = null, max = null;
    for (var i = 0; i < this.lines.length; ++i) {
      var line = this.lines[i];
      var span = getMarkedSpanFor(line.markedSpans, this);
      if (cm && !this.collapsed) regLineChange(cm, lineNo(line), "text");
      else if (cm) {
        if (span.to != null) max = lineNo(line);
        if (span.from != null) min = lineNo(line);
      }
      line.markedSpans = removeMarkedSpan(line.markedSpans, span);
      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)
        updateLineHeight(line, textHeight(cm.display));
    }
    if (cm && this.collapsed && !cm.options.lineWrapping) for (var i = 0; i < this.lines.length; ++i) {
      var visual = visualLine(this.lines[i]), len = lineLength(visual);
      if (len > cm.display.maxLineLength) {
        cm.display.maxLine = visual;
        cm.display.maxLineLength = len;
        cm.display.maxLineChanged = true;
      }
    }

    if (min != null && cm && this.collapsed) regChange(cm, min, max + 1);
    this.lines.length = 0;
    this.explicitlyCleared = true;
    if (this.atomic && this.doc.cantEdit) {
      this.doc.cantEdit = false;
      if (cm) reCheckSelection(cm.doc);
    }
    if (cm) signalLater(cm, "markerCleared", cm, this);
    if (withOp) endOperation(cm);
    if (this.parent) this.parent.clear();
  };

  // Find the position of the marker in the document. Returns a {from,
  // to} object by default. Side can be passed to get a specific side
  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the
  // Pos objects returned contain a line object, rather than a line
  // number (used to prevent looking up the same line twice).
  TextMarker.prototype.find = function(side, lineObj) {
    if (side == null && this.type == "bookmark") side = 1;
    var from, to;
    for (var i = 0; i < this.lines.length; ++i) {
      var line = this.lines[i];
      var span = getMarkedSpanFor(line.markedSpans, this);
      if (span.from != null) {
        from = Pos(lineObj ? line : lineNo(line), span.from);
        if (side == -1) return from;
      }
      if (span.to != null) {
        to = Pos(lineObj ? line : lineNo(line), span.to);
        if (side == 1) return to;
      }
    }
    return from && {from: from, to: to};
  };

  // Signals that the marker's widget changed, and surrounding layout
  // should be recomputed.
  TextMarker.prototype.changed = function() {
    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;
    if (!pos || !cm) return;
    runInOp(cm, function() {
      var line = pos.line, lineN = lineNo(pos.line);
      var view = findViewForLine(cm, lineN);
      if (view) {
        clearLineMeasurementCacheFor(view);
        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;
      }
      cm.curOp.updateMaxLine = true;
      if (!lineIsHidden(widget.doc, line) && widget.height != null) {
        var oldHeight = widget.height;
        widget.height = null;
        var dHeight = widgetHeight(widget) - oldHeight;
        if (dHeight)
          updateLineHeight(line, line.height + dHeight);
      }
    });
  };

  TextMarker.prototype.attachLine = function(line) {
    if (!this.lines.length && this.doc.cm) {
      var op = this.doc.cm.curOp;
      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)
        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);
    }
    this.lines.push(line);
  };
  TextMarker.prototype.detachLine = function(line) {
    this.lines.splice(indexOf(this.lines, line), 1);
    if (!this.lines.length && this.doc.cm) {
      var op = this.doc.cm.curOp;
      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);
    }
  };

  // Collapsed markers have unique ids, in order to be able to order
  // them, which is needed for uniquely determining an outer marker
  // when they overlap (they may nest, but not partially overlap).
  var nextMarkerId = 0;

  // Create a marker, wire it up to the right lines, and
  function markText(doc, from, to, options, type) {
    // Shared markers (across linked documents) are handled separately
    // (markTextShared will call out to this again, once per
    // document).
    if (options && options.shared) return markTextShared(doc, from, to, options, type);
    // Ensure we are in an operation.
    if (doc.cm && !doc.cm.curOp) return operation(doc.cm, markText)(doc, from, to, options, type);

    var marker = new TextMarker(doc, type), diff = cmp(from, to);
    if (options) copyObj(options, marker, false);
    // Don't connect empty markers unless clearWhenEmpty is false
    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)
      return marker;
    if (marker.replacedWith) {
      // Showing up as a widget implies collapsed (widget replaces text)
      marker.collapsed = true;
      marker.widgetNode = elt("span", [marker.replacedWith], "CodeMirror-widget");
      if (!options.handleMouseEvents) marker.widgetNode.setAttribute("cm-ignore-events", "true");
      if (options.insertLeft) marker.widgetNode.insertLeft = true;
    }
    if (marker.collapsed) {
      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||
          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))
        throw new Error("Inserting collapsed marker partially overlapping an existing one");
      sawCollapsedSpans = true;
    }

    if (marker.addToHistory)
      addChangeToHistory(doc, {from: from, to: to, origin: "markText"}, doc.sel, NaN);

    var curLine = from.line, cm = doc.cm, updateMaxLine;
    doc.iter(curLine, to.line + 1, function(line) {
      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)
        updateMaxLine = true;
      if (marker.collapsed && curLine != from.line) updateLineHeight(line, 0);
      addMarkedSpan(line, new MarkedSpan(marker,
                                         curLine == from.line ? from.ch : null,
                                         curLine == to.line ? to.ch : null));
      ++curLine;
    });
    // lineIsHidden depends on the presence of the spans, so needs a second pass
    if (marker.collapsed) doc.iter(from.line, to.line + 1, function(line) {
      if (lineIsHidden(doc, line)) updateLineHeight(line, 0);
    });

    if (marker.clearOnEnter) on(marker, "beforeCursorEnter", function() { marker.clear(); });

    if (marker.readOnly) {
      sawReadOnlySpans = true;
      if (doc.history.done.length || doc.history.undone.length)
        doc.clearHistory();
    }
    if (marker.collapsed) {
      marker.id = ++nextMarkerId;
      marker.atomic = true;
    }
    if (cm) {
      // Sync editor state
      if (updateMaxLine) cm.curOp.updateMaxLine = true;
      if (marker.collapsed)
        regChange(cm, from.line, to.line + 1);
      else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)
        for (var i = from.line; i <= to.line; i++) regLineChange(cm, i, "text");
      if (marker.atomic) reCheckSelection(cm.doc);
      signalLater(cm, "markerAdded", cm, marker);
    }
    return marker;
  }

  // SHARED TEXTMARKERS

  // A shared marker spans multiple linked documents. It is
  // implemented as a meta-marker-object controlling multiple normal
  // markers.
  var SharedTextMarker = CodeMirror.SharedTextMarker = function(markers, primary) {
    this.markers = markers;
    this.primary = primary;
    for (var i = 0; i < markers.length; ++i)
      markers[i].parent = this;
  };
  eventMixin(SharedTextMarker);

  SharedTextMarker.prototype.clear = function() {
    if (this.explicitlyCleared) return;
    this.explicitlyCleared = true;
    for (var i = 0; i < this.markers.length; ++i)
      this.markers[i].clear();
    signalLater(this, "clear");
  };
  SharedTextMarker.prototype.find = function(side, lineObj) {
    return this.primary.find(side, lineObj);
  };

  function markTextShared(doc, from, to, options, type) {
    options = copyObj(options);
    options.shared = false;
    var markers = [markText(doc, from, to, options, type)], primary = markers[0];
    var widget = options.widgetNode;
    linkedDocs(doc, function(doc) {
      if (widget) options.widgetNode = widget.cloneNode(true);
      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));
      for (var i = 0; i < doc.linked.length; ++i)
        if (doc.linked[i].isParent) return;
      primary = lst(markers);
    });
    return new SharedTextMarker(markers, primary);
  }

  function findSharedMarkers(doc) {
    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())),
                         function(m) { return m.parent; });
  }

  function copySharedMarkers(doc, markers) {
    for (var i = 0; i < markers.length; i++) {
      var marker = markers[i], pos = marker.find();
      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);
      if (cmp(mFrom, mTo)) {
        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);
        marker.markers.push(subMark);
        subMark.parent = marker;
      }
    }
  }

  function detachSharedMarkers(markers) {
    for (var i = 0; i < markers.length; i++) {
      var marker = markers[i], linked = [marker.primary.doc];;
      linkedDocs(marker.primary.doc, function(d) { linked.push(d); });
      for (var j = 0; j < marker.markers.length; j++) {
        var subMarker = marker.markers[j];
        if (indexOf(linked, subMarker.doc) == -1) {
          subMarker.parent = null;
          marker.markers.splice(j--, 1);
        }
      }
    }
  }

  // TEXTMARKER SPANS

  function MarkedSpan(marker, from, to) {
    this.marker = marker;
    this.from = from; this.to = to;
  }

  // Search an array of spans for a span matching the given marker.
  function getMarkedSpanFor(spans, marker) {
    if (spans) for (var i = 0; i < spans.length; ++i) {
      var span = spans[i];
      if (span.marker == marker) return span;
    }
  }
  // Remove a span from an array, returning undefined if no spans are
  // left (we don't store arrays for lines without spans).
  function removeMarkedSpan(spans, span) {
    for (var r, i = 0; i < spans.length; ++i)
      if (spans[i] != span) (r || (r = [])).push(spans[i]);
    return r;
  }
  // Add a span to a line.
  function addMarkedSpan(line, span) {
    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];
    span.marker.attachLine(line);
  }

  // Used for the algorithm that adjusts markers for a change in the
  // document. These functions cut an array of spans at a given
  // character position, returning an array of remaining chunks (or
  // undefined if nothing remains).
  function markedSpansBefore(old, startCh, isInsert) {
    if (old) for (var i = 0, nw; i < old.length; ++i) {
      var span = old[i], marker = span.marker;
      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);
      if (startsBefore || span.from == startCh && marker.type == "bookmark" && (!isInsert || !span.marker.insertLeft)) {
        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);
        (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));
      }
    }
    return nw;
  }
  function markedSpansAfter(old, endCh, isInsert) {
    if (old) for (var i = 0, nw; i < old.length; ++i) {
      var span = old[i], marker = span.marker;
      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);
      if (endsAfter || span.from == endCh && marker.type == "bookmark" && (!isInsert || span.marker.insertLeft)) {
        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);
        (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,
                                              span.to == null ? null : span.to - endCh));
      }
    }
    return nw;
  }

  // Given a change object, compute the new set of marker spans that
  // cover the line in which the change took place. Removes spans
  // entirely within the change, reconnects spans belonging to the
  // same marker that appear on both sides of the change, and cuts off
  // spans partially within the change. Returns an array of span
  // arrays with one element for each line in (after) the change.
  function stretchSpansOverChange(doc, change) {
    if (change.full) return null;
    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;
    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;
    if (!oldFirst && !oldLast) return null;

    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;
    // Get the spans that 'stick out' on both sides
    var first = markedSpansBefore(oldFirst, startCh, isInsert);
    var last = markedSpansAfter(oldLast, endCh, isInsert);

    // Next, merge those two ends
    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);
    if (first) {
      // Fix up .to properties of first
      for (var i = 0; i < first.length; ++i) {
        var span = first[i];
        if (span.to == null) {
          var found = getMarkedSpanFor(last, span.marker);
          if (!found) span.to = startCh;
          else if (sameLine) span.to = found.to == null ? null : found.to + offset;
        }
      }
    }
    if (last) {
      // Fix up .from in last (or move them into first in case of sameLine)
      for (var i = 0; i < last.length; ++i) {
        var span = last[i];
        if (span.to != null) span.to += offset;
        if (span.from == null) {
          var found = getMarkedSpanFor(first, span.marker);
          if (!found) {
            span.from = offset;
            if (sameLine) (first || (first = [])).push(span);
          }
        } else {
          span.from += offset;
          if (sameLine) (first || (first = [])).push(span);
        }
      }
    }
    // Make sure we didn't create any zero-length spans
    if (first) first = clearEmptySpans(first);
    if (last && last != first) last = clearEmptySpans(last);

    var newMarkers = [first];
    if (!sameLine) {
      // Fill gap with whole-line-spans
      var gap = change.text.length - 2, gapMarkers;
      if (gap > 0 && first)
        for (var i = 0; i < first.length; ++i)
          if (first[i].to == null)
            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i].marker, null, null));
      for (var i = 0; i < gap; ++i)
        newMarkers.push(gapMarkers);
      newMarkers.push(last);
    }
    return newMarkers;
  }

  // Remove spans that are empty and don't have a clearWhenEmpty
  // option of false.
  function clearEmptySpans(spans) {
    for (var i = 0; i < spans.length; ++i) {
      var span = spans[i];
      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)
        spans.splice(i--, 1);
    }
    if (!spans.length) return null;
    return spans;
  }

  // Used for un/re-doing changes from the history. Combines the
  // result of computing the existing spans with the set of spans that
  // existed in the history (so that deleting around a span and then
  // undoing brings back the span).
  function mergeOldSpans(doc, change) {
    var old = getOldSpans(doc, change);
    var stretched = stretchSpansOverChange(doc, change);
    if (!old) return stretched;
    if (!stretched) return old;

    for (var i = 0; i < old.length; ++i) {
      var oldCur = old[i], stretchCur = stretched[i];
      if (oldCur && stretchCur) {
        spans: for (var j = 0; j < stretchCur.length; ++j) {
          var span = stretchCur[j];
          for (var k = 0; k < oldCur.length; ++k)
            if (oldCur[k].marker == span.marker) continue spans;
          oldCur.push(span);
        }
      } else if (stretchCur) {
        old[i] = stretchCur;
      }
    }
    return old;
  }

  // Used to 'clip' out readOnly ranges when making a change.
  function removeReadOnlyRanges(doc, from, to) {
    var markers = null;
    doc.iter(from.line, to.line + 1, function(line) {
      if (line.markedSpans) for (var i = 0; i < line.markedSpans.length; ++i) {
        var mark = line.markedSpans[i].marker;
        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))
          (markers || (markers = [])).push(mark);
      }
    });
    if (!markers) return null;
    var parts = [{from: from, to: to}];
    for (var i = 0; i < markers.length; ++i) {
      var mk = markers[i], m = mk.find(0);
      for (var j = 0; j < parts.length; ++j) {
        var p = parts[j];
        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) continue;
        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);
        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)
          newParts.push({from: p.from, to: m.from});
        if (dto > 0 || !mk.inclusiveRight && !dto)
          newParts.push({from: m.to, to: p.to});
        parts.splice.apply(parts, newParts);
        j += newParts.length - 1;
      }
    }
    return parts;
  }

  // Connect or disconnect spans from a line.
  function detachMarkedSpans(line) {
    var spans = line.markedSpans;
    if (!spans) return;
    for (var i = 0; i < spans.length; ++i)
      spans[i].marker.detachLine(line);
    line.markedSpans = null;
  }
  function attachMarkedSpans(line, spans) {
    if (!spans) return;
    for (var i = 0; i < spans.length; ++i)
      spans[i].marker.attachLine(line);
    line.markedSpans = spans;
  }

  // Helpers used when computing which overlapping collapsed span
  // counts as the larger one.
  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0; }
  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0; }

  // Returns a number indicating which of two overlapping collapsed
  // spans is larger (and thus includes the other). Falls back to
  // comparing ids when the spans cover exactly the same range.
  function compareCollapsedMarkers(a, b) {
    var lenDiff = a.lines.length - b.lines.length;
    if (lenDiff != 0) return lenDiff;
    var aPos = a.find(), bPos = b.find();
    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);
    if (fromCmp) return -fromCmp;
    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);
    if (toCmp) return toCmp;
    return b.id - a.id;
  }

  // Find out whether a line ends or starts in a collapsed span. If
  // so, return the marker for that span.
  function collapsedSpanAtSide(line, start) {
    var sps = sawCollapsedSpans && line.markedSpans, found;
    if (sps) for (var sp, i = 0; i < sps.length; ++i) {
      sp = sps[i];
      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&
          (!found || compareCollapsedMarkers(found, sp.marker) < 0))
        found = sp.marker;
    }
    return found;
  }
  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true); }
  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false); }

  // Test whether there exists a collapsed span that partially
  // overlaps (covers the start or end, but not both) of a new span.
  // Such overlap is not allowed.
  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {
    var line = getLine(doc, lineNo);
    var sps = sawCollapsedSpans && line.markedSpans;
    if (sps) for (var i = 0; i < sps.length; ++i) {
      var sp = sps[i];
      if (!sp.marker.collapsed) continue;
      var found = sp.marker.find(0);
      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);
      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);
      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) continue;
      if (fromCmp <= 0 && (cmp(found.to, from) > 0 || (sp.marker.inclusiveRight && marker.inclusiveLeft)) ||
          fromCmp >= 0 && (cmp(found.from, to) < 0 || (sp.marker.inclusiveLeft && marker.inclusiveRight)))
        return true;
    }
  }

  // A visual line is a line as drawn on the screen. Folding, for
  // example, can cause multiple logical lines to appear on the same
  // visual line. This finds the start of the visual line that the
  // given line is part of (usually that is the line itself).
  function visualLine(line) {
    var merged;
    while (merged = collapsedSpanAtStart(line))
      line = merged.find(-1, true).line;
    return line;
  }

  // Returns an array of logical lines that continue the visual line
  // started by the argument, or undefined if there are no such lines.
  function visualLineContinued(line) {
    var merged, lines;
    while (merged = collapsedSpanAtEnd(line)) {
      line = merged.find(1, true).line;
      (lines || (lines = [])).push(line);
    }
    return lines;
  }

  // Get the line number of the start of the visual line that the
  // given line number is part of.
  function visualLineNo(doc, lineN) {
    var line = getLine(doc, lineN), vis = visualLine(line);
    if (line == vis) return lineN;
    return lineNo(vis);
  }
  // Get the line number of the start of the next visual line after
  // the given line.
  function visualLineEndNo(doc, lineN) {
    if (lineN > doc.lastLine()) return lineN;
    var line = getLine(doc, lineN), merged;
    if (!lineIsHidden(doc, line)) return lineN;
    while (merged = collapsedSpanAtEnd(line))
      line = merged.find(1, true).line;
    return lineNo(line) + 1;
  }

  // Compute whether a line is hidden. Lines count as hidden when they
  // are part of a visual line that starts with another line, or when
  // they are entirely covered by collapsed, non-widget span.
  function lineIsHidden(doc, line) {
    var sps = sawCollapsedSpans && line.markedSpans;
    if (sps) for (var sp, i = 0; i < sps.length; ++i) {
      sp = sps[i];
      if (!sp.marker.collapsed) continue;
      if (sp.from == null) return true;
      if (sp.marker.widgetNode) continue;
      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))
        return true;
    }
  }
  function lineIsHiddenInner(doc, line, span) {
    if (span.to == null) {
      var end = span.marker.find(1, true);
      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));
    }
    if (span.marker.inclusiveRight && span.to == line.text.length)
      return true;
    for (var sp, i = 0; i < line.markedSpans.length; ++i) {
      sp = line.markedSpans[i];
      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&
          (sp.to == null || sp.to != span.from) &&
          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&
          lineIsHiddenInner(doc, line, sp)) return true;
    }
  }

  // LINE WIDGETS

  // Line widgets are block elements displayed above or below a line.

  var LineWidget = CodeMirror.LineWidget = function(doc, node, options) {
    if (options) for (var opt in options) if (options.hasOwnProperty(opt))
      this[opt] = options[opt];
    this.doc = doc;
    this.node = node;
  };
  eventMixin(LineWidget);

  function adjustScrollWhenAboveVisible(cm, line, diff) {
    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))
      addToScrollPos(cm, null, diff);
  }

  LineWidget.prototype.clear = function() {
    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);
    if (no == null || !ws) return;
    for (var i = 0; i < ws.length; ++i) if (ws[i] == this) ws.splice(i--, 1);
    if (!ws.length) line.widgets = null;
    var height = widgetHeight(this);
    updateLineHeight(line, Math.max(0, line.height - height));
    if (cm) runInOp(cm, function() {
      adjustScrollWhenAboveVisible(cm, line, -height);
      regLineChange(cm, no, "widget");
    });
  };
  LineWidget.prototype.changed = function() {
    var oldH = this.height, cm = this.doc.cm, line = this.line;
    this.height = null;
    var diff = widgetHeight(this) - oldH;
    if (!diff) return;
    updateLineHeight(line, line.height + diff);
    if (cm) runInOp(cm, function() {
      cm.curOp.forceUpdate = true;
      adjustScrollWhenAboveVisible(cm, line, diff);
    });
  };

  function widgetHeight(widget) {
    if (widget.height != null) return widget.height;
    var cm = widget.doc.cm;
    if (!cm) return 0;
    if (!contains(document.body, widget.node)) {
      var parentStyle = "position: relative;";
      if (widget.coverGutter)
        parentStyle += "margin-left: -" + cm.display.gutters.offsetWidth + "px;";
      if (widget.noHScroll)
        parentStyle += "width: " + cm.display.wrapper.clientWidth + "px;";
      removeChildrenAndAdd(cm.display.measure, elt("div", [widget.node], null, parentStyle));
    }
    return widget.height = widget.node.offsetHeight;
  }

  function addLineWidget(doc, handle, node, options) {
    var widget = new LineWidget(doc, node, options);
    var cm = doc.cm;
    if (cm && widget.noHScroll) cm.display.alignWidgets = true;
    changeLine(doc, handle, "widget", function(line) {
      var widgets = line.widgets || (line.widgets = []);
      if (widget.insertAt == null) widgets.push(widget);
      else widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);
      widget.line = line;
      if (cm && !lineIsHidden(doc, line)) {
        var aboveVisible = heightAtLine(line) < doc.scrollTop;
        updateLineHeight(line, line.height + widgetHeight(widget));
        if (aboveVisible) addToScrollPos(cm, null, widget.height);
        cm.curOp.forceUpdate = true;
      }
      return true;
    });
    return widget;
  }

  // LINE DATA STRUCTURE

  // Line objects. These hold state related to a line, including
  // highlighting info (the styles array).
  var Line = CodeMirror.Line = function(text, markedSpans, estimateHeight) {
    this.text = text;
    attachMarkedSpans(this, markedSpans);
    this.height = estimateHeight ? estimateHeight(this) : 1;
  };
  eventMixin(Line);
  Line.prototype.lineNo = function() { return lineNo(this); };

  // Change the content (text, markers) of a line. Automatically
  // invalidates cached information and tries to re-estimate the
  // line's height.
  function updateLine(line, text, markedSpans, estimateHeight) {
    line.text = text;
    if (line.stateAfter) line.stateAfter = null;
    if (line.styles) line.styles = null;
    if (line.order != null) line.order = null;
    detachMarkedSpans(line);
    attachMarkedSpans(line, markedSpans);
    var estHeight = estimateHeight ? estimateHeight(line) : 1;
    if (estHeight != line.height) updateLineHeight(line, estHeight);
  }

  // Detach a line from the document tree and its markers.
  function cleanUpLine(line) {
    line.parent = null;
    detachMarkedSpans(line);
  }

  function extractLineClasses(type, output) {
    if (type) for (;;) {
      var lineClass = type.match(/(?:^|\s+)line-(background-)?(\S+)/);
      if (!lineClass) break;
      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);
      var prop = lineClass[1] ? "bgClass" : "textClass";
      if (output[prop] == null)
        output[prop] = lineClass[2];
      else if (!(new RegExp("(?:^|\s)" + lineClass[2] + "(?:$|\s)")).test(output[prop]))
        output[prop] += " " + lineClass[2];
    }
    return type;
  }

  function callBlankLine(mode, state) {
    if (mode.blankLine) return mode.blankLine(state);
    if (!mode.innerMode) return;
    var inner = CodeMirror.innerMode(mode, state);
    if (inner.mode.blankLine) return inner.mode.blankLine(inner.state);
  }

  function readToken(mode, stream, state, inner) {
    for (var i = 0; i < 10; i++) {
      if (inner) inner[0] = CodeMirror.innerMode(mode, state).mode;
      var style = mode.token(stream, state);
      if (stream.pos > stream.start) return style;
    }
    throw new Error("Mode " + mode.name + " failed to advance stream.");
  }

  // Utility for getTokenAt and getLineTokens
  function takeToken(cm, pos, precise, asArray) {
    function getObj(copy) {
      return {start: stream.start, end: stream.pos,
              string: stream.current(),
              type: style || null,
              state: copy ? copyState(doc.mode, state) : state};
    }

    var doc = cm.doc, mode = doc.mode, style;
    pos = clipPos(doc, pos);
    var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise);
    var stream = new StringStream(line.text, cm.options.tabSize), tokens;
    if (asArray) tokens = [];
    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {
      stream.start = stream.pos;
      style = readToken(mode, stream, state);
      if (asArray) tokens.push(getObj(true));
    }
    return asArray ? tokens : getObj();
  }

  // Run the given mode's parser over a line, calling f for each token.
  function runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {
    var flattenSpans = mode.flattenSpans;
    if (flattenSpans == null) flattenSpans = cm.options.flattenSpans;
    var curStart = 0, curStyle = null;
    var stream = new StringStream(text, cm.options.tabSize), style;
    var inner = cm.options.addModeClass && [null];
    if (text == "") extractLineClasses(callBlankLine(mode, state), lineClasses);
    while (!stream.eol()) {
      if (stream.pos > cm.options.maxHighlightLength) {
        flattenSpans = false;
        if (forceToEnd) processLine(cm, text, state, stream.pos);
        stream.pos = text.length;
        style = null;
      } else {
        style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses);
      }
      if (inner) {
        var mName = inner[0].name;
        if (mName) style = "m-" + (style ? mName + " " + style : mName);
      }
      if (!flattenSpans || curStyle != style) {
        while (curStart < stream.start) {
          curStart = Math.min(stream.start, curStart + 50000);
          f(curStart, curStyle);
        }
        curStyle = style;
      }
      stream.start = stream.pos;
    }
    while (curStart < stream.pos) {
      // Webkit seems to refuse to render text nodes longer than 57444 characters
      var pos = Math.min(stream.pos, curStart + 50000);
      f(pos, curStyle);
      curStart = pos;
    }
  }

  // Compute a style array (an array starting with a mode generation
  // -- for invalidation -- followed by pairs of end positions and
  // style strings), which is used to highlight the tokens on the
  // line.
  function highlightLine(cm, line, state, forceToEnd) {
    // A styles array always starts with a number identifying the
    // mode/overlays that it is based on (for easy invalidation).
    var st = [cm.state.modeGen], lineClasses = {};
    // Compute the base array of styles
    runMode(cm, line.text, cm.doc.mode, state, function(end, style) {
      st.push(end, style);
    }, lineClasses, forceToEnd);

    // Run overlays, adjust style array.
    for (var o = 0; o < cm.state.overlays.length; ++o) {
      var overlay = cm.state.overlays[o], i = 1, at = 0;
      runMode(cm, line.text, overlay.mode, true, function(end, style) {
        var start = i;
        // Ensure there's a token end at the current position, and that i points at it
        while (at < end) {
          var i_end = st[i];
          if (i_end > end)
            st.splice(i, 1, end, st[i+1], i_end);
          i += 2;
          at = Math.min(end, i_end);
        }
        if (!style) return;
        if (overlay.opaque) {
          st.splice(start, i - start, end, "cm-overlay " + style);
          i = start + 2;
        } else {
          for (; start < i; start += 2) {
            var cur = st[start+1];
            st[start+1] = (cur ? cur + " " : "") + "cm-overlay " + style;
          }
        }
      }, lineClasses);
    }

    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null};
  }

  function getLineStyles(cm, line, updateFrontier) {
    if (!line.styles || line.styles[0] != cm.state.modeGen) {
      var result = highlightLine(cm, line, line.stateAfter = getStateBefore(cm, lineNo(line)));
      line.styles = result.styles;
      if (result.classes) line.styleClasses = result.classes;
      else if (line.styleClasses) line.styleClasses = null;
      if (updateFrontier === cm.doc.frontier) cm.doc.frontier++;
    }
    return line.styles;
  }

  // Lightweight form of highlight -- proceed over this line and
  // update state, but don't save a style array. Used for lines that
  // aren't currently visible.
  function processLine(cm, text, state, startAt) {
    var mode = cm.doc.mode;
    var stream = new StringStream(text, cm.options.tabSize);
    stream.start = stream.pos = startAt || 0;
    if (text == "") callBlankLine(mode, state);
    while (!stream.eol() && stream.pos <= cm.options.maxHighlightLength) {
      readToken(mode, stream, state);
      stream.start = stream.pos;
    }
  }

  // Convert a style as returned by a mode (either null, or a string
  // containing one or more styles) to a CSS style. This is cached,
  // and also looks for line-wide styles.
  var styleToClassCache = {}, styleToClassCacheWithMode = {};
  function interpretTokenStyle(style, options) {
    if (!style || /^\s*$/.test(style)) return null;
    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;
    return cache[style] ||
      (cache[style] = style.replace(/\S+/g, "cm-$&"));
  }

  // Render the DOM representation of the text of a line. Also builds
  // up a 'line map', which points at the DOM nodes that represent
  // specific stretches of text, and is used by the measuring code.
  // The returned object contains the DOM node, this map, and
  // information about line-wide styles that were set by the mode.
  function buildLineContent(cm, lineView) {
    // The padding-right forces the element to have a 'border', which
    // is needed on Webkit to be able to get line-level bounding
    // rectangles for it (in measureChar).
    var content = elt("span", null, null, webkit ? "padding-right: .1px" : null);
    var builder = {pre: elt("pre", [content], "CodeMirror-line"), content: content,
                   col: 0, pos: 0, cm: cm,
                   splitSpaces: (ie || webkit) && cm.getOption("lineWrapping")};
    lineView.measure = {};

    // Iterate over the logical lines that make up this visual line.
    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {
      var line = i ? lineView.rest[i - 1] : lineView.line, order;
      builder.pos = 0;
      builder.addToken = buildToken;
      // Optionally wire in some hacks into the token-rendering
      // algorithm, to deal with browser quirks.
      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))
        builder.addToken = buildTokenBadBidi(builder.addToken, order);
      builder.map = [];
      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);
      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));
      if (line.styleClasses) {
        if (line.styleClasses.bgClass)
          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || "");
        if (line.styleClasses.textClass)
          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || "");
      }

      // Ensure at least a single node is present, for measuring.
      if (builder.map.length == 0)
        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));

      // Store the map and a cache object for the current logical line
      if (i == 0) {
        lineView.measure.map = builder.map;
        lineView.measure.cache = {};
      } else {
        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);
        (lineView.measure.caches || (lineView.measure.caches = [])).push({});
      }
    }

    // See issue #2901
    if (webkit && /\bcm-tab\b/.test(builder.content.lastChild.className))
      builder.content.className = "cm-tab-wrap-hack";

    signal(cm, "renderLine", cm, lineView.line, builder.pre);
    if (builder.pre.className)
      builder.textClass = joinClasses(builder.pre.className, builder.textClass || "");

    return builder;
  }

  function defaultSpecialCharPlaceholder(ch) {
    var token = elt("span", "\u2022", "cm-invalidchar");
    token.title = "\\u" + ch.charCodeAt(0).toString(16);
    token.setAttribute("aria-label", token.title);
    return token;
  }

  // Build up the DOM representation for a single token, and add it to
  // the line map. Takes care to render special characters separately.
  function buildToken(builder, text, style, startStyle, endStyle, title, css) {
    if (!text) return;
    var displayText = builder.splitSpaces ? text.replace(/ {3,}/g, splitSpaces) : text;
    var special = builder.cm.state.specialChars, mustWrap = false;
    if (!special.test(text)) {
      builder.col += text.length;
      var content = document.createTextNode(displayText);
      builder.map.push(builder.pos, builder.pos + text.length, content);
      if (ie && ie_version < 9) mustWrap = true;
      builder.pos += text.length;
    } else {
      var content = document.createDocumentFragment(), pos = 0;
      while (true) {
        special.lastIndex = pos;
        var m = special.exec(text);
        var skipped = m ? m.index - pos : text.length - pos;
        if (skipped) {
          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));
          if (ie && ie_version < 9) content.appendChild(elt("span", [txt]));
          else content.appendChild(txt);
          builder.map.push(builder.pos, builder.pos + skipped, txt);
          builder.col += skipped;
          builder.pos += skipped;
        }
        if (!m) break;
        pos += skipped + 1;
        if (m[0] == "\t") {
          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;
          var txt = content.appendChild(elt("span", spaceStr(tabWidth), "cm-tab"));
          txt.setAttribute("role", "presentation");
          txt.setAttribute("cm-text", "\t");
          builder.col += tabWidth;
        } else if (m[0] == "\r" || m[0] == "\n") {
          var txt = content.appendChild(elt("span", m[0] == "\r" ? "‚êç" : "‚ê§", "cm-invalidchar"));
          txt.setAttribute("cm-text", m[0]);
          builder.col += 1;
        } else {
          var txt = builder.cm.options.specialCharPlaceholder(m[0]);
          txt.setAttribute("cm-text", m[0]);
          if (ie && ie_version < 9) content.appendChild(elt("span", [txt]));
          else content.appendChild(txt);
          builder.col += 1;
        }
        builder.map.push(builder.pos, builder.pos + 1, txt);
        builder.pos++;
      }
    }
    if (style || startStyle || endStyle || mustWrap || css) {
      var fullStyle = style || "";
      if (startStyle) fullStyle += startStyle;
      if (endStyle) fullStyle += endStyle;
      var token = elt("span", [content], fullStyle, css);
      if (title) token.title = title;
      return builder.content.appendChild(token);
    }
    builder.content.appendChild(content);
  }

  function splitSpaces(old) {
    var out = " ";
    for (var i = 0; i < old.length - 2; ++i) out += i % 2 ? " " : "\u00a0";
    out += " ";
    return out;
  }

  // Work around nonsense dimensions being reported for stretches of
  // right-to-left text.
  function buildTokenBadBidi(inner, order) {
    return function(builder, text, style, startStyle, endStyle, title, css) {
      style = style ? style + " cm-force-border" : "cm-force-border";
      var start = builder.pos, end = start + text.length;
      for (;;) {
        // Find the part that overlaps with the start of this text
        for (var i = 0; i < order.length; i++) {
          var part = order[i];
          if (part.to > start && part.from <= start) break;
        }
        if (part.to >= end) return inner(builder, text, style, startStyle, endStyle, title, css);
        inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css);
        startStyle = null;
        text = text.slice(part.to - start);
        start = part.to;
      }
    };
  }

  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {
    var widget = !ignoreWidget && marker.widgetNode;
    if (widget) builder.map.push(builder.pos, builder.pos + size, widget);
    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {
      if (!widget)
        widget = builder.content.appendChild(document.createElement("span"));
      widget.setAttribute("cm-marker", marker.id);
    }
    if (widget) {
      builder.cm.display.input.setUneditable(widget);
      builder.content.appendChild(widget);
    }
    builder.pos += size;
  }

  // Outputs a number of spans to make up a line, taking highlighting
  // and marked text into account.
  function insertLineContent(line, builder, styles) {
    var spans = line.markedSpans, allText = line.text, at = 0;
    if (!spans) {
      for (var i = 1; i < styles.length; i+=2)
        builder.addToken(builder, allText.slice(at, at = styles[i]), interpretTokenStyle(styles[i+1], builder.cm.options));
      return;
    }

    var len = allText.length, pos = 0, i = 1, text = "", style, css;
    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed;
    for (;;) {
      if (nextChange == pos) { // Update current marker set
        spanStyle = spanEndStyle = spanStartStyle = title = css = "";
        collapsed = null; nextChange = Infinity;
        var foundBookmarks = [];
        for (var j = 0; j < spans.length; ++j) {
          var sp = spans[j], m = sp.marker;
          if (m.type == "bookmark" && sp.from == pos && m.widgetNode) {
            foundBookmarks.push(m);
          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {
            if (sp.to != null && sp.to != pos && nextChange > sp.to) {
              nextChange = sp.to;
              spanEndStyle = "";
            }
            if (m.className) spanStyle += " " + m.className;
            if (m.css) css = m.css;
            if (m.startStyle && sp.from == pos) spanStartStyle += " " + m.startStyle;
            if (m.endStyle && sp.to == nextChange) spanEndStyle += " " + m.endStyle;
            if (m.title && !title) title = m.title;
            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))
              collapsed = sp;
          } else if (sp.from > pos && nextChange > sp.from) {
            nextChange = sp.from;
          }
        }
        if (collapsed && (collapsed.from || 0) == pos) {
          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,
                             collapsed.marker, collapsed.from == null);
          if (collapsed.to == null) return;
          if (collapsed.to == pos) collapsed = false;
        }
        if (!collapsed && foundBookmarks.length) for (var j = 0; j < foundBookmarks.length; ++j)
          buildCollapsedSpan(builder, 0, foundBookmarks[j]);
      }
      if (pos >= len) break;

      var upto = Math.min(len, nextChange);
      while (true) {
        if (text) {
          var end = pos + text.length;
          if (!collapsed) {
            var tokenText = end > upto ? text.slice(0, upto - pos) : text;
            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,
                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : "", title, css);
          }
          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break;}
          pos = end;
          spanStartStyle = "";
        }
        text = allText.slice(at, at = styles[i++]);
        style = interpretTokenStyle(styles[i++], builder.cm.options);
      }
    }
  }

  // DOCUMENT DATA STRUCTURE

  // By default, updates that start and end at the beginning of a line
  // are treated specially, in order to make the association of line
  // widgets and marker elements with the text behave more intuitive.
  function isWholeLineUpdate(doc, change) {
    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == "" &&
      (!doc.cm || doc.cm.options.wholeLineUpdateBefore);
  }

  // Perform a change on the document data structure.
  function updateDoc(doc, change, markedSpans, estimateHeight) {
    function spansFor(n) {return markedSpans ? markedSpans[n] : null;}
    function update(line, text, spans) {
      updateLine(line, text, spans, estimateHeight);
      signalLater(line, "change", line, change);
    }
    function linesFor(start, end) {
      for (var i = start, result = []; i < end; ++i)
        result.push(new Line(text[i], spansFor(i), estimateHeight));
      return result;
    }

    var from = change.from, to = change.to, text = change.text;
    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);
    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;

    // Adjust the line structure
    if (change.full) {
      doc.insert(0, linesFor(0, text.length));
      doc.remove(text.length, doc.size - text.length);
    } else if (isWholeLineUpdate(doc, change)) {
      // This is a whole-line replace. Treated specially to make
      // sure line objects move the way they are supposed to.
      var added = linesFor(0, text.length - 1);
      update(lastLine, lastLine.text, lastSpans);
      if (nlines) doc.remove(from.line, nlines);
      if (added.length) doc.insert(from.line, added);
    } else if (firstLine == lastLine) {
      if (text.length == 1) {
        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);
      } else {
        var added = linesFor(1, text.length - 1);
        added.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));
        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
        doc.insert(from.line + 1, added);
      }
    } else if (text.length == 1) {
      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));
      doc.remove(from.line + 1, nlines);
    } else {
      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);
      var added = linesFor(1, text.length - 1);
      if (nlines > 1) doc.remove(from.line + 1, nlines - 1);
      doc.insert(from.line + 1, added);
    }

    signalLater(doc, "change", doc, change);
  }

  // The document is represented as a BTree consisting of leaves, with
  // chunk of lines in them, and branches, with up to ten leaves or
  // other branch nodes below them. The top node is always a branch
  // node, and is the document object itself (meaning it has
  // additional methods and properties).
  //
  // All nodes have parent links. The tree is used both to go from
  // line numbers to line objects, and to go from objects to numbers.
  // It also indexes by height, and is used to convert between height
  // and line object, and to find the total height of the document.
  //
  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html

  function LeafChunk(lines) {
    this.lines = lines;
    this.parent = null;
    for (var i = 0, height = 0; i < lines.length; ++i) {
      lines[i].parent = this;
      height += lines[i].height;
    }
    this.height = height;
  }

  LeafChunk.prototype = {
    chunkSize: function() { return this.lines.length; },
    // Remove the n lines at offset 'at'.
    removeInner: function(at, n) {
      for (var i = at, e = at + n; i < e; ++i) {
        var line = this.lines[i];
        this.height -= line.height;
        cleanUpLine(line);
        signalLater(line, "delete");
      }
      this.lines.splice(at, n);
    },
    // Helper used to collapse a small branch into a single leaf.
    collapse: function(lines) {
      lines.push.apply(lines, this.lines);
    },
    // Insert the given array of lines at offset 'at', count them as
    // having the given height.
    insertInner: function(at, lines, height) {
      this.height += height;
      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));
      for (var i = 0; i < lines.length; ++i) lines[i].parent = this;
    },
    // Used to iterate over a part of the tree.
    iterN: function(at, n, op) {
      for (var e = at + n; at < e; ++at)
        if (op(this.lines[at])) return true;
    }
  };

  function BranchChunk(children) {
    this.children = children;
    var size = 0, height = 0;
    for (var i = 0; i < children.length; ++i) {
      var ch = children[i];
      size += ch.chunkSize(); height += ch.height;
      ch.parent = this;
    }
    this.size = size;
    this.height = height;
    this.parent = null;
  }

  BranchChunk.prototype = {
    chunkSize: function() { return this.size; },
    removeInner: function(at, n) {
      this.size -= n;
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at < sz) {
          var rm = Math.min(n, sz - at), oldHeight = child.height;
          child.removeInner(at, rm);
          this.height -= oldHeight - child.height;
          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }
          if ((n -= rm) == 0) break;
          at = 0;
        } else at -= sz;
      }
      // If the result is smaller than 25 lines, ensure that it is a
      // single leaf node.
      if (this.size - n < 25 &&
          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {
        var lines = [];
        this.collapse(lines);
        this.children = [new LeafChunk(lines)];
        this.children[0].parent = this;
      }
    },
    collapse: function(lines) {
      for (var i = 0; i < this.children.length; ++i) this.children[i].collapse(lines);
    },
    insertInner: function(at, lines, height) {
      this.size += lines.length;
      this.height += height;
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at <= sz) {
          child.insertInner(at, lines, height);
          if (child.lines && child.lines.length > 50) {
            while (child.lines.length > 50) {
              var spilled = child.lines.splice(child.lines.length - 25, 25);
              var newleaf = new LeafChunk(spilled);
              child.height -= newleaf.height;
              this.children.splice(i + 1, 0, newleaf);
              newleaf.parent = this;
            }
            this.maybeSpill();
          }
          break;
        }
        at -= sz;
      }
    },
    // When a node has grown, check whether it should be split.
    maybeSpill: function() {
      if (this.children.length <= 10) return;
      var me = this;
      do {
        var spilled = me.children.splice(me.children.length - 5, 5);
        var sibling = new BranchChunk(spilled);
        if (!me.parent) { // Become the parent node
          var copy = new BranchChunk(me.children);
          copy.parent = me;
          me.children = [copy, sibling];
          me = copy;
        } else {
          me.size -= sibling.size;
          me.height -= sibling.height;
          var myIndex = indexOf(me.parent.children, me);
          me.parent.children.splice(myIndex + 1, 0, sibling);
        }
        sibling.parent = me.parent;
      } while (me.children.length > 10);
      me.parent.maybeSpill();
    },
    iterN: function(at, n, op) {
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at < sz) {
          var used = Math.min(n, sz - at);
          if (child.iterN(at, used, op)) return true;
          if ((n -= used) == 0) break;
          at = 0;
        } else at -= sz;
      }
    }
  };

  var nextDocId = 0;
  var Doc = CodeMirror.Doc = function(text, mode, firstLine, lineSep) {
    if (!(this instanceof Doc)) return new Doc(text, mode, firstLine, lineSep);
    if (firstLine == null) firstLine = 0;

    BranchChunk.call(this, [new LeafChunk([new Line("", null)])]);
    this.first = firstLine;
    this.scrollTop = this.scrollLeft = 0;
    this.cantEdit = false;
    this.cleanGeneration = 1;
    this.frontier = firstLine;
    var start = Pos(firstLine, 0);
    this.sel = simpleSelection(start);
    this.history = new History(null);
    this.id = ++nextDocId;
    this.modeOption = mode;
    this.lineSep = lineSep;

    if (typeof text == "string") text = this.splitLines(text);
    updateDoc(this, {from: start, to: start, text: text});
    setSelection(this, simpleSelection(start), sel_dontScroll);
  };

  Doc.prototype = createObj(BranchChunk.prototype, {
    constructor: Doc,
    // Iterate over the document. Supports two forms -- with only one
    // argument, it calls that for each line in the document. With
    // three, it iterates over the range given by the first two (with
    // the second being non-inclusive).
    iter: function(from, to, op) {
      if (op) this.iterN(from - this.first, to - from, op);
      else this.iterN(this.first, this.first + this.size, from);
    },

    // Non-public interface for adding and removing lines.
    insert: function(at, lines) {
      var height = 0;
      for (var i = 0; i < lines.length; ++i) height += lines[i].height;
      this.insertInner(at - this.first, lines, height);
    },
    remove: function(at, n) { this.removeInner(at - this.first, n); },

    // From here, the methods are part of the public interface. Most
    // are also available from CodeMirror (editor) instances.

    getValue: function(lineSep) {
      var lines = getLines(this, this.first, this.first + this.size);
      if (lineSep === false) return lines;
      return lines.join(lineSep || this.lineSeparator());
    },
    setValue: docMethodOp(function(code) {
      var top = Pos(this.first, 0), last = this.first + this.size - 1;
      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),
                        text: this.splitLines(code), origin: "setValue", full: true}, true);
      setSelection(this, simpleSelection(top));
    }),
    replaceRange: function(code, from, to, origin) {
      from = clipPos(this, from);
      to = to ? clipPos(this, to) : from;
      replaceRange(this, code, from, to, origin);
    },
    getRange: function(from, to, lineSep) {
      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));
      if (lineSep === false) return lines;
      return lines.join(lineSep || this.lineSeparator());
    },

    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text;},

    getLineHandle: function(line) {if (isLine(this, line)) return getLine(this, line);},
    getLineNumber: function(line) {return lineNo(line);},

    getLineHandleVisualStart: function(line) {
      if (typeof line == "number") line = getLine(this, line);
      return visualLine(line);
    },

    lineCount: function() {return this.size;},
    firstLine: function() {return this.first;},
    lastLine: function() {return this.first + this.size - 1;},

    clipPos: function(pos) {return clipPos(this, pos);},

    getCursor: function(start) {
      var range = this.sel.primary(), pos;
      if (start == null || start == "head") pos = range.head;
      else if (start == "anchor") pos = range.anchor;
      else if (start == "end" || start == "to" || start === false) pos = range.to();
      else pos = range.from();
      return pos;
    },
    listSelections: function() { return this.sel.ranges; },
    somethingSelected: function() {return this.sel.somethingSelected();},

    setCursor: docMethodOp(function(line, ch, options) {
      setSimpleSelection(this, clipPos(this, typeof line == "number" ? Pos(line, ch || 0) : line), null, options);
    }),
    setSelection: docMethodOp(function(anchor, head, options) {
      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);
    }),
    extendSelection: docMethodOp(function(head, other, options) {
      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);
    }),
    extendSelections: docMethodOp(function(heads, options) {
      extendSelections(this, clipPosArray(this, heads, options));
    }),
    extendSelectionsBy: docMethodOp(function(f, options) {
      extendSelections(this, map(this.sel.ranges, f), options);
    }),
    setSelections: docMethodOp(function(ranges, primary, options) {
      if (!ranges.length) return;
      for (var i = 0, out = []; i < ranges.length; i++)
        out[i] = new Range(clipPos(this, ranges[i].anchor),
                           clipPos(this, ranges[i].head));
      if (primary == null) primary = Math.min(ranges.length - 1, this.sel.primIndex);
      setSelection(this, normalizeSelection(out, primary), options);
    }),
    addSelection: docMethodOp(function(anchor, head, options) {
      var ranges = this.sel.ranges.slice(0);
      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));
      setSelection(this, normalizeSelection(ranges, ranges.length - 1), options);
    }),

    getSelection: function(lineSep) {
      var ranges = this.sel.ranges, lines;
      for (var i = 0; i < ranges.length; i++) {
        var sel = getBetween(this, ranges[i].from(), ranges[i].to());
        lines = lines ? lines.concat(sel) : sel;
      }
      if (lineSep === false) return lines;
      else return lines.join(lineSep || this.lineSeparator());
    },
    getSelections: function(lineSep) {
      var parts = [], ranges = this.sel.ranges;
      for (var i = 0; i < ranges.length; i++) {
        var sel = getBetween(this, ranges[i].from(), ranges[i].to());
        if (lineSep !== false) sel = sel.join(lineSep || this.lineSeparator());
        parts[i] = sel;
      }
      return parts;
    },
    replaceSelection: function(code, collapse, origin) {
      var dup = [];
      for (var i = 0; i < this.sel.ranges.length; i++)
        dup[i] = code;
      this.replaceSelections(dup, collapse, origin || "+input");
    },
    replaceSelections: docMethodOp(function(code, collapse, origin) {
      var changes = [], sel = this.sel;
      for (var i = 0; i < sel.ranges.length; i++) {
        var range = sel.ranges[i];
        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};
      }
      var newSel = collapse && collapse != "end" && computeReplacedSel(this, changes, collapse);
      for (var i = changes.length - 1; i >= 0; i--)
        makeChange(this, changes[i]);
      if (newSel) setSelectionReplaceHistory(this, newSel);
      else if (this.cm) ensureCursorVisible(this.cm);
    }),
    undo: docMethodOp(function() {makeChangeFromHistory(this, "undo");}),
    redo: docMethodOp(function() {makeChangeFromHistory(this, "redo");}),
    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, "undo", true);}),
    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, "redo", true);}),

    setExtending: function(val) {this.extend = val;},
    getExtending: function() {return this.extend;},

    historySize: function() {
      var hist = this.history, done = 0, undone = 0;
      for (var i = 0; i < hist.done.length; i++) if (!hist.done[i].ranges) ++done;
      for (var i = 0; i < hist.undone.length; i++) if (!hist.undone[i].ranges) ++undone;
      return {undo: done, redo: undone};
    },
    clearHistory: function() {this.history = new History(this.history.maxGeneration);},

    markClean: function() {
      this.cleanGeneration = this.changeGeneration(true);
    },
    changeGeneration: function(forceSplit) {
      if (forceSplit)
        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;
      return this.history.generation;
    },
    isClean: function (gen) {
      return this.history.generation == (gen || this.cleanGeneration);
    },

    getHistory: function() {
      return {done: copyHistoryArray(this.history.done),
              undone: copyHistoryArray(this.history.undone)};
    },
    setHistory: function(histData) {
      var hist = this.history = new History(this.history.maxGeneration);
      hist.done = copyHistoryArray(histData.done.slice(0), null, true);
      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);
    },

    addLineClass: docMethodOp(function(handle, where, cls) {
      return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function(line) {
        var prop = where == "text" ? "textClass"
                 : where == "background" ? "bgClass"
                 : where == "gutter" ? "gutterClass" : "wrapClass";
        if (!line[prop]) line[prop] = cls;
        else if (classTest(cls).test(line[prop])) return false;
        else line[prop] += " " + cls;
        return true;
      });
    }),
    removeLineClass: docMethodOp(function(handle, where, cls) {
      return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function(line) {
        var prop = where == "text" ? "textClass"
                 : where == "background" ? "bgClass"
                 : where == "gutter" ? "gutterClass" : "wrapClass";
        var cur = line[prop];
        if (!cur) return false;
        else if (cls == null) line[prop] = null;
        else {
          var found = cur.match(classTest(cls));
          if (!found) return false;
          var end = found.index + found[0].length;
          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? "" : " ") + cur.slice(end) || null;
        }
        return true;
      });
    }),

    addLineWidget: docMethodOp(function(handle, node, options) {
      return addLineWidget(this, handle, node, options);
    }),
    removeLineWidget: function(widget) { widget.clear(); },

    markText: function(from, to, options) {
      return markText(this, clipPos(this, from), clipPos(this, to), options, "range");
    },
    setBookmark: function(pos, options) {
      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),
                      insertLeft: options && options.insertLeft,
                      clearWhenEmpty: false, shared: options && options.shared,
                      handleMouseEvents: options && options.handleMouseEvents};
      pos = clipPos(this, pos);
      return markText(this, pos, pos, realOpts, "bookmark");
    },
    findMarksAt: function(pos) {
      pos = clipPos(this, pos);
      var markers = [], spans = getLine(this, pos.line).markedSpans;
      if (spans) for (var i = 0; i < spans.length; ++i) {
        var span = spans[i];
        if ((span.from == null || span.from <= pos.ch) &&
            (span.to == null || span.to >= pos.ch))
          markers.push(span.marker.parent || span.marker);
      }
      return markers;
    },
    findMarks: function(from, to, filter) {
      from = clipPos(this, from); to = clipPos(this, to);
      var found = [], lineNo = from.line;
      this.iter(from.line, to.line + 1, function(line) {
        var spans = line.markedSpans;
        if (spans) for (var i = 0; i < spans.length; i++) {
          var span = spans[i];
          if (!(lineNo == from.line && from.ch > span.to ||
                span.from == null && lineNo != from.line||
                lineNo == to.line && span.from > to.ch) &&
              (!filter || filter(span.marker)))
            found.push(span.marker.parent || span.marker);
        }
        ++lineNo;
      });
      return found;
    },
    getAllMarks: function() {
      var markers = [];
      this.iter(function(line) {
        var sps = line.markedSpans;
        if (sps) for (var i = 0; i < sps.length; ++i)
          if (sps[i].from != null) markers.push(sps[i].marker);
      });
      return markers;
    },

    posFromIndex: function(off) {
      var ch, lineNo = this.first;
      this.iter(function(line) {
        var sz = line.text.length + 1;
        if (sz > off) { ch = off; return true; }
        off -= sz;
        ++lineNo;
      });
      return clipPos(this, Pos(lineNo, ch));
    },
    indexFromPos: function (coords) {
      coords = clipPos(this, coords);
      var index = coords.ch;
      if (coords.line < this.first || coords.ch < 0) return 0;
      this.iter(this.first, coords.line, function (line) {
        index += line.text.length + 1;
      });
      return index;
    },

    copy: function(copyHistory) {
      var doc = new Doc(getLines(this, this.first, this.first + this.size),
                        this.modeOption, this.first, this.lineSep);
      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;
      doc.sel = this.sel;
      doc.extend = false;
      if (copyHistory) {
        doc.history.undoDepth = this.history.undoDepth;
        doc.setHistory(this.getHistory());
      }
      return doc;
    },

    linkedDoc: function(options) {
      if (!options) options = {};
      var from = this.first, to = this.first + this.size;
      if (options.from != null && options.from > from) from = options.from;
      if (options.to != null && options.to < to) to = options.to;
      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep);
      if (options.sharedHist) copy.history = this.history;
      (this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});
      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];
      copySharedMarkers(copy, findSharedMarkers(this));
      return copy;
    },
    unlinkDoc: function(other) {
      if (other instanceof CodeMirror) other = other.doc;
      if (this.linked) for (var i = 0; i < this.linked.length; ++i) {
        var link = this.linked[i];
        if (link.doc != other) continue;
        this.linked.splice(i, 1);
        other.unlinkDoc(this);
        detachSharedMarkers(findSharedMarkers(this));
        break;
      }
      // If the histories were shared, split them again
      if (other.history == this.history) {
        var splitIds = [other.id];
        linkedDocs(other, function(doc) {splitIds.push(doc.id);}, true);
        other.history = new History(null);
        other.history.done = copyHistoryArray(this.history.done, splitIds);
        other.history.undone = copyHistoryArray(this.history.undone, splitIds);
      }
    },
    iterLinkedDocs: function(f) {linkedDocs(this, f);},

    getMode: function() {return this.mode;},
    getEditor: function() {return this.cm;},

    splitLines: function(str) {
      if (this.lineSep) return str.split(this.lineSep);
      return splitLinesAuto(str);
    },
    lineSeparator: function() { return this.lineSep || "\n"; }
  });

  // Public alias.
  Doc.prototype.eachLine = Doc.prototype.iter;

  // Set up methods on CodeMirror's prototype to redirect to the editor's document.
  var dontDelegate = "iter insert remove copy getEditor constructor".split(" ");
  for (var prop in Doc.prototype) if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)
    CodeMirror.prototype[prop] = (function(method) {
      return function() {return method.apply(this.doc, arguments);};
    })(Doc.prototype[prop]);

  eventMixin(Doc);

  // Call f for all linked documents.
  function linkedDocs(doc, f, sharedHistOnly) {
    function propagate(doc, skip, sharedHist) {
      if (doc.linked) for (var i = 0; i < doc.linked.length; ++i) {
        var rel = doc.linked[i];
        if (rel.doc == skip) continue;
        var shared = sharedHist && rel.sharedHist;
        if (sharedHistOnly && !shared) continue;
        f(rel.doc, shared);
        propagate(rel.doc, doc, shared);
      }
    }
    propagate(doc, null, true);
  }

  // Attach a document to an editor.
  function attachDoc(cm, doc) {
    if (doc.cm) throw new Error("This document is already in use.");
    cm.doc = doc;
    doc.cm = cm;
    estimateLineHeights(cm);
    loadMode(cm);
    if (!cm.options.lineWrapping) findMaxLine(cm);
    cm.options.mode = doc.modeOption;
    regChange(cm);
  }

  // LINE UTILITIES

  // Find the line object corresponding to the given line number.
  function getLine(doc, n) {
    n -= doc.first;
    if (n < 0 || n >= doc.size) throw new Error("There is no line " + (n + doc.first) + " in the document.");
    for (var chunk = doc; !chunk.lines;) {
      for (var i = 0;; ++i) {
        var child = chunk.children[i], sz = child.chunkSize();
        if (n < sz) { chunk = child; break; }
        n -= sz;
      }
    }
    return chunk.lines[n];
  }

  // Get the part of a document between two positions, as an array of
  // strings.
  function getBetween(doc, start, end) {
    var out = [], n = start.line;
    doc.iter(start.line, end.line + 1, function(line) {
      var text = line.text;
      if (n == end.line) text = text.slice(0, end.ch);
      if (n == start.line) text = text.slice(start.ch);
      out.push(text);
      ++n;
    });
    return out;
  }
  // Get the lines between from and to, as array of strings.
  function getLines(doc, from, to) {
    var out = [];
    doc.iter(from, to, function(line) { out.push(line.text); });
    return out;
  }

  // Update the height of a line, propagating the height change
  // upwards to parent nodes.
  function updateLineHeight(line, height) {
    var diff = height - line.height;
    if (diff) for (var n = line; n; n = n.parent) n.height += diff;
  }

  // Given a line object, find its line number by walking up through
  // its parent links.
  function lineNo(line) {
    if (line.parent == null) return null;
    var cur = line.parent, no = indexOf(cur.lines, line);
    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {
      for (var i = 0;; ++i) {
        if (chunk.children[i] == cur) break;
        no += chunk.children[i].chunkSize();
      }
    }
    return no + cur.first;
  }

  // Find the line at the given vertical position, using the height
  // information in the document tree.
  function lineAtHeight(chunk, h) {
    var n = chunk.first;
    outer: do {
      for (var i = 0; i < chunk.children.length; ++i) {
        var child = chunk.children[i], ch = child.height;
        if (h < ch) { chunk = child; continue outer; }
        h -= ch;
        n += child.chunkSize();
      }
      return n;
    } while (!chunk.lines);
    for (var i = 0; i < chunk.lines.length; ++i) {
      var line = chunk.lines[i], lh = line.height;
      if (h < lh) break;
      h -= lh;
    }
    return n + i;
  }


  // Find the height above the given line.
  function heightAtLine(lineObj) {
    lineObj = visualLine(lineObj);

    var h = 0, chunk = lineObj.parent;
    for (var i = 0; i < chunk.lines.length; ++i) {
      var line = chunk.lines[i];
      if (line == lineObj) break;
      else h += line.height;
    }
    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {
      for (var i = 0; i < p.children.length; ++i) {
        var cur = p.children[i];
        if (cur == chunk) break;
        else h += cur.height;
      }
    }
    return h;
  }

  // Get the bidi ordering for the given line (and cache it). Returns
  // false for lines that are fully left-to-right, and an array of
  // BidiSpan objects otherwise.
  function getOrder(line) {
    var order = line.order;
    if (order == null) order = line.order = bidiOrdering(line.text);
    return order;
  }

  // HISTORY

  function History(startGen) {
    // Arrays of change events and selections. Doing something adds an
    // event to done and clears undo. Undoing moves events from done
    // to undone, redoing moves them in the other direction.
    this.done = []; this.undone = [];
    this.undoDepth = Infinity;
    // Used to track when changes can be merged into a single undo
    // event
    this.lastModTime = this.lastSelTime = 0;
    this.lastOp = this.lastSelOp = null;
    this.lastOrigin = this.lastSelOrigin = null;
    // Used by the isClean() method
    this.generation = this.maxGeneration = startGen || 1;
  }

  // Create a history change event from an updateDoc-style change
  // object.
  function historyChangeFromChange(doc, change) {
    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};
    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);
    linkedDocs(doc, function(doc) {attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);}, true);
    return histChange;
  }

  // Pop all selection events off the end of a history array. Stop at
  // a change event.
  function clearSelectionEvents(array) {
    while (array.length) {
      var last = lst(array);
      if (last.ranges) array.pop();
      else break;
    }
  }

  // Find the top change event in the history. Pop off selection
  // events that are in the way.
  function lastChangeEvent(hist, force) {
    if (force) {
      clearSelectionEvents(hist.done);
      return lst(hist.done);
    } else if (hist.done.length && !lst(hist.done).ranges) {
      return lst(hist.done);
    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {
      hist.done.pop();
      return lst(hist.done);
    }
  }

  // Register a change in the history. Merges changes that are within
  // a single operation, ore are close together with an origin that
  // allows merging (starting with "+") into a single event.
  function addChangeToHistory(doc, change, selAfter, opId) {
    var hist = doc.history;
    hist.undone.length = 0;
    var time = +new Date, cur;

    if ((hist.lastOp == opId ||
         hist.lastOrigin == change.origin && change.origin &&
         ((change.origin.charAt(0) == "+" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||
          change.origin.charAt(0) == "*")) &&
        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {
      // Merge this change into the last event
      var last = lst(cur.changes);
      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {
        // Optimized case for simple insertion -- don't want to add
        // new changesets for every character typed
        last.to = changeEnd(change);
      } else {
        // Add new sub-event
        cur.changes.push(historyChangeFromChange(doc, change));
      }
    } else {
      // Can not be merged, start a new event.
      var before = lst(hist.done);
      if (!before || !before.ranges)
        pushSelectionToHistory(doc.sel, hist.done);
      cur = {changes: [historyChangeFromChange(doc, change)],
             generation: hist.generation};
      hist.done.push(cur);
      while (hist.done.length > hist.undoDepth) {
        hist.done.shift();
        if (!hist.done[0].ranges) hist.done.shift();
      }
    }
    hist.done.push(selAfter);
    hist.generation = ++hist.maxGeneration;
    hist.lastModTime = hist.lastSelTime = time;
    hist.lastOp = hist.lastSelOp = opId;
    hist.lastOrigin = hist.lastSelOrigin = change.origin;

    if (!last) signal(doc, "historyAdded");
  }

  function selectionEventCanBeMerged(doc, origin, prev, sel) {
    var ch = origin.charAt(0);
    return ch == "*" ||
      ch == "+" &&
      prev.ranges.length == sel.ranges.length &&
      prev.somethingSelected() == sel.somethingSelected() &&
      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);
  }

  // Called whenever the selection changes, sets the new selection as
  // the pending selection in the history, and pushes the old pending
  // selection into the 'done' array when it was significantly
  // different (in number of selected ranges, emptiness, or time).
  function addSelectionToHistory(doc, sel, opId, options) {
    var hist = doc.history, origin = options && options.origin;

    // A new event is started when the previous origin does not match
    // the current, or the origins don't allow matching. Origins
    // starting with * are always merged, those starting with + are
    // merged when similar and close together in time.
    if (opId == hist.lastSelOp ||
        (origin && hist.lastSelOrigin == origin &&
         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||
          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))
      hist.done[hist.done.length - 1] = sel;
    else
      pushSelectionToHistory(sel, hist.done);

    hist.lastSelTime = +new Date;
    hist.lastSelOrigin = origin;
    hist.lastSelOp = opId;
    if (options && options.clearRedo !== false)
      clearSelectionEvents(hist.undone);
  }

  function pushSelectionToHistory(sel, dest) {
    var top = lst(dest);
    if (!(top && top.ranges && top.equals(sel)))
      dest.push(sel);
  }

  // Used to store marked span information in the history.
  function attachLocalSpans(doc, change, from, to) {
    var existing = change["spans_" + doc.id], n = 0;
    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function(line) {
      if (line.markedSpans)
        (existing || (existing = change["spans_" + doc.id] = {}))[n] = line.markedSpans;
      ++n;
    });
  }

  // When un/re-doing restores text containing marked spans, those
  // that have been explicitly cleared should not be restored.
  function removeClearedSpans(spans) {
    if (!spans) return null;
    for (var i = 0, out; i < spans.length; ++i) {
      if (spans[i].marker.explicitlyCleared) { if (!out) out = spans.slice(0, i); }
      else if (out) out.push(spans[i]);
    }
    return !out ? spans : out.length ? out : null;
  }

  // Retrieve and filter the old marked spans stored in a change event.
  function getOldSpans(doc, change) {
    var found = change["spans_" + doc.id];
    if (!found) return null;
    for (var i = 0, nw = []; i < change.text.length; ++i)
      nw.push(removeClearedSpans(found[i]));
    return nw;
  }

  // Used both to provide a JSON-safe object in .getHistory, and, when
  // detaching a document, to split the history in two
  function copyHistoryArray(events, newGroup, instantiateSel) {
    for (var i = 0, copy = []; i < events.length; ++i) {
      var event = events[i];
      if (event.ranges) {
        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);
        continue;
      }
      var changes = event.changes, newChanges = [];
      copy.push({changes: newChanges});
      for (var j = 0; j < changes.length; ++j) {
        var change = changes[j], m;
        newChanges.push({from: change.from, to: change.to, text: change.text});
        if (newGroup) for (var prop in change) if (m = prop.match(/^spans_(\d+)$/)) {
          if (indexOf(newGroup, Number(m[1])) > -1) {
            lst(newChanges)[prop] = change[prop];
            delete change[prop];
          }
        }
      }
    }
    return copy;
  }

  // Rebasing/resetting history to deal with externally-sourced changes

  function rebaseHistSelSingle(pos, from, to, diff) {
    if (to < pos.line) {
      pos.line += diff;
    } else if (from < pos.line) {
      pos.line = from;
      pos.ch = 0;
    }
  }

  // Tries to rebase an array of history events given a change in the
  // document. If the change touches the same lines as the event, the
  // event, and everything 'behind' it, is discarded. If the change is
  // before the event, the event's positions are updated. Uses a
  // copy-on-write scheme for the positions, to avoid having to
  // reallocate them all on every rebase, but also avoid problems with
  // shared position objects being unsafely updated.
  function rebaseHistArray(array, from, to, diff) {
    for (var i = 0; i < array.length; ++i) {
      var sub = array[i], ok = true;
      if (sub.ranges) {
        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }
        for (var j = 0; j < sub.ranges.length; j++) {
          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);
          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);
        }
        continue;
      }
      for (var j = 0; j < sub.changes.length; ++j) {
        var cur = sub.changes[j];
        if (to < cur.from.line) {
          cur.from = Pos(cur.from.line + diff, cur.from.ch);
          cur.to = Pos(cur.to.line + diff, cur.to.ch);
        } else if (from <= cur.to.line) {
          ok = false;
          break;
        }
      }
      if (!ok) {
        array.splice(0, i + 1);
        i = 0;
      }
    }
  }

  function rebaseHist(hist, change) {
    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;
    rebaseHistArray(hist.done, from, to, diff);
    rebaseHistArray(hist.undone, from, to, diff);
  }

  // EVENT UTILITIES

  // Due to the fact that we still support jurassic IE versions, some
  // compatibility wrappers are needed.

  var e_preventDefault = CodeMirror.e_preventDefault = function(e) {
    if (e.preventDefault) e.preventDefault();
    else e.returnValue = false;
  };
  var e_stopPropagation = CodeMirror.e_stopPropagation = function(e) {
    if (e.stopPropagation) e.stopPropagation();
    else e.cancelBubble = true;
  };
  function e_defaultPrevented(e) {
    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;
  }
  var e_stop = CodeMirror.e_stop = function(e) {e_preventDefault(e); e_stopPropagation(e);};

  function e_target(e) {return e.target || e.srcElement;}
  function e_button(e) {
    var b = e.which;
    if (b == null) {
      if (e.button & 1) b = 1;
      else if (e.button & 2) b = 3;
      else if (e.button & 4) b = 2;
    }
    if (mac && e.ctrlKey && b == 1) b = 3;
    return b;
  }

  // EVENT HANDLING

  // Lightweight event framework. on/off also work on DOM nodes,
  // registering native DOM handlers.

  var on = CodeMirror.on = function(emitter, type, f) {
    if (emitter.addEventListener)
      emitter.addEventListener(type, f, false);
    else if (emitter.attachEvent)
      emitter.attachEvent("on" + type, f);
    else {
      var map = emitter._handlers || (emitter._handlers = {});
      var arr = map[type] || (map[type] = []);
      arr.push(f);
    }
  };

  var off = CodeMirror.off = function(emitter, type, f) {
    if (emitter.removeEventListener)
      emitter.removeEventListener(type, f, false);
    else if (emitter.detachEvent)
      emitter.detachEvent("on" + type, f);
    else {
      var arr = emitter._handlers && emitter._handlers[type];
      if (!arr) return;
      for (var i = 0; i < arr.length; ++i)
        if (arr[i] == f) { arr.splice(i, 1); break; }
    }
  };

  var signal = CodeMirror.signal = function(emitter, type /*, values...*/) {
    var arr = emitter._handlers && emitter._handlers[type];
    if (!arr) return;
    var args = Array.prototype.slice.call(arguments, 2);
    for (var i = 0; i < arr.length; ++i) arr[i].apply(null, args);
  };

  var orphanDelayedCallbacks = null;

  // Often, we want to signal events at a point where we are in the
  // middle of some work, but don't want the handler to start calling
  // other methods on the editor, which might be in an inconsistent
  // state or simply not expect any other events to happen.
  // signalLater looks whether there are any handlers, and schedules
  // them to be executed when the last operation ends, or, if no
  // operation is active, when a timeout fires.
  function signalLater(emitter, type /*, values...*/) {
    var arr = emitter._handlers && emitter._handlers[type];
    if (!arr) return;
    var args = Array.prototype.slice.call(arguments, 2), list;
    if (operationGroup) {
      list = operationGroup.delayedCallbacks;
    } else if (orphanDelayedCallbacks) {
      list = orphanDelayedCallbacks;
    } else {
      list = orphanDelayedCallbacks = [];
      setTimeout(fireOrphanDelayed, 0);
    }
    function bnd(f) {return function(){f.apply(null, args);};};
    for (var i = 0; i < arr.length; ++i)
      list.push(bnd(arr[i]));
  }

  function fireOrphanDelayed() {
    var delayed = orphanDelayedCallbacks;
    orphanDelayedCallbacks = null;
    for (var i = 0; i < delayed.length; ++i) delayed[i]();
  }

  // The DOM events that CodeMirror handles can be overridden by
  // registering a (non-DOM) handler on the editor for the event name,
  // and preventDefault-ing the event in that handler.
  function signalDOMEvent(cm, e, override) {
    if (typeof e == "string")
      e = {type: e, preventDefault: function() { this.defaultPrevented = true; }};
    signal(cm, override || e.type, cm, e);
    return e_defaultPrevented(e) || e.codemirrorIgnore;
  }

  function signalCursorActivity(cm) {
    var arr = cm._handlers && cm._handlers.cursorActivity;
    if (!arr) return;
    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);
    for (var i = 0; i < arr.length; ++i) if (indexOf(set, arr[i]) == -1)
      set.push(arr[i]);
  }

  function hasHandler(emitter, type) {
    var arr = emitter._handlers && emitter._handlers[type];
    return arr && arr.length > 0;
  }

  // Add on and off methods to a constructor's prototype, to make
  // registering events on such objects more convenient.
  function eventMixin(ctor) {
    ctor.prototype.on = function(type, f) {on(this, type, f);};
    ctor.prototype.off = function(type, f) {off(this, type, f);};
  }

  // MISC UTILITIES

  // Number of pixels added to scroller and sizer to hide scrollbar
  var scrollerGap = 30;

  // Returned or thrown by various protocols to signal 'I'm not
  // handling this'.
  var Pass = CodeMirror.Pass = {toString: function(){return "CodeMirror.Pass";}};

  // Reused option objects for setSelection & friends
  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: "*mouse"}, sel_move = {origin: "+move"};

  function Delayed() {this.id = null;}
  Delayed.prototype.set = function(ms, f) {
    clearTimeout(this.id);
    this.id = setTimeout(f, ms);
  };

  // Counts the column offset in a string, taking tabs into account.
  // Used mostly to find indentation.
  var countColumn = CodeMirror.countColumn = function(string, end, tabSize, startIndex, startValue) {
    if (end == null) {
      end = string.search(/[^\s\u00a0]/);
      if (end == -1) end = string.length;
    }
    for (var i = startIndex || 0, n = startValue || 0;;) {
      var nextTab = string.indexOf("\t", i);
      if (nextTab < 0 || nextTab >= end)
        return n + (end - i);
      n += nextTab - i;
      n += tabSize - (n % tabSize);
      i = nextTab + 1;
    }
  };

  // The inverse of countColumn -- find the offset that corresponds to
  // a particular column.
  function findColumn(string, goal, tabSize) {
    for (var pos = 0, col = 0;;) {
      var nextTab = string.indexOf("\t", pos);
      if (nextTab == -1) nextTab = string.length;
      var skipped = nextTab - pos;
      if (nextTab == string.length || col + skipped >= goal)
        return pos + Math.min(skipped, goal - col);
      col += nextTab - pos;
      col += tabSize - (col % tabSize);
      pos = nextTab + 1;
      if (col >= goal) return pos;
    }
  }

  var spaceStrs = [""];
  function spaceStr(n) {
    while (spaceStrs.length <= n)
      spaceStrs.push(lst(spaceStrs) + " ");
    return spaceStrs[n];
  }

  function lst(arr) { return arr[arr.length-1]; }

  var selectInput = function(node) { node.select(); };
  if (ios) // Mobile Safari apparently has a bug where select() is broken.
    selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; };
  else if (ie) // Suppress mysterious IE10 errors
    selectInput = function(node) { try { node.select(); } catch(_e) {} };

  function indexOf(array, elt) {
    for (var i = 0; i < array.length; ++i)
      if (array[i] == elt) return i;
    return -1;
  }
  function map(array, f) {
    var out = [];
    for (var i = 0; i < array.length; i++) out[i] = f(array[i], i);
    return out;
  }

  function nothing() {}

  function createObj(base, props) {
    var inst;
    if (Object.create) {
      inst = Object.create(base);
    } else {
      nothing.prototype = base;
      inst = new nothing();
    }
    if (props) copyObj(props, inst);
    return inst;
  };

  function copyObj(obj, target, overwrite) {
    if (!target) target = {};
    for (var prop in obj)
      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))
        target[prop] = obj[prop];
    return target;
  }

  function bind(f) {
    var args = Array.prototype.slice.call(arguments, 1);
    return function(){return f.apply(null, args);};
  }

  var nonASCIISingleCaseWordChar = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
  var isWordCharBasic = CodeMirror.isWordChar = function(ch) {
    return /\w/.test(ch) || ch > "\x80" &&
      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));
  };
  function isWordChar(ch, helper) {
    if (!helper) return isWordCharBasic(ch);
    if (helper.source.indexOf("\\w") > -1 && isWordCharBasic(ch)) return true;
    return helper.test(ch);
  }

  function isEmpty(obj) {
    for (var n in obj) if (obj.hasOwnProperty(n) && obj[n]) return false;
    return true;
  }

  // Extending unicode characters. A series of a non-extending char +
  // any number of extending chars is treated as a single unit as far
  // as editing and measuring is concerned. This is not fully correct,
  // since some scripts/fonts/browsers also treat other configurations
  // of code points as a group.
  var extendingChars = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch); }

  // DOM UTILITIES

  function elt(tag, content, className, style) {
    var e = document.createElement(tag);
    if (className) e.className = className;
    if (style) e.style.cssText = style;
    if (typeof content == "string") e.appendChild(document.createTextNode(content));
    else if (content) for (var i = 0; i < content.length; ++i) e.appendChild(content[i]);
    return e;
  }

  var range;
  if (document.createRange) range = function(node, start, end, endNode) {
    var r = document.createRange();
    r.setEnd(endNode || node, end);
    r.setStart(node, start);
    return r;
  };
  else range = function(node, start, end) {
    var r = document.body.createTextRange();
    try { r.moveToElementText(node.parentNode); }
    catch(e) { return r; }
    r.collapse(true);
    r.moveEnd("character", end);
    r.moveStart("character", start);
    return r;
  };

  function removeChildren(e) {
    for (var count = e.childNodes.length; count > 0; --count)
      e.removeChild(e.firstChild);
    return e;
  }

  function removeChildrenAndAdd(parent, e) {
    return removeChildren(parent).appendChild(e);
  }

  var contains = CodeMirror.contains = function(parent, child) {
    if (child.nodeType == 3) // Android browser always returns false when child is a textnode
      child = child.parentNode;
    if (parent.contains)
      return parent.contains(child);
    do {
      if (child.nodeType == 11) child = child.host;
      if (child == parent) return true;
    } while (child = child.parentNode);
  };

  function activeElt() {
    var activeElement = document.activeElement;
    while (activeElement && activeElement.root && activeElement.root.activeElement)
      activeElement = activeElement.root.activeElement;
    return activeElement;
  }
  // Older versions of IE throws unspecified error when touching
  // document.activeElement in some cases (during loading, in iframe)
  if (ie && ie_version < 11) activeElt = function() {
    try { return document.activeElement; }
    catch(e) { return document.body; }
  };

  function classTest(cls) { return new RegExp("(^|\\s)" + cls + "(?:$|\\s)\\s*"); }
  var rmClass = CodeMirror.rmClass = function(node, cls) {
    var current = node.className;
    var match = classTest(cls).exec(current);
    if (match) {
      var after = current.slice(match.index + match[0].length);
      node.className = current.slice(0, match.index) + (after ? match[1] + after : "");
    }
  };
  var addClass = CodeMirror.addClass = function(node, cls) {
    var current = node.className;
    if (!classTest(cls).test(current)) node.className += (current ? " " : "") + cls;
  };
  function joinClasses(a, b) {
    var as = a.split(" ");
    for (var i = 0; i < as.length; i++)
      if (as[i] && !classTest(as[i]).test(b)) b += " " + as[i];
    return b;
  }

  // WINDOW-WIDE EVENTS

  // These must be handled carefully, because naively registering a
  // handler for each editor will cause the editors to never be
  // garbage collected.

  function forEachCodeMirror(f) {
    if (!document.body.getElementsByClassName) return;
    var byClass = document.body.getElementsByClassName("CodeMirror");
    for (var i = 0; i < byClass.length; i++) {
      var cm = byClass[i].CodeMirror;
      if (cm) f(cm);
    }
  }

  var globalsRegistered = false;
  function ensureGlobalHandlers() {
    if (globalsRegistered) return;
    registerGlobalHandlers();
    globalsRegistered = true;
  }
  function registerGlobalHandlers() {
    // When the window resizes, we need to refresh active editors.
    var resizeTimer;
    on(window, "resize", function() {
      if (resizeTimer == null) resizeTimer = setTimeout(function() {
        resizeTimer = null;
        forEachCodeMirror(onResize);
      }, 100);
    });
    // When the window loses focus, we want to show the editor as blurred
    on(window, "blur", function() {
      forEachCodeMirror(onBlur);
    });
  }

  // FEATURE DETECTION

  // Detect drag-and-drop
  var dragAndDrop = function() {
    // There is *some* kind of drag-and-drop support in IE6-8, but I
    // couldn't get it to work yet.
    if (ie && ie_version < 9) return false;
    var div = elt('div');
    return "draggable" in div || "dragDrop" in div;
  }();

  var zwspSupported;
  function zeroWidthElement(measure) {
    if (zwspSupported == null) {
      var test = elt("span", "\u200b");
      removeChildrenAndAdd(measure, elt("span", [test, document.createTextNode("x")]));
      if (measure.firstChild.offsetHeight != 0)
        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);
    }
    var node = zwspSupported ? elt("span", "\u200b") :
      elt("span", "\u00a0", null, "display: inline-block; width: 1px; margin-right: -1px");
    node.setAttribute("cm-text", "");
    return node;
  }

  // Feature-detect IE's crummy client rect reporting for bidi text
  var badBidiRects;
  function hasBadBidiRects(measure) {
    if (badBidiRects != null) return badBidiRects;
    var txt = removeChildrenAndAdd(measure, document.createTextNode("A\u062eA"));
    var r0 = range(txt, 0, 1).getBoundingClientRect();
    if (!r0 || r0.left == r0.right) return false; // Safari returns null in some cases (#2780)
    var r1 = range(txt, 1, 2).getBoundingClientRect();
    return badBidiRects = (r1.right - r0.right < 3);
  }

  // See if "".split is the broken IE version, if so, provide an
  // alternative way to split lines.
  var splitLinesAuto = CodeMirror.splitLines = "\n\nb".split(/\n/).length != 3 ? function(string) {
    var pos = 0, result = [], l = string.length;
    while (pos <= l) {
      var nl = string.indexOf("\n", pos);
      if (nl == -1) nl = string.length;
      var line = string.slice(pos, string.charAt(nl - 1) == "\r" ? nl - 1 : nl);
      var rt = line.indexOf("\r");
      if (rt != -1) {
        result.push(line.slice(0, rt));
        pos += rt + 1;
      } else {
        result.push(line);
        pos = nl + 1;
      }
    }
    return result;
  } : function(string){return string.split(/\r\n?|\n/);};

  var hasSelection = window.getSelection ? function(te) {
    try { return te.selectionStart != te.selectionEnd; }
    catch(e) { return false; }
  } : function(te) {
    try {var range = te.ownerDocument.selection.createRange();}
    catch(e) {}
    if (!range || range.parentElement() != te) return false;
    return range.compareEndPoints("StartToEnd", range) != 0;
  };

  var hasCopyEvent = (function() {
    var e = elt("div");
    if ("oncopy" in e) return true;
    e.setAttribute("oncopy", "return;");
    return typeof e.oncopy == "function";
  })();

  var badZoomedRects = null;
  function hasBadZoomedRects(measure) {
    if (badZoomedRects != null) return badZoomedRects;
    var node = removeChildrenAndAdd(measure, elt("span", "x"));
    var normal = node.getBoundingClientRect();
    var fromRange = range(node, 0, 1).getBoundingClientRect();
    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;
  }

  // KEY NAMES

  var keyNames = {3: "Enter", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt",
                  19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End",
                  36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert",
                  46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod", 107: "=", 109: "-", 127: "Delete",
                  173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\",
                  221: "]", 222: "'", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete",
                  63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert"};
  CodeMirror.keyNames = keyNames;
  (function() {
    // Number keys
    for (var i = 0; i < 10; i++) keyNames[i + 48] = keyNames[i + 96] = String(i);
    // Alphabetic keys
    for (var i = 65; i <= 90; i++) keyNames[i] = String.fromCharCode(i);
    // Function keys
    for (var i = 1; i <= 12; i++) keyNames[i + 111] = keyNames[i + 63235] = "F" + i;
  })();

  // BIDI HELPERS

  function iterateBidiSections(order, from, to, f) {
    if (!order) return f(from, to, "ltr");
    var found = false;
    for (var i = 0; i < order.length; ++i) {
      var part = order[i];
      if (part.from < to && part.to > from || from == to && part.to == from) {
        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? "rtl" : "ltr");
        found = true;
      }
    }
    if (!found) f(from, to, "ltr");
  }

  function bidiLeft(part) { return part.level % 2 ? part.to : part.from; }
  function bidiRight(part) { return part.level % 2 ? part.from : part.to; }

  function lineLeft(line) { var order = getOrder(line); return order ? bidiLeft(order[0]) : 0; }
  function lineRight(line) {
    var order = getOrder(line);
    if (!order) return line.text.length;
    return bidiRight(lst(order));
  }

  function lineStart(cm, lineN) {
    var line = getLine(cm.doc, lineN);
    var visual = visualLine(line);
    if (visual != line) lineN = lineNo(visual);
    var order = getOrder(visual);
    var ch = !order ? 0 : order[0].level % 2 ? lineRight(visual) : lineLeft(visual);
    return Pos(lineN, ch);
  }
  function lineEnd(cm, lineN) {
    var merged, line = getLine(cm.doc, lineN);
    while (merged = collapsedSpanAtEnd(line)) {
      line = merged.find(1, true).line;
      lineN = null;
    }
    var order = getOrder(line);
    var ch = !order ? line.text.length : order[0].level % 2 ? lineLeft(line) : lineRight(line);
    return Pos(lineN == null ? lineNo(line) : lineN, ch);
  }
  function lineStartSmart(cm, pos) {
    var start = lineStart(cm, pos.line);
    var line = getLine(cm.doc, start.line);
    var order = getOrder(line);
    if (!order || order[0].level == 0) {
      var firstNonWS = Math.max(0, line.text.search(/\S/));
      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;
      return Pos(start.line, inWS ? 0 : firstNonWS);
    }
    return start;
  }

  function compareBidiLevel(order, a, b) {
    var linedir = order[0].level;
    if (a == linedir) return true;
    if (b == linedir) return false;
    return a < b;
  }
  var bidiOther;
  function getBidiPartAt(order, pos) {
    bidiOther = null;
    for (var i = 0, found; i < order.length; ++i) {
      var cur = order[i];
      if (cur.from < pos && cur.to > pos) return i;
      if ((cur.from == pos || cur.to == pos)) {
        if (found == null) {
          found = i;
        } else if (compareBidiLevel(order, cur.level, order[found].level)) {
          if (cur.from != cur.to) bidiOther = found;
          return i;
        } else {
          if (cur.from != cur.to) bidiOther = i;
          return found;
        }
      }
    }
    return found;
  }

  function moveInLine(line, pos, dir, byUnit) {
    if (!byUnit) return pos + dir;
    do pos += dir;
    while (pos > 0 && isExtendingChar(line.text.charAt(pos)));
    return pos;
  }

  // This is needed in order to move 'visually' through bi-directional
  // text -- i.e., pressing left should make the cursor go left, even
  // when in RTL text. The tricky part is the 'jumps', where RTL and
  // LTR text touch each other. This often requires the cursor offset
  // to move more than one unit, in order to visually move one unit.
  function moveVisually(line, start, dir, byUnit) {
    var bidi = getOrder(line);
    if (!bidi) return moveLogically(line, start, dir, byUnit);
    var pos = getBidiPartAt(bidi, start), part = bidi[pos];
    var target = moveInLine(line, start, part.level % 2 ? -dir : dir, byUnit);

    for (;;) {
      if (target > part.from && target < part.to) return target;
      if (target == part.from || target == part.to) {
        if (getBidiPartAt(bidi, target) == pos) return target;
        part = bidi[pos += dir];
        return (dir > 0) == part.level % 2 ? part.to : part.from;
      } else {
        part = bidi[pos += dir];
        if (!part) return null;
        if ((dir > 0) == part.level % 2)
          target = moveInLine(line, part.to, -1, byUnit);
        else
          target = moveInLine(line, part.from, 1, byUnit);
      }
    }
  }

  function moveLogically(line, start, dir, byUnit) {
    var target = start + dir;
    if (byUnit) while (target > 0 && isExtendingChar(line.text.charAt(target))) target += dir;
    return target < 0 || target > line.text.length ? null : target;
  }

  // Bidirectional ordering algorithm
  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm
  // that this (partially) implements.

  // One-char codes used for character types:
  // L (L):   Left-to-Right
  // R (R):   Right-to-Left
  // r (AL):  Right-to-Left Arabic
  // 1 (EN):  European Number
  // + (ES):  European Number Separator
  // % (ET):  European Number Terminator
  // n (AN):  Arabic Number
  // , (CS):  Common Number Separator
  // m (NSM): Non-Spacing Mark
  // b (BN):  Boundary Neutral
  // s (B):   Paragraph Separator
  // t (S):   Segment Separator
  // w (WS):  Whitespace
  // N (ON):  Other Neutrals

  // Returns null if characters are ordered as they appear
  // (left-to-right), or an array of sections ({from, to, level}
  // objects) in the order in which they occur visually.
  var bidiOrdering = (function() {
    // Character types for codepoints 0 to 0xff
    var lowTypes = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";
    // Character types for codepoints 0x600 to 0x6ff
    var arabicTypes = "rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";
    function charType(code) {
      if (code <= 0xf7) return lowTypes.charAt(code);
      else if (0x590 <= code && code <= 0x5f4) return "R";
      else if (0x600 <= code && code <= 0x6ed) return arabicTypes.charAt(code - 0x600);
      else if (0x6ee <= code && code <= 0x8ac) return "r";
      else if (0x2000 <= code && code <= 0x200b) return "w";
      else if (code == 0x200c) return "b";
      else return "L";
    }

    var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;
    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;
    // Browsers seem to always treat the boundaries of block elements as being L.
    var outerType = "L";

    function BidiSpan(level, from, to) {
      this.level = level;
      this.from = from; this.to = to;
    }

    return function(str) {
      if (!bidiRE.test(str)) return false;
      var len = str.length, types = [];
      for (var i = 0, type; i < len; ++i)
        types.push(type = charType(str.charCodeAt(i)));

      // W1. Examine each non-spacing mark (NSM) in the level run, and
      // change the type of the NSM to the type of the previous
      // character. If the NSM is at the start of the level run, it will
      // get the type of sor.
      for (var i = 0, prev = outerType; i < len; ++i) {
        var type = types[i];
        if (type == "m") types[i] = prev;
        else prev = type;
      }

      // W2. Search backwards from each instance of a European number
      // until the first strong type (R, L, AL, or sor) is found. If an
      // AL is found, change the type of the European number to Arabic
      // number.
      // W3. Change all ALs to R.
      for (var i = 0, cur = outerType; i < len; ++i) {
        var type = types[i];
        if (type == "1" && cur == "r") types[i] = "n";
        else if (isStrong.test(type)) { cur = type; if (type == "r") types[i] = "R"; }
      }

      // W4. A single European separator between two European numbers
      // changes to a European number. A single common separator between
      // two numbers of the same type changes to that type.
      for (var i = 1, prev = types[0]; i < len - 1; ++i) {
        var type = types[i];
        if (type == "+" && prev == "1" && types[i+1] == "1") types[i] = "1";
        else if (type == "," && prev == types[i+1] &&
                 (prev == "1" || prev == "n")) types[i] = prev;
        prev = type;
      }

      // W5. A sequence of European terminators adjacent to European
      // numbers changes to all European numbers.
      // W6. Otherwise, separators and terminators change to Other
      // Neutral.
      for (var i = 0; i < len; ++i) {
        var type = types[i];
        if (type == ",") types[i] = "N";
        else if (type == "%") {
          for (var end = i + 1; end < len && types[end] == "%"; ++end) {}
          var replace = (i && types[i-1] == "!") || (end < len && types[end] == "1") ? "1" : "N";
          for (var j = i; j < end; ++j) types[j] = replace;
          i = end - 1;
        }
      }

      // W7. Search backwards from each instance of a European number
      // until the first strong type (R, L, or sor) is found. If an L is
      // found, then change the type of the European number to L.
      for (var i = 0, cur = outerType; i < len; ++i) {
        var type = types[i];
        if (cur == "L" && type == "1") types[i] = "L";
        else if (isStrong.test(type)) cur = type;
      }

      // N1. A sequence of neutrals takes the direction of the
      // surrounding strong text if the text on both sides has the same
      // direction. European and Arabic numbers act as if they were R in
      // terms of their influence on neutrals. Start-of-level-run (sor)
      // and end-of-level-run (eor) are used at level run boundaries.
      // N2. Any remaining neutrals take the embedding direction.
      for (var i = 0; i < len; ++i) {
        if (isNeutral.test(types[i])) {
          for (var end = i + 1; end < len && isNeutral.test(types[end]); ++end) {}
          var before = (i ? types[i-1] : outerType) == "L";
          var after = (end < len ? types[end] : outerType) == "L";
          var replace = before || after ? "L" : "R";
          for (var j = i; j < end; ++j) types[j] = replace;
          i = end - 1;
        }
      }

      // Here we depart from the documented algorithm, in order to avoid
      // building up an actual levels array. Since there are only three
      // levels (0, 1, 2) in an implementation that doesn't take
      // explicit embedding into account, we can build up the order on
      // the fly, without following the level-based algorithm.
      var order = [], m;
      for (var i = 0; i < len;) {
        if (countsAsLeft.test(types[i])) {
          var start = i;
          for (++i; i < len && countsAsLeft.test(types[i]); ++i) {}
          order.push(new BidiSpan(0, start, i));
        } else {
          var pos = i, at = order.length;
          for (++i; i < len && types[i] != "L"; ++i) {}
          for (var j = pos; j < i;) {
            if (countsAsNum.test(types[j])) {
              if (pos < j) order.splice(at, 0, new BidiSpan(1, pos, j));
              var nstart = j;
              for (++j; j < i && countsAsNum.test(types[j]); ++j) {}
              order.splice(at, 0, new BidiSpan(2, nstart, j));
              pos = j;
            } else ++j;
          }
          if (pos < i) order.splice(at, 0, new BidiSpan(1, pos, i));
        }
      }
      if (order[0].level == 1 && (m = str.match(/^\s+/))) {
        order[0].from = m[0].length;
        order.unshift(new BidiSpan(0, 0, m[0].length));
      }
      if (lst(order).level == 1 && (m = str.match(/\s+$/))) {
        lst(order).to -= m[0].length;
        order.push(new BidiSpan(0, len - m[0].length, len));
      }
      if (order[0].level == 2)
        order.unshift(new BidiSpan(1, order[0].to, order[0].to));
      if (order[0].level != lst(order).level)
        order.push(new BidiSpan(order[0].level, len, len));

      return order;
    };
  })();

  // THE END

  CodeMirror.version = "5.5.0";

  return CodeMirror;
});
‘	MNOP_application/javascript_Nhttp://jsfiddle.net/js/codemirror/mode/javascript/javascript.js?update10082015Oìbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Nhttp://jsfiddle.net/js/codemirror/mode/javascript/javascript.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçà ƒäH »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"55c87ff2-6879"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/hy_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „49DMSV_hjls{Üëìïóôõùü°£•∞≤¥∂∏∫ºæ¿¬ƒ∆—ﬁÂÛ˚ &:E^dÑ§∏ÿ›Ô¯˝
).BFZhz}ì             o              ïOhy// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// TODO actually recognize syntax of TypeScript constructs

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

CodeMirror.defineMode("javascript", function(config, parserConfig) {
  var indentUnit = config.indentUnit;
  var statementIndent = parserConfig.statementIndent;
  var jsonldMode = parserConfig.jsonld;
  var jsonMode = parserConfig.json || jsonldMode;
  var isTS = parserConfig.typescript;
  var wordRE = parserConfig.wordCharacters || /[\w$\xa1-\uffff]/;

  // Tokenizer

  var keywords = function(){
    function kw(type) {return {type: type, style: "keyword"};}
    var A = kw("keyword a"), B = kw("keyword b"), C = kw("keyword c");
    var operator = kw("operator"), atom = {type: "atom", style: "atom"};

    var jsKeywords = {
      "if": kw("if"), "while": A, "with": A, "else": B, "do": B, "try": B, "finally": B,
      "return": C, "break": C, "continue": C, "new": C, "delete": C, "throw": C, "debugger": C,
      "var": kw("var"), "const": kw("var"), "let": kw("var"),
      "function": kw("function"), "catch": kw("catch"),
      "for": kw("for"), "switch": kw("switch"), "case": kw("case"), "default": kw("default"),
      "in": operator, "typeof": operator, "instanceof": operator,
      "true": atom, "false": atom, "null": atom, "undefined": atom, "NaN": atom, "Infinity": atom,
      "this": kw("this"), "module": kw("module"), "class": kw("class"), "super": kw("atom"),
      "yield": C, "export": kw("export"), "import": kw("import"), "extends": C
    };

    // Extend the 'normal' keywords with the TypeScript language extensions
    if (isTS) {
      var type = {type: "variable", style: "variable-3"};
      var tsKeywords = {
        // object-like things
        "interface": kw("interface"),
        "extends": kw("extends"),
        "constructor": kw("constructor"),

        // scope modifiers
        "public": kw("public"),
        "private": kw("private"),
        "protected": kw("protected"),
        "static": kw("static"),

        // types
        "string": type, "number": type, "bool": type, "any": type
      };

      for (var attr in tsKeywords) {
        jsKeywords[attr] = tsKeywords[attr];
      }
    }

    return jsKeywords;
  }();

  var isOperatorChar = /[+\-*&%=<>!?|~^]/;
  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;

  function readRegexp(stream) {
    var escaped = false, next, inSet = false;
    while ((next = stream.next()) != null) {
      if (!escaped) {
        if (next == "/" && !inSet) return;
        if (next == "[") inSet = true;
        else if (inSet && next == "]") inSet = false;
      }
      escaped = !escaped && next == "\\";
    }
  }

  // Used as scratch variables to communicate multiple values without
  // consing up tons of objects.
  var type, content;
  function ret(tp, style, cont) {
    type = tp; content = cont;
    return style;
  }
  function tokenBase(stream, state) {
    var ch = stream.next();
    if (ch == '"' || ch == "'") {
      state.tokenize = tokenString(ch);
      return state.tokenize(stream, state);
    } else if (ch == "." && stream.match(/^\d+(?:[eE][+\-]?\d+)?/)) {
      return ret("number", "number");
    } else if (ch == "." && stream.match("..")) {
      return ret("spread", "meta");
    } else if (/[\[\]{}\(\),;\:\.]/.test(ch)) {
      return ret(ch);
    } else if (ch == "=" && stream.eat(">")) {
      return ret("=>", "operator");
    } else if (ch == "0" && stream.eat(/x/i)) {
      stream.eatWhile(/[\da-f]/i);
      return ret("number", "number");
    } else if (/\d/.test(ch)) {
      stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);
      return ret("number", "number");
    } else if (ch == "/") {
      if (stream.eat("*")) {
        state.tokenize = tokenComment;
        return tokenComment(stream, state);
      } else if (stream.eat("/")) {
        stream.skipToEnd();
        return ret("comment", "comment");
      } else if (state.lastType == "operator" || state.lastType == "keyword c" ||
               state.lastType == "sof" || /^[\[{}\(,;:]$/.test(state.lastType)) {
        readRegexp(stream);
        stream.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);
        return ret("regexp", "string-2");
      } else {
        stream.eatWhile(isOperatorChar);
        return ret("operator", "operator", stream.current());
      }
    } else if (ch == "`") {
      state.tokenize = tokenQuasi;
      return tokenQuasi(stream, state);
    } else if (ch == "#") {
      stream.skipToEnd();
      return ret("error", "error");
    } else if (isOperatorChar.test(ch)) {
      stream.eatWhile(isOperatorChar);
      return ret("operator", "operator", stream.current());
    } else if (wordRE.test(ch)) {
      stream.eatWhile(wordRE);
      var word = stream.current(), known = keywords.propertyIsEnumerable(word) && keywords[word];
      return (known && state.lastType != ".") ? ret(known.type, known.style, word) :
                     ret("variable", "variable", word);
    }
  }

  function tokenString(quote) {
    return function(stream, state) {
      var escaped = false, next;
      if (jsonldMode && stream.peek() == "@" && stream.match(isJsonldKeyword)){
        state.tokenize = tokenBase;
        return ret("jsonld-keyword", "meta");
      }
      while ((next = stream.next()) != null) {
        if (next == quote && !escaped) break;
        escaped = !escaped && next == "\\";
      }
      if (!escaped) state.tokenize = tokenBase;
      return ret("string", "string");
    };
  }

  function tokenComment(stream, state) {
    var maybeEnd = false, ch;
    while (ch = stream.next()) {
      if (ch == "/" && maybeEnd) {
        state.tokenize = tokenBase;
        break;
      }
      maybeEnd = (ch == "*");
    }
    return ret("comment", "comment");
  }

  function tokenQuasi(stream, state) {
    var escaped = false, next;
    while ((next = stream.next()) != null) {
      if (!escaped && (next == "`" || next == "$" && stream.eat("{"))) {
        state.tokenize = tokenBase;
        break;
      }
      escaped = !escaped && next == "\\";
    }
    return ret("quasi", "string-2", stream.current());
  }

  var brackets = "([{}])";
  // This is a crude lookahead trick to try and notice that we're
  // parsing the argument patterns for a fat-arrow function before we
  // actually hit the arrow token. It only works if the arrow is on
  // the same line as the arguments and there's no strange noise
  // (comments) in between. Fallback is to only notice when we hit the
  // arrow, and not declare the arguments as locals for the arrow
  // body.
  function findFatArrow(stream, state) {
    if (state.fatArrowAt) state.fatArrowAt = null;
    var arrow = stream.string.indexOf("=>", stream.start);
    if (arrow < 0) return;

    var depth = 0, sawSomething = false;
    for (var pos = arrow - 1; pos >= 0; --pos) {
      var ch = stream.string.charAt(pos);
      var bracket = brackets.indexOf(ch);
      if (bracket >= 0 && bracket < 3) {
        if (!depth) { ++pos; break; }
        if (--depth == 0) break;
      } else if (bracket >= 3 && bracket < 6) {
        ++depth;
      } else if (wordRE.test(ch)) {
        sawSomething = true;
      } else if (/["'\/]/.test(ch)) {
        return;
      } else if (sawSomething && !depth) {
        ++pos;
        break;
      }
    }
    if (sawSomething && !depth) state.fatArrowAt = pos;
  }

  // Parser

  var atomicTypes = {"atom": true, "number": true, "variable": true, "string": true, "regexp": true, "this": true, "jsonld-keyword": true};

  function JSLexical(indented, column, type, align, prev, info) {
    this.indented = indented;
    this.column = column;
    this.type = type;
    this.prev = prev;
    this.info = info;
    if (align != null) this.align = align;
  }

  function inScope(state, varname) {
    for (var v = state.localVars; v; v = v.next)
      if (v.name == varname) return true;
    for (var cx = state.context; cx; cx = cx.prev) {
      for (var v = cx.vars; v; v = v.next)
        if (v.name == varname) return true;
    }
  }

  function parseJS(state, style, type, content, stream) {
    var cc = state.cc;
    // Communicate our context to the combinators.
    // (Less wasteful than consing up a hundred closures on every call.)
    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;

    if (!state.lexical.hasOwnProperty("align"))
      state.lexical.align = true;

    while(true) {
      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;
      if (combinator(type, content)) {
        while(cc.length && cc[cc.length - 1].lex)
          cc.pop()();
        if (cx.marked) return cx.marked;
        if (type == "variable" && inScope(state, content)) return "variable-2";
        return style;
      }
    }
  }

  // Combinator utils

  var cx = {state: null, column: null, marked: null, cc: null};
  function pass() {
    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);
  }
  function cont() {
    pass.apply(null, arguments);
    return true;
  }
  function register(varname) {
    function inList(list) {
      for (var v = list; v; v = v.next)
        if (v.name == varname) return true;
      return false;
    }
    var state = cx.state;
    if (state.context) {
      cx.marked = "def";
      if (inList(state.localVars)) return;
      state.localVars = {name: varname, next: state.localVars};
    } else {
      if (inList(state.globalVars)) return;
      if (parserConfig.globalVars)
        state.globalVars = {name: varname, next: state.globalVars};
    }
  }

  // Combinators

  var defaultVars = {name: "this", next: {name: "arguments"}};
  function pushcontext() {
    cx.state.context = {prev: cx.state.context, vars: cx.state.localVars};
    cx.state.localVars = defaultVars;
  }
  function popcontext() {
    cx.state.localVars = cx.state.context.vars;
    cx.state.context = cx.state.context.prev;
  }
  function pushlex(type, info) {
    var result = function() {
      var state = cx.state, indent = state.indented;
      if (state.lexical.type == "stat") indent = state.lexical.indented;
      else for (var outer = state.lexical; outer && outer.type == ")" && outer.align; outer = outer.prev)
        indent = outer.indented;
      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);
    };
    result.lex = true;
    return result;
  }
  function poplex() {
    var state = cx.state;
    if (state.lexical.prev) {
      if (state.lexical.type == ")")
        state.indented = state.lexical.indented;
      state.lexical = state.lexical.prev;
    }
  }
  poplex.lex = true;

  function expect(wanted) {
    function exp(type) {
      if (type == wanted) return cont();
      else if (wanted == ";") return pass();
      else return cont(exp);
    };
    return exp;
  }

  function statement(type, value) {
    if (type == "var") return cont(pushlex("vardef", value.length), vardef, expect(";"), poplex);
    if (type == "keyword a") return cont(pushlex("form"), expression, statement, poplex);
    if (type == "keyword b") return cont(pushlex("form"), statement, poplex);
    if (type == "{") return cont(pushlex("}"), block, poplex);
    if (type == ";") return cont();
    if (type == "if") {
      if (cx.state.lexical.info == "else" && cx.state.cc[cx.state.cc.length - 1] == poplex)
        cx.state.cc.pop()();
      return cont(pushlex("form"), expression, statement, poplex, maybeelse);
    }
    if (type == "function") return cont(functiondef);
    if (type == "for") return cont(pushlex("form"), forspec, statement, poplex);
    if (type == "variable") return cont(pushlex("stat"), maybelabel);
    if (type == "switch") return cont(pushlex("form"), expression, pushlex("}", "switch"), expect("{"),
                                      block, poplex, poplex);
    if (type == "case") return cont(expression, expect(":"));
    if (type == "default") return cont(expect(":"));
    if (type == "catch") return cont(pushlex("form"), pushcontext, expect("("), funarg, expect(")"),
                                     statement, poplex, popcontext);
    if (type == "module") return cont(pushlex("form"), pushcontext, afterModule, popcontext, poplex);
    if (type == "class") return cont(pushlex("form"), className, poplex);
    if (type == "export") return cont(pushlex("form"), afterExport, poplex);
    if (type == "import") return cont(pushlex("form"), afterImport, poplex);
    return pass(pushlex("stat"), expression, expect(";"), poplex);
  }
  function expression(type) {
    return expressionInner(type, false);
  }
  function expressionNoComma(type) {
    return expressionInner(type, true);
  }
  function expressionInner(type, noComma) {
    if (cx.state.fatArrowAt == cx.stream.start) {
      var body = noComma ? arrowBodyNoComma : arrowBody;
      if (type == "(") return cont(pushcontext, pushlex(")"), commasep(pattern, ")"), poplex, expect("=>"), body, popcontext);
      else if (type == "variable") return pass(pushcontext, pattern, expect("=>"), body, popcontext);
    }

    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;
    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);
    if (type == "function") return cont(functiondef, maybeop);
    if (type == "keyword c") return cont(noComma ? maybeexpressionNoComma : maybeexpression);
    if (type == "(") return cont(pushlex(")"), maybeexpression, comprehension, expect(")"), poplex, maybeop);
    if (type == "operator" || type == "spread") return cont(noComma ? expressionNoComma : expression);
    if (type == "[") return cont(pushlex("]"), arrayLiteral, poplex, maybeop);
    if (type == "{") return contCommasep(objprop, "}", null, maybeop);
    if (type == "quasi") { return pass(quasi, maybeop); }
    return cont();
  }
  function maybeexpression(type) {
    if (type.match(/[;\}\)\],]/)) return pass();
    return pass(expression);
  }
  function maybeexpressionNoComma(type) {
    if (type.match(/[;\}\)\],]/)) return pass();
    return pass(expressionNoComma);
  }

  function maybeoperatorComma(type, value) {
    if (type == ",") return cont(expression);
    return maybeoperatorNoComma(type, value, false);
  }
  function maybeoperatorNoComma(type, value, noComma) {
    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;
    var expr = noComma == false ? expression : expressionNoComma;
    if (type == "=>") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);
    if (type == "operator") {
      if (/\+\+|--/.test(value)) return cont(me);
      if (value == "?") return cont(expression, expect(":"), expr);
      return cont(expr);
    }
    if (type == "quasi") { return pass(quasi, me); }
    if (type == ";") return;
    if (type == "(") return contCommasep(expressionNoComma, ")", "call", me);
    if (type == ".") return cont(property, me);
    if (type == "[") return cont(pushlex("]"), maybeexpression, expect("]"), poplex, me);
  }
  function quasi(type, value) {
    if (type != "quasi") return pass();
    if (value.slice(value.length - 2) != "${") return cont(quasi);
    return cont(expression, continueQuasi);
  }
  function continueQuasi(type) {
    if (type == "}") {
      cx.marked = "string-2";
      cx.state.tokenize = tokenQuasi;
      return cont(quasi);
    }
  }
  function arrowBody(type) {
    findFatArrow(cx.stream, cx.state);
    return pass(type == "{" ? statement : expression);
  }
  function arrowBodyNoComma(type) {
    findFatArrow(cx.stream, cx.state);
    return pass(type == "{" ? statement : expressionNoComma);
  }
  function maybelabel(type) {
    if (type == ":") return cont(poplex, statement);
    return pass(maybeoperatorComma, expect(";"), poplex);
  }
  function property(type) {
    if (type == "variable") {cx.marked = "property"; return cont();}
  }
  function objprop(type, value) {
    if (type == "variable" || cx.style == "keyword") {
      cx.marked = "property";
      if (value == "get" || value == "set") return cont(getterSetter);
      return cont(afterprop);
    } else if (type == "number" || type == "string") {
      cx.marked = jsonldMode ? "property" : (cx.style + " property");
      return cont(afterprop);
    } else if (type == "jsonld-keyword") {
      return cont(afterprop);
    } else if (type == "[") {
      return cont(expression, expect("]"), afterprop);
    }
  }
  function getterSetter(type) {
    if (type != "variable") return pass(afterprop);
    cx.marked = "property";
    return cont(functiondef);
  }
  function afterprop(type) {
    if (type == ":") return cont(expressionNoComma);
    if (type == "(") return pass(functiondef);
  }
  function commasep(what, end) {
    function proceed(type) {
      if (type == ",") {
        var lex = cx.state.lexical;
        if (lex.info == "call") lex.pos = (lex.pos || 0) + 1;
        return cont(what, proceed);
      }
      if (type == end) return cont();
      return cont(expect(end));
    }
    return function(type) {
      if (type == end) return cont();
      return pass(what, proceed);
    };
  }
  function contCommasep(what, end, info) {
    for (var i = 3; i < arguments.length; i++)
      cx.cc.push(arguments[i]);
    return cont(pushlex(end, info), commasep(what, end), poplex);
  }
  function block(type) {
    if (type == "}") return cont();
    return pass(statement, block);
  }
  function maybetype(type) {
    if (isTS && type == ":") return cont(typedef);
  }
  function maybedefault(_, value) {
    if (value == "=") return cont(expressionNoComma);
  }
  function typedef(type) {
    if (type == "variable") {cx.marked = "variable-3"; return cont();}
  }
  function vardef() {
    return pass(pattern, maybetype, maybeAssign, vardefCont);
  }
  function pattern(type, value) {
    if (type == "variable") { register(value); return cont(); }
    if (type == "[") return contCommasep(pattern, "]");
    if (type == "{") return contCommasep(proppattern, "}");
  }
  function proppattern(type, value) {
    if (type == "variable" && !cx.stream.match(/^\s*:/, false)) {
      register(value);
      return cont(maybeAssign);
    }
    if (type == "variable") cx.marked = "property";
    return cont(expect(":"), pattern, maybeAssign);
  }
  function maybeAssign(_type, value) {
    if (value == "=") return cont(expressionNoComma);
  }
  function vardefCont(type) {
    if (type == ",") return cont(vardef);
  }
  function maybeelse(type, value) {
    if (type == "keyword b" && value == "else") return cont(pushlex("form", "else"), statement, poplex);
  }
  function forspec(type) {
    if (type == "(") return cont(pushlex(")"), forspec1, expect(")"), poplex);
  }
  function forspec1(type) {
    if (type == "var") return cont(vardef, expect(";"), forspec2);
    if (type == ";") return cont(forspec2);
    if (type == "variable") return cont(formaybeinof);
    return pass(expression, expect(";"), forspec2);
  }
  function formaybeinof(_type, value) {
    if (value == "in" || value == "of") { cx.marked = "keyword"; return cont(expression); }
    return cont(maybeoperatorComma, forspec2);
  }
  function forspec2(type, value) {
    if (type == ";") return cont(forspec3);
    if (value == "in" || value == "of") { cx.marked = "keyword"; return cont(expression); }
    return pass(expression, expect(";"), forspec3);
  }
  function forspec3(type) {
    if (type != ")") cont(expression);
  }
  function functiondef(type, value) {
    if (value == "*") {cx.marked = "keyword"; return cont(functiondef);}
    if (type == "variable") {register(value); return cont(functiondef);}
    if (type == "(") return cont(pushcontext, pushlex(")"), commasep(funarg, ")"), poplex, statement, popcontext);
  }
  function funarg(type) {
    if (type == "spread") return cont(funarg);
    return pass(pattern, maybetype, maybedefault);
  }
  function className(type, value) {
    if (type == "variable") {register(value); return cont(classNameAfter);}
  }
  function classNameAfter(type, value) {
    if (value == "extends") return cont(expression, classNameAfter);
    if (type == "{") return cont(pushlex("}"), classBody, poplex);
  }
  function classBody(type, value) {
    if (type == "variable" || cx.style == "keyword") {
      if (value == "static") {
        cx.marked = "keyword";
        return cont(classBody);
      }
      cx.marked = "property";
      if (value == "get" || value == "set") return cont(classGetterSetter, functiondef, classBody);
      return cont(functiondef, classBody);
    }
    if (value == "*") {
      cx.marked = "keyword";
      return cont(classBody);
    }
    if (type == ";") return cont(classBody);
    if (type == "}") return cont();
  }
  function classGetterSetter(type) {
    if (type != "variable") return pass();
    cx.marked = "property";
    return cont();
  }
  function afterModule(type, value) {
    if (type == "string") return cont(statement);
    if (type == "variable") { register(value); return cont(maybeFrom); }
  }
  function afterExport(_type, value) {
    if (value == "*") { cx.marked = "keyword"; return cont(maybeFrom, expect(";")); }
    if (value == "default") { cx.marked = "keyword"; return cont(expression, expect(";")); }
    return pass(statement);
  }
  function afterImport(type) {
    if (type == "string") return cont();
    return pass(importSpec, maybeFrom);
  }
  function importSpec(type, value) {
    if (type == "{") return contCommasep(importSpec, "}");
    if (type == "variable") register(value);
    if (value == "*") cx.marked = "keyword";
    return cont(maybeAs);
  }
  function maybeAs(_type, value) {
    if (value == "as") { cx.marked = "keyword"; return cont(importSpec); }
  }
  function maybeFrom(_type, value) {
    if (value == "from") { cx.marked = "keyword"; return cont(expression); }
  }
  function arrayLiteral(type) {
    if (type == "]") return cont();
    return pass(expressionNoComma, maybeArrayComprehension);
  }
  function maybeArrayComprehension(type) {
    if (type == "for") return pass(comprehension, expect("]"));
    if (type == ",") return cont(commasep(maybeexpressionNoComma, "]"));
    return pass(commasep(expressionNoComma, "]"));
  }
  function comprehension(type) {
    if (type == "for") return cont(forspec, comprehension);
    if (type == "if") return cont(expression, comprehension);
  }

  function isContinuedStatement(state, textAfter) {
    return state.lastType == "operator" || state.lastType == "," ||
      isOperatorChar.test(textAfter.charAt(0)) ||
      /[,.]/.test(textAfter.charAt(0));
  }

  // Interface

  return {
    startState: function(basecolumn) {
      var state = {
        tokenize: tokenBase,
        lastType: "sof",
        cc: [],
        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, "block", false),
        localVars: parserConfig.localVars,
        context: parserConfig.localVars && {vars: parserConfig.localVars},
        indented: 0
      };
      if (parserConfig.globalVars && typeof parserConfig.globalVars == "object")
        state.globalVars = parserConfig.globalVars;
      return state;
    },

    token: function(stream, state) {
      if (stream.sol()) {
        if (!state.lexical.hasOwnProperty("align"))
          state.lexical.align = false;
        state.indented = stream.indentation();
        findFatArrow(stream, state);
      }
      if (state.tokenize != tokenComment && stream.eatSpace()) return null;
      var style = state.tokenize(stream, state);
      if (type == "comment") return style;
      state.lastType = type == "operator" && (content == "++" || content == "--") ? "incdec" : type;
      return parseJS(state, style, type, content, stream);
    },

    indent: function(state, textAfter) {
      if (state.tokenize == tokenComment) return CodeMirror.Pass;
      if (state.tokenize != tokenBase) return 0;
      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical;
      // Kludge to prevent 'maybelse' from blocking lexical scope pops
      if (!/^\s*else\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {
        var c = state.cc[i];
        if (c == poplex) lexical = lexical.prev;
        else if (c != maybeelse) break;
      }
      if (lexical.type == "stat" && firstChar == "}") lexical = lexical.prev;
      if (statementIndent && lexical.type == ")" && lexical.prev.type == "stat")
        lexical = lexical.prev;
      var type = lexical.type, closing = firstChar == type;

      if (type == "vardef") return lexical.indented + (state.lastType == "operator" || state.lastType == "," ? lexical.info + 1 : 0);
      else if (type == "form" && firstChar == "{") return lexical.indented;
      else if (type == "form") return lexical.indented + indentUnit;
      else if (type == "stat")
        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);
      else if (lexical.info == "switch" && !closing && parserConfig.doubleIndentSwitch != false)
        return lexical.indented + (/^(?:case|default)\b/.test(textAfter) ? indentUnit : 2 * indentUnit);
      else if (lexical.align) return lexical.column + (closing ? 0 : 1);
      else return lexical.indented + (closing ? 0 : indentUnit);
    },

    electricInput: /^\s*(?:case .*?:|default:|\{|\})$/,
    blockCommentStart: jsonMode ? null : "/*",
    blockCommentEnd: jsonMode ? null : "*/",
    lineComment: jsonMode ? null : "//",
    fold: "brace",
    closeBrackets: "()[]{}''\"\"``",

    helperType: jsonMode ? "json" : "javascript",
    jsonldMode: jsonldMode,
    jsonMode: jsonMode
  };
});

CodeMirror.registerHelper("wordChars", "javascript", /[\w$]/);

CodeMirror.defineMIME("text/javascript", "javascript");
CodeMirror.defineMIME("text/ecmascript", "javascript");
CodeMirror.defineMIME("application/javascript", "javascript");
CodeMirror.defineMIME("application/x-javascript", "javascript");
CodeMirror.defineMIME("application/ecmascript", "javascript");
CodeMirror.defineMIME("application/json", {name: "javascript", json: true});
CodeMirror.defineMIME("application/x-json", {name: "javascript", json: true});
CodeMirror.defineMIME("application/ld+json", {name: "javascript", jsonld: true});
CodeMirror.defineMIME("text/typescript", { name: "javascript", typescript: true });
CodeMirror.defineMIME("application/typescript", { name: "javascript", typescript: true });

});
‘	RSTU_application/javascript_@http://jsfiddle.net/js/codemirror/mode/css/css.js?update10082015OÖbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_@http://jsfiddle.net/js/codemirror/mode/css/css.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçà ◊Bh »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"55c87ff2-859c"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/Öú_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „&+6?EHQZ\^emxÉÖáâãçèëìïó¢§¶®™¨Æ∞≤¥∂∏√–◊ÂÌÚ˜
,7PVvñ™ œ·ÍÔ¸ˇ 48LZloÖ             o              áOÖú// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

CodeMirror.defineMode("css", function(config, parserConfig) {
  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode("text/css");

  var indentUnit = config.indentUnit,
      tokenHooks = parserConfig.tokenHooks,
      documentTypes = parserConfig.documentTypes || {},
      mediaTypes = parserConfig.mediaTypes || {},
      mediaFeatures = parserConfig.mediaFeatures || {},
      propertyKeywords = parserConfig.propertyKeywords || {},
      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},
      fontProperties = parserConfig.fontProperties || {},
      counterDescriptors = parserConfig.counterDescriptors || {},
      colorKeywords = parserConfig.colorKeywords || {},
      valueKeywords = parserConfig.valueKeywords || {},
      allowNested = parserConfig.allowNested;

  var type, override;
  function ret(style, tp) { type = tp; return style; }

  // Tokenizers

  function tokenBase(stream, state) {
    var ch = stream.next();
    if (tokenHooks[ch]) {
      var result = tokenHooks[ch](stream, state);
      if (result !== false) return result;
    }
    if (ch == "@") {
      stream.eatWhile(/[\w\\\-]/);
      return ret("def", stream.current());
    } else if (ch == "=" || (ch == "~" || ch == "|") && stream.eat("=")) {
      return ret(null, "compare");
    } else if (ch == "\"" || ch == "'") {
      state.tokenize = tokenString(ch);
      return state.tokenize(stream, state);
    } else if (ch == "#") {
      stream.eatWhile(/[\w\\\-]/);
      return ret("atom", "hash");
    } else if (ch == "!") {
      stream.match(/^\s*\w*/);
      return ret("keyword", "important");
    } else if (/\d/.test(ch) || ch == "." && stream.eat(/\d/)) {
      stream.eatWhile(/[\w.%]/);
      return ret("number", "unit");
    } else if (ch === "-") {
      if (/[\d.]/.test(stream.peek())) {
        stream.eatWhile(/[\w.%]/);
        return ret("number", "unit");
      } else if (stream.match(/^-[\w\\\-]+/)) {
        stream.eatWhile(/[\w\\\-]/);
        if (stream.match(/^\s*:/, false))
          return ret("variable-2", "variable-definition");
        return ret("variable-2", "variable");
      } else if (stream.match(/^\w+-/)) {
        return ret("meta", "meta");
      }
    } else if (/[,+>*\/]/.test(ch)) {
      return ret(null, "select-op");
    } else if (ch == "." && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {
      return ret("qualifier", "qualifier");
    } else if (/[:;{}\[\]\(\)]/.test(ch)) {
      return ret(null, ch);
    } else if ((ch == "u" && stream.match(/rl(-prefix)?\(/)) ||
               (ch == "d" && stream.match("omain(")) ||
               (ch == "r" && stream.match("egexp("))) {
      stream.backUp(1);
      state.tokenize = tokenParenthesized;
      return ret("property", "word");
    } else if (/[\w\\\-]/.test(ch)) {
      stream.eatWhile(/[\w\\\-]/);
      return ret("property", "word");
    } else {
      return ret(null, null);
    }
  }

  function tokenString(quote) {
    return function(stream, state) {
      var escaped = false, ch;
      while ((ch = stream.next()) != null) {
        if (ch == quote && !escaped) {
          if (quote == ")") stream.backUp(1);
          break;
        }
        escaped = !escaped && ch == "\\";
      }
      if (ch == quote || !escaped && quote != ")") state.tokenize = null;
      return ret("string", "string");
    };
  }

  function tokenParenthesized(stream, state) {
    stream.next(); // Must be '('
    if (!stream.match(/\s*[\"\')]/, false))
      state.tokenize = tokenString(")");
    else
      state.tokenize = null;
    return ret(null, "(");
  }

  // Context management

  function Context(type, indent, prev) {
    this.type = type;
    this.indent = indent;
    this.prev = prev;
  }

  function pushContext(state, stream, type) {
    state.context = new Context(type, stream.indentation() + indentUnit, state.context);
    return type;
  }

  function popContext(state) {
    state.context = state.context.prev;
    return state.context.type;
  }

  function pass(type, stream, state) {
    return states[state.context.type](type, stream, state);
  }
  function popAndPass(type, stream, state, n) {
    for (var i = n || 1; i > 0; i--)
      state.context = state.context.prev;
    return pass(type, stream, state);
  }

  // Parser

  function wordAsValue(stream) {
    var word = stream.current().toLowerCase();
    if (valueKeywords.hasOwnProperty(word))
      override = "atom";
    else if (colorKeywords.hasOwnProperty(word))
      override = "keyword";
    else
      override = "variable";
  }

  var states = {};

  states.top = function(type, stream, state) {
    if (type == "{") {
      return pushContext(state, stream, "block");
    } else if (type == "}" && state.context.prev) {
      return popContext(state);
    } else if (/@(media|supports|(-moz-)?document)/.test(type)) {
      return pushContext(state, stream, "atBlock");
    } else if (/@(font-face|counter-style)/.test(type)) {
      state.stateArg = type;
      return "restricted_atBlock_before";
    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(type)) {
      return "keyframes";
    } else if (type && type.charAt(0) == "@") {
      return pushContext(state, stream, "at");
    } else if (type == "hash") {
      override = "builtin";
    } else if (type == "word") {
      override = "tag";
    } else if (type == "variable-definition") {
      return "maybeprop";
    } else if (type == "interpolation") {
      return pushContext(state, stream, "interpolation");
    } else if (type == ":") {
      return "pseudo";
    } else if (allowNested && type == "(") {
      return pushContext(state, stream, "parens");
    }
    return state.context.type;
  };

  states.block = function(type, stream, state) {
    if (type == "word") {
      var word = stream.current().toLowerCase();
      if (propertyKeywords.hasOwnProperty(word)) {
        override = "property";
        return "maybeprop";
      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {
        override = "string-2";
        return "maybeprop";
      } else if (allowNested) {
        override = stream.match(/^\s*:(?:\s|$)/, false) ? "property" : "tag";
        return "block";
      } else {
        override += " error";
        return "maybeprop";
      }
    } else if (type == "meta") {
      return "block";
    } else if (!allowNested && (type == "hash" || type == "qualifier")) {
      override = "error";
      return "block";
    } else {
      return states.top(type, stream, state);
    }
  };

  states.maybeprop = function(type, stream, state) {
    if (type == ":") return pushContext(state, stream, "prop");
    return pass(type, stream, state);
  };

  states.prop = function(type, stream, state) {
    if (type == ";") return popContext(state);
    if (type == "{" && allowNested) return pushContext(state, stream, "propBlock");
    if (type == "}" || type == "{") return popAndPass(type, stream, state);
    if (type == "(") return pushContext(state, stream, "parens");

    if (type == "hash" && !/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(stream.current())) {
      override += " error";
    } else if (type == "word") {
      wordAsValue(stream);
    } else if (type == "interpolation") {
      return pushContext(state, stream, "interpolation");
    }
    return "prop";
  };

  states.propBlock = function(type, _stream, state) {
    if (type == "}") return popContext(state);
    if (type == "word") { override = "property"; return "maybeprop"; }
    return state.context.type;
  };

  states.parens = function(type, stream, state) {
    if (type == "{" || type == "}") return popAndPass(type, stream, state);
    if (type == ")") return popContext(state);
    if (type == "(") return pushContext(state, stream, "parens");
    if (type == "interpolation") return pushContext(state, stream, "interpolation");
    if (type == "word") wordAsValue(stream);
    return "parens";
  };

  states.pseudo = function(type, stream, state) {
    if (type == "word") {
      override = "variable-3";
      return state.context.type;
    }
    return pass(type, stream, state);
  };

  states.atBlock = function(type, stream, state) {
    if (type == "(") return pushContext(state, stream, "atBlock_parens");
    if (type == "}") return popAndPass(type, stream, state);
    if (type == "{") return popContext(state) && pushContext(state, stream, allowNested ? "block" : "top");

    if (type == "word") {
      var word = stream.current().toLowerCase();
      if (word == "only" || word == "not" || word == "and" || word == "or")
        override = "keyword";
      else if (documentTypes.hasOwnProperty(word))
        override = "tag";
      else if (mediaTypes.hasOwnProperty(word))
        override = "attribute";
      else if (mediaFeatures.hasOwnProperty(word))
        override = "property";
      else if (propertyKeywords.hasOwnProperty(word))
        override = "property";
      else if (nonStandardPropertyKeywords.hasOwnProperty(word))
        override = "string-2";
      else if (valueKeywords.hasOwnProperty(word))
        override = "atom";
      else if (colorKeywords.hasOwnProperty(word))
        override = "keyword";
      else
        override = "error";
    }
    return state.context.type;
  };

  states.atBlock_parens = function(type, stream, state) {
    if (type == ")") return popContext(state);
    if (type == "{" || type == "}") return popAndPass(type, stream, state, 2);
    return states.atBlock(type, stream, state);
  };

  states.restricted_atBlock_before = function(type, stream, state) {
    if (type == "{")
      return pushContext(state, stream, "restricted_atBlock");
    if (type == "word" && state.stateArg == "@counter-style") {
      override = "variable";
      return "restricted_atBlock_before";
    }
    return pass(type, stream, state);
  };

  states.restricted_atBlock = function(type, stream, state) {
    if (type == "}") {
      state.stateArg = null;
      return popContext(state);
    }
    if (type == "word") {
      if ((state.stateArg == "@font-face" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||
          (state.stateArg == "@counter-style" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))
        override = "error";
      else
        override = "property";
      return "maybeprop";
    }
    return "restricted_atBlock";
  };

  states.keyframes = function(type, stream, state) {
    if (type == "word") { override = "variable"; return "keyframes"; }
    if (type == "{") return pushContext(state, stream, "top");
    return pass(type, stream, state);
  };

  states.at = function(type, stream, state) {
    if (type == ";") return popContext(state);
    if (type == "{" || type == "}") return popAndPass(type, stream, state);
    if (type == "word") override = "tag";
    else if (type == "hash") override = "builtin";
    return "at";
  };

  states.interpolation = function(type, stream, state) {
    if (type == "}") return popContext(state);
    if (type == "{" || type == ";") return popAndPass(type, stream, state);
    if (type == "word") override = "variable";
    else if (type != "variable" && type != "(" && type != ")") override = "error";
    return "interpolation";
  };

  return {
    startState: function(base) {
      return {tokenize: null,
              state: "top",
              stateArg: null,
              context: new Context("top", base || 0, null)};
    },

    token: function(stream, state) {
      if (!state.tokenize && stream.eatSpace()) return null;
      var style = (state.tokenize || tokenBase)(stream, state);
      if (style && typeof style == "object") {
        type = style[1];
        style = style[0];
      }
      override = style;
      state.state = states[state.state](type, stream, state);
      return override;
    },

    indent: function(state, textAfter) {
      var cx = state.context, ch = textAfter && textAfter.charAt(0);
      var indent = cx.indent;
      if (cx.type == "prop" && (ch == "}" || ch == ")")) cx = cx.prev;
      if (cx.prev &&
          (ch == "}" && (cx.type == "block" || cx.type == "top" || cx.type == "interpolation" || cx.type == "restricted_atBlock") ||
           ch == ")" && (cx.type == "parens" || cx.type == "atBlock_parens") ||
           ch == "{" && (cx.type == "at" || cx.type == "atBlock"))) {
        indent = cx.indent - indentUnit;
        cx = cx.prev;
      }
      return indent;
    },

    electricChars: "}",
    blockCommentStart: "/*",
    blockCommentEnd: "*/",
    fold: "brace"
  };
});

  function keySet(array) {
    var keys = {};
    for (var i = 0; i < array.length; ++i) {
      keys[array[i]] = true;
    }
    return keys;
  }

  var documentTypes_ = [
    "domain", "regexp", "url", "url-prefix"
  ], documentTypes = keySet(documentTypes_);

  var mediaTypes_ = [
    "all", "aural", "braille", "handheld", "print", "projection", "screen",
    "tty", "tv", "embossed"
  ], mediaTypes = keySet(mediaTypes_);

  var mediaFeatures_ = [
    "width", "min-width", "max-width", "height", "min-height", "max-height",
    "device-width", "min-device-width", "max-device-width", "device-height",
    "min-device-height", "max-device-height", "aspect-ratio",
    "min-aspect-ratio", "max-aspect-ratio", "device-aspect-ratio",
    "min-device-aspect-ratio", "max-device-aspect-ratio", "color", "min-color",
    "max-color", "color-index", "min-color-index", "max-color-index",
    "monochrome", "min-monochrome", "max-monochrome", "resolution",
    "min-resolution", "max-resolution", "scan", "grid"
  ], mediaFeatures = keySet(mediaFeatures_);

  var propertyKeywords_ = [
    "align-content", "align-items", "align-self", "alignment-adjust",
    "alignment-baseline", "anchor-point", "animation", "animation-delay",
    "animation-direction", "animation-duration", "animation-fill-mode",
    "animation-iteration-count", "animation-name", "animation-play-state",
    "animation-timing-function", "appearance", "azimuth", "backface-visibility",
    "background", "background-attachment", "background-clip", "background-color",
    "background-image", "background-origin", "background-position",
    "background-repeat", "background-size", "baseline-shift", "binding",
    "bleed", "bookmark-label", "bookmark-level", "bookmark-state",
    "bookmark-target", "border", "border-bottom", "border-bottom-color",
    "border-bottom-left-radius", "border-bottom-right-radius",
    "border-bottom-style", "border-bottom-width", "border-collapse",
    "border-color", "border-image", "border-image-outset",
    "border-image-repeat", "border-image-slice", "border-image-source",
    "border-image-width", "border-left", "border-left-color",
    "border-left-style", "border-left-width", "border-radius", "border-right",
    "border-right-color", "border-right-style", "border-right-width",
    "border-spacing", "border-style", "border-top", "border-top-color",
    "border-top-left-radius", "border-top-right-radius", "border-top-style",
    "border-top-width", "border-width", "bottom", "box-decoration-break",
    "box-shadow", "box-sizing", "break-after", "break-before", "break-inside",
    "caption-side", "clear", "clip", "color", "color-profile", "column-count",
    "column-fill", "column-gap", "column-rule", "column-rule-color",
    "column-rule-style", "column-rule-width", "column-span", "column-width",
    "columns", "content", "counter-increment", "counter-reset", "crop", "cue",
    "cue-after", "cue-before", "cursor", "direction", "display",
    "dominant-baseline", "drop-initial-after-adjust",
    "drop-initial-after-align", "drop-initial-before-adjust",
    "drop-initial-before-align", "drop-initial-size", "drop-initial-value",
    "elevation", "empty-cells", "fit", "fit-position", "flex", "flex-basis",
    "flex-direction", "flex-flow", "flex-grow", "flex-shrink", "flex-wrap",
    "float", "float-offset", "flow-from", "flow-into", "font", "font-feature-settings",
    "font-family", "font-kerning", "font-language-override", "font-size", "font-size-adjust",
    "font-stretch", "font-style", "font-synthesis", "font-variant",
    "font-variant-alternates", "font-variant-caps", "font-variant-east-asian",
    "font-variant-ligatures", "font-variant-numeric", "font-variant-position",
    "font-weight", "grid", "grid-area", "grid-auto-columns", "grid-auto-flow",
    "grid-auto-position", "grid-auto-rows", "grid-column", "grid-column-end",
    "grid-column-start", "grid-row", "grid-row-end", "grid-row-start",
    "grid-template", "grid-template-areas", "grid-template-columns",
    "grid-template-rows", "hanging-punctuation", "height", "hyphens",
    "icon", "image-orientation", "image-rendering", "image-resolution",
    "inline-box-align", "justify-content", "left", "letter-spacing",
    "line-break", "line-height", "line-stacking", "line-stacking-ruby",
    "line-stacking-shift", "line-stacking-strategy", "list-style",
    "list-style-image", "list-style-position", "list-style-type", "margin",
    "margin-bottom", "margin-left", "margin-right", "margin-top",
    "marker-offset", "marks", "marquee-direction", "marquee-loop",
    "marquee-play-count", "marquee-speed", "marquee-style", "max-height",
    "max-width", "min-height", "min-width", "move-to", "nav-down", "nav-index",
    "nav-left", "nav-right", "nav-up", "object-fit", "object-position",
    "opacity", "order", "orphans", "outline",
    "outline-color", "outline-offset", "outline-style", "outline-width",
    "overflow", "overflow-style", "overflow-wrap", "overflow-x", "overflow-y",
    "padding", "padding-bottom", "padding-left", "padding-right", "padding-top",
    "page", "page-break-after", "page-break-before", "page-break-inside",
    "page-policy", "pause", "pause-after", "pause-before", "perspective",
    "perspective-origin", "pitch", "pitch-range", "play-during", "position",
    "presentation-level", "punctuation-trim", "quotes", "region-break-after",
    "region-break-before", "region-break-inside", "region-fragment",
    "rendering-intent", "resize", "rest", "rest-after", "rest-before", "richness",
    "right", "rotation", "rotation-point", "ruby-align", "ruby-overhang",
    "ruby-position", "ruby-span", "shape-image-threshold", "shape-inside", "shape-margin",
    "shape-outside", "size", "speak", "speak-as", "speak-header",
    "speak-numeral", "speak-punctuation", "speech-rate", "stress", "string-set",
    "tab-size", "table-layout", "target", "target-name", "target-new",
    "target-position", "text-align", "text-align-last", "text-decoration",
    "text-decoration-color", "text-decoration-line", "text-decoration-skip",
    "text-decoration-style", "text-emphasis", "text-emphasis-color",
    "text-emphasis-position", "text-emphasis-style", "text-height",
    "text-indent", "text-justify", "text-outline", "text-overflow", "text-shadow",
    "text-size-adjust", "text-space-collapse", "text-transform", "text-underline-position",
    "text-wrap", "top", "transform", "transform-origin", "transform-style",
    "transition", "transition-delay", "transition-duration",
    "transition-property", "transition-timing-function", "unicode-bidi",
    "vertical-align", "visibility", "voice-balance", "voice-duration",
    "voice-family", "voice-pitch", "voice-range", "voice-rate", "voice-stress",
    "voice-volume", "volume", "white-space", "widows", "width", "word-break",
    "word-spacing", "word-wrap", "z-index",
    // SVG-specific
    "clip-path", "clip-rule", "mask", "enable-background", "filter", "flood-color",
    "flood-opacity", "lighting-color", "stop-color", "stop-opacity", "pointer-events",
    "color-interpolation", "color-interpolation-filters",
    "color-rendering", "fill", "fill-opacity", "fill-rule", "image-rendering",
    "marker", "marker-end", "marker-mid", "marker-start", "shape-rendering", "stroke",
    "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin",
    "stroke-miterlimit", "stroke-opacity", "stroke-width", "text-rendering",
    "baseline-shift", "dominant-baseline", "glyph-orientation-horizontal",
    "glyph-orientation-vertical", "text-anchor", "writing-mode"
  ], propertyKeywords = keySet(propertyKeywords_);

  var nonStandardPropertyKeywords_ = [
    "scrollbar-arrow-color", "scrollbar-base-color", "scrollbar-dark-shadow-color",
    "scrollbar-face-color", "scrollbar-highlight-color", "scrollbar-shadow-color",
    "scrollbar-3d-light-color", "scrollbar-track-color", "shape-inside",
    "searchfield-cancel-button", "searchfield-decoration", "searchfield-results-button",
    "searchfield-results-decoration", "zoom"
  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);

  var fontProperties_ = [
    "font-family", "src", "unicode-range", "font-variant", "font-feature-settings",
    "font-stretch", "font-weight", "font-style"
  ], fontProperties = keySet(fontProperties_);

  var counterDescriptors_ = [
    "additive-symbols", "fallback", "negative", "pad", "prefix", "range",
    "speak-as", "suffix", "symbols", "system"
  ], counterDescriptors = keySet(counterDescriptors_);

  var colorKeywords_ = [
    "aliceblue", "antiquewhite", "aqua", "aquamarine", "azure", "beige",
    "bisque", "black", "blanchedalmond", "blue", "blueviolet", "brown",
    "burlywood", "cadetblue", "chartreuse", "chocolate", "coral", "cornflowerblue",
    "cornsilk", "crimson", "cyan", "darkblue", "darkcyan", "darkgoldenrod",
    "darkgray", "darkgreen", "darkkhaki", "darkmagenta", "darkolivegreen",
    "darkorange", "darkorchid", "darkred", "darksalmon", "darkseagreen",
    "darkslateblue", "darkslategray", "darkturquoise", "darkviolet",
    "deeppink", "deepskyblue", "dimgray", "dodgerblue", "firebrick",
    "floralwhite", "forestgreen", "fuchsia", "gainsboro", "ghostwhite",
    "gold", "goldenrod", "gray", "grey", "green", "greenyellow", "honeydew",
    "hotpink", "indianred", "indigo", "ivory", "khaki", "lavender",
    "lavenderblush", "lawngreen", "lemonchiffon", "lightblue", "lightcoral",
    "lightcyan", "lightgoldenrodyellow", "lightgray", "lightgreen", "lightpink",
    "lightsalmon", "lightseagreen", "lightskyblue", "lightslategray",
    "lightsteelblue", "lightyellow", "lime", "limegreen", "linen", "magenta",
    "maroon", "mediumaquamarine", "mediumblue", "mediumorchid", "mediumpurple",
    "mediumseagreen", "mediumslateblue", "mediumspringgreen", "mediumturquoise",
    "mediumvioletred", "midnightblue", "mintcream", "mistyrose", "moccasin",
    "navajowhite", "navy", "oldlace", "olive", "olivedrab", "orange", "orangered",
    "orchid", "palegoldenrod", "palegreen", "paleturquoise", "palevioletred",
    "papayawhip", "peachpuff", "peru", "pink", "plum", "powderblue",
    "purple", "rebeccapurple", "red", "rosybrown", "royalblue", "saddlebrown",
    "salmon", "sandybrown", "seagreen", "seashell", "sienna", "silver", "skyblue",
    "slateblue", "slategray", "snow", "springgreen", "steelblue", "tan",
    "teal", "thistle", "tomato", "turquoise", "violet", "wheat", "white",
    "whitesmoke", "yellow", "yellowgreen"
  ], colorKeywords = keySet(colorKeywords_);

  var valueKeywords_ = [
    "above", "absolute", "activeborder", "additive", "activecaption", "afar",
    "after-white-space", "ahead", "alias", "all", "all-scroll", "alphabetic", "alternate",
    "always", "amharic", "amharic-abegede", "antialiased", "appworkspace",
    "arabic-indic", "armenian", "asterisks", "attr", "auto", "avoid", "avoid-column", "avoid-page",
    "avoid-region", "background", "backwards", "baseline", "below", "bidi-override", "binary",
    "bengali", "blink", "block", "block-axis", "bold", "bolder", "border", "border-box",
    "both", "bottom", "break", "break-all", "break-word", "bullets", "button", "button-bevel",
    "buttonface", "buttonhighlight", "buttonshadow", "buttontext", "calc", "cambodian",
    "capitalize", "caps-lock-indicator", "caption", "captiontext", "caret",
    "cell", "center", "checkbox", "circle", "cjk-decimal", "cjk-earthly-branch",
    "cjk-heavenly-stem", "cjk-ideographic", "clear", "clip", "close-quote",
    "col-resize", "collapse", "column", "compact", "condensed", "contain", "content",
    "content-box", "context-menu", "continuous", "copy", "counter", "counters", "cover", "crop",
    "cross", "crosshair", "currentcolor", "cursive", "cyclic", "dashed", "decimal",
    "decimal-leading-zero", "default", "default-button", "destination-atop",
    "destination-in", "destination-out", "destination-over", "devanagari",
    "disc", "discard", "disclosure-closed", "disclosure-open", "document",
    "dot-dash", "dot-dot-dash",
    "dotted", "double", "down", "e-resize", "ease", "ease-in", "ease-in-out", "ease-out",
    "element", "ellipse", "ellipsis", "embed", "end", "ethiopic", "ethiopic-abegede",
    "ethiopic-abegede-am-et", "ethiopic-abegede-gez", "ethiopic-abegede-ti-er",
    "ethiopic-abegede-ti-et", "ethiopic-halehame-aa-er",
    "ethiopic-halehame-aa-et", "ethiopic-halehame-am-et",
    "ethiopic-halehame-gez", "ethiopic-halehame-om-et",
    "ethiopic-halehame-sid-et", "ethiopic-halehame-so-et",
    "ethiopic-halehame-ti-er", "ethiopic-halehame-ti-et", "ethiopic-halehame-tig",
    "ethiopic-numeric", "ew-resize", "expanded", "extends", "extra-condensed",
    "extra-expanded", "fantasy", "fast", "fill", "fixed", "flat", "flex", "footnotes",
    "forwards", "from", "geometricPrecision", "georgian", "graytext", "groove",
    "gujarati", "gurmukhi", "hand", "hangul", "hangul-consonant", "hebrew",
    "help", "hidden", "hide", "higher", "highlight", "highlighttext",
    "hiragana", "hiragana-iroha", "horizontal", "hsl", "hsla", "icon", "ignore",
    "inactiveborder", "inactivecaption", "inactivecaptiontext", "infinite",
    "infobackground", "infotext", "inherit", "initial", "inline", "inline-axis",
    "inline-block", "inline-flex", "inline-table", "inset", "inside", "intrinsic", "invert",
    "italic", "japanese-formal", "japanese-informal", "justify", "kannada",
    "katakana", "katakana-iroha", "keep-all", "khmer",
    "korean-hangul-formal", "korean-hanja-formal", "korean-hanja-informal",
    "landscape", "lao", "large", "larger", "left", "level", "lighter",
    "line-through", "linear", "linear-gradient", "lines", "list-item", "listbox", "listitem",
    "local", "logical", "loud", "lower", "lower-alpha", "lower-armenian",
    "lower-greek", "lower-hexadecimal", "lower-latin", "lower-norwegian",
    "lower-roman", "lowercase", "ltr", "malayalam", "match", "matrix", "matrix3d",
    "media-controls-background", "media-current-time-display",
    "media-fullscreen-button", "media-mute-button", "media-play-button",
    "media-return-to-realtime-button", "media-rewind-button",
    "media-seek-back-button", "media-seek-forward-button", "media-slider",
    "media-sliderthumb", "media-time-remaining-display", "media-volume-slider",
    "media-volume-slider-container", "media-volume-sliderthumb", "medium",
    "menu", "menulist", "menulist-button", "menulist-text",
    "menulist-textfield", "menutext", "message-box", "middle", "min-intrinsic",
    "mix", "mongolian", "monospace", "move", "multiple", "myanmar", "n-resize",
    "narrower", "ne-resize", "nesw-resize", "no-close-quote", "no-drop",
    "no-open-quote", "no-repeat", "none", "normal", "not-allowed", "nowrap",
    "ns-resize", "numbers", "numeric", "nw-resize", "nwse-resize", "oblique", "octal", "open-quote",
    "optimizeLegibility", "optimizeSpeed", "oriya", "oromo", "outset",
    "outside", "outside-shape", "overlay", "overline", "padding", "padding-box",
    "painted", "page", "paused", "persian", "perspective", "plus-darker", "plus-lighter",
    "pointer", "polygon", "portrait", "pre", "pre-line", "pre-wrap", "preserve-3d",
    "progress", "push-button", "radial-gradient", "radio", "read-only",
    "read-write", "read-write-plaintext-only", "rectangle", "region",
    "relative", "repeat", "repeating-linear-gradient",
    "repeating-radial-gradient", "repeat-x", "repeat-y", "reset", "reverse",
    "rgb", "rgba", "ridge", "right", "rotate", "rotate3d", "rotateX", "rotateY",
    "rotateZ", "round", "row-resize", "rtl", "run-in", "running",
    "s-resize", "sans-serif", "scale", "scale3d", "scaleX", "scaleY", "scaleZ",
    "scroll", "scrollbar", "se-resize", "searchfield",
    "searchfield-cancel-button", "searchfield-decoration",
    "searchfield-results-button", "searchfield-results-decoration",
    "semi-condensed", "semi-expanded", "separate", "serif", "show", "sidama",
    "simp-chinese-formal", "simp-chinese-informal", "single",
    "skew", "skewX", "skewY", "skip-white-space", "slide", "slider-horizontal",
    "slider-vertical", "sliderthumb-horizontal", "sliderthumb-vertical", "slow",
    "small", "small-caps", "small-caption", "smaller", "solid", "somali",
    "source-atop", "source-in", "source-out", "source-over", "space", "spell-out", "square",
    "square-button", "start", "static", "status-bar", "stretch", "stroke", "sub",
    "subpixel-antialiased", "super", "sw-resize", "symbolic", "symbols", "table",
    "table-caption", "table-cell", "table-column", "table-column-group",
    "table-footer-group", "table-header-group", "table-row", "table-row-group",
    "tamil",
    "telugu", "text", "text-bottom", "text-top", "textarea", "textfield", "thai",
    "thick", "thin", "threeddarkshadow", "threedface", "threedhighlight",
    "threedlightshadow", "threedshadow", "tibetan", "tigre", "tigrinya-er",
    "tigrinya-er-abegede", "tigrinya-et", "tigrinya-et-abegede", "to", "top",
    "trad-chinese-formal", "trad-chinese-informal",
    "translate", "translate3d", "translateX", "translateY", "translateZ",
    "transparent", "ultra-condensed", "ultra-expanded", "underline", "up",
    "upper-alpha", "upper-armenian", "upper-greek", "upper-hexadecimal",
    "upper-latin", "upper-norwegian", "upper-roman", "uppercase", "urdu", "url",
    "var", "vertical", "vertical-text", "visible", "visibleFill", "visiblePainted",
    "visibleStroke", "visual", "w-resize", "wait", "wave", "wider",
    "window", "windowframe", "windowtext", "words", "x-large", "x-small", "xor",
    "xx-large", "xx-small"
  ], valueKeywords = keySet(valueKeywords_);

  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(propertyKeywords_)
    .concat(nonStandardPropertyKeywords_).concat(colorKeywords_).concat(valueKeywords_);
  CodeMirror.registerHelper("hintWords", "css", allWords);

  function tokenCComment(stream, state) {
    var maybeEnd = false, ch;
    while ((ch = stream.next()) != null) {
      if (maybeEnd && ch == "/") {
        state.tokenize = null;
        break;
      }
      maybeEnd = (ch == "*");
    }
    return ["comment", "comment"];
  }

  CodeMirror.defineMIME("text/css", {
    documentTypes: documentTypes,
    mediaTypes: mediaTypes,
    mediaFeatures: mediaFeatures,
    propertyKeywords: propertyKeywords,
    nonStandardPropertyKeywords: nonStandardPropertyKeywords,
    fontProperties: fontProperties,
    counterDescriptors: counterDescriptors,
    colorKeywords: colorKeywords,
    valueKeywords: valueKeywords,
    tokenHooks: {
      "/": function(stream, state) {
        if (!stream.eat("*")) return false;
        state.tokenize = tokenCComment;
        return tokenCComment(stream, state);
      }
    },
    name: "css"
  });

  CodeMirror.defineMIME("text/x-scss", {
    mediaTypes: mediaTypes,
    mediaFeatures: mediaFeatures,
    propertyKeywords: propertyKeywords,
    nonStandardPropertyKeywords: nonStandardPropertyKeywords,
    colorKeywords: colorKeywords,
    valueKeywords: valueKeywords,
    fontProperties: fontProperties,
    allowNested: true,
    tokenHooks: {
      "/": function(stream, state) {
        if (stream.eat("/")) {
          stream.skipToEnd();
          return ["comment", "comment"];
        } else if (stream.eat("*")) {
          state.tokenize = tokenCComment;
          return tokenCComment(stream, state);
        } else {
          return ["operator", "operator"];
        }
      },
      ":": function(stream) {
        if (stream.match(/\s*\{/))
          return [null, "{"];
        return false;
      },
      "$": function(stream) {
        stream.match(/^[\w-]+/);
        if (stream.match(/^\s*:/, false))
          return ["variable-2", "variable-definition"];
        return ["variable-2", "variable"];
      },
      "#": function(stream) {
        if (!stream.eat("{")) return false;
        return [null, "interpolation"];
      }
    },
    name: "css",
    helperType: "scss"
  });

  CodeMirror.defineMIME("text/x-less", {
    mediaTypes: mediaTypes,
    mediaFeatures: mediaFeatures,
    propertyKeywords: propertyKeywords,
    nonStandardPropertyKeywords: nonStandardPropertyKeywords,
    colorKeywords: colorKeywords,
    valueKeywords: valueKeywords,
    fontProperties: fontProperties,
    allowNested: true,
    tokenHooks: {
      "/": function(stream, state) {
        if (stream.eat("/")) {
          stream.skipToEnd();
          return ["comment", "comment"];
        } else if (stream.eat("*")) {
          state.tokenize = tokenCComment;
          return tokenCComment(stream, state);
        } else {
          return ["operator", "operator"];
        }
      },
      "@": function(stream) {
        if (stream.eat("{")) return [null, "interpolation"];
        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/, false)) return false;
        stream.eatWhile(/[\w\\\-]/);
        if (stream.match(/^\s*:/, false))
          return ["variable-2", "variable-definition"];
        return ["variable-2", "variable"];
      },
      "&": function() {
        return ["atom", "atom"];
      }
    },
    name: "css",
    helperType: "less"
  });

});
‘	WXYZ_application/javascript_@http://jsfiddle.net/js/codemirror/mode/xml/xml.js?update10082015OÖbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_@http://jsfiddle.net/js/codemirror/mode/xml/xml.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçà ÷µˆ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"55c87ff2-3071"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/0q_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „&+6?EHQZ\^emxÉÖáâãçèëìïó¢§¶®™¨Æ∞≤¥∂∏√–◊ÂÌÚ˜
,7PVvñ™ œ·ÍÔ¸ˇ 48LZloÖ             o              áO0q// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

CodeMirror.defineMode("xml", function(config, parserConfig) {
  var indentUnit = config.indentUnit;
  var multilineTagIndentFactor = parserConfig.multilineTagIndentFactor || 1;
  var multilineTagIndentPastTag = parserConfig.multilineTagIndentPastTag;
  if (multilineTagIndentPastTag == null) multilineTagIndentPastTag = true;

  var Kludges = parserConfig.htmlMode ? {
    autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,
                      'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,
                      'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,
                      'track': true, 'wbr': true, 'menuitem': true},
    implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,
                       'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,
                       'th': true, 'tr': true},
    contextGrabbers: {
      'dd': {'dd': true, 'dt': true},
      'dt': {'dd': true, 'dt': true},
      'li': {'li': true},
      'option': {'option': true, 'optgroup': true},
      'optgroup': {'optgroup': true},
      'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,
            'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,
            'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,
            'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,
            'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},
      'rp': {'rp': true, 'rt': true},
      'rt': {'rp': true, 'rt': true},
      'tbody': {'tbody': true, 'tfoot': true},
      'td': {'td': true, 'th': true},
      'tfoot': {'tbody': true},
      'th': {'td': true, 'th': true},
      'thead': {'tbody': true, 'tfoot': true},
      'tr': {'tr': true}
    },
    doNotIndent: {"pre": true},
    allowUnquoted: true,
    allowMissing: true,
    caseFold: true
  } : {
    autoSelfClosers: {},
    implicitlyClosed: {},
    contextGrabbers: {},
    doNotIndent: {},
    allowUnquoted: false,
    allowMissing: false,
    caseFold: false
  };
  var alignCDATA = parserConfig.alignCDATA;

  // Return variables for tokenizers
  var type, setStyle;

  function inText(stream, state) {
    function chain(parser) {
      state.tokenize = parser;
      return parser(stream, state);
    }

    var ch = stream.next();
    if (ch == "<") {
      if (stream.eat("!")) {
        if (stream.eat("[")) {
          if (stream.match("CDATA[")) return chain(inBlock("atom", "]]>"));
          else return null;
        } else if (stream.match("--")) {
          return chain(inBlock("comment", "-->"));
        } else if (stream.match("DOCTYPE", true, true)) {
          stream.eatWhile(/[\w\._\-]/);
          return chain(doctype(1));
        } else {
          return null;
        }
      } else if (stream.eat("?")) {
        stream.eatWhile(/[\w\._\-]/);
        state.tokenize = inBlock("meta", "?>");
        return "meta";
      } else {
        type = stream.eat("/") ? "closeTag" : "openTag";
        state.tokenize = inTag;
        return "tag bracket";
      }
    } else if (ch == "&") {
      var ok;
      if (stream.eat("#")) {
        if (stream.eat("x")) {
          ok = stream.eatWhile(/[a-fA-F\d]/) && stream.eat(";");
        } else {
          ok = stream.eatWhile(/[\d]/) && stream.eat(";");
        }
      } else {
        ok = stream.eatWhile(/[\w\.\-:]/) && stream.eat(";");
      }
      return ok ? "atom" : "error";
    } else {
      stream.eatWhile(/[^&<]/);
      return null;
    }
  }
  inText.isInText = true;

  function inTag(stream, state) {
    var ch = stream.next();
    if (ch == ">" || (ch == "/" && stream.eat(">"))) {
      state.tokenize = inText;
      type = ch == ">" ? "endTag" : "selfcloseTag";
      return "tag bracket";
    } else if (ch == "=") {
      type = "equals";
      return null;
    } else if (ch == "<") {
      state.tokenize = inText;
      state.state = baseState;
      state.tagName = state.tagStart = null;
      var next = state.tokenize(stream, state);
      return next ? next + " tag error" : "tag error";
    } else if (/[\'\"]/.test(ch)) {
      state.tokenize = inAttribute(ch);
      state.stringStartCol = stream.column();
      return state.tokenize(stream, state);
    } else {
      stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);
      return "word";
    }
  }

  function inAttribute(quote) {
    var closure = function(stream, state) {
      while (!stream.eol()) {
        if (stream.next() == quote) {
          state.tokenize = inTag;
          break;
        }
      }
      return "string";
    };
    closure.isInAttribute = true;
    return closure;
  }

  function inBlock(style, terminator) {
    return function(stream, state) {
      while (!stream.eol()) {
        if (stream.match(terminator)) {
          state.tokenize = inText;
          break;
        }
        stream.next();
      }
      return style;
    };
  }
  function doctype(depth) {
    return function(stream, state) {
      var ch;
      while ((ch = stream.next()) != null) {
        if (ch == "<") {
          state.tokenize = doctype(depth + 1);
          return state.tokenize(stream, state);
        } else if (ch == ">") {
          if (depth == 1) {
            state.tokenize = inText;
            break;
          } else {
            state.tokenize = doctype(depth - 1);
            return state.tokenize(stream, state);
          }
        }
      }
      return "meta";
    };
  }

  function Context(state, tagName, startOfLine) {
    this.prev = state.context;
    this.tagName = tagName;
    this.indent = state.indented;
    this.startOfLine = startOfLine;
    if (Kludges.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))
      this.noIndent = true;
  }
  function popContext(state) {
    if (state.context) state.context = state.context.prev;
  }
  function maybePopContext(state, nextTagName) {
    var parentTagName;
    while (true) {
      if (!state.context) {
        return;
      }
      parentTagName = state.context.tagName;
      if (!Kludges.contextGrabbers.hasOwnProperty(parentTagName) ||
          !Kludges.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {
        return;
      }
      popContext(state);
    }
  }

  function baseState(type, stream, state) {
    if (type == "openTag") {
      state.tagStart = stream.column();
      return tagNameState;
    } else if (type == "closeTag") {
      return closeTagNameState;
    } else {
      return baseState;
    }
  }
  function tagNameState(type, stream, state) {
    if (type == "word") {
      state.tagName = stream.current();
      setStyle = "tag";
      return attrState;
    } else {
      setStyle = "error";
      return tagNameState;
    }
  }
  function closeTagNameState(type, stream, state) {
    if (type == "word") {
      var tagName = stream.current();
      if (state.context && state.context.tagName != tagName &&
          Kludges.implicitlyClosed.hasOwnProperty(state.context.tagName))
        popContext(state);
      if (state.context && state.context.tagName == tagName) {
        setStyle = "tag";
        return closeState;
      } else {
        setStyle = "tag error";
        return closeStateErr;
      }
    } else {
      setStyle = "error";
      return closeStateErr;
    }
  }

  function closeState(type, _stream, state) {
    if (type != "endTag") {
      setStyle = "error";
      return closeState;
    }
    popContext(state);
    return baseState;
  }
  function closeStateErr(type, stream, state) {
    setStyle = "error";
    return closeState(type, stream, state);
  }

  function attrState(type, _stream, state) {
    if (type == "word") {
      setStyle = "attribute";
      return attrEqState;
    } else if (type == "endTag" || type == "selfcloseTag") {
      var tagName = state.tagName, tagStart = state.tagStart;
      state.tagName = state.tagStart = null;
      if (type == "selfcloseTag" ||
          Kludges.autoSelfClosers.hasOwnProperty(tagName)) {
        maybePopContext(state, tagName);
      } else {
        maybePopContext(state, tagName);
        state.context = new Context(state, tagName, tagStart == state.indented);
      }
      return baseState;
    }
    setStyle = "error";
    return attrState;
  }
  function attrEqState(type, stream, state) {
    if (type == "equals") return attrValueState;
    if (!Kludges.allowMissing) setStyle = "error";
    return attrState(type, stream, state);
  }
  function attrValueState(type, stream, state) {
    if (type == "string") return attrContinuedState;
    if (type == "word" && Kludges.allowUnquoted) {setStyle = "string"; return attrState;}
    setStyle = "error";
    return attrState(type, stream, state);
  }
  function attrContinuedState(type, stream, state) {
    if (type == "string") return attrContinuedState;
    return attrState(type, stream, state);
  }

  return {
    startState: function() {
      return {tokenize: inText,
              state: baseState,
              indented: 0,
              tagName: null, tagStart: null,
              context: null};
    },

    token: function(stream, state) {
      if (!state.tagName && stream.sol())
        state.indented = stream.indentation();

      if (stream.eatSpace()) return null;
      type = null;
      var style = state.tokenize(stream, state);
      if ((style || type) && style != "comment") {
        setStyle = null;
        state.state = state.state(type || style, stream, state);
        if (setStyle)
          style = setStyle == "error" ? style + " error" : setStyle;
      }
      return style;
    },

    indent: function(state, textAfter, fullLine) {
      var context = state.context;
      // Indent multi-line strings (e.g. css).
      if (state.tokenize.isInAttribute) {
        if (state.tagStart == state.indented)
          return state.stringStartCol + 1;
        else
          return state.indented + indentUnit;
      }
      if (context && context.noIndent) return CodeMirror.Pass;
      if (state.tokenize != inTag && state.tokenize != inText)
        return fullLine ? fullLine.match(/^(\s*)/)[0].length : 0;
      // Indent the starts of attribute names.
      if (state.tagName) {
        if (multilineTagIndentPastTag)
          return state.tagStart + state.tagName.length + 2;
        else
          return state.tagStart + indentUnit * multilineTagIndentFactor;
      }
      if (alignCDATA && /<!\[CDATA\[/.test(textAfter)) return 0;
      var tagAfter = textAfter && /^<(\/)?([\w_:\.-]*)/.exec(textAfter);
      if (tagAfter && tagAfter[1]) { // Closing tag spotted
        while (context) {
          if (context.tagName == tagAfter[2]) {
            context = context.prev;
            break;
          } else if (Kludges.implicitlyClosed.hasOwnProperty(context.tagName)) {
            context = context.prev;
          } else {
            break;
          }
        }
      } else if (tagAfter) { // Opening tag spotted
        while (context) {
          var grabbers = Kludges.contextGrabbers[context.tagName];
          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))
            context = context.prev;
          else
            break;
        }
      }
      while (context && !context.startOfLine)
        context = context.prev;
      if (context) return context.indent + indentUnit;
      else return 0;
    },

    electricInput: /<\/[\s\w:]+>$/,
    blockCommentStart: "<!--",
    blockCommentEnd: "-->",

    configuration: parserConfig.htmlMode ? "html" : "xml",
    helperType: parserConfig.htmlMode ? "html" : "xml"
  };
});

CodeMirror.defineMIME("text/xml", "xml");
CodeMirror.defineMIME("application/xml", "xml");
if (!CodeMirror.mimeModes.hasOwnProperty("text/html"))
  CodeMirror.defineMIME("text/html", {name: "xml", htmlMode: true});

});
‘	\]^__application/javascript_Lhttp://jsfiddle.net/js/codemirror/mode/htmlmixed/htmlmixed.js?update10082015Oëbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Lhttp://jsfiddle.net/js/codemirror/mode/htmlmixed/htmlmixed.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçà –_) »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"55c87ff2-1389"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/â_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „27BKQT]fhjqyÑèëìïóôõùü°£Æ∞≤¥∂∏∫ºæ¿¬ƒœ‹„Ò˘˛$8C\bÇ¢∂÷€Ìˆ˚',@DXfx{ë             o              ìOâ// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"), require("../xml/xml"), require("../javascript/javascript"), require("../css/css"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror", "../xml/xml", "../javascript/javascript", "../css/css"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

CodeMirror.defineMode("htmlmixed", function(config, parserConfig) {
  var htmlMode = CodeMirror.getMode(config, {name: "xml",
                                             htmlMode: true,
                                             multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,
                                             multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag});
  var cssMode = CodeMirror.getMode(config, "css");

  var scriptTypes = [], scriptTypesConf = parserConfig && parserConfig.scriptTypes;
  scriptTypes.push({matches: /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,
                    mode: CodeMirror.getMode(config, "javascript")});
  if (scriptTypesConf) for (var i = 0; i < scriptTypesConf.length; ++i) {
    var conf = scriptTypesConf[i];
    scriptTypes.push({matches: conf.matches, mode: conf.mode && CodeMirror.getMode(config, conf.mode)});
  }
  scriptTypes.push({matches: /./,
                    mode: CodeMirror.getMode(config, "text/plain")});

  function html(stream, state) {
    var tagName = state.htmlState.tagName;
    if (tagName) tagName = tagName.toLowerCase();
    var style = htmlMode.token(stream, state.htmlState);
    if (tagName == "script" && /\btag\b/.test(style) && stream.current() == ">") {
      // Script block: mode to change to depends on type attribute
      var scriptType = stream.string.slice(Math.max(0, stream.pos - 100), stream.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);
      scriptType = scriptType ? scriptType[1] : "";
      if (scriptType && /[\"\']/.test(scriptType.charAt(0))) scriptType = scriptType.slice(1, scriptType.length - 1);
      for (var i = 0; i < scriptTypes.length; ++i) {
        var tp = scriptTypes[i];
        if (typeof tp.matches == "string" ? scriptType == tp.matches : tp.matches.test(scriptType)) {
          if (tp.mode) {
            state.token = script;
            state.localMode = tp.mode;
            state.localState = tp.mode.startState && tp.mode.startState(htmlMode.indent(state.htmlState, ""));
          }
          break;
        }
      }
    } else if (tagName == "style" && /\btag\b/.test(style) && stream.current() == ">") {
      state.token = css;
      state.localMode = cssMode;
      state.localState = cssMode.startState(htmlMode.indent(state.htmlState, ""));
    }
    return style;
  }
  function maybeBackup(stream, pat, style) {
    var cur = stream.current();
    var close = cur.search(pat);
    if (close > -1) stream.backUp(cur.length - close);
    else if (cur.match(/<\/?$/)) {
      stream.backUp(cur.length);
      if (!stream.match(pat, false)) stream.match(cur);
    }
    return style;
  }
  function script(stream, state) {
    if (stream.match(/^<\/\s*script\s*>/i, false)) {
      state.token = html;
      state.localState = state.localMode = null;
      return null;
    }
    return maybeBackup(stream, /<\/\s*script\s*>/,
                       state.localMode.token(stream, state.localState));
  }
  function css(stream, state) {
    if (stream.match(/^<\/\s*style\s*>/i, false)) {
      state.token = html;
      state.localState = state.localMode = null;
      return null;
    }
    return maybeBackup(stream, /<\/\s*style\s*>/,
                       cssMode.token(stream, state.localState));
  }

  return {
    startState: function() {
      var state = htmlMode.startState();
      return {token: html, localMode: null, localState: null, htmlState: state};
    },

    copyState: function(state) {
      if (state.localState)
        var local = CodeMirror.copyState(state.localMode, state.localState);
      return {token: state.token, localMode: state.localMode, localState: local,
              htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};
    },

    token: function(stream, state) {
      return state.token(stream, state);
    },

    indent: function(state, textAfter) {
      if (!state.localMode || /^\s*<\//.test(textAfter))
        return htmlMode.indent(state.htmlState, textAfter);
      else if (state.localMode.indent)
        return state.localMode.indent(state.localState, textAfter);
      else
        return CodeMirror.Pass;
    },

    innerMode: function(state) {
      return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};
    }
  };
}, "xml", "javascript", "css");

CodeMirror.defineMIME("text/html", "htmlmixed");

});
‘	abcd_application/javascript_Rhttp://jsfiddle.net/js/codemirror/mode/coffeescript/coffeescript.js?update10082015Oóbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Rhttp://jsfiddle.net/js/codemirror/mode/coffeescript/coffeescript.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀhÁX »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"55c87ff2-27cc"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/'Ã_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „8=HQWZclnpwäïóôõùü°£•ß©¥∂∏∫ºæ¿¬ƒ∆» ’‚È˜ˇ	*>Ibhà®º‹·Û¸-2FJ^l~Åó             o              ôO'Ã// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

/**
 * Link to the project's GitHub page:
 * https://github.com/pickhardt/coffeescript-codemirror-mode
 */
(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

CodeMirror.defineMode("coffeescript", function(conf, parserConf) {
  var ERRORCLASS = "error";

  function wordRegexp(words) {
    return new RegExp("^((" + words.join(")|(") + "))\\b");
  }

  var operators = /^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/;
  var delimiters = /^(?:[()\[\]{},:`=;]|\.\.?\.?)/;
  var identifiers = /^[_A-Za-z$][_A-Za-z$0-9]*/;
  var properties = /^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/;

  var wordOperators = wordRegexp(["and", "or", "not",
                                  "is", "isnt", "in",
                                  "instanceof", "typeof"]);
  var indentKeywords = ["for", "while", "loop", "if", "unless", "else",
                        "switch", "try", "catch", "finally", "class"];
  var commonKeywords = ["break", "by", "continue", "debugger", "delete",
                        "do", "in", "of", "new", "return", "then",
                        "this", "@", "throw", "when", "until", "extends"];

  var keywords = wordRegexp(indentKeywords.concat(commonKeywords));

  indentKeywords = wordRegexp(indentKeywords);


  var stringPrefixes = /^('{3}|\"{3}|['\"])/;
  var regexPrefixes = /^(\/{3}|\/)/;
  var commonConstants = ["Infinity", "NaN", "undefined", "null", "true", "false", "on", "off", "yes", "no"];
  var constants = wordRegexp(commonConstants);

  // Tokenizers
  function tokenBase(stream, state) {
    // Handle scope changes
    if (stream.sol()) {
      if (state.scope.align === null) state.scope.align = false;
      var scopeOffset = state.scope.offset;
      if (stream.eatSpace()) {
        var lineOffset = stream.indentation();
        if (lineOffset > scopeOffset && state.scope.type == "coffee") {
          return "indent";
        } else if (lineOffset < scopeOffset) {
          return "dedent";
        }
        return null;
      } else {
        if (scopeOffset > 0) {
          dedent(stream, state);
        }
      }
    }
    if (stream.eatSpace()) {
      return null;
    }

    var ch = stream.peek();

    // Handle docco title comment (single line)
    if (stream.match("####")) {
      stream.skipToEnd();
      return "comment";
    }

    // Handle multi line comments
    if (stream.match("###")) {
      state.tokenize = longComment;
      return state.tokenize(stream, state);
    }

    // Single line comment
    if (ch === "#") {
      stream.skipToEnd();
      return "comment";
    }

    // Handle number literals
    if (stream.match(/^-?[0-9\.]/, false)) {
      var floatLiteral = false;
      // Floats
      if (stream.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)) {
        floatLiteral = true;
      }
      if (stream.match(/^-?\d+\.\d*/)) {
        floatLiteral = true;
      }
      if (stream.match(/^-?\.\d+/)) {
        floatLiteral = true;
      }

      if (floatLiteral) {
        // prevent from getting extra . on 1..
        if (stream.peek() == "."){
          stream.backUp(1);
        }
        return "number";
      }
      // Integers
      var intLiteral = false;
      // Hex
      if (stream.match(/^-?0x[0-9a-f]+/i)) {
        intLiteral = true;
      }
      // Decimal
      if (stream.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)) {
        intLiteral = true;
      }
      // Zero by itself with no other piece of number.
      if (stream.match(/^-?0(?![\dx])/i)) {
        intLiteral = true;
      }
      if (intLiteral) {
        return "number";
      }
    }

    // Handle strings
    if (stream.match(stringPrefixes)) {
      state.tokenize = tokenFactory(stream.current(), false, "string");
      return state.tokenize(stream, state);
    }
    // Handle regex literals
    if (stream.match(regexPrefixes)) {
      if (stream.current() != "/" || stream.match(/^.*\//, false)) { // prevent highlight of division
        state.tokenize = tokenFactory(stream.current(), true, "string-2");
        return state.tokenize(stream, state);
      } else {
        stream.backUp(1);
      }
    }

    // Handle operators and delimiters
    if (stream.match(operators) || stream.match(wordOperators)) {
      return "operator";
    }
    if (stream.match(delimiters)) {
      return "punctuation";
    }

    if (stream.match(constants)) {
      return "atom";
    }

    if (stream.match(keywords)) {
      return "keyword";
    }

    if (stream.match(identifiers)) {
      return "variable";
    }

    if (stream.match(properties)) {
      return "property";
    }

    // Handle non-detected items
    stream.next();
    return ERRORCLASS;
  }

  function tokenFactory(delimiter, singleline, outclass) {
    return function(stream, state) {
      while (!stream.eol()) {
        stream.eatWhile(/[^'"\/\\]/);
        if (stream.eat("\\")) {
          stream.next();
          if (singleline && stream.eol()) {
            return outclass;
          }
        } else if (stream.match(delimiter)) {
          state.tokenize = tokenBase;
          return outclass;
        } else {
          stream.eat(/['"\/]/);
        }
      }
      if (singleline) {
        if (parserConf.singleLineStringErrors) {
          outclass = ERRORCLASS;
        } else {
          state.tokenize = tokenBase;
        }
      }
      return outclass;
    };
  }

  function longComment(stream, state) {
    while (!stream.eol()) {
      stream.eatWhile(/[^#]/);
      if (stream.match("###")) {
        state.tokenize = tokenBase;
        break;
      }
      stream.eatWhile("#");
    }
    return "comment";
  }

  function indent(stream, state, type) {
    type = type || "coffee";
    var offset = 0, align = false, alignOffset = null;
    for (var scope = state.scope; scope; scope = scope.prev) {
      if (scope.type === "coffee" || scope.type == "}") {
        offset = scope.offset + conf.indentUnit;
        break;
      }
    }
    if (type !== "coffee") {
      align = null;
      alignOffset = stream.column() + stream.current().length;
    } else if (state.scope.align) {
      state.scope.align = false;
    }
    state.scope = {
      offset: offset,
      type: type,
      prev: state.scope,
      align: align,
      alignOffset: alignOffset
    };
  }

  function dedent(stream, state) {
    if (!state.scope.prev) return;
    if (state.scope.type === "coffee") {
      var _indent = stream.indentation();
      var matched = false;
      for (var scope = state.scope; scope; scope = scope.prev) {
        if (_indent === scope.offset) {
          matched = true;
          break;
        }
      }
      if (!matched) {
        return true;
      }
      while (state.scope.prev && state.scope.offset !== _indent) {
        state.scope = state.scope.prev;
      }
      return false;
    } else {
      state.scope = state.scope.prev;
      return false;
    }
  }

  function tokenLexer(stream, state) {
    var style = state.tokenize(stream, state);
    var current = stream.current();

    // Handle "." connected identifiers
    if (current === ".") {
      style = state.tokenize(stream, state);
      current = stream.current();
      if (/^\.[\w$]+$/.test(current)) {
        return "variable";
      } else {
        return ERRORCLASS;
      }
    }

    // Handle scope changes.
    if (current === "return") {
      state.dedent = true;
    }
    if (((current === "->" || current === "=>") &&
         !state.lambda &&
         !stream.peek())
        || style === "indent") {
      indent(stream, state);
    }
    var delimiter_index = "[({".indexOf(current);
    if (delimiter_index !== -1) {
      indent(stream, state, "])}".slice(delimiter_index, delimiter_index+1));
    }
    if (indentKeywords.exec(current)){
      indent(stream, state);
    }
    if (current == "then"){
      dedent(stream, state);
    }


    if (style === "dedent") {
      if (dedent(stream, state)) {
        return ERRORCLASS;
      }
    }
    delimiter_index = "])}".indexOf(current);
    if (delimiter_index !== -1) {
      while (state.scope.type == "coffee" && state.scope.prev)
        state.scope = state.scope.prev;
      if (state.scope.type == current)
        state.scope = state.scope.prev;
    }
    if (state.dedent && stream.eol()) {
      if (state.scope.type == "coffee" && state.scope.prev)
        state.scope = state.scope.prev;
      state.dedent = false;
    }

    return style;
  }

  var external = {
    startState: function(basecolumn) {
      return {
        tokenize: tokenBase,
        scope: {offset:basecolumn || 0, type:"coffee", prev: null, align: false},
        lastToken: null,
        lambda: false,
        dedent: 0
      };
    },

    token: function(stream, state) {
      var fillAlign = state.scope.align === null && state.scope;
      if (fillAlign && stream.sol()) fillAlign.align = false;

      var style = tokenLexer(stream, state);
      if (fillAlign && style && style != "comment") fillAlign.align = true;

      state.lastToken = {style:style, content: stream.current()};

      if (stream.eol() && stream.lambda) {
        state.lambda = false;
      }

      return style;
    },

    indent: function(state, text) {
      if (state.tokenize != tokenBase) return 0;
      var scope = state.scope;
      var closer = text && "])}".indexOf(text.charAt(0)) > -1;
      if (closer) while (scope.type == "coffee" && scope.prev) scope = scope.prev;
      var closes = closer && scope.type === text.charAt(0);
      if (scope.align)
        return scope.alignOffset - (closes ? 1 : 0);
      else
        return (closes ? scope.prev : scope).offset;
    },

    lineComment: "#",
    fold: "indent"
  };
  return external;
});

CodeMirror.defineMIME("text/x-coffeescript", "coffeescript");

});
‘	fghi_application/javascript_Mhttp://jsfiddle.net/js/codemirror/addon/search/searchcursor.js?update10082015Oíbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Mhttp://jsfiddle.net/js/codemirror/addon/search/searchcursor.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀôCJ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"55c87ff2-1e2b"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/+_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „38CLRU^gikrzÖêíîñòöúû†¢§Ø±≥µ∑πªΩø¡√≈–›‰Ú˙ˇ%9D]cÉ£∑◊‹Ó˜¸	(-AEYgy|í             o              îO+// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  "use strict";
  var Pos = CodeMirror.Pos;

  function SearchCursor(doc, query, pos, caseFold) {
    this.atOccurrence = false; this.doc = doc;
    if (caseFold == null && typeof query == "string") caseFold = false;

    pos = pos ? doc.clipPos(pos) : Pos(0, 0);
    this.pos = {from: pos, to: pos};

    // The matches method is filled in based on the type of query.
    // It takes a position and a direction, and returns an object
    // describing the next occurrence of the query, or null if no
    // more matches were found.
    if (typeof query != "string") { // Regexp match
      if (!query.global) query = new RegExp(query.source, query.ignoreCase ? "ig" : "g");
      this.matches = function(reverse, pos) {
        if (reverse) {
          query.lastIndex = 0;
          var line = doc.getLine(pos.line).slice(0, pos.ch), cutOff = 0, match, start;
          for (;;) {
            query.lastIndex = cutOff;
            var newMatch = query.exec(line);
            if (!newMatch) break;
            match = newMatch;
            start = match.index;
            cutOff = match.index + (match[0].length || 1);
            if (cutOff == line.length) break;
          }
          var matchLen = (match && match[0].length) || 0;
          if (!matchLen) {
            if (start == 0 && line.length == 0) {match = undefined;}
            else if (start != doc.getLine(pos.line).length) {
              matchLen++;
            }
          }
        } else {
          query.lastIndex = pos.ch;
          var line = doc.getLine(pos.line), match = query.exec(line);
          var matchLen = (match && match[0].length) || 0;
          var start = match && match.index;
          if (start + matchLen != line.length && !matchLen) matchLen = 1;
        }
        if (match && matchLen)
          return {from: Pos(pos.line, start),
                  to: Pos(pos.line, start + matchLen),
                  match: match};
      };
    } else { // String query
      var origQuery = query;
      if (caseFold) query = query.toLowerCase();
      var fold = caseFold ? function(str){return str.toLowerCase();} : function(str){return str;};
      var target = query.split("\n");
      // Different methods for single-line and multi-line queries
      if (target.length == 1) {
        if (!query.length) {
          // Empty string would match anything and never progress, so
          // we define it to match nothing instead.
          this.matches = function() {};
        } else {
          this.matches = function(reverse, pos) {
            if (reverse) {
              var orig = doc.getLine(pos.line).slice(0, pos.ch), line = fold(orig);
              var match = line.lastIndexOf(query);
              if (match > -1) {
                match = adjustPos(orig, line, match);
                return {from: Pos(pos.line, match), to: Pos(pos.line, match + origQuery.length)};
              }
             } else {
               var orig = doc.getLine(pos.line).slice(pos.ch), line = fold(orig);
               var match = line.indexOf(query);
               if (match > -1) {
                 match = adjustPos(orig, line, match) + pos.ch;
                 return {from: Pos(pos.line, match), to: Pos(pos.line, match + origQuery.length)};
               }
            }
          };
        }
      } else {
        var origTarget = origQuery.split("\n");
        this.matches = function(reverse, pos) {
          var last = target.length - 1;
          if (reverse) {
            if (pos.line - (target.length - 1) < doc.firstLine()) return;
            if (fold(doc.getLine(pos.line).slice(0, origTarget[last].length)) != target[target.length - 1]) return;
            var to = Pos(pos.line, origTarget[last].length);
            for (var ln = pos.line - 1, i = last - 1; i >= 1; --i, --ln)
              if (target[i] != fold(doc.getLine(ln))) return;
            var line = doc.getLine(ln), cut = line.length - origTarget[0].length;
            if (fold(line.slice(cut)) != target[0]) return;
            return {from: Pos(ln, cut), to: to};
          } else {
            if (pos.line + (target.length - 1) > doc.lastLine()) return;
            var line = doc.getLine(pos.line), cut = line.length - origTarget[0].length;
            if (fold(line.slice(cut)) != target[0]) return;
            var from = Pos(pos.line, cut);
            for (var ln = pos.line + 1, i = 1; i < last; ++i, ++ln)
              if (target[i] != fold(doc.getLine(ln))) return;
            if (fold(doc.getLine(ln).slice(0, origTarget[last].length)) != target[last]) return;
            return {from: from, to: Pos(ln, origTarget[last].length)};
          }
        };
      }
    }
  }

  SearchCursor.prototype = {
    findNext: function() {return this.find(false);},
    findPrevious: function() {return this.find(true);},

    find: function(reverse) {
      var self = this, pos = this.doc.clipPos(reverse ? this.pos.from : this.pos.to);
      function savePosAndFail(line) {
        var pos = Pos(line, 0);
        self.pos = {from: pos, to: pos};
        self.atOccurrence = false;
        return false;
      }

      for (;;) {
        if (this.pos = this.matches(reverse, pos)) {
          this.atOccurrence = true;
          return this.pos.match || true;
        }
        if (reverse) {
          if (!pos.line) return savePosAndFail(0);
          pos = Pos(pos.line-1, this.doc.getLine(pos.line-1).length);
        }
        else {
          var maxLine = this.doc.lineCount();
          if (pos.line == maxLine - 1) return savePosAndFail(maxLine);
          pos = Pos(pos.line + 1, 0);
        }
      }
    },

    from: function() {if (this.atOccurrence) return this.pos.from;},
    to: function() {if (this.atOccurrence) return this.pos.to;},

    replace: function(newText, origin) {
      if (!this.atOccurrence) return;
      var lines = CodeMirror.splitLines(newText);
      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin);
      this.pos.to = Pos(this.pos.from.line + lines.length - 1,
                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0));
    }
  };

  // Maps a position in a case-folded line back to a position in the original line
  // (compensating for codepoints increasing in number during folding)
  function adjustPos(orig, folded, pos) {
    if (orig.length == folded.length) return pos;
    for (var pos1 = Math.min(pos, orig.length);;) {
      var len1 = orig.slice(0, pos1).toLowerCase().length;
      if (len1 < pos) ++pos1;
      else if (len1 > pos) --pos1;
      else return pos1;
    }
  }

  CodeMirror.defineExtension("getSearchCursor", function(query, pos, caseFold) {
    return new SearchCursor(this.doc, query, pos, caseFold);
  });
  CodeMirror.defineDocExtension("getSearchCursor", function(query, pos, caseFold) {
    return new SearchCursor(this, query, pos, caseFold);
  });

  CodeMirror.defineExtension("selectMatches", function(query, caseFold) {
    var ranges = [];
    var cur = this.getSearchCursor(query, this.getCursor("from"), caseFold);
    while (cur.findNext()) {
      if (CodeMirror.cmpPos(cur.to(), this.getCursor("to")) > 0) break;
      ranges.push({anchor: cur.from(), head: cur.to()});
    }
    if (ranges.length)
      this.setSelections(ranges, 0);
  });
});
‘	klmn_application/javascript_Lhttp://jsfiddle.net/js/codemirror/addon/edit/matchbrackets.js?update10082015Oëbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Lhttp://jsfiddle.net/js/codemirror/addon/edit/matchbrackets.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀ®â »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"55c87ff2-1486"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/Ü_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „27BKQT]fhjqyÑèëìïóôõùü°£Æ∞≤¥∂∏∫ºæ¿¬ƒœ‹„Ò˘˛$8C\bÇ¢∂÷€Ìˆ˚',@DXfx{ë             o              ìOÜ// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  var ie_lt8 = /MSIE \d/.test(navigator.userAgent) &&
    (document.documentMode == null || document.documentMode < 8);

  var Pos = CodeMirror.Pos;

  var matching = {"(": ")>", ")": "(<", "[": "]>", "]": "[<", "{": "}>", "}": "{<"};

  function findMatchingBracket(cm, where, strict, config) {
    var line = cm.getLineHandle(where.line), pos = where.ch - 1;
    var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];
    if (!match) return null;
    var dir = match.charAt(1) == ">" ? 1 : -1;
    if (strict && (dir > 0) != (pos == where.ch)) return null;
    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));

    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);
    if (found == null) return null;
    return {from: Pos(where.line, pos), to: found && found.pos,
            match: found && found.ch == match.charAt(0), forward: dir > 0};
  }

  // bracketRegex is used to specify which type of bracket to scan
  // should be a regexp, e.g. /[[\]]/
  //
  // Note: If "where" is on an open bracket, then this bracket is ignored.
  //
  // Returns false when no bracket was found, null when it reached
  // maxScanLines and gave up
  function scanForBracket(cm, where, dir, style, config) {
    var maxScanLen = (config && config.maxScanLineLength) || 10000;
    var maxScanLines = (config && config.maxScanLines) || 1000;

    var stack = [];
    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\]]/;
    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)
                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);
    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {
      var line = cm.getLine(lineNo);
      if (!line) continue;
      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;
      if (line.length > maxScanLen) continue;
      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);
      for (; pos != end; pos += dir) {
        var ch = line.charAt(pos);
        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {
          var match = matching[ch];
          if ((match.charAt(1) == ">") == (dir > 0)) stack.push(ch);
          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};
          else stack.pop();
        }
      }
    }
    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;
  }

  function matchBrackets(cm, autoclear, config) {
    // Disable brace matching in long lines, since it'll cause hugely slow updates
    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;
    var marks = [], ranges = cm.listSelections();
    for (var i = 0; i < ranges.length; i++) {
      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, false, config);
      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {
        var style = match.match ? "CodeMirror-matchingbracket" : "CodeMirror-nonmatchingbracket";
        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));
        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)
          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));
      }
    }

    if (marks.length) {
      // Kludge to work around the IE bug from issue #1193, where text
      // input stops going to the textare whever this fires.
      if (ie_lt8 && cm.state.focused) cm.focus();

      var clear = function() {
        cm.operation(function() {
          for (var i = 0; i < marks.length; i++) marks[i].clear();
        });
      };
      if (autoclear) setTimeout(clear, 800);
      else return clear;
    }
  }

  var currentlyHighlighted = null;
  function doMatchBrackets(cm) {
    cm.operation(function() {
      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}
      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);
    });
  }

  CodeMirror.defineOption("matchBrackets", false, function(cm, val, old) {
    if (old && old != CodeMirror.Init)
      cm.off("cursorActivity", doMatchBrackets);
    if (val) {
      cm.state.matchBrackets = typeof val == "object" ? val : {};
      cm.on("cursorActivity", doMatchBrackets);
    }
  });

  CodeMirror.defineExtension("matchBrackets", function() {matchBrackets(this, true);});
  CodeMirror.defineExtension("findMatchingBracket", function(pos, strict, config){
    return findMatchingBracket(this, pos, strict, config);
  });
  CodeMirror.defineExtension("scanForBracket", function(pos, dir, style, config){
    return scanForBracket(this, pos, dir, style, config);
  });
});
‘	pqrs_application/javascript_Hhttp://jsfiddle.net/js/codemirror/addon/hint/show-hint.js?update10082015Oçbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Hhttp://jsfiddle.net/js/codemirror/addon/hint/show-hint.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀÆr »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"55c87ff2-383f"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/8?_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „.3>GMPYbdfmuÄãçèëìïóôõùü™¨Æ∞≤¥∂∏∫ºæ¿ÀÿﬂÌı˙ˇ 4?X^~û≤“◊ÈÚ˜
#(<@Tbtwç             o              èO8?// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  "use strict";

  var HINT_ELEMENT_CLASS        = "CodeMirror-hint";
  var ACTIVE_HINT_ELEMENT_CLASS = "CodeMirror-hint-active";

  // This is the old interface, kept around for now to stay
  // backwards-compatible.
  CodeMirror.showHint = function(cm, getHints, options) {
    if (!getHints) return cm.showHint(options);
    if (options && options.async) getHints.async = true;
    var newOpts = {hint: getHints};
    if (options) for (var prop in options) newOpts[prop] = options[prop];
    return cm.showHint(newOpts);
  };

  CodeMirror.defineExtension("showHint", function(options) {
    // We want a single cursor position.
    if (this.listSelections().length > 1 || this.somethingSelected()) return;

    if (this.state.completionActive) this.state.completionActive.close();
    var completion = this.state.completionActive = new Completion(this, options);
    if (!completion.options.hint) return;

    CodeMirror.signal(this, "startCompletion", this);
    completion.update(true);
  });

  function Completion(cm, options) {
    this.cm = cm;
    this.options = this.buildOptions(options);
    this.widget = null;
    this.debounce = 0;
    this.tick = 0;
    this.startPos = this.cm.getCursor();
    this.startLen = this.cm.getLine(this.startPos.line).length;

    var self = this;
    cm.on("cursorActivity", this.activityFunc = function() { self.cursorActivity(); });
  }

  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {
    return setTimeout(fn, 1000/60);
  };
  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;

  Completion.prototype = {
    close: function() {
      if (!this.active()) return;
      this.cm.state.completionActive = null;
      this.tick = null;
      this.cm.off("cursorActivity", this.activityFunc);

      if (this.widget && this.data) CodeMirror.signal(this.data, "close");
      if (this.widget) this.widget.close();
      CodeMirror.signal(this.cm, "endCompletion", this.cm);
    },

    active: function() {
      return this.cm.state.completionActive == this;
    },

    pick: function(data, i) {
      var completion = data.list[i];
      if (completion.hint) completion.hint(this.cm, data, completion);
      else this.cm.replaceRange(getText(completion), completion.from || data.from,
                                completion.to || data.to, "complete");
      CodeMirror.signal(data, "pick", completion);
      this.close();
    },

    cursorActivity: function() {
      if (this.debounce) {
        cancelAnimationFrame(this.debounce);
        this.debounce = 0;
      }

      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);
      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||
          pos.ch < this.startPos.ch || this.cm.somethingSelected() ||
          (pos.ch && this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {
        this.close();
      } else {
        var self = this;
        this.debounce = requestAnimationFrame(function() {self.update();});
        if (this.widget) this.widget.disable();
      }
    },

    update: function(first) {
      if (this.tick == null) return;
      if (!this.options.hint.async) {
        this.finishUpdate(this.options.hint(this.cm, this.options), first);
      } else {
        var myTick = ++this.tick, self = this;
        this.options.hint(this.cm, function(data) {
          if (self.tick == myTick) self.finishUpdate(data, first);
        }, this.options);
      }
    },

    finishUpdate: function(data, first) {
      if (this.data) CodeMirror.signal(this.data, "update");
      if (data && this.data && CodeMirror.cmpPos(data.from, this.data.from)) data = null;
      this.data = data;

      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);
      if (this.widget) this.widget.close();
      if (data && data.list.length) {
        if (picked && data.list.length == 1) {
          this.pick(data, 0);
        } else {
          this.widget = new Widget(this, data);
          CodeMirror.signal(data, "shown");
        }
      }
    },

    buildOptions: function(options) {
      var editor = this.cm.options.hintOptions;
      var out = {};
      for (var prop in defaultOptions) out[prop] = defaultOptions[prop];
      if (editor) for (var prop in editor)
        if (editor[prop] !== undefined) out[prop] = editor[prop];
      if (options) for (var prop in options)
        if (options[prop] !== undefined) out[prop] = options[prop];
      return out;
    }
  };

  function getText(completion) {
    if (typeof completion == "string") return completion;
    else return completion.text;
  }

  function buildKeyMap(completion, handle) {
    var baseMap = {
      Up: function() {handle.moveFocus(-1);},
      Down: function() {handle.moveFocus(1);},
      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},
      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},
      Home: function() {handle.setFocus(0);},
      End: function() {handle.setFocus(handle.length - 1);},
      Enter: handle.pick,
      Tab: handle.pick,
      Esc: handle.close
    };
    var custom = completion.options.customKeys;
    var ourMap = custom ? {} : baseMap;
    function addBinding(key, val) {
      var bound;
      if (typeof val != "string")
        bound = function(cm) { return val(cm, handle); };
      // This mechanism is deprecated
      else if (baseMap.hasOwnProperty(val))
        bound = baseMap[val];
      else
        bound = val;
      ourMap[key] = bound;
    }
    if (custom)
      for (var key in custom) if (custom.hasOwnProperty(key))
        addBinding(key, custom[key]);
    var extra = completion.options.extraKeys;
    if (extra)
      for (var key in extra) if (extra.hasOwnProperty(key))
        addBinding(key, extra[key]);
    return ourMap;
  }

  function getHintElement(hintsElement, el) {
    while (el && el != hintsElement) {
      if (el.nodeName.toUpperCase() === "LI" && el.parentNode == hintsElement) return el;
      el = el.parentNode;
    }
  }

  function Widget(completion, data) {
    this.completion = completion;
    this.data = data;
    this.picked = false;
    var widget = this, cm = completion.cm;

    var hints = this.hints = document.createElement("ul");
    hints.className = "CodeMirror-hints";
    this.selectedHint = data.selectedHint || 0;

    var completions = data.list;
    for (var i = 0; i < completions.length; ++i) {
      var elt = hints.appendChild(document.createElement("li")), cur = completions[i];
      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? "" : " " + ACTIVE_HINT_ELEMENT_CLASS);
      if (cur.className != null) className = cur.className + " " + className;
      elt.className = className;
      if (cur.render) cur.render(elt, data, cur);
      else elt.appendChild(document.createTextNode(cur.displayText || getText(cur)));
      elt.hintId = i;
    }

    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);
    var left = pos.left, top = pos.bottom, below = true;
    hints.style.left = left + "px";
    hints.style.top = top + "px";
    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.
    var winW = window.innerWidth || Math.max(document.body.offsetWidth, document.documentElement.offsetWidth);
    var winH = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight);
    (completion.options.container || document.body).appendChild(hints);
    var box = hints.getBoundingClientRect(), overlapY = box.bottom - winH;
    if (overlapY > 0) {
      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);
      if (curTop - height > 0) { // Fits above cursor
        hints.style.top = (top = pos.top - height) + "px";
        below = false;
      } else if (height > winH) {
        hints.style.height = (winH - 5) + "px";
        hints.style.top = (top = pos.bottom - box.top) + "px";
        var cursor = cm.getCursor();
        if (data.from.ch != cursor.ch) {
          pos = cm.cursorCoords(cursor);
          hints.style.left = (left = pos.left) + "px";
          box = hints.getBoundingClientRect();
        }
      }
    }
    var overlapX = box.right - winW;
    if (overlapX > 0) {
      if (box.right - box.left > winW) {
        hints.style.width = (winW - 5) + "px";
        overlapX -= (box.right - box.left) - winW;
      }
      hints.style.left = (left = pos.left - overlapX) + "px";
    }

    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {
      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },
      setFocus: function(n) { widget.changeActive(n); },
      menuSize: function() { return widget.screenAmount(); },
      length: completions.length,
      close: function() { completion.close(); },
      pick: function() { widget.pick(); },
      data: data
    }));

    if (completion.options.closeOnUnfocus) {
      var closingOnBlur;
      cm.on("blur", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });
      cm.on("focus", this.onFocus = function() { clearTimeout(closingOnBlur); });
    }

    var startScroll = cm.getScrollInfo();
    cm.on("scroll", this.onScroll = function() {
      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();
      var newTop = top + startScroll.top - curScroll.top;
      var point = newTop - (window.pageYOffset || (document.documentElement || document.body).scrollTop);
      if (!below) point += hints.offsetHeight;
      if (point <= editor.top || point >= editor.bottom) return completion.close();
      hints.style.top = newTop + "px";
      hints.style.left = (left + startScroll.left - curScroll.left) + "px";
    });

    CodeMirror.on(hints, "dblclick", function(e) {
      var t = getHintElement(hints, e.target || e.srcElement);
      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}
    });

    CodeMirror.on(hints, "click", function(e) {
      var t = getHintElement(hints, e.target || e.srcElement);
      if (t && t.hintId != null) {
        widget.changeActive(t.hintId);
        if (completion.options.completeOnSingleClick) widget.pick();
      }
    });

    CodeMirror.on(hints, "mousedown", function() {
      setTimeout(function(){cm.focus();}, 20);
    });

    CodeMirror.signal(data, "select", completions[0], hints.firstChild);
    return true;
  }

  Widget.prototype = {
    close: function() {
      if (this.completion.widget != this) return;
      this.completion.widget = null;
      this.hints.parentNode.removeChild(this.hints);
      this.completion.cm.removeKeyMap(this.keyMap);

      var cm = this.completion.cm;
      if (this.completion.options.closeOnUnfocus) {
        cm.off("blur", this.onBlur);
        cm.off("focus", this.onFocus);
      }
      cm.off("scroll", this.onScroll);
    },

    disable: function() {
      this.completion.cm.removeKeyMap(this.keyMap);
      var widget = this;
      this.keyMap = {Enter: function() { widget.picked = true; }};
      this.completion.cm.addKeyMap(this.keyMap);
    },

    pick: function() {
      this.completion.pick(this.data, this.selectedHint);
    },

    changeActive: function(i, avoidWrap) {
      if (i >= this.data.list.length)
        i = avoidWrap ? this.data.list.length - 1 : 0;
      else if (i < 0)
        i = avoidWrap ? 0  : this.data.list.length - 1;
      if (this.selectedHint == i) return;
      var node = this.hints.childNodes[this.selectedHint];
      node.className = node.className.replace(" " + ACTIVE_HINT_ELEMENT_CLASS, "");
      node = this.hints.childNodes[this.selectedHint = i];
      node.className += " " + ACTIVE_HINT_ELEMENT_CLASS;
      if (node.offsetTop < this.hints.scrollTop)
        this.hints.scrollTop = node.offsetTop - 3;
      else if (node.offsetTop + node.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)
        this.hints.scrollTop = node.offsetTop + node.offsetHeight - this.hints.clientHeight + 3;
      CodeMirror.signal(this.data, "select", this.data.list[this.selectedHint], node);
    },

    screenAmount: function() {
      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;
    }
  };

  CodeMirror.registerHelper("hint", "auto", function(cm, options) {
    var helpers = cm.getHelpers(cm.getCursor(), "hint"), words;
    if (helpers.length) {
      for (var i = 0; i < helpers.length; i++) {
        var cur = helpers[i](cm, options);
        if (cur && cur.list.length) return cur;
      }
    } else if (words = cm.getHelper(cm.getCursor(), "hintWords")) {
      if (words) return CodeMirror.hint.fromList(cm, {words: words});
    } else if (CodeMirror.hint.anyword) {
      return CodeMirror.hint.anyword(cm, options);
    }
  });

  CodeMirror.registerHelper("hint", "fromList", function(cm, options) {
    var cur = cm.getCursor(), token = cm.getTokenAt(cur);
    var to = CodeMirror.Pos(cur.line, token.end);
    if (token.string && /\w/.test(token.string[token.string.length - 1])) {
      var term = token.string, from = CodeMirror.Pos(cur.line, token.start);
    } else {
      var term = "", from = to;
    }
    var found = [];
    for (var i = 0; i < options.words.length; i++) {
      var word = options.words[i];
      if (word.slice(0, term.length) == term)
        found.push(word);
    }

    if (found.length) return {list: found, from: from, to: to};
  });

  CodeMirror.commands.autocomplete = CodeMirror.showHint;

  var defaultOptions = {
    hint: CodeMirror.hint.auto,
    completeSingle: true,
    alignWithWord: true,
    closeCharacters: /[\s()\[\]{};:>,]/,
    closeOnUnfocus: true,
    completeOnSingleClick: false,
    container: null,
    customKeys: null,
    extraKeys: null
  };

  CodeMirror.defineOption("hintOptions", null);
});
‘	uvwx_application/javascript_Nhttp://jsfiddle.net/js/codemirror/addon/hint/javascript-hint.js?update10082015Oìbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Nhttp://jsfiddle.net/js/codemirror/addon/hint/javascript-hint.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀ±1  »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"55c87ff2-1813"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „49DMSV_hjls{Üëìïóôõùü°£•∞≤¥∂∏∫ºæ¿¬ƒ∆—ﬁÂÛ˚ &:E^dÑ§∏ÿ›Ô¯˝
).BFZhz}ì             o              ïO// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  var Pos = CodeMirror.Pos;

  function forEach(arr, f) {
    for (var i = 0, e = arr.length; i < e; ++i) f(arr[i]);
  }

  function arrayContains(arr, item) {
    if (!Array.prototype.indexOf) {
      var i = arr.length;
      while (i--) {
        if (arr[i] === item) {
          return true;
        }
      }
      return false;
    }
    return arr.indexOf(item) != -1;
  }

  function scriptHint(editor, keywords, getToken, options) {
    // Find the token at the cursor
    var cur = editor.getCursor(), token = getToken(editor, cur);
    if (/\b(?:string|comment)\b/.test(token.type)) return;
    token.state = CodeMirror.innerMode(editor.getMode(), token.state).state;

    // If it's not a 'word-style' token, ignore the token.
    if (!/^[\w$_]*$/.test(token.string)) {
      token = {start: cur.ch, end: cur.ch, string: "", state: token.state,
               type: token.string == "." ? "property" : null};
    } else if (token.end > cur.ch) {
      token.end = cur.ch;
      token.string = token.string.slice(0, cur.ch - token.start);
    }

    var tprop = token;
    // If it is a property, find out what it is a property of.
    while (tprop.type == "property") {
      tprop = getToken(editor, Pos(cur.line, tprop.start));
      if (tprop.string != ".") return;
      tprop = getToken(editor, Pos(cur.line, tprop.start));
      if (!context) var context = [];
      context.push(tprop);
    }
    return {list: getCompletions(token, context, keywords, options),
            from: Pos(cur.line, token.start),
            to: Pos(cur.line, token.end)};
  }

  function javascriptHint(editor, options) {
    return scriptHint(editor, javascriptKeywords,
                      function (e, cur) {return e.getTokenAt(cur);},
                      options);
  };
  CodeMirror.registerHelper("hint", "javascript", javascriptHint);

  function getCoffeeScriptToken(editor, cur) {
  // This getToken, it is for coffeescript, imitates the behavior of
  // getTokenAt method in javascript.js, that is, returning "property"
  // type and treat "." as indepenent token.
    var token = editor.getTokenAt(cur);
    if (cur.ch == token.start + 1 && token.string.charAt(0) == '.') {
      token.end = token.start;
      token.string = '.';
      token.type = "property";
    }
    else if (/^\.[\w$_]*$/.test(token.string)) {
      token.type = "property";
      token.start++;
      token.string = token.string.replace(/\./, '');
    }
    return token;
  }

  function coffeescriptHint(editor, options) {
    return scriptHint(editor, coffeescriptKeywords, getCoffeeScriptToken, options);
  }
  CodeMirror.registerHelper("hint", "coffeescript", coffeescriptHint);

  var stringProps = ("charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight " +
                     "toUpperCase toLowerCase split concat match replace search").split(" ");
  var arrayProps = ("length concat join splice push pop shift unshift slice reverse sort indexOf " +
                    "lastIndexOf every some filter forEach map reduce reduceRight ").split(" ");
  var funcProps = "prototype apply call bind".split(" ");
  var javascriptKeywords = ("break case catch continue debugger default delete do else false finally for function " +
                  "if in instanceof new null return switch throw true try typeof var void while with").split(" ");
  var coffeescriptKeywords = ("and break catch class continue delete do else extends false finally for " +
                  "if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes").split(" ");

  function getCompletions(token, context, keywords, options) {
    var found = [], start = token.string, global = options && options.globalScope || window;
    function maybeAdd(str) {
      if (str.lastIndexOf(start, 0) == 0 && !arrayContains(found, str)) found.push(str);
    }
    function gatherCompletions(obj) {
      if (typeof obj == "string") forEach(stringProps, maybeAdd);
      else if (obj instanceof Array) forEach(arrayProps, maybeAdd);
      else if (obj instanceof Function) forEach(funcProps, maybeAdd);
      for (var name in obj) maybeAdd(name);
    }

    if (context && context.length) {
      // If this is a property, see if it belongs to some object we can
      // find in the current environment.
      var obj = context.pop(), base;
      if (obj.type && obj.type.indexOf("variable") === 0) {
        if (options && options.additionalContext)
          base = options.additionalContext[obj.string];
        if (!options || options.useGlobalScope !== false)
          base = base || global[obj.string];
      } else if (obj.type == "string") {
        base = "";
      } else if (obj.type == "atom") {
        base = 1;
      } else if (obj.type == "function") {
        if (global.jQuery != null && (obj.string == '$' || obj.string == 'jQuery') &&
            (typeof global.jQuery == 'function'))
          base = global.jQuery();
        else if (global._ != null && (obj.string == '_') && (typeof global._ == 'function'))
          base = global._();
      }
      while (base != null && context.length)
        base = base[context.pop().string];
      if (base != null) gatherCompletions(base);
    } else {
      // If not, just look in the global object and any local scope
      // (reading into JS mode internals to get at the local and global variables)
      for (var v = token.state.localVars; v; v = v.next) maybeAdd(v.name);
      for (var v = token.state.globalVars; v; v = v.next) maybeAdd(v.name);
      if (!options || options.useGlobalScope !== false)
        gatherCompletions(global);
      forEach(keywords, maybeAdd);
    }
    return found;
  }
});
‘	z{|}_application/javascript_/http://jsfiddle.net/js/jshint.js?update10082015Owbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_/http://jsfiddle.net/js/jshint.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀŒ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Tue, 02 Apr 2013 20:53:09 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"515b4535-39901"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/ ô_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „%.47@IKMT\grtvxz|~ÄÇÑÜëìïóôõùü°£•ß≤ø∆‘‹·Ê˘&?EeÖö∫ø—⁄ﬂÏÔÙ&*>L^aw             o              yO ô// 1.1.0
var JSHINT;
(function(){var require = function (file, cwd) {
    var resolved = require.resolve(file, cwd || '/');
    var mod = require.modules[resolved];
    if (!mod) throw new Error(
        'Failed to resolve module ' + file + ', tried ' + resolved
    );
    var cached = require.cache[resolved];
    var res = cached? cached.exports : mod();
    return res;
};

require.paths = [];
require.modules = {};
require.cache = {};
require.extensions = [".js",".coffee",".json"];

require._core = {
    'assert': true,
    'events': true,
    'fs': true,
    'path': true,
    'vm': true
};

require.resolve = (function () {
    return function (x, cwd) {
        if (!cwd) cwd = '/';

        if (require._core[x]) return x;
        var path = require.modules.path();
        cwd = path.resolve('/', cwd);
        var y = cwd || '/';

        if (x.match(/^(?:\.\.?\/|\/)/)) {
            var m = loadAsFileSync(path.resolve(y, x))
                || loadAsDirectorySync(path.resolve(y, x));
            if (m) return m;
        }

        var n = loadNodeModulesSync(x, y);
        if (n) return n;

        throw new Error("Cannot find module '" + x + "'");

        function loadAsFileSync (x) {
            x = path.normalize(x);
            if (require.modules[x]) {
                return x;
            }

            for (var i = 0; i < require.extensions.length; i++) {
                var ext = require.extensions[i];
                if (require.modules[x + ext]) return x + ext;
            }
        }

        function loadAsDirectorySync (x) {
            x = x.replace(/\/+$/, '');
            var pkgfile = path.normalize(x + '/package.json');
            if (require.modules[pkgfile]) {
                var pkg = require.modules[pkgfile]();
                var b = pkg.browserify;
                if (typeof b === 'object' && b.main) {
                    var m = loadAsFileSync(path.resolve(x, b.main));
                    if (m) return m;
                }
                else if (typeof b === 'string') {
                    var m = loadAsFileSync(path.resolve(x, b));
                    if (m) return m;
                }
                else if (pkg.main) {
                    var m = loadAsFileSync(path.resolve(x, pkg.main));
                    if (m) return m;
                }
            }

            return loadAsFileSync(x + '/index');
        }

        function loadNodeModulesSync (x, start) {
            var dirs = nodeModulesPathsSync(start);
            for (var i = 0; i < dirs.length; i++) {
                var dir = dirs[i];
                var m = loadAsFileSync(dir + '/' + x);
                if (m) return m;
                var n = loadAsDirectorySync(dir + '/' + x);
                if (n) return n;
            }

            var m = loadAsFileSync(x);
            if (m) return m;
        }

        function nodeModulesPathsSync (start) {
            var parts;
            if (start === '/') parts = [ '' ];
            else parts = path.normalize(start).split('/');

            var dirs = [];
            for (var i = parts.length - 1; i >= 0; i--) {
                if (parts[i] === 'node_modules') continue;
                var dir = parts.slice(0, i + 1).join('/') + '/node_modules';
                dirs.push(dir);
            }

            return dirs;
        }
    };
})();

require.alias = function (from, to) {
    var path = require.modules.path();
    var res = null;
    try {
        res = require.resolve(from + '/package.json', '/');
    }
    catch (err) {
        res = require.resolve(from, '/');
    }
    var basedir = path.dirname(res);

    var keys = (Object.keys || function (obj) {
        var res = [];
        for (var key in obj) res.push(key);
        return res;
    })(require.modules);

    for (var i = 0; i < keys.length; i++) {
        var key = keys[i];
        if (key.slice(0, basedir.length + 1) === basedir + '/') {
            var f = key.slice(basedir.length);
            require.modules[to + f] = require.modules[basedir + f];
        }
        else if (key === basedir) {
            require.modules[to] = require.modules[basedir];
        }
    }
};

(function () {
    var process = {};
    var global = typeof window !== 'undefined' ? window : {};
    var definedProcess = false;

    require.define = function (filename, fn) {
        if (!definedProcess && require.modules.__browserify_process) {
            process = require.modules.__browserify_process();
            definedProcess = true;
        }

        var dirname = require._core[filename]
            ? ''
            : require.modules.path().dirname(filename)
        ;

        var require_ = function (file) {
            var requiredModule = require(file, dirname);
            var cached = require.cache[require.resolve(file, dirname)];

            if (cached && cached.parent === null) {
                cached.parent = module_;
            }

            return requiredModule;
        };
        require_.resolve = function (name) {
            return require.resolve(name, dirname);
        };
        require_.modules = require.modules;
        require_.define = require.define;
        require_.cache = require.cache;
        var module_ = {
            id : filename,
            filename: filename,
            exports : {},
            loaded : false,
            parent: null
        };

        require.modules[filename] = function () {
            require.cache[filename] = module_;
            fn.call(
                module_.exports,
                require_,
                module_,
                module_.exports,
                dirname,
                filename,
                process,
                global
            );
            module_.loaded = true;
            return module_.exports;
        };
    };
})();


require.define("path",Function(['require','module','exports','__dirname','__filename','process','global'],"function filter (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (fn(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length; i >= 0; i--) {\n    var last = parts[i];\n    if (last == '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Regex to split a filename into [*, dir, basename, ext]\n// posix version\nvar splitPathRe = /^(.+\\/(?!$)|\\/)?((?:.+?)?(\\.[^.]*)?)$/;\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\nvar resolvedPath = '',\n    resolvedAbsolute = false;\n\nfor (var i = arguments.length; i >= -1 && !resolvedAbsolute; i--) {\n  var path = (i >= 0)\n      ? arguments[i]\n      : process.cwd();\n\n  // Skip empty and invalid entries\n  if (typeof path !== 'string' || !path) {\n    continue;\n  }\n\n  resolvedPath = path + '/' + resolvedPath;\n  resolvedAbsolute = path.charAt(0) === '/';\n}\n\n// At this point the path should be resolved to a full absolute path, but\n// handle relative paths to be safe (might happen when process.cwd() fails)\n\n// Normalize the path\nresolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\nvar isAbsolute = path.charAt(0) === '/',\n    trailingSlash = path.slice(-1) === '/';\n\n// Normalize the path\npath = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n  \n  return (isAbsolute ? '/' : '') + path;\n};\n\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    return p && typeof p === 'string';\n  }).join('/'));\n};\n\n\nexports.dirname = function(path) {\n  var dir = splitPathRe.exec(path)[1] || '';\n  var isWindows = false;\n  if (!dir) {\n    // No dirname\n    return '.';\n  } else if (dir.length === 1 ||\n      (isWindows && dir.length <= 3 && dir.charAt(1) === ':')) {\n    // It is just a slash or a drive letter with a slash\n    return dir;\n  } else {\n    // It is a full dirname, strip trailing slash\n    return dir.substring(0, dir.length - 1);\n  }\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPathRe.exec(path)[2] || '';\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPathRe.exec(path)[3] || '';\n};\n\n//@ sourceURL=path"
));

require.define("__browserify_process",Function(['require','module','exports','__dirname','__filename','process','global'],"var process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n        && window.setImmediate;\n    var canPost = typeof window !== 'undefined'\n        && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return window.setImmediate;\n    }\n\n    if (canPost) {\n        var queue = [];\n        window.addEventListener('message', function (ev) {\n            if (ev.source === window && ev.data === 'browserify-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('browserify-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nprocess.binding = function (name) {\n    if (name === 'evals') return (require)('vm')\n    else throw new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    process.cwd = function () { return cwd };\n    process.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\n//@ sourceURL=__browserify_process"
));

require.define("/node_modules/underscore/package.json",Function(['require','module','exports','__dirname','__filename','process','global'],"module.exports = {\"main\":\"underscore.js\"}\n//@ sourceURL=/node_modules/underscore/package.json"
));

require.define("/node_modules/underscore/underscore.js",Function(['require','module','exports','__dirname','__filename','process','global'],"//     Underscore.js 1.4.4\n//     http://underscorejs.org\n//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `global` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Establish the object that gets returned to break out of a loop iteration.\n  var breaker = {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push             = ArrayProto.push,\n      slice            = ArrayProto.slice,\n      concat           = ArrayProto.concat,\n      toString         = ObjProto.toString,\n      hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeForEach      = ArrayProto.forEach,\n    nativeMap          = ArrayProto.map,\n    nativeReduce       = ArrayProto.reduce,\n    nativeReduceRight  = ArrayProto.reduceRight,\n    nativeFilter       = ArrayProto.filter,\n    nativeEvery        = ArrayProto.every,\n    nativeSome         = ArrayProto.some,\n    nativeIndexOf      = ArrayProto.indexOf,\n    nativeLastIndexOf  = ArrayProto.lastIndexOf,\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind;\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object via a string identifier,\n  // for Closure Compiler \"advanced\" mode.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.4.4';\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles objects with the built-in `forEach`, arrays, and raw objects.\n  // Delegates to **ECMAScript 5**'s native `forEach` if available.\n  var each = _.each = _.forEach = function(obj, iterator, context) {\n    if (obj == null) return;\n    if (nativeForEach && obj.forEach === nativeForEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length === +obj.length) {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        if (iterator.call(context, obj[i], i, obj) === breaker) return;\n      }\n    } else {\n      for (var key in obj) {\n        if (_.has(obj, key)) {\n          if (iterator.call(context, obj[key], key, obj) === breaker) return;\n        }\n      }\n    }\n  };\n\n  // Return the results of applying the iterator to each element.\n  // Delegates to **ECMAScript 5**'s native `map` if available.\n  _.map = _.collect = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);\n    each(obj, function(value, index, list) {\n      results[results.length] = iterator.call(context, value, index, list);\n    });\n    return results;\n  };\n\n  var reduceError = 'Reduce of empty array with no initial value';\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.\n  _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduce && obj.reduce === nativeReduce) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);\n    }\n    each(obj, function(value, index, list) {\n      if (!initial) {\n        memo = value;\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, value, index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // The right-associative version of reduce, also known as `foldr`.\n  // Delegates to **ECMAScript 5**'s native `reduceRight` if available.\n  _.reduceRight = _.foldr = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduceRight && obj.reduceRight === nativeReduceRight) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);\n    }\n    var length = obj.length;\n    if (length !== +length) {\n      var keys = _.keys(obj);\n      length = keys.length;\n    }\n    each(obj, function(value, index, list) {\n      index = keys ? keys[--length] : --length;\n      if (!initial) {\n        memo = obj[index];\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, obj[index], index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, iterator, context) {\n    var result;\n    any(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) {\n        result = value;\n        return true;\n      }\n    });\n    return result;\n  };\n\n  // Return all the elements that pass a truth test.\n  // Delegates to **ECMAScript 5**'s native `filter` if available.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeFilter && obj.filter === nativeFilter) return obj.filter(iterator, context);\n    each(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) results[results.length] = value;\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, iterator, context) {\n    return _.filter(obj, function(value, index, list) {\n      return !iterator.call(context, value, index, list);\n    }, context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Delegates to **ECMAScript 5**'s native `every` if available.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = true;\n    if (obj == null) return result;\n    if (nativeEvery && obj.every === nativeEvery) return obj.every(iterator, context);\n    each(obj, function(value, index, list) {\n      if (!(result = result && iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Delegates to **ECMAScript 5**'s native `some` if available.\n  // Aliased as `any`.\n  var any = _.some = _.any = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = false;\n    if (obj == null) return result;\n    if (nativeSome && obj.some === nativeSome) return obj.some(iterator, context);\n    each(obj, function(value, index, list) {\n      if (result || (result = iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `include`.\n  _.contains = _.include = function(obj, target) {\n    if (obj == null) return false;\n    if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;\n    return any(obj, function(value) {\n      return value === target;\n    });\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      return (isFunc ? method : value[method]).apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, function(value){ return value[key]; });\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs, first) {\n    if (_.isEmpty(attrs)) return first ? null : [];\n    return _[first ? 'find' : 'filter'](obj, function(value) {\n      for (var key in attrs) {\n        if (attrs[key] !== value[key]) return false;\n      }\n      return true;\n    });\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.where(obj, attrs, true);\n  };\n\n  // Return the maximum element or (element-based computation).\n  // Can't optimize arrays of integers longer than 65,535 elements.\n  // See: https://bugs.webkit.org/show_bug.cgi?id=80797\n  _.max = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.max.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return -Infinity;\n    var result = {computed : -Infinity, value: -Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed >= result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.min.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return Infinity;\n    var result = {computed : Infinity, value: Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed < result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Shuffle an array.\n  _.shuffle = function(obj) {\n    var rand;\n    var index = 0;\n    var shuffled = [];\n    each(obj, function(value) {\n      rand = _.random(index++);\n      shuffled[index - 1] = shuffled[rand];\n      shuffled[rand] = value;\n    });\n    return shuffled;\n  };\n\n  // An internal function to generate lookup iterators.\n  var lookupIterator = function(value) {\n    return _.isFunction(value) ? value : function(obj){ return obj[value]; };\n  };\n\n  // Sort the object's values by a criterion produced by an iterator.\n  _.sortBy = function(obj, value, context) {\n    var iterator = lookupIterator(value);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value : value,\n        index : index,\n        criteria : iterator.call(context, value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index < right.index ? -1 : 1;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(obj, value, context, behavior) {\n    var result = {};\n    var iterator = lookupIterator(value || _.identity);\n    each(obj, function(value, index) {\n      var key = iterator.call(context, value, index, obj);\n      behavior(result, key, value);\n    });\n    return result;\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key, value) {\n      (_.has(result, key) ? result[key] : (result[key] = [])).push(value);\n    });\n  };\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key) {\n      if (!_.has(result, key)) result[key] = 0;\n      result[key]++;\n    });\n  };\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iterator, context) {\n    iterator = iterator == null ? _.identity : lookupIterator(iterator);\n    var value = iterator.call(context, obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = (low + high) >>> 1;\n      iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;\n    }\n    return low;\n  };\n\n  // Safely convert anything iterable into a real, live array.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (obj.length === +obj.length) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return (obj.length === +obj.length) ? obj.length : _.keys(obj).length;\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    return (n != null) && !guard ? slice.call(array, 0, n) : array[0];\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N. The **guard** check allows it to work with\n  // `_.map`.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, array.length - ((n == null) || guard ? 1 : n));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if ((n != null) && !guard) {\n      return slice.call(array, Math.max(array.length - n, 0));\n    } else {\n      return array[array.length - 1];\n    }\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array. The **guard**\n  // check allows it to work with `_.map`.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, (n == null) || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, output) {\n    each(input, function(value) {\n      if (_.isArray(value)) {\n        shallow ? push.apply(output, value) : flatten(value, shallow, output);\n      } else {\n        output.push(value);\n      }\n    });\n    return output;\n  };\n\n  // Return a completely flattened version of an array.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, []);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iterator, context) {\n    if (_.isFunction(isSorted)) {\n      context = iterator;\n      iterator = isSorted;\n      isSorted = false;\n    }\n    var initial = iterator ? _.map(array, iterator, context) : array;\n    var results = [];\n    var seen = [];\n    each(initial, function(value, index) {\n      if (isSorted ? (!index || seen[seen.length - 1] !== value) : !_.contains(seen, value)) {\n        seen.push(value);\n        results.push(array[index]);\n      }\n    });\n    return results;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(concat.apply(ArrayProto, arguments));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var rest = slice.call(arguments, 1);\n    return _.filter(_.uniq(array), function(item) {\n      return _.every(rest, function(other) {\n        return _.indexOf(other, item) >= 0;\n      });\n    });\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));\n    return _.filter(array, function(value){ return !_.contains(rest, value); });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    var args = slice.call(arguments);\n    var length = _.max(_.pluck(args, 'length'));\n    var results = new Array(length);\n    for (var i = 0; i < length; i++) {\n      results[i] = _.pluck(args, \"\" + i);\n    }\n    return results;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    if (list == null) return {};\n    var result = {};\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),\n  // we need this function. Return the position of the first occurrence of an\n  // item in an array, or -1 if the item is not included in the array.\n  // Delegates to **ECMAScript 5**'s native `indexOf` if available.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    if (array == null) return -1;\n    var i = 0, l = array.length;\n    if (isSorted) {\n      if (typeof isSorted == 'number') {\n        i = (isSorted < 0 ? Math.max(0, l + isSorted) : isSorted);\n      } else {\n        i = _.sortedIndex(array, item);\n        return array[i] === item ? i : -1;\n      }\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);\n    for (; i < l; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available.\n  _.lastIndexOf = function(array, item, from) {\n    if (array == null) return -1;\n    var hasIndex = from != null;\n    if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) {\n      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);\n    }\n    var i = (hasIndex ? from : array.length);\n    while (i--) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = arguments[2] || 1;\n\n    var len = Math.max(Math.ceil((stop - start) / step), 0);\n    var idx = 0;\n    var range = new Array(len);\n\n    while(idx < len) {\n      range[idx++] = start;\n      start += step;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (func.bind === nativeBind && nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    var args = slice.call(arguments, 2);\n    return function() {\n      return func.apply(context, args.concat(slice.call(arguments)));\n    };\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context.\n  _.partial = function(func) {\n    var args = slice.call(arguments, 1);\n    return function() {\n      return func.apply(this, args.concat(slice.call(arguments)));\n    };\n  };\n\n  // Bind all of an object's methods to that object. Useful for ensuring that\n  // all callbacks defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var funcs = slice.call(arguments, 1);\n    if (funcs.length === 0) funcs = _.functions(obj);\n    each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); });\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memo = {};\n    hasher || (hasher = _.identity);\n    return function() {\n      var key = hasher.apply(this, arguments);\n      return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));\n    };\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){ return func.apply(null, args); }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = function(func) {\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n  };\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time.\n  _.throttle = function(func, wait) {\n    var context, args, timeout, result;\n    var previous = 0;\n    var later = function() {\n      previous = new Date;\n      timeout = null;\n      result = func.apply(context, args);\n    };\n    return function() {\n      var now = new Date;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n      } else if (!timeout) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n    return function() {\n      var context = this, args = arguments;\n      var later = function() {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n      };\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) result = func.apply(context, args);\n      return result;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = function(func) {\n    var ran = false, memo;\n    return function() {\n      if (ran) return memo;\n      ran = true;\n      memo = func.apply(this, arguments);\n      func = null;\n      return memo;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return function() {\n      var args = [func];\n      push.apply(args, arguments);\n      return wrapper.apply(this, args);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var funcs = arguments;\n    return function() {\n      var args = arguments;\n      for (var i = funcs.length - 1; i >= 0; i--) {\n        args = [funcs[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  };\n\n  // Returns a function that will only be executed after being called N times.\n  _.after = function(times, func) {\n    if (times <= 0) return func();\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Object Functions\n  // ----------------\n\n  // Retrieve the names of an object's properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = nativeKeys || function(obj) {\n    if (obj !== Object(obj)) throw new TypeError('Invalid object');\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys[keys.length] = key;\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var values = [];\n    for (var key in obj) if (_.has(obj, key)) values.push(obj[key]);\n    return values;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var pairs = [];\n    for (var key in obj) if (_.has(obj, key)) pairs.push([key, obj[key]]);\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    for (var key in obj) if (_.has(obj, key)) result[obj[key]] = key;\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    each(keys, function(key) {\n      if (key in obj) copy[key] = obj[key];\n    });\n    return copy;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    for (var key in obj) {\n      if (!_.contains(keys, key)) copy[key] = obj[key];\n    }\n    return copy;\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          if (obj[prop] == null) obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the Harmony `egal` proposal: http://wiki.ecmascript.org/doku.php?id=harmony:egal.\n    if (a === b) return a !== 0 || 1 / a == 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className != toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, dates, and booleans are compared by value.\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return a == String(b);\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for\n        // other numeric values.\n        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a == +b;\n      // RegExps are compared by their source patterns and flags.\n      case '[object RegExp]':\n        return a.source == b.source &&\n               a.global == b.global &&\n               a.multiline == b.multiline &&\n               a.ignoreCase == b.ignoreCase;\n    }\n    if (typeof a != 'object' || typeof b != 'object') return false;\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] == a) return bStack[length] == b;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    var size = 0, result = true;\n    // Recursively compare objects and arrays.\n    if (className == '[object Array]') {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      size = a.length;\n      result = size == b.length;\n      if (result) {\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (size--) {\n          if (!(result = eq(a[size], b[size], aStack, bStack))) break;\n        }\n      }\n    } else {\n      // Objects with different constructors are not equivalent, but `Object`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && (aCtor instanceof aCtor) &&\n                               _.isFunction(bCtor) && (bCtor instanceof bCtor))) {\n        return false;\n      }\n      // Deep compare objects.\n      for (var key in a) {\n        if (_.has(a, key)) {\n          // Count the expected number of properties.\n          size++;\n          // Deep compare each member.\n          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;\n        }\n      }\n      // Ensure that both objects contain the same number of properties.\n      if (result) {\n        for (key in b) {\n          if (_.has(b, key) && !(size--)) break;\n        }\n        result = !size;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return result;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b, [], []);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;\n    for (var key in obj) if (_.has(obj, key)) return false;\n    return true;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    return obj === Object(obj);\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n  each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) == '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return !!(obj && _.has(obj, 'callee'));\n    };\n  }\n\n  // Optimize `isFunction` if appropriate.\n  if (typeof (/./) !== 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj === 'function';\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj != +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iterators.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iterator, context) {\n    var accum = Array(n);\n    for (var i = 0; i < n; i++) accum[i] = iterator.call(context, i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // List of HTML entities for escaping.\n  var entityMap = {\n    escape: {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '/': '&#x2F;'\n    }\n  };\n  entityMap.unescape = _.invert(entityMap.escape);\n\n  // Regexes containing the keys and values listed immediately above.\n  var entityRegexes = {\n    escape:   new RegExp('[' + _.keys(entityMap.escape).join('') + ']', 'g'),\n    unescape: new RegExp('(' + _.keys(entityMap.unescape).join('|') + ')', 'g')\n  };\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  _.each(['escape', 'unescape'], function(method) {\n    _[method] = function(string) {\n      if (string == null) return '';\n      return ('' + string).replace(entityRegexes[method], function(match) {\n        return entityMap[method][match];\n      });\n    };\n  });\n\n  // If the value of the named property is a function then invoke it;\n  // otherwise, return it.\n  _.result = function(object, property) {\n    if (object == null) return null;\n    var value = object[property];\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    each(_.functions(obj), function(name){\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result.call(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\t':     't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  _.template = function(text, data, settings) {\n    var render;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = new RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset)\n        .replace(escaper, function(match) { return '\\\\' + escapes[match]; });\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      }\n      if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      }\n      if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n      index = offset + match.length;\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + \"return __p;\\n\";\n\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    if (data) return render(data, _);\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled function source as a convenience for precompilation.\n    template.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function, which will delegate to the wrapper.\n  _.chain = function(obj) {\n    return _(obj).chain();\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(obj) {\n    return this._chain ? _(obj).chain() : obj;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name == 'shift' || name == 'splice') && obj.length === 0) delete obj[0];\n      return result.call(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result.call(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  _.extend(_.prototype, {\n\n    // Start chaining a wrapped Underscore object.\n    chain: function() {\n      this._chain = true;\n      return this;\n    },\n\n    // Extracts the result from a wrapped and chained object.\n    value: function() {\n      return this._wrapped;\n    }\n\n  });\n\n}).call(this);\n\n//@ sourceURL=/node_modules/underscore/underscore.js"
));

require.define("events",Function(['require','module','exports','__dirname','__filename','process','global'],"if (!process.EventEmitter) process.EventEmitter = function () {};\n\nvar EventEmitter = exports.EventEmitter = process.EventEmitter;\nvar isArray = typeof Array.isArray === 'function'\n    ? Array.isArray\n    : function (xs) {\n        return Object.prototype.toString.call(xs) === '[object Array]'\n    }\n;\n\n// By default EventEmitters will print a warning if more than\n// 10 listeners are added to it. This is a useful default which\n// helps finding memory leaks.\n//\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nvar defaultMaxListeners = 10;\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!this._events) this._events = {};\n  this._events.maxListeners = n;\n};\n\n\nEventEmitter.prototype.emit = function(type) {\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events || !this._events.error ||\n        (isArray(this._events.error) && !this._events.error.length))\n    {\n      if (arguments[1] instanceof Error) {\n        throw arguments[1]; // Unhandled 'error' event\n      } else {\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\n      }\n      return false;\n    }\n  }\n\n  if (!this._events) return false;\n  var handler = this._events[type];\n  if (!handler) return false;\n\n  if (typeof handler == 'function') {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        var args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n    return true;\n\n  } else if (isArray(handler)) {\n    var args = Array.prototype.slice.call(arguments, 1);\n\n    var listeners = handler.slice();\n    for (var i = 0, l = listeners.length; i < l; i++) {\n      listeners[i].apply(this, args);\n    }\n    return true;\n\n  } else {\n    return false;\n  }\n};\n\n// EventEmitter is defined in src/node_events.cc\n// EventEmitter.prototype.emit() is also defined there.\nEventEmitter.prototype.addListener = function(type, listener) {\n  if ('function' !== typeof listener) {\n    throw new Error('addListener only takes instances of Function');\n  }\n\n  if (!this._events) this._events = {};\n\n  // To avoid recursion in the case that type == \"newListeners\"! Before\n  // adding it to the listeners, first emit \"newListeners\".\n  this.emit('newListener', type, listener);\n\n  if (!this._events[type]) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  } else if (isArray(this._events[type])) {\n\n    // Check for listener leak\n    if (!this._events[type].warned) {\n      var m;\n      if (this._events.maxListeners !== undefined) {\n        m = this._events.maxListeners;\n      } else {\n        m = defaultMaxListeners;\n      }\n\n      if (m && m > 0 && this._events[type].length > m) {\n        this._events[type].warned = true;\n        console.error('(node) warning: possible EventEmitter memory ' +\n                      'leak detected. %d listeners added. ' +\n                      'Use emitter.setMaxListeners() to increase limit.',\n                      this._events[type].length);\n        console.trace();\n      }\n    }\n\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  } else {\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  var self = this;\n  self.on(type, function g() {\n    self.removeListener(type, g);\n    listener.apply(this, arguments);\n  });\n\n  return this;\n};\n\nEventEmitter.prototype.removeListener = function(type, listener) {\n  if ('function' !== typeof listener) {\n    throw new Error('removeListener only takes instances of Function');\n  }\n\n  // does not use listeners(), so no side effect of creating _events[type]\n  if (!this._events || !this._events[type]) return this;\n\n  var list = this._events[type];\n\n  if (isArray(list)) {\n    var i = list.indexOf(listener);\n    if (i < 0) return this;\n    list.splice(i, 1);\n    if (list.length == 0)\n      delete this._events[type];\n  } else if (this._events[type] === listener) {\n    delete this._events[type];\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  // does not use listeners(), so no side effect of creating _events[type]\n  if (type && this._events && this._events[type]) this._events[type] = null;\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  if (!this._events) this._events = {};\n  if (!this._events[type]) this._events[type] = [];\n  if (!isArray(this._events[type])) {\n    this._events[type] = [this._events[type]];\n  }\n  return this._events[type];\n};\n\n//@ sourceURL=events"
));

require.define("/src/shared/vars.js",Function(['require','module','exports','__dirname','__filename','process','global'],"// jshint -W001\n\n\"use strict\";\n\n// Identifiers provided by the ECMAScript standard.\n\nexports.reservedVars = {\n\targuments : false,\n\tNaN       : false\n};\n\nexports.ecmaIdentifiers = {\n\tArray              : false,\n\tBoolean            : false,\n\tDate               : false,\n\tdecodeURI          : false,\n\tdecodeURIComponent : false,\n\tencodeURI          : false,\n\tencodeURIComponent : false,\n\tError              : false,\n\t\"eval\"             : false,\n\tEvalError          : false,\n\tFunction           : false,\n\thasOwnProperty     : false,\n\tisFinite           : false,\n\tisNaN              : false,\n\tJSON               : false,\n\tMath               : false,\n\tMap                : false,\n\tNumber             : false,\n\tObject             : false,\n\tparseInt           : false,\n\tparseFloat         : false,\n\tRangeError         : false,\n\tReferenceError     : false,\n\tRegExp             : false,\n\tSet                : false,\n\tString             : false,\n\tSyntaxError        : false,\n\tTypeError          : false,\n\tURIError           : false,\n\tWeakMap            : false\n};\n\n// Global variables commonly provided by a web browser environment.\n\nexports.browser = {\n\tArrayBuffer          : false,\n\tArrayBufferView      : false,\n\tAudio                : false,\n\tBlob                 : false,\n\taddEventListener     : false,\n\tapplicationCache     : false,\n\tatob                 : false,\n\tblur                 : false,\n\tbtoa                 : false,\n\tclearInterval        : false,\n\tclearTimeout         : false,\n\tclose                : false,\n\tclosed               : false,\n\tDataView             : false,\n\tDOMParser            : false,\n\tdefaultStatus        : false,\n\tdocument             : false,\n\tElement              : false,\n\tevent                : false,\n\tFileReader           : false,\n\tFloat32Array         : false,\n\tFloat64Array         : false,\n\tFormData             : false,\n\tfocus                : false,\n\tframes               : false,\n\tgetComputedStyle     : false,\n\tHTMLElement          : false,\n\tHTMLAnchorElement    : false,\n\tHTMLBaseElement      : false,\n\tHTMLBlockquoteElement: false,\n\tHTMLBodyElement      : false,\n\tHTMLBRElement        : false,\n\tHTMLButtonElement    : false,\n\tHTMLCanvasElement    : false,\n\tHTMLDirectoryElement : false,\n\tHTMLDivElement       : false,\n\tHTMLDListElement     : false,\n\tHTMLFieldSetElement  : false,\n\tHTMLFontElement      : false,\n\tHTMLFormElement      : false,\n\tHTMLFrameElement     : false,\n\tHTMLFrameSetElement  : false,\n\tHTMLHeadElement      : false,\n\tHTMLHeadingElement   : false,\n\tHTMLHRElement        : false,\n\tHTMLHtmlElement      : false,\n\tHTMLIFrameElement    : false,\n\tHTMLImageElement     : false,\n\tHTMLInputElement     : false,\n\tHTMLIsIndexElement   : false,\n\tHTMLLabelElement     : false,\n\tHTMLLayerElement     : false,\n\tHTMLLegendElement    : false,\n\tHTMLLIElement        : false,\n\tHTMLLinkElement      : false,\n\tHTMLMapElement       : false,\n\tHTMLMenuElement      : false,\n\tHTMLMetaElement      : false,\n\tHTMLModElement       : false,\n\tHTMLObjectElement    : false,\n\tHTMLOListElement     : false,\n\tHTMLOptGroupElement  : false,\n\tHTMLOptionElement    : false,\n\tHTMLParagraphElement : false,\n\tHTMLParamElement     : false,\n\tHTMLPreElement       : false,\n\tHTMLQuoteElement     : false,\n\tHTMLScriptElement    : false,\n\tHTMLSelectElement    : false,\n\tHTMLStyleElement     : false,\n\tHTMLTableCaptionElement: false,\n\tHTMLTableCellElement : false,\n\tHTMLTableColElement  : false,\n\tHTMLTableElement     : false,\n\tHTMLTableRowElement  : false,\n\tHTMLTableSectionElement: false,\n\tHTMLTextAreaElement  : false,\n\tHTMLTitleElement     : false,\n\tHTMLUListElement     : false,\n\tHTMLVideoElement     : false,\n\thistory              : false,\n\tInt16Array           : false,\n\tInt32Array           : false,\n\tInt8Array            : false,\n\tImage                : false,\n\tlength               : false,\n\tlocalStorage         : false,\n\tlocation             : false,\n\tMessageChannel       : false,\n\tMessageEvent         : false,\n\tMessagePort          : false,\n\tmoveBy               : false,\n\tmoveTo               : false,\n\tMutationObserver     : false,\n\tname                 : false,\n\tNode                 : false,\n\tNodeFilter           : false,\n\tnavigator            : false,\n\tonbeforeunload       : true,\n\tonblur               : true,\n\tonerror              : true,\n\tonfocus              : true,\n\tonload               : true,\n\tonresize             : true,\n\tonunload             : true,\n\topen                 : false,\n\topenDatabase         : false,\n\topener               : false,\n\tOption               : false,\n\tparent               : false,\n\tprint                : false,\n\tremoveEventListener  : false,\n\tresizeBy             : false,\n\tresizeTo             : false,\n\tscreen               : false,\n\tscroll               : false,\n\tscrollBy             : false,\n\tscrollTo             : false,\n\tsessionStorage       : false,\n\tsetInterval          : false,\n\tsetTimeout           : false,\n\tSharedWorker         : false,\n\tstatus               : false,\n\ttop                  : false,\n\tUint16Array          : false,\n\tUint32Array          : false,\n\tUint8Array           : false,\n\tUint8ClampedArray    : false,\n\tWebSocket            : false,\n\twindow               : false,\n\tWorker               : false,\n\tXMLHttpRequest       : false,\n\tXMLSerializer        : false,\n\tXPathEvaluator       : false,\n\tXPathException       : false,\n\tXPathExpression      : false,\n\tXPathNamespace       : false,\n\tXPathNSResolver      : false,\n\tXPathResult          : false\n};\n\nexports.devel = {\n\talert  : false,\n\tconfirm: false,\n\tconsole: false,\n\tDebug  : false,\n\topera  : false,\n\tprompt : false\n};\n\nexports.worker = {\n\timportScripts: true,\n\tpostMessage  : true,\n\tself         : true\n};\n\n// Widely adopted global names that are not part of ECMAScript standard\nexports.nonstandard = {\n\tescape  : false,\n\tunescape: false\n};\n\n// Globals provided by popular JavaScript environments.\n\nexports.couch = {\n\t\"require\" : false,\n\trespond   : false,\n\tgetRow    : false,\n\temit      : false,\n\tsend      : false,\n\tstart     : false,\n\tsum       : false,\n\tlog       : false,\n\texports   : false,\n\tmodule    : false,\n\tprovides  : false\n};\n\nexports.node = {\n\t__filename   : false,\n\t__dirname    : false,\n\tBuffer       : false,\n\tDataView     : false,\n\tconsole      : false,\n\texports      : true,  // In Node it is ok to exports = module.exports = foo();\n\tGLOBAL       : false,\n\tglobal       : false,\n\tmodule       : false,\n\tprocess      : false,\n\trequire      : false,\n\tsetTimeout   : false,\n\tclearTimeout : false,\n\tsetInterval  : false,\n\tclearInterval: false\n};\n\nexports.phantom = {\n\tphantom      : true,\n\trequire      : true,\n\tWebPage      : true\n};\n\nexports.rhino = {\n\tdefineClass  : false,\n\tdeserialize  : false,\n\tgc           : false,\n\thelp         : false,\n\timportPackage: false,\n\t\"java\"       : false,\n\tload         : false,\n\tloadClass    : false,\n\tprint        : false,\n\tquit         : false,\n\treadFile     : false,\n\treadUrl      : false,\n\trunCommand   : false,\n\tseal         : false,\n\tserialize    : false,\n\tspawn        : false,\n\tsync         : false,\n\ttoint32      : false,\n\tversion      : false\n};\n\nexports.wsh = {\n\tActiveXObject            : true,\n\tEnumerator               : true,\n\tGetObject                : true,\n\tScriptEngine             : true,\n\tScriptEngineBuildVersion : true,\n\tScriptEngineMajorVersion : true,\n\tScriptEngineMinorVersion : true,\n\tVBArray                  : true,\n\tWSH                      : true,\n\tWScript                  : true,\n\tXDomainRequest           : true\n};\n\n// Globals provided by popular JavaScript libraries.\n\nexports.dojo = {\n\tdojo     : false,\n\tdijit    : false,\n\tdojox    : false,\n\tdefine\t : false,\n\t\"require\": false\n};\n\nexports.jquery = {\n\t\"$\"    : false,\n\tjQuery : false\n};\n\nexports.mootools = {\n\t\"$\"           : false,\n\t\"$$\"          : false,\n\tAsset         : false,\n\tBrowser       : false,\n\tChain         : false,\n\tClass         : false,\n\tColor         : false,\n\tCookie        : false,\n\tCore          : false,\n\tDocument      : false,\n\tDomReady      : false,\n\tDOMEvent      : false,\n\tDOMReady      : false,\n\tDrag          : false,\n\tElement       : false,\n\tElements      : false,\n\tEvent         : false,\n\tEvents        : false,\n\tFx            : false,\n\tGroup         : false,\n\tHash          : false,\n\tHtmlTable     : false,\n\tIframe        : false,\n\tIframeShim    : false,\n\tInputValidator: false,\n\tinstanceOf    : false,\n\tKeyboard      : false,\n\tLocale        : false,\n\tMask          : false,\n\tMooTools      : false,\n\tNative        : false,\n\tOptions       : false,\n\tOverText      : false,\n\tRequest       : false,\n\tScroller      : false,\n\tSlick         : false,\n\tSlider        : false,\n\tSortables     : false,\n\tSpinner       : false,\n\tSwiff         : false,\n\tTips          : false,\n\tType          : false,\n\ttypeOf        : false,\n\tURI           : false,\n\tWindow        : false\n};\n\nexports.prototypejs = {\n\t\"$\"               : false,\n\t\"$$\"              : false,\n\t\"$A\"              : false,\n\t\"$F\"              : false,\n\t\"$H\"              : false,\n\t\"$R\"              : false,\n\t\"$break\"          : false,\n\t\"$continue\"       : false,\n\t\"$w\"              : false,\n\tAbstract          : false,\n\tAjax              : false,\n\tClass             : false,\n\tEnumerable        : false,\n\tElement           : false,\n\tEvent             : false,\n\tField             : false,\n\tForm              : false,\n\tHash              : false,\n\tInsertion         : false,\n\tObjectRange       : false,\n\tPeriodicalExecuter: false,\n\tPosition          : false,\n\tPrototype         : false,\n\tSelector          : false,\n\tTemplate          : false,\n\tToggle            : false,\n\tTry               : false,\n\tAutocompleter     : false,\n\tBuilder           : false,\n\tControl           : false,\n\tDraggable         : false,\n\tDraggables        : false,\n\tDroppables        : false,\n\tEffect            : false,\n\tSortable          : false,\n\tSortableObserver  : false,\n\tSound             : false,\n\tScriptaculous     : false\n};\n\nexports.yui = {\n\tYUI       : false,\n\tY         : false,\n\tYUI_config: false\n};\n\n\n//@ sourceURL=/src/shared/vars.js"
));

require.define("/src/shared/messages.js",Function(['require','module','exports','__dirname','__filename','process','global'],"\"use strict\";\n\nvar _ = require(\"underscore\");\n\nvar errors = {\n\t// JSHint options\n\tE001: \"Bad option: '{a}'.\",\n\tE002: \"Bad option value.\",\n\n\t// JSHint input\n\tE003: \"Expected a JSON value.\",\n\tE004: \"Input is neither a string nor an array of strings.\",\n\tE005: \"Input is empty.\",\n\tE006: \"Unexpected early end of program.\",\n\n\t// Strict mode\n\tE007: \"Missing \\\"use strict\\\" statement.\",\n\tE008: \"Strict violation.\",\n\tE009: \"Option 'validthis' can't be used in a global scope.\",\n\tE010: \"'with' is not allowed in strict mode.\",\n\n\t// Constants\n\tE011: \"const '{a}' has already been declared.\",\n\tE012: \"const '{a}' is initialized to 'undefined'.\",\n\tE013: \"Attempting to override '{a}' which is a constant.\",\n\n\t// Regular expressions\n\tE014: \"A regular expression literal can be confused with '/='.\",\n\tE015: \"Unclosed regular expression.\",\n\tE016: \"Invalid regular expression.\",\n\n\t// Tokens\n\tE017: \"Unclosed comment.\",\n\tE018: \"Unbegun comment.\",\n\tE019: \"Unmatched '{a}'.\",\n\tE020: \"Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.\",\n\tE021: \"Expected '{a}' and instead saw '{b}'.\",\n\tE022: \"Line breaking error '{a}'.\",\n\tE023: \"Missing '{a}'.\",\n\tE024: \"Unexpected '{a}'.\",\n\tE025: \"Missing ':' on a case clause.\",\n\tE026: \"Missing '}' to match '{' from line {a}.\",\n\tE027: \"Missing ']' to match '[' form line {a}.\",\n\tE028: \"Illegal comma.\",\n\tE029: \"Unclosed string.\",\n\n\t// Everything else\n\tE030: \"Expected an identifier and instead saw '{a}'.\",\n\tE031: \"Bad assignment.\", // FIXME: Rephrase\n\tE032: \"Expected a small integer and instead saw '{a}'.\",\n\tE033: \"Expected an operator and instead saw '{a}'.\",\n\tE034: \"get/set are ES5 features.\",\n\tE035: \"Missing property name.\",\n\tE036: \"Expected to see a statement and instead saw a block.\",\n\tE037: \"Constant {a} was not declared correctly.\",\n\tE038: \"Variable {a} was not declared correctly.\",\n\tE039: \"Function declarations are not invocable. Wrap the whole function invocation in parens.\",\n\tE040: \"Each value should have its own case label.\",\n\tE041: \"Unrecoverable syntax error.\",\n\tE042: \"Stopping.\",\n\tE043: \"Too many errors.\"\n};\n\nvar warnings = {\n\tW001: \"'hasOwnProperty' is a really bad name.\",\n\tW002: \"Value of '{a}' may be overwritten in IE.\",\n\tW003: \"'{a}' was used before it was defined.\",\n\tW004: \"'{a}' is already defined.\",\n\tW005: \"A dot following a number can be confused with a decimal point.\",\n\tW006: \"Confusing minuses.\",\n\tW007: \"Confusing pluses.\",\n\tW008: \"A leading decimal point can be confused with a dot: '{a}'.\",\n\tW009: \"The array literal notation [] is preferrable.\",\n\tW010: \"The object literal notation {} is preferrable.\",\n\tW011: \"Unexpected space after '{a}'.\",\n\tW012: \"Unexpected space before '{a}'.\",\n\tW013: \"Missing space after '{a}'.\",\n\tW014: \"Bad line breaking before '{a}'.\",\n\tW015: \"Expected '{a}' to have an indentation at {b} instead at {c}.\",\n\tW016: \"Unexpected use of '{a}'.\",\n\tW017: \"Bad operand.\",\n\tW018: \"Confusing use of '{a}'.\",\n\tW019: \"Use the isNaN function to compare with NaN.\",\n\tW020: \"Read only.\",\n\tW021: \"'{a}' is a function.\",\n\tW022: \"Do not assign to the exception parameter.\",\n\tW023: \"Expected an identifier in an assignment and instead saw a function invocation.\",\n\tW024: \"Expected an identifier and instead saw '{a}' (a reserved word).\",\n\tW025: \"Missing name in function declaration.\",\n\tW026: \"Inner functions should be listed at the top of the outer function.\",\n\tW027: \"Unreachable '{a}' after '{b}'.\",\n\tW028: \"Label '{a}' on {b} statement.\",\n\tW029: \"Label '{a}' looks like a javascript url.\",\n\tW030: \"Expected an assignment or function call and instead saw an expression.\",\n\tW031: \"Do not use 'new' for side effects.\",\n\tW032: \"Unnecessary semicolon.\",\n\tW033: \"Missing semicolon.\",\n\tW034: \"Unnecessary directive \\\"{a}\\\".\",\n\tW035: \"Empty block.\",\n\tW036: \"Unexpected /*member '{a}'.\",\n\tW037: \"'{a}' is a statement label.\",\n\tW038: \"'{a}' used out of scope.\",\n\tW039: \"'{a}' is not allowed.\",\n\tW040: \"Possible strict violation.\",\n\tW041: \"Use '{a}' to compare with '{b}'.\",\n\tW042: \"Avoid EOL escaping.\",\n\tW043: \"Bad escaping of EOL. Use option multistr if needed.\",\n\tW044: \"Bad escaping.\",\n\tW045: \"Bad number '{a}'.\",\n\tW046: \"Don't use extra leading zeros '{a}'.\",\n\tW047: \"A trailing decimal point can be confused with a dot: '{a}'.\",\n\tW048: \"Unexpected control character in regular expression.\",\n\tW049: \"Unexpected escaped character '{a}' in regular expression.\",\n\tW050: \"JavaScript URL.\",\n\tW051: \"Variables should not be deleted.\",\n\tW052: \"Unexpected '{a}'.\",\n\tW053: \"Do not use {a} as a constructor.\",\n\tW054: \"The Function constructor is a form of eval.\",\n\tW055: \"A constructor name should start with an uppercase letter.\",\n\tW056: \"Bad constructor.\",\n\tW057: \"Weird construction. Is 'new' unnecessary?\",\n\tW058: \"Missing '()' invoking a constructor.\",\n\tW059: \"Avoid arguments.{a}.\",\n\tW060: \"document.write can be a form of eval.\",\n\tW061: \"eval can be harmful.\",\n\tW062: \"Wrap an immediate function invocation in parens \" +\n\t\t\"to assist the reader in understanding that the expression \" +\n\t\t\"is the result of a function, and not the function itself.\",\n\tW063: \"Math is not a function.\",\n\tW064: \"Missing 'new' prefix when invoking a constructor.\",\n\tW065: \"Missing radix parameter.\",\n\tW066: \"Implied eval. Consider passing a function instead of a string.\",\n\tW067: \"Bad invocation.\",\n\tW068: \"Wrapping non-IIFE function literals in parens is unnecessary.\",\n\tW069: \"['{a}'] is better written in dot notation.\",\n\tW070: \"Extra comma. (it breaks older versions of IE)\",\n\tW071: \"This function has too many statements. ({a})\",\n\tW072: \"This function has too many parameters. ({a})\",\n\tW073: \"Blocks are nested too deeply. ({a})\",\n\tW074: \"This function's cyclomatic complexity is too high. ({a})\",\n\tW075: \"Duplicate key '{a}'.\",\n\tW076: \"Unexpected parameter '{a}' in get {b} function.\",\n\tW077: \"Expected a single parameter in set {a} function.\",\n\tW078: \"Setter is defined without getter.\",\n\tW079: \"Redefinition of '{a}'.\",\n\tW080: \"It's not necessary to initialize '{a}' to 'undefined'.\",\n\tW081: \"Too many var statements.\",\n\tW082: \"Function declarations should not be placed in blocks. \" +\n\t\t\"Use a function expression or move the statement to the top of \" +\n\t\t\"the outer function.\",\n\tW083: \"Don't make functions within a loop.\",\n\tW084: \"Expected a conditional expression and instead saw an assignment.\",\n\tW085: \"Don't use 'with'.\",\n\tW086: \"Expected a 'break' statement before '{a}'.\",\n\tW087: \"Forgotten 'debugger' statement?\",\n\tW088: \"Creating global 'for' variable. Should be 'for (var {a} ...'.\",\n\tW089: \"The body of a for in should be wrapped in an if statement to filter \" +\n\t\t\"unwanted properties from the prototype.\",\n\tW090: \"'{a}' is not a statement label.\",\n\tW091: \"'{a}' is out of scope.\",\n\tW092: \"Wrap the /regexp/ literal in parens to disambiguate the slash operator.\",\n\tW093: \"Did you mean to return a conditional instead of an assignment?\",\n\tW094: \"Unexpected comma.\",\n\tW095: \"Expected a string and instead saw {a}.\",\n\tW096: \"The '{a}' key may produce unexpected results.\",\n\tW097: \"Use the function form of \\\"use strict\\\".\",\n\tW098: \"'{a}' is defined but never used.\",\n\tW099: \"Mixed spaces and tabs.\",\n\tW100: \"This character may get silently deleted by one or more browsers.\",\n\tW101: \"Line is too long.\",\n\tW102: \"Trailing whitespace.\",\n\tW103: \"The '{a}' property is deprecated.\",\n\tW104: \"'{a}' is only available in JavaScript 1.7.\",\n\tW105: \"Unexpected {a} in '{b}'.\",\n\tW106: \"Identifier '{a}' is not in camel case.\",\n\tW107: \"Script URL.\",\n\tW108: \"Strings must use doublequote.\",\n\tW109: \"Strings must use singlequote.\",\n\tW110: \"Mixed double and single quotes.\",\n\tW112: \"Unclosed string.\",\n\tW113: \"Control character in string: {a}.\",\n\tW114: \"Avoid {a}.\",\n\tW115: \"Octal literals are not allowed in strict mode.\",\n\tW116: \"Expected '{a}' and instead saw '{b}'.\",\n\tW117: \"'{a}' is not defined.\",\n};\n\nvar info = {\n\tI001: \"Comma warnings can be turned off with 'laxcomma'.\"\n};\n\nexports.errors = {};\nexports.warnings = {};\nexports.info = {};\n\n_.each(errors, function (desc, code) {\n\texports.errors[code] = { code: code, desc: desc };\n});\n\n_.each(warnings, function (desc, code) {\n\texports.warnings[code] = { code: code, desc: desc };\n});\n\n_.each(info, function (desc, code) {\n\texports.info[code] = { code: code, desc: desc };\n});\n\n//@ sourceURL=/src/shared/messages.js"
));

require.define("/src/stable/lex.js",Function(['require','module','exports','__dirname','__filename','process','global'],"/*\n * Lexical analysis and token construction.\n */\n\n\"use strict\";\n\nvar _      = require(\"underscore\");\nvar events = require(\"events\");\nvar reg    = require(\"./reg.js\");\nvar state  = require(\"./state.js\").state;\n\n// Some of these token types are from JavaScript Parser API\n// while others are specific to JSHint parser.\n// JS Parser API: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\nvar Token = {\n\tIdentifier: 1,\n\tPunctuator: 2,\n\tNumericLiteral: 3,\n\tStringLiteral: 4,\n\tComment: 5,\n\tKeyword: 6,\n\tNullLiteral: 7,\n\tBooleanLiteral: 8,\n\tRegExp: 9\n};\n\n// This is auto generated from the unicode tables.\n// The tables are at:\n// http://www.fileformat.info/info/unicode/category/Lu/list.htm\n// http://www.fileformat.info/info/unicode/category/Ll/list.htm\n// http://www.fileformat.info/info/unicode/category/Lt/list.htm\n// http://www.fileformat.info/info/unicode/category/Lm/list.htm\n// http://www.fileformat.info/info/unicode/category/Lo/list.htm\n// http://www.fileformat.info/info/unicode/category/Nl/list.htm\n\nvar unicodeLetterTable = [\n\t170, 170, 181, 181, 186, 186, 192, 214,\n\t216, 246, 248, 705, 710, 721, 736, 740, 748, 748, 750, 750,\n\t880, 884, 886, 887, 890, 893, 902, 902, 904, 906, 908, 908,\n\t910, 929, 931, 1013, 1015, 1153, 1162, 1319, 1329, 1366,\n\t1369, 1369, 1377, 1415, 1488, 1514, 1520, 1522, 1568, 1610,\n\t1646, 1647, 1649, 1747, 1749, 1749, 1765, 1766, 1774, 1775,\n\t1786, 1788, 1791, 1791, 1808, 1808, 1810, 1839, 1869, 1957,\n\t1969, 1969, 1994, 2026, 2036, 2037, 2042, 2042, 2048, 2069,\n\t2074, 2074, 2084, 2084, 2088, 2088, 2112, 2136, 2308, 2361,\n\t2365, 2365, 2384, 2384, 2392, 2401, 2417, 2423, 2425, 2431,\n\t2437, 2444, 2447, 2448, 2451, 2472, 2474, 2480, 2482, 2482,\n\t2486, 2489, 2493, 2493, 2510, 2510, 2524, 2525, 2527, 2529,\n\t2544, 2545, 2565, 2570, 2575, 2576, 2579, 2600, 2602, 2608,\n\t2610, 2611, 2613, 2614, 2616, 2617, 2649, 2652, 2654, 2654,\n\t2674, 2676, 2693, 2701, 2703, 2705, 2707, 2728, 2730, 2736,\n\t2738, 2739, 2741, 2745, 2749, 2749, 2768, 2768, 2784, 2785,\n\t2821, 2828, 2831, 2832, 2835, 2856, 2858, 2864, 2866, 2867,\n\t2869, 2873, 2877, 2877, 2908, 2909, 2911, 2913, 2929, 2929,\n\t2947, 2947, 2949, 2954, 2958, 2960, 2962, 2965, 2969, 2970,\n\t2972, 2972, 2974, 2975, 2979, 2980, 2984, 2986, 2990, 3001,\n\t3024, 3024, 3077, 3084, 3086, 3088, 3090, 3112, 3114, 3123,\n\t3125, 3129, 3133, 3133, 3160, 3161, 3168, 3169, 3205, 3212,\n\t3214, 3216, 3218, 3240, 3242, 3251, 3253, 3257, 3261, 3261,\n\t3294, 3294, 3296, 3297, 3313, 3314, 3333, 3340, 3342, 3344,\n\t3346, 3386, 3389, 3389, 3406, 3406, 3424, 3425, 3450, 3455,\n\t3461, 3478, 3482, 3505, 3507, 3515, 3517, 3517, 3520, 3526,\n\t3585, 3632, 3634, 3635, 3648, 3654, 3713, 3714, 3716, 3716,\n\t3719, 3720, 3722, 3722, 3725, 3725, 3732, 3735, 3737, 3743,\n\t3745, 3747, 3749, 3749, 3751, 3751, 3754, 3755, 3757, 3760,\n\t3762, 3763, 3773, 3773, 3776, 3780, 3782, 3782, 3804, 3805,\n\t3840, 3840, 3904, 3911, 3913, 3948, 3976, 3980, 4096, 4138,\n\t4159, 4159, 4176, 4181, 4186, 4189, 4193, 4193, 4197, 4198,\n\t4206, 4208, 4213, 4225, 4238, 4238, 4256, 4293, 4304, 4346,\n\t4348, 4348, 4352, 4680, 4682, 4685, 4688, 4694, 4696, 4696,\n\t4698, 4701, 4704, 4744, 4746, 4749, 4752, 4784, 4786, 4789,\n\t4792, 4798, 4800, 4800, 4802, 4805, 4808, 4822, 4824, 4880,\n\t4882, 4885, 4888, 4954, 4992, 5007, 5024, 5108, 5121, 5740,\n\t5743, 5759, 5761, 5786, 5792, 5866, 5870, 5872, 5888, 5900,\n\t5902, 5905, 5920, 5937, 5952, 5969, 5984, 5996, 5998, 6000,\n\t6016, 6067, 6103, 6103, 6108, 6108, 6176, 6263, 6272, 6312,\n\t6314, 6314, 6320, 6389, 6400, 6428, 6480, 6509, 6512, 6516,\n\t6528, 6571, 6593, 6599, 6656, 6678, 6688, 6740, 6823, 6823,\n\t6917, 6963, 6981, 6987, 7043, 7072, 7086, 7087, 7104, 7141,\n\t7168, 7203, 7245, 7247, 7258, 7293, 7401, 7404, 7406, 7409,\n\t7424, 7615, 7680, 7957, 7960, 7965, 7968, 8005, 8008, 8013,\n\t8016, 8023, 8025, 8025, 8027, 8027, 8029, 8029, 8031, 8061,\n\t8064, 8116, 8118, 8124, 8126, 8126, 8130, 8132, 8134, 8140,\n\t8144, 8147, 8150, 8155, 8160, 8172, 8178, 8180, 8182, 8188,\n\t8305, 8305, 8319, 8319, 8336, 8348, 8450, 8450, 8455, 8455,\n\t8458, 8467, 8469, 8469, 8473, 8477, 8484, 8484, 8486, 8486,\n\t8488, 8488, 8490, 8493, 8495, 8505, 8508, 8511, 8517, 8521,\n\t8526, 8526, 8544, 8584, 11264, 11310, 11312, 11358,\n\t11360, 11492, 11499, 11502, 11520, 11557, 11568, 11621,\n\t11631, 11631, 11648, 11670, 11680, 11686, 11688, 11694,\n\t11696, 11702, 11704, 11710, 11712, 11718, 11720, 11726,\n\t11728, 11734, 11736, 11742, 11823, 11823, 12293, 12295,\n\t12321, 12329, 12337, 12341, 12344, 12348, 12353, 12438,\n\t12445, 12447, 12449, 12538, 12540, 12543, 12549, 12589,\n\t12593, 12686, 12704, 12730, 12784, 12799, 13312, 13312,\n\t19893, 19893, 19968, 19968, 40907, 40907, 40960, 42124,\n\t42192, 42237, 42240, 42508, 42512, 42527, 42538, 42539,\n\t42560, 42606, 42623, 42647, 42656, 42735, 42775, 42783,\n\t42786, 42888, 42891, 42894, 42896, 42897, 42912, 42921,\n\t43002, 43009, 43011, 43013, 43015, 43018, 43020, 43042,\n\t43072, 43123, 43138, 43187, 43250, 43255, 43259, 43259,\n\t43274, 43301, 43312, 43334, 43360, 43388, 43396, 43442,\n\t43471, 43471, 43520, 43560, 43584, 43586, 43588, 43595,\n\t43616, 43638, 43642, 43642, 43648, 43695, 43697, 43697,\n\t43701, 43702, 43705, 43709, 43712, 43712, 43714, 43714,\n\t43739, 43741, 43777, 43782, 43785, 43790, 43793, 43798,\n\t43808, 43814, 43816, 43822, 43968, 44002, 44032, 44032,\n\t55203, 55203, 55216, 55238, 55243, 55291, 63744, 64045,\n\t64048, 64109, 64112, 64217, 64256, 64262, 64275, 64279,\n\t64285, 64285, 64287, 64296, 64298, 64310, 64312, 64316,\n\t64318, 64318, 64320, 64321, 64323, 64324, 64326, 64433,\n\t64467, 64829, 64848, 64911, 64914, 64967, 65008, 65019,\n\t65136, 65140, 65142, 65276, 65313, 65338, 65345, 65370,\n\t65382, 65470, 65474, 65479, 65482, 65487, 65490, 65495,\n\t65498, 65500, 65536, 65547, 65549, 65574, 65576, 65594,\n\t65596, 65597, 65599, 65613, 65616, 65629, 65664, 65786,\n\t65856, 65908, 66176, 66204, 66208, 66256, 66304, 66334,\n\t66352, 66378, 66432, 66461, 66464, 66499, 66504, 66511,\n\t66513, 66517, 66560, 66717, 67584, 67589, 67592, 67592,\n\t67594, 67637, 67639, 67640, 67644, 67644, 67647, 67669,\n\t67840, 67861, 67872, 67897, 68096, 68096, 68112, 68115,\n\t68117, 68119, 68121, 68147, 68192, 68220, 68352, 68405,\n\t68416, 68437, 68448, 68466, 68608, 68680, 69635, 69687,\n\t69763, 69807, 73728, 74606, 74752, 74850, 77824, 78894,\n\t92160, 92728, 110592, 110593, 119808, 119892, 119894, 119964,\n\t119966, 119967, 119970, 119970, 119973, 119974, 119977, 119980,\n\t119982, 119993, 119995, 119995, 119997, 120003, 120005, 120069,\n\t120071, 120074, 120077, 120084, 120086, 120092, 120094, 120121,\n\t120123, 120126, 120128, 120132, 120134, 120134, 120138, 120144,\n\t120146, 120485, 120488, 120512, 120514, 120538, 120540, 120570,\n\t120572, 120596, 120598, 120628, 120630, 120654, 120656, 120686,\n\t120688, 120712, 120714, 120744, 120746, 120770, 120772, 120779,\n\t131072, 131072, 173782, 173782, 173824, 173824, 177972, 177972,\n\t177984, 177984, 178205, 178205, 194560, 195101\n];\n\nvar identifierStartTable = [];\n\nfor (var i = 0; i < 128; i++) {\n\tidentifierStartTable[i] =\n\t\ti === 36 ||           // $\n\t\ti >= 65 && i <= 90 || // A-Z\n\t\ti === 95 ||           // _\n\t\ti >= 97 && i <= 122;  // a-z\n}\n\nvar identifierPartTable = [];\n\nfor (var i = 0; i < 128; i++) {\n\tidentifierPartTable[i] =\n\t\tidentifierStartTable[i] || // $, _, A-Z, a-z\n\t\ti >= 48 && i <= 57;        // 0-9\n}\n\n/*\n * Lexer for JSHint.\n *\n * This object does a char-by-char scan of the provided source code\n * and produces a sequence of tokens.\n *\n *   var lex = new Lexer(\"var i = 0;\");\n *   lex.start();\n *   lex.token(); // returns the next token\n *\n * You have to use the token() method to move the lexer forward\n * but you don't have to use its return value to get tokens. In addition\n * to token() method returning the next token, the Lexer object also\n * emits events.\n *\n *   lex.on(\"Identifier\", function (data) {\n *     if (data.name.indexOf(\"_\") >= 0) {\n *       // Produce a warning.\n *     }\n *   });\n *\n * Note that the token() method returns tokens in a JSLint-compatible\n * format while the event emitter uses a slightly modified version of\n * Mozilla's JavaScript Parser API. Eventually, we will move away from\n * JSLint format.\n */\nfunction Lexer(source) {\n\tvar lines = source;\n\n\tif (typeof lines === \"string\") {\n\t\tlines = lines\n\t\t\t.replace(/\\r\\n/g, \"\\n\")\n\t\t\t.replace(/\\r/g, \"\\n\")\n\t\t\t.split(\"\\n\");\n\t}\n\n\t// If the first line is a shebang (#!), make it a blank and move on.\n\t// Shebangs are used by Node scripts.\n\n\tif (lines[0] && lines[0].substr(0, 2) === \"#!\") {\n\t\tlines[0] = \"\";\n\t}\n\n\tthis.emitter = new events.EventEmitter();\n\tthis.source = source;\n\tthis.lines = lines;\n\tthis.prereg = true;\n\n\tthis.line = 0;\n\tthis.char = 1;\n\tthis.from = 1;\n\tthis.input = \"\";\n\n\tfor (var i = 0; i < state.option.indent; i += 1) {\n\t\tstate.tab += \" \";\n\t}\n}\n\nLexer.prototype = {\n\t_lines: [],\n\n\tget lines() {\n\t\tthis._lines = state.lines;\n\t\treturn this._lines;\n\t},\n\n\tset lines(val) {\n\t\tthis._lines = val;\n\t\tstate.lines = this._lines;\n\t},\n\n\t/*\n\t * Return the next i character without actually moving the\n\t * char pointer.\n\t */\n\tpeek: function (i) {\n\t\treturn this.input.charAt(i || 0);\n\t},\n\n\t/*\n\t * Move the char pointer forward i times.\n\t */\n\tskip: function (i) {\n\t\ti = i || 1;\n\t\tthis.char += i;\n\t\tthis.input = this.input.slice(i);\n\t},\n\n\t/*\n\t * Subscribe to a token event. The API for this method is similar\n\t * Underscore.js i.e. you can subscribe to multiple events with\n\t * one call:\n\t *\n\t *   lex.on(\"Identifier Number\", function (data) {\n\t *     // ...\n\t *   });\n\t */\n\ton: function (names, listener) {\n\t\tnames.split(\" \").forEach(function (name) {\n\t\t\tthis.emitter.on(name, listener);\n\t\t}.bind(this));\n\t},\n\n\t/*\n\t * Trigger a token event. All arguments will be passed to each\n\t * listener.\n\t */\n\ttrigger: function () {\n\t\tthis.emitter.emit.apply(this.emitter, Array.prototype.slice.call(arguments));\n\t},\n\n\t/*\n\t * Extract a punctuator out of the next sequence of characters\n\t * or return 'null' if its not possible.\n\t *\n\t * This method's implementation was heavily influenced by the\n\t * scanPunctuator function in the Esprima parser's source code.\n\t */\n\tscanPunctuator: function () {\n\t\tvar ch1 = this.peek();\n\t\tvar ch2, ch3, ch4;\n\n\t\tswitch (ch1) {\n\t\t// Most common single-character punctuators\n\t\tcase \".\":\n\t\t\tif ((/^[0-9]$/).test(this.peek(1))) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t/* falls through */\n\t\tcase \"(\":\n\t\tcase \")\":\n\t\tcase \";\":\n\t\tcase \",\":\n\t\tcase \"{\":\n\t\tcase \"}\":\n\t\tcase \"[\":\n\t\tcase \"]\":\n\t\tcase \":\":\n\t\tcase \"~\":\n\t\tcase \"?\":\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: ch1\n\t\t\t};\n\n\t\t// A pound sign (for Node shebangs)\n\t\tcase \"#\":\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: ch1\n\t\t\t};\n\n\t\t// We're at the end of input\n\t\tcase \"\":\n\t\t\treturn null;\n\t\t}\n\n\t\t// Peek more characters\n\n\t\tch2 = this.peek(1);\n\t\tch3 = this.peek(2);\n\t\tch4 = this.peek(3);\n\n\t\t// 4-character punctuator: >>>=\n\n\t\tif (ch1 === \">\" && ch2 === \">\" && ch3 === \">\" && ch4 === \"=\") {\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: \">>>=\"\n\t\t\t};\n\t\t}\n\n\t\t// 3-character punctuators: === !== >>> <<= >>=\n\n\t\tif (ch1 === \"=\" && ch2 === \"=\" && ch3 === \"=\") {\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: \"===\"\n\t\t\t};\n\t\t}\n\n\t\tif (ch1 === \"!\" && ch2 === \"=\" && ch3 === \"=\") {\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: \"!==\"\n\t\t\t};\n\t\t}\n\n\t\tif (ch1 === \">\" && ch2 === \">\" && ch3 === \">\") {\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: \">>>\"\n\t\t\t};\n\t\t}\n\n\t\tif (ch1 === \"<\" && ch2 === \"<\" && ch3 === \"=\") {\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: \"<<=\"\n\t\t\t};\n\t\t}\n\n\t\tif (ch1 === \">\" && ch2 === \">\" && ch3 === \"=\") {\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: \"<<=\"\n\t\t\t};\n\t\t}\n\n\t\t// 2-character punctuators: <= >= == != ++ -- << >> && ||\n\t\t// += -= *= %= &= |= ^= (but not /=, see below)\n\t\tif (ch1 === ch2 && (\"+-<>&|\".indexOf(ch1) >= 0)) {\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: ch1 + ch2\n\t\t\t};\n\t\t}\n\n\t\tif (\"<>=!+-*%&|^\".indexOf(ch1) >= 0) {\n\t\t\tif (ch2 === \"=\") {\n\t\t\t\treturn {\n\t\t\t\t\ttype: Token.Punctuator,\n\t\t\t\t\tvalue: ch1 + ch2\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: ch1\n\t\t\t};\n\t\t}\n\n\t\t// Special case: /=. We need to make sure that this is an\n\t\t// operator and not a regular expression.\n\n\t\tif (ch1 === \"/\") {\n\t\t\tif (ch2 === \"=\" && /\\/=(?!(\\S*\\/[gim]?))/.test(this.input)) {\n\t\t\t\t// /= is not a part of a regular expression, return it as a\n\t\t\t\t// punctuator.\n\t\t\t\treturn {\n\t\t\t\t\ttype: Token.Punctuator,\n\t\t\t\t\tvalue: \"/=\"\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttype: Token.Punctuator,\n\t\t\t\tvalue: \"/\"\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/*\n\t * Extract a comment out of the next sequence of characters and/or\n\t * lines or return 'null' if its not possible. Since comments can\n\t * span across multiple lines this method has to move the char\n\t * pointer.\n\t *\n\t * In addition to normal JavaScript comments (// and /*) this method\n\t * also recognizes JSHint- and JSLint-specific comments such as\n\t * /*jshint, /*jslint, /*globals and so on.\n\t */\n\tscanComments: function () {\n\t\tvar ch1 = this.peek();\n\t\tvar ch2 = this.peek(1);\n\t\tvar rest = this.input.substr(2);\n\t\tvar startLine = this.line;\n\t\tvar startChar = this.char;\n\n\t\t// Create a comment token object and make sure it\n\t\t// has all the data JSHint needs to work with special\n\t\t// comments.\n\n\t\tfunction commentToken(label, body, opt) {\n\t\t\tvar special = [\"jshint\", \"jslint\", \"members\", \"member\", \"globals\", \"global\", \"exported\"];\n\t\t\tvar isSpecial = false;\n\t\t\tvar value = label + body;\n\t\t\tvar commentType = \"plain\";\n\t\t\topt = opt || {};\n\n\t\t\tif (opt.isMultiline) {\n\t\t\t\tvalue += \"*/\";\n\t\t\t}\n\n\t\t\tspecial.forEach(function (str) {\n\t\t\t\tif (isSpecial) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Don't recognize any special comments other than jshint for single-line\n\t\t\t\t// comments. This introduced many problems with legit comments.\n\t\t\t\tif (label === \"//\" && str !== \"jshint\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (body.substr(0, str.length) === str) {\n\t\t\t\t\tisSpecial = true;\n\t\t\t\t\tlabel = label + str;\n\t\t\t\t\tbody = body.substr(str.length);\n\t\t\t\t}\n\n\t\t\t\tif (!isSpecial && body.charAt(0) === \" \" && body.substr(1, str.length) === str) {\n\t\t\t\t\tisSpecial = true;\n\t\t\t\t\tlabel = label + \" \" + str;\n\t\t\t\t\tbody = body.substr(str.length + 1);\n\t\t\t\t}\n\n\t\t\t\tif (!isSpecial) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tswitch (str) {\n\t\t\t\tcase \"member\":\n\t\t\t\t\tcommentType = \"members\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"global\":\n\t\t\t\t\tcommentType = \"globals\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcommentType = str;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\ttype: Token.Comment,\n\t\t\t\tcommentType: commentType,\n\t\t\t\tvalue: value,\n\t\t\t\tbody: body,\n\t\t\t\tisSpecial: isSpecial,\n\t\t\t\tisMultiline: opt.isMultiline || false,\n\t\t\t\tisMalformed: opt.isMalformed || false\n\t\t\t};\n\t\t}\n\n\t\t// End of unbegun comment. Raise an error and skip that input.\n\t\tif (ch1 === \"*\" && ch2 === \"/\") {\n\t\t\tthis.trigger(\"error\", {\n\t\t\t\tcode: \"E018\",\n\t\t\t\tline: startLine,\n\t\t\t\tcharacter: startChar\n\t\t\t});\n\n\t\t\tthis.skip(2);\n\t\t\treturn null;\n\t\t}\n\n\t\t// Comments must start either with // or /*\n\t\tif (ch1 !== \"/\" || (ch2 !== \"*\" && ch2 !== \"/\")) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// One-line comment\n\t\tif (ch2 === \"/\") {\n\t\t\tthis.skip(this.input.length); // Skip to the EOL.\n\t\t\treturn commentToken(\"//\", rest);\n\t\t}\n\n\t\tvar body = \"\";\n\n\t\t/* Multi-line comment */\n\t\tif (ch2 === \"*\") {\n\t\t\tthis.skip(2);\n\n\t\t\twhile (this.peek() !== \"*\" || this.peek(1) !== \"/\") {\n\t\t\t\tif (this.peek() === \"\") { // End of Line\n\t\t\t\t\tbody += \"\\n\";\n\n\t\t\t\t\t// If we hit EOF and our comment is still unclosed,\n\t\t\t\t\t// trigger an error and end the comment implicitly.\n\t\t\t\t\tif (!this.nextLine()) {\n\t\t\t\t\t\tthis.trigger(\"error\", {\n\t\t\t\t\t\t\tcode: \"E017\",\n\t\t\t\t\t\t\tline: startLine,\n\t\t\t\t\t\t\tcharacter: startChar\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn commentToken(\"/*\", body, {\n\t\t\t\t\t\t\tisMultiline: true,\n\t\t\t\t\t\t\tisMalformed: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbody += this.peek();\n\t\t\t\t\tthis.skip();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.skip(2);\n\t\t\treturn commentToken(\"/*\", body, { isMultiline: true });\n\t\t}\n\t},\n\n\t/*\n\t * Extract a keyword out of the next sequence of characters or\n\t * return 'null' if its not possible.\n\t */\n\tscanKeyword: function () {\n\t\tvar result = /^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input);\n\t\tvar keywords = [\n\t\t\t\"if\", \"in\", \"do\", \"var\", \"for\", \"new\",\n\t\t\t\"try\", \"let\", \"this\", \"else\", \"case\",\n\t\t\t\"void\", \"with\", \"enum\", \"while\", \"break\",\n\t\t\t\"catch\", \"throw\", \"const\", \"yield\", \"class\",\n\t\t\t\"super\", \"return\", \"typeof\", \"delete\",\n\t\t\t\"switch\", \"export\", \"import\", \"default\",\n\t\t\t\"finally\", \"extends\", \"function\", \"continue\",\n\t\t\t\"debugger\", \"instanceof\"\n\t\t];\n\n\t\tif (result && keywords.indexOf(result[0]) >= 0) {\n\t\t\treturn {\n\t\t\t\ttype: Token.Keyword,\n\t\t\t\tvalue: result[0]\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/*\n\t * Extract a JavaScript identifier out of the next sequence of\n\t * characters or return 'null' if its not possible. In addition,\n\t * to Identifier this method can also produce BooleanLiteral\n\t * (true/false) and NullLiteral (null).\n\t */\n\tscanIdentifier: function () {\n\t\tvar id = \"\";\n\t\tvar index = 0;\n\t\tvar type, char;\n\n\t\t// Detects any character in the Unicode categories \"Uppercase\n\t\t// letter (Lu)\", \"Lowercase letter (Ll)\", \"Titlecase letter\n\t\t// (Lt)\", \"Modifier letter (Lm)\", \"Other letter (Lo)\", or\n\t\t// \"Letter number (Nl)\".\n\t\t//\n\t\t// Both approach and unicodeLetterTable were borrowed from\n\t\t// Google's Traceur.\n\n\t\tfunction isUnicodeLetter(code) {\n\t\t\tfor (var i = 0; i < unicodeLetterTable.length;) {\n\t\t\t\tif (code < unicodeLetterTable[i++]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (code <= unicodeLetterTable[i++]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction isHexDigit(str) {\n\t\t\treturn (/^[0-9a-fA-F]$/).test(str);\n\t\t}\n\n\t\tvar readUnicodeEscapeSequence = function () {\n\t\t\t/*jshint validthis:true */\n\t\t\tindex += 1;\n\n\t\t\tif (this.peek(index) !== \"u\") {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar ch1 = this.peek(index + 1);\n\t\t\tvar ch2 = this.peek(index + 2);\n\t\t\tvar ch3 = this.peek(index + 3);\n\t\t\tvar ch4 = this.peek(index + 4);\n\t\t\tvar code;\n\n\t\t\tif (isHexDigit(ch1) && isHexDigit(ch2) && isHexDigit(ch3) && isHexDigit(ch4)) {\n\t\t\t\tcode = parseInt(ch1 + ch2 + ch3 + ch4, 16);\n\n\t\t\t\tif (isUnicodeLetter(code)) {\n\t\t\t\t\tindex += 5;\n\t\t\t\t\treturn \"\\\\u\" + ch1 + ch2 + ch3 + ch4;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}.bind(this);\n\n\t\tvar getIdentifierStart = function () {\n\t\t\t/*jshint validthis:true */\n\t\t\tvar chr = this.peek(index);\n\t\t\tvar code = chr.charCodeAt(0);\n\n\t\t\tif (code === 92) {\n\t\t\t\treturn readUnicodeEscapeSequence();\n\t\t\t}\n\n\t\t\tif (code < 128) {\n\t\t\t\tif (identifierStartTable[code]) {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\treturn chr;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (isUnicodeLetter(code)) {\n\t\t\t\tindex += 1;\n\t\t\t\treturn chr;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}.bind(this);\n\n\t\tvar getIdentifierPart = function () {\n\t\t\t/*jshint validthis:true */\n\t\t\tvar chr = this.peek(index);\n\t\t\tvar code = chr.charCodeAt(0);\n\n\t\t\tif (code === 92) {\n\t\t\t\treturn readUnicodeEscapeSequence();\n\t\t\t}\n\n\t\t\tif (code < 128) {\n\t\t\t\tif (identifierPartTable[code]) {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\treturn chr;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (isUnicodeLetter(code)) {\n\t\t\t\tindex += 1;\n\t\t\t\treturn chr;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}.bind(this);\n\n\t\tchar = getIdentifierStart();\n\t\tif (char === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tid = char;\n\t\tfor (;;) {\n\t\t\tchar = getIdentifierPart();\n\n\t\t\tif (char === null) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tid += char;\n\t\t}\n\n\t\tswitch (id) {\n\t\tcase \"true\":\n\t\tcase \"false\":\n\t\t\ttype = Token.BooleanLiteral;\n\t\t\tbreak;\n\t\tcase \"null\":\n\t\t\ttype = Token.NullLiteral;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\ttype = Token.Identifier;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: type,\n\t\t\tvalue: id\n\t\t};\n\t},\n\n\t/*\n\t * Extract a numeric literal out of the next sequence of\n\t * characters or return 'null' if its not possible. This method\n\t * supports all numeric literals described in section 7.8.3\n\t * of the EcmaScript 5 specification.\n\t *\n\t * This method's implementation was heavily influenced by the\n\t * scanNumericLiteral function in the Esprima parser's source code.\n\t */\n\tscanNumericLiteral: function () {\n\t\tvar index = 0;\n\t\tvar value = \"\";\n\t\tvar length = this.input.length;\n\t\tvar char = this.peek(index);\n\t\tvar bad;\n\n\t\tfunction isDecimalDigit(str) {\n\t\t\treturn (/^[0-9]$/).test(str);\n\t\t}\n\n\t\tfunction isOctalDigit(str) {\n\t\t\treturn (/^[0-7]$/).test(str);\n\t\t}\n\n\t\tfunction isHexDigit(str) {\n\t\t\treturn (/^[0-9a-fA-F]$/).test(str);\n\t\t}\n\n\t\tfunction isIdentifierStart(ch) {\n\t\t\treturn (ch === \"$\") || (ch === \"_\") || (ch === \"\\\\\") ||\n\t\t\t\t(ch >= \"a\" && ch <= \"z\") || (ch >= \"A\" && ch <= \"Z\");\n\t\t}\n\n\t\t// Numbers must start either with a decimal digit or a point.\n\n\t\tif (char !== \".\" && !isDecimalDigit(char)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (char !== \".\") {\n\t\t\tvalue = this.peek(index);\n\t\t\tindex += 1;\n\t\t\tchar = this.peek(index);\n\n\t\t\tif (value === \"0\") {\n\t\t\t\t// Base-16 numbers.\n\t\t\t\tif (char === \"x\" || char === \"X\") {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\tvalue += char;\n\n\t\t\t\t\twhile (index < length) {\n\t\t\t\t\t\tchar = this.peek(index);\n\t\t\t\t\t\tif (!isHexDigit(char)) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue += char;\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (value.length <= 2) { // 0x\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: Token.NumericLiteral,\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\tisMalformed: true\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index < length) {\n\t\t\t\t\t\tchar = this.peek(index);\n\t\t\t\t\t\tif (isIdentifierStart(char)) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: Token.NumericLiteral,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tbase: 16,\n\t\t\t\t\t\tisMalformed: false\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Base-8 numbers.\n\t\t\t\tif (isOctalDigit(char)) {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\tvalue += char;\n\t\t\t\t\tbad = false;\n\n\t\t\t\t\twhile (index < length) {\n\t\t\t\t\t\tchar = this.peek(index);\n\n\t\t\t\t\t\t// Numbers like '019' (note the 9) are not valid octals\n\t\t\t\t\t\t// but we still parse them and mark as malformed.\n\n\t\t\t\t\t\tif (isDecimalDigit(char)) {\n\t\t\t\t\t\t\tbad = true;\n\t\t\t\t\t\t} else if (!isOctalDigit(char)) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue += char;\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index < length) {\n\t\t\t\t\t\tchar = this.peek(index);\n\t\t\t\t\t\tif (isIdentifierStart(char)) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: Token.NumericLiteral,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tbase: 8,\n\t\t\t\t\t\tisMalformed: false\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Decimal numbers that start with '0' such as '09' are illegal\n\t\t\t\t// but we still parse them and return as malformed.\n\n\t\t\t\tif (isDecimalDigit(char)) {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\tvalue += char;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (index < length) {\n\t\t\t\tchar = this.peek(index);\n\t\t\t\tif (!isDecimalDigit(char)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvalue += char;\n\t\t\t\tindex += 1;\n\t\t\t}\n\t\t}\n\n\t\t// Decimal digits.\n\n\t\tif (char === \".\") {\n\t\t\tvalue += char;\n\t\t\tindex += 1;\n\n\t\t\twhile (index < length) {\n\t\t\t\tchar = this.peek(index);\n\t\t\t\tif (!isDecimalDigit(char)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvalue += char;\n\t\t\t\tindex += 1;\n\t\t\t}\n\t\t}\n\n\t\t// Exponent part.\n\n\t\tif (char === \"e\" || char === \"E\") {\n\t\t\tvalue += char;\n\t\t\tindex += 1;\n\t\t\tchar = this.peek(index);\n\n\t\t\tif (char === \"+\" || char === \"-\") {\n\t\t\t\tvalue += this.peek(index);\n\t\t\t\tindex += 1;\n\t\t\t}\n\n\t\t\tchar = this.peek(index);\n\t\t\tif (isDecimalDigit(char)) {\n\t\t\t\tvalue += char;\n\t\t\t\tindex += 1;\n\n\t\t\t\twhile (index < length) {\n\t\t\t\t\tchar = this.peek(index);\n\t\t\t\t\tif (!isDecimalDigit(char)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tvalue += char;\n\t\t\t\t\tindex += 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\tif (index < length) {\n\t\t\tchar = this.peek(index);\n\t\t\tif (isIdentifierStart(char)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttype: Token.NumericLiteral,\n\t\t\tvalue: value,\n\t\t\tbase: 10,\n\t\t\tisMalformed: !isFinite(value)\n\t\t};\n\t},\n\n\t/*\n\t * Extract a string out of the next sequence of characters and/or\n\t * lines or return 'null' if its not possible. Since strings can\n\t * span across multiple lines this method has to move the char\n\t * pointer.\n\t *\n\t * This method recognizes pseudo-multiline JavaScript strings:\n\t *\n\t *   var str = \"hello\\\n\t *   world\";\n   */\n\tscanStringLiteral: function () {\n\t\tvar quote = this.peek();\n\n\t\t// String must start with a quote.\n\t\tif (quote !== \"\\\"\" && quote !== \"'\") {\n\t\t\treturn null;\n\t\t}\n\n\t\t// In JSON strings must always use double quotes.\n\t\tif (state.jsonMode && quote !== \"\\\"\") {\n\t\t\tthis.trigger(\"warning\", {\n\t\t\t\tcode: \"W108\",\n\t\t\t\tline: this.line,\n\t\t\t\tcharacter: this.char // +1?\n\t\t\t});\n\t\t}\n\n\t\tvar value = \"\";\n\t\tvar startLine = this.line;\n\t\tvar startChar = this.char;\n\t\tvar allowNewLine = false;\n\n\t\tthis.skip();\n\n\t\twhile (this.peek() !== quote) {\n\t\t\twhile (this.peek() === \"\") { // End Of Line\n\n\t\t\t\t// If an EOL is not preceded by a backslash, show a warning\n\t\t\t\t// and proceed like it was a legit multi-line string where\n\t\t\t\t// author simply forgot to escape the newline symbol.\n\t\t\t\t//\n\t\t\t\t// Another approach is to implicitly close a string on EOL\n\t\t\t\t// but it generates too many false positives.\n\n\t\t\t\tif (!allowNewLine) {\n\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\tcode: \"W112\",\n\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\tcharacter: this.char\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tallowNewLine = false;\n\n\t\t\t\t\t// Otherwise show a warning if multistr option was not set.\n\t\t\t\t\t// For JSON, show warning no matter what.\n\n\t\t\t\t\tif (!state.option.multistr) {\n\t\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\t\tcode: \"W043\",\n\t\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\t\tcharacter: this.char\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (state.jsonMode) {\n\t\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\t\tcode: \"W042\",\n\t\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\t\tcharacter: this.char\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If we get an EOF inside of an unclosed string, show an\n\t\t\t\t// error and implicitly close it at the EOF point.\n\n\t\t\t\tif (!this.nextLine()) {\n\t\t\t\t\tthis.trigger(\"error\", {\n\t\t\t\t\t\tcode: \"E029\",\n\t\t\t\t\t\tline: startLine,\n\t\t\t\t\t\tcharacter: startChar\n\t\t\t\t\t});\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: Token.StringLiteral,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tisUnclosed: true,\n\t\t\t\t\t\tquote: quote\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tallowNewLine = false;\n\t\t\tvar char = this.peek();\n\t\t\tvar jump = 1; // A length of a jump, after we're done\n\t\t\t              // parsing this character.\n\n\t\t\tif (char < \" \") {\n\t\t\t\t// Warn about a control character in a string.\n\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\tcode: \"W113\",\n\t\t\t\t\tline: this.line,\n\t\t\t\t\tcharacter: this.char,\n\t\t\t\t\tdata: [ \"<non-printable>\" ]\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Special treatment for some escaped characters.\n\n\t\t\tif (char === \"\\\\\") {\n\t\t\t\tthis.skip();\n\t\t\t\tchar = this.peek();\n\n\t\t\t\tswitch (char) {\n\t\t\t\tcase \"'\":\n\t\t\t\t\tif (state.jsonMode) {\n\t\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\t\tcode: \"W114\",\n\t\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\t\tcharacter: this.char,\n\t\t\t\t\t\t\tdata: [ \"\\\\'\" ]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"b\":\n\t\t\t\t\tchar = \"\\b\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"f\":\n\t\t\t\t\tchar = \"\\f\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"n\":\n\t\t\t\t\tchar = \"\\n\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"r\":\n\t\t\t\t\tchar = \"\\r\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"t\":\n\t\t\t\t\tchar = \"\\t\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"0\":\n\t\t\t\t\tchar = \"\\0\";\n\n\t\t\t\t\t// Octal literals fail in strict mode.\n\t\t\t\t\t// Check if the number is between 00 and 07.\n\t\t\t\t\tvar n = parseInt(this.peek(1), 10);\n\t\t\t\t\tif (n >= 0 && n <= 7 && state.directive[\"use strict\"]) {\n\t\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\t\tcode: \"W115\",\n\t\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\t\tcharacter: this.char\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"u\":\n\t\t\t\t\tchar = String.fromCharCode(parseInt(this.input.substr(1, 4), 16));\n\t\t\t\t\tjump = 5;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"v\":\n\t\t\t\t\tif (state.jsonMode) {\n\t\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\t\tcode: \"W114\",\n\t\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\t\tcharacter: this.char,\n\t\t\t\t\t\t\tdata: [ \"\\\\v\" ]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tchar = \"\\v\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"x\":\n\t\t\t\t\tvar\tx = parseInt(this.input.substr(1, 2), 16);\n\n\t\t\t\t\tif (state.jsonMode) {\n\t\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\t\tcode: \"W114\",\n\t\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\t\tcharacter: this.char,\n\t\t\t\t\t\t\tdata: [ \"\\\\x-\" ]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tchar = String.fromCharCode(x);\n\t\t\t\t\tjump = 3;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\\\\":\n\t\t\t\tcase \"\\\"\":\n\t\t\t\tcase \"/\":\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\":\n\t\t\t\t\tallowNewLine = true;\n\t\t\t\t\tchar = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"!\":\n\t\t\t\t\tif (value.slice(value.length - 2) === \"<\") {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t/*falls through */\n\t\t\t\tdefault:\n\t\t\t\t\t// Weird escaping.\n\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\tcode: \"W044\",\n\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\tcharacter: this.char\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvalue += char;\n\t\t\tthis.skip(jump);\n\t\t}\n\n\t\tthis.skip();\n\t\treturn {\n\t\t\ttype: Token.StringLiteral,\n\t\t\tvalue: value,\n\t\t\tisUnclosed: false,\n\t\t\tquote: quote\n\t\t};\n\t},\n\n\t/*\n\t * Extract a regular expression out of the next sequence of\n\t * characters and/or lines or return 'null' if its not possible.\n\t *\n\t * This method is platform dependent: it accepts almost any\n\t * regular expression values but then tries to compile and run\n\t * them using system's RegExp object. This means that there are\n\t * rare edge cases where one JavaScript engine complains about\n\t * your regular expression while others don't.\n\t */\n\tscanRegExp: function () {\n\t\tvar index = 0;\n\t\tvar length = this.input.length;\n\t\tvar char = this.peek();\n\t\tvar value = char;\n\t\tvar body = \"\";\n\t\tvar flags = [];\n\t\tvar malformed = false;\n\t\tvar isCharSet = false;\n\t\tvar terminated;\n\n\t\tvar scanUnexpectedChars = function () {\n\t\t\t// Unexpected control character\n\t\t\tif (char < \" \") {\n\t\t\t\tmalformed = true;\n\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\tcode: \"W048\",\n\t\t\t\t\tline: this.line,\n\t\t\t\t\tcharacter: this.char\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Unexpected escaped character\n\t\t\tif (char === \"<\") {\n\t\t\t\tmalformed = true;\n\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\tcode: \"W049\",\n\t\t\t\t\tline: this.line,\n\t\t\t\t\tcharacter: this.char,\n\t\t\t\t\tdata: [ char ]\n\t\t\t\t});\n\t\t\t}\n\t\t}.bind(this);\n\n\t\t// Regular expressions must start with '/'\n\t\tif (!this.prereg || char !== \"/\") {\n\t\t\treturn null;\n\t\t}\n\n\t\tindex += 1;\n\t\tterminated = false;\n\n\t\t// Try to get everything in between slashes. A couple of\n\t\t// cases aside (see scanUnexpectedChars) we don't really\n\t\t// care whether the resulting expression is valid or not.\n\t\t// We will check that later using the RegExp object.\n\n\t\twhile (index < length) {\n\t\t\tchar = this.peek(index);\n\t\t\tvalue += char;\n\t\t\tbody += char;\n\n\t\t\tif (isCharSet) {\n\t\t\t\tif (char === \"]\") {\n\t\t\t\t\tif (this.peek(index - 1) !== \"\\\\\" || this.peek(index - 2) === \"\\\\\") {\n\t\t\t\t\t\tisCharSet = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (char === \"\\\\\") {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\tchar = this.peek(index);\n\t\t\t\t\tbody += char;\n\t\t\t\t\tvalue += char;\n\n\t\t\t\t\tscanUnexpectedChars();\n\t\t\t\t}\n\n\t\t\t\tindex += 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (char === \"\\\\\") {\n\t\t\t\tindex += 1;\n\t\t\t\tchar = this.peek(index);\n\t\t\t\tbody += char;\n\t\t\t\tvalue += char;\n\n\t\t\t\tscanUnexpectedChars();\n\n\t\t\t\tif (char === \"/\") {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (char === \"[\") {\n\t\t\t\t\tindex += 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (char === \"[\") {\n\t\t\t\tisCharSet = true;\n\t\t\t\tindex += 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (char === \"/\") {\n\t\t\t\tbody = body.substr(0, body.length - 1);\n\t\t\t\tterminated = true;\n\t\t\t\tindex += 1;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tindex += 1;\n\t\t}\n\n\t\t// A regular expression that was never closed is an\n\t\t// error from which we cannot recover.\n\n\t\tif (!terminated) {\n\t\t\tthis.trigger(\"error\", {\n\t\t\t\tcode: \"E015\",\n\t\t\t\tline: this.line,\n\t\t\t\tcharacter: this.from\n\t\t\t});\n\n\t\t\treturn void this.trigger(\"fatal\", {\n\t\t\t\tline: this.line,\n\t\t\t\tfrom: this.from\n\t\t\t});\n\t\t}\n\n\t\t// Parse flags (if any).\n\n\t\twhile (index < length) {\n\t\t\tchar = this.peek(index);\n\t\t\tif (!/[gim]/.test(char)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tflags.push(char);\n\t\t\tvalue += char;\n\t\t\tindex += 1;\n\t\t}\n\n\t\t// Check regular expression for correctness.\n\n\t\ttry {\n\t\t\tnew RegExp(body, flags.join(\"\"));\n\t\t} catch (err) {\n\t\t\tmalformed = true;\n\t\t\tthis.trigger(\"error\", {\n\t\t\t\tcode: \"E016\",\n\t\t\t\tline: this.line,\n\t\t\t\tcharacter: this.char,\n\t\t\t\tdata: [ err.message ] // Platform dependent!\n\t\t\t});\n\t\t}\n\n\t\treturn {\n\t\t\ttype: Token.RegExp,\n\t\t\tvalue: value,\n\t\t\tflags: flags,\n\t\t\tisMalformed: malformed\n\t\t};\n\t},\n\n\t/*\n\t * Scan for any occurence of mixed tabs and spaces. If smarttabs option\n\t * is on, ignore tabs followed by spaces.\n\t *\n\t * Tabs followed by one space followed by a block comment are allowed.\n\t */\n\tscanMixedSpacesAndTabs: function () {\n\t\tvar at, match;\n\n\t\tif (state.option.smarttabs) {\n\t\t\t// Negative look-behind for \"//\"\n\t\t\tmatch = this.input.match(/(\\/\\/)? \\t/);\n\t\t\tat = match && !match[1] ? 0 : -1;\n\t\t} else {\n\t\t\tat = this.input.search(/ \\t|\\t [^\\*]/);\n\t\t}\n\n\t\treturn at;\n\t},\n\n\t/*\n\t * Scan for characters that get silently deleted by one or more browsers.\n\t */\n\tscanUnsafeChars: function () {\n\t\treturn this.input.search(reg.unsafeChars);\n\t},\n\n\t/*\n\t * Produce the next raw token or return 'null' if no tokens can be matched.\n\t * This method skips over all space characters.\n\t */\n\tnext: function () {\n\t\tthis.from = this.char;\n\n\t\t// Move to the next non-space character.\n\t\tvar start;\n\t\tif (/\\s/.test(this.peek())) {\n\t\t\tstart = this.char;\n\n\t\t\twhile (/\\s/.test(this.peek())) {\n\t\t\t\tthis.from += 1;\n\t\t\t\tthis.skip();\n\t\t\t}\n\n\t\t\tif (this.peek() === \"\") { // EOL\n\t\t\t\tif (state.option.trailing) {\n\t\t\t\t\tthis.trigger(\"warning\", { code: \"W102\", line: this.line, character: start });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Methods that work with multi-line structures and move the\n\t\t// character pointer.\n\n\t\tvar match = this.scanComments() ||\n\t\t\tthis.scanStringLiteral();\n\n\t\tif (match) {\n\t\t\treturn match;\n\t\t}\n\n\t\t// Methods that don't move the character pointer.\n\n\t\tmatch =\n\t\t\tthis.scanRegExp() ||\n\t\t\tthis.scanPunctuator() ||\n\t\t\tthis.scanKeyword() ||\n\t\t\tthis.scanIdentifier() ||\n\t\t\tthis.scanNumericLiteral();\n\n\t\tif (match) {\n\t\t\tthis.skip(match.value.length);\n\t\t\treturn match;\n\t\t}\n\n\t\t// No token could be matched, give up.\n\n\t\treturn null;\n\t},\n\n\t/*\n\t * Switch to the next line and reset all char pointers. Once\n\t * switched, this method also checks for mixed spaces and tabs\n\t * and other minor warnings.\n\t */\n\tnextLine: function () {\n\t\tvar char;\n\n\t\tif (this.line >= this.lines.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.input = this.lines[this.line];\n\t\tthis.line += 1;\n\t\tthis.char = 1;\n\t\tthis.from = 1;\n\n\t\tchar = this.scanMixedSpacesAndTabs();\n\t\tif (char >= 0) {\n\t\t\tthis.trigger(\"warning\", { code: \"W099\", line: this.line, character: char + 1 });\n\t\t}\n\n\t\tthis.input = this.input.replace(/\\t/g, state.tab);\n\t\tchar = this.scanUnsafeChars();\n\n\t\tif (char >= 0) {\n\t\t\tthis.trigger(\"warning\", { code: \"W100\", line: this.line, character: char });\n\t\t}\n\n\t\t// If there is a limit on line length, warn when lines get too\n\t\t// long.\n\n\t\tif (state.option.maxlen && state.option.maxlen < this.input.length) {\n\t\t\tthis.trigger(\"warning\", { code: \"W101\", line: this.line, character: this.input.length });\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/*\n\t * This is simply a synonym for nextLine() method with a friendlier\n\t * public name.\n\t */\n\tstart: function () {\n\t\tthis.nextLine();\n\t},\n\n\t/*\n\t * Produce the next token. This function is called by advance() to get\n\t * the next token. It retuns a token in a JSLint-compatible format.\n\t */\n\ttoken: function () {\n\t\tvar token;\n\n\t\tfunction isReserved(token, isProperty) {\n\t\t\tif (!token.reserved) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (token.meta && token.meta.isFutureReservedWord) {\n\t\t\t\t// ES3 FutureReservedWord in an ES5 environment.\n\t\t\t\tif (state.option.es5 && !token.meta.es5) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Some ES5 FutureReservedWord identifiers are active only\n\t\t\t\t// within a strict mode environment.\n\t\t\t\tif (token.meta.strictOnly) {\n\t\t\t\t\tif (!state.option.strict && !state.directive[\"use strict\"]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (isProperty) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Produce a token object.\n\t\tvar create = function (type, value, isProperty) {\n\t\t\t/*jshint validthis:true */\n\t\t\tvar obj;\n\n\t\t\tif (type !== \"(endline)\" && type !== \"(end)\") {\n\t\t\t\tthis.prereg = false;\n\t\t\t}\n\n\t\t\tif (type === \"(punctuator)\") {\n\t\t\t\tswitch (value) {\n\t\t\t\tcase \".\":\n\t\t\t\tcase \")\":\n\t\t\t\tcase \"~\":\n\t\t\t\tcase \"#\":\n\t\t\t\tcase \"]\":\n\t\t\t\t\tthis.prereg = false;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.prereg = true;\n\t\t\t\t}\n\n\t\t\t\tobj = Object.create(state.syntax[value] || state.syntax[\"(error)\"]);\n\t\t\t}\n\n\t\t\tif (type === \"(identifier)\") {\n\t\t\t\tif (value === \"return\" || value === \"case\" || value === \"typeof\") {\n\t\t\t\t\tthis.prereg = true;\n\t\t\t\t}\n\n\t\t\t\tif (_.has(state.syntax, value)) {\n\t\t\t\t\tobj = Object.create(state.syntax[value] || state.syntax[\"(error)\"]);\n\n\t\t\t\t\t// If this can't be a reserved keyword, reset the object.\n\t\t\t\t\tif (!isReserved(obj, isProperty && type === \"(identifier)\")) {\n\t\t\t\t\t\tobj = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!obj) {\n\t\t\t\tobj = Object.create(state.syntax[type]);\n\t\t\t}\n\n\t\t\tobj.identifier = (type === \"(identifier)\");\n\t\t\tobj.type = obj.type || type;\n\t\t\tobj.value = value;\n\t\t\tobj.line = this.line;\n\t\t\tobj.character = this.char;\n\t\t\tobj.from = this.from;\n\n\t\t\tif (isProperty && obj.identifier) {\n\t\t\t\tobj.isProperty = isProperty;\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t}.bind(this);\n\n\t\tfor (;;) {\n\t\t\tif (!this.input.length) {\n\t\t\t\treturn create(this.nextLine() ? \"(endline)\" : \"(end)\", \"\");\n\t\t\t}\n\n\t\t\ttoken = this.next();\n\n\t\t\tif (!token) {\n\t\t\t\tif (this.input.length) {\n\t\t\t\t\t// Unexpected character.\n\t\t\t\t\tthis.trigger(\"error\", {\n\t\t\t\t\t\tcode: \"E024\",\n\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\tcharacter: this.char,\n\t\t\t\t\t\tdata: [ this.peek() ]\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.input = \"\";\n\t\t\t\t}\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tswitch (token.type) {\n\t\t\tcase Token.StringLiteral:\n\t\t\t\tthis.trigger(\"String\", {\n\t\t\t\t\tline: this.line,\n\t\t\t\t\tchar: this.char,\n\t\t\t\t\tfrom: this.from,\n\t\t\t\t\tvalue: token.value,\n\t\t\t\t\tquote: token.quote\n\t\t\t\t});\n\n\t\t\t\treturn create(\"(string)\", token.value);\n\t\t\tcase Token.Identifier:\n\t\t\t\tthis.trigger(\"Identifier\", {\n\t\t\t\t\tline: this.line,\n\t\t\t\t\tchar: this.char,\n\t\t\t\t\tfrom: this.form,\n\t\t\t\t\tname: token.value,\n\t\t\t\t\tisProperty: state.tokens.curr.id === \".\"\n\t\t\t\t});\n\n\t\t\t\t/* falls through */\n\t\t\tcase Token.Keyword:\n\t\t\tcase Token.NullLiteral:\n\t\t\tcase Token.BooleanLiteral:\n\t\t\t\treturn create(\"(identifier)\", token.value, state.tokens.curr.id === \".\");\n\n\t\t\tcase Token.NumericLiteral:\n\t\t\t\tif (token.isMalformed) {\n\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\tcode: \"W045\",\n\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\tcharacter: this.char,\n\t\t\t\t\t\tdata: [ token.value ]\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (state.jsonMode && token.base === 16) {\n\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\tcode: \"W114\",\n\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\tcharacter: this.char,\n\t\t\t\t\t\tdata: [ \"0x-\" ]\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (state.directive[\"use strict\"] && token.base === 8) {\n\t\t\t\t\tthis.trigger(\"warning\", {\n\t\t\t\t\t\tcode: \"W115\",\n\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\tcharacter: this.char\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.trigger(\"Number\", {\n\t\t\t\t\tline: this.line,\n\t\t\t\t\tchar: this.char,\n\t\t\t\t\tfrom: this.from,\n\t\t\t\t\tvalue: token.value,\n\t\t\t\t\tbase: token.base,\n\t\t\t\t\tisMalformed: token.malformed\n\t\t\t\t});\n\n\t\t\t\treturn create(\"(number)\", token.value);\n\n\t\t\tcase Token.RegExp:\n\t\t\t\treturn create(\"(regexp)\", token.value);\n\n\t\t\tcase Token.Comment:\n\t\t\t\tstate.tokens.curr.comment = true;\n\n\t\t\t\tif (token.isSpecial) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: token.value,\n\t\t\t\t\t\tbody: token.body,\n\t\t\t\t\t\ttype: token.commentType,\n\t\t\t\t\t\tisSpecial: token.isSpecial,\n\t\t\t\t\t\tline: this.line,\n\t\t\t\t\t\tcharacter: this.char,\n\t\t\t\t\t\tfrom: this.from\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"\":\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\treturn create(\"(punctuator)\", token.value);\n\t\t\t}\n\t\t}\n\t}\n};\n\nexports.Lexer = Lexer;\n//@ sourceURL=/src/stable/lex.js"
));

require.define("/src/stable/reg.js",Function(['require','module','exports','__dirname','__filename','process','global'],"/*\n * Regular expressions. Some of these are stupidly long.\n */\n\n/*jshint maxlen:1000 */\n\n\"use string\";\n\n// Unsafe comment or string (ax)\nexports.unsafeString =\n\t/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i;\n\n// Unsafe characters that are silently deleted by one or more browsers (cx)\nexports.unsafeChars =\n\t/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/;\n\n// Characters in strings that need escaping (nx and nxg)\nexports.needEsc =\n\t/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/;\n\nexports.needEscGlobal =\n\t/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n// Star slash (lx)\nexports.starSlash = /\\*\\//;\n\n// Identifier (ix)\nexports.identifier = /^([a-zA-Z_$][a-zA-Z0-9_$]*)$/;\n\n// JavaScript URL (jx)\nexports.javascriptURL = /^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\\s*:/i;\n\n// Catches /* falls through */ comments (ft)\nexports.fallsThrough = /^\\s*\\/\\*\\s*falls\\sthrough\\s*\\*\\/\\s*$/;\n//@ sourceURL=/src/stable/reg.js"
));

require.define("/src/stable/state.js",Function(['require','module','exports','__dirname','__filename','process','global'],"\"use strict\";\n\nvar state = {\n\tsyntax: {},\n\n\treset: function () {\n\t\tthis.tokens = {\n\t\t\tprev: null,\n\t\t\tnext: null,\n\t\t\tcurr: null\n\t\t},\n\n\t\tthis.option = {};\n\t\tthis.directive = {};\n\t\tthis.jsonMode = false;\n\t\tthis.lines = [];\n\t\tthis.tab = \"\";\n\t\tthis.cache = {}; // Node.JS doesn't have Map. Sniff.\n\t}\n};\n\nexports.state = state;\n//@ sourceURL=/src/stable/state.js"
));

require.define("/src/stable/style.js",Function(['require','module','exports','__dirname','__filename','process','global'],"\"use strict\";\n\nexports.register = function (linter) {\n\t// Check for properties named __proto__. This special property was\n\t// deprecated and then re-introduced for ES6.\n\n\tlinter.on(\"Identifier\", function style_scanProto(data) {\n\t\tif (linter.getOption(\"proto\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (data.name === \"__proto__\") {\n\t\t\tlinter.warn(\"W103\", {\n\t\t\t\tline: data.line,\n\t\t\t\tchar: data.char,\n\t\t\t\tdata: [ data.name ]\n\t\t\t});\n\t\t}\n\t});\n\n\t// Check for properties named __iterator__. This is a special property\n\t// available only in browsers with JavaScript 1.7 implementation.\n\n\tlinter.on(\"Identifier\", function style_scanIterator(data) {\n\t\tif (linter.getOption(\"iterator\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (data.name === \"__iterator__\") {\n\t\t\tlinter.warn(\"W104\", {\n\t\t\t\tline: data.line,\n\t\t\t\tchar: data.char,\n\t\t\t\tdata: [ data.name ]\n\t\t\t});\n\t\t}\n\t});\n\n\t// Check for dangling underscores.\n\n\tlinter.on(\"Identifier\", function style_scanDangling(data) {\n\t\tif (!linter.getOption(\"nomen\")) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Underscore.js\n\t\tif (data.name === \"_\") {\n\t\t\treturn;\n\t\t}\n\n\t\t// In Node, __dirname and __filename should be ignored.\n\t\tif (linter.getOption(\"node\")) {\n\t\t\tif (/^(__dirname|__filename)$/.test(data.name) && !data.isProperty) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (/^(_+.*|.*_+)$/.test(data.name)) {\n\t\t\tlinter.warn(\"W105\", {\n\t\t\t\tline: data.line,\n\t\t\t\tchar: data.from,\n\t\t\t\tdata: [ \"dangling '_'\", data.name ]\n\t\t\t});\n\t\t}\n\t});\n\n\t// Check that all identifiers are using camelCase notation.\n\t// Exceptions: names like MY_VAR and _myVar.\n\n\tlinter.on(\"Identifier\", function style_scanCamelCase(data) {\n\t\tif (!linter.getOption(\"camelcase\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (data.name.replace(/^_+/, \"\").indexOf(\"_\") > -1 && !data.name.match(/^[A-Z0-9_]*$/)) {\n\t\t\tlinter.warn(\"W106\", {\n\t\t\t\tline: data.line,\n\t\t\t\tchar: data.from,\n\t\t\t\tdata: [ data.name ]\n\t\t\t});\n\t\t}\n\t});\n\n\t// Enforce consistency in style of quoting.\n\n\tlinter.on(\"String\", function style_scanQuotes(data) {\n\t\tvar quotmark = linter.getOption(\"quotmark\");\n\t\tvar code;\n\n\t\tif (!quotmark) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If quotmark is set to 'single' warn about all double-quotes.\n\n\t\tif (quotmark === \"single\" && data.quote !== \"'\") {\n\t\t\tcode = \"W109\";\n\t\t}\n\n\t\t// If quotmark is set to 'double' warn about all single-quotes.\n\n\t\tif (quotmark === \"double\" && data.quote !== \"\\\"\") {\n\t\t\tcode = \"W108\";\n\t\t}\n\n\t\t// If quotmark is set to true, remember the first quotation style\n\t\t// and then warn about all others.\n\n\t\tif (quotmark === true) {\n\t\t\tif (!linter.getCache(\"quotmark\")) {\n\t\t\t\tlinter.setCache(\"quotmark\", data.quote);\n\t\t\t}\n\n\t\t\tif (linter.getCache(\"quotmark\") !== data.quote) {\n\t\t\t\tcode = \"W110\";\n\t\t\t}\n\t\t}\n\n\t\tif (code) {\n\t\t\tlinter.warn(code, {\n\t\t\t\tline: data.line,\n\t\t\t\tchar: data.char,\n\t\t\t});\n\t\t}\n\t});\n\n\tlinter.on(\"Number\", function style_scanNumbers(data) {\n\t\tif (data.value.charAt(0) === \".\") {\n\t\t\t// Warn about a leading decimal point.\n\t\t\tlinter.warn(\"W008\", {\n\t\t\t\tline: data.line,\n\t\t\t\tchar: data.char,\n\t\t\t\tdata: [ data.value ]\n\t\t\t});\n\t\t}\n\n\t\tif (data.value.substr(data.value.length - 1) === \".\") {\n\t\t\t// Warn about a trailing decimal point.\n\t\t\tlinter.warn(\"W047\", {\n\t\t\t\tline: data.line,\n\t\t\t\tchar: data.char,\n\t\t\t\tdata: [ data.value ]\n\t\t\t});\n\t\t}\n\n\t\tif (/^00+/.test(data.value)) {\n\t\t\t// Multiple leading zeroes.\n\t\t\tlinter.warn(\"W046\", {\n\t\t\t\tline: data.line,\n\t\t\t\tchar: data.char,\n\t\t\t\tdata: [ data.value ]\n\t\t\t});\n\t\t}\n\t});\n\n\t// Warn about script URLs.\n\n\tlinter.on(\"String\", function style_scanJavaScriptURLs(data) {\n\t\tvar re = /^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\\s*:/i;\n\n\t\tif (linter.getOption(\"scripturl\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (re.test(data.value)) {\n\t\t\tlinter.warn(\"W107\", {\n\t\t\t\tline: data.line,\n\t\t\t\tchar: data.char\n\t\t\t});\n\t\t}\n\t});\n};\n//@ sourceURL=/src/stable/style.js"
));

require.define("/src/stable/jshint.js",Function(['require','module','exports','__dirname','__filename','process','global'],"/*!\n * JSHint, by JSHint Community.\n *\n * This file (and this file only) is licensed under the same slightly modified\n * MIT license that JSLint is. It stops evil-doers everywhere:\n *\n *\t Copyright (c) 2002 Douglas Crockford  (www.JSLint.com)\n *\n *\t Permission is hereby granted, free of charge, to any person obtaining\n *\t a copy of this software and associated documentation files (the \"Software\"),\n *\t to deal in the Software without restriction, including without limitation\n *\t the rights to use, copy, modify, merge, publish, distribute, sublicense,\n *\t and/or sell copies of the Software, and to permit persons to whom\n *\t the Software is furnished to do so, subject to the following conditions:\n *\n *\t The above copyright notice and this permission notice shall be included\n *\t in all copies or substantial portions of the Software.\n *\n *\t The Software shall be used for Good, not Evil.\n *\n *\t THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *\t IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *\t FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *\t AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *\t LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n *\t FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n *\t DEALINGS IN THE SOFTWARE.\n *\n */\n\n/*jshint quotmark:double */\n\nvar _        = require(\"underscore\");\nvar events   = require(\"events\");\nvar vars     = require(\"../shared/vars.js\");\nvar messages = require(\"../shared/messages.js\");\nvar Lexer    = require(\"./lex.js\").Lexer;\nvar reg      = require(\"./reg.js\");\nvar state    = require(\"./state.js\").state;\nvar style    = require(\"./style.js\");\n\n// We build the application inside a function so that we produce only a single\n// global variable. That function will be invoked immediately, and its return\n// value is the JSHINT function itself.\n\nvar JSHINT = (function () {\n\t\"use strict\";\n\n\tvar anonname,\t\t// The guessed name for anonymous functions.\n\n// These are operators that should not be used with the ! operator.\n\n\t\tbang = {\n\t\t\t\"<\"  : true,\n\t\t\t\"<=\" : true,\n\t\t\t\"==\" : true,\n\t\t\t\"===\": true,\n\t\t\t\"!==\": true,\n\t\t\t\"!=\" : true,\n\t\t\t\">\"  : true,\n\t\t\t\">=\" : true,\n\t\t\t\"+\"  : true,\n\t\t\t\"-\"  : true,\n\t\t\t\"*\"  : true,\n\t\t\t\"/\"  : true,\n\t\t\t\"%\"  : true\n\t\t},\n\n\t\t// These are the JSHint boolean options.\n\t\tboolOptions = {\n\t\t\tasi         : true, // if automatic semicolon insertion should be tolerated\n\t\t\tbitwise     : true, // if bitwise operators should not be allowed\n\t\t\tboss        : true, // if advanced usage of assignments should be allowed\n\t\t\tbrowser     : true, // if the standard browser globals should be predefined\n\t\t\tcamelcase   : true, // if identifiers should be required in camel case\n\t\t\tcouch       : true, // if CouchDB globals should be predefined\n\t\t\tcurly       : true, // if curly braces around all blocks should be required\n\t\t\tdebug       : true, // if debugger statements should be allowed\n\t\t\tdevel       : true, // if logging globals should be predefined (console, alert, etc.)\n\t\t\tdojo        : true, // if Dojo Toolkit globals should be predefined\n\t\t\teqeqeq      : true, // if === should be required\n\t\t\teqnull      : true, // if == null comparisons should be tolerated\n\t\t\tes5         : true, // if ES5 syntax should be allowed\n\t\t\tesnext      : true, // if es.next specific syntax should be allowed\n\t\t\tevil        : true, // if eval should be allowed\n\t\t\texpr        : true, // if ExpressionStatement should be allowed as Programs\n\t\t\tforin       : true, // if for in statements must filter\n\t\t\tfuncscope   : true, // if only function scope should be used for scope tests\n\t\t\tgcl         : true, // if JSHint should be compatible with Google Closure Linter\n\t\t\tglobalstrict: true, // if global \"use strict\"; should be allowed (also enables 'strict')\n\t\t\timmed       : true, // if immediate invocations must be wrapped in parens\n\t\t\titerator    : true, // if the `__iterator__` property should be allowed\n\t\t\tjquery      : true, // if jQuery globals should be predefined\n\t\t\tlastsemic   : true, // if semicolons may be ommitted for the trailing\n\t\t\t                    // statements inside of a one-line blocks.\n\t\t\tlatedef     : true, // if the use before definition should not be tolerated\n\t\t\tlaxbreak    : true, // if line breaks should not be checked\n\t\t\tlaxcomma    : true, // if line breaks should not be checked around commas\n\t\t\tloopfunc    : true, // if functions should be allowed to be defined within\n\t\t\t                    // loops\n\t\t\tmootools    : true, // if MooTools globals should be predefined\n\t\t\tmultistr    : true, // allow multiline strings\n\t\t\tnewcap      : true, // if constructor names must be capitalized\n\t\t\tnoarg       : true, // if arguments.caller and arguments.callee should be\n\t\t\t                    // disallowed\n\t\t\tnode        : true, // if the Node.js environment globals should be\n\t\t\t                    // predefined\n\t\t\tnoempty     : true, // if empty blocks should be disallowed\n\t\t\tnonew       : true, // if using `new` for side-effects should be disallowed\n\t\t\tnonstandard : true, // if non-standard (but widely adopted) globals should\n\t\t\t                    // be predefined\n\t\t\tnomen       : true, // if names should be checked\n\t\t\tonevar      : true, // if only one var statement per function should be\n\t\t\t                    // allowed\n\t\t\tpassfail    : true, // if the scan should stop on first error\n\t\t\tphantom     : true, // if PhantomJS symbols should be allowed\n\t\t\tplusplus    : true, // if increment/decrement should not be allowed\n\t\t\tproto       : true, // if the `__proto__` property should be allowed\n\t\t\tprototypejs : true, // if Prototype and Scriptaculous globals should be\n\t\t\t                    // predefined\n\t\t\trhino       : true, // if the Rhino environment globals should be predefined\n\t\t\tundef       : true, // if variables should be declared before used\n\t\t\tscripturl   : true, // if script-targeted URLs should be tolerated\n\t\t\tshadow      : true, // if variable shadowing should be tolerated\n\t\t\tsmarttabs   : true, // if smarttabs should be tolerated\n\t\t\t                    // (http://www.emacswiki.org/emacs/SmartTabs)\n\t\t\tstrict      : true, // require the \"use strict\"; pragma\n\t\t\tsub         : true, // if all forms of subscript notation are tolerated\n\t\t\tsupernew    : true, // if `new function () { ... };` and `new Object;`\n\t\t\t                    // should be tolerated\n\t\t\ttrailing    : true, // if trailing whitespace rules apply\n\t\t\tvalidthis   : true, // if 'this' inside a non-constructor function is valid.\n\t\t\t                    // This is a function scoped option only.\n\t\t\twithstmt    : true, // if with statements should be allowed\n\t\t\twhite       : true, // if strict whitespace rules apply\n\t\t\tworker      : true, // if Web Worker script symbols should be allowed\n\t\t\twsh         : true, // if the Windows Scripting Host environment globals\n\t\t\t                    // should be predefined\n\t\t\tyui         : true, // YUI variables should be predefined\n\n\t\t\t// Obsolete options\n\t\t\tonecase     : true, // if one case switch statements should be allowed\n\t\t\tregexp      : true, // if the . should not be allowed in regexp literals\n\t\t\tregexdash   : true  // if unescaped first/last dash (-) inside brackets\n\t\t\t                    // should be tolerated\n\t\t},\n\n\t\t// These are the JSHint options that can take any value\n\t\t// (we use this object to detect invalid options)\n\t\tvalOptions = {\n\t\t\tmaxlen       : false,\n\t\t\tindent       : false,\n\t\t\tmaxerr       : false,\n\t\t\tpredef       : false,\n\t\t\tquotmark     : false, //'single'|'double'|true\n\t\t\tscope        : false,\n\t\t\tmaxstatements: false, // {int} max statements per function\n\t\t\tmaxdepth     : false, // {int} max nested block depth per function\n\t\t\tmaxparams    : false, // {int} max params per function\n\t\t\tmaxcomplexity: false, // {int} max cyclomatic complexity per function\n\t\t\tunused       : true  // warn if variables are unused. Available options:\n\t\t\t                     //   false    - don't check for unused variables\n\t\t\t                     //   true     - \"vars\" + check last function param\n\t\t\t                     //   \"vars\"   - skip checking unused function params\n\t\t\t                     //   \"strict\" - \"vars\" + check all function params\n\t\t},\n\n\t\t// These are JSHint boolean options which are shared with JSLint\n\t\t// where the definition in JSHint is opposite JSLint\n\t\tinvertedOptions = {\n\t\t\tbitwise : true,\n\t\t\tforin   : true,\n\t\t\tnewcap  : true,\n\t\t\tnomen   : true,\n\t\t\tplusplus: true,\n\t\t\tregexp  : true,\n\t\t\tundef   : true,\n\t\t\twhite   : true,\n\n\t\t\t// Inverted and renamed, use JSHint name here\n\t\t\teqeqeq  : true,\n\t\t\tonevar  : true\n\t\t},\n\n\t\t// These are JSHint boolean options which are shared with JSLint\n\t\t// where the name has been changed but the effect is unchanged\n\t\trenamedOptions = {\n\t\t\teqeq   : \"eqeqeq\",\n\t\t\tvars   : \"onevar\",\n\t\t\twindows: \"wsh\"\n\t\t},\n\n\t\tdeclared, // Globals that were declared using /*global ... */ syntax.\n\t\texported, // Variables that are used outside of the current file.\n\n\t\tfunctionicity = [\n\t\t\t\"closure\", \"exception\", \"global\", \"label\",\n\t\t\t\"outer\", \"unused\", \"var\"\n\t\t],\n\n\t\tfunct, // The current function\n\t\tfunctions, // All of the functions\n\n\t\tglobal, // The global scope\n\t\tignored, // Ignored warnings\n\t\timplied, // Implied globals\n\t\tinblock,\n\t\tindent,\n\t\tlookahead,\n\t\tlex,\n\t\tmember,\n\t\tmembersOnly,\n\t\tnoreach,\n\t\tpredefined,\t\t// Global variables defined by option\n\n\t\tscope,  // The current scope\n\t\tstack,\n\t\tunuseds,\n\t\turls,\n\t\tuseESNextSyntax,\n\t\twarnings,\n\n\t\textraModules = [],\n\t\temitter = new events.EventEmitter();\n\n\tfunction checkOption(name, t) {\n\t\tname = name.trim();\n\n\t\tif (/^-W\\d{3}$/g.test(name)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (valOptions[name] === undefined && boolOptions[name] === undefined) {\n\t\t\tif (t.type !== \"jslint\" || renamedOptions[name] === undefined) {\n\t\t\t\terror(\"E001\", t, name);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction isString(obj) {\n\t\treturn Object.prototype.toString.call(obj) === \"[object String]\";\n\t}\n\n\tfunction isIdentifier(tkn, value) {\n\t\tif (!tkn)\n\t\t\treturn false;\n\n\t\tif (!tkn.identifier || tkn.value !== value)\n\t\t\treturn false;\n\n\t\treturn true;\n\t}\n\n\tfunction isReserved(token) {\n\t\tif (!token.reserved) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (token.meta && token.meta.isFutureReservedWord) {\n\t\t\t// ES3 FutureReservedWord in an ES5 environment.\n\t\t\tif (state.option.es5 && !token.meta.es5) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Some ES5 FutureReservedWord identifiers are active only\n\t\t\t// within a strict mode environment.\n\t\t\tif (token.meta.strictOnly) {\n\t\t\t\tif (!state.option.strict && !state.directive[\"use strict\"]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (token.isProperty) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction supplant(str, data) {\n\t\treturn str.replace(/\\{([^{}]*)\\}/g, function (a, b) {\n\t\t\tvar r = data[b];\n\t\t\treturn typeof r === \"string\" || typeof r === \"number\" ? r : a;\n\t\t});\n\t}\n\n\tfunction combine(t, o) {\n\t\tvar n;\n\t\tfor (n in o) {\n\t\t\tif (_.has(o, n) && !_.has(JSHINT.blacklist, n)) {\n\t\t\t\tt[n] = o[n];\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction updatePredefined() {\n\t\tObject.keys(JSHINT.blacklist).forEach(function (key) {\n\t\t\tdelete predefined[key];\n\t\t});\n\t}\n\n\tfunction assume() {\n\t\tif (state.option.couch) {\n\t\t\tcombine(predefined, vars.couch);\n\t\t}\n\n\t\tif (state.option.rhino) {\n\t\t\tcombine(predefined, vars.rhino);\n\t\t}\n\n\t\tif (state.option.phantom) {\n\t\t\tcombine(predefined, vars.phantom);\n\t\t}\n\n\t\tif (state.option.prototypejs) {\n\t\t\tcombine(predefined, vars.prototypejs);\n\t\t}\n\n\t\tif (state.option.node) {\n\t\t\tcombine(predefined, vars.node);\n\t\t}\n\n\t\tif (state.option.devel) {\n\t\t\tcombine(predefined, vars.devel);\n\t\t}\n\n\t\tif (state.option.dojo) {\n\t\t\tcombine(predefined, vars.dojo);\n\t\t}\n\n\t\tif (state.option.browser) {\n\t\t\tcombine(predefined, vars.browser);\n\t\t}\n\n\t\tif (state.option.nonstandard) {\n\t\t\tcombine(predefined, vars.nonstandard);\n\t\t}\n\n\t\tif (state.option.jquery) {\n\t\t\tcombine(predefined, vars.jquery);\n\t\t}\n\n\t\tif (state.option.mootools) {\n\t\t\tcombine(predefined, vars.mootools);\n\t\t}\n\n\t\tif (state.option.worker) {\n\t\t\tcombine(predefined, vars.worker);\n\t\t}\n\n\t\tif (state.option.wsh) {\n\t\t\tcombine(predefined, vars.wsh);\n\t\t}\n\n\t\tif (state.option.esnext) {\n\t\t\tuseESNextSyntax();\n\t\t}\n\n\t\tif (state.option.globalstrict && state.option.strict !== false) {\n\t\t\tstate.option.strict = true;\n\t\t}\n\n\t\tif (state.option.yui) {\n\t\t\tcombine(predefined, vars.yui);\n\t\t}\n\t}\n\n\n\t// Produce an error warning.\n\tfunction quit(code, line, chr) {\n\t\tvar percentage = Math.floor((line / state.lines.length) * 100);\n\t\tvar message = messages.errors[code].desc;\n\n\t\tthrow {\n\t\t\tname: \"JSHintError\",\n\t\t\tline: line,\n\t\t\tcharacter: chr,\n\t\t\tmessage: message + \" (\" + percentage + \"% scanned).\",\n\t\t\traw: message\n\t\t};\n\t}\n\n\tfunction isundef(scope, code, token, a) {\n\t\treturn JSHINT.undefs.push([scope, code, token, a]);\n\t}\n\n\tfunction warning(code, t, a, b, c, d) {\n\t\tvar ch, l, w, msg;\n\n\t\tif (/^W\\d{3}$/.test(code)) {\n\t\t\tif (ignored[code]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmsg = messages.warnings[code];\n\t\t} else if (/E\\d{3}/.test(code)) {\n\t\t\tmsg = messages.errors[code];\n\t\t} else if (/I\\d{3}/.test(code)) {\n\t\t\tmsg = messages.info[code];\n\t\t}\n\n\t\tt = t || state.tokens.next;\n\t\tif (t.id === \"(end)\") {  // `~\n\t\t\tt = state.tokens.curr;\n\t\t}\n\n\t\tl = t.line || 0;\n\t\tch = t.from || 0;\n\n\t\tw = {\n\t\t\tid: \"(error)\",\n\t\t\traw: msg.desc,\n\t\t\tcode: msg.code,\n\t\t\tevidence: state.lines[l - 1] || \"\",\n\t\t\tline: l,\n\t\t\tcharacter: ch,\n\t\t\tscope: JSHINT.scope,\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\td: d\n\t\t};\n\n\t\tw.reason = supplant(msg.desc, w);\n\t\tJSHINT.errors.push(w);\n\n\t\tif (state.option.passfail) {\n\t\t\tquit(\"E042\", l, ch);\n\t\t}\n\n\t\twarnings += 1;\n\t\tif (warnings >= state.option.maxerr) {\n\t\t\tquit(\"E043\", l, ch);\n\t\t}\n\n\t\treturn w;\n\t}\n\n\tfunction warningAt(m, l, ch, a, b, c, d) {\n\t\treturn warning(m, {\n\t\t\tline: l,\n\t\t\tfrom: ch\n\t\t}, a, b, c, d);\n\t}\n\n\tfunction error(m, t, a, b, c, d) {\n\t\twarning(m, t, a, b, c, d);\n\t}\n\n\tfunction errorAt(m, l, ch, a, b, c, d) {\n\t\treturn error(m, {\n\t\t\tline: l,\n\t\t\tfrom: ch\n\t\t}, a, b, c, d);\n\t}\n\n\t// Tracking of \"internal\" scripts, like eval containing a static string\n\tfunction addInternalSrc(elem, src) {\n\t\tvar i;\n\t\ti = {\n\t\t\tid: \"(internal)\",\n\t\t\telem: elem,\n\t\t\tvalue: src\n\t\t};\n\t\tJSHINT.internals.push(i);\n\t\treturn i;\n\t}\n\n\tfunction addlabel(t, type, tkn) {\n\t\t// Define t in the current function in the current scope.\n\t\tif (type === \"exception\") {\n\t\t\tif (_.has(funct[\"(context)\"], t)) {\n\t\t\t\tif (funct[t] !== true && !state.option.node) {\n\t\t\t\t\twarning(\"W002\", state.tokens.next, t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (_.has(funct, t) && !funct[\"(global)\"]) {\n\t\t\tif (funct[t] === true) {\n\t\t\t\tif (state.option.latedef)\n\t\t\t\t\twarning(\"W003\", state.tokens.next, t);\n\t\t\t} else {\n\t\t\t\tif (!state.option.shadow && type !== \"exception\") {\n\t\t\t\t\twarning(\"W004\", state.tokens.next, t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunct[t] = type;\n\n\t\tif (tkn) {\n\t\t\tfunct[\"(tokens)\"][t] = tkn;\n\t\t}\n\n\t\tif (funct[\"(global)\"]) {\n\t\t\tglobal[t] = funct;\n\t\t\tif (_.has(implied, t)) {\n\t\t\t\tif (state.option.latedef) {\n\t\t\t\t\twarning(\"W003\", state.tokens.next, t);\n\t\t\t\t}\n\n\t\t\t\tdelete implied[t];\n\t\t\t}\n\t\t} else {\n\t\t\tscope[t] = funct;\n\t\t}\n\t}\n\n\tfunction doOption() {\n\t\tvar nt = state.tokens.next;\n\t\tvar body = nt.body.split(\",\").map(function (s) { return s.trim(); });\n\t\tvar predef = {};\n\n\t\tif (nt.type === \"globals\") {\n\t\t\tbody.forEach(function (g) {\n\t\t\t\tg = g.split(\":\");\n\t\t\t\tvar key = g[0];\n\t\t\t\tvar val = g[1];\n\n\t\t\t\tif (key.charAt(0) === \"-\") {\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tval = false;\n\n\t\t\t\t\tJSHINT.blacklist[key] = key;\n\t\t\t\t\tupdatePredefined();\n\t\t\t\t} else {\n\t\t\t\t\tpredef[key] = (val === \"true\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcombine(predefined, predef);\n\n\t\t\tfor (var key in predef) {\n\t\t\t\tif (_.has(predef, key)) {\n\t\t\t\t\tdeclared[key] = nt;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (nt.type === \"exported\") {\n\t\t\tbody.forEach(function (e) {\n\t\t\t\texported[e] = true;\n\t\t\t});\n\t\t}\n\n\t\tif (nt.type === \"members\") {\n\t\t\tmembersOnly = membersOnly || {};\n\n\t\t\tbody.forEach(function (m) {\n\t\t\t\tvar ch1 = m.charAt(0);\n\t\t\t\tvar ch2 = m.charAt(m.length - 1);\n\n\t\t\t\tif (ch1 === ch2 && (ch1 === \"\\\"\" || ch1 === \"'\")) {\n\t\t\t\t\tm = m\n\t\t\t\t\t\t.substr(1, m.length - 2)\n\t\t\t\t\t\t.replace(\"\\\\b\", \"\\b\")\n\t\t\t\t\t\t.replace(\"\\\\t\", \"\\t\")\n\t\t\t\t\t\t.replace(\"\\\\n\", \"\\n\")\n\t\t\t\t\t\t.replace(\"\\\\v\", \"\\v\")\n\t\t\t\t\t\t.replace(\"\\\\f\", \"\\f\")\n\t\t\t\t\t\t.replace(\"\\\\r\", \"\\r\")\n\t\t\t\t\t\t.replace(\"\\\\\\\\\", \"\\\\\")\n\t\t\t\t\t\t.replace(\"\\\\\\\"\", \"\\\"\");\n\t\t\t\t}\n\n\t\t\t\tmembersOnly[m] = false;\n\t\t\t});\n\t\t}\n\n\t\tvar numvals = [\n\t\t\t\"maxstatements\",\n\t\t\t\"maxparams\",\n\t\t\t\"maxdepth\",\n\t\t\t\"maxcomplexity\",\n\t\t\t\"maxerr\",\n\t\t\t\"maxlen\",\n\t\t\t\"indent\"\n\t\t];\n\n\t\tif (nt.type === \"jshint\" || nt.type === \"jslint\") {\n\t\t\tbody.forEach(function (g) {\n\t\t\t\tg = g.split(\":\");\n\t\t\t\tvar key = (g[0] || \"\").trim();\n\t\t\t\tvar val = (g[1] || \"\").trim();\n\n\t\t\t\tif (!checkOption(key, nt)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (numvals.indexOf(key) >= 0) {\n\t\t\t\t\tval = +val;\n\n\t\t\t\t\tif (typeof val !== \"number\" || !isFinite(val) || val <= 0 || Math.floor(val) !== val) {\n\t\t\t\t\t\terror(\"E032\", nt, g[1].trim());\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === \"indent\") {\n\t\t\t\t\t\tstate.option[\"(explicitIndent)\"] = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.option[key] = val;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (key === \"validthis\") {\n\t\t\t\t\t// `validthis` is valid only within a function scope.\n\t\t\t\t\tif (funct[\"(global)\"]) {\n\t\t\t\t\t\terror(\"E009\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (val === \"true\" || val === \"false\") {\n\t\t\t\t\t\t\tstate.option.validthis = (val === \"true\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terror(\"E002\", nt);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (key === \"quotmark\") {\n\t\t\t\t\tswitch (val) {\n\t\t\t\t\tcase \"true\":\n\t\t\t\t\tcase \"false\":\n\t\t\t\t\t\tstate.option.quotmark = (val === \"true\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"double\":\n\t\t\t\t\tcase \"single\":\n\t\t\t\t\t\tstate.option.quotmark = val;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\terror(\"E002\", nt);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (key === \"unused\") {\n\t\t\t\t\tswitch (val) {\n\t\t\t\t\tcase \"true\":\n\t\t\t\t\t\tstate.option.unused = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"false\":\n\t\t\t\t\t\tstate.option.unused = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"vars\":\n\t\t\t\t\tcase \"strict\":\n\t\t\t\t\t\tstate.option.unused = val;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\terror(\"E002\", nt);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (/^-W\\d{3}$/g.test(key)) {\n\t\t\t\t\tignored[key.slice(1)] = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar tn;\n\t\t\t\tif (val === \"true\" || val === \"false\") {\n\t\t\t\t\tif (nt.type === \"jslint\") {\n\t\t\t\t\t\ttn = renamedOptions[key] || key;\n\t\t\t\t\t\tstate.option[tn] = (val === \"true\");\n\n\t\t\t\t\t\tif (invertedOptions[tn] !== undefined) {\n\t\t\t\t\t\t\tstate.option[tn] = !state.option[tn];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate.option[key] = (val === \"true\");\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === \"newcap\") {\n\t\t\t\t\t\tstate.option[\"(explicitNewcap)\"] = true;\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\terror(\"E002\", nt);\n\t\t\t});\n\n\t\t\tassume();\n\t\t}\n\t}\n\n\t// We need a peek function. If it has an argument, it peeks that much farther\n\t// ahead. It is used to distinguish\n\t//\t   for ( var i in ...\n\t// from\n\t//\t   for ( var i = ...\n\n\tfunction peek(p) {\n\t\tvar i = p || 0, j = 0, t;\n\n\t\twhile (j <= i) {\n\t\t\tt = lookahead[j];\n\t\t\tif (!t) {\n\t\t\t\tt = lookahead[j] = lex.token();\n\t\t\t}\n\t\t\tj += 1;\n\t\t}\n\t\treturn t;\n\t}\n\n\t// Produce the next token. It looks for programming errors.\n\n\tfunction advance(id, t) {\n\t\tswitch (state.tokens.curr.id) {\n\t\tcase \"(number)\":\n\t\t\tif (state.tokens.next.id === \".\") {\n\t\t\t\twarning(\"W005\", state.tokens.curr);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"-\":\n\t\t\tif (state.tokens.next.id === \"-\" || state.tokens.next.id === \"--\") {\n\t\t\t\twarning(\"W006\");\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"+\":\n\t\t\tif (state.tokens.next.id === \"+\" || state.tokens.next.id === \"++\") {\n\t\t\t\twarning(\"W007\");\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\tif (state.tokens.curr.type === \"(string)\" || state.tokens.curr.identifier) {\n\t\t\tanonname = state.tokens.curr.value;\n\t\t}\n\n\t\tif (id && state.tokens.next.id !== id) {\n\t\t\tif (t) {\n\t\t\t\tif (state.tokens.next.id === \"(end)\") {\n\t\t\t\t\terror(\"E019\", t, t.id);\n\t\t\t\t} else {\n\t\t\t\t\terror(\"E020\", state.tokens.next, id, t.id, t.line, state.tokens.next.value);\n\t\t\t\t}\n\t\t\t} else if (state.tokens.next.type !== \"(identifier)\" || state.tokens.next.value !== id) {\n\t\t\t\twarning(\"W116\", state.tokens.next, id, state.tokens.next.value);\n\t\t\t}\n\t\t}\n\n\t\tstate.tokens.prev = state.tokens.curr;\n\t\tstate.tokens.curr = state.tokens.next;\n\t\tfor (;;) {\n\t\t\tstate.tokens.next = lookahead.shift() || lex.token();\n\n\t\t\tif (!state.tokens.next) { // No more tokens left, give up\n\t\t\t\tquit(\"E041\", state.tokens.curr.line);\n\t\t\t}\n\n\t\t\tif (state.tokens.next.id === \"(end)\" || state.tokens.next.id === \"(error)\") {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (state.tokens.next.isSpecial) {\n\t\t\t\tdoOption();\n\t\t\t} else {\n\t\t\t\tif (state.tokens.next.id !== \"(endline)\") {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// This is the heart of JSHINT, the Pratt parser. In addition to parsing, it\n\t// is looking for ad hoc lint patterns. We add .fud to Pratt's model, which is\n\t// like .nud except that it is only used on the first token of a statement.\n\t// Having .fud makes it much easier to define statement-oriented languages like\n\t// JavaScript. I retained Pratt's nomenclature.\n\n\t// .nud  Null denotation\n\t// .fud  First null denotation\n\t// .led  Left denotation\n\t//  lbp  Left binding power\n\t//  rbp  Right binding power\n\n\t// They are elements of the parsing method called Top Down Operator Precedence.\n\n\tfunction expression(rbp, initial) {\n\t\tvar left, isArray = false, isObject = false;\n\n\t\tif (state.tokens.next.id === \"(end)\")\n\t\t\terror(\"E006\", state.tokens.curr);\n\n\t\tadvance();\n\n\t\tif (initial) {\n\t\t\tanonname = \"anonymous\";\n\t\t\tfunct[\"(verb)\"] = state.tokens.curr.value;\n\t\t}\n\n\t\tif (initial === true && state.tokens.curr.fud) {\n\t\t\tleft = state.tokens.curr.fud();\n\t\t} else {\n\t\t\tif (state.tokens.curr.nud) {\n\t\t\t\tleft = state.tokens.curr.nud();\n\t\t\t} else {\n\t\t\t\terror(\"E030\", state.tokens.curr, state.tokens.curr.id);\n\t\t\t}\n\n\t\t\twhile (rbp < state.tokens.next.lbp) {\n\t\t\t\tisArray = state.tokens.curr.value === \"Array\";\n\t\t\t\tisObject = state.tokens.curr.value === \"Object\";\n\n\t\t\t\t// #527, new Foo.Array(), Foo.Array(), new Foo.Object(), Foo.Object()\n\t\t\t\t// Line breaks in IfStatement heads exist to satisfy the checkJSHint\n\t\t\t\t// \"Line too long.\" error.\n\t\t\t\tif (left && (left.value || (left.first && left.first.value))) {\n\t\t\t\t\t// If the left.value is not \"new\", or the left.first.value is a \".\"\n\t\t\t\t\t// then safely assume that this is not \"new Array()\" and possibly\n\t\t\t\t\t// not \"new Object()\"...\n\t\t\t\t\tif (left.value !== \"new\" ||\n\t\t\t\t\t  (left.first && left.first.value && left.first.value === \".\")) {\n\t\t\t\t\t\tisArray = false;\n\t\t\t\t\t\t// ...In the case of Object, if the left.value and state.tokens.curr.value\n\t\t\t\t\t\t// are not equal, then safely assume that this not \"new Object()\"\n\t\t\t\t\t\tif (left.value !== state.tokens.curr.value) {\n\t\t\t\t\t\t\tisObject = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tadvance();\n\n\t\t\t\tif (isArray && state.tokens.curr.id === \"(\" && state.tokens.next.id === \")\") {\n\t\t\t\t\twarning(\"W009\", state.tokens.curr);\n\t\t\t\t}\n\n\t\t\t\tif (isObject && state.tokens.curr.id === \"(\" && state.tokens.next.id === \")\") {\n\t\t\t\t\twarning(\"W010\", state.tokens.curr);\n\t\t\t\t}\n\n\t\t\t\tif (state.tokens.curr.led) {\n\t\t\t\t\tleft = state.tokens.curr.led(left);\n\t\t\t\t} else {\n\t\t\t\t\terror(\"E033\", state.tokens.curr, state.tokens.curr.id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn left;\n\t}\n\n\n// Functions for conformance of style.\n\n\tfunction adjacent(left, right) {\n\t\tleft = left || state.tokens.curr;\n\t\tright = right || state.tokens.next;\n\t\tif (state.option.white) {\n\t\t\tif (left.character !== right.from && left.line === right.line) {\n\t\t\t\tleft.from += (left.character - left.from);\n\t\t\t\twarning(\"W011\", left, left.value);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction nobreak(left, right) {\n\t\tleft = left || state.tokens.curr;\n\t\tright = right || state.tokens.next;\n\t\tif (state.option.white && (left.character !== right.from || left.line !== right.line)) {\n\t\t\twarning(\"W012\", right, right.value);\n\t\t}\n\t}\n\n\tfunction nospace(left, right) {\n\t\tleft = left || state.tokens.curr;\n\t\tright = right || state.tokens.next;\n\t\tif (state.option.white && !left.comment) {\n\t\t\tif (left.line === right.line) {\n\t\t\t\tadjacent(left, right);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction nonadjacent(left, right) {\n\t\tif (state.option.white) {\n\t\t\tleft = left || state.tokens.curr;\n\t\t\tright = right || state.tokens.next;\n\n\t\t\tif (left.value === \";\" && right.value === \";\") {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (left.line === right.line && left.character === right.from) {\n\t\t\t\tleft.from += (left.character - left.from);\n\t\t\t\twarning(\"W013\", left, left.value);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction nobreaknonadjacent(left, right) {\n\t\tleft = left || state.tokens.curr;\n\t\tright = right || state.tokens.next;\n\t\tif (!state.option.laxbreak && left.line !== right.line) {\n\t\t\twarning(\"W014\", right, right.id);\n\t\t} else if (state.option.white) {\n\t\t\tleft = left || state.tokens.curr;\n\t\t\tright = right || state.tokens.next;\n\t\t\tif (left.character === right.from) {\n\t\t\t\tleft.from += (left.character - left.from);\n\t\t\t\twarning(\"W013\", left, left.value);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction indentation(bias) {\n\t\tif (!state.option.white && !state.option[\"(explicitIndent)\"]) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (state.tokens.next.id === \"(end)\") {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i = indent + (bias || 0);\n\t\tif (state.tokens.next.from !== i) {\n\t\t\twarning(\"W015\", state.tokens.next, state.tokens.next.value, i, state.tokens.next.from);\n\t\t}\n\t}\n\n\tfunction nolinebreak(t) {\n\t\tt = t || state.tokens.curr;\n\t\tif (t.line !== state.tokens.next.line) {\n\t\t\twarning(\"E022\", t, t.value);\n\t\t}\n\t}\n\n\n\tfunction comma(opts) {\n\t\topts = opts || {};\n\n\t\tif (state.tokens.curr.line !== state.tokens.next.line) {\n\t\t\tif (!state.option.laxcomma) {\n\t\t\t\tif (comma.first) {\n\t\t\t\t\twarning(\"I001\");\n\t\t\t\t\tcomma.first = false;\n\t\t\t\t}\n\t\t\t\twarning(\"W014\", state.tokens.curr, state.tokens.next.id);\n\t\t\t}\n\t\t} else if (!state.tokens.curr.comment &&\n\t\t\t\tstate.tokens.curr.character !== state.tokens.next.from && state.option.white) {\n\t\t\tstate.tokens.curr.from += (state.tokens.curr.character - state.tokens.curr.from);\n\t\t\twarning(\"W011\", state.tokens.curr, state.tokens.curr.value);\n\t\t}\n\n\t\tadvance(\",\");\n\n\t\t// TODO: This is a temporary solution to fight against false-positives in\n\t\t// arrays and objects with trailing commas (see GH-363). The best solution\n\t\t// would be to extract all whitespace rules out of parser.\n\n\t\tif (state.tokens.next.value !== \"]\" && state.tokens.next.value !== \"}\") {\n\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t}\n\n\t\tif (state.tokens.next.identifier) {\n\t\t\t// Keywords that cannot follow a comma operator.\n\t\t\tswitch (state.tokens.next.value) {\n\t\t\tcase \"break\":\n\t\t\tcase \"case\":\n\t\t\tcase \"catch\":\n\t\t\tcase \"continue\":\n\t\t\tcase \"default\":\n\t\t\tcase \"do\":\n\t\t\tcase \"else\":\n\t\t\tcase \"finally\":\n\t\t\tcase \"for\":\n\t\t\tcase \"if\":\n\t\t\tcase \"in\":\n\t\t\tcase \"instanceof\":\n\t\t\tcase \"return\":\n\t\t\tcase \"switch\":\n\t\t\tcase \"throw\":\n\t\t\tcase \"try\":\n\t\t\tcase \"var\":\n\t\t\tcase \"while\":\n\t\t\tcase \"with\":\n\t\t\t\terror(\"E024\", state.tokens.next, state.tokens.next.value);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (state.tokens.next.type === \"(punctuator)\") {\n\t\t\tswitch (state.tokens.next.value) {\n\t\t\tcase \"}\":\n\t\t\tcase \"]\":\n\t\t\tcase \",\":\n\t\t\t\tif (opts.allowTrailing) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/* falls through */\n\t\t\tcase \")\":\n\t\t\t\terror(\"E024\", state.tokens.next, state.tokens.next.value);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Functional constructors for making the symbols that will be inherited by\n\t// tokens.\n\n\tfunction symbol(s, p) {\n\t\tvar x = state.syntax[s];\n\t\tif (!x || typeof x !== \"object\") {\n\t\t\tstate.syntax[s] = x = {\n\t\t\t\tid: s,\n\t\t\t\tlbp: p,\n\t\t\t\tvalue: s\n\t\t\t};\n\t\t}\n\t\treturn x;\n\t}\n\n\tfunction delim(s) {\n\t\treturn symbol(s, 0);\n\t}\n\n\tfunction stmt(s, f) {\n\t\tvar x = delim(s);\n\t\tx.identifier = x.reserved = true;\n\t\tx.fud = f;\n\t\treturn x;\n\t}\n\n\tfunction blockstmt(s, f) {\n\t\tvar x = stmt(s, f);\n\t\tx.block = true;\n\t\treturn x;\n\t}\n\n\tfunction reserveName(x) {\n\t\tvar c = x.id.charAt(0);\n\t\tif ((c >= \"a\" && c <= \"z\") || (c >= \"A\" && c <= \"Z\")) {\n\t\t\tx.identifier = x.reserved = true;\n\t\t}\n\t\treturn x;\n\t}\n\n\tfunction prefix(s, f) {\n\t\tvar x = symbol(s, 150);\n\t\treserveName(x);\n\t\tx.nud = (typeof f === \"function\") ? f : function () {\n\t\t\tthis.right = expression(150);\n\t\t\tthis.arity = \"unary\";\n\t\t\tif (this.id === \"++\" || this.id === \"--\") {\n\t\t\t\tif (state.option.plusplus) {\n\t\t\t\t\twarning(\"W016\", this, this.id);\n\t\t\t\t} else if ((!this.right.identifier || isReserved(this.right)) &&\n\t\t\t\t\t\tthis.right.id !== \".\" && this.right.id !== \"[\") {\n\t\t\t\t\twarning(\"W017\", this);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\treturn x;\n\t}\n\n\tfunction type(s, f) {\n\t\tvar x = delim(s);\n\t\tx.type = s;\n\t\tx.nud = f;\n\t\treturn x;\n\t}\n\n\tfunction reserve(name, func) {\n\t\tvar x = type(name, func);\n\t\tx.identifier = true;\n\t\tx.reserved = true;\n\t\treturn x;\n\t}\n\n\tfunction FutureReservedWord(name, meta) {\n\t\tvar x = type(name, function () {\n\t\t\treturn this;\n\t\t});\n\n\t\tmeta = meta || {};\n\t\tmeta.isFutureReservedWord = true;\n\n\t\tx.value = name;\n\t\tx.identifier = true;\n\t\tx.reserved = true;\n\t\tx.meta = meta;\n\n\t\treturn x;\n\t}\n\n\tfunction reservevar(s, v) {\n\t\treturn reserve(s, function () {\n\t\t\tif (typeof v === \"function\") {\n\t\t\t\tv(this);\n\t\t\t}\n\t\t\treturn this;\n\t\t});\n\t}\n\n\tfunction infix(s, f, p, w) {\n\t\tvar x = symbol(s, p);\n\t\treserveName(x);\n\t\tx.led = function (left) {\n\t\t\tif (!w) {\n\t\t\t\tnobreaknonadjacent(state.tokens.prev, state.tokens.curr);\n\t\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t}\n\t\t\tif (s === \"in\" && left.id === \"!\") {\n\t\t\t\twarning(\"W018\", left, \"!\");\n\t\t\t}\n\t\t\tif (typeof f === \"function\") {\n\t\t\t\treturn f(left, this);\n\t\t\t} else {\n\t\t\t\tthis.left = left;\n\t\t\t\tthis.right = expression(p);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t\treturn x;\n\t}\n\n\tfunction relation(s, f) {\n\t\tvar x = symbol(s, 100);\n\n\t\tx.led = function (left) {\n\t\t\tnobreaknonadjacent(state.tokens.prev, state.tokens.curr);\n\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\tvar right = expression(100);\n\n\t\t\tif (isIdentifier(left, \"NaN\") || isIdentifier(right, \"NaN\")) {\n\t\t\t\twarning(\"W019\", this);\n\t\t\t} else if (f) {\n\t\t\t\tf.apply(this, [left, right]);\n\t\t\t}\n\n\t\t\tif (!left || !right) {\n\t\t\t\tquit(\"E041\", state.tokens.curr.line);\n\t\t\t}\n\n\t\t\tif (left.id === \"!\") {\n\t\t\t\twarning(\"W018\", left, \"!\");\n\t\t\t}\n\n\t\t\tif (right.id === \"!\") {\n\t\t\t\twarning(\"W018\", right, \"!\");\n\t\t\t}\n\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t\treturn this;\n\t\t};\n\t\treturn x;\n\t}\n\n\tfunction isPoorRelation(node) {\n\t\treturn node &&\n\t\t\t  ((node.type === \"(number)\" && +node.value === 0) ||\n\t\t\t   (node.type === \"(string)\" && node.value === \"\") ||\n\t\t\t   (node.type === \"null\" && !state.option.eqnull) ||\n\t\t\t\tnode.type === \"true\" ||\n\t\t\t\tnode.type === \"false\" ||\n\t\t\t\tnode.type === \"undefined\");\n\t}\n\n\tfunction assignop(s) {\n\t\tsymbol(s, 20).exps = true;\n\n\t\treturn infix(s, function (left, that) {\n\t\t\tthat.left = left;\n\n\t\t\tif (predefined[left.value] === false &&\n\t\t\t\t\tscope[left.value][\"(global)\"] === true) {\n\t\t\t\twarning(\"W020\", left);\n\t\t\t} else if (left[\"function\"]) {\n\t\t\t\twarning(\"W021\", left, left.value);\n\t\t\t}\n\n\t\t\tif (left) {\n\t\t\t\tif (state.option.esnext && funct[left.value] === \"const\") {\n\t\t\t\t\terror(\"E013\", left, left.value);\n\t\t\t\t}\n\n\t\t\t\tif (left.id === \".\" || left.id === \"[\") {\n\t\t\t\t\tif (!left.left || left.left.value === \"arguments\") {\n\t\t\t\t\t\twarning(\"E031\", that);\n\t\t\t\t\t}\n\t\t\t\t\tthat.right = expression(19);\n\t\t\t\t\treturn that;\n\t\t\t\t} else if (left.identifier && !isReserved(left)) {\n\t\t\t\t\tif (funct[left.value] === \"exception\") {\n\t\t\t\t\t\twarning(\"W022\", left);\n\t\t\t\t\t}\n\t\t\t\t\tthat.right = expression(19);\n\t\t\t\t\treturn that;\n\t\t\t\t}\n\n\t\t\t\tif (left === state.syntax[\"function\"]) {\n\t\t\t\t\twarning(\"W023\", state.tokens.curr);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\terror(\"E031\", that);\n\t\t}, 20);\n\t}\n\n\n\tfunction bitwise(s, f, p) {\n\t\tvar x = symbol(s, p);\n\t\treserveName(x);\n\t\tx.led = (typeof f === \"function\") ? f : function (left) {\n\t\t\tif (state.option.bitwise) {\n\t\t\t\twarning(\"W016\", this, this.id);\n\t\t\t}\n\t\t\tthis.left = left;\n\t\t\tthis.right = expression(p);\n\t\t\treturn this;\n\t\t};\n\t\treturn x;\n\t}\n\n\n\tfunction bitwiseassignop(s) {\n\t\tsymbol(s, 20).exps = true;\n\t\treturn infix(s, function (left, that) {\n\t\t\tif (state.option.bitwise) {\n\t\t\t\twarning(\"W016\", that, that.id);\n\t\t\t}\n\t\t\tnonadjacent(state.tokens.prev, state.tokens.curr);\n\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\tif (left) {\n\t\t\t\tif (left.id === \".\" || left.id === \"[\" ||\n\t\t\t\t\t\t(left.identifier && !isReserved(left))) {\n\t\t\t\t\texpression(19);\n\t\t\t\t\treturn that;\n\t\t\t\t}\n\t\t\t\tif (left === state.syntax[\"function\"]) {\n\t\t\t\t\twarning(\"W023\", state.tokens.curr);\n\t\t\t\t}\n\t\t\t\treturn that;\n\t\t\t}\n\t\t\terror(\"E031\", that);\n\t\t}, 20);\n\t}\n\n\n\tfunction suffix(s) {\n\t\tvar x = symbol(s, 150);\n\n\t\tx.led = function (left) {\n\t\t\tif (state.option.plusplus) {\n\t\t\t\twarning(\"W016\", this, this.id);\n\t\t\t} else if ((!left.identifier || isReserved(left)) && left.id !== \".\" && left.id !== \"[\") {\n\t\t\t\twarning(\"W017\", this);\n\t\t\t}\n\n\t\t\tthis.left = left;\n\t\t\treturn this;\n\t\t};\n\t\treturn x;\n\t}\n\n\t// fnparam means that this identifier is being defined as a function\n\t// argument (see identifier())\n\t// prop means that this identifier is that of an object property\n\n\tfunction optionalidentifier(fnparam, prop) {\n\t\tif (!state.tokens.next.identifier) {\n\t\t\treturn;\n\t\t}\n\n\t\tadvance();\n\n\t\tvar curr = state.tokens.curr;\n\t\tvar meta = curr.meta || {};\n\t\tvar val  = state.tokens.curr.value;\n\n\t\tif (!isReserved(curr)) {\n\t\t\treturn val;\n\t\t}\n\n\t\tif (prop) {\n\t\t\tif (state.option.es5 || meta.isFutureReservedWord) {\n\t\t\t\treturn val;\n\t\t\t}\n\t\t}\n\n\t\tif (fnparam && val === \"undefined\") {\n\t\t\treturn val;\n\t\t}\n\n\t\twarning(\"W024\", state.tokens.curr, state.tokens.curr.id);\n\t\treturn val;\n\t}\n\n\t// fnparam means that this identifier is being defined as a function\n\t// argument\n\t// prop means that this identifier is that of an object property\n\tfunction identifier(fnparam, prop) {\n\t\tvar i = optionalidentifier(fnparam, prop);\n\t\tif (i) {\n\t\t\treturn i;\n\t\t}\n\t\tif (state.tokens.curr.id === \"function\" && state.tokens.next.id === \"(\") {\n\t\t\twarning(\"W025\");\n\t\t} else {\n\t\t\terror(\"E030\", state.tokens.next, state.tokens.next.value);\n\t\t}\n\t}\n\n\n\tfunction reachable(s) {\n\t\tvar i = 0, t;\n\t\tif (state.tokens.next.id !== \";\" || noreach) {\n\t\t\treturn;\n\t\t}\n\t\tfor (;;) {\n\t\t\tt = peek(i);\n\t\t\tif (t.reach) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (t.id !== \"(endline)\") {\n\t\t\t\tif (t.id === \"function\") {\n\t\t\t\t\tif (!state.option.latedef) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\twarning(\"W026\", t);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\twarning(\"W027\", t, t.value, s);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ti += 1;\n\t\t}\n\t}\n\n\n\tfunction statement(noindent) {\n\t\tvar i = indent, r, s = scope, t = state.tokens.next;\n\n\t\tif (t.id === \";\") {\n\t\t\tadvance(\";\");\n\t\t\treturn;\n\t\t}\n\n\t\t// Is this a labelled statement?\n\t\tvar res = isReserved(t);\n\n\t\t// We're being more tolerant here: if someone uses\n\t\t// a FutureReservedWord as a label, we warn but proceed\n\t\t// anyway.\n\n\t\tif (res && t.meta && t.meta.isFutureReservedWord) {\n\t\t\twarning(\"W024\", t, t.id);\n\t\t\tres = false;\n\t\t}\n\n\t\tif (t.identifier && !res && peek().id === \":\") {\n\t\t\tadvance();\n\t\t\tadvance(\":\");\n\t\t\tscope = Object.create(s);\n\t\t\taddlabel(t.value, \"label\");\n\n\t\t\tif (!state.tokens.next.labelled && state.tokens.next.value !== \"{\") {\n\t\t\t\twarning(\"W028\", state.tokens.next, t.value, state.tokens.next.value);\n\t\t\t}\n\n\t\t\tif (reg.javascriptURL.test(t.value + \":\")) {\n\t\t\t\twarning(\"W029\", t, t.value);\n\t\t\t}\n\n\t\t\tstate.tokens.next.label = t.value;\n\t\t\tt = state.tokens.next;\n\t\t}\n\n\t\t// Is it a lonely block?\n\n\t\tif (t.id === \"{\") {\n\t\t\tblock(true, true);\n\t\t\treturn;\n\t\t}\n\n\t\t// Parse the statement.\n\n\t\tif (!noindent) {\n\t\t\tindentation();\n\t\t}\n\t\tr = expression(0, true);\n\n\t\t// Look for the final semicolon.\n\n\t\tif (!t.block) {\n\t\t\tif (!state.option.expr && (!r || !r.exps)) {\n\t\t\t\twarning(\"W030\", state.tokens.curr);\n\t\t\t} else if (state.option.nonew && r.id === \"(\" && r.left.id === \"new\") {\n\t\t\t\twarning(\"W031\", t);\n\t\t\t}\n\n\t\t\tif (state.tokens.next.id === \",\") {\n\t\t\t\treturn comma();\n\t\t\t}\n\n\t\t\tif (state.tokens.next.id !== \";\") {\n\t\t\t\tif (!state.option.asi) {\n\t\t\t\t\t// If this is the last statement in a block that ends on\n\t\t\t\t\t// the same line *and* option lastsemic is on, ignore the warning.\n\t\t\t\t\t// Otherwise, complain about missing semicolon.\n\t\t\t\t\tif (!state.option.lastsemic || state.tokens.next.id !== \"}\" ||\n\t\t\t\t\t\tstate.tokens.next.line !== state.tokens.curr.line) {\n\t\t\t\t\t\twarningAt(\"W033\", state.tokens.curr.line, state.tokens.curr.character);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\tadvance(\";\");\n\t\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t}\n\t\t}\n\n\t\t// Restore the indentation.\n\n\t\tindent = i;\n\t\tscope = s;\n\t\treturn r;\n\t}\n\n\n\tfunction statements(startLine) {\n\t\tvar a = [], p;\n\n\t\twhile (!state.tokens.next.reach && state.tokens.next.id !== \"(end)\") {\n\t\t\tif (state.tokens.next.id === \";\") {\n\t\t\t\tp = peek();\n\n\t\t\t\tif (!p || (p.id !== \"(\" && p.id !== \"[\")) {\n\t\t\t\t\twarning(\"W032\");\n\t\t\t\t}\n\n\t\t\t\tadvance(\";\");\n\t\t\t} else {\n\t\t\t\ta.push(statement(startLine === state.tokens.next.line));\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t}\n\n\n\t/*\n\t * read all directives\n\t * recognizes a simple form of asi, but always\n\t * warns, if it is used\n\t */\n\tfunction directives() {\n\t\tvar i, p, pn;\n\n\t\tfor (;;) {\n\t\t\tif (state.tokens.next.id === \"(string)\") {\n\t\t\t\tp = peek(0);\n\t\t\t\tif (p.id === \"(endline)\") {\n\t\t\t\t\ti = 1;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tpn = peek(i);\n\t\t\t\t\t\ti = i + 1;\n\t\t\t\t\t} while (pn.id === \"(endline)\");\n\n\t\t\t\t\tif (pn.id !== \";\") {\n\t\t\t\t\t\tif (pn.id !== \"(string)\" && pn.id !== \"(number)\" &&\n\t\t\t\t\t\t\tpn.id !== \"(regexp)\" && pn.identifier !== true &&\n\t\t\t\t\t\t\tpn.id !== \"}\") {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\twarning(\"W033\", state.tokens.next);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp = pn;\n\t\t\t\t\t}\n\t\t\t\t} else if (p.id === \"}\") {\n\t\t\t\t\t// Directive with no other statements, warn about missing semicolon\n\t\t\t\t\twarning(\"W033\", p);\n\t\t\t\t} else if (p.id !== \";\") {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tindentation();\n\t\t\t\tadvance();\n\t\t\t\tif (state.directive[state.tokens.curr.value]) {\n\t\t\t\t\twarning(\"W034\", state.tokens.curr, state.tokens.curr.value);\n\t\t\t\t}\n\n\t\t\t\tif (state.tokens.curr.value === \"use strict\") {\n\t\t\t\t\tif (!state.option[\"(explicitNewcap)\"])\n\t\t\t\t\t\tstate.option.newcap = true;\n\t\t\t\t\tstate.option.undef = true;\n\t\t\t\t}\n\n\t\t\t\t// there's no directive negation, so always set to true\n\t\t\t\tstate.directive[state.tokens.curr.value] = true;\n\n\t\t\t\tif (p.id === \";\") {\n\t\t\t\t\tadvance(\";\");\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\n\t/*\n\t * Parses a single block. A block is a sequence of statements wrapped in\n\t * braces.\n\t *\n\t * ordinary - true for everything but function bodies and try blocks.\n\t * stmt\t\t- true if block can be a single statement (e.g. in if/for/while).\n\t * isfunc\t- true if block is a function body\n\t */\n\tfunction block(ordinary, stmt, isfunc) {\n\t\tvar a,\n\t\t\tb = inblock,\n\t\t\told_indent = indent,\n\t\t\tm,\n\t\t\ts = scope,\n\t\t\tt,\n\t\t\tline,\n\t\t\td;\n\n\t\tinblock = ordinary;\n\n\t\tif (!ordinary || !state.option.funcscope)\n\t\t\tscope = Object.create(scope);\n\n\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\tt = state.tokens.next;\n\n\t\tvar metrics = funct[\"(metrics)\"];\n\t\tmetrics.nestedBlockDepth += 1;\n\t\tmetrics.verifyMaxNestedBlockDepthPerFunction();\n\n\t\tif (state.tokens.next.id === \"{\") {\n\t\t\tadvance(\"{\");\n\t\t\tline = state.tokens.curr.line;\n\t\t\tif (state.tokens.next.id !== \"}\") {\n\t\t\t\tindent += state.option.indent;\n\t\t\t\twhile (!ordinary && state.tokens.next.from > indent) {\n\t\t\t\t\tindent += state.option.indent;\n\t\t\t\t}\n\n\t\t\t\tif (isfunc) {\n\t\t\t\t\tm = {};\n\t\t\t\t\tfor (d in state.directive) {\n\t\t\t\t\t\tif (_.has(state.directive, d)) {\n\t\t\t\t\t\t\tm[d] = state.directive[d];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdirectives();\n\n\t\t\t\t\tif (state.option.strict && funct[\"(context)\"][\"(global)\"]) {\n\t\t\t\t\t\tif (!m[\"use strict\"] && !state.directive[\"use strict\"]) {\n\t\t\t\t\t\t\twarning(\"E007\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ta = statements(line);\n\n\t\t\t\tmetrics.statementCount += a.length;\n\n\t\t\t\tif (isfunc) {\n\t\t\t\t\tstate.directive = m;\n\t\t\t\t}\n\n\t\t\t\tindent -= state.option.indent;\n\t\t\t\tif (line !== state.tokens.next.line) {\n\t\t\t\t\tindentation();\n\t\t\t\t}\n\t\t\t} else if (line !== state.tokens.next.line) {\n\t\t\t\tindentation();\n\t\t\t}\n\t\t\tadvance(\"}\", t);\n\t\t\tindent = old_indent;\n\t\t} else if (!ordinary) {\n\t\t\terror(\"E021\", state.tokens.next, \"{\", state.tokens.next.value);\n\t\t} else {\n\t\t\tif (!stmt || state.option.curly) {\n\t\t\t\twarning(\"W116\", state.tokens.next, \"{\", state.tokens.next.value);\n\t\t\t}\n\n\t\t\tnoreach = true;\n\t\t\tindent += state.option.indent;\n\t\t\t// test indentation only if statement is in new line\n\t\t\ta = [statement(state.tokens.next.line === state.tokens.curr.line)];\n\t\t\tindent -= state.option.indent;\n\t\t\tnoreach = false;\n\t\t}\n\t\tfunct[\"(verb)\"] = null;\n\t\tif (!ordinary || !state.option.funcscope) scope = s;\n\t\tinblock = b;\n\t\tif (ordinary && state.option.noempty && (!a || a.length === 0)) {\n\t\t\twarning(\"W035\");\n\t\t}\n\t\tmetrics.nestedBlockDepth -= 1;\n\t\treturn a;\n\t}\n\n\n\tfunction countMember(m) {\n\t\tif (membersOnly && typeof membersOnly[m] !== \"boolean\") {\n\t\t\twarning(\"W036\", state.tokens.curr, m);\n\t\t}\n\t\tif (typeof member[m] === \"number\") {\n\t\t\tmember[m] += 1;\n\t\t} else {\n\t\t\tmember[m] = 1;\n\t\t}\n\t}\n\n\n\tfunction note_implied(tkn) {\n\t\tvar name = tkn.value, line = tkn.line, a = implied[name];\n\t\tif (typeof a === \"function\") {\n\t\t\ta = false;\n\t\t}\n\n\t\tif (!a) {\n\t\t\ta = [line];\n\t\t\timplied[name] = a;\n\t\t} else if (a[a.length - 1] !== line) {\n\t\t\ta.push(line);\n\t\t}\n\t}\n\n\n\t// Build the syntax table by declaring the syntactic elements of the language.\n\n\ttype(\"(number)\", function () {\n\t\treturn this;\n\t});\n\n\ttype(\"(string)\", function () {\n\t\treturn this;\n\t});\n\n\tstate.syntax[\"(identifier)\"] = {\n\t\ttype: \"(identifier)\",\n\t\tlbp: 0,\n\t\tidentifier: true,\n\t\tnud: function () {\n\t\t\tvar v = this.value,\n\t\t\t\ts = scope[v],\n\t\t\t\tf;\n\n\t\t\tif (typeof s === \"function\") {\n\t\t\t\t// Protection against accidental inheritance.\n\t\t\t\ts = undefined;\n\t\t\t} else if (typeof s === \"boolean\") {\n\t\t\t\tf = funct;\n\t\t\t\tfunct = functions[0];\n\t\t\t\taddlabel(v, \"var\");\n\t\t\t\ts = funct;\n\t\t\t\tfunct = f;\n\t\t\t}\n\n\t\t\t// The name is in scope and defined in the current function.\n\t\t\tif (funct === s) {\n\t\t\t\t// Change 'unused' to 'var', and reject labels.\n\t\t\t\tswitch (funct[v]) {\n\t\t\t\tcase \"unused\":\n\t\t\t\t\tfunct[v] = \"var\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"unction\":\n\t\t\t\t\tfunct[v] = \"function\";\n\t\t\t\t\tthis[\"function\"] = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"function\":\n\t\t\t\t\tthis[\"function\"] = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"label\":\n\t\t\t\t\twarning(\"W037\", state.tokens.curr, v);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if (funct[\"(global)\"]) {\n\t\t\t\t// The name is not defined in the function.  If we are in the global\n\t\t\t\t// scope, then we have an undefined variable.\n\t\t\t\t//\n\t\t\t\t// Operators typeof and delete do not raise runtime errors even if\n\t\t\t\t// the base object of a reference is null so no need to display warning\n\t\t\t\t// if we're inside of typeof or delete.\n\n\t\t\t\tif (typeof predefined[v] !== \"boolean\") {\n\t\t\t\t\t// Attempting to subscript a null reference will throw an\n\t\t\t\t\t// error, even within the typeof and delete operators\n\t\t\t\t\tif (!(anonname === \"typeof\" || anonname === \"delete\") ||\n\t\t\t\t\t\t(state.tokens.next && (state.tokens.next.value === \".\" ||\n\t\t\t\t\t\t\tstate.tokens.next.value === \"[\"))) {\n\n\t\t\t\t\t\tisundef(funct, \"W117\", state.tokens.curr, v);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tnote_implied(state.tokens.curr);\n\t\t\t} else {\n\t\t\t\t// If the name is already defined in the current\n\t\t\t\t// function, but not as outer, then there is a scope error.\n\n\t\t\t\tswitch (funct[v]) {\n\t\t\t\tcase \"closure\":\n\t\t\t\tcase \"function\":\n\t\t\t\tcase \"var\":\n\t\t\t\tcase \"unused\":\n\t\t\t\t\twarning(\"W038\", state.tokens.curr, v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"label\":\n\t\t\t\t\twarning(\"W037\", state.tokens.curr, v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"outer\":\n\t\t\t\tcase \"global\":\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// If the name is defined in an outer function, make an outer entry,\n\t\t\t\t\t// and if it was unused, make it var.\n\t\t\t\t\tif (s === true) {\n\t\t\t\t\t\tfunct[v] = true;\n\t\t\t\t\t} else if (s === null) {\n\t\t\t\t\t\twarning(\"W039\", state.tokens.curr, v);\n\t\t\t\t\t\tnote_implied(state.tokens.curr);\n\t\t\t\t\t} else if (typeof s !== \"object\") {\n\t\t\t\t\t\t// Operators typeof and delete do not raise runtime errors even\n\t\t\t\t\t\t// if the base object of a reference is null so no need to\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// display warning if we're inside of typeof or delete.\n\t\t\t\t\t\t// Attempting to subscript a null reference will throw an\n\t\t\t\t\t\t// error, even within the typeof and delete operators\n\t\t\t\t\t\tif (!(anonname === \"typeof\" || anonname === \"delete\") ||\n\t\t\t\t\t\t\t(state.tokens.next &&\n\t\t\t\t\t\t\t\t(state.tokens.next.value === \".\" || state.tokens.next.value === \"[\"))) {\n\n\t\t\t\t\t\t\tisundef(funct, \"W117\", state.tokens.curr, v);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfunct[v] = true;\n\t\t\t\t\t\tnote_implied(state.tokens.curr);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitch (s[v]) {\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tcase \"unction\":\n\t\t\t\t\t\t\tthis[\"function\"] = true;\n\t\t\t\t\t\t\ts[v] = \"closure\";\n\t\t\t\t\t\t\tfunct[v] = s[\"(global)\"] ? \"global\" : \"outer\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"var\":\n\t\t\t\t\t\tcase \"unused\":\n\t\t\t\t\t\t\ts[v] = \"closure\";\n\t\t\t\t\t\t\tfunct[v] = s[\"(global)\"] ? \"global\" : \"outer\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"closure\":\n\t\t\t\t\t\t\tfunct[v] = s[\"(global)\"] ? \"global\" : \"outer\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"label\":\n\t\t\t\t\t\t\twarning(\"W037\", state.tokens.curr, v);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tled: function () {\n\t\t\terror(\"E033\", state.tokens.next, state.tokens.next.value);\n\t\t}\n\t};\n\n\ttype(\"(regexp)\", function () {\n\t\treturn this;\n\t});\n\n\t// ECMAScript parser\n\n\tdelim(\"(endline)\");\n\tdelim(\"(begin)\");\n\tdelim(\"(end)\").reach = true;\n\tdelim(\"(error)\").reach = true;\n\tdelim(\"}\").reach = true;\n\tdelim(\")\");\n\tdelim(\"]\");\n\tdelim(\"\\\"\").reach = true;\n\tdelim(\"'\").reach = true;\n\tdelim(\";\");\n\tdelim(\":\").reach = true;\n\tdelim(\",\");\n\tdelim(\"#\");\n\n\treserve(\"else\");\n\treserve(\"case\").reach = true;\n\treserve(\"catch\");\n\treserve(\"default\").reach = true;\n\treserve(\"finally\");\n\treservevar(\"arguments\", function (x) {\n\t\tif (state.directive[\"use strict\"] && funct[\"(global)\"]) {\n\t\t\twarning(\"E008\", x);\n\t\t}\n\t});\n\treservevar(\"eval\");\n\treservevar(\"false\");\n\treservevar(\"Infinity\");\n\treservevar(\"null\");\n\treservevar(\"this\", function (x) {\n\t\tif (state.directive[\"use strict\"] && !state.option.validthis && ((funct[\"(statement)\"] &&\n\t\t\t\tfunct[\"(name)\"].charAt(0) > \"Z\") || funct[\"(global)\"])) {\n\t\t\twarning(\"W040\", x);\n\t\t}\n\t});\n\treservevar(\"true\");\n\treservevar(\"undefined\");\n\n\tassignop(\"=\", \"assign\", 20);\n\tassignop(\"+=\", \"assignadd\", 20);\n\tassignop(\"-=\", \"assignsub\", 20);\n\tassignop(\"*=\", \"assignmult\", 20);\n\tassignop(\"/=\", \"assigndiv\", 20).nud = function () {\n\t\terror(\"E014\");\n\t};\n\tassignop(\"%=\", \"assignmod\", 20);\n\n\tbitwiseassignop(\"&=\", \"assignbitand\", 20);\n\tbitwiseassignop(\"|=\", \"assignbitor\", 20);\n\tbitwiseassignop(\"^=\", \"assignbitxor\", 20);\n\tbitwiseassignop(\"<<=\", \"assignshiftleft\", 20);\n\tbitwiseassignop(\">>=\", \"assignshiftright\", 20);\n\tbitwiseassignop(\">>>=\", \"assignshiftrightunsigned\", 20);\n\tinfix(\"?\", function (left, that) {\n\t\tthat.left = left;\n\t\tthat.right = expression(10);\n\t\tadvance(\":\");\n\t\tthat[\"else\"] = expression(10);\n\t\treturn that;\n\t}, 30);\n\n\tinfix(\"||\", \"or\", 40);\n\tinfix(\"&&\", \"and\", 50);\n\tbitwise(\"|\", \"bitor\", 70);\n\tbitwise(\"^\", \"bitxor\", 80);\n\tbitwise(\"&\", \"bitand\", 90);\n\trelation(\"==\", function (left, right) {\n\t\tvar eqnull = state.option.eqnull && (left.value === \"null\" || right.value === \"null\");\n\n\t\tif (!eqnull && state.option.eqeqeq)\n\t\t\twarning(\"W116\", this, \"===\", \"==\");\n\t\telse if (isPoorRelation(left))\n\t\t\twarning(\"W041\", this, \"===\", left.value);\n\t\telse if (isPoorRelation(right))\n\t\t\twarning(\"W041\", this, \"===\", right.value);\n\n\t\treturn this;\n\t});\n\trelation(\"===\");\n\trelation(\"!=\", function (left, right) {\n\t\tvar eqnull = state.option.eqnull &&\n\t\t\t\t(left.value === \"null\" || right.value === \"null\");\n\n\t\tif (!eqnull && state.option.eqeqeq) {\n\t\t\twarning(\"W116\", this, \"!==\", \"!=\");\n\t\t} else if (isPoorRelation(left)) {\n\t\t\twarning(\"W041\", this, \"!==\", left.value);\n\t\t} else if (isPoorRelation(right)) {\n\t\t\twarning(\"W041\", this, \"!==\", right.value);\n\t\t}\n\t\treturn this;\n\t});\n\trelation(\"!==\");\n\trelation(\"<\");\n\trelation(\">\");\n\trelation(\"<=\");\n\trelation(\">=\");\n\tbitwise(\"<<\", \"shiftleft\", 120);\n\tbitwise(\">>\", \"shiftright\", 120);\n\tbitwise(\">>>\", \"shiftrightunsigned\", 120);\n\tinfix(\"in\", \"in\", 120);\n\tinfix(\"instanceof\", \"instanceof\", 120);\n\tinfix(\"+\", function (left, that) {\n\t\tvar right = expression(130);\n\t\tif (left && right && left.id === \"(string)\" && right.id === \"(string)\") {\n\t\t\tleft.value += right.value;\n\t\t\tleft.character = right.character;\n\t\t\tif (!state.option.scripturl && reg.javascriptURL.test(left.value)) {\n\t\t\t\twarning(\"W050\", left);\n\t\t\t}\n\t\t\treturn left;\n\t\t}\n\t\tthat.left = left;\n\t\tthat.right = right;\n\t\treturn that;\n\t}, 130);\n\tprefix(\"+\", \"num\");\n\tprefix(\"+++\", function () {\n\t\twarning(\"W007\");\n\t\tthis.right = expression(150);\n\t\tthis.arity = \"unary\";\n\t\treturn this;\n\t});\n\tinfix(\"+++\", function (left) {\n\t\twarning(\"W007\");\n\t\tthis.left = left;\n\t\tthis.right = expression(130);\n\t\treturn this;\n\t}, 130);\n\tinfix(\"-\", \"sub\", 130);\n\tprefix(\"-\", \"neg\");\n\tprefix(\"---\", function () {\n\t\twarning(\"W006\");\n\t\tthis.right = expression(150);\n\t\tthis.arity = \"unary\";\n\t\treturn this;\n\t});\n\tinfix(\"---\", function (left) {\n\t\twarning(\"W006\");\n\t\tthis.left = left;\n\t\tthis.right = expression(130);\n\t\treturn this;\n\t}, 130);\n\tinfix(\"*\", \"mult\", 140);\n\tinfix(\"/\", \"div\", 140);\n\tinfix(\"%\", \"mod\", 140);\n\n\tsuffix(\"++\", \"postinc\");\n\tprefix(\"++\", \"preinc\");\n\tstate.syntax[\"++\"].exps = true;\n\n\tsuffix(\"--\", \"postdec\");\n\tprefix(\"--\", \"predec\");\n\tstate.syntax[\"--\"].exps = true;\n\tprefix(\"delete\", function () {\n\t\tvar p = expression(0);\n\t\tif (!p || (p.id !== \".\" && p.id !== \"[\")) {\n\t\t\twarning(\"W051\");\n\t\t}\n\t\tthis.first = p;\n\t\treturn this;\n\t}).exps = true;\n\n\tprefix(\"~\", function () {\n\t\tif (state.option.bitwise) {\n\t\t\twarning(\"W052\", this, \"~\");\n\t\t}\n\t\texpression(150);\n\t\treturn this;\n\t});\n\n\tprefix(\"!\", function () {\n\t\tthis.right = expression(150);\n\t\tthis.arity = \"unary\";\n\n\t\tif (!this.right) { // '!' followed by nothing? Give up.\n\t\t\tquit(\"E041\", this.line || 0);\n\t\t}\n\n\t\tif (bang[this.right.id] === true) {\n\t\t\twarning(\"W018\", this, \"!\");\n\t\t}\n\t\treturn this;\n\t});\n\n\tprefix(\"typeof\", \"typeof\");\n\tprefix(\"new\", function () {\n\t\tvar c = expression(155), i;\n\t\tif (c && c.id !== \"function\") {\n\t\t\tif (c.identifier) {\n\t\t\t\tc[\"new\"] = true;\n\t\t\t\tswitch (c.value) {\n\t\t\t\tcase \"Number\":\n\t\t\t\tcase \"String\":\n\t\t\t\tcase \"Boolean\":\n\t\t\t\tcase \"Math\":\n\t\t\t\tcase \"JSON\":\n\t\t\t\t\twarning(\"W053\", state.tokens.prev, c.value);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Function\":\n\t\t\t\t\tif (!state.option.evil) {\n\t\t\t\t\t\twarning(\"W054\");\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Date\":\n\t\t\t\tcase \"RegExp\":\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif (c.id !== \"function\") {\n\t\t\t\t\t\ti = c.value.substr(0, 1);\n\t\t\t\t\t\tif (state.option.newcap && (i < \"A\" || i > \"Z\") && !_.has(global, c.value)) {\n\t\t\t\t\t\t\twarning(\"W055\", state.tokens.curr);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (c.id !== \".\" && c.id !== \"[\" && c.id !== \"(\") {\n\t\t\t\t\twarning(\"W056\", state.tokens.curr);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (!state.option.supernew)\n\t\t\t\twarning(\"W057\", this);\n\t\t}\n\t\tadjacent(state.tokens.curr, state.tokens.next);\n\t\tif (state.tokens.next.id !== \"(\" && !state.option.supernew) {\n\t\t\twarning(\"W058\", state.tokens.curr, state.tokens.curr.value);\n\t\t}\n\t\tthis.first = c;\n\t\treturn this;\n\t});\n\tstate.syntax[\"new\"].exps = true;\n\n\tprefix(\"void\").exps = true;\n\n\tinfix(\".\", function (left, that) {\n\t\tadjacent(state.tokens.prev, state.tokens.curr);\n\t\tnobreak();\n\t\tvar m = identifier(false, true);\n\n\t\tif (typeof m === \"string\") {\n\t\t\tcountMember(m);\n\t\t}\n\n\t\tthat.left = left;\n\t\tthat.right = m;\n\n\t\tif (m && m === \"hasOwnProperty\" && state.tokens.next.value === \"=\") {\n\t\t\twarning(\"W001\");\n\t\t}\n\n\t\tif (left && left.value === \"arguments\" && (m === \"callee\" || m === \"caller\")) {\n\t\t\tif (state.option.noarg)\n\t\t\t\twarning(\"W059\", left, m);\n\t\t\telse if (state.directive[\"use strict\"])\n\t\t\t\terror(\"E008\");\n\t\t} else if (!state.option.evil && left && left.value === \"document\" &&\n\t\t\t\t(m === \"write\" || m === \"writeln\")) {\n\t\t\twarning(\"W060\", left);\n\t\t}\n\n\t\tif (!state.option.evil && (m === \"eval\" || m === \"execScript\")) {\n\t\t\twarning(\"W061\");\n\t\t}\n\n\t\treturn that;\n\t}, 160, true);\n\n\tinfix(\"(\", function (left, that) {\n\t\tif (state.tokens.prev.id !== \"}\" && state.tokens.prev.id !== \")\") {\n\t\t\tnobreak(state.tokens.prev, state.tokens.curr);\n\t\t}\n\n\t\tnospace();\n\t\tif (state.option.immed && !left.immed && left.id === \"function\") {\n\t\t\twarning(\"W062\");\n\t\t}\n\n\t\tvar n = 0;\n\t\tvar p = [];\n\n\t\tif (left) {\n\t\t\tif (left.type === \"(identifier)\") {\n\t\t\t\tif (left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)) {\n\t\t\t\t\tif (\"Number String Boolean Date Object\".indexOf(left.value) === -1) {\n\t\t\t\t\t\tif (left.value === \"Math\") {\n\t\t\t\t\t\t\twarning(\"W063\", left);\n\t\t\t\t\t\t} else if (state.option.newcap) {\n\t\t\t\t\t\t\twarning(\"W064\", left);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (state.tokens.next.id !== \")\") {\n\t\t\tfor (;;) {\n\t\t\t\tp[p.length] = expression(10);\n\t\t\t\tn += 1;\n\t\t\t\tif (state.tokens.next.id !== \",\") {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcomma();\n\t\t\t}\n\t\t}\n\n\t\tadvance(\")\");\n\t\tnospace(state.tokens.prev, state.tokens.curr);\n\n\t\tif (typeof left === \"object\") {\n\t\t\tif (left.value === \"parseInt\" && n === 1) {\n\t\t\t\twarning(\"W065\", state.tokens.curr);\n\t\t\t}\n\t\t\tif (!state.option.evil) {\n\t\t\t\tif (left.value === \"eval\" || left.value === \"Function\" ||\n\t\t\t\t\t\tleft.value === \"execScript\") {\n\t\t\t\t\twarning(\"W061\", left);\n\n\t\t\t\t\tif (p[0] && [0].id === \"(string)\") {\n\t\t\t\t\t\taddInternalSrc(left, p[0].value);\n\t\t\t\t\t}\n\t\t\t\t} else if (p[0] && p[0].id === \"(string)\" &&\n\t\t\t\t\t   (left.value === \"setTimeout\" ||\n\t\t\t\t\t\tleft.value === \"setInterval\")) {\n\t\t\t\t\twarning(\"W066\", left);\n\t\t\t\t\taddInternalSrc(left, p[0].value);\n\n\t\t\t\t// window.setTimeout/setInterval\n\t\t\t\t} else if (p[0] && p[0].id === \"(string)\" &&\n\t\t\t\t\t   left.value === \".\" &&\n\t\t\t\t\t   left.left.value === \"window\" &&\n\t\t\t\t\t   (left.right === \"setTimeout\" ||\n\t\t\t\t\t\tleft.right === \"setInterval\")) {\n\t\t\t\t\twarning(\"W066\", left);\n\t\t\t\t\taddInternalSrc(left, p[0].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!left.identifier && left.id !== \".\" && left.id !== \"[\" &&\n\t\t\t\t\tleft.id !== \"(\" && left.id !== \"&&\" && left.id !== \"||\" &&\n\t\t\t\t\tleft.id !== \"?\") {\n\t\t\t\twarning(\"W067\", left);\n\t\t\t}\n\t\t}\n\n\t\tthat.left = left;\n\t\treturn that;\n\t}, 155, true).exps = true;\n\n\tprefix(\"(\", function () {\n\t\tnospace();\n\n\t\tif (state.tokens.next.id === \"function\") {\n\t\t\tstate.tokens.next.immed = true;\n\t\t}\n\n\t\tvar exprs = [];\n\n\t\tif (state.tokens.next.id !== \")\") {\n\t\t\tfor (;;) {\n\t\t\t\texprs.push(expression(0));\n\t\t\t\tif (state.tokens.next.id !== \",\") {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcomma();\n\t\t\t}\n\t\t}\n\n\t\tadvance(\")\", this);\n\t\tnospace(state.tokens.prev, state.tokens.curr);\n\t\tif (state.option.immed && exprs[0].id === \"function\") {\n\t\t\tif (state.tokens.next.id !== \"(\" &&\n\t\t\t  (state.tokens.next.id !== \".\" || (peek().value !== \"call\" && peek().value !== \"apply\"))) {\n\t\t\t\twarning(\"W068\", this);\n\t\t\t}\n\t\t}\n\n\t\treturn exprs[0];\n\t});\n\n\tinfix(\"[\", function (left, that) {\n\t\tnobreak(state.tokens.prev, state.tokens.curr);\n\t\tnospace();\n\t\tvar e = expression(0), s;\n\t\tif (e && e.type === \"(string)\") {\n\t\t\tif (!state.option.evil && (e.value === \"eval\" || e.value === \"execScript\")) {\n\t\t\t\twarning(\"W061\", that);\n\t\t\t}\n\n\t\t\tcountMember(e.value);\n\t\t\tif (!state.option.sub && reg.identifier.test(e.value)) {\n\t\t\t\ts = state.syntax[e.value];\n\t\t\t\tif (!s || !isReserved(s)) {\n\t\t\t\t\twarning(\"W069\", state.tokens.prev, e.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tadvance(\"]\", that);\n\n\t\tif (e && e.value === \"hasOwnProperty\" && state.tokens.next.value === \"=\") {\n\t\t\twarning(\"W001\");\n\t\t}\n\n\t\tnospace(state.tokens.prev, state.tokens.curr);\n\t\tthat.left = left;\n\t\tthat.right = e;\n\t\treturn that;\n\t}, 160, true);\n\n\tprefix(\"[\", function () {\n\t\tvar b = state.tokens.curr.line !== state.tokens.next.line;\n\t\tthis.first = [];\n\t\tif (b) {\n\t\t\tindent += state.option.indent;\n\t\t\tif (state.tokens.next.from === indent + state.option.indent) {\n\t\t\t\tindent += state.option.indent;\n\t\t\t}\n\t\t}\n\t\twhile (state.tokens.next.id !== \"(end)\") {\n\t\t\twhile (state.tokens.next.id === \",\") {\n\t\t\t\tif (!state.option.es5)\n\t\t\t\t\twarning(\"W070\");\n\t\t\t\tadvance(\",\");\n\t\t\t}\n\t\t\tif (state.tokens.next.id === \"]\") {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (b && state.tokens.curr.line !== state.tokens.next.line) {\n\t\t\t\tindentation();\n\t\t\t}\n\t\t\tthis.first.push(expression(10));\n\t\t\tif (state.tokens.next.id === \",\") {\n\t\t\t\tcomma({ allowTrailing: true });\n\t\t\t\tif (state.tokens.next.id === \"]\" && !state.option.es5) {\n\t\t\t\t\twarning(\"W070\", state.tokens.curr);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (b) {\n\t\t\tindent -= state.option.indent;\n\t\t\tindentation();\n\t\t}\n\t\tadvance(\"]\", this);\n\t\treturn this;\n\t}, 160);\n\n\n\tfunction property_name() {\n\t\tvar id = optionalidentifier(false, true);\n\n\t\tif (!id) {\n\t\t\tif (state.tokens.next.id === \"(string)\") {\n\t\t\t\tid = state.tokens.next.value;\n\t\t\t\tadvance();\n\t\t\t} else if (state.tokens.next.id === \"(number)\") {\n\t\t\t\tid = state.tokens.next.value.toString();\n\t\t\t\tadvance();\n\t\t\t}\n\t\t}\n\n\t\tif (id === \"hasOwnProperty\") {\n\t\t\twarning(\"W001\");\n\t\t}\n\n\t\treturn id;\n\t}\n\n\n\tfunction functionparams() {\n\t\tvar next   = state.tokens.next;\n\t\tvar params = [];\n\t\tvar ident;\n\n\t\tadvance(\"(\");\n\t\tnospace();\n\n\t\tif (state.tokens.next.id === \")\") {\n\t\t\tadvance(\")\");\n\t\t\treturn;\n\t\t}\n\n\t\tfor (;;) {\n\t\t\tident = identifier(true);\n\t\t\tparams.push(ident);\n\t\t\taddlabel(ident, \"unused\", state.tokens.curr);\n\t\t\tif (state.tokens.next.id === \",\") {\n\t\t\t\tcomma();\n\t\t\t} else {\n\t\t\t\tadvance(\")\", next);\n\t\t\t\tnospace(state.tokens.prev, state.tokens.curr);\n\t\t\t\treturn params;\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction doFunction(name, statement) {\n\t\tvar f;\n\t\tvar oldOption = state.option;\n\t\tvar oldScope  = scope;\n\n\t\tstate.option = Object.create(state.option);\n\t\tscope  = Object.create(scope);\n\n\t\tfunct = {\n\t\t\t\"(name)\"     : name || \"\\\"\" + anonname + \"\\\"\",\n\t\t\t\"(line)\"     : state.tokens.next.line,\n\t\t\t\"(character)\": state.tokens.next.character,\n\t\t\t\"(context)\"  : funct,\n\t\t\t\"(breakage)\" : 0,\n\t\t\t\"(loopage)\"  : 0,\n\t\t\t\"(metrics)\"  : createMetrics(state.tokens.next),\n\t\t\t\"(scope)\"    : scope,\n\t\t\t\"(statement)\": statement,\n\t\t\t\"(tokens)\"   : {}\n\t\t};\n\n\t\tf = funct;\n\t\tstate.tokens.curr.funct = funct;\n\n\t\tfunctions.push(funct);\n\n\t\tif (name) {\n\t\t\taddlabel(name, \"function\");\n\t\t}\n\n\t\tfunct[\"(params)\"] = functionparams();\n\t\tfunct[\"(metrics)\"].verifyMaxParametersPerFunction(funct[\"(params)\"]);\n\n\t\tblock(false, false, true);\n\n\t\tfunct[\"(metrics)\"].verifyMaxStatementsPerFunction();\n\t\tfunct[\"(metrics)\"].verifyMaxComplexityPerFunction();\n\t\tfunct[\"(unusedOption)\"] = state.option.unused;\n\n\t\tscope = oldScope;\n\t\tstate.option = oldOption;\n\t\tfunct[\"(last)\"] = state.tokens.curr.line;\n\t\tfunct[\"(lastcharacter)\"] = state.tokens.curr.character;\n\t\tfunct = funct[\"(context)\"];\n\n\t\treturn f;\n\t}\n\n\tfunction createMetrics(functionStartToken) {\n\t\treturn {\n\t\t\tstatementCount: 0,\n\t\t\tnestedBlockDepth: -1,\n\t\t\tComplexityCount: 1,\n\t\t\tverifyMaxStatementsPerFunction: function () {\n\t\t\t\tif (state.option.maxstatements &&\n\t\t\t\t\tthis.statementCount > state.option.maxstatements) {\n\t\t\t\t\twarning(\"W071\", functionStartToken, this.statementCount);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tverifyMaxParametersPerFunction: function (params) {\n\t\t\t\tparams = params || [];\n\n\t\t\t\tif (state.option.maxparams && params.length > state.option.maxparams) {\n\t\t\t\t\twarning(\"W072\", functionStartToken, params.length);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tverifyMaxNestedBlockDepthPerFunction: function () {\n\t\t\t\tif (state.option.maxdepth &&\n\t\t\t\t\tthis.nestedBlockDepth > 0 &&\n\t\t\t\t\tthis.nestedBlockDepth === state.option.maxdepth + 1) {\n\t\t\t\t\twarning(\"W073\", null, this.nestedBlockDepth);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tverifyMaxComplexityPerFunction: function () {\n\t\t\t\tvar max = state.option.maxcomplexity;\n\t\t\t\tvar cc = this.ComplexityCount;\n\t\t\t\tif (max && cc > max) {\n\t\t\t\t\twarning(\"W074\", functionStartToken, cc);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction increaseComplexityCount() {\n\t\tfunct[\"(metrics)\"].ComplexityCount += 1;\n\t}\n\n\t// Parse assignments that were found instead of conditionals.\n\t// For example: if (a = 1) { ... }\n\n\tfunction parseCondAssignment() {\n\t\tswitch (state.tokens.next.id) {\n\t\tcase \"=\":\n\t\tcase \"+=\":\n\t\tcase \"-=\":\n\t\tcase \"*=\":\n\t\tcase \"%=\":\n\t\tcase \"&=\":\n\t\tcase \"|=\":\n\t\tcase \"^=\":\n\t\tcase \"/=\":\n\t\t\tif (!state.option.boss) {\n\t\t\t\twarning(\"W084\");\n\t\t\t}\n\n\t\t\tadvance(state.tokens.next.id);\n\t\t\texpression(20);\n\t\t}\n\t}\n\n\n\t(function (x) {\n\t\tx.nud = function () {\n\t\t\tvar b, f, i, p, t;\n\t\t\tvar props = {}; // All properties, including accessors\n\n\t\t\tfunction saveProperty(name, tkn) {\n\t\t\t\tif (props[name] && _.has(props, name))\n\t\t\t\t\twarning(\"W075\", state.tokens.next, i);\n\t\t\t\telse\n\t\t\t\t\tprops[name] = {};\n\n\t\t\t\tprops[name].basic = true;\n\t\t\t\tprops[name].basictkn = tkn;\n\t\t\t}\n\n\t\t\tfunction saveSetter(name, tkn) {\n\t\t\t\tif (props[name] && _.has(props, name)) {\n\t\t\t\t\tif (props[name].basic || props[name].setter)\n\t\t\t\t\t\twarning(\"W075\", state.tokens.next, i);\n\t\t\t\t} else {\n\t\t\t\t\tprops[name] = {};\n\t\t\t\t}\n\n\t\t\t\tprops[name].setter = true;\n\t\t\t\tprops[name].setterToken = tkn;\n\t\t\t}\n\n\t\t\tfunction saveGetter(name) {\n\t\t\t\tif (props[name] && _.has(props, name)) {\n\t\t\t\t\tif (props[name].basic || props[name].getter)\n\t\t\t\t\t\twarning(\"W075\", state.tokens.next, i);\n\t\t\t\t} else {\n\t\t\t\t\tprops[name] = {};\n\t\t\t\t}\n\n\t\t\t\tprops[name].getter = true;\n\t\t\t\tprops[name].getterToken = state.tokens.curr;\n\t\t\t}\n\n\t\t\tb = state.tokens.curr.line !== state.tokens.next.line;\n\t\t\tif (b) {\n\t\t\t\tindent += state.option.indent;\n\t\t\t\tif (state.tokens.next.from === indent + state.option.indent) {\n\t\t\t\t\tindent += state.option.indent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (;;) {\n\t\t\t\tif (state.tokens.next.id === \"}\") {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (b) {\n\t\t\t\t\tindentation();\n\t\t\t\t}\n\n\t\t\t\tif (state.tokens.next.value === \"get\" && peek().id !== \":\") {\n\t\t\t\t\tadvance(\"get\");\n\n\t\t\t\t\tif (!state.option.es5) {\n\t\t\t\t\t\terror(\"E034\");\n\t\t\t\t\t}\n\n\t\t\t\t\ti = property_name();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\terror(\"E035\");\n\t\t\t\t\t}\n\n\t\t\t\t\tsaveGetter(i);\n\t\t\t\t\tt = state.tokens.next;\n\t\t\t\t\tadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\t\tf = doFunction();\n\t\t\t\t\tp = f[\"(params)\"];\n\n\t\t\t\t\tif (p) {\n\t\t\t\t\t\twarning(\"W076\", t, p[0], i);\n\t\t\t\t\t}\n\n\t\t\t\t\tadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\t} else if (state.tokens.next.value === \"set\" && peek().id !== \":\") {\n\t\t\t\t\tadvance(\"set\");\n\n\t\t\t\t\tif (!state.option.es5) {\n\t\t\t\t\t\terror(\"E034\");\n\t\t\t\t\t}\n\n\t\t\t\t\ti = property_name();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\terror(\"E035\");\n\t\t\t\t\t}\n\n\t\t\t\t\tsaveSetter(i, state.tokens.next);\n\t\t\t\t\tt = state.tokens.next;\n\t\t\t\t\tadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\t\tf = doFunction();\n\t\t\t\t\tp = f[\"(params)\"];\n\n\t\t\t\t\tif (!p || p.length !== 1) {\n\t\t\t\t\t\twarning(\"W077\", t, i);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ti = property_name();\n\t\t\t\t\tsaveProperty(i, state.tokens.next);\n\n\t\t\t\t\tif (typeof i !== \"string\") {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tadvance(\":\");\n\t\t\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\t\texpression(10);\n\t\t\t\t}\n\n\t\t\t\tcountMember(i);\n\t\t\t\tif (state.tokens.next.id === \",\") {\n\t\t\t\t\tcomma({ allowTrailing: true });\n\t\t\t\t\tif (state.tokens.next.id === \",\") {\n\t\t\t\t\t\twarning(\"W070\", state.tokens.curr);\n\t\t\t\t\t} else if (state.tokens.next.id === \"}\" && !state.option.es5) {\n\t\t\t\t\t\twarning(\"W070\", state.tokens.curr);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tindent -= state.option.indent;\n\t\t\t\tindentation();\n\t\t\t}\n\t\t\tadvance(\"}\", this);\n\n\t\t\t// Check for lonely setters if in the ES5 mode.\n\t\t\tif (state.option.es5) {\n\t\t\t\tfor (var name in props) {\n\t\t\t\t\tif (_.has(props, name) && props[name].setter && !props[name].getter) {\n\t\t\t\t\t\twarning(\"W078\", props[name].setterToken);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\tx.fud = function () {\n\t\t\terror(\"E036\", state.tokens.curr);\n\t\t};\n\t}(delim(\"{\")));\n\n\t// This Function is called when esnext option is set to true\n\t// it adds the `const` statement to JSHINT\n\n\tuseESNextSyntax = function () {\n\t\tvar conststatement = stmt(\"const\", function (prefix) {\n\t\t\tvar id, name, value;\n\n\t\t\tthis.first = [];\n\t\t\tfor (;;) {\n\t\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\tid = identifier();\n\t\t\t\tif (funct[id] === \"const\") {\n\t\t\t\t\twarning(\"E011\", null, id);\n\t\t\t\t}\n\t\t\t\tif (funct[\"(global)\"] && predefined[id] === false) {\n\t\t\t\t\twarning(\"W079\", state.tokens.curr, id);\n\t\t\t\t}\n\t\t\t\taddlabel(id, \"const\");\n\t\t\t\tif (prefix) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tname = state.tokens.curr;\n\t\t\t\tthis.first.push(state.tokens.curr);\n\n\t\t\t\tif (state.tokens.next.id !== \"=\") {\n\t\t\t\t\twarning(\"E012\", state.tokens.curr, id);\n\t\t\t\t}\n\n\t\t\t\tif (state.tokens.next.id === \"=\") {\n\t\t\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\t\tadvance(\"=\");\n\t\t\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\t\tif (state.tokens.next.id === \"undefined\") {\n\t\t\t\t\t\twarning(\"W080\", state.tokens.curr, id);\n\t\t\t\t\t}\n\t\t\t\t\tif (peek(0).id === \"=\" && state.tokens.next.identifier) {\n\t\t\t\t\t\terror(\"E037\", state.tokens.next, state.tokens.next.value);\n\t\t\t\t\t}\n\t\t\t\t\tvalue = expression(0);\n\t\t\t\t\tname.first = value;\n\t\t\t\t}\n\n\t\t\t\tif (state.tokens.next.id !== \",\") {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcomma();\n\t\t\t}\n\t\t\treturn this;\n\t\t});\n\t\tconststatement.exps = true;\n\t};\n\n\tvar varstatement = stmt(\"var\", function (prefix) {\n\t\t// JavaScript does not have block scope. It only has function scope. So,\n\t\t// declaring a variable in a block can have unexpected consequences.\n\t\tvar id, name, value;\n\n\t\tif (funct[\"(onevar)\"] && state.option.onevar) {\n\t\t\twarning(\"W081\");\n\t\t} else if (!funct[\"(global)\"]) {\n\t\t\tfunct[\"(onevar)\"] = true;\n\t\t}\n\n\t\tthis.first = [];\n\n\t\tfor (;;) {\n\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\tid = identifier();\n\n\t\t\tif (state.option.esnext && funct[id] === \"const\") {\n\t\t\t\twarning(\"E011\", null, id);\n\t\t\t}\n\n\t\t\tif (funct[\"(global)\"] && predefined[id] === false) {\n\t\t\t\twarning(\"W079\", state.tokens.curr, id);\n\t\t\t}\n\n\t\t\taddlabel(id, \"unused\", state.tokens.curr);\n\n\t\t\tif (prefix) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tname = state.tokens.curr;\n\t\t\tthis.first.push(state.tokens.curr);\n\n\t\t\tif (state.tokens.next.id === \"=\") {\n\t\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\tadvance(\"=\");\n\t\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\tif (state.tokens.next.id === \"undefined\") {\n\t\t\t\t\twarning(\"W080\", state.tokens.curr, id);\n\t\t\t\t}\n\t\t\t\tif (peek(0).id === \"=\" && state.tokens.next.identifier) {\n\t\t\t\t\terror(\"E038\", state.tokens.next, state.tokens.next.value);\n\t\t\t\t}\n\t\t\t\tvalue = expression(0);\n\t\t\t\tname.first = value;\n\t\t\t}\n\t\t\tif (state.tokens.next.id !== \",\") {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcomma();\n\t\t}\n\t\treturn this;\n\t});\n\tvarstatement.exps = true;\n\n\tblockstmt(\"function\", function () {\n\t\tif (inblock) {\n\t\t\twarning(\"W082\", state.tokens.curr);\n\n\t\t}\n\t\tvar i = identifier();\n\t\tif (state.option.esnext && funct[i] === \"const\") {\n\t\t\twarning(\"E011\", null, i);\n\t\t}\n\t\tadjacent(state.tokens.curr, state.tokens.next);\n\t\taddlabel(i, \"unction\", state.tokens.curr);\n\n\t\tdoFunction(i, { statement: true });\n\t\tif (state.tokens.next.id === \"(\" && state.tokens.next.line === state.tokens.curr.line) {\n\t\t\terror(\"E039\");\n\t\t}\n\t\treturn this;\n\t});\n\n\tprefix(\"function\", function () {\n\t\tvar i = optionalidentifier();\n\t\tif (i || state.option.gcl) {\n\t\t\tadjacent(state.tokens.curr, state.tokens.next);\n\t\t} else {\n\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t}\n\t\tdoFunction(i);\n\t\tif (!state.option.loopfunc && funct[\"(loopage)\"]) {\n\t\t\twarning(\"W083\");\n\t\t}\n\t\treturn this;\n\t});\n\n\tblockstmt(\"if\", function () {\n\t\tvar t = state.tokens.next;\n\t\tincreaseComplexityCount();\n\t\tadvance(\"(\");\n\t\tnonadjacent(this, t);\n\t\tnospace();\n\t\texpression(20);\n\t\tparseCondAssignment();\n\t\tadvance(\")\", t);\n\t\tnospace(state.tokens.prev, state.tokens.curr);\n\t\tblock(true, true);\n\t\tif (state.tokens.next.id === \"else\") {\n\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\tadvance(\"else\");\n\t\t\tif (state.tokens.next.id === \"if\" || state.tokens.next.id === \"switch\") {\n\t\t\t\tstatement(true);\n\t\t\t} else {\n\t\t\t\tblock(true, true);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t});\n\n\tblockstmt(\"try\", function () {\n\t\tvar b;\n\n\t\tfunction doCatch() {\n\t\t\tvar oldScope = scope;\n\t\t\tvar e;\n\n\t\t\tadvance(\"catch\");\n\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\tadvance(\"(\");\n\n\t\t\tscope = Object.create(oldScope);\n\n\t\t\te = state.tokens.next.value;\n\t\t\tif (state.tokens.next.type !== \"(identifier)\") {\n\t\t\t\te = null;\n\t\t\t\twarning(\"E030\", state.tokens.next, e);\n\t\t\t}\n\n\t\t\tadvance();\n\t\t\tadvance(\")\");\n\n\t\t\tfunct = {\n\t\t\t\t\"(name)\"     : \"(catch)\",\n\t\t\t\t\"(line)\"     : state.tokens.next.line,\n\t\t\t\t\"(character)\": state.tokens.next.character,\n\t\t\t\t\"(context)\"  : funct,\n\t\t\t\t\"(breakage)\" : funct[\"(breakage)\"],\n\t\t\t\t\"(loopage)\"  : funct[\"(loopage)\"],\n\t\t\t\t\"(scope)\"    : scope,\n\t\t\t\t\"(statement)\": false,\n\t\t\t\t\"(metrics)\"  : createMetrics(state.tokens.next),\n\t\t\t\t\"(catch)\"    : true,\n\t\t\t\t\"(tokens)\"   : {}\n\t\t\t};\n\n\t\t\tif (e) {\n\t\t\t\taddlabel(e, \"exception\");\n\t\t\t}\n\n\t\t\tstate.tokens.curr.funct = funct;\n\t\t\tfunctions.push(funct);\n\n\t\t\tblock(false);\n\n\t\t\tscope = oldScope;\n\n\t\t\tfunct[\"(last)\"] = state.tokens.curr.line;\n\t\t\tfunct[\"(lastcharacter)\"] = state.tokens.curr.character;\n\t\t\tfunct = funct[\"(context)\"];\n\t\t}\n\n\t\tblock(false);\n\n\t\tif (state.tokens.next.id === \"catch\") {\n\t\t\tincreaseComplexityCount();\n\t\t\tdoCatch();\n\t\t\tb = true;\n\t\t}\n\n\t\tif (state.tokens.next.id === \"finally\") {\n\t\t\tadvance(\"finally\");\n\t\t\tblock(false);\n\t\t\treturn;\n\t\t} else if (!b) {\n\t\t\terror(\"E021\", state.tokens.next, \"catch\", state.tokens.next.value);\n\t\t}\n\n\t\treturn this;\n\t});\n\n\tblockstmt(\"while\", function () {\n\t\tvar t = state.tokens.next;\n\t\tfunct[\"(breakage)\"] += 1;\n\t\tfunct[\"(loopage)\"] += 1;\n\t\tincreaseComplexityCount();\n\t\tadvance(\"(\");\n\t\tnonadjacent(this, t);\n\t\tnospace();\n\t\texpression(20);\n\t\tparseCondAssignment();\n\t\tadvance(\")\", t);\n\t\tnospace(state.tokens.prev, state.tokens.curr);\n\t\tblock(true, true);\n\t\tfunct[\"(breakage)\"] -= 1;\n\t\tfunct[\"(loopage)\"] -= 1;\n\t\treturn this;\n\t}).labelled = true;\n\n\tblockstmt(\"with\", function () {\n\t\tvar t = state.tokens.next;\n\t\tif (state.directive[\"use strict\"]) {\n\t\t\terror(\"E010\", state.tokens.curr);\n\t\t} else if (!state.option.withstmt) {\n\t\t\twarning(\"W085\", state.tokens.curr);\n\t\t}\n\n\t\tadvance(\"(\");\n\t\tnonadjacent(this, t);\n\t\tnospace();\n\t\texpression(0);\n\t\tadvance(\")\", t);\n\t\tnospace(state.tokens.prev, state.tokens.curr);\n\t\tblock(true, true);\n\n\t\treturn this;\n\t});\n\n\tblockstmt(\"switch\", function () {\n\t\tvar t = state.tokens.next,\n\t\t\tg = false;\n\t\tfunct[\"(breakage)\"] += 1;\n\t\tadvance(\"(\");\n\t\tnonadjacent(this, t);\n\t\tnospace();\n\t\tthis.condition = expression(20);\n\t\tadvance(\")\", t);\n\t\tnospace(state.tokens.prev, state.tokens.curr);\n\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\tt = state.tokens.next;\n\t\tadvance(\"{\");\n\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\tindent += state.option.indent;\n\t\tthis.cases = [];\n\n\t\tfor (;;) {\n\t\t\tswitch (state.tokens.next.id) {\n\t\t\tcase \"case\":\n\t\t\t\tswitch (funct[\"(verb)\"]) {\n\t\t\t\tcase \"break\":\n\t\t\t\tcase \"case\":\n\t\t\t\tcase \"continue\":\n\t\t\t\tcase \"return\":\n\t\t\t\tcase \"switch\":\n\t\t\t\tcase \"throw\":\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// You can tell JSHint that you don't use break intentionally by\n\t\t\t\t\t// adding a comment /* falls through */ on a line just before\n\t\t\t\t\t// the next `case`.\n\t\t\t\t\tif (!reg.fallsThrough.test(state.lines[state.tokens.next.line - 2])) {\n\t\t\t\t\t\twarning(\"W086\", state.tokens.curr, \"case\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tindentation(-state.option.indent);\n\t\t\t\tadvance(\"case\");\n\t\t\t\tthis.cases.push(expression(20));\n\t\t\t\tincreaseComplexityCount();\n\t\t\t\tg = true;\n\t\t\t\tadvance(\":\");\n\t\t\t\tfunct[\"(verb)\"] = \"case\";\n\t\t\t\tbreak;\n\t\t\tcase \"default\":\n\t\t\t\tswitch (funct[\"(verb)\"]) {\n\t\t\t\tcase \"break\":\n\t\t\t\tcase \"continue\":\n\t\t\t\tcase \"return\":\n\t\t\t\tcase \"throw\":\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// Do not display a warning if 'default' is the first statement or if\n\t\t\t\t\t// there is a special /* falls through */ comment.\n\t\t\t\t\tif (this.cases.length) {\n\t\t\t\t\t\tif (!reg.fallsThrough.test(state.lines[state.tokens.next.line - 2])) {\n\t\t\t\t\t\t\twarning(\"W086\", state.tokens.curr, \"default\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tindentation(-state.option.indent);\n\t\t\t\tadvance(\"default\");\n\t\t\t\tg = true;\n\t\t\t\tadvance(\":\");\n\t\t\t\tbreak;\n\t\t\tcase \"}\":\n\t\t\t\tindent -= state.option.indent;\n\t\t\t\tindentation();\n\t\t\t\tadvance(\"}\", t);\n\t\t\t\tfunct[\"(breakage)\"] -= 1;\n\t\t\t\tfunct[\"(verb)\"] = undefined;\n\t\t\t\treturn;\n\t\t\tcase \"(end)\":\n\t\t\t\terror(\"E023\", state.tokens.next, \"}\");\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\tif (g) {\n\t\t\t\t\tswitch (state.tokens.curr.id) {\n\t\t\t\t\tcase \",\":\n\t\t\t\t\t\terror(\"E040\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \":\":\n\t\t\t\t\t\tg = false;\n\t\t\t\t\t\tstatements();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\terror(\"E025\", state.tokens.curr);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (state.tokens.curr.id === \":\") {\n\t\t\t\t\t\tadvance(\":\");\n\t\t\t\t\t\terror(\"E024\", state.tokens.curr, \":\");\n\t\t\t\t\t\tstatements();\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(\"E021\", state.tokens.next, \"case\", state.tokens.next.value);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}).labelled = true;\n\n\tstmt(\"debugger\", function () {\n\t\tif (!state.option.debug) {\n\t\t\twarning(\"W087\");\n\t\t}\n\t\treturn this;\n\t}).exps = true;\n\n\t(function () {\n\t\tvar x = stmt(\"do\", function () {\n\t\t\tfunct[\"(breakage)\"] += 1;\n\t\t\tfunct[\"(loopage)\"] += 1;\n\t\t\tincreaseComplexityCount();\n\n\t\t\tthis.first = block(true);\n\t\t\tadvance(\"while\");\n\t\t\tvar t = state.tokens.next;\n\t\t\tnonadjacent(state.tokens.curr, t);\n\t\t\tadvance(\"(\");\n\t\t\tnospace();\n\t\t\texpression(20);\n\t\t\tparseCondAssignment();\n\t\t\tadvance(\")\", t);\n\t\t\tnospace(state.tokens.prev, state.tokens.curr);\n\t\t\tfunct[\"(breakage)\"] -= 1;\n\t\t\tfunct[\"(loopage)\"] -= 1;\n\t\t\treturn this;\n\t\t});\n\t\tx.labelled = true;\n\t\tx.exps = true;\n\t}());\n\n\tblockstmt(\"for\", function () {\n\t\tvar s, t = state.tokens.next;\n\t\tfunct[\"(breakage)\"] += 1;\n\t\tfunct[\"(loopage)\"] += 1;\n\t\tincreaseComplexityCount();\n\t\tadvance(\"(\");\n\t\tnonadjacent(this, t);\n\t\tnospace();\n\t\tif (peek(state.tokens.next.id === \"var\" ? 1 : 0).id === \"in\") {\n\t\t\tif (state.tokens.next.id === \"var\") {\n\t\t\t\tadvance(\"var\");\n\t\t\t\tvarstatement.fud.call(varstatement, true);\n\t\t\t} else {\n\t\t\t\tswitch (funct[state.tokens.next.value]) {\n\t\t\t\tcase \"unused\":\n\t\t\t\t\tfunct[state.tokens.next.value] = \"var\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"var\":\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\twarning(\"W088\", state.tokens.next, state.tokens.next.value);\n\t\t\t\t}\n\t\t\t\tadvance();\n\t\t\t}\n\t\t\tadvance(\"in\");\n\t\t\texpression(20);\n\t\t\tadvance(\")\", t);\n\t\t\ts = block(true, true);\n\t\t\tif (state.option.forin && s && (s.length > 1 || typeof s[0] !== \"object\" ||\n\t\t\t\t\ts[0].value !== \"if\")) {\n\t\t\t\twarning(\"W089\", this);\n\t\t\t}\n\t\t\tfunct[\"(breakage)\"] -= 1;\n\t\t\tfunct[\"(loopage)\"] -= 1;\n\t\t\treturn this;\n\t\t} else {\n\t\t\tif (state.tokens.next.id !== \";\") {\n\t\t\t\tif (state.tokens.next.id === \"var\") {\n\t\t\t\t\tadvance(\"var\");\n\t\t\t\t\tvarstatement.fud.call(varstatement);\n\t\t\t\t} else {\n\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\texpression(0, \"for\");\n\t\t\t\t\t\tif (state.tokens.next.id !== \",\") {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcomma();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tnolinebreak(state.tokens.curr);\n\t\t\tadvance(\";\");\n\t\t\tif (state.tokens.next.id !== \";\") {\n\t\t\t\texpression(20);\n\t\t\t\tparseCondAssignment();\n\t\t\t}\n\t\t\tnolinebreak(state.tokens.curr);\n\t\t\tadvance(\";\");\n\t\t\tif (state.tokens.next.id === \";\") {\n\t\t\t\terror(\"E021\", state.tokens.next, \")\", \";\");\n\t\t\t}\n\t\t\tif (state.tokens.next.id !== \")\") {\n\t\t\t\tfor (;;) {\n\t\t\t\t\texpression(0, \"for\");\n\t\t\t\t\tif (state.tokens.next.id !== \",\") {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcomma();\n\t\t\t\t}\n\t\t\t}\n\t\t\tadvance(\")\", t);\n\t\t\tnospace(state.tokens.prev, state.tokens.curr);\n\t\t\tblock(true, true);\n\t\t\tfunct[\"(breakage)\"] -= 1;\n\t\t\tfunct[\"(loopage)\"] -= 1;\n\t\t\treturn this;\n\t\t}\n\t}).labelled = true;\n\n\n\tstmt(\"break\", function () {\n\t\tvar v = state.tokens.next.value;\n\n\t\tif (funct[\"(breakage)\"] === 0)\n\t\t\twarning(\"W052\", state.tokens.next, this.value);\n\n\t\tif (!state.option.asi)\n\t\t\tnolinebreak(this);\n\n\t\tif (state.tokens.next.id !== \";\") {\n\t\t\tif (state.tokens.curr.line === state.tokens.next.line) {\n\t\t\t\tif (funct[v] !== \"label\") {\n\t\t\t\t\twarning(\"W090\", state.tokens.next, v);\n\t\t\t\t} else if (scope[v] !== funct) {\n\t\t\t\t\twarning(\"W091\", state.tokens.next, v);\n\t\t\t\t}\n\t\t\t\tthis.first = state.tokens.next;\n\t\t\t\tadvance();\n\t\t\t}\n\t\t}\n\t\treachable(\"break\");\n\t\treturn this;\n\t}).exps = true;\n\n\n\tstmt(\"continue\", function () {\n\t\tvar v = state.tokens.next.value;\n\n\t\tif (funct[\"(breakage)\"] === 0)\n\t\t\twarning(\"W052\", state.tokens.next, this.value);\n\n\t\tif (!state.option.asi)\n\t\t\tnolinebreak(this);\n\n\t\tif (state.tokens.next.id !== \";\") {\n\t\t\tif (state.tokens.curr.line === state.tokens.next.line) {\n\t\t\t\tif (funct[v] !== \"label\") {\n\t\t\t\t\twarning(\"W090\", state.tokens.next, v);\n\t\t\t\t} else if (scope[v] !== funct) {\n\t\t\t\t\twarning(\"W091\", state.tokens.next, v);\n\t\t\t\t}\n\t\t\t\tthis.first = state.tokens.next;\n\t\t\t\tadvance();\n\t\t\t}\n\t\t} else if (!funct[\"(loopage)\"]) {\n\t\t\twarning(\"W052\", state.tokens.next, this.value);\n\t\t}\n\t\treachable(\"continue\");\n\t\treturn this;\n\t}).exps = true;\n\n\n\tstmt(\"return\", function () {\n\t\tif (this.line === state.tokens.next.line) {\n\t\t\tif (state.tokens.next.id === \"(regexp)\")\n\t\t\t\twarning(\"W092\");\n\n\t\t\tif (state.tokens.next.id !== \";\" && !state.tokens.next.reach) {\n\t\t\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\t\t\tthis.first = expression(0);\n\n\t\t\t\tif (this.first.type === \"(punctuator)\" && this.first.value === \"=\" && !state.option.boss) {\n\t\t\t\t\twarningAt(\"W093\", this.first.line, this.first.character);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!state.option.asi) {\n\t\t\tnolinebreak(this); // always warn (Line breaking error)\n\t\t}\n\t\treachable(\"return\");\n\t\treturn this;\n\t}).exps = true;\n\n\n\tstmt(\"throw\", function () {\n\t\tnolinebreak(this);\n\t\tnonadjacent(state.tokens.curr, state.tokens.next);\n\t\tthis.first = expression(20);\n\t\treachable(\"throw\");\n\t\treturn this;\n\t}).exps = true;\n\n\t// Future Reserved Words\n\n\tFutureReservedWord(\"abstract\");\n\tFutureReservedWord(\"boolean\");\n\tFutureReservedWord(\"byte\");\n\tFutureReservedWord(\"char\");\n\tFutureReservedWord(\"class\", { es5: true });\n\tFutureReservedWord(\"double\");\n\tFutureReservedWord(\"enum\", { es5: true });\n\tFutureReservedWord(\"export\", { es5: true });\n\tFutureReservedWord(\"extends\", { es5: true });\n\tFutureReservedWord(\"final\");\n\tFutureReservedWord(\"float\");\n\tFutureReservedWord(\"goto\");\n\tFutureReservedWord(\"implements\", { es5: true, strictOnly: true });\n\tFutureReservedWord(\"import\", { es5: true });\n\tFutureReservedWord(\"int\");\n\tFutureReservedWord(\"interface\");\n\tFutureReservedWord(\"let\", { es5: true, strictOnly: true });\n\tFutureReservedWord(\"long\");\n\tFutureReservedWord(\"native\");\n\tFutureReservedWord(\"package\", { es5: true, strictOnly: true });\n\tFutureReservedWord(\"private\", { es5: true, strictOnly: true });\n\tFutureReservedWord(\"protected\", { es5: true, strictOnly: true });\n\tFutureReservedWord(\"public\", { es5: true, strictOnly: true });\n\tFutureReservedWord(\"short\");\n\tFutureReservedWord(\"static\", { es5: true, strictOnly: true });\n\tFutureReservedWord(\"super\", { es5: true });\n\tFutureReservedWord(\"synchronized\");\n\tFutureReservedWord(\"throws\");\n\tFutureReservedWord(\"transient\");\n\tFutureReservedWord(\"volatile\");\n\tFutureReservedWord(\"yield\", { es5: true, strictOnly: true });\n\n\t// Parse JSON\n\n\tfunction jsonValue() {\n\n\t\tfunction jsonObject() {\n\t\t\tvar o = {}, t = state.tokens.next;\n\t\t\tadvance(\"{\");\n\t\t\tif (state.tokens.next.id !== \"}\") {\n\t\t\t\tfor (;;) {\n\t\t\t\t\tif (state.tokens.next.id === \"(end)\") {\n\t\t\t\t\t\terror(\"E026\", state.tokens.next, t.line);\n\t\t\t\t\t} else if (state.tokens.next.id === \"}\") {\n\t\t\t\t\t\twarning(\"W094\", state.tokens.curr);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (state.tokens.next.id === \",\") {\n\t\t\t\t\t\terror(\"E028\", state.tokens.next);\n\t\t\t\t\t} else if (state.tokens.next.id !== \"(string)\") {\n\t\t\t\t\t\twarning(\"W095\", state.tokens.next, state.tokens.next.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (o[state.tokens.next.value] === true) {\n\t\t\t\t\t\twarning(\"W075\", state.tokens.next, state.tokens.next.value);\n\t\t\t\t\t} else if ((state.tokens.next.value === \"__proto__\" &&\n\t\t\t\t\t\t!state.option.proto) || (state.tokens.next.value === \"__iterator__\" &&\n\t\t\t\t\t\t!state.option.iterator)) {\n\t\t\t\t\t\twarning(\"W096\", state.tokens.next, state.tokens.next.value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\to[state.tokens.next.value] = true;\n\t\t\t\t\t}\n\t\t\t\t\tadvance();\n\t\t\t\t\tadvance(\":\");\n\t\t\t\t\tjsonValue();\n\t\t\t\t\tif (state.tokens.next.id !== \",\") {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tadvance(\",\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tadvance(\"}\");\n\t\t}\n\n\t\tfunction jsonArray() {\n\t\t\tvar t = state.tokens.next;\n\t\t\tadvance(\"[\");\n\t\t\tif (state.tokens.next.id !== \"]\") {\n\t\t\t\tfor (;;) {\n\t\t\t\t\tif (state.tokens.next.id === \"(end)\") {\n\t\t\t\t\t\terror(\"E027\", state.tokens.next, t.line);\n\t\t\t\t\t} else if (state.tokens.next.id === \"]\") {\n\t\t\t\t\t\twarning(\"W094\", state.tokens.curr);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (state.tokens.next.id === \",\") {\n\t\t\t\t\t\terror(\"E028\", state.tokens.next);\n\t\t\t\t\t}\n\t\t\t\t\tjsonValue();\n\t\t\t\t\tif (state.tokens.next.id !== \",\") {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tadvance(\",\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tadvance(\"]\");\n\t\t}\n\n\t\tswitch (state.tokens.next.id) {\n\t\tcase \"{\":\n\t\t\tjsonObject();\n\t\t\tbreak;\n\t\tcase \"[\":\n\t\t\tjsonArray();\n\t\t\tbreak;\n\t\tcase \"true\":\n\t\tcase \"false\":\n\t\tcase \"null\":\n\t\tcase \"(number)\":\n\t\tcase \"(string)\":\n\t\t\tadvance();\n\t\t\tbreak;\n\t\tcase \"-\":\n\t\t\tadvance(\"-\");\n\t\t\tif (state.tokens.curr.character !== state.tokens.next.from) {\n\t\t\t\twarning(\"W011\", state.tokens.curr);\n\t\t\t}\n\t\t\tadjacent(state.tokens.curr, state.tokens.next);\n\t\t\tadvance(\"(number)\");\n\t\t\tbreak;\n\t\tdefault:\n\t\t\terror(\"E003\", state.tokens.next);\n\t\t}\n\t}\n\n\n\t// The actual JSHINT function itself.\n\tvar itself = function (s, o, g) {\n\t\tvar a, i, k, x;\n\t\tvar optionKeys;\n\t\tvar newOptionObj = {};\n\n\t\tstate.reset();\n\n\t\tif (o && o.scope) {\n\t\t\tJSHINT.scope = o.scope;\n\t\t} else {\n\t\t\tJSHINT.errors = [];\n\t\t\tJSHINT.undefs = [];\n\t\t\tJSHINT.internals = [];\n\t\t\tJSHINT.blacklist = {};\n\t\t\tJSHINT.scope = \"(main)\";\n\t\t}\n\n\t\tpredefined = Object.create(null);\n\t\tcombine(predefined, vars.ecmaIdentifiers);\n\t\tcombine(predefined, vars.reservedVars);\n\n\t\tcombine(predefined, g || {});\n\n\t\tdeclared = Object.create(null);\n\t\texported = Object.create(null);\n\t\tignored = Object.create(null);\n\n\t\tif (o) {\n\t\t\ta = o.predef;\n\t\t\tif (a) {\n\t\t\t\tif (!Array.isArray(a) && typeof a === \"object\") {\n\t\t\t\t\ta = Object.keys(a);\n\t\t\t\t}\n\n\t\t\t\ta.forEach(function (item) {\n\t\t\t\t\tvar slice, prop;\n\n\t\t\t\t\tif (item[0] === \"-\") {\n\t\t\t\t\t\tslice = item.slice(1);\n\t\t\t\t\t\tJSHINT.blacklist[slice] = slice;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprop = Object.getOwnPropertyDescriptor(o.predef, item);\n\t\t\t\t\t\tpredefined[item] = prop ? prop.value : false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\toptionKeys = Object.keys(o);\n\t\t\tfor (x = 0; x < optionKeys.length; x++) {\n\t\t\t\tif (/^-W\\d{3}$/g.test(optionKeys[x])) {\n\t\t\t\t\tignored[optionKeys[x].slice(1)] = true;\n\t\t\t\t} else {\n\t\t\t\t\tnewOptionObj[optionKeys[x]] = o[optionKeys[x]];\n\n\t\t\t\t\tif (optionKeys[x] === \"newcap\" && o[optionKeys[x]] === false)\n\t\t\t\t\t\tnewOptionObj[\"(explicitNewcap)\"] = true;\n\n\t\t\t\t\tif (optionKeys[x] === \"indent\")\n\t\t\t\t\t\tnewOptionObj[\"(explicitIndent)\"] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tstate.option = newOptionObj;\n\n\t\tstate.option.indent = state.option.indent || 4;\n\t\tstate.option.maxerr = state.option.maxerr || 50;\n\n\t\tindent = 1;\n\t\tglobal = Object.create(predefined);\n\t\tscope = global;\n\t\tfunct = {\n\t\t\t\"(global)\":   true,\n\t\t\t\"(name)\":\t  \"(global)\",\n\t\t\t\"(scope)\":\t  scope,\n\t\t\t\"(breakage)\": 0,\n\t\t\t\"(loopage)\":  0,\n\t\t\t\"(tokens)\":   {},\n\t\t\t\"(metrics)\":   createMetrics(state.tokens.next)\n\t\t};\n\t\tfunctions = [funct];\n\t\turls = [];\n\t\tstack = null;\n\t\tmember = {};\n\t\tmembersOnly = null;\n\t\timplied = {};\n\t\tinblock = false;\n\t\tlookahead = [];\n\t\twarnings = 0;\n\t\tunuseds = [];\n\n\t\tif (!isString(s) && !Array.isArray(s)) {\n\t\t\terrorAt(\"E004\", 0);\n\t\t\treturn false;\n\t\t}\n\n\t\tvar api = {\n\t\t\tget isJSON() {\n\t\t\t\treturn state.jsonMode;\n\t\t\t},\n\n\t\t\tgetOption: function (name) {\n\t\t\t\treturn state.option[name] || null;\n\t\t\t},\n\n\t\t\tgetCache: function (name) {\n\t\t\t\treturn state.cache[name];\n\t\t\t},\n\n\t\t\tsetCache: function (name, value) {\n\t\t\t\tstate.cache[name] = value;\n\t\t\t},\n\n\t\t\twarn: function (code, data) {\n\t\t\t\twarningAt.apply(null, [ code, data.line, data.char ].concat(data.data));\n\t\t\t},\n\n\t\t\ton: function (names, listener) {\n\t\t\t\tnames.split(\" \").forEach(function (name) {\n\t\t\t\t\temitter.on(name, listener);\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t};\n\n\t\temitter.removeAllListeners();\n\t\t(extraModules || []).forEach(function (func) {\n\t\t\tfunc(api);\n\t\t});\n\n\t\tstate.tokens.prev = state.tokens.curr = state.tokens.next = state.syntax[\"(begin)\"];\n\n\t\tlex = new Lexer(s);\n\n\t\tlex.on(\"warning\", function (ev) {\n\t\t\twarningAt.apply(null, [ ev.code, ev.line, ev.character].concat(ev.data));\n\t\t});\n\n\t\tlex.on(\"error\", function (ev) {\n\t\t\terrorAt.apply(null, [ ev.code, ev.line, ev.character ].concat(ev.data));\n\t\t});\n\n\t\tlex.on(\"fatal\", function (ev) {\n\t\t\tquit(\"E041\", ev.line, ev.from);\n\t\t});\n\n\t\tlex.on(\"Identifier\", function (ev) {\n\t\t\temitter.emit(\"Identifier\", ev);\n\t\t});\n\n\t\tlex.on(\"String\", function (ev) {\n\t\t\temitter.emit(\"String\", ev);\n\t\t});\n\n\t\tlex.on(\"Number\", function (ev) {\n\t\t\temitter.emit(\"Number\", ev);\n\t\t});\n\n\t\tlex.start();\n\n\t\t// Check options\n\t\tfor (var name in o) {\n\t\t\tif (_.has(o, name)) {\n\t\t\t\tcheckOption(name, state.tokens.curr);\n\t\t\t}\n\t\t}\n\n\t\tassume();\n\n\t\t// combine the passed globals after we've assumed all our options\n\t\tcombine(predefined, g || {});\n\n\t\t//reset values\n\t\tcomma.first = true;\n\n\t\ttry {\n\t\t\tadvance();\n\t\t\tswitch (state.tokens.next.id) {\n\t\t\tcase \"{\":\n\t\t\tcase \"[\":\n\t\t\t\tstate.option.laxbreak = true;\n\t\t\t\tstate.jsonMode = true;\n\t\t\t\tjsonValue();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tdirectives();\n\n\t\t\t\tif (state.directive[\"use strict\"]) {\n\t\t\t\t\tif (!state.option.globalstrict && !state.option.node) {\n\t\t\t\t\t\twarning(\"W097\", state.tokens.prev);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstatements();\n\t\t\t}\n\t\t\tadvance((state.tokens.next && state.tokens.next.value !== \".\")\t? \"(end)\" : undefined);\n\n\t\t\tvar markDefined = function (name, context) {\n\t\t\t\tdo {\n\t\t\t\t\tif (typeof context[name] === \"string\") {\n\t\t\t\t\t\t// JSHINT marks unused variables as 'unused' and\n\t\t\t\t\t\t// unused function declaration as 'unction'. This\n\t\t\t\t\t\t// code changes such instances back 'var' and\n\t\t\t\t\t\t// 'closure' so that the code in JSHINT.data()\n\t\t\t\t\t\t// doesn't think they're unused.\n\n\t\t\t\t\t\tif (context[name] === \"unused\")\n\t\t\t\t\t\t\tcontext[name] = \"var\";\n\t\t\t\t\t\telse if (context[name] === \"unction\")\n\t\t\t\t\t\t\tcontext[name] = \"closure\";\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext = context[\"(context)\"];\n\t\t\t\t} while (context);\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tvar clearImplied = function (name, line) {\n\t\t\t\tif (!implied[name])\n\t\t\t\t\treturn;\n\n\t\t\t\tvar newImplied = [];\n\t\t\t\tfor (var i = 0; i < implied[name].length; i += 1) {\n\t\t\t\t\tif (implied[name][i] !== line)\n\t\t\t\t\t\tnewImplied.push(implied[name][i]);\n\t\t\t\t}\n\n\t\t\t\tif (newImplied.length === 0)\n\t\t\t\t\tdelete implied[name];\n\t\t\t\telse\n\t\t\t\t\timplied[name] = newImplied;\n\t\t\t};\n\n\t\t\tvar warnUnused = function (name, tkn, type, unused_opt) {\n\t\t\t\tvar line = tkn.line;\n\t\t\t\tvar chr  = tkn.character;\n\n\t\t\t\tif (unused_opt === undefined) {\n\t\t\t\t\tunused_opt = state.option.unused;\n\t\t\t\t}\n\n\t\t\t\tif (unused_opt === true) {\n\t\t\t\t\tunused_opt = \"last-param\";\n\t\t\t\t}\n\n\t\t\t\tvar warnable_types = {\n\t\t\t\t\t\"vars\": [\"var\"],\n\t\t\t\t\t\"last-param\": [\"var\", \"last-param\"],\n\t\t\t\t\t\"strict\": [\"var\", \"param\", \"last-param\"]\n\t\t\t\t};\n\n\t\t\t\tif (unused_opt) {\n\t\t\t\t\tif (warnable_types[unused_opt] && warnable_types[unused_opt].indexOf(type) !== -1) {\n\t\t\t\t\t\twarningAt(\"W098\", line, chr, name);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tunuseds.push({\n\t\t\t\t\tname: name,\n\t\t\t\t\tline: line,\n\t\t\t\t\tcharacter: chr\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar checkUnused = function (func, key) {\n\t\t\t\tvar type = func[key];\n\t\t\t\tvar tkn = func[\"(tokens)\"][key];\n\n\t\t\t\tif (key.charAt(0) === \"(\")\n\t\t\t\t\treturn;\n\n\t\t\t\tif (type !== \"unused\" && type !== \"unction\")\n\t\t\t\t\treturn;\n\n\t\t\t\t// Params are checked separately from other variables.\n\t\t\t\tif (func[\"(params)\"] && func[\"(params)\"].indexOf(key) !== -1)\n\t\t\t\t\treturn;\n\n\t\t\t\t// Variable is in global scope and defined as exported.\n\t\t\t\tif (func[\"(global)\"] && _.has(exported, key)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\twarnUnused(key, tkn, \"var\");\n\t\t\t};\n\n\t\t\t// Check queued 'x is not defined' instances to see if they're still undefined.\n\t\t\tfor (i = 0; i < JSHINT.undefs.length; i += 1) {\n\t\t\t\tk = JSHINT.undefs[i].slice(0);\n\n\t\t\t\tif (markDefined(k[2].value, k[0])) {\n\t\t\t\t\tclearImplied(k[2].value, k[2].line);\n\t\t\t\t} else if (state.option.undef) {\n\t\t\t\t\twarning.apply(warning, k.slice(1));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunctions.forEach(function (func) {\n\t\t\t\tif (func[\"(unusedOption)\"] === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in func) {\n\t\t\t\t\tif (_.has(func, key)) {\n\t\t\t\t\t\tcheckUnused(func, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!func[\"(params)\"])\n\t\t\t\t\treturn;\n\n\t\t\t\tvar params = func[\"(params)\"].slice();\n\t\t\t\tvar param  = params.pop();\n\t\t\t\tvar type, unused_type;\n\n\t\t\t\twhile (param) {\n\t\t\t\t\ttype = func[param];\n\t\t\t\t\tunused_type = (params.length === func[\"(params)\"].length - 1 ? \"last-param\" : \"param\");\n\n\t\t\t\t\t// 'undefined' is a special case for (function (window, undefined) { ... })();\n\t\t\t\t\t// patterns.\n\n\t\t\t\t\tif (param === \"undefined\")\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tif (type === \"unused\" || type === \"unction\") {\n\t\t\t\t\t\twarnUnused(param, func[\"(tokens)\"][param], unused_type, func[\"(unusedOption)\"]);\n\t\t\t\t\t}\n\n\t\t\t\t\tparam = params.pop();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (var key in declared) {\n\t\t\t\tif (_.has(declared, key) && !_.has(global, key)) {\n\t\t\t\t\twarnUnused(key, declared[key], \"var\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t} catch (err) {\n\t\t\tif (err && err.name === \"JSHintError\") {\n\t\t\t\tvar nt = state.tokens.next || {};\n\t\t\t\tJSHINT.errors.push({\n\t\t\t\t\tscope     : \"(main)\",\n\t\t\t\t\traw       : err.raw,\n\t\t\t\t\treason    : err.message,\n\t\t\t\t\tline      : err.line || nt.line,\n\t\t\t\t\tcharacter : err.character || nt.from\n\t\t\t\t}, null);\n\t\t\t} else {\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\n\t\t// Loop over the listed \"internals\", and check them as well.\n\n\t\tif (JSHINT.scope === \"(main)\") {\n\t\t\to = o || {};\n\n\t\t\tfor (i = 0; i < JSHINT.internals.length; i += 1) {\n\t\t\t\tk = JSHINT.internals[i];\n\t\t\t\to.scope = k.elem;\n\t\t\t\titself(k.value, o, g);\n\t\t\t}\n\t\t}\n\n\t\treturn JSHINT.errors.length === 0;\n\t};\n\n\t// Modules.\n\titself.addModule = function (func) {\n\t\textraModules.push(func);\n\t};\n\n\titself.addModule(style.register);\n\n\t// Data summary.\n\titself.data = function () {\n\t\tvar data = {\n\t\t\tfunctions: [],\n\t\t\toptions: state.option\n\t\t};\n\t\tvar implieds = [];\n\t\tvar members = [];\n\t\tvar fu, f, i, j, n, globals;\n\n\t\tif (itself.errors.length) {\n\t\t\tdata.errors = itself.errors;\n\t\t}\n\n\t\tif (state.jsonMode) {\n\t\t\tdata.json = true;\n\t\t}\n\n\t\tfor (n in implied) {\n\t\t\tif (_.has(implied, n)) {\n\t\t\t\timplieds.push({\n\t\t\t\t\tname: n,\n\t\t\t\t\tline: implied[n]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (implieds.length > 0) {\n\t\t\tdata.implieds = implieds;\n\t\t}\n\n\t\tif (urls.length > 0) {\n\t\t\tdata.urls = urls;\n\t\t}\n\n\t\tglobals = Object.keys(scope);\n\t\tif (globals.length > 0) {\n\t\t\tdata.globals = globals;\n\t\t}\n\n\t\tfor (i = 1; i < functions.length; i += 1) {\n\t\t\tf = functions[i];\n\t\t\tfu = {};\n\n\t\t\tfor (j = 0; j < functionicity.length; j += 1) {\n\t\t\t\tfu[functionicity[j]] = [];\n\t\t\t}\n\n\t\t\tfor (j = 0; j < functionicity.length; j += 1) {\n\t\t\t\tif (fu[functionicity[j]].length === 0) {\n\t\t\t\t\tdelete fu[functionicity[j]];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfu.name = f[\"(name)\"];\n\t\t\tfu.param = f[\"(params)\"];\n\t\t\tfu.line = f[\"(line)\"];\n\t\t\tfu.character = f[\"(character)\"];\n\t\t\tfu.last = f[\"(last)\"];\n\t\t\tfu.lastcharacter = f[\"(lastcharacter)\"];\n\t\t\tdata.functions.push(fu);\n\t\t}\n\n\t\tif (unuseds.length > 0) {\n\t\t\tdata.unused = unuseds;\n\t\t}\n\n\t\tmembers = [];\n\t\tfor (n in member) {\n\t\t\tif (typeof member[n] === \"number\") {\n\t\t\t\tdata.member = member;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t};\n\n\titself.jshint = itself;\n\n\treturn itself;\n}());\n\n// Make JSHINT a Node module, if possible.\nif (typeof exports === \"object\" && exports) {\n\texports.JSHINT = JSHINT;\n}\n\n//@ sourceURL=/src/stable/jshint.js"
));
require("/src/stable/jshint.js");

JSHINT = require('/src/stable/jshint.js').JSHINT;})();
‘	ÄÅÇ_application/javascript_.http://jsfiddle.net/js/emmet.js?update10082015Ovbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_.http://jsfiddle.net/js/emmet.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀÏfı »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Tue, 11 Aug 2015 17:05:53 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"55ca2b71-ee9e2"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/ È‚_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „$-36?HJLS[fqsuwy{}ÅÉÖêíîñòöúû†¢§¶±æ≈”€‡Â¯%>DdÑôπæ–ŸﬁÎÓÛ%)=K]`v             o              xO È‚!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),o.emmetCodeMirror=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var _interopRequire = function (obj) { return obj && obj.__esModule ? obj["default"] : obj; };

var _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } };

Object.defineProperty(exports, "__esModule", {
	value: true
});
/**
 * Emmet Editor interface implementation for CodeMirror.
 * Interface is optimized for multiple cursor usage: authors
 * should run acttion multiple times and update `selectionIndex`
 * property on each iteration.
 */

var emmet = _interopRequire(require("./emmet"));

var modeMap = {
	"text/html": "html",
	"application/xml": "xml",
	"text/xsl": "xsl",
	"text/css": "css",
	"text/x-less": "less",
	"text/x-scss": "scss",
	"text/x-sass": "sass"
};

exports.modeMap = modeMap;

var EmmetEditor = (function () {
	function EmmetEditor(ctx) {
		var selIndex = arguments[1] === undefined ? 0 : arguments[1];

		_classCallCheck(this, EmmetEditor);

		this.context = ctx;
		this.selectionIndex = selIndex || 0;
	}

	_createClass(EmmetEditor, {
		selectionList: {

			/**
    * Returns list of selections for current CodeMirror instance.
    * @return {Array}
    */

			value: function selectionList() {
				var cm = this.context;
				return cm.listSelections().map(function (sel) {
					var anchor = posToIndex(cm, sel.anchor);
					var head = posToIndex(cm, sel.head);

					return {
						start: Math.min(anchor, head),
						end: Math.max(anchor, head)
					};
				});
			}
		},
		getCaretPos: {
			value: function getCaretPos() {
				return this.getSelectionRange().start;
			}
		},
		setCaretPos: {
			value: function setCaretPos(pos) {
				this.createSelection(pos);
			}
		},
		getSelectionRange: {

			/**
    * Returns current selection range (for current selection index)
    * @return {Object}
    */

			value: function getSelectionRange() {
				return this.selectionList()[this.selectionIndex];
			}
		},
		createSelection: {
			value: function createSelection(start, end) {
				if (typeof end == "undefined") {
					end = start;
				}

				var sels = this.selectionList();
				var cm = this.context;
				sels[this.selectionIndex] = { start: start, end: end };
				this.context.setSelections(sels.map(function (sel) {
					return {
						head: indexToPos(cm, sel.start),
						anchor: indexToPos(cm, sel.end)
					};
				}));
			}
		},
		getSelection: {

			/**
    * Returns current selection
    * @return {String}
    */

			value: function getSelection() {
				var sel = this.getSelectionRange();
				sel.start = indexToPos(this.context, sel.start);
				sel.end = indexToPos(this.context, sel.end);
				return this.context.getRange(sel.start, sel.end);
			}
		},
		getCurrentLineRange: {
			value: function getCurrentLineRange() {
				var caret = indexToPos(this.context, this.getCaretPos());
				return {
					start: posToIndex(this.context, caret.line, 0),
					end: posToIndex(this.context, caret.line, this.context.getLine(caret.line).length)
				};
			}
		},
		getCurrentLine: {
			value: function getCurrentLine() {
				var caret = indexToPos(this.context, this.getCaretPos());
				return this.context.getLine(caret.line) || "";
			}
		},
		replaceContent: {
			value: function replaceContent(value, start, end, noIndent) {
				if (typeof end == "undefined") {
					end = typeof start == "undefined" ? this.getContent().length : start;
				}
				if (typeof start == "undefined") {
					start = 0;
				}

				// normalize indentation according to editor preferences
				value = this.normalize(value);

				// indent new value
				if (!noIndent) {
					value = emmet.utils.common.padString(value, emmet.utils.common.getLinePaddingFromPosition(this.getContent(), start));
				}

				// find new caret position
				var tabstopData = emmet.tabStops.extract(value, { escape: function (ch) {
						return ch;
					} });
				value = tabstopData.text;

				var firstTabStop = tabstopData.tabstops[0] || { start: value.length, end: value.length };
				firstTabStop.start += start;
				firstTabStop.end += start;

				this.context.replaceRange(value, indexToPos(this.context, start), indexToPos(this.context, end));
				this.createSelection(firstTabStop.start, firstTabStop.end);
			}
		},
		normalize: {

			/**
    * Normalizes string indentation in given string
    * according to editor preferences
    * @param  {String} str
    * @return {String}
    */

			value: function normalize(str) {
				var indent = "\t";
				var ctx = this.context;
				if (!ctx.getOption("indentWithTabs")) {
					indent = emmet.utils.common.repeatString(" ", ctx.getOption("indentUnit"));
				}

				return emmet.utils.editor.normalize(str, {
					indentation: indent
				});
			}
		},
		getContent: {
			value: function getContent() {
				return this.context.getValue();
			}
		},
		getSyntax: {
			value: function getSyntax() {
				var editor = this.context;
				var pos = editor.posFromIndex(this.getCaretPos());
				var mode = editor.getModeAt(editor.getCursor());
				var syntax = mode.name;
				if (syntax === "xml" && mode.configuration) {
					syntax = mode.configuration;
				}

				return syntax || emmet.utils.action.detectSyntax(this, syntax);
			}
		},
		getProfileName: {

			/**
    * Returns current output profile name (@see emmet#setupProfile)
    * @return {String}
    */

			value: function getProfileName() {
				if (this.context.getOption("profile")) {
					return this.context.getOption("profile");
				}

				return emmet.utils.action.detectProfile(this);
			}
		},
		prompt: {

			/**
    * Ask user to enter something
    * @param {String} title Dialog title
    * @return {String} Entered data
    */

			value: (function (_prompt) {
				var _promptWrapper = function prompt(_x) {
					return _prompt.apply(this, arguments);
				};

				_promptWrapper.toString = function () {
					return _prompt.toString();
				};

				return _promptWrapper;
			})(function (title) {
				return prompt(title);
			})
		},
		getFilePath: {

			/**
    * Returns current editor's file path
    * @return {String}
    */

			value: function getFilePath() {
				return location.href;
			}
		},
		isValidSyntax: {

			/**
    * Check if current editor syntax is valid, e.g. is supported by Emmet
    * @return {Boolean}
    */

			value: function isValidSyntax() {
				return emmet.resources.hasSyntax(this.getSyntax());
			}
		}
	});

	return EmmetEditor;
})();

exports["default"] = EmmetEditor;

/**
 * Converts CM‚Äôs inner representation of character
 * position (line, ch) to character index in text
 * @param  {CodeMirror} cm  CodeMirror instance
 * @param  {Object}     pos Position object
 * @return {Number}
 */
function posToIndex(cm, pos) {
	if (arguments.length > 2 && typeof pos !== "object") {
		pos = { line: arguments[1], ch: arguments[2] };
	}
	return cm.indexFromPos(pos);
}

/**
 * Converts charater index in text to CM‚Äôs internal object representation
 * @param  {CodeMirror} cm CodeMirror instance
 * @param  {Number}     ix Character index in CM document
 * @return {Object}
 */
function indexToPos(cm, ix) {
	return cm.posFromIndex(ix);
}
},{"./emmet":2}],2:[function(require,module,exports){
"use strict";

var _interopRequire = function (obj) { return obj && obj.__esModule ? obj["default"] : obj; };

var emmet = _interopRequire(require("emmet"));

require("emmet/bundles/snippets");

require("emmet/bundles/caniuse");

module.exports = emmet;
},{"emmet":39,"emmet/bundles/caniuse":3,"emmet/bundles/snippets":4}],3:[function(require,module,exports){
/**
 * Bundler, used in builder script to statically
 * include optimized caniuse.json into bundle
 */
var ciu = require('../lib/assets/caniuse');
var db = require('../lib/caniuse.json');
ciu.load(db, true);
},{"../lib/assets/caniuse":23,"../lib/caniuse.json":35}],4:[function(require,module,exports){
/**
 * Bundler, used in builder script to statically
 * include snippets.json into bundle
 */
var res = require('../lib/assets/resources');
var snippets = require('../lib/snippets.json');
res.setVocabulary(snippets, 'system');

},{"../lib/assets/resources":31,"../lib/snippets.json":68}],5:[function(require,module,exports){
/**
 * HTML pair matching (balancing) actions
 * @constructor
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var htmlMatcher = require('../assets/htmlMatcher');
	var utils = require('../utils/common');
	var editorUtils = require('../utils/editor');
	var actionUtils = require('../utils/action');
	var range = require('../assets/range');
	var cssEditTree = require('../editTree/css');
	var cssSections = require('../utils/cssSections');
	var lastMatch = null;

	function last(arr) {
		return arr[arr.length - 1];
	}

	function balanceHTML(editor, direction) {
		var info = editorUtils.outputInfo(editor);
		var content = info.content;
		var sel = range(editor.getSelectionRange());

		// validate previous match
		if (lastMatch && !lastMatch.range.equal(sel)) {
			lastMatch = null;
		}

		if (lastMatch && sel.length()) {
			if (direction == 'in') {
				// user has previously selected tag and wants to move inward
				if (lastMatch.type == 'tag' && !lastMatch.close) {
					// unary tag was selected, can't move inward
					return false;
				} else {
					if (lastMatch.range.equal(lastMatch.outerRange)) {
						lastMatch.range = lastMatch.innerRange;
					} else {
						var narrowed = utils.narrowToNonSpace(content, lastMatch.innerRange);
						lastMatch = htmlMatcher.find(content, narrowed.start + 1);
						if (lastMatch && lastMatch.range.equal(sel) && lastMatch.outerRange.equal(sel)) {
							lastMatch.range = lastMatch.innerRange;
						}
					}
				}
			} else {
				if (
					!lastMatch.innerRange.equal(lastMatch.outerRange)
					&& lastMatch.range.equal(lastMatch.innerRange)
					&& sel.equal(lastMatch.range)) {
					lastMatch.range = lastMatch.outerRange;
				} else {
					lastMatch = htmlMatcher.find(content, sel.start);
					if (lastMatch && lastMatch.range.equal(sel) && lastMatch.innerRange.equal(sel)) {
						lastMatch.range = lastMatch.outerRange;
					}
				}
			}
		} else {
			lastMatch = htmlMatcher.find(content, sel.start);
		}

		if (lastMatch) {
			if (lastMatch.innerRange.equal(sel)) {
				lastMatch.range = lastMatch.outerRange;
			}

			if (!lastMatch.range.equal(sel)) {
				editor.createSelection(lastMatch.range.start, lastMatch.range.end);
				return true;
			}
		}

		lastMatch = null;
		return false;
	}

	function rangesForCSSRule(rule, pos) {
		// find all possible ranges
		var ranges = [rule.range(true)];

		// braces content
		ranges.push(rule.valueRange(true));

		// find nested sections
		var nestedSections = cssSections.nestedSectionsInRule(rule);

		// real content, e.g. from first property name to
		// last property value
		var items = rule.list();
		if (items.length || nestedSections.length) {
			var start = Number.POSITIVE_INFINITY, end = -1;
			if (items.length) {
				start = items[0].namePosition(true);
				end = last(items).range(true).end;
			}

			if (nestedSections.length) {
				if (nestedSections[0].start < start) {
					start = nestedSections[0].start;
				}

				if (last(nestedSections).end > end) {
					end = last(nestedSections).end;
				}
			}

			ranges.push(range.create2(start, end));
		}

		ranges = ranges.concat(nestedSections);

		var prop = cssEditTree.propertyFromPosition(rule, pos) || items[0];
		if (prop) {
			ranges.push(prop.range(true));
			var valueRange = prop.valueRange(true);
			if (!prop.end()) {
				valueRange._unterminated = true;
			}
			ranges.push(valueRange);
		}

		return ranges;
	}

	/**
	 * Returns all possible selection ranges for given caret position
	 * @param  {String} content CSS content
	 * @param  {Number} pos     Caret position(where to start searching)
	 * @return {Array}
	 */
	function getCSSRanges(content, pos) {
		var rule;
		if (typeof content === 'string') {
			var ruleRange = cssSections.matchEnclosingRule(content, pos);
			if (ruleRange) {
				rule = cssEditTree.parse(ruleRange.substring(content), {
					offset: ruleRange.start
				});
			}
		} else {
			// passed parsed CSS rule
			rule = content;
		}

		if (!rule) {
			return null;
		}

		// find all possible ranges
		var ranges = rangesForCSSRule(rule, pos);

		// remove empty ranges
		ranges = ranges.filter(function(item) {
			return !!item.length;
		});

		return utils.unique(ranges, function(item) {
			return item.valueOf();
		});
	}

	function balanceCSS(editor, direction) {
		var info = editorUtils.outputInfo(editor);
		var content = info.content;
		var sel = range(editor.getSelectionRange());

		var ranges = getCSSRanges(info.content, sel.start);
		if (!ranges && sel.length()) {
			// possible reason: user has already selected
			// CSS rule from last match
			try {
				var rule = cssEditTree.parse(sel.substring(info.content), {
					offset: sel.start
				});
				ranges = getCSSRanges(rule, sel.start);
			} catch(e) {}
		}

		if (!ranges) {
			return false;
		}

		ranges = range.sort(ranges, true);

		// edge case: find match that equals current selection,
		// in case if user moves inward after selecting full CSS rule
		var bestMatch = utils.find(ranges, function(r) {
			return r.equal(sel);
		});

		if (!bestMatch) {
			bestMatch = utils.find(ranges, function(r) {
				// Check for edge case: caret right after CSS value
				// but it doesn‚Äòt contains terminating semicolon.
				// In this case we have to check full value range
				return r._unterminated ? r.include(sel.start) : r.inside(sel.start);
			});
		}

		if (!bestMatch) {
			return false;
		}

		// if best match equals to current selection, move index
		// one position up or down, depending on direction
		var bestMatchIx = ranges.indexOf(bestMatch);
		if (bestMatch.equal(sel)) {
			bestMatchIx += direction == 'out' ? 1 : -1;
		}

		if (bestMatchIx < 0 || bestMatchIx >= ranges.length) {
			if (bestMatchIx >= ranges.length && direction == 'out') {
				pos = bestMatch.start - 1;

				var outerRanges = getCSSRanges(content, pos);
				if (outerRanges) {
					bestMatch = last(outerRanges.filter(function(r) {
						return r.inside(pos);
					}));
				}
			} else if (bestMatchIx < 0 && direction == 'in') {
				bestMatch = null;
			} else {
				bestMatch = null;
			}
		} else {
			bestMatch = ranges[bestMatchIx];
		}

		if (bestMatch) {
			editor.createSelection(bestMatch.start, bestMatch.end);
			return true;
		}

		return false;
	}

	return {
		/**
		 * Find and select HTML tag pair
		 * @param {IEmmetEditor} editor Editor instance
		 * @param {String} direction Direction of pair matching: 'in' or 'out'.
		 * Default is 'out'
		 */
		balance: function(editor, direction) {
			direction = String((direction || 'out').toLowerCase());
			var info = editorUtils.outputInfo(editor);
			if (actionUtils.isSupportedCSS(info.syntax)) {
				return balanceCSS(editor, direction);
			}

			return balanceHTML(editor, direction);
		},

		balanceInwardAction: function(editor) {
			return this.balance(editor, 'in');
		},

		balanceOutwardAction: function(editor) {
			return this.balance(editor, 'out');
		},

		/**
		 * Moves caret to matching opening or closing tag
		 * @param {IEmmetEditor} editor
		 */
		goToMatchingPairAction: function(editor) {
			var content = String(editor.getContent());
			var caretPos = editor.getCaretPos();

			if (content.charAt(caretPos) == '<')
				// looks like caret is outside of tag pair
				caretPos++;

			var tag = htmlMatcher.tag(content, caretPos);
			if (tag && tag.close) { // exclude unary tags
				if (tag.open.range.inside(caretPos)) {
					editor.setCaretPos(tag.close.range.start);
				} else {
					editor.setCaretPos(tag.open.range.start);
				}

				return true;
			}

			return false;
		}
	};
});
},{"../assets/htmlMatcher":26,"../assets/range":30,"../editTree/css":37,"../utils/action":70,"../utils/common":73,"../utils/cssSections":74,"../utils/editor":75}],6:[function(require,module,exports){
/**
 * Encodes/decodes image under cursor to/from base64
 * @param {IEmmetEditor} editor
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var file = require('../plugin/file');
	var base64 = require('../utils/base64');
	var actionUtils = require('../utils/action');
	var editorUtils = require('../utils/editor');

	/**
	 * Test if <code>text</code> starts with <code>token</code> at <code>pos</code>
	 * position. If <code>pos</code> is omitted, search from beginning of text
	 * @param {String} token Token to test
	 * @param {String} text Where to search
	 * @param {Number} pos Position where to start search
	 * @return {Boolean}
	 * @since 0.65
	 */
	function startsWith(token, text, pos) {
		pos = pos || 0;
		return text.charAt(pos) == token.charAt(0) && text.substr(pos, token.length) == token;
	}

	/**
	 * Encodes image to base64
	 *
	 * @param {IEmmetEditor} editor
	 * @param {String} imgPath Path to image
	 * @param {Number} pos Caret position where image is located in the editor
	 * @return {Boolean}
	 */
	function encodeToBase64(editor, imgPath, pos) {
		var editorFile = editor.getFilePath();
		var defaultMimeType = 'application/octet-stream';

		if (editorFile === null) {
			throw "You should save your file before using this action";
		}

		// locate real image path
		var realImgPath = file.locateFile(editorFile, imgPath);
		if (realImgPath === null) {
			throw "Can't find " + imgPath + ' file';
		}

		file.read(realImgPath, function(err, content) {
			if (err) {
				throw 'Unable to read ' + realImgPath + ': ' + err;
			}

			var b64 = base64.encode(String(content));
			if (!b64) {
				throw "Can't encode file content to base64";
			}

			b64 = 'data:' + (actionUtils.mimeTypes[String(file.getExt(realImgPath))] || defaultMimeType) +
				';base64,' + b64;

			editor.replaceContent('$0' + b64, pos, pos + imgPath.length);
		});

		return true;
	}

	/**
	 * Decodes base64 string back to file.
	 * @param {IEmmetEditor} editor
	 * @param {String} data Base64-encoded file content
	 * @param {Number} pos Caret position where image is located in the editor
	 */
	function decodeFromBase64(editor, data, pos) {
		// ask user to enter path to file
		var filePath = String(editor.prompt('Enter path to file (absolute or relative)'));
		if (!filePath)
			return false;

		var absPath = file.createPath(editor.getFilePath(), filePath);
		if (!absPath) {
			throw "Can't save file";
		}

		file.save(absPath, base64.decode( data.replace(/^data\:.+?;.+?,/, '') ));
		editor.replaceContent('$0' + filePath, pos, pos + data.length);
		return true;
	}

	return {
		/**
		 * Action to encode or decode file to data:url
		 * @param  {IEmmetEditor} editor  Editor instance
		 * @param  {String} syntax  Current document syntax
		 * @param  {String} profile Output profile name
		 * @return {Boolean}
		 */
		encodeDecodeDataUrlAction: function(editor) {
			var data = String(editor.getSelection());
			var caretPos = editor.getCaretPos();
			var info = editorUtils.outputInfo(editor);

			if (!data) {
				// no selection, try to find image bounds from current caret position
				var text = info.content, m;
				while (caretPos-- >= 0) {
					if (startsWith('src=', text, caretPos)) { // found <img src="">
						if ((m = text.substr(caretPos).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))) {
							data = m[3];
							caretPos += m[1].length;
						}
						break;
					} else if (startsWith('url(', text, caretPos)) { // found CSS url() pattern
						if ((m = text.substr(caretPos).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))) {
							data = m[3];
							caretPos += m[1].length;
						}
						break;
					}
				}
			}

			if (data) {
				if (startsWith('data:', data)) {
					return decodeFromBase64(editor, data, caretPos);
				} else {
					return encodeToBase64(editor, data, caretPos);
				}
			}

			return false;
		}
	};
});

},{"../plugin/file":63,"../utils/action":70,"../utils/base64":71,"../utils/editor":75}],7:[function(require,module,exports){
/**
 * Move between next/prev edit points. 'Edit points' are places between tags
 * and quotes of empty attributes in html
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	/**
	 * Search for new caret insertion point
	 * @param {IEmmetEditor} editor Editor instance
	 * @param {Number} inc Search increment: -1 ‚Äî search left, 1 ‚Äî search right
	 * @param {Number} offset Initial offset relative to current caret position
	 * @return {Number} Returns -1 if insertion point wasn't found
	 */
	function findNewEditPoint(editor, inc, offset) {
		inc = inc || 1;
		offset = offset || 0;

		var curPoint = editor.getCaretPos() + offset;
		var content = String(editor.getContent());
		var maxLen = content.length;
		var nextPoint = -1;
		var reEmptyLine = /^\s+$/;

		function getLine(ix) {
			var start = ix;
			while (start >= 0) {
				var c = content.charAt(start);
				if (c == '\n' || c == '\r')
					break;
				start--;
			}

			return content.substring(start, ix);
		}

		while (curPoint <= maxLen && curPoint >= 0) {
			curPoint += inc;
			var curChar = content.charAt(curPoint);
			var nextChar = content.charAt(curPoint + 1);
			var prevChar = content.charAt(curPoint - 1);

			switch (curChar) {
				case '"':
				case '\'':
					if (nextChar == curChar && prevChar == '=') {
						// empty attribute
						nextPoint = curPoint + 1;
					}
					break;
				case '>':
					if (nextChar == '<') {
						// between tags
						nextPoint = curPoint + 1;
					}
					break;
				case '\n':
				case '\r':
					// empty line
					if (reEmptyLine.test(getLine(curPoint - 1))) {
						nextPoint = curPoint;
					}
					break;
			}

			if (nextPoint != -1)
				break;
		}

		return nextPoint;
	}

	return {
		/**
		 * Move to previous edit point
		 * @param  {IEmmetEditor} editor  Editor instance
		 * @param  {String} syntax  Current document syntax
		 * @param  {String} profile Output profile name
		 * @return {Boolean}
		 */
		previousEditPointAction: function(editor, syntax, profile) {
			var curPos = editor.getCaretPos();
			var newPoint = findNewEditPoint(editor, -1);

			if (newPoint == curPos)
				// we're still in the same point, try searching from the other place
				newPoint = findNewEditPoint(editor, -1, -2);

			if (newPoint != -1) {
				editor.setCaretPos(newPoint);
				return true;
			}

			return false;
		},

		/**
		 * Move to next edit point
		 * @param  {IEmmetEditor} editor  Editor instance
		 * @param  {String} syntax  Current document syntax
		 * @param  {String} profile Output profile name
		 * @return {Boolean}
		 */
		nextEditPointAction: function(editor, syntax, profile) {
			var newPoint = findNewEditPoint(editor, 1);
			if (newPoint != -1) {
				editor.setCaretPos(newPoint);
				return true;
			}

			return false;
		}
	};
});
},{}],8:[function(require,module,exports){
/**
 * Evaluates simple math expression under caret
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var actionUtils = require('../utils/action');
	var utils = require('../utils/common');
	var math = require('../utils/math');
	var range = require('../assets/range');

	return {
		/**
		 * Evaluates math expression under the caret
		 * @param  {IEmmetEditor} editor
		 * @return {Boolean}
		 */
		evaluateMathAction: function(editor) {
			var content = editor.getContent();
			var chars = '.+-*/\\';

			/** @type Range */
			var sel = range(editor.getSelectionRange());
			if (!sel.length()) {
				sel = actionUtils.findExpressionBounds(editor, function(ch) {
					return utils.isNumeric(ch) || chars.indexOf(ch) != -1;
				});
			}

			if (sel && sel.length()) {
				var expr = sel.substring(content);

				// replace integral division: 11\2 => Math.round(11/2)
				expr = expr.replace(/([\d\.\-]+)\\([\d\.\-]+)/g, 'round($1/$2)');

				try {
					var result = utils.prettifyNumber(math.evaluate(expr));
					editor.replaceContent(result, sel.start, sel.end);
					editor.setCaretPos(sel.start + result.length);
					return true;
				} catch (e) {}
			}

			return false;
		}
	};
});

},{"../assets/range":30,"../utils/action":70,"../utils/common":73,"../utils/math":76}],9:[function(require,module,exports){
/**
 * 'Expand abbreviation' editor action: extracts abbreviation from current caret
 * position and replaces it with formatted output.
 * <br><br>
 * This behavior can be overridden with custom handlers which can perform
 * different actions when 'Expand Abbreviation' action is called.
 * For example, a CSS gradient handler that produces vendor-prefixed gradient
 * definitions registers its own expand abbreviation handler.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var handlerList = require('../assets/handlerList');
	var range = require('../assets/range');
	var prefs = require('../assets/preferences');
	var utils = require('../utils/common');
	var editorUtils = require('../utils/editor');
	var actionUtils = require('../utils/action');
	var cssGradient = require('../resolver/cssGradient');
	var parser = require('../parser/abbreviation');

	/**
	 * Search for abbreviation in editor from current caret position
	 * @param {IEmmetEditor} editor Editor instance
	 * @return {String}
	 */
	function findAbbreviation(editor) {
		var r = range(editor.getSelectionRange());
		var content = String(editor.getContent());
		if (r.length()) {
			// abbreviation is selected by user
			return r.substring(content);
		}

		// search for new abbreviation from current caret position
		var curLine = editor.getCurrentLineRange();
		return actionUtils.extractAbbreviation(content.substring(curLine.start, r.start));
	}

	/**
	 * @type HandlerList List of registered handlers
	 */
	var handlers = handlerList.create();

	// XXX setup default expand handlers

	/**
	 * Extracts abbreviation from current caret
	 * position and replaces it with formatted output
	 * @param {IEmmetEditor} editor Editor instance
	 * @param {String} syntax Syntax type (html, css, etc.)
	 * @param {String} profile Output profile name (html, xml, xhtml)
	 * @return {Boolean} Returns <code>true</code> if abbreviation was expanded
	 * successfully
	 */
	handlers.add(function(editor, syntax, profile) {
		var caretPos = editor.getSelectionRange().end;
		var abbr = findAbbreviation(editor);

		if (abbr) {
			var content = parser.expand(abbr, {
				syntax: syntax,
				profile: profile,
				contextNode: actionUtils.captureContext(editor)
			});

			if (content) {
				var replaceFrom = caretPos - abbr.length;
				var replaceTo = caretPos;

				// a special case for CSS: if editor already contains
				// semicolon right after current caret position ‚Äî replace it too
				var cssSyntaxes = prefs.getArray('css.syntaxes');
				if (cssSyntaxes && ~cssSyntaxes.indexOf(syntax)) {
					var curContent = editor.getContent();
					if (curContent.charAt(caretPos) == ';' && content.charAt(content.length - 1) == ';') {
						replaceTo++;
					}
				}

				editor.replaceContent(content, replaceFrom, replaceTo);
				return true;
			}
		}

		return false;
	}, {order: -1});
	handlers.add(cssGradient.expandAbbreviationHandler.bind(cssGradient));

	return {
		/**
		 * The actual ‚ÄúExpand Abbreviation‚Äú action routine
		 * @param  {IEmmetEditor} editor  Editor instance
		 * @param  {String} syntax  Current document syntax
		 * @param  {String} profile Output profile name
		 * @return {Boolean}
		 */
		expandAbbreviationAction: function(editor, syntax, profile) {
			var args = utils.toArray(arguments);

			// normalize incoming arguments
			var info = editorUtils.outputInfo(editor, syntax, profile);
			args[1] = info.syntax;
			args[2] = info.profile;

			return handlers.exec(false, args);
		},

		/**
		 * A special case of ‚ÄúExpand Abbreviation‚Äú action, invoked by Tab key.
		 * In this case if abbreviation wasn‚Äôt expanded successfully or there‚Äôs a selecetion,
		 * the current line/selection will be indented.
		 * @param  {IEmmetEditor} editor  Editor instance
		 * @param  {String} syntax  Current document syntax
		 * @param  {String} profile Output profile name
		 * @return {Boolean}
		 */
		expandAbbreviationWithTabAction: function(editor, syntax, profile) {
			var sel = editor.getSelection();
			var indent = '\t';

			// if something is selected in editor,
			// we should indent the selected content
			if (sel) {
				var selRange = range(editor.getSelectionRange());
				var content = utils.padString(sel, indent);

				editor.replaceContent(indent + '${0}', editor.getCaretPos());
				var replaceRange = range(editor.getCaretPos(), selRange.length());
				editor.replaceContent(content, replaceRange.start, replaceRange.end, true);
				editor.createSelection(replaceRange.start, replaceRange.start + content.length);
				return true;
			}

			// nothing selected, try to expand
			if (!this.expandAbbreviationAction(editor, syntax, profile)) {
				editor.replaceContent(indent, editor.getCaretPos());
			}

			return true;
		},


		_defaultHandler: function(editor, syntax, profile) {
			var caretPos = editor.getSelectionRange().end;
			var abbr = this.findAbbreviation(editor);

			if (abbr) {
				var ctx = actionUtils.captureContext(editor);
				var content = parser.expand(abbr, syntax, profile, ctx);
				if (content) {
					editor.replaceContent(content, caretPos - abbr.length, caretPos);
					return true;
				}
			}

			return false;
		},

		/**
		 * Adds custom expand abbreviation handler. The passed function should
		 * return <code>true</code> if it was performed successfully,
		 * <code>false</code> otherwise.
		 *
		 * Added handlers will be called when 'Expand Abbreviation' is called
		 * in order they were added
		 * @memberOf expandAbbreviation
		 * @param {Function} fn
		 * @param {Object} options
		 */
		addHandler: function(fn, options) {
			handlers.add(fn, options);
		},

		/**
		 * Removes registered handler
		 * @returns
		 */
		removeHandler: function(fn) {
			handlers.remove(fn);
		},

		findAbbreviation: findAbbreviation
	};
});
},{"../assets/handlerList":25,"../assets/preferences":28,"../assets/range":30,"../parser/abbreviation":55,"../resolver/cssGradient":65,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],10:[function(require,module,exports){
/**
 * Increment/decrement number under cursor
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var actionUtils = require('../utils/action');

	/**
	 * Returns length of integer part of number
	 * @param {String} num
	 */
	function intLength(num) {
		num = num.replace(/^\-/, '');
		if (~num.indexOf('.')) {
			return num.split('.')[0].length;
		}

		return num.length;
	}

	return {
		increment01Action: function(editor) {
			return this.incrementNumber(editor, .1);
		},

		increment1Action: function(editor) {
			return this.incrementNumber(editor, 1);
		},

		increment10Action: function(editor) {
			return this.incrementNumber(editor, 10);
		},

		decrement01Action: function(editor) {
			return this.incrementNumber(editor, -.1);
		},

		decrement1Action: function(editor) {
			return this.incrementNumber(editor, -1);
		},

		decrement10Action: function(editor) {
			return this.incrementNumber(editor, -10);
		},

		/**
		 * Default method to increment/decrement number under
		 * caret with given step
		 * @param  {IEmmetEditor} editor
		 * @param  {Number} step
		 * @return {Boolean}
		 */
		incrementNumber: function(editor, step) {
			var hasSign = false;
			var hasDecimal = false;

			var r = actionUtils.findExpressionBounds(editor, function(ch, pos, content) {
				if (utils.isNumeric(ch))
					return true;
				if (ch == '.') {
					// make sure that next character is numeric too
					if (!utils.isNumeric(content.charAt(pos + 1)))
						return false;

					return hasDecimal ? false : hasDecimal = true;
				}
				if (ch == '-')
					return hasSign ? false : hasSign = true;

				return false;
			});

			if (r && r.length()) {
				var strNum = r.substring(String(editor.getContent()));
				var num = parseFloat(strNum);
				if (!isNaN(num)) {
					num = utils.prettifyNumber(num + step);

					// do we have zero-padded number?
					if (/^(\-?)0+[1-9]/.test(strNum)) {
						var minus = '';
						if (RegExp.$1) {
							minus = '-';
							num = num.substring(1);
						}

						var parts = num.split('.');
						parts[0] = utils.zeroPadString(parts[0], intLength(strNum));
						num = minus + parts.join('.');
					}

					editor.replaceContent(num, r.start, r.end);
					editor.createSelection(r.start, r.start + num.length);
					return true;
				}
			}

			return false;
		}
	};
});
},{"../utils/action":70,"../utils/common":73}],11:[function(require,module,exports){
/**
 * Actions to insert line breaks. Some simple editors (like browser's
 * &lt;textarea&gt;, for example) do not provide such simple things
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var prefs = require('../assets/preferences');
	var utils = require('../utils/common');
	var resources = require('../assets/resources');
	var htmlMatcher = require('../assets/htmlMatcher');
	var editorUtils = require('../utils/editor');

	var xmlSyntaxes = ['html', 'xml', 'xsl'];

	// setup default preferences
	prefs.define('css.closeBraceIndentation', '\n',
			'Indentation before closing brace of CSS rule. Some users prefere '
			+ 'indented closing brace of CSS rule for better readability. '
			+ 'This preference‚Äôs value will be automatically inserted before '
			+ 'closing brace when user adds newline in newly created CSS rule '
			+ '(e.g. when ‚ÄúInsert formatted linebreak‚Äù action will be performed '
			+ 'in CSS file). If you‚Äôre such user, you may want to write put a value '
			+ 'like <code>\\n\\t</code> in this preference.');

	return {
		/**
		 * Inserts newline character with proper indentation. This action is used in
		 * editors that doesn't have indentation control (like textarea element) to
		 * provide proper indentation for inserted newlines
		 * @param {IEmmetEditor} editor Editor instance
		 */
		insertLineBreakAction: function(editor) {
			if (!this.insertLineBreakOnlyAction(editor)) {
				var curPadding = editorUtils.getCurrentLinePadding(editor);
				var content = String(editor.getContent());
				var caretPos = editor.getCaretPos();
				var len = content.length;
				var nl = '\n';

				// check out next line padding
				var lineRange = editor.getCurrentLineRange();
				var nextPadding = '';

				for (var i = lineRange.end + 1, ch; i < len; i++) {
					ch = content.charAt(i);
					if (ch == ' ' || ch == '\t')
						nextPadding += ch;
					else
						break;
				}

				if (nextPadding.length > curPadding.length) {
					editor.replaceContent(nl + nextPadding, caretPos, caretPos, true);
				} else {
					editor.replaceContent(nl, caretPos);
				}
			}

			return true;
		},

		/**
		 * Inserts newline character with proper indentation in specific positions only.
		 * @param {IEmmetEditor} editor
		 * @return {Boolean} Returns <code>true</code> if line break was inserted
		 */
		insertLineBreakOnlyAction: function(editor) {
			var info = editorUtils.outputInfo(editor);
			var caretPos = editor.getCaretPos();
			var nl = '\n';
			var pad = '\t';

			if (~xmlSyntaxes.indexOf(info.syntax)) {
				// let's see if we're breaking newly created tag
				var tag = htmlMatcher.tag(info.content, caretPos);
				if (tag && !tag.innerRange.length()) {
					editor.replaceContent(nl + pad + utils.getCaretPlaceholder() + nl, caretPos);
					return true;
				}
			} else if (info.syntax == 'css') {
				/** @type String */
				var content = info.content;
				if (caretPos && content.charAt(caretPos - 1) == '{') {
					var append = prefs.get('css.closeBraceIndentation');

					var hasCloseBrace = content.charAt(caretPos) == '}';
					if (!hasCloseBrace) {
						// do we really need special formatting here?
						// check if this is really a newly created rule,
						// look ahead for a closing brace
						for (var i = caretPos, il = content.length, ch; i < il; i++) {
							ch = content.charAt(i);
							if (ch == '{') {
								// ok, this is a new rule without closing brace
								break;
							}

							if (ch == '}') {
								// not a new rule, just add indentation
								append = '';
								hasCloseBrace = true;
								break;
							}
						}
					}

					if (!hasCloseBrace) {
						append += '}';
					}

					// defining rule set
					var insValue = nl + pad + utils.getCaretPlaceholder() + append;
					editor.replaceContent(insValue, caretPos);
					return true;
				}
			}

			return false;
		}
	};
});
},{"../assets/htmlMatcher":26,"../assets/preferences":28,"../assets/resources":31,"../utils/common":73,"../utils/editor":75}],12:[function(require,module,exports){
/**
 * Module describes and performs Emmet actions. The actions themselves are
 * defined in <i>actions</i> folder
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');

	// all registered actions
	var actions = {};

	// load all default actions
	var actionModules = {
		base64: require('./base64'),
		editPoints: require('./editPoints'),
		evaluateMath: require('./evaluateMath'),
		expandAbbreviation: require('./expandAbbreviation'),
		incrementDecrement: require('./incrementDecrement'),
		lineBreaks: require('./lineBreaks'),
		balance: require('./balance'),
		mergeLines: require('./mergeLines'),
		reflectCSSValue: require('./reflectCSSValue'),
		removeTag: require('./removeTag'),
		selectItem: require('./selectItem'),
		selectLine: require('./selectLine'),
		splitJoinTag: require('./splitJoinTag'),
		toggleComment: require('./toggleComment'),
		updateImageSize: require('./updateImageSize'),
		wrapWithAbbreviation: require('./wrapWithAbbreviation'),
		updateTag: require('./updateTag')
	};

	function addAction(name, fn, options) {
		name = name.toLowerCase();
		options = options || {};

		if (typeof options === 'string') {
			options = {label: options};
		}

		if (!options.label) {
			options.label = humanizeActionName(name);
		}

		actions[name] = {
			name: name,
			fn: fn,
			options: options
		};
	}

	/**
	 * ‚ÄúHumanizes‚Äù action name, makes it more readable for people
	 * @param {String} name Action name (like 'expand_abbreviation')
	 * @return Humanized name (like 'Expand Abbreviation')
	 */
	function humanizeActionName(name) {
		return utils.trim(name.charAt(0).toUpperCase()
			+ name.substring(1).replace(/_[a-z]/g, function(str) {
				return ' ' + str.charAt(1).toUpperCase();
			}));
	}

	var bind = function(name, method) {
		var m = actionModules[name];
		return m[method].bind(m);
	};

	// XXX register default actions
	addAction('encode_decode_data_url', bind('base64', 'encodeDecodeDataUrlAction'), 'Encode\\Decode data:URL image');
	addAction('prev_edit_point', bind('editPoints', 'previousEditPointAction'), 'Previous Edit Point');
	addAction('next_edit_point', bind('editPoints', 'nextEditPointAction'), 'Next Edit Point');
	addAction('evaluate_math_expression', bind('evaluateMath', 'evaluateMathAction'), 'Numbers/Evaluate Math Expression');
	addAction('expand_abbreviation_with_tab', bind('expandAbbreviation', 'expandAbbreviationWithTabAction'), {hidden: true});
	addAction('expand_abbreviation', bind('expandAbbreviation', 'expandAbbreviationAction'), 'Expand Abbreviation');
	addAction('insert_formatted_line_break_only', bind('lineBreaks', 'insertLineBreakOnlyAction'), {hidden: true});
	addAction('insert_formatted_line_break', bind('lineBreaks', 'insertLineBreakAction'), {hidden: true});
	addAction('balance_inward', bind('balance', 'balanceInwardAction'), 'Balance (inward)');
	addAction('balance_outward', bind('balance', 'balanceOutwardAction'), 'Balance (outward)');
	addAction('matching_pair', bind('balance', 'goToMatchingPairAction'), 'HTML/Go To Matching Tag Pair');
	addAction('merge_lines', bind('mergeLines', 'mergeLinesAction'), 'Merge Lines');
	addAction('reflect_css_value', bind('reflectCSSValue', 'reflectCSSValueAction'), 'CSS/Reflect Value');
	addAction('remove_tag', bind('removeTag', 'removeTagAction'), 'HTML/Remove Tag');
	addAction('select_next_item', bind('selectItem', 'selectNextItemAction'), 'Select Next Item');
	addAction('select_previous_item', bind('selectItem', 'selectPreviousItemAction'), 'Select Previous Item');
	addAction('split_join_tag', bind('splitJoinTag', 'splitJoinTagAction'), 'HTML/Split\\Join Tag Declaration');
	addAction('toggle_comment', bind('toggleComment', 'toggleCommentAction'), 'Toggle Comment');
	addAction('update_image_size', bind('updateImageSize', 'updateImageSizeAction'), 'Update Image Size');
	addAction('wrap_with_abbreviation', bind('wrapWithAbbreviation', 'wrapWithAbbreviationAction'), 'Wrap With Abbreviation');
	addAction('update_tag', bind('updateTag', 'updateTagAction'), 'HTML/Update Tag');

	[1, -1, 10, -10, 0.1, -0.1].forEach(function(num) {
		var prefix = num > 0 ? 'increment' : 'decrement';
		var suffix = String(Math.abs(num)).replace('.', '').substring(0, 2);
		var actionId = prefix + '_number_by_' + suffix;
		var actionMethod = prefix + suffix + 'Action';
		var actionLabel = 'Numbers/' + prefix.charAt(0).toUpperCase() + prefix.substring(1) + ' number by ' + Math.abs(num);
		addAction(actionId, bind('incrementDecrement', actionMethod), actionLabel);
	});

	return {
		/**
		 * Registers new action
		 * @param {String} name Action name
		 * @param {Function} fn Action function
		 * @param {Object} options Custom action options:<br>
		 * <b>label</b> : (<code>String</code>) ‚Äì Human-readable action name.
		 * May contain '/' symbols as submenu separators<br>
		 * <b>hidden</b> : (<code>Boolean</code>) ‚Äì Indicates whether action
		 * should be displayed in menu (<code>getMenu()</code> method)
		 */
		add: addAction,

		/**
		 * Returns action object
		 * @param {String} name Action name
		 * @returns {Object}
		 */
		get: function(name) {
			return actions[name.toLowerCase()];
		},

		/**
		 * Runs Emmet action. For list of available actions and their
		 * arguments see <i>actions</i> folder.
		 * @param {String} name Action name
		 * @param {Array} args Additional arguments. It may be array of arguments
		 * or inline arguments. The first argument should be <code>IEmmetEditor</code> instance
		 * @returns {Boolean} Status of performed operation, <code>true</code>
		 * means action was performed successfully.
		 * @example
		 * require('action/main').run('expand_abbreviation', editor);
		 * require('action/main').run('wrap_with_abbreviation', [editor, 'div']);
		 */
		run: function(name, args) {
			if (!Array.isArray(args)) {
				args = utils.toArray(arguments, 1);
			}

			var action = this.get(name);
			if (!action) {
				throw new Error('Action "' + name + '" is not defined');
			}

			return action.fn.apply(action, args);
		},

		/**
		 * Returns all registered actions as object
		 * @returns {Object}
		 */
		getAll: function() {
			return actions;
		},

		/**
		 * Returns all registered actions as array
		 * @returns {Array}
		 */
		getList: function() {
			var all = this.getAll();
			return Object.keys(all).map(function(key) {
				return all[key];
			});
		},

		/**
		 * Returns actions list as structured menu. If action has <i>label</i>,
		 * it will be splitted by '/' symbol into submenus (for example:
		 * CSS/Reflect Value) and grouped with other items
		 * @param {Array} skipActions List of action identifiers that should be
		 * skipped from menu
		 * @returns {Array}
		 */
		getMenu: function(skipActions) {
			var result = [];
			skipActions = skipActions || [];
			this.getList().forEach(function(action) {
				if (action.options.hidden || ~skipActions.indexOf(action.name))
					return;

				var actionName = humanizeActionName(action.name);
				var ctx = result;
				if (action.options.label) {
					var parts = action.options.label.split('/');
					actionName = parts.pop();

					// create submenus, if needed
					var menuName, submenu;
					while ((menuName = parts.shift())) {
						submenu = utils.find(ctx, function(item) {
							return item.type == 'submenu' && item.name == menuName;
						});

						if (!submenu) {
							submenu = {
								name: menuName,
								type: 'submenu',
								items: []
							};
							ctx.push(submenu);
						}

						ctx = submenu.items;
					}
				}

				ctx.push({
					type: 'action',
					name: action.name,
					label: actionName
				});
			});

			return result;
		},

		/**
		 * Returns action name associated with menu item title
		 * @param {String} title
		 * @returns {String}
		 */
		getActionNameForMenuTitle: function(title, menu) {
			return utils.find(menu || this.getMenu(), function(val) {
				if (val.type == 'action') {
					if (val.label == title || val.name == title) {
						return val.name;
					}
				} else {
					return this.getActionNameForMenuTitle(title, val.items);
				}
			}, this);
		}
	};
});
},{"../utils/common":73,"./balance":5,"./base64":6,"./editPoints":7,"./evaluateMath":8,"./expandAbbreviation":9,"./incrementDecrement":10,"./lineBreaks":11,"./mergeLines":13,"./reflectCSSValue":14,"./removeTag":15,"./selectItem":16,"./selectLine":17,"./splitJoinTag":18,"./toggleComment":19,"./updateImageSize":20,"./updateTag":21,"./wrapWithAbbreviation":22}],13:[function(require,module,exports){
/**
 * Merges selected lines or lines between XHTML tag pairs
 * @param {Function} require
 * @param {Underscore} _
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var htmlMatcher = require('../assets/htmlMatcher');
	var utils = require('../utils/common');
	var editorUtils = require('../utils/editor');
	var range = require('../assets/range');

	return {
		mergeLinesAction: function(editor) {
			var info = editorUtils.outputInfo(editor);

			var selection = range(editor.getSelectionRange());
			if (!selection.length()) {
				// find matching tag
				var pair = htmlMatcher.find(info.content, editor.getCaretPos());
				if (pair) {
					selection = pair.outerRange;
				}
			}

			if (selection.length()) {
				// got range, merge lines
				var text =  selection.substring(info.content);
				var lines = utils.splitByLines(text);

				for (var i = 1; i < lines.length; i++) {
					lines[i] = lines[i].replace(/^\s+/, '');
				}

				text = lines.join('').replace(/\s{2,}/, ' ');
				var textLen = text.length;
				text = utils.escapeText(text);
				editor.replaceContent(text, selection.start, selection.end);
				editor.createSelection(selection.start, selection.start + textLen);

				return true;
			}

			return false;
		}
	};
});
},{"../assets/htmlMatcher":26,"../assets/range":30,"../utils/common":73,"../utils/editor":75}],14:[function(require,module,exports){
/**
 * Reflect CSS value: takes rule's value under caret and pastes it for the same
 * rules with vendor prefixes
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var handlerList = require('../assets/handlerList');
	var prefs = require('../assets/preferences');
	var cssResolver = require('../resolver/css');
	var cssEditTree = require('../editTree/css');
	var utils = require('../utils/common');
	var actionUtils = require('../utils/action');
	var editorUtils = require('../utils/editor');
	var cssGradient = require('../resolver/cssGradient');

	prefs.define('css.reflect.oldIEOpacity', false, 'Support IE6/7/8 opacity notation, e.g. <code>filter:alpha(opacity=...)</code>.\
		Note that CSS3 and SVG also provides <code>filter</code> property so this option is disabled by default.')

	/**
	 * @type HandlerList List of registered handlers
	 */
	var handlers = handlerList.create();

	function doCSSReflection(editor) {
		var outputInfo = editorUtils.outputInfo(editor);
		var caretPos = editor.getCaretPos();

		var cssRule = cssEditTree.parseFromPosition(outputInfo.content, caretPos);
		if (!cssRule) return;

		var property = cssRule.itemFromPosition(caretPos, true);
		// no property under cursor, nothing to reflect
		if (!property) return;

		var oldRule = cssRule.source;
		var offset = cssRule.options.offset;
		var caretDelta = caretPos - offset - property.range().start;

		handlers.exec(false, [property]);

		if (oldRule !== cssRule.source) {
			return {
				data:  cssRule.source,
				start: offset,
				end:   offset + oldRule.length,
				caret: offset + property.range().start + caretDelta
			};
		}
	}

	/**
	 * Returns regexp that should match reflected CSS property names
	 * @param {String} name Current CSS property name
	 * @return {RegExp}
	 */
	function getReflectedCSSName(name) {
		name = cssEditTree.baseName(name);
		var vendorPrefix = '^(?:\\-\\w+\\-)?', m;

		if ((name == 'opacity' || name == 'filter') && prefs.get('css.reflect.oldIEOpacity')) {
			return new RegExp(vendorPrefix + '(?:opacity|filter)$');
		} else if ((m = name.match(/^border-radius-(top|bottom)(left|right)/))) {
			// Mozilla-style border radius
			return new RegExp(vendorPrefix + '(?:' + name + '|border-' + m[1] + '-' + m[2] + '-radius)$');
		} else if ((m = name.match(/^border-(top|bottom)-(left|right)-radius/))) {
			return new RegExp(vendorPrefix + '(?:' + name + '|border-radius-' + m[1] + m[2] + ')$');
		}

		return new RegExp(vendorPrefix + name + '$');
	}

	/**
	 * Reflects inner CSS properites in given value
	 * agains name‚Äòs vendor prefix. In other words, it tries
	 * to modify `transform 0.2s linear` value for `-webkit-transition`
	 * property
	 * @param  {String} name  Reciever CSS property name
	 * @param  {String} value New property value
	 * @return {String}
	 */
	function reflectValueParts(name, value) {
		// detects and updates vendor-specific properties in value,
		// e.g. -webkit-transition: -webkit-transform

		var reVendor = /^\-(\w+)\-/;
		var propPrefix = reVendor.test(name) ? RegExp.$1.toLowerCase() : '';
		var parts = cssEditTree.findParts(value);

		parts.reverse();
		parts.forEach(function(part) {
			var partValue = part.substring(value).replace(reVendor, '');
			var prefixes = cssResolver.vendorPrefixes(partValue);
			if (prefixes) {
				// if prefixes are not null then given value can
				// be resolved against Can I Use database and may or
				// may not contain prefixed variant
				if (propPrefix && ~prefixes.indexOf(propPrefix)) {
					partValue = '-' + propPrefix + '-' + partValue;
				}

				value = utils.replaceSubstring(value, partValue, part);
			}
		});

		return value;
	}

	/**
	 * Reflects value from <code>donor</code> into <code>receiver</code>
	 * @param {CSSProperty} donor Donor CSS property from which value should
	 * be reflected
	 * @param {CSSProperty} receiver Property that should receive reflected
	 * value from donor
	 */
	function reflectValue(donor, receiver) {
		var value = getReflectedValue(donor.name(), donor.value(),
				receiver.name(), receiver.value());

		value = reflectValueParts(receiver.name(), value);
		receiver.value(value);
	}

	/**
	 * Returns value that should be reflected for <code>refName</code> CSS property
	 * from <code>curName</code> property. This function is used for special cases,
	 * when the same result must be achieved with different properties for different
	 * browsers. For example: op–∞city:0.5; ‚Üí filter:alpha(opacity=50);<br><br>
	 *
	 * This function does value conversion between different CSS properties
	 *
	 * @param {String} curName Current CSS property name
	 * @param {String} curValue Current CSS property value
	 * @param {String} refName Receiver CSS property's name
	 * @param {String} refValue Receiver CSS property's value
	 * @return {String} New value for receiver property
	 */
	function getReflectedValue(curName, curValue, refName, refValue) {
		curName = cssEditTree.baseName(curName);
		refName = cssEditTree.baseName(refName);

		if (curName == 'opacity' && refName == 'filter') {
			return refValue.replace(/opacity=[^)]*/i, 'opacity=' + Math.floor(parseFloat(curValue) * 100));
		} else if (curName == 'filter' && refName == 'opacity') {
			var m = curValue.match(/opacity=([^)]*)/i);
			return m ? utils.prettifyNumber(parseInt(m[1], 10) / 100) : refValue;
		}

		return curValue;
	}

	module = module || {};
	module.exports = {
		reflectCSSValueAction: function(editor) {
			if (editor.getSyntax() != 'css') {
				return false;
			}

			return actionUtils.compoundUpdate(editor, doCSSReflection(editor));
		},

		_defaultHandler: function(property) {
			var reName = getReflectedCSSName(property.name());
			property.parent.list().forEach(function(p) {
				if (reName.test(p.name())) {
					reflectValue(property, p);
				}
			});
		},

		/**
		 * Adds custom reflect handler. The passed function will receive matched
		 * CSS property (as <code>CSSEditElement</code> object) and should
		 * return <code>true</code> if it was performed successfully (handled
		 * reflection), <code>false</code> otherwise.
		 * @param {Function} fn
		 * @param {Object} options
		 */
		addHandler: function(fn, options) {
			handlers.add(fn, options);
		},

		/**
		 * Removes registered handler
		 * @returns
		 */
		removeHandler: function(fn) {
			handlers.remove(fn);
		}
	};

	// XXX add default handlers
	handlers.add(module.exports._defaultHandler.bind(module.exports), {order: -1});
	handlers.add(cssGradient.reflectValueHandler.bind(cssGradient));

	return module.exports;
});
},{"../assets/handlerList":25,"../assets/preferences":28,"../editTree/css":37,"../resolver/css":64,"../resolver/cssGradient":65,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],15:[function(require,module,exports){
/**
 * Gracefully removes tag under cursor
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var editorUtils = require('../utils/editor');
	var htmlMatcher = require('../assets/htmlMatcher');

	return {
		removeTagAction: function(editor) {
			var info = editorUtils.outputInfo(editor);

			// search for tag
			var tag = htmlMatcher.tag(info.content, editor.getCaretPos());
			if (tag) {
				if (!tag.close) {
					// simply remove unary tag
					editor.replaceContent(utils.getCaretPlaceholder(), tag.range.start, tag.range.end);
				} else {
					// remove tag and its newlines
					/** @type Range */
					var tagContentRange = utils.narrowToNonSpace(info.content, tag.innerRange);
					/** @type Range */
					var startLineBounds = utils.findNewlineBounds(info.content, tagContentRange.start);
					var startLinePad = utils.getLinePadding(startLineBounds.substring(info.content));
					var tagContent = tagContentRange.substring(info.content);

					tagContent = utils.unindentString(tagContent, startLinePad);
					editor.replaceContent(utils.getCaretPlaceholder() + utils.escapeText(tagContent), tag.outerRange.start, tag.outerRange.end);
				}

				return true;
			}

			return false;
		}
	};
});

},{"../assets/htmlMatcher":26,"../utils/common":73,"../utils/editor":75}],16:[function(require,module,exports){
/**
 * Actions that use stream parsers and tokenizers for traversing:
 * -- Search for next/previous items in HTML
 * -- Search for next/previous items in CSS
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var range = require('../assets/range');
	var utils = require('../utils/common');
	var editorUtils = require('../utils/editor');
	var actionUtils = require('../utils/action');
	var stringStream = require('../assets/stringStream');
	var xmlParser = require('../parser/xml');
	var cssEditTree = require('../editTree/css');
	var cssSections = require('../utils/cssSections');

	var startTag = /^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;

	/**
	 * Generic function for searching for items to select
	 * @param {IEmmetEditor} editor
	 * @param {Boolean} isBackward Search backward (search forward otherwise)
	 * @param {Function} extractFn Function that extracts item content
	 * @param {Function} rangeFn Function that search for next token range
	 */
	function findItem(editor, isBackward, extractFn, rangeFn) {
		var content = editorUtils.outputInfo(editor).content;

		var contentLength = content.length;
		var itemRange, rng;
		/** @type Range */
		var prevRange = range(-1, 0);
		/** @type Range */
		var sel = range(editor.getSelectionRange());

		var searchPos = sel.start, loop = 100000; // endless loop protection
		while (searchPos >= 0 && searchPos < contentLength && --loop > 0) {
			if ( (itemRange = extractFn(content, searchPos, isBackward)) ) {
				if (prevRange.equal(itemRange)) {
					break;
				}

				prevRange = itemRange.clone();
				rng = rangeFn(itemRange.substring(content), itemRange.start, sel.clone());

				if (rng) {
					editor.createSelection(rng.start, rng.end);
					return true;
				} else {
					searchPos = isBackward ? itemRange.start : itemRange.end - 1;
				}
			}

			searchPos += isBackward ? -1 : 1;
		}

		return false;
	}

	// XXX HTML section

	/**
	 * Find next HTML item
	 * @param {IEmmetEditor} editor
	 */
	function findNextHTMLItem(editor) {
		var isFirst = true;
		return findItem(editor, false, function(content, searchPos){
			if (isFirst) {
				isFirst = false;
				return findOpeningTagFromPosition(content, searchPos);
			} else {
				return getOpeningTagFromPosition(content, searchPos);
			}
		}, function(tag, offset, selRange) {
			return getRangeForHTMLItem(tag, offset, selRange, false);
		});
	}

	/**
	 * Find previous HTML item
	 * @param {IEmmetEditor} editor
	 */
	function findPrevHTMLItem(editor) {
		return findItem(editor, true, getOpeningTagFromPosition, function (tag, offset, selRange) {
			return getRangeForHTMLItem(tag, offset, selRange, true);
		});
	}

	/**
	 * Creates possible selection ranges for HTML tag
	 * @param {String} source Original HTML source for tokens
	 * @param {Array} tokens List of HTML tokens
	 * @returns {Array}
	 */
	function makePossibleRangesHTML(source, tokens, offset) {
		offset = offset || 0;
		var result = [];
		var attrStart = -1, attrName = '', attrValue = '', attrValueRange, tagName;
		tokens.forEach(function(tok) {
			switch (tok.type) {
				case 'tag':
					tagName = source.substring(tok.start, tok.end);
					if (/^<[\w\:\-]/.test(tagName)) {
						// add tag name
						result.push(range({
							start: tok.start + 1,
							end: tok.end
						}));
					}
					break;
				case 'attribute':
					attrStart = tok.start;
					attrName = source.substring(tok.start, tok.end);
					break;

				case 'string':
					// attribute value
					// push full attribute first
					result.push(range(attrStart, tok.end - attrStart));

					attrValueRange = range(tok);
					attrValue = attrValueRange.substring(source);

					// is this a quoted attribute?
					if (isQuote(attrValue.charAt(0)))
						attrValueRange.start++;

					if (isQuote(attrValue.charAt(attrValue.length - 1)))
						attrValueRange.end--;

					result.push(attrValueRange);

					if (attrName == 'class') {
						result = result.concat(classNameRanges(attrValueRange.substring(source), attrValueRange.start));
					}

					break;
			}
		});

		// offset ranges
		result = result.filter(function(item) {
			if (item.length()) {
				item.shift(offset);
				return true;
			}
		});

		// remove duplicates
		return utils.unique(result, function(item) {
			return item.toString();
		});
	}

	/**
	 * Returns ranges of class names in "class" attribute value
	 * @param {String} className
	 * @returns {Array}
	 */
	function classNameRanges(className, offset) {
		offset = offset || 0;
		var result = [];
		/** @type StringStream */
		var stream = stringStream.create(className);

		// skip whitespace
		stream.eatSpace();
		stream.start = stream.pos;

		var ch;
		while ((ch = stream.next())) {
			if (/[\s\u00a0]/.test(ch)) {
				result.push(range(stream.start + offset, stream.pos - stream.start - 1));
				stream.eatSpace();
				stream.start = stream.pos;
			}
		}

		result.push(range(stream.start + offset, stream.pos - stream.start));
		return result;
	}

	/**
	 * Returns best HTML tag range match for current selection
	 * @param {String} tag Tag declaration
	 * @param {Number} offset Tag's position index inside content
	 * @param {Range} selRange Selection range
	 * @return {Range} Returns range if next item was found, <code>null</code> otherwise
	 */
	function getRangeForHTMLItem(tag, offset, selRange, isBackward) {
		var ranges = makePossibleRangesHTML(tag, xmlParser.parse(tag), offset);

		if (isBackward)
			ranges.reverse();

		// try to find selected range
		var curRange = utils.find(ranges, function(r) {
			return r.equal(selRange);
		});

		if (curRange) {
			var ix = ranges.indexOf(curRange);
			if (ix < ranges.length - 1)
				return ranges[ix + 1];

			return null;
		}

		// no selected range, find nearest one
		if (isBackward)
			// search backward
			return utils.find(ranges, function(r) {
				return r.start < selRange.start;
			});

		// search forward
		// to deal with overlapping ranges (like full attribute definition
		// and attribute value) let's find range under caret first
		if (!curRange) {
			var matchedRanges = ranges.filter(function(r) {
				return r.inside(selRange.end);
			});

			if (matchedRanges.length > 1)
				return matchedRanges[1];
		}


		return utils.find(ranges, function(r) {
			return r.end > selRange.end;
		});
	}

	/**
	 * Search for opening tag in content, starting at specified position
	 * @param {String} html Where to search tag
	 * @param {Number} pos Character index where to start searching
	 * @return {Range} Returns range if valid opening tag was found,
	 * <code>null</code> otherwise
	 */
	function findOpeningTagFromPosition(html, pos) {
		var tag;
		while (pos >= 0) {
			if ((tag = getOpeningTagFromPosition(html, pos)))
				return tag;
			pos--;
		}

		return null;
	}

	/**
	 * @param {String} html Where to search tag
	 * @param {Number} pos Character index where to start searching
	 * @return {Range} Returns range if valid opening tag was found,
	 * <code>null</code> otherwise
	 */
	function getOpeningTagFromPosition(html, pos) {
		var m;
		if (html.charAt(pos) == '<' && (m = html.substring(pos, html.length).match(startTag))) {
			return range(pos, m[0]);
		}
	}

	function isQuote(ch) {
		return ch == '"' || ch == "'";
	}

	/**
	 * Returns all ranges inside given rule, available for selection
	 * @param  {CSSEditContainer} rule
	 * @return {Array}
	 */
	function findInnerRanges(rule) {
		// rule selector
		var ranges = [rule.nameRange(true)];

		// find nested sections, keep selectors only
		var nestedSections = cssSections.nestedSectionsInRule(rule);
		nestedSections.forEach(function(section) {
			ranges.push(range.create2(section.start, section._selectorEnd));
		});

		// add full property ranges and values
		rule.list().forEach(function(property) {
			ranges = ranges.concat(makePossibleRangesCSS(property));
		});

		ranges = range.sort(ranges);

		// optimize result: remove empty ranges and duplicates
		ranges = ranges.filter(function(item) {
			return !!item.length();
		});
		return utils.unique(ranges, function(item) {
			return item.toString();
		});
	}

	/**
	 * Makes all possible selection ranges for specified CSS property
	 * @param {CSSProperty} property
	 * @returns {Array}
	 */
	function makePossibleRangesCSS(property) {
		// find all possible ranges, sorted by position and size
		var valueRange = property.valueRange(true);
		var result = [property.range(true), valueRange];

		// locate parts of complex values.
		// some examples:
		// ‚Äì 1px solid red: 3 parts
		// ‚Äì arial, sans-serif: enumeration, 2 parts
		// ‚Äì url(image.png): function value part
		var value = property.value();
		property.valueParts().forEach(function(r) {
			// add absolute range
			var clone = r.clone();
			result.push(clone.shift(valueRange.start));

			/** @type StringStream */
			var stream = stringStream.create(r.substring(value));
			if (stream.match(/^[\w\-]+\(/, true)) {
				// we have a function, find values in it.
				// but first add function contents
				stream.start = stream.pos;
				stream.backUp(1);
				stream.skipToPair('(', ')');
				stream.backUp(1);
				var fnBody = stream.current();
				result.push(range(clone.start + stream.start, fnBody));

				// find parts
				cssEditTree.findParts(fnBody).forEach(function(part) {
					result.push(range(clone.start + stream.start + part.start, part.substring(fnBody)));
				});
			}
		});

		return result;
	}

	/**
	 * Tries to find matched CSS property and nearest range for selection
	 * @param {CSSRule} rule
	 * @param {Range} selRange
	 * @param {Boolean} isBackward
	 * @returns {Range}
	 */
	function matchedRangeForCSSProperty(rule, selRange, isBackward) {
		var ranges = findInnerRanges(rule);
		if (isBackward) {
			ranges.reverse();
		}

		// return next to selected range, if possible
		var r = utils.find(ranges, function(item) {
			return item.equal(selRange);
		});

		if (r) {
			return ranges[ranges.indexOf(r) + 1];
		}

		// find matched and (possibly) overlapping ranges
		var nested = ranges.filter(function(item) {
			return item.inside(selRange.end);
		});

		if (nested.length) {
			return nested.sort(function(a, b) {
				return a.length() - b.length();
			})[0];
		}

		// return range next to caret
		var test =
		r = utils.find(ranges, isBackward
			? function(item) {return item.end < selRange.start;}
			: function(item) {return item.end > selRange.start;}
		);

		if (!r) {
			// can‚Äôt find anything, just pick first one
			r = ranges[0];
		}

		return r;
	}

	function findNextCSSItem(editor) {
		return findItem(editor, false, cssSections.locateRule.bind(cssSections), getRangeForNextItemInCSS);
	}

	function findPrevCSSItem(editor) {
		return findItem(editor, true, cssSections.locateRule.bind(cssSections), getRangeForPrevItemInCSS);
	}

	/**
	 * Returns range for item to be selected in CSS after current caret
	 * (selection) position
	 * @param {String} rule CSS rule declaration
	 * @param {Number} offset Rule's position index inside content
	 * @param {Range} selRange Selection range
	 * @return {Range} Returns range if next item was found, <code>null</code> otherwise
	 */
	function getRangeForNextItemInCSS(rule, offset, selRange) {
		var tree = cssEditTree.parse(rule, {
			offset: offset
		});

		return matchedRangeForCSSProperty(tree, selRange, false);
	}

	/**
	 * Returns range for item to be selected in CSS before current caret
	 * (selection) position
	 * @param {String} rule CSS rule declaration
	 * @param {Number} offset Rule's position index inside content
	 * @param {Range} selRange Selection range
	 * @return {Range} Returns range if previous item was found, <code>null</code> otherwise
	 */
	function getRangeForPrevItemInCSS(rule, offset, selRange) {
		var tree = cssEditTree.parse(rule, {
			offset: offset
		});

		return matchedRangeForCSSProperty(tree, selRange, true);
	}

	return {
		selectNextItemAction: function(editor) {
			if (actionUtils.isSupportedCSS(editor.getSyntax())) {
				return findNextCSSItem(editor);
			} else {
				return findNextHTMLItem(editor);
			}
		},

		selectPreviousItemAction: function(editor) {
			if (actionUtils.isSupportedCSS(editor.getSyntax())) {
				return findPrevCSSItem(editor);
			} else {
				return findPrevHTMLItem(editor);
			}
		}
	};
});
},{"../assets/range":30,"../assets/stringStream":32,"../editTree/css":37,"../parser/xml":62,"../utils/action":70,"../utils/common":73,"../utils/cssSections":74,"../utils/editor":75}],17:[function(require,module,exports){
/**
 * Select current line (for simple editors like browser's &lt;textarea&gt;)
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	return {
		selectLineAction: function(editor) {
			var range = editor.getCurrentLineRange();
			editor.createSelection(range.start, range.end);
			return true;
		}
	};
});
},{}],18:[function(require,module,exports){
/**
 * Splits or joins tag, e.g. transforms it into a short notation and vice versa:<br>
 * &lt;div&gt;&lt;/div&gt; ‚Üí &lt;div /&gt; : join<br>
 * &lt;div /&gt; ‚Üí &lt;div&gt;&lt;/div&gt; : split
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var resources = require('../assets/resources');
	var matcher = require('../assets/htmlMatcher');
	var editorUtils = require('../utils/editor');
	var profile = require('../assets/profile');

	/**
	 * @param {IEmmetEditor} editor
	 * @param {Object} profile
	 * @param {Object} tag
	 */
	function joinTag(editor, profile, tag) {
		// empty closing slash is a nonsense for this action
		var slash = profile.selfClosing() || ' /';
		var content = tag.open.range.substring(tag.source).replace(/\s*>$/, slash + '>');

		var caretPos = editor.getCaretPos();

		// update caret position
		if (content.length + tag.outerRange.start < caretPos) {
			caretPos = content.length + tag.outerRange.start;
		}

		content = utils.escapeText(content);
		editor.replaceContent(content, tag.outerRange.start, tag.outerRange.end);
		editor.setCaretPos(caretPos);
		return true;
	}

	function splitTag(editor, profile, tag) {
		var caretPos = editor.getCaretPos();

		// define tag content depending on profile
		var tagContent = (profile.tag_nl === true) ? '\n\t\n' : '';
		var content = tag.outerContent().replace(/\s*\/>$/, '>');
		caretPos = tag.outerRange.start + content.length;
		content += tagContent + '</' + tag.open.name + '>';

		content = utils.escapeText(content);
		editor.replaceContent(content, tag.outerRange.start, tag.outerRange.end);
		editor.setCaretPos(caretPos);
		return true;
	}

	return {
		splitJoinTagAction: function(editor, profileName) {
			var info = editorUtils.outputInfo(editor, null, profileName);
			var curProfile = profile.get(info.profile);

			// find tag at current position
			var tag = matcher.tag(info.content, editor.getCaretPos());
			if (tag) {
				return tag.close
					? joinTag(editor, curProfile, tag)
					: splitTag(editor, curProfile, tag);
			}

			return false;
		}
	};
});
},{"../assets/htmlMatcher":26,"../assets/profile":29,"../assets/resources":31,"../utils/common":73,"../utils/editor":75}],19:[function(require,module,exports){
/**
 * Toggles HTML and CSS comments depending on current caret context. Unlike
 * the same action in most editors, this action toggles comment on currently
 * matched item‚ÄîHTML tag or CSS selector‚Äîwhen nothing is selected.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var prefs = require('../assets/preferences');
	var range = require('../assets/range');
	var utils = require('../utils/common');
	var actionUtils = require('../utils/action');
	var editorUtils = require('../utils/editor');
	var htmlMatcher = require('../assets/htmlMatcher');
	var cssEditTree = require('../editTree/css');

	/**
	 * Toggle HTML comment on current selection or tag
	 * @param {IEmmetEditor} editor
	 * @return {Boolean} Returns <code>true</code> if comment was toggled
	 */
	function toggleHTMLComment(editor) {
		/** @type Range */
		var r = range(editor.getSelectionRange());
		var info = editorUtils.outputInfo(editor);

		if (!r.length()) {
			// no selection, find matching tag
			var tag = htmlMatcher.tag(info.content, editor.getCaretPos());
			if (tag) { // found pair
				r = tag.outerRange;
			}
		}

		return genericCommentToggle(editor, '<!--', '-->', r);
	}

	/**
	 * Simple CSS commenting
	 * @param {IEmmetEditor} editor
	 * @return {Boolean} Returns <code>true</code> if comment was toggled
	 */
	function toggleCSSComment(editor) {
		/** @type Range */
		var rng = range(editor.getSelectionRange());
		var info = editorUtils.outputInfo(editor);

		if (!rng.length()) {
			// no selection, try to get current rule
			/** @type CSSRule */
			var rule = cssEditTree.parseFromPosition(info.content, editor.getCaretPos());
			if (rule) {
				var property = cssItemFromPosition(rule, editor.getCaretPos());
				rng = property
					? property.range(true)
					: range(rule.nameRange(true).start, rule.source);
			}
		}

		if (!rng.length()) {
			// still no selection, get current line
			rng = range(editor.getCurrentLineRange());
			utils.narrowToNonSpace(info.content, rng);
		}

		return genericCommentToggle(editor, '/*', '*/', rng);
	}

	/**
	 * Returns CSS property from <code>rule</code> that matches passed position
	 * @param {EditContainer} rule
	 * @param {Number} absPos
	 * @returns {EditElement}
	 */
	function cssItemFromPosition(rule, absPos) {
		// do not use default EditContainer.itemFromPosition() here, because
		// we need to make a few assumptions to make CSS commenting more reliable
		var relPos = absPos - (rule.options.offset || 0);
		var reSafeChar = /^[\s\n\r]/;
		return utils.find(rule.list(), function(item) {
			if (item.range().end === relPos) {
				// at the end of property, but outside of it
				// if there‚Äôs a space character at current position,
				// use current property
				return reSafeChar.test(rule.source.charAt(relPos));
			}

			return item.range().inside(relPos);
		});
	}

	/**
	 * Search for nearest comment in <code>str</code>, starting from index <code>from</code>
	 * @param {String} text Where to search
	 * @param {Number} from Search start index
	 * @param {String} start_token Comment start string
	 * @param {String} end_token Comment end string
	 * @return {Range} Returns null if comment wasn't found
	 */
	function searchComment(text, from, startToken, endToken) {
		var commentStart = -1;
		var commentEnd = -1;

		var hasMatch = function(str, start) {
			return text.substr(start, str.length) == str;
		};

		// search for comment start
		while (from--) {
			if (hasMatch(startToken, from)) {
				commentStart = from;
				break;
			}
		}

		if (commentStart != -1) {
			// search for comment end
			from = commentStart;
			var contentLen = text.length;
			while (contentLen >= from++) {
				if (hasMatch(endToken, from)) {
					commentEnd = from + endToken.length;
					break;
				}
			}
		}

		return (commentStart != -1 && commentEnd != -1)
			? range(commentStart, commentEnd - commentStart)
			: null;
	}

	/**
	 * Generic comment toggling routine
	 * @param {IEmmetEditor} editor
	 * @param {String} commentStart Comment start token
	 * @param {String} commentEnd Comment end token
	 * @param {Range} range Selection range
	 * @return {Boolean}
	 */
	function genericCommentToggle(editor, commentStart, commentEnd, range) {
		var content = editorUtils.outputInfo(editor).content;
		var caretPos = editor.getCaretPos();
		var newContent = null;

		/**
		 * Remove comment markers from string
		 * @param {Sting} str
		 * @return {String}
		 */
		function removeComment(str) {
			return str
				.replace(new RegExp('^' + utils.escapeForRegexp(commentStart) + '\\s*'), function(str){
					caretPos -= str.length;
					return '';
				}).replace(new RegExp('\\s*' + utils.escapeForRegexp(commentEnd) + '$'), '');
		}

		// first, we need to make sure that this substring is not inside
		// comment
		var commentRange = searchComment(content, caretPos, commentStart, commentEnd);
		if (commentRange && commentRange.overlap(range)) {
			// we're inside comment, remove it
			range = commentRange;
			newContent = removeComment(range.substring(content));
		} else {
			// should add comment
			// make sure that there's no comment inside selection
			newContent = commentStart + ' ' +
				range.substring(content)
					.replace(new RegExp(utils.escapeForRegexp(commentStart) + '\\s*|\\s*' + utils.escapeForRegexp(commentEnd), 'g'), '') +
				' ' + commentEnd;

			// adjust caret position
			caretPos += commentStart.length + 1;
		}

		// replace editor content
		if (newContent !== null) {
			newContent = utils.escapeText(newContent);
			editor.setCaretPos(range.start);
			editor.replaceContent(editorUtils.unindent(editor, newContent), range.start, range.end);
			editor.setCaretPos(caretPos);
			return true;
		}

		return false;
	}

	return {
		/**
		 * Toggle comment on current editor's selection or HTML tag/CSS rule
		 * @param {IEmmetEditor} editor
		 */
		toggleCommentAction: function(editor) {
			var info = editorUtils.outputInfo(editor);
			if (actionUtils.isSupportedCSS(info.syntax)) {
				// in case our editor is good enough and can recognize syntax from
				// current token, we have to make sure that cursor is not inside
				// 'style' attribute of html element
				var caretPos = editor.getCaretPos();
				var tag = htmlMatcher.tag(info.content, caretPos);
				if (tag && tag.open.range.inside(caretPos)) {
					info.syntax = 'html';
				}
			}

			var cssSyntaxes = prefs.getArray('css.syntaxes');
			if (~cssSyntaxes.indexOf(info.syntax)) {
				return toggleCSSComment(editor);
			}

			return toggleHTMLComment(editor);
		}
	};
});
},{"../assets/htmlMatcher":26,"../assets/preferences":28,"../assets/range":30,"../editTree/css":37,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],20:[function(require,module,exports){
/**
 * Automatically updates image size attributes in HTML's &lt;img&gt; element or
 * CSS rule
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var editorUtils = require('../utils/editor');
	var actionUtils = require('../utils/action');
	var xmlEditTree = require('../editTree/xml');
	var cssEditTree = require('../editTree/css');
	var base64 = require('../utils/base64');
	var file = require('../plugin/file');

	/**
	 * Updates image size of &lt;img src=""&gt; tag
	 * @param {IEmmetEditor} editor
	 */
	function updateImageSizeHTML(editor) {
		var offset = editor.getCaretPos();

		// find tag from current caret position
		var info = editorUtils.outputInfo(editor);
		var xmlElem = xmlEditTree.parseFromPosition(info.content, offset, true);
		if (xmlElem && (xmlElem.name() || '').toLowerCase() == 'img') {
			getImageSizeForSource(editor, xmlElem.value('src'), function(size) {
				if (size) {
					var compoundData = xmlElem.range(true);
					xmlElem.value('width', size.width);
					xmlElem.value('height', size.height, xmlElem.indexOf('width') + 1);

					actionUtils.compoundUpdate(editor, utils.extend(compoundData, {
						data: xmlElem.toString(),
						caret: offset
					}));
				}
			});
		}
	}

	/**
	 * Updates image size of CSS property
	 * @param {IEmmetEditor} editor
	 */
	function updateImageSizeCSS(editor) {
		var offset = editor.getCaretPos();

		// find tag from current caret position
		var info = editorUtils.outputInfo(editor);
		var cssRule = cssEditTree.parseFromPosition(info.content, offset, true);
		if (cssRule) {
			// check if there is property with image under caret
			var prop = cssRule.itemFromPosition(offset, true), m;
			if (prop && (m = /url\((["']?)(.+?)\1\)/i.exec(prop.value() || ''))) {
				getImageSizeForSource(editor, m[2], function(size) {
					if (size) {
						var compoundData = cssRule.range(true);
						cssRule.value('width', size.width + 'px');
						cssRule.value('height', size.height + 'px', cssRule.indexOf('width') + 1);

						actionUtils.compoundUpdate(editor, utils.extend(compoundData, {
							data: cssRule.toString(),
							caret: offset
						}));
					}
				});
			}
		}
	}

	/**
	 * Returns image dimensions for source
	 * @param {IEmmetEditor} editor
	 * @param {String} src Image source (path or data:url)
	 */
	function getImageSizeForSource(editor, src, callback) {
		var fileContent;
		if (src) {
			// check if it is data:url
			if (/^data:/.test(src)) {
				fileContent = base64.decode( src.replace(/^data\:.+?;.+?,/, '') );
				return callback(actionUtils.getImageSize(fileContent));
			}

			var absPath = file.locateFile(editor.getFilePath(), src);
			if (absPath === null) {
				throw "Can't find " + src + ' file';
			}

			file.read(absPath, function(err, content) {
				if (err) {
					throw 'Unable to read ' + absPath + ': ' + err;
				}

				content = String(content);
				callback(actionUtils.getImageSize(content));
			});
		}
	}

	return {
		updateImageSizeAction: function(editor) {
			// this action will definitely won‚Äôt work in SASS dialect,
			// but may work in SCSS or LESS
			if (actionUtils.isSupportedCSS(editor.getSyntax())) {
				updateImageSizeCSS(editor);
			} else {
				updateImageSizeHTML(editor);
			}

			return true;
		}
	};
});
},{"../editTree/css":37,"../editTree/xml":38,"../plugin/file":63,"../utils/action":70,"../utils/base64":71,"../utils/common":73,"../utils/editor":75}],21:[function(require,module,exports){
/**
 * Update Tag action: allows users to update existing HTML tags and add/remove
 * attributes or even tag name
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var xmlEditTree = require('../editTree/xml');
	var editorUtils = require('../utils/editor');
	var actionUtils = require('../utils/action');
	var utils = require('../utils/common');
	var parser = require('../parser/abbreviation');

	function updateAttributes(tag, abbrNode, ix) {
		var classNames = (abbrNode.attribute('class') || '').split(/\s+/g);
		if (ix) {
			classNames.push('+' + abbrNode.name());
		}

		var r = function(str) {
			return utils.replaceCounter(str, abbrNode.counter);
		};

		// update class
		classNames.forEach(function(className) {
			if (!className) {
				return;
			}

			className = r(className);
			var ch = className.charAt(0);
			if (ch == '+') {
				tag.addClass(className.substr(1));
			} else if (ch == '-') {
				tag.removeClass(className.substr(1));
			} else {
				tag.value('class', className);
			}
		});

		// update attributes
		abbrNode.attributeList().forEach(function(attr) {
			if (attr.name.toLowerCase() == 'class') {
				return;
			}

			var ch = attr.name.charAt(0);
			if (ch == '+') {
				var attrName = attr.name.substr(1);
				var tagAttr = tag.get(attrName);
				if (tagAttr) {
					tagAttr.value(tagAttr.value() + r(attr.value));
				} else {
					tag.value(attrName, r(attr.value));
				}
			} else if (ch == '-') {
				tag.remove(attr.name.substr(1));
			} else {
				tag.value(attr.name, r(attr.value));
			}
		});
	}

	return {
		/**
		 * Matches HTML tag under caret and updates its definition
		 * according to given abbreviation
		 * @param {IEmmetEditor} Editor instance
		 * @param {String} abbr Abbreviation to update with
		 */
		updateTagAction: function(editor, abbr) {
			abbr = abbr || editor.prompt("Enter abbreviation");

			if (!abbr) {
				return false;
			}

			var content = editor.getContent();
			var ctx = actionUtils.captureContext(editor);
			var tag = this.getUpdatedTag(abbr, ctx, content);

			if (!tag) {
				// nothing to update
				return false;
			}

			// check if tag name was updated
			if (tag.name() != ctx.name && ctx.match.close) {
				editor.replaceContent('</' + tag.name() + '>', ctx.match.close.range.start, ctx.match.close.range.end, true);
			}

			editor.replaceContent(tag.source, ctx.match.open.range.start, ctx.match.open.range.end, true);
			return true;
		},

		/**
		 * Returns XMLEditContainer node with updated tag structure
		 * of existing tag context.
		 * This data can be used to modify existing tag
		 * @param  {String} abbr    Abbreviation
		 * @param  {Object} ctx     Tag to be updated (captured with `htmlMatcher`)
		 * @param  {String} content Original editor content
		 * @return {XMLEditContainer}
		 */
		getUpdatedTag: function(abbr, ctx, content, options) {
			if (!ctx) {
				// nothing to update
				return null;
			}

			var tree = parser.parse(abbr, options || {});

			// for this action some characters in abbreviation has special
			// meaning. For example, `.-c2` means ‚Äúremove `c2` class from
			// element‚Äù and `.+c3` means ‚Äúappend class `c3` to exising one.
			//
			// But `.+c3` abbreviation will actually produce two elements:
			// <div class=""> and <c3>. Thus, we have to walk on each element
			// of parsed tree and use their definitions to update current element
			var tag = xmlEditTree.parse(ctx.match.open.range.substring(content), {
				offset: ctx.match.outerRange.start
			});

			tree.children.forEach(function(node, i) {
				updateAttributes(tag, node, i);
			});

			// if tag name was resolved by implicit tag name resolver,
			// then user omitted it in abbreviation and wants to keep
			// original tag name
			var el = tree.children[0];
			if (!el.data('nameResolved')) {
				tag.name(el.name());
			}

			return tag;
		}
	};
});
},{"../editTree/xml":38,"../parser/abbreviation":55,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],22:[function(require,module,exports){
/**
 * Action that wraps content with abbreviation. For convenience, action is
 * defined as reusable module
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var range = require('../assets/range');
	var htmlMatcher = require('../assets/htmlMatcher');
	var utils = require('../utils/common');
	var editorUtils = require('../utils/editor');
	var actionUtils = require('../utils/action');
	var parser = require('../parser/abbreviation');

	return {
		/**
		 * Wraps content with abbreviation
		 * @param {IEmmetEditor} Editor instance
		 * @param {String} abbr Abbreviation to wrap with
		 * @param {String} syntax Syntax type (html, css, etc.)
		 * @param {String} profile Output profile name (html, xml, xhtml)
		 */
		wrapWithAbbreviationAction: function(editor, abbr, syntax, profile) {
			var info = editorUtils.outputInfo(editor, syntax, profile);
			abbr = abbr || editor.prompt("Enter abbreviation");

			if (!abbr) {
				return null;
			}

			abbr = String(abbr);

			var r = range(editor.getSelectionRange());

			if (!r.length()) {
				// no selection, find tag pair
				var match = htmlMatcher.tag(info.content, r.start);
				if (!match) {  // nothing to wrap
					return false;
				}

				r = utils.narrowToNonSpace(info.content, match.range);
			}

			var newContent = utils.escapeText(r.substring(info.content));
			var result = parser.expand(abbr, {
				pastedContent: editorUtils.unindent(editor, newContent),
				syntax: info.syntax,
				profile: info.profile,
				contextNode: actionUtils.captureContext(editor)
			});

			if (result) {
				editor.replaceContent(result, r.start, r.end);
				return true;
			}

			return false;
		}
	};
});
},{"../assets/htmlMatcher":26,"../assets/range":30,"../parser/abbreviation":55,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],23:[function(require,module,exports){
/**
 * Parsed resources (snippets, abbreviations, variables, etc.) for Emmet.
 * Contains convenient method to get access for snippets with respect of
 * inheritance. Also provides ability to store data in different vocabularies
 * ('system' and 'user') for fast and safe resource update
 * @author Sergey Chikuyonok (serge.che@gmail.com)
 * @link http://chikuyonok.ru
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var prefs = require('./preferences');
	var utils = require('../utils/common');

	prefs.define('caniuse.enabled', true, 'Enable support of Can I Use database. When enabled,\
		CSS abbreviation resolver will look at Can I Use database first before detecting\
		CSS properties that should be resolved');

	prefs.define('caniuse.vendors', 'all', 'A comma-separated list vendor identifiers\
		(as described in Can I Use database) that should be supported\
		when resolving vendor-prefixed properties. Set value to <code>all</code>\
		to support all available properties');

	prefs.define('caniuse.era', 'e-2', 'Browser era, as defined in Can I Use database.\
		Examples: <code>e0</code> (current version), <code>e1</code> (near future)\
		<code>e-2</code> (2 versions back) and so on.');

	var cssSections = {
		'border-image': ['border-image'],
		'css-boxshadow': ['box-shadow'],
		'css3-boxsizing': ['box-sizing'],
		'multicolumn': ['column-width', 'column-count', 'columns', 'column-gap', 'column-rule-color', 'column-rule-style', 'column-rule-width', 'column-rule', 'column-span', 'column-fill'],
		'border-radius': ['border-radius', 'border-top-left-radius', 'border-top-right-radius', 'border-bottom-right-radius', 'border-bottom-left-radius'],
		'transforms2d': ['transform'],
		'css-hyphens': ['hyphens'],
		'css-transitions': ['transition', 'transition-property', 'transition-duration', 'transition-timing-function', 'transition-delay'],
		'font-feature': ['font-feature-settings'],
		'css-animation': ['animation', 'animation-name', 'animation-duration', 'animation-timing-function', 'animation-iteration-count', 'animation-direction', 'animation-play-state', 'animation-delay', 'animation-fill-mode', '@keyframes'],
		'css-gradients': ['linear-gradient'],
		'css-masks': ['mask-image', 'mask-source-type', 'mask-repeat', 'mask-position', 'mask-clip', 'mask-origin', 'mask-size', 'mask', 'mask-type', 'mask-box-image-source', 'mask-box-image-slice', 'mask-box-image-width', 'mask-box-image-outset', 'mask-box-image-repeat', 'mask-box-image', 'clip-path', 'clip-rule'],
		'css-featurequeries': ['@supports'],
		'flexbox': ['flex', 'inline-flex', 'flex-direction', 'flex-wrap', 'flex-flow', 'order', 'flex'],
		'calc': ['calc'],
		'object-fit': ['object-fit', 'object-position'],
		'css-grid': ['grid', 'inline-grid', 'grid-template-rows', 'grid-template-columns', 'grid-template-areas', 'grid-template', 'grid-auto-rows', 'grid-auto-columns', ' grid-auto-flow', 'grid-auto-position', 'grid', ' grid-row-start', 'grid-column-start', 'grid-row-end', 'grid-column-end', 'grid-column', 'grid-row', 'grid-area', 'justify-self', 'justify-items', 'align-self', 'align-items'],
		'css-repeating-gradients': ['repeating-linear-gradient'],
		'css-filters': ['filter'],
		'user-select-none': ['user-select'],
		'intrinsic-width': ['min-content', 'max-content', 'fit-content', 'fill-available'],
		'css3-tabsize': ['tab-size']
	};

	/** @type {Object} The Can I Use database for CSS */
	var cssDB = null;
	/** @type {Object} A list of available vendors (browsers) and their prefixes */
	var vendorsDB = null;
	var erasDB = null;

	function intersection(arr1, arr2) {
		var result = [];
		var smaller = arr1, larger = arr2;
		if (smaller.length > larger.length) {
			smaller = arr2;
			larger = arr1;
		}
		larger.forEach(function(item) {
			if (~smaller.indexOf(item)) {
				result.push(item);
			}
		});
		return result;
	}

	/**
	 * Parses raw Can I Use database for better lookups
	 * @param  {String} data Raw database
	 * @param  {Boolean} optimized Pass `true` if given `data` is already optimized
	 * @return {Object}
	 */
	function parseDB(data, optimized) {
		if (typeof data == 'string') {
			data = JSON.parse(data);
		}

		if (!optimized) {
			data = optimize(data);
		}

		vendorsDB = data.vendors;
		cssDB = data.css;
		erasDB = data.era;
	}

	/**
	 * Extract required data only from CIU database
	 * @param  {Object} data Raw Can I Use database
	 * @return {Object}      Optimized database
	 */
	function optimize(data) {
		if (typeof data == 'string') {
			data = JSON.parse(data);
		}

		return {
			vendors: parseVendors(data),
			css: parseCSS(data),
			era: parseEra(data)
		};
	}

	/**
	 * Parses vendor data
	 * @param  {Object} data
	 * @return {Object}
	 */
	function parseVendors(data) {
		var out = {};
		Object.keys(data.agents).forEach(function(name) {
			var agent = data.agents[name];
			out[name] = {
				prefix: agent.prefix,
				versions: agent.versions
			};
		});
		return out;
	}

	/**
	 * Parses CSS data from Can I Use raw database
	 * @param  {Object} data
	 * @return {Object}
	 */
	function parseCSS(data) {
		var out = {};
		var cssCategories = data.cats.CSS;
		Object.keys(data.data).forEach(function(name) {
			var section = data.data[name];
			if (name in cssSections) {
				cssSections[name].forEach(function(kw) {
					out[kw] = section.stats;
				});
			}
		});

		return out;
	}

	/**
	 * Parses era data from Can I Use raw database
	 * @param  {Object} data
	 * @return {Array}
	 */
	function parseEra(data) {
		// some runtimes (like Mozilla Rhino) does not preserves
		// key order so we have to sort values manually
		return Object.keys(data.eras).sort(function(a, b) {
			return parseInt(a.substr(1)) - parseInt(b.substr(1));
		});
	}

	/**
	 * Returs list of supported vendors, depending on user preferences
	 * @return {Array}
	 */
	function getVendorsList() {
		var allVendors = Object.keys(vendorsDB);
		var vendors = prefs.getArray('caniuse.vendors');
		if (!vendors || vendors[0] == 'all') {
			return allVendors;
		}

		return intersection(allVendors, vendors);
	}

	/**
	 * Returns size of version slice as defined by era identifier
	 * @return {Number}
	 */
	function getVersionSlice() {
		var era = prefs.get('caniuse.era');
		var ix = erasDB.indexOf(era);
		if (!~ix) {
			ix = erasDB.indexOf('e-2');
		}

		return ix;
	}

	// try to load caniuse database
	// hide it from Require.JS parser
	var db = null;
	(function(r) {
		if (typeof define === 'undefined' || !define.amd) {
			try {
				var fs = r('fs');
				var path = r('path');
				db = fs.readFileSync(path.join(__dirname, '../caniuse.json'), {encoding: 'utf8'});
			} catch(e) {}
		}
	})(require);

	if (db) {
		parseDB(db);
	}

	return {
		load: parseDB,
		optimize: optimize,

		/**
		 * Resolves prefixes for given property
		 * @param {String} property A property to resolve. It can start with `@` symbol
		 * (CSS section, like `@keyframes`) or `:` (CSS value, like `flex`)
		 * @return {Array} Array of resolved prefixes or <code>null</code>
		 * if prefixes can't be resolved. Empty array means property has no vendor
		 * prefixes
		 */
		resolvePrefixes: function(property) {
			if (!prefs.get('caniuse.enabled') || !cssDB || !(property in cssDB)) {
				return null;
			}

			var prefixes = [];
			var propStats = cssDB[property];
			var versions = getVersionSlice();

			getVendorsList().forEach(function(vendor) {
				var vendorVesions = vendorsDB[vendor].versions.slice(versions);
				for (var i = 0, v; i < vendorVesions.length; i++) {
					v = vendorVesions[i];
					if (!v) {
						continue;
					}

					if (~propStats[vendor][v].indexOf('x')) {
						prefixes.push(vendorsDB[vendor].prefix);
						break;
					}
				}
			});

			return utils.unique(prefixes).sort(function(a, b) {
				return b.length - a.length;
			});
		}
	};
});
},{"../utils/common":73,"./preferences":28}],24:[function(require,module,exports){
/**
 * Module that contains factories for element types used by Emmet
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var factories = {};
	var reAttrs = /([@\!]?)([\w\-:]+)\s*=\s*(['"])(.*?)\3/g;

	// register resource references
	function commonFactory(value) {
		return {data: value};
	}

	module = module || {};
	module.exports = {
		/**
		 * Create new element factory
		 * @param {String} name Element identifier
		 * @param {Function} factory Function that produces element of specified
		 * type. The object generated by this factory is automatically
		 * augmented with <code>type</code> property pointing to element
		 * <code>name</code>
		 * @memberOf elements
		 */
		add: function(name, factory) {
			var that = this;
			factories[name] = function() {
				var elem = factory.apply(that, arguments);
				if (elem)
					elem.type = name;

				return elem;
			};
		},

		/**
		 * Returns factory for specified name
		 * @param {String} name
		 * @returns {Function}
		 */
		get: function(name) {
			return factories[name];
		},

		/**
		 * Creates new element with specified type
		 * @param {String} name
		 * @returns {Object}
		 */
		create: function(name) {
			var args = [].slice.call(arguments, 1);
			var factory = this.get(name);
			return factory ? factory.apply(this, args) : null;
		},

		/**
		 * Check if passed element is of specified type
		 * @param {Object} elem
		 * @param {String} type
		 * @returns {Boolean}
		 */
		is: function(elem, type) {
			return this.type(elem) === type;
		},

		/**
		 * Returns type of element
		 * @param  {Object} elem
		 * @return {String}
		 */
		type: function(elem) {
			return elem && elem.type;
		}
	};

	/**
	 * Element factory
	 * @param {String} elementName Name of output element
	 * @param {String} attrs Attributes definition. You may also pass
	 * <code>Array</code> where each contains object with <code>name</code>
	 * and <code>value</code> properties, or <code>Object</code>
	 * @param {Boolean} isEmpty Is expanded element should be empty
	 */
	module.exports.add('element', function(elementName, attrs, isEmpty) {
		var ret = {
			name: elementName,
			is_empty: !!isEmpty
		};

		if (attrs) {
			ret.attributes = [];
			if (Array.isArray(attrs)) {
				ret.attributes = attrs;
			} else if (typeof attrs === 'string') {
				var m;
				while ((m = reAttrs.exec(attrs))) {
					ret.attributes.push({
						name: m[2],
						value: m[4],
						isDefault: m[1] == '@',
						isImplied: m[1] == '!'
					});
				}
			} else {
				ret.attributes = Object.keys(attrs).map(function(name) {
					return {
						name: name,
						value: attrs[name]
					};
				});
			}
		}

		return ret;
	});

	module.exports.add('snippet', commonFactory);
	module.exports.add('reference', commonFactory);
	module.exports.add('empty', function() {
		return {};
	});

	return module.exports;
});
},{}],25:[function(require,module,exports){
/**
 * Utility module that provides ordered storage of function handlers.
 * Many Emmet modules' functionality can be extended/overridden by custom
 * function. This modules provides unified storage of handler functions, their
 * management and execution
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');

	/**
	 * @type HandlerList
	 * @constructor
	 */
	function HandlerList() {
		this._list = [];
	}

	HandlerList.prototype = {
		/**
		 * Adds function handler
		 * @param {Function} fn Handler
		 * @param {Object} options Handler options. Possible values are:<br><br>
		 * <b>order</b> : (<code>Number</code>) ‚Äì order in handler list. Handlers
		 * with higher order value will be executed earlier.
		 */
		add: function(fn, options) {
			// TODO hack for stable sort, remove after fixing `list()`
			var order = this._list.length;
			if (options && 'order' in options) {
				order = options.order * 10000;
			}
			this._list.push(utils.extend({}, options, {order: order, fn: fn}));
		},

		/**
		 * Removes handler from list
		 * @param {Function} fn
		 */
		remove: function(fn) {
			var item = utils.find(this._list, function(item) {
				return item.fn === fn;
			});
			if (item) {
				this._list.splice(this._list.indexOf(item), 1);
			}
		},

		/**
		 * Returns ordered list of handlers. By default, handlers
		 * with the same <code>order</code> option returned in reverse order,
		 * i.e. the latter function was added into the handlers list, the higher
		 * it will be in the returned array
		 * @returns {Array}
		 */
		list: function() {
			// TODO make stable sort
			return this._list.sort(function(a, b) {
				return b.order - a.order;
			});
		},

		/**
		 * Returns ordered list of handler functions
		 * @returns {Array}
		 */
		listFn: function() {
			return this.list().map(function(item) {
				return item.fn;
			});
		},

		/**
		 * Executes handler functions in their designated order. If function
		 * returns <code>skipVal</code>, meaning that function was unable to
		 * handle passed <code>args</code>, the next function will be executed
		 * and so on.
		 * @param {Object} skipValue If function returns this value, execute
		 * next handler.
		 * @param {Array} args Arguments to pass to handler function
		 * @returns {Boolean} Whether any of registered handlers performed
		 * successfully
		 */
		exec: function(skipValue, args) {
			args = args || [];
			var result = null;
			utils.find(this.list(), function(h) {
				result = h.fn.apply(h, args);
				if (result !== skipValue) {
					return true;
				}
			});

			return result;
		}
	};

	return {
		/**
		 * Factory method that produces <code>HandlerList</code> instance
		 * @returns {HandlerList}
		 * @memberOf handlerList
		 */
		create: function() {
			return new HandlerList();
		}
	};
});
},{"../utils/common":73}],26:[function(require,module,exports){
/**
 * HTML matcher: takes string and searches for HTML tag pairs for given position
 *
 * Unlike ‚Äúclassic‚Äù matchers, it parses content from the specified
 * position, not from the start, so it may work even outside HTML documents
 * (for example, inside strings of programming languages like JavaScript, Python
 * etc.)
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var range = require('./range');

	// Regular Expressions for parsing tags and attributes
	var reOpenTag = /^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;
	var reCloseTag = /^<\/([\w\:\-]+)[^>]*>/;

	function openTag(i, match) {
		return {
			name: match[1],
			selfClose: !!match[3],
			/** @type Range */
			range: range(i, match[0]),
			type: 'open'
		};
	}

	function closeTag(i, match) {
		return {
			name: match[1],
			/** @type Range */
			range: range(i, match[0]),
			type: 'close'
		};
	}

	function comment(i, match) {
		return {
			/** @type Range */
			range: range(i, typeof match == 'number' ? match - i : match[0]),
			type: 'comment'
		};
	}

	/**
	 * Creates new tag matcher session
	 * @param {String} text
	 */
	function createMatcher(text) {
		var memo = {}, m;
		return {
			/**
			 * Test if given position matches opening tag
			 * @param {Number} i
			 * @returns {Object} Matched tag object
			 */
			open: function(i) {
				var m = this.matches(i);
				return m && m.type == 'open' ? m : null;
			},

			/**
			 * Test if given position matches closing tag
			 * @param {Number} i
			 * @returns {Object} Matched tag object
			 */
			close: function(i) {
				var m = this.matches(i);
				return m && m.type == 'close' ? m : null;
			},

			/**
			 * Matches either opening or closing tag for given position
			 * @param i
			 * @returns
			 */
			matches: function(i) {
				var key = 'p' + i;

				if (!(key in memo)) {
					memo[key] = false;
					if (text.charAt(i) == '<') {
						var substr = text.slice(i);
						if ((m = substr.match(reOpenTag))) {
							memo[key] = openTag(i, m);
						} else if ((m = substr.match(reCloseTag))) {
							memo[key] = closeTag(i, m);
						}
					}
				}

				return memo[key];
			},

			/**
			 * Returns original text
			 * @returns {String}
			 */
			text: function() {
				return text;
			},

			clean: function() {
				memo = text = m = null;
			}
		};
	}

	function matches(text, pos, pattern) {
		return text.substring(pos, pos + pattern.length) == pattern;
	}

	/**
	 * Search for closing pair of opening tag
	 * @param {Object} open Open tag instance
	 * @param {Object} matcher Matcher instance
	 */
	function findClosingPair(open, matcher) {
		var stack = [], tag = null;
		var text = matcher.text();

		for (var pos = open.range.end, len = text.length; pos < len; pos++) {
			if (matches(text, pos, '<!--')) {
				// skip to end of comment
				for (var j = pos; j < len; j++) {
					if (matches(text, j, '-->')) {
						pos = j + 3;
						break;
					}
				}
			}

			if ((tag = matcher.matches(pos))) {
				if (tag.type == 'open' && !tag.selfClose) {
					stack.push(tag.name);
				} else if (tag.type == 'close') {
					if (!stack.length) { // found valid pair?
						return tag.name == open.name ? tag : null;
					}

					// check if current closing tag matches previously opened one
					if (stack[stack.length - 1] == tag.name) {
						stack.pop();
					} else {
						var found = false;
						while (stack.length && !found) {
							var last = stack.pop();
							if (last == tag.name) {
								found = true;
							}
						}

						if (!stack.length && !found) {
							return tag.name == open.name ? tag : null;
						}
					}
				}

				pos = tag.range.end - 1;
			}
		}
	}

	return {
		/**
		 * Main function: search for tag pair in <code>text</code> for given
		 * position
		 * @memberOf htmlMatcher
		 * @param {String} text
		 * @param {Number} pos
		 * @returns {Object}
		 */
		find: function(text, pos) {
			var matcher = createMatcher(text);
			var open = null, close = null;
			var j, jl;

			for (var i = pos; i >= 0; i--) {
				if ((open = matcher.open(i))) {
					// found opening tag
					if (open.selfClose) {
						if (open.range.cmp(pos, 'lt', 'gt')) {
							// inside self-closing tag, found match
							break;
						}

						// outside self-closing tag, continue
						continue;
					}

					close = findClosingPair(open, matcher);
					if (close) {
						// found closing tag.
						var r = range.create2(open.range.start, close.range.end);
						if (r.contains(pos)) {
							break;
						}
					} else if (open.range.contains(pos)) {
						// we inside empty HTML tag like <br>
						break;
					}

					open = null;
				} else if (matches(text, i, '-->')) {
					// skip back to comment start
					for (j = i - 1; j >= 0; j--) {
						if (matches(text, j, '-->')) {
							// found another comment end, do nothing
							break;
						} else if (matches(text, j, '<!--')) {
							i = j;
							break;
						}
					}
				} else if (matches(text, i, '<!--')) {
					// we're inside comment, match it
					for (j = i + 4, jl = text.length; j < jl; j++) {
						if (matches(text, j, '-->')) {
							j += 3;
							break;
						}
					}

					open = comment(i, j);
					break;
				}
			}

			matcher.clean();

			if (open) {
				var outerRange = null;
				var innerRange = null;

				if (close) {
					outerRange = range.create2(open.range.start, close.range.end);
					innerRange = range.create2(open.range.end, close.range.start);
				} else {
					outerRange = innerRange = range.create2(open.range.start, open.range.end);
				}

				if (open.type == 'comment') {
					// adjust positions of inner range for comment
					var _c = outerRange.substring(text);
					innerRange.start += _c.length - _c.replace(/^<\!--\s*/, '').length;
					innerRange.end -= _c.length - _c.replace(/\s*-->$/, '').length;
				}

				return {
					open: open,
					close: close,
					type: open.type == 'comment' ? 'comment' : 'tag',
					innerRange: innerRange,
					innerContent: function() {
						return this.innerRange.substring(text);
					},
					outerRange: outerRange,
					outerContent: function() {
						return this.outerRange.substring(text);
					},
					range: !innerRange.length() || !innerRange.cmp(pos, 'lte', 'gte') ? outerRange : innerRange,
					content: function() {
						return this.range.substring(text);
					},
					source: text
				};
			}
		},

		/**
		 * The same as <code>find()</code> method, but restricts matched result
		 * to <code>tag</code> type
		 * @param {String} text
		 * @param {Number} pos
		 * @returns {Object}
		 */
		tag: function(text, pos) {
			var result = this.find(text, pos);
			if (result && result.type == 'tag') {
				return result;
			}
		}
	};
});
},{"./range":30}],27:[function(require,module,exports){
/**
 * Simple logger for Emmet
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	return {
		log: function() {
			if (typeof console != 'undefined' && console.log) {
				console.log.apply(console, arguments);
			}
		}
	}
})
},{}],28:[function(require,module,exports){
/**
 * Common module's preferences storage. This module
 * provides general storage for all module preferences, their description and
 * default values.<br><br>
 *
 * This module can also be used to list all available properties to create
 * UI for updating properties
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');

	var preferences = {};
	var defaults = {};
	var _dbgDefaults = null;
	var _dbgPreferences = null;

	function toBoolean(val) {
		if (typeof val === 'string') {
			val = val.toLowerCase();
			return val == 'yes' || val == 'true' || val == '1';
		}

		return !!val;
	}

	function isValueObj(obj) {
		return typeof obj === 'object'
			&& !Array.isArray(obj)
			&& 'value' in obj
			&& Object.keys(obj).length < 3;
	}

	return {
		/**
		 * Creates new preference item with default value
		 * @param {String} name Preference name. You can also pass object
		 * with many options
		 * @param {Object} value Preference default value
		 * @param {String} description Item textual description
		 * @memberOf preferences
		 */
		define: function(name, value, description) {
			var prefs = name;
			if (typeof name === 'string') {
				prefs = {};
				prefs[name] = {
					value: value,
					description: description
				};
			}

			Object.keys(prefs).forEach(function(k) {
				var v = prefs[k];
				defaults[k] = isValueObj(v) ? v : {value: v};
			});
		},

		/**
		 * Updates preference item value. Preference value should be defined
		 * first with <code>define</code> method.
		 * @param {String} name Preference name. You can also pass object
		 * with many options
		 * @param {Object} value Preference default value
		 * @memberOf preferences
		 */
		set: function(name, value) {
			var prefs = name;
			if (typeof name === 'string') {
				prefs = {};
				prefs[name] = value;
			}

			Object.keys(prefs).forEach(function(k) {
				var v = prefs[k];
				if (!(k in defaults)) {
					throw new Error('Property "' + k + '" is not defined. You should define it first with `define` method of current module');
				}

				// do not set value if it equals to default value
				if (v !== defaults[k].value) {
					// make sure we have value of correct type
					switch (typeof defaults[k].value) {
						case 'boolean':
							v = toBoolean(v);
							break;
						case 'number':
							v = parseInt(v + '', 10) || 0;
							break;
						default: // convert to string
							if (v !== null) {
								v += '';
							}
					}

					preferences[k] = v;
				} else if (k in preferences) {
					delete preferences[k];
				}
			});
		},

		/**
		 * Returns preference value
		 * @param {String} name
		 * @returns {String} Returns <code>undefined</code> if preference is
		 * not defined
		 */
		get: function(name) {
			if (name in preferences) {
				return preferences[name];
			}

			if (name in defaults) {
				return defaults[name].value;
			}

			return void 0;
		},

		/**
		 * Returns comma-separated preference value as array of values
		 * @param {String} name
		 * @returns {Array} Returns <code>undefined</code> if preference is
		 * not defined, <code>null</code> if string cannot be converted to array
		 */
		getArray: function(name) {
			var val = this.get(name);
			if (typeof val === 'undefined' || val === null || val === '')  {
				return null;
			}

			val = val.split(',').map(utils.trim);
			if (!val.length) {
				return null;
			}

			return val;
		},

		/**
		 * Returns comma and colon-separated preference value as dictionary
		 * @param {String} name
		 * @returns {Object}
		 */
		getDict: function(name) {
			var result = {};
			this.getArray(name).forEach(function(val) {
				var parts = val.split(':');
				result[parts[0]] = parts[1];
			});

			return result;
		},

		/**
		 * Returns description of preference item
		 * @param {String} name Preference name
		 * @returns {Object}
		 */
		description: function(name) {
			return name in defaults ? defaults[name].description : void 0;
		},

		/**
		 * Completely removes specified preference(s)
		 * @param {String} name Preference name (or array of names)
		 */
		remove: function(name) {
			if (!Array.isArray(name)) {
				name = [name];
			}

			name.forEach(function(key) {
				if (key in preferences) {
					delete preferences[key];
				}

				if (key in defaults) {
					delete defaults[key];
				}
			});
		},

		/**
		 * Returns sorted list of all available properties
		 * @returns {Array}
		 */
		list: function() {
			return Object.keys(defaults).sort().map(function(key) {
				return {
					name: key,
					value: this.get(key),
					type: typeof defaults[key].value,
					description: defaults[key].description
				};
			}, this);
		},

		/**
		 * Loads user-defined preferences from JSON
		 * @param {Object} json
		 * @returns
		 */
		load: function(json) {
			Object.keys(json).forEach(function(key) {
				this.set(key, json[key]);
			}, this);
		},

		/**
		 * Returns hash of user-modified preferences
		 * @returns {Object}
		 */
		exportModified: function() {
			return utils.extend({}, preferences);
		},

		/**
		 * Reset to defaults
		 * @returns
		 */
		reset: function() {
			preferences = {};
		},

		/**
		 * For unit testing: use empty storage
		 */
		_startTest: function() {
			_dbgDefaults = defaults;
			_dbgPreferences = preferences;
			defaults = {};
			preferences = {};
		},

		/**
		 * For unit testing: restore original storage
		 */
		_stopTest: function() {
			defaults = _dbgDefaults;
			preferences = _dbgPreferences;
		}
	};
});
},{"../utils/common":73}],29:[function(require,module,exports){
/**
 * Output profile module.
 * Profile defines how XHTML output data should look like
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var resources = require('./resources');
	var prefs = require('./preferences');

	prefs.define('profile.allowCompactBoolean', true,
		'This option can be used to globally disable compact form of boolean ' +
		'attribues (attributes where name and value are equal). With compact' +
		'form enabled, HTML tags can be outputted as <code>&lt;div contenteditable&gt;</code> ' +
		'instead of <code>&lt;div contenteditable="contenteditable"&gt;</code>');

	prefs.define('profile.booleanAttributes', '^contenteditable|seamless$',
		'A regular expression for attributes that should be boolean by default.' +
		'If attribute name matches this expression, you don‚Äôt have to write dot ' +
		'after attribute name in Emmet abbreviation to mark it as boolean.');

	var profiles = {};

	var defaultProfile = {
		tag_case: 'asis',
		attr_case: 'asis',
		attr_quotes: 'double',

		// Each tag on new line
		tag_nl: 'decide',

		// With tag_nl === true, defines if leaf node (e.g. node with no children)
		// should have formatted line breaks
		tag_nl_leaf: false,

		place_cursor: true,

		// Indent tags
		indent: true,

		// How many inline elements should be to force line break
		// (set to 0 to disable)
		inline_break: 3,

		// Produce compact notation of boolean attribues:
		// attributes where name and value are equal.
		// With this option enabled, HTML filter will
		// produce <div contenteditable> instead of <div contenteditable="contenteditable">
		compact_bool: false,

		// Use self-closing style for writing empty elements, e.g. <br /> or <br>
		self_closing_tag: 'xhtml',

		// Profile-level output filters, re-defines syntax filters
		filters: '',

		// Additional filters applied to abbreviation.
		// Unlike "filters", this preference doesn't override default filters
		// but add the instead every time given profile is chosen
		extraFilters: ''
	};

	/**
	 * @constructor
	 * @type OutputProfile
	 * @param {Object} options
	 */
	function OutputProfile(options) {
		utils.extend(this, defaultProfile, options);
	}

	OutputProfile.prototype = {
		/**
		 * Transforms tag name case depending on current profile settings
		 * @param {String} name String to transform
		 * @returns {String}
		 */
		tagName: function(name) {
			return stringCase(name, this.tag_case);
		},

		/**
		 * Transforms attribute name case depending on current profile settings
		 * @param {String} name String to transform
		 * @returns {String}
		 */
		attributeName: function(name) {
			return stringCase(name, this.attr_case);
		},

		/**
		 * Returns quote character for current profile
		 * @returns {String}
		 */
		attributeQuote: function() {
			return this.attr_quotes == 'single' ? "'" : '"';
		},

		/**
		 * Returns self-closing tag symbol for current profile
		 * @returns {String}
		 */
		selfClosing: function() {
			if (this.self_closing_tag == 'xhtml')
				return ' /';

			if (this.self_closing_tag === true)
				return '/';

			return '';
		},

		/**
		 * Returns cursor token based on current profile settings
		 * @returns {String}
		 */
		cursor: function() {
			return this.place_cursor ? utils.getCaretPlaceholder() : '';
		},

		/**
		 * Check if attribute with given name is boolean,
		 * e.g. written as `contenteditable` instead of
		 * `contenteditable="contenteditable"`
		 * @param  {String}  name Attribute name
		 * @return {Boolean}
		 */
		isBoolean: function(name, value) {
			if (name == value) {
				return true;
			}

			var boolAttrs = prefs.get('profile.booleanAttributes');
			if (!value && boolAttrs) {
				boolAttrs = new RegExp(boolAttrs, 'i');
				return boolAttrs.test(name);
			}

			return false;
		},

		/**
		 * Check if compact boolean attribute record is
		 * allowed for current profile
		 * @return {Boolean}
		 */
		allowCompactBoolean: function() {
			return this.compact_bool && prefs.get('profile.allowCompactBoolean');
		}
	};

	/**
	 * Helper function that converts string case depending on
	 * <code>caseValue</code>
	 * @param {String} str String to transform
	 * @param {String} caseValue Case value: can be <i>lower</i>,
	 * <i>upper</i> and <i>leave</i>
	 * @returns {String}
	 */
	function stringCase(str, caseValue) {
		switch (String(caseValue || '').toLowerCase()) {
			case 'lower':
				return str.toLowerCase();
			case 'upper':
				return str.toUpperCase();
		}

		return str;
	}

	/**
	 * Creates new output profile
	 * @param {String} name Profile name
	 * @param {Object} options Profile options
	 */
	function createProfile(name, options) {
		return profiles[name.toLowerCase()] = new OutputProfile(options);
	}

	function createDefaultProfiles() {
		createProfile('xhtml');
		createProfile('html', {self_closing_tag: false, compact_bool: true});
		createProfile('xml', {self_closing_tag: true, tag_nl: true});
		createProfile('plain', {tag_nl: false, indent: false, place_cursor: false});
		createProfile('line', {tag_nl: false, indent: false, extraFilters: 's'});
		createProfile('css', {tag_nl: true});
		createProfile('css_line', {tag_nl: false});
	}

	createDefaultProfiles();

	return  {
		/**
		 * Creates new output profile and adds it into internal dictionary
		 * @param {String} name Profile name
		 * @param {Object} options Profile options
		 * @memberOf emmet.profile
		 * @returns {Object} New profile
		 */
		create: function(name, options) {
			if (arguments.length == 2)
				return createProfile(name, options);
			else
				// create profile object only
				return new OutputProfile(utils.defaults(name || {}, defaultProfile));
		},

		/**
		 * Returns profile by its name. If profile wasn't found, returns
		 * 'plain' profile
		 * @param {String} name Profile name. Might be profile itself
		 * @param {String} syntax. Optional. Current editor syntax. If defined,
		 * profile is searched in resources first, then in predefined profiles
		 * @returns {Object}
		 */
		get: function(name, syntax) {
			if (!name && syntax) {
				// search in user resources first
				var profile = resources.findItem(syntax, 'profile');
				if (profile) {
					name = profile;
				}
			}

			if (!name) {
				return profiles.plain;
			}

			if (name instanceof OutputProfile) {
				return name;
			}

			if (typeof name === 'string' && name.toLowerCase() in profiles) {
				return profiles[name.toLowerCase()];
			}

			return this.create(name);
		},

		/**
		 * Deletes profile with specified name
		 * @param {String} name Profile name
		 */
		remove: function(name) {
			name = (name || '').toLowerCase();
			if (name in profiles)
				delete profiles[name];
		},

		/**
		 * Resets all user-defined profiles
		 */
		reset: function() {
			profiles = {};
			createDefaultProfiles();
		},

		/**
		 * Helper function that converts string case depending on
		 * <code>caseValue</code>
		 * @param {String} str String to transform
		 * @param {String} caseValue Case value: can be <i>lower</i>,
		 * <i>upper</i> and <i>leave</i>
		 * @returns {String}
		 */
		stringCase: stringCase
	};
});
},{"../utils/common":73,"./preferences":28,"./resources":31}],30:[function(require,module,exports){
/**
 * Helper module to work with ranges
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	function cmp(a, b, op) {
		switch (op) {
			case 'eq':
			case '==':
				return a === b;
			case 'lt':
			case '<':
				return a < b;
			case 'lte':
			case '<=':
				return a <= b;
			case 'gt':
			case '>':
				return a > b;
			case 'gte':
			case '>=':
				return a >= b;
		}
	}


	/**
	 * @type Range
	 * @constructor
	 * @param {Object} start
	 * @param {Number} len
	 */
	function Range(start, len) {
		if (typeof start === 'object' && 'start' in start) {
			// create range from object stub
			this.start = Math.min(start.start, start.end);
			this.end = Math.max(start.start, start.end);
		} else if (Array.isArray(start)) {
			this.start = start[0];
			this.end = start[1];
		} else {
			len = typeof len === 'string' ? len.length : +len;
			this.start = start;
			this.end = start + len;
		}
	}

	Range.prototype = {
		length: function() {
			return Math.abs(this.end - this.start);
		},

		/**
		 * Returns <code>true</code> if passed range is equals to current one
		 * @param {Range} range
		 * @returns {Boolean}
		 */
		equal: function(range) {
			return this.cmp(range, 'eq', 'eq');
//			return this.start === range.start && this.end === range.end;
		},

		/**
		 * Shifts indexes position with passed <code>delta</code>
		 * @param {Number} delta
		 * @returns {Range} range itself
		 */
		shift: function(delta) {
			this.start += delta;
			this.end += delta;
			return this;
		},

		/**
		 * Check if two ranges are overlapped
		 * @param {Range} range
		 * @returns {Boolean}
		 */
		overlap: function(range) {
			return range.start <= this.end && range.end >= this.start;
		},

		/**
		 * Finds intersection of two ranges
		 * @param {Range} range
		 * @returns {Range} <code>null</code> if ranges does not overlap
		 */
		intersection: function(range) {
			if (this.overlap(range)) {
				var start = Math.max(range.start, this.start);
				var end = Math.min(range.end, this.end);
				return new Range(start, end - start);
			}

			return null;
		},

		/**
		 * Returns the union of the thow ranges.
		 * @param {Range} range
		 * @returns {Range} <code>null</code> if ranges are not overlapped
		 */
		union: function(range) {
			if (this.overlap(range)) {
				var start = Math.min(range.start, this.start);
				var end = Math.max(range.end, this.end);
				return new Range(start, end - start);
			}

			return null;
		},

		/**
		 * Returns a Boolean value that indicates whether a specified position
		 * is in a given range.
		 * @param {Number} loc
		 */
		inside: function(loc) {
			return this.cmp(loc, 'lte', 'gt');
//			return this.start <= loc && this.end > loc;
		},

		/**
		 * Returns a Boolean value that indicates whether a specified position
		 * is in a given range, but not equals bounds.
		 * @param {Number} loc
		 */
		contains: function(loc) {
			return this.cmp(loc, 'lt', 'gt');
		},

		/**
		 * Check if current range completely includes specified one
		 * @param {Range} r
		 * @returns {Boolean}
		 */
		include: function(r) {
			return this.cmp(r, 'lte', 'gte');
//			return this.start <= r.start && this.end >= r.end;
		},

		/**
		 * Low-level comparision method
		 * @param {Number} loc
		 * @param {String} left Left comparison operator
		 * @param {String} right Right comaprison operator
		 */
		cmp: function(loc, left, right) {
			var a, b;
			if (loc instanceof Range) {
				a = loc.start;
				b = loc.end;
			} else {
				a = b = loc;
			}

			return cmp(this.start, a, left || '<=') && cmp(this.end, b, right || '>');
		},

		/**
		 * Returns substring of specified <code>str</code> for current range
		 * @param {String} str
		 * @returns {String}
		 */
		substring: function(str) {
			return this.length() > 0
				? str.substring(this.start, this.end)
				: '';
		},

		/**
		 * Creates copy of current range
		 * @returns {Range}
		 */
		clone: function() {
			return new Range(this.start, this.length());
		},

		/**
		 * @returns {Array}
		 */
		toArray: function() {
			return [this.start, this.end];
		},

		toString: function() {
			return this.valueOf();
		},

		valueOf: function() {
			return '{' + this.start + ', ' + this.length() + '}';
		}
	};

	/**
	 * Creates new range object instance
	 * @param {Object} start Range start or array with 'start' and 'end'
	 * as two first indexes or object with 'start' and 'end' properties
	 * @param {Number} len Range length or string to produce range from
	 * @returns {Range}
	 */
	module.exports = function(start, len) {
		if (typeof start == 'undefined' || start === null)
			return null;

		if (start instanceof Range)
			return start;

		if (typeof start == 'object' && 'start' in start && 'end' in start) {
			len = start.end - start.start;
			start = start.start;
		}

		return new Range(start, len);
	};

	module.exports.create = module.exports;

	module.exports.isRange = function(val) {
		return val instanceof Range;
	};

	/**
	 * <code>Range</code> object factory, the same as <code>this.create()</code>
	 * but last argument represents end of range, not length
	 * @returns {Range}
	 */
	module.exports.create2 = function(start, end) {
		if (typeof start === 'number' && typeof end === 'number') {
			end -= start;
		}

		return this.create(start, end);
	};

	/**
	 * Helper function that sorts ranges in order as they
	 * appear in text
	 * @param  {Array} ranges
	 * @return {Array}
	 */
	module.exports.sort = function(ranges, reverse) {
		ranges = ranges.sort(function(a, b) {
			if (a.start === b.start) {
				return b.end - a.end;
			}

			return a.start - b.start;
		});

		reverse && ranges.reverse();
		return ranges;
	};

	return module.exports;
});
},{}],31:[function(require,module,exports){
/**
 * Parsed resources (snippets, abbreviations, variables, etc.) for Emmet.
 * Contains convenient method to get access for snippets with respect of
 * inheritance. Also provides ability to store data in different vocabularies
 * ('system' and 'user') for fast and safe resource update
 * @author Sergey Chikuyonok (serge.che@gmail.com)
 * @link http://chikuyonok.ru
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var handlerList = require('./handlerList');
	var utils = require('../utils/common');
	var elements = require('./elements');
	var logger = require('../assets/logger');
	var stringScore = require('../vendor/stringScore');
	var cssResolver = require('../resolver/css');

	var VOC_SYSTEM = 'system';
	var VOC_USER = 'user';

	var cache = {};

	/** Regular expression for XML tag matching */
	var reTag = /^<(\w+\:?[\w\-]*)((?:\s+[@\!]?[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/;

	var systemSettings = {};
	var userSettings = {};

	/** @type HandlerList List of registered abbreviation resolvers */
	var resolvers = handlerList.create();

	function each(obj, fn) {
		if (!obj) {
			return;
		}

		Object.keys(obj).forEach(function(key) {
			fn(obj[key], key);
		});
	}

	/**
	 * Normalizes caret plceholder in passed text: replaces | character with
	 * default caret placeholder
	 * @param {String} text
	 * @returns {String}
	 */
	function normalizeCaretPlaceholder(text) {
		return utils.replaceUnescapedSymbol(text, '|', utils.getCaretPlaceholder());
	}

	function parseItem(name, value, type) {
		value = normalizeCaretPlaceholder(value);

		if (type == 'snippets') {
			return elements.create('snippet', value);
		}

		if (type == 'abbreviations') {
			return parseAbbreviation(name, value);
		}
	}

	/**
	 * Parses single abbreviation
	 * @param {String} key Abbreviation name
	 * @param {String} value Abbreviation value
	 * @return {Object}
	 */
	function parseAbbreviation(key, value) {
		key = utils.trim(key);
		var m;
		if ((m = reTag.exec(value))) {
			return elements.create('element', m[1], m[2], m[4] == '/');
		} else {
			// assume it's reference to another abbreviation
			return elements.create('reference', value);
		}
	}

	/**
	 * Normalizes snippet key name for better fuzzy search
	 * @param {String} str
	 * @returns {String}
	 */
	function normalizeName(str) {
		return str.replace(/:$/, '').replace(/:/g, '-');
	}

	function expandSnippetsDefinition(snippets) {
		var out = {};
		each(snippets, function(val, key) {
			var items = key.split('|');
			// do not use iterators for better performance
			for (var i = items.length - 1; i >= 0; i--) {
				out[items[i]] = val;
			}
		});

		return out;
	}

	utils.extend(exports, {
		/**
		 * Sets new unparsed data for specified settings vocabulary
		 * @param {Object} data
		 * @param {String} type Vocabulary type ('system' or 'user')
		 * @memberOf resources
		 */
		setVocabulary: function(data, type) {
			cache = {};

			// sections like "snippets" and "abbreviations" could have
			// definitions like `"f|fs": "fieldset"` which is the same as distinct
			// "f" and "fs" keys both equals to "fieldset".
			// We should parse these definitions first
			var voc = {};
			each(data, function(section, syntax) {
				var _section = {};
				each(section, function(subsection, name) {
					if (name == 'abbreviations' || name == 'snippets') {
						subsection = expandSnippetsDefinition(subsection);
					}
					_section[name] = subsection;
				});

				voc[syntax] = _section;
			});


			if (type == VOC_SYSTEM) {
				systemSettings = voc;
			} else {
				userSettings = voc;
			}
		},

		/**
		 * Returns resource vocabulary by its name
		 * @param {String} name Vocabulary name ('system' or 'user')
		 * @return {Object}
		 */
		getVocabulary: function(name) {
			return name == VOC_SYSTEM ? systemSettings : userSettings;
		},

		/**
		 * Returns resource (abbreviation, snippet, etc.) matched for passed
		 * abbreviation
		 * @param {AbbreviationNode} node
		 * @param {String} syntax
		 * @returns {Object}
		 */
		getMatchedResource: function(node, syntax) {
			return resolvers.exec(null, utils.toArray(arguments))
				|| this.findSnippet(syntax, node.name());
		},

		/**
		 * Returns variable value
		 * @return {String}
		 */
		getVariable: function(name) {
			return (this.getSection('variables') || {})[name];
		},

		/**
		 * Store runtime variable in user storage
		 * @param {String} name Variable name
		 * @param {String} value Variable value
		 */
		setVariable: function(name, value){
			var voc = this.getVocabulary('user') || {};
			if (!('variables' in voc))
				voc.variables = {};

			voc.variables[name] = value;
			this.setVocabulary(voc, 'user');
		},

		/**
		 * Check if there are resources for specified syntax
		 * @param {String} syntax
		 * @return {Boolean}
		 */
		hasSyntax: function(syntax) {
			return syntax in this.getVocabulary(VOC_USER)
				|| syntax in this.getVocabulary(VOC_SYSTEM);
		},

		/**
		 * Registers new abbreviation resolver.
		 * @param {Function} fn Abbreviation resolver which will receive
		 * abbreviation as first argument and should return parsed abbreviation
		 * object if abbreviation has handled successfully, <code>null</code>
		 * otherwise
		 * @param {Object} options Options list as described in
		 * {@link HandlerList#add()} method
		 */
		addResolver: function(fn, options) {
			resolvers.add(fn, options);
		},

		removeResolver: function(fn) {
			resolvers.remove(fn);
		},

		/**
		 * Returns actual section data, merged from both
		 * system and user data
		 * @param {String} name Section name (syntax)
		 * @param {String} ...args Subsections
		 * @returns
		 */
		getSection: function(name) {
			if (!name)
				return null;

			if (!(name in cache)) {
				cache[name] = utils.deepMerge({}, systemSettings[name], userSettings[name]);
			}

			var data = cache[name], subsections = utils.toArray(arguments, 1), key;
			while (data && (key = subsections.shift())) {
				if (key in data) {
					data = data[key];
				} else {
					return null;
				}
			}

			return data;
		},

		/**
		 * Recursively searches for a item inside top level sections (syntaxes)
		 * with respect of `extends` attribute
		 * @param {String} topSection Top section name (syntax)
		 * @param {String} subsection Inner section name
		 * @returns {Object}
		 */
		findItem: function(topSection, subsection) {
			var data = this.getSection(topSection);
			while (data) {
				if (subsection in data)
					return data[subsection];

				data = this.getSection(data['extends']);
			}
		},

		/**
		 * Recursively searches for a snippet definition inside syntax section.
		 * Definition is searched inside `snippets` and `abbreviations`
		 * subsections
		 * @param {String} syntax Top-level section name (syntax)
		 * @param {String} name Snippet name
		 * @returns {Object}
		 */
		findSnippet: function(syntax, name, memo) {
			if (!syntax || !name)
				return null;

			memo = memo || [];

			var names = [name];
			// create automatic aliases to properties with colons,
			// e.g. pos-a == pos:a
			if (~name.indexOf('-')) {
				names.push(name.replace(/\-/g, ':'));
			}

			var data = this.getSection(syntax), matchedItem = null;
			['snippets', 'abbreviations'].some(function(sectionName) {
				var data = this.getSection(syntax, sectionName);
				if (data) {
					return names.some(function(n) {
						if (data[n]) {
							return matchedItem = parseItem(n, data[n], sectionName);
						}
					});
				}
			}, this);

			memo.push(syntax);
			if (!matchedItem && data['extends'] && !~memo.indexOf(data['extends'])) {
				// try to find item in parent syntax section
				return this.findSnippet(data['extends'], name, memo);
			}

			return matchedItem;
		},

		/**
		 * Performs fuzzy search of snippet definition
		 * @param {String} syntax Top-level section name (syntax)
		 * @param {String} name Snippet name
		 * @returns
		 */
		fuzzyFindSnippet: function(syntax, name, minScore) {
			var result = this.fuzzyFindMatches(syntax, name, minScore)[0];
			if (result) {
				return result.value.parsedValue;
			}
		},

		fuzzyFindMatches: function(syntax, name, minScore) {
			minScore = minScore || 0.3;
			name = normalizeName(name);
			var snippets = this.getAllSnippets(syntax);

			return Object.keys(snippets)
				.map(function(key) {
					var value = snippets[key];
					return {
						key: key,
						score: stringScore.score(value.nk, name, 0.1),
						value: value
					};
				})
				.filter(function(item) {
					return item.score >= minScore;
				})
				.sort(function(a, b) {
					return a.score - b.score;
				})
				.reverse();
		},

		/**
		 * Returns plain dictionary of all available abbreviations and snippets
		 * for specified syntax with respect of inheritance
		 * @param {String} syntax
		 * @returns {Object}
		 */
		getAllSnippets: function(syntax) {
			var cacheKey = 'all-' + syntax;
			if (!cache[cacheKey]) {
				var stack = [], sectionKey = syntax;
				var memo = [];

				do {
					var section = this.getSection(sectionKey);
					if (!section)
						break;

					['snippets', 'abbreviations'].forEach(function(sectionName) {
						var stackItem = {};
						each(section[sectionName] || null, function(v, k) {
							stackItem[k] = {
								nk: normalizeName(k),
								value: v,
								parsedValue: parseItem(k, v, sectionName),
								type: sectionName
							};
						});

						stack.push(stackItem);
					});

					memo.push(sectionKey);
					sectionKey = section['extends'];
				} while (sectionKey && !~memo.indexOf(sectionKey));


				cache[cacheKey] = utils.extend.apply(utils, stack.reverse());
			}

			return cache[cacheKey];
		},

		/**
		 * Returns newline character
		 * @returns {String}
		 */
		getNewline: function() {
			var nl = this.getVariable('newline');
			return typeof nl === 'string' ? nl : '\n';
		},

		/**
		 * Sets new newline character that will be used in output
		 * @param {String} str
		 */
		setNewline: function(str) {
			this.setVariable('newline', str);
			this.setVariable('nl', str);
		}
	});

	// XXX add default resolvers
	exports.addResolver(cssResolver.resolve.bind(cssResolver));

	// try to load snippets
	// hide it from Require.JS parser
	(function(r) {
		if (typeof define === 'undefined' || !define.amd) {
			try {
				var fs = r('fs');
				var path = r('path');

				var defaultSnippets = fs.readFileSync(path.join(__dirname, '../snippets.json'), {encoding: 'utf8'});
				exports.setVocabulary(JSON.parse(defaultSnippets), VOC_SYSTEM);
			} catch (e) {}
		}
	})(require);


	return exports;
});
},{"../assets/logger":27,"../resolver/css":64,"../utils/common":73,"../vendor/stringScore":79,"./elements":24,"./handlerList":25}],32:[function(require,module,exports){
/**
 * A trimmed version of CodeMirror's StringStream module for string parsing
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	/**
	 * @type StringStream
	 * @constructor
	 * @param {String} string Assuming that bound string should be
	 * immutable
	 */
	function StringStream(string) {
		this.pos = this.start = 0;
		this.string = string;
		this._length = string.length;
	}

	StringStream.prototype = {
		/**
		 * Returns true only if the stream is at the end of the line.
		 * @returns {Boolean}
		 */
		eol: function() {
			return this.pos >= this._length;
		},

		/**
		 * Returns true only if the stream is at the start of the line
		 * @returns {Boolean}
		 */
		sol: function() {
			return this.pos === 0;
		},

		/**
		 * Returns the next character in the stream without advancing it.
		 * Will return <code>undefined</code> at the end of the line.
		 * @returns {String}
		 */
		peek: function() {
			return this.string.charAt(this.pos);
		},

		/**
		 * Returns the next character in the stream and advances it.
		 * Also returns <code>undefined</code> when no more characters are available.
		 * @returns {String}
		 */
		next: function() {
			if (this.pos < this._length)
				return this.string.charAt(this.pos++);
		},

		/**
		 * match can be a character, a regular expression, or a function that
		 * takes a character and returns a boolean. If the next character in the
		 * stream 'matches' the given argument, it is consumed and returned.
		 * Otherwise, undefined is returned.
		 * @param {Object} match
		 * @returns {String}
		 */
		eat: function(match) {
			var ch = this.string.charAt(this.pos), ok;
			if (typeof match == "string")
				ok = ch == match;
			else
				ok = ch && (match.test ? match.test(ch) : match(ch));

			if (ok) {
				++this.pos;
				return ch;
			}
		},

		/**
		 * Repeatedly calls <code>eat</code> with the given argument, until it
		 * fails. Returns <code>true</code> if any characters were eaten.
		 * @param {Object} match
		 * @returns {Boolean}
		 */
		eatWhile: function(match) {
			var start = this.pos;
			while (this.eat(match)) {}
			return this.pos > start;
		},

		/**
		 * Shortcut for <code>eatWhile</code> when matching white-space.
		 * @returns {Boolean}
		 */
		eatSpace: function() {
			var start = this.pos;
			while (/[\s\u00a0]/.test(this.string.charAt(this.pos)))
				++this.pos;
			return this.pos > start;
		},

		/**
		 * Moves the position to the end of the line.
		 */
		skipToEnd: function() {
			this.pos = this._length;
		},

		/**
		 * Skips to the next occurrence of the given character, if found on the
		 * current line (doesn't advance the stream if the character does not
		 * occur on the line). Returns true if the character was found.
		 * @param {String} ch
		 * @returns {Boolean}
		 */
		skipTo: function(ch) {
			var found = this.string.indexOf(ch, this.pos);
			if (found > -1) {
				this.pos = found;
				return true;
			}
		},

		/**
		 * Skips to <code>close</code> character which is pair to <code>open</code>
		 * character, considering possible pair nesting. This function is used
		 * to consume pair of characters, like opening and closing braces
		 * @param {String} open
		 * @param {String} close
		 * @returns {Boolean} Returns <code>true</code> if pair was successfully
		 * consumed
		 */
		skipToPair: function(open, close, skipString) {
			var braceCount = 0, ch;
			var pos = this.pos, len = this._length;
			while (pos < len) {
				ch = this.string.charAt(pos++);
				if (ch == open) {
					braceCount++;
				} else if (ch == close) {
					braceCount--;
					if (braceCount < 1) {
						this.pos = pos;
						return true;
					}
				} else if (skipString && (ch == '"' || ch == "'")) {
					this.skipString(ch);
				}
			}

			return false;
		},

		/**
		 * A helper function which, in case of either single or
		 * double quote was found in current position, skips entire
		 * string (quoted value)
		 * @return {Boolean} Wether quoted string was skipped
		 */
		skipQuoted: function(noBackup) {
			var ch = this.string.charAt(noBackup ? this.pos : this.pos - 1);
			if (ch === '"' || ch === "'") {
				if (noBackup) {
					this.pos++;
				}
				return this.skipString(ch);
			}
		},

		/**
		 * A custom function to skip string literal, e.g. a "double-quoted"
		 * or 'single-quoted' value
		 * @param  {String} quote An opening quote
		 * @return {Boolean}
		 */
		skipString: function(quote) {
			var pos = this.pos, len = this._length, ch;
			while (pos < len) {
				ch = this.string.charAt(pos++);
				if (ch == '\\') {
					continue;
				} else if (ch == quote) {
					this.pos = pos;
					return true;
				}
			}

			return false;
		},

		/**
		 * Backs up the stream n characters. Backing it up further than the
		 * start of the current token will cause things to break, so be careful.
		 * @param {Number} n
		 */
		backUp : function(n) {
			this.pos -= n;
		},

		/**
		 * Act like a multi-character <code>eat</code>‚Äîif <code>consume</code> is true or
		 * not given‚Äîor a look-ahead that doesn't update the stream position‚Äîif
		 * it is false. <code>pattern</code> can be either a string or a
		 * regular expression starting with ^. When it is a string,
		 * <code>caseInsensitive</code> can be set to true to make the match
		 * case-insensitive. When successfully matching a regular expression,
		 * the returned value will be the array returned by <code>match</code>,
		 * in case you need to extract matched groups.
		 *
		 * @param {RegExp} pattern
		 * @param {Boolean} consume
		 * @param {Boolean} caseInsensitive
		 * @returns
		 */
		match: function(pattern, consume, caseInsensitive) {
			if (typeof pattern == "string") {
				var cased = caseInsensitive
					? function(str) {return str.toLowerCase();}
					: function(str) {return str;};

				if (cased(this.string).indexOf(cased(pattern), this.pos) == this.pos) {
					if (consume !== false)
						this.pos += pattern.length;
					return true;
				}
			} else {
				var match = this.string.slice(this.pos).match(pattern);
				if (match && consume !== false)
					this.pos += match[0].length;
				return match;
			}
		},

		/**
		 * Get the string between the start of the current token and the
		 * current stream position.
		 * @returns {String}
		 */
		current: function(backUp) {
			return this.string.slice(this.start, this.pos - (backUp ? 1 : 0));
		}
	};

	module.exports = function(string) {
		return new StringStream(string);
	};

	/** @deprecated */
	module.exports.create = module.exports;
	return module.exports;
});
},{}],33:[function(require,module,exports){
/**
 * Utility module for handling tabstops tokens generated by Emmet's
 * "Expand Abbreviation" action. The main <code>extract</code> method will take
 * raw text (for example: <i>${0} some ${1:text}</i>), find all tabstops
 * occurrences, replace them with tokens suitable for your editor of choice and
 * return object with processed text and list of found tabstops and their ranges.
 * For sake of portability (Objective-C/Java) the tabstops list is a plain
 * sorted array with plain objects.
 *
 * Placeholders with the same are meant to be <i>linked</i> in your editor.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var stringStream = require('./stringStream');
	var resources = require('./resources');

	/**
	 * Global placeholder value, automatically incremented by
	 * <code>variablesResolver()</code> function
	 */
	var startPlaceholderNum = 100;
	var tabstopIndex = 0;

	var defaultOptions = {
		replaceCarets: false,
		escape: function(ch) {
			return '\\' + ch;
		},
		tabstop: function(data) {
			return data.token;
		},
		variable: function(data) {
			return data.token;
		}
	};

	return {
		/**
		 * Main function that looks for a tabstops in provided <code>text</code>
		 * and returns a processed version of <code>text</code> with expanded
		 * placeholders and list of tabstops found.
		 * @param {String} text Text to process
		 * @param {Object} options List of processor options:<br>
		 *
		 * <b>replaceCarets</b> : <code>Boolean</code> ‚Äî replace all default
		 * caret placeholders (like <i>{%::emmet-caret::%}</i>) with <i>${0:caret}</i><br>
		 *
		 * <b>escape</b> : <code>Function</code> ‚Äî function that handle escaped
		 * characters (mostly '$'). By default, it returns the character itself
		 * to be displayed as is in output, but sometimes you will use
		 * <code>extract</code> method as intermediate solution for further
		 * processing and want to keep character escaped. Thus, you should override
		 * <code>escape</code> method to return escaped symbol (e.g. '\\$')<br>
		 *
		 * <b>tabstop</b> : <code>Function</code> ‚Äì a tabstop handler. Receives
		 * a single argument ‚Äì an object describing token: its position, number
		 * group, placeholder and token itself. Should return a replacement
		 * string that will appear in final output
		 *
		 * <b>variable</b> : <code>Function</code> ‚Äì variable handler. Receives
		 * a single argument ‚Äì an object describing token: its position, name
		 * and original token itself. Should return a replacement
		 * string that will appear in final output
		 *
		 * @returns {Object} Object with processed <code>text</code> property
		 * and array of <code>tabstops</code> found
		 * @memberOf tabStops
		 */
		extract: function(text, options) {
			// prepare defaults
			var placeholders = {carets: ''};
			var marks = [];

			options = utils.extend({}, defaultOptions, options, {
				tabstop: function(data) {
					var token = data.token;
					var ret = '';
					if (data.placeholder == 'cursor') {
						marks.push({
							start: data.start,
							end: data.start + token.length,
							group: 'carets',
							value: ''
						});
					} else {
						// unify placeholder value for single group
						if ('placeholder' in data)
							placeholders[data.group] = data.placeholder;

						if (data.group in placeholders)
							ret = placeholders[data.group];

						marks.push({
							start: data.start,
							end: data.start + token.length,
							group: data.group,
							value: ret
						});
					}

					return token;
				}
			});

			if (options.replaceCarets) {
				text = text.replace(new RegExp( utils.escapeForRegexp( utils.getCaretPlaceholder() ), 'g'), '${0:cursor}');
			}

			// locate tabstops and unify group's placeholders
			text = this.processText(text, options);

			// now, replace all tabstops with placeholders
			var buf = '', lastIx = 0;
			var tabStops = marks.map(function(mark) {
				buf += text.substring(lastIx, mark.start);

				var pos = buf.length;
				var ph = placeholders[mark.group] || '';

				buf += ph;
				lastIx = mark.end;

				return {
					group: mark.group,
					start: pos,
					end:  pos + ph.length
				};
			});

			buf += text.substring(lastIx);

			return {
				text: buf,
				tabstops: tabStops.sort(function(a, b) {
					return a.start - b.start;
				})
			};
		},

		/**
		 * Text processing routine. Locates escaped characters and tabstops and
		 * replaces them with values returned by handlers defined in
		 * <code>options</code>
		 * @param {String} text
		 * @param {Object} options See <code>extract</code> method options
		 * description
		 * @returns {String}
		 */
		processText: function(text, options) {
			options = utils.extend({}, defaultOptions, options);

			var buf = '';
			/** @type StringStream */
			var stream = stringStream.create(text);
			var ch, m, a;

			while ((ch = stream.next())) {
				if (ch == '\\' && !stream.eol()) {
					// handle escaped character
					buf += options.escape(stream.next());
					continue;
				}

				a = ch;

				if (ch == '$') {
					// looks like a tabstop
					stream.start = stream.pos - 1;

					if ((m = stream.match(/^[0-9]+/))) {
						// it's $N
						a = options.tabstop({
							start: buf.length,
							group: stream.current().substr(1),
							token: stream.current()
						});
					} else if ((m = stream.match(/^\{([a-z_\-][\w\-]*)\}/))) {
						// ${variable}
						a = options.variable({
							start: buf.length,
							name: m[1],
							token: stream.current()
						});
					} else if ((m = stream.match(/^\{([0-9]+)(:.+?)?\}/, false))) {
						// ${N:value} or ${N} placeholder
						// parse placeholder, including nested ones
						stream.skipToPair('{', '}');

						var obj = {
							start: buf.length,
							group: m[1],
							token: stream.current()
						};

						var placeholder = obj.token.substring(obj.group.length + 2, obj.token.length - 1);

						if (placeholder) {
							obj.placeholder = placeholder.substr(1);
						}

						a = options.tabstop(obj);
					}
				}

				buf += a;
			}

			return buf;
		},

		/**
		 * Upgrades tabstops in output node in order to prevent naming conflicts
		 * @param {AbbreviationNode} node
		 * @param {Number} offset Tab index offset
		 * @returns {Number} Maximum tabstop index in element
		 */
		upgrade: function(node, offset) {
			var maxNum = 0;
			var options = {
				tabstop: function(data) {
					var group = parseInt(data.group, 10);
					if (group > maxNum) maxNum = group;

					if (data.placeholder)
						return '${' + (group + offset) + ':' + data.placeholder + '}';
					else
						return '${' + (group + offset) + '}';
				}
			};

			['start', 'end', 'content'].forEach(function(p) {
				node[p] = this.processText(node[p], options);
			}, this);

			return maxNum;
		},

		/**
		 * Helper function that produces a callback function for
		 * <code>replaceVariables()</code> method from {@link utils}
		 * module. This callback will replace variable definitions (like
		 * ${var_name}) with their value defined in <i>resource</i> module,
		 * or outputs tabstop with variable name otherwise.
		 * @param {AbbreviationNode} node Context node
		 * @returns {Function}
		 */
		variablesResolver: function(node) {
			var placeholderMemo = {};
			return function(str, varName) {
				// do not mark `child` variable as placeholder ‚Äì it‚Äòs a reserved
				// variable name
				if (varName == 'child') {
					return str;
				}

				if (varName == 'cursor') {
					return utils.getCaretPlaceholder();
				}

				var attr = node.attribute(varName);
				if (typeof attr !== 'undefined' && attr !== str) {
					return attr;
				}

				var varValue = resources.getVariable(varName);
				if (varValue) {
					return varValue;
				}

				// output as placeholder
				if (!placeholderMemo[varName]) {
					placeholderMemo[varName] = startPlaceholderNum++;
				}

				return '${' + placeholderMemo[varName] + ':' + varName + '}';
			};
		},

		/**
		 * Replace variables like ${var} in string
		 * @param {String} str
		 * @param {Object} vars Variable set (defaults to variables defined in
		 * <code>snippets.json</code>) or variable resolver (<code>Function</code>)
		 * @return {String}
		 */
		replaceVariables: function(str, vars) {
			vars = vars || {};
			var resolver = typeof vars === 'function' ? vars : function(str, p1) {
				return p1 in vars ? vars[p1] : null;
			};

			return this.processText(str, {
				variable: function(data) {
					var newValue = resolver(data.token, data.name, data);
					if (newValue === null) {
						// try to find variable in resources
						newValue = resources.getVariable(data.name);
					}

					if (newValue === null || typeof newValue === 'undefined')
						// nothing found, return token itself
						newValue = data.token;
					return newValue;
				}
			});
		},

		/**
		 * Resets global tabstop index. When parsed tree is converted to output
		 * string (<code>AbbreviationNode.toString()</code>), all tabstops
		 * defined in snippets and elements are upgraded in order to prevent
		 * naming conflicts of nested. For example, <code>${1}</code> of a node
		 * should not be linked with the same placehilder of the child node.
		 * By default, <code>AbbreviationNode.toString()</code> automatically
		 * upgrades tabstops of the same index for each node and writes maximum
		 * tabstop index into the <code>tabstopIndex</code> variable. To keep
		 * this variable at reasonable value, it is recommended to call
		 * <code>resetTabstopIndex()</code> method each time you expand variable
		 * @returns
		 */
		resetTabstopIndex: function() {
			tabstopIndex = 0;
			startPlaceholderNum = 100;
		},

		/**
		 * Output processor for abbreviation parser that will upgrade tabstops
		 * of parsed node in order to prevent tabstop index conflicts
		 */
		abbrOutputProcessor: function(text, node, type) {
			var maxNum = 0;
			var that = this;

			var tsOptions = {
				tabstop: function(data) {
					var group = parseInt(data.group, 10);
					if (group === 0)
						return '${0}';

					if (group > maxNum) maxNum = group;
					if (data.placeholder) {
						// respect nested placeholders
						var ix = group + tabstopIndex;
						var placeholder = that.processText(data.placeholder, tsOptions);
						return '${' + ix + ':' + placeholder + '}';
					} else {
						return '${' + (group + tabstopIndex) + '}';
					}
				}
			};

			// upgrade tabstops
			text = this.processText(text, tsOptions);

			// resolve variables
			text = this.replaceVariables(text, this.variablesResolver(node));

			tabstopIndex += maxNum + 1;
			return text;
		}
	};
});
},{"../utils/common":73,"./resources":31,"./stringStream":32}],34:[function(require,module,exports){
/**
 * Helper class for convenient token iteration
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	/**
	 * @type TokenIterator
	 * @param {Array} tokens
	 * @type TokenIterator
	 * @constructor
	 */
	function TokenIterator(tokens) {
		/** @type Array */
		this.tokens = tokens;
		this._position = 0;
		this.reset();
	}

	TokenIterator.prototype = {
		next: function() {
			if (this.hasNext()) {
				var token = this.tokens[++this._i];
				this._position = token.start;
				return token;
			} else {
				this._i = this._il;
			}

			return null;
		},

		current: function() {
			return this.tokens[this._i];
		},

		peek: function() {
			return this.tokens[this._i + i];
		},

		position: function() {
			return this._position;
		},

		hasNext: function() {
			return this._i < this._il - 1;
		},

		reset: function() {
			this._i = 0;
			this._il = this.tokens.length;
		},

		item: function() {
			return this.tokens[this._i];
		},

		itemNext: function() {
			return this.tokens[this._i + 1];
		},

		itemPrev: function() {
			return this.tokens[this._i - 1];
		},

		nextUntil: function(type, callback) {
			var token;
			var test = typeof type == 'string'
				? function(t){return t.type == type;}
				: type;

			while ((token = this.next())) {
				if (callback)
					callback.call(this, token);
				if (test.call(this, token))
					break;
			}
		}
	};

	return {
		create: function(tokens) {
			return new TokenIterator(tokens);
		}
	};
});
},{}],35:[function(require,module,exports){
module.exports={
	"eras": {
		"e-26": "26 versions back",
		"e-25": "25 versions back",
		"e-24": "24 versions back",
		"e-23": "23 versions back",
		"e-22": "22 versions back",
		"e-21": "21 versions back",
		"e-20": "20 versions back",
		"e-19": "19 versions back",
		"e-18": "18 versions back",
		"e-17": "17 versions back",
		"e-16": "16 versions back",
		"e-15": "15 versions back",
		"e-14": "14 versions back",
		"e-13": "13 versions back",
		"e-12": "12 versions back",
		"e-11": "11 versions back",
		"e-10": "10 versions back",
		"e-9": "9 versions back",
		"e-8": "8 versions back",
		"e-7": "7 versions back",
		"e-6": "6 versions back",
		"e-5": "5 versions back",
		"e-4": "4 versions back",
		"e-3": "3 versions back",
		"e-2": "2 versions back",
		"e-1": "Previous version",
		"e0": "Current",
		"e1": "Near future",
		"e2": "Farther future"
	},
	"agents": {
		"ie": {
			"browser": "IE",
			"abbr": "IE",
			"prefix": "ms",
			"type": "desktop",
			"usage_global": {
				"10": 10.7866,
				"11": 0.114751,
				"5.5": 0.009298,
				"6": 0.204912,
				"7": 0.508182,
				"8": 8.31124,
				"9": 5.21297
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "5.5", "6", "7", "8", "9", "10", "11", null, null],
			"current_version": ""
		},
		"firefox": {
			"browser": "Firefox",
			"abbr": "FF",
			"prefix": "moz",
			"type": "desktop",
			"usage_global": {
				"10": 0.112406,
				"11": 0.088319,
				"12": 0.208754,
				"13": 0.096348,
				"14": 0.096348,
				"15": 0.136493,
				"16": 0.264957,
				"17": 0.192696,
				"18": 0.112406,
				"19": 0.128464,
				"2": 0.016058,
				"20": 0.16058,
				"21": 0.216783,
				"22": 0.256928,
				"23": 0.907277,
				"24": 11.0318,
				"25": 0.529914,
				"26": 0.016058,
				"27": 0.016058,
				"3": 0.088319,
				"3.5": 0.040145,
				"3.6": 0.305102,
				"4": 0.072261,
				"5": 0.048174,
				"6": 0.048174,
				"7": 0.040145,
				"8": 0.072261,
				"9": 0.056203
			},
			"versions": [null, "2", "3", "3.5", "3.6", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27"],
			"current_version": ""
		},
		"chrome": {
			"browser": "Chrome",
			"abbr": "Chr.",
			"prefix": "webkit",
			"type": "desktop",
			"usage_global": {
				"10": 0.048174,
				"11": 0.112406,
				"12": 0.064232,
				"13": 0.056203,
				"14": 0.056203,
				"15": 0.072261,
				"16": 0.048174,
				"17": 0.040145,
				"18": 0.08029,
				"19": 0.040145,
				"20": 0.040145,
				"21": 0.48174,
				"22": 0.248899,
				"23": 0.216783,
				"24": 0.200725,
				"25": 0.361305,
				"26": 0.353276,
				"27": 0.369334,
				"28": 0.610204,
				"29": 5.08236,
				"30": 24.6089,
				"31": 0.16058,
				"32": 0.064232,
				"4": 0.024087,
				"5": 0.024087,
				"6": 0.032116,
				"7": 0.024087,
				"8": 0.032116,
				"9": 0.024087
			},
			"versions": ["4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32"],
			"current_version": ""
		},
		"safari": {
			"browser": "Safari",
			"abbr": "Saf.",
			"prefix": "webkit",
			"type": "desktop",
			"usage_global": {
				"3.1": 0,
				"3.2": 0.008692,
				"4": 0.104377,
				"5": 0.305102,
				"5.1": 1.28464,
				"6": 2.04739,
				"6.1": 0.064232,
				"7": 0.16058
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "3.1", "3.2", "4", "5", "5.1", "6", "6.1", "7", null, null],
			"current_version": ""
		},
		"opera": {
			"browser": "Opera",
			"abbr": "Op.",
			"prefix": "o",
			"type": "desktop",
			"usage_global": {
				"10.0-10.1": 0.016058,
				"10.5": 0.008392,
				"10.6": 0.008029,
				"11": 0.008219,
				"11.1": 0.008219,
				"11.5": 0.016058,
				"11.6": 0.032116,
				"12": 0.040145,
				"12.1": 0.48174,
				"15": 0.032116,
				"16": 0.104377,
				"17": 0.16058,
				"18": 0,
				"9.5-9.6": 0.008219
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, "9.5-9.6", "10.0-10.1", "10.5", "10.6", "11", "11.1", "11.5", "11.6", "12", "12.1", "15", "16", "17", "18", null],
			"current_version": "",
			"prefix_exceptions": {
				"15": "webkit",
				"16": "webkit",
				"17": "webkit",
				"18": "webkit"
			}
		},
		"ios_saf": {
			"browser": "iOS Safari",
			"abbr": "iOS",
			"prefix": "webkit",
			"type": "mobile",
			"usage_global": {
				"3.2": 0.00400113,
				"4.0-4.1": 0.00800226,
				"4.2-4.3": 0.0280079,
				"5.0-5.1": 0.28408,
				"6.0-6.1": 1.15633,
				"7.0": 2.52071
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "3.2", "4.0-4.1", "4.2-4.3", "5.0-5.1", "6.0-6.1", "7.0", null, null],
			"current_version": ""
		},
		"op_mini": {
			"browser": "Opera Mini",
			"abbr": "O.Mini",
			"prefix": "o",
			"type": "mobile",
			"usage_global": {
				"5.0-7.0": 4.58374
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "5.0-7.0", null, null],
			"current_version": ""
		},
		"android": {
			"browser": "Android Browser",
			"abbr": "And.",
			"prefix": "webkit",
			"type": "mobile",
			"usage_global": {
				"2.1": 0.0251229,
				"2.2": 0.0854178,
				"2.3": 1.32146,
				"3": 0.00502458,
				"4": 0.994867,
				"4.1": 1.87417,
				"4.2-4.3": 0.743638,
				"4.4": 0
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "2.1", "2.2", "2.3", "3", "4", "4.1", "4.2-4.3", "4.4", null],
			"current_version": ""
		},
		"op_mob": {
			"browser": "Opera Mobile",
			"abbr": "O.Mob",
			"prefix": "o",
			"type": "mobile",
			"usage_global": {
				"0": 0,
				"10": 0,
				"11.5": 0.00726525,
				"12": 0.0363263,
				"12.1": 0.101714
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "10", null, null, "11.5", "12", "12.1", "0", null, null],
			"current_version": "16",
			"prefix_exceptions": {
				"0": "webkit"
			}
		},
		"bb": {
			"browser": "Blackberry Browser",
			"abbr": "BB",
			"prefix": "webkit",
			"type": "mobile",
			"usage_global": {
				"10": 0,
				"7": 0.141419
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "7", "10", null, null],
			"current_version": ""
		},
		"and_chr": {
			"browser": "Chrome for Android",
			"abbr": "Chr/And.",
			"prefix": "webkit",
			"type": "mobile",
			"usage_global": {
				"0": 1.38176
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "0", null, null],
			"current_version": "30"
		},
		"and_ff": {
			"browser": "Firefox for Android",
			"abbr": "FF/And.",
			"prefix": "moz",
			"type": "mobile",
			"usage_global": {
				"0": 0.070956
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "0", null, null],
			"current_version": "25"
		},
		"ie_mob": {
			"browser": "IE Mobile",
			"abbr": "IE.Mob",
			"prefix": "ms",
			"type": "mobile",
			"usage_global": {
				"10": 0.205595
			},
			"versions": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "10", null, null],
			"current_version": ""
		}
	},
	"statuses": {
		"rec": "Recommendation",
		"pr": "Proposed Recommendation",
		"cr": "Candidate Recommendation",
		"wd": "Working Draft",
		"other": "Other",
		"unoff": "Unofficial / Note"
	},
	"cats": {
		"CSS": ["CSS", "CSS2", "CSS3"],
		"HTML5": ["Canvas", "HTML5"],
		"JS API": ["JS API"],
		"Other": ["PNG", "Other", "DOM"],
		"SVG": ["SVG"]
	},
	"updated": 1383587152,
	"data": {
		"png-alpha": {
			"title": "PNG alpha transparency",
			"description": "Semi-transparent areas in PNG files",
			"spec": "http://www.w3.org/TR/PNG/",
			"status": "rec",
			"links": [{
				"url": "http://dillerdesign.com/experiment/DD_belatedPNG/",
				"title": "Workaround for IE6"
			}, {
				"url": "http://en.wikipedia.org/wiki/Portable_Network_Graphics",
				"title": "Wikipedia"
			}],
			"categories": ["PNG"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "IE6 does support full transparency in 8-bit PNGs, which can sometimes be an alternative to 24-bit PNGs.",
			"usage_perc_y": 94.36,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"apng": {
			"title": "Animated PNG (APNG)",
			"description": "Like animated GIFs, but allowing 24-bit colors and alpha transparency",
			"spec": "https://wiki.mozilla.org/APNG_Specification",
			"status": "unoff",
			"links": [{
				"url": "http://en.wikipedia.org/wiki/APNG",
				"title": "Wikipedia"
			}, {
				"url": "https://github.com/davidmz/apng-canvas",
				"title": "Polyfill using canvas"
			}, {
				"url": "https://chrome.google.com/webstore/detail/ehkepjiconegkhpodgoaeamnpckdbblp",
				"title": "Chrome extension providing support"
			}, {
				"url": "http://www.truekolor.net/learn-how-to-create-an-animated-png/",
				"title": "APNG tutorial"
			}],
			"categories": ["PNG"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "n",
					"32": "n"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Where support for APNG is missing, only the first frame is displayed",
			"usage_perc_y": 16.19,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"video": {
			"title": "Video element",
			"description": "Method of playing videos on webpages (without requiring a plug-in)",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#video",
			"status": "wd",
			"links": [{
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/video.js#video",
				"title": "has.js test"
			}, {
				"url": "http://webmproject.org",
				"title": "WebM format information"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/elements/video",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://camendesign.co.uk/code/video_for_everybody",
				"title": "Video for Everybody"
			}, {
				"url": "http://diveinto.org/html5/video.html",
				"title": "Video on the Web - includes info on Android support"
			}, {
				"url": "http://dev.opera.com/articles/view/everything-you-need-to-know-about-html5-video-and-audio/",
				"title": "Detailed article on video/audio elements"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a",
					"2.2": "a",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Different browsers have support for different video formats, see sub-features for details. \r\n\r\nThe Android browser (before 2.3) requires <a href=\"http://www.broken-links.com/2010/07/08/making-html5-video-work-on-android-phones/\">specific handling</a> to run the video element.",
			"usage_perc_y": 80.71,
			"usage_perc_a": 0.11,
			"ucprefix": false,
			"parent": "",
			"keywords": "<video>"
		},
		"audio": {
			"title": "Audio element",
			"description": "Method of playing sound on webpages (without requiring a plug-in)",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#audio",
			"status": "wd",
			"links": [{
				"url": "http://html5doctor.com/native-audio-in-the-browser/",
				"title": "HTML5 Doctor article"
			}, {
				"url": "http://textopia.org/androidsoundformats.html",
				"title": "File format test page"
			}, {
				"url": "http://www.jplayer.org/latest/demos/",
				"title": "Demos of audio player that uses &lt;audio>"
			}, {
				"url": "http://www.phoboslab.org/log/2011/03/the-state-of-html5-audio",
				"title": "The State of HTML5 Audio"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/audio.js#audio",
				"title": "has.js test"
			}, {
				"url": "http://dev.opera.com/articles/view/everything-you-need-to-know-about-html5-video-and-audio/",
				"title": "Detailed article on video/audio elements"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/elements/audio",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://24ways.org/2010/the-state-of-html5-audio",
				"title": "Detailed article on support"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "a",
					"10.0-10.1": "a",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 80.7,
			"usage_perc_a": 0.02,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"contenteditable": {
			"title": "contenteditable attribute (basic support)",
			"description": "Method of making any HTML element editable",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#contenteditable",
			"status": "wd",
			"links": [{
				"url": "http://accessgarage.wordpress.com/2009/05/08/how-to-hack-your-app-to-make-contenteditable-work/",
				"title": "Blog post on usage problems"
			}, {
				"url": "http://html5demos.com/contenteditable",
				"title": "Demo page"
			}, {
				"url": "http://blog.whatwg.org/the-road-to-html-5-contenteditable",
				"title": "WHATWG blog post"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/attributes/contentEditable",
				"title": "WebPlatform Docs"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "a",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "This support only refers to very basic editing capability, implementations vary significantly on how certain elements can be edited.",
			"usage_perc_y": 88.37,
			"usage_perc_a": 0.09,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"dragndrop": {
			"title": "Drag and Drop",
			"description": "Method of easily dragging and dropping elements on a page, requiring minimal JavaScript.",
			"spec": "http://www.w3.org/TR/html5/editing.html#dnd",
			"status": "wd",
			"links": [{
				"url": "http://html5demos.com/drag",
				"title": "Demo with link blocks"
			}, {
				"url": "http://html5doctor.com/native-drag-and-drop/",
				"title": "HTML5 Doctor article"
			}, {
				"url": "http://docs.webplatform.org/wiki/dom/events/drag",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://nettutsplus.s3.amazonaws.com/64_html5dragdrop/demo/index.html",
				"title": "Shopping cart demo"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "p",
					"9.5-9.6": "p",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"11.6": "p",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"12": "p",
					"12.1": "y",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support in older IE refers to no support for the dataTransfer.files or .types objects and limited supported formats for dataTransfer.setData/getData.",
			"usage_perc_y": 64.83,
			"usage_perc_a": 14.25,
			"ucprefix": false,
			"parent": "",
			"keywords": "draganddrop"
		},
		"queryselector": {
			"title": "querySelector/querySelectorAll",
			"description": "Method of accessing DOM elements using CSS selectors",
			"spec": "http://www.w3.org/TR/selectors-api/",
			"status": "rec",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/selectors_api/querySelector",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://cjihrig.com/blog/javascripts-selectors-api/",
				"title": "Blog post"
			}, {
				"url": "https://developer.mozilla.org/En/DOM/Element.querySelectorAll",
				"title": "MDN article on querySelectorAll"
			}, {
				"url": "https://developer.mozilla.org/en/DOM/element.querySelector",
				"title": "MDN article on querySelector"
			}],
			"categories": ["DOM"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "p",
					"9.5-9.6": "p",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Only works for the CSS selectors available. Thus the IE8 implementation is limited to the CSS 2.1 selectors",
			"usage_perc_y": 93.74,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "query,selectors,selectors api"
		},
		"getelementsbyclassname": {
			"title": "getElementsByClassName",
			"description": "Method of accessing DOM elements by class name",
			"spec": "http://www.w3.org/TR/dom/#dom-document-getelementsbyclassname",
			"status": "wd",
			"links": [{
				"url": "http://www.quirksmode.org/dom/tests/basics.html#getElementsByClassName",
				"title": "Test page"
			}, {
				"url": "http://docs.webplatform.org/wiki/dom/methods/getElementsByClassName",
				"title": "WebPlatform Docs"
			}],
			"categories": ["DOM", "HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 85.52,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "byclassname"
		},
		"forms": {
			"title": "HTML5 form features",
			"description": "Expanded form options, including things like date pickers, sliders, validation, placeholders and multiple file uploads. Previously known as \"Web forms 2.0\".",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html",
			"status": "wd",
			"links": [{
				"url": "https://github.com/westonruter/webforms2",
				"title": "Cross-browser JS implementation (based on original spec)"
			}, {
				"url": "http://www.miketaylr.com/code/input-type-attr.html",
				"title": "HTML5 inputs and attribute support page"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "p",
					"3.6": "p",
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a"
				},
				"chrome": {
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a",
					"28": "a",
					"29": "a",
					"30": "a",
					"31": "a",
					"32": "a"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "a",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "a"
				},
				"bb": {
					"7": "n",
					"10": "a"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "a"
				},
				"and_chr": {
					"0": "a"
				},
				"and_ff": {
					"0": "a"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "",
			"usage_perc_y": 4.75,
			"usage_perc_a": 65.35,
			"ucprefix": false,
			"parent": "",
			"keywords": "input,datepicker"
		},
		"html5semantic": {
			"title": "New semantic elements",
			"description": "HTML5 offers some new elements, primarily for semantic purposes. The elements include: section, article, aside, header, footer, nav, figure, figcaption, time, mark.",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#sections",
			"status": "wd",
			"links": [{
				"url": "http://oli.jp/2009/html5-structure3/",
				"title": "Article on structural elements"
			}, {
				"url": "http://blog.whatwg.org/supporting-new-elements-in-ie",
				"title": "Workaround for IE"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/dom.js#dom-html5-elements",
				"title": "has.js test"
			}, {
				"url": "http://blog.whatwg.org/styling-ie-noscript",
				"title": "Alternate workaround"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "a",
					"3.5": "a",
					"3.6": "a",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "a",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a",
					"3.2": "a",
					"4": "a",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "a",
					"9.5-9.6": "a",
					"10.0-10.1": "a",
					"10.5": "a",
					"10.6": "a",
					"11": "a",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "a",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "a",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support refers to missing the default styling. This is easily taken care of by using display:block for all new elements (except time and mark, these should be display:inline anyway).",
			"usage_perc_y": 80.26,
			"usage_perc_a": 5.26,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"offline-apps": {
			"title": "Offline web applications",
			"description": "Method of defining web page files to be cached using a cache manifest file, allowing them to work offline on subsequent visits to the page",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html",
			"status": "wd",
			"links": [{
				"url": "http://www.sitepoint.com/offline-web-application-tutorial/",
				"title": "Sitepoint tutorial"
			}, {
				"url": "http://diveinto.org/html5/offline.html",
				"title": "Dive Into HTML5 article"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/appcache/ApplicationCache",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://hacks.mozilla.org/2010/01/offline-web-applications/",
				"title": "Mozilla Hacks article/demo"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "a",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 75.59,
			"usage_perc_a": 0.09,
			"ucprefix": false,
			"parent": "",
			"keywords": "appcache,app cache,application cache,online"
		},
		"webworkers": {
			"title": "Web Workers",
			"description": "Method of running scripts in the background, isolated from the web page",
			"spec": "http://www.w3.org/TR/workers/",
			"status": "cr",
			"links": [{
				"url": "http://code.google.com/p/ie-web-worker/",
				"title": "Polyfill for IE (single threaded)"
			}, {
				"url": "http://net.tutsplus.com/tutorials/javascript-ajax/getting-started-with-web-workers/",
				"title": "Tutorial"
			}, {
				"url": "https://developer.mozilla.org/En/Using_web_workers",
				"title": "MDN article"
			}, {
				"url": "http://nerget.com/rayjs-mt/rayjs.html",
				"title": "Web Worker demo"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "p",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 70.53,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"fontface": {
			"title": "@font-face Web fonts",
			"description": "Method of displaying fonts downloaded from websites",
			"spec": "http://www.w3.org/TR/css3-webfonts/",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/atrules/@font-face",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.css3files.com/font/",
				"title": "Information page"
			}, {
				"url": "http://webfonts.info",
				"title": "News and information site"
			}, {
				"url": "http://en.wikipedia.org/wiki/Web_typography",
				"title": "Wikipedia"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "a",
					"2.3": "a",
					"3": "a",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "a",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support before IE8 refers to only supporting EOT fonts. Safari for iOS 4.1 and below only supports SVG fonts.",
			"usage_perc_y": 79.25,
			"usage_perc_a": 10.6,
			"ucprefix": false,
			"parent": "",
			"keywords": "font face"
		},
		"eot": {
			"title": "EOT - Embedded OpenType fonts",
			"description": "Type of font that can be derived from a regular font, allowing small files and legal use of high-quality fonts. Usage is restricted by the file being tied to the website",
			"spec": "http://www.w3.org/Submission/EOT/",
			"status": "unoff",
			"links": [{
				"url": "http://www.microsoft.com/typography/web/embedding/default.aspx",
				"title": "Example pages"
			}, {
				"url": "http://en.wikipedia.org/wiki/Embedded_OpenType",
				"title": "Wikipedia"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "n",
					"32": "n"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Proposal by Microsoft, being considered for W3C standardization.",
			"usage_perc_y": 25.14,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "fontface",
			"keywords": ""
		},
		"woff": {
			"title": "WOFF - Web Open Font Format",
			"description": "Compressed TrueType/OpenType font that contains information about the font's source.",
			"spec": "http://www.w3.org/TR/WOFF/",
			"status": "rec",
			"links": [{
				"url": "http://hacks.mozilla.org/2009/10/woff/",
				"title": "Mozilla hacks blog post"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Reported to be supported in some modified versions of the Android 4.0 browser.",
			"usage_perc_y": 75.23,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "fontface",
			"keywords": ""
		},
		"multibackgrounds": {
			"title": "CSS3 Multiple backgrounds",
			"description": "Method of using multiple images as a background",
			"spec": "http://www.w3.org/TR/css3-background/",
			"status": "cr",
			"links": [{
				"url": "http://www.css3.info/preview/multiple-backgrounds/",
				"title": "Demo & information page"
			}, {
				"url": "http://www.css3files.com/background/",
				"title": "Information page"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/background-image",
				"title": "WebPlatform Docs"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 85.37,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"border-image": {
			"title": "CSS3 Border images",
			"description": "Method of using images for borders",
			"spec": "http://www.w3.org/TR/css3-background/#the-border-image",
			"status": "cr",
			"links": [{
				"url": "http://www.css3files.com/border/",
				"title": "Information page"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/border-image",
				"title": "WebPlatform Docs"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "a x",
					"3.6": "a x",
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "y x",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a x",
					"3.2": "a x",
					"4": "a x",
					"5": "a x",
					"5.1": "a x",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "a",
					"10.6": "a",
					"11": "a x",
					"11.1": "a x",
					"11.5": "a x",
					"11.6": "a x",
					"12": "a x",
					"12.1": "a x",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a x",
					"4.0-4.1": "a x",
					"4.2-4.3": "a x",
					"5.0-5.1": "a x",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a x",
					"2.2": "a x",
					"2.3": "a x",
					"3": "a x",
					"4": "a x",
					"4.1": "a x",
					"4.2-4.3": "a x",
					"4.4": "y"
				},
				"bb": {
					"7": "a x",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "a x",
					"11.1": "a x",
					"11.5": "a x",
					"12": "a x",
					"12.1": "a x",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "In Firefox both the border-style and border-width must be specified for border-images to work. Partial support refers to supporting the shorthand syntax, but not the individual properties (border-image-source, border-image-slice, etc).",
			"usage_perc_y": 54.86,
			"usage_perc_a": 9.76,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"background-img-opts": {
			"title": "CSS3 Background-image options",
			"description": "New properties to affect background images, including background-clip, background-origin and background-size",
			"spec": "http://www.w3.org/TR/css3-background/#backgrounds",
			"status": "cr",
			"links": [{
				"url": "https://github.com/louisremi/background-size-polyfill",
				"title": "Polyfill for IE7-8"
			}, {
				"url": "http://www.standardista.com/css3/css3-background-properties",
				"title": "Detailed compatibility tables and demos"
			}, {
				"url": "http://www.css3files.com/background/",
				"title": "Information page"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "a x",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a",
					"3.2": "a",
					"4": "a",
					"5": "y",
					"5.1": "y",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "a x",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "a x",
					"2.2": "y x",
					"2.3": "y x",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support in Opera Mini refers to not supporting background sizing or background attachments. Partial support in Safari 6 refers to not supporting background sizing offset from edges syntax.",
			"usage_perc_y": 78.07,
			"usage_perc_a": 7.32,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"css-table": {
			"title": "CSS Table display",
			"description": "Method of displaying elements as tables, rows, and cells",
			"spec": "http://www.w3.org/TR/CSS21/tables.html",
			"status": "rec",
			"links": [{
				"url": "http://blog.12spokes.com/web-design-development/when-to-choose-between-the-html-table-element-and-css-displaytable-property/",
				"title": "Deciding on HTML or CSS tables"
			}, {
				"url": "http://www.onenaught.com/posts/201/use-css-displaytable-for-layout",
				"title": "Blog post on usage"
			}],
			"categories": ["CSS2"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 93.86,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "display:table, display: table,table-cell,table-row,table-layout"
		},
		"css-gencontent": {
			"title": "CSS Generated content",
			"description": "Method of displaying text or images before or after the given element's contents using the :before and :after pseudo-elements",
			"spec": "http://www.w3.org/TR/CSS21/generate.html",
			"status": "rec",
			"links": [{
				"url": "http://www.westciv.com/style_master/academy/css_tutorial/advanced/generated_content.html",
				"title": "Guide on usage"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/generated_and_replaced_content",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://dev.opera.com/articles/view/css-generated-content-techniques/",
				"title": "Dev.Opera article"
			}],
			"categories": ["CSS2", "CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "a",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "IE8 only supports the single-colon CSS 2.1 syntax (i.e. pseudo-class). It does not support the double-colon CSS3 syntax (i.e. pseudo-element)",
			"usage_perc_y": 85.55,
			"usage_perc_a": 8.31,
			"ucprefix": false,
			"parent": "",
			"keywords": "before,after"
		},
		"css-fixed": {
			"title": "CSS position:fixed",
			"description": "Method of keeping an element in a fixed location regardless of scroll position",
			"spec": "http://www.w3.org/TR/CSS21/visuren.html#fixed-positioning",
			"status": "rec",
			"links": [{
				"url": "http://www.css-101.org/fixed-positioning/05.php",
				"title": "Workaround for IE6"
			}, {
				"url": "http://bradfrostweb.com/blog/mobile/fixed-position/",
				"title": "Article on mobile support"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/position",
				"title": "WebPlatform Docs"
			}],
			"categories": ["CSS"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a",
					"2.2": "a",
					"2.3": "a",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Only works in Android 2.2+ by using the following meta tag: &lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no\">. Partial support in iOS Safari refers to <a href=\"http://remysharp.com/2012/05/24/issues-with-position-fixed-scrolling-on-ios/\">buggy behavior</a>.",
			"usage_perc_y": 84.35,
			"usage_perc_a": 5.39,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"hashchange": {
			"title": "Hashchange event",
			"description": "Event triggered in JavaScript when the URL's hash has changed (for example: page.html#foo to page.html#bar) ",
			"spec": "http://www.w3.org/TR/html5/history.html#event-hashchange",
			"status": "cr",
			"links": [{
				"url": "http://www.quirksmode.org/dom/events/tests/hashchange.html",
				"title": "Simple demo"
			}, {
				"url": "http://docs.webplatform.org/wiki/dom/events/hashchange",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/en/DOM/window.onhashchange",
				"title": "MDN article"
			}, {
				"url": "http://github.com/3nr1c/jUri.js",
				"title": "Polyfill"
			}, {
				"url": "http://msdn.microsoft.com/en-us/library/cc288209(VS.85).aspx",
				"title": "MSDN article"
			}],
			"categories": ["HTML5", "JS API"],
			"stats": {
				"ie": {
					"5.5": "p",
					"6": "p",
					"7": "p",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "p",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "p",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "p",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "p",
					"9.5-9.6": "p",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "p",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 88.92,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "onhashchange,HashChangeEvent"
		},
		"css-sel2": {
			"title": "CSS 2.1 selectors",
			"description": "Allows more accurate element selecting, using >, +, [attr], :first-child, etc.",
			"spec": "http://www.w3.org/TR/CSS21/selector.html",
			"status": "rec",
			"links": [{
				"url": "http://www.quirksmode.org/css/contents.html",
				"title": "Detailed support information"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/selectors",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://selectivizr.com",
				"title": "Selectivizr: Polyfill for IE6-8"
			}, {
				"url": "http://www.yourhtmlsource.com/stylesheets/advancedselectors.html",
				"title": "Examples of advanced selectors"
			}],
			"categories": ["CSS2"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 94.36,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "child selector,:hover,adjacent,sibling,adjacent sibling"
		},
		"css-sel3": {
			"title": "CSS3 selectors",
			"description": "Advanced element selection using selectors like :nth-child(), :last-child, :first-of-type, etc.",
			"spec": "http://www.w3.org/TR/css3-selectors/",
			"status": "rec",
			"links": [{
				"url": "http://www.css3.info/selectors-test/",
				"title": "Automated CSS3 selector test"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/selectors",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.quirksmode.org/css/contents.html",
				"title": "Detailed support information"
			}, {
				"url": "http://selectivizr.com",
				"title": "Selectivizr: Polyfill for IE6-8"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 85.43,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ":target,:not"
		},
		"css-textshadow": {
			"title": "CSS3 Text-shadow",
			"description": "Method of applying one or more shadow or blur effects to text",
			"spec": "http://www.w3.org/TR/css-text-decor-3/#text-shadow-property",
			"status": "wd",
			"links": [{
				"url": "http://ie.microsoft.com/testdrive/Graphics/hands-on-css3/hands-on_text-shadow.htm",
				"title": "Live editor"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/text-shadow",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://hacks.mozilla.org/2009/06/text-shadow/",
				"title": "Mozilla hacks article"
			}, {
				"url": "http://www.css3files.com/shadow/#textshadow",
				"title": "Information page"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a",
					"3.2": "a",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "a",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Opera Mini ignores the blur-radius set, so no blur effect is visible. Text-shadow behavior can be somewhat emulated in older IE versions using the non-standard \"dropshadow\" or \"glow\" filters. ",
			"usage_perc_y": 75.49,
			"usage_perc_a": 4.73,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"css-boxshadow": {
			"title": "CSS3 Box-shadow",
			"description": "Method of displaying an inner or outer shadow effect to elements",
			"spec": "http://www.w3.org/TR/css3-background/#box-shadow",
			"status": "cr",
			"links": [{
				"url": "http://www.css3files.com/shadow/",
				"title": "Information page"
			}, {
				"url": "https://developer.mozilla.org/En/CSS/-moz-box-shadow",
				"title": "MDN article"
			}, {
				"url": "http://westciv.com/tools/boxshadows/index.html",
				"title": "Live editor"
			}, {
				"url": "http://tests.themasta.com/blogstuff/boxshadowdemo.html",
				"title": "Demo of various effects"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/box-shadow",
				"title": "WebPlatform Docs"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y x",
					"3.6": "y x",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a x",
					"3.2": "a x",
					"4": "a x",
					"5": "y x",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a x",
					"4.0-4.1": "y x",
					"4.2-4.3": "y x",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a x",
					"2.2": "a x",
					"2.3": "a x",
					"3": "a x",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y x",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Can be partially emulated in older IE versions using the non-standard \"shadow\" filter. Partial support in Safari, iOS Safari and Android Browser refers to missing \"inset\" and blur radius value support.",
			"usage_perc_y": 79.27,
			"usage_perc_a": 1.55,
			"ucprefix": false,
			"parent": "",
			"keywords": "box-shadows,boxshadows,box shadow,shaow"
		},
		"css3-colors": {
			"title": "CSS3 Colors",
			"description": "Method of describing colors using Hue, Saturation and Lightness (hsl()) rather than just RGB, as well as allowing alpha-transparency with rgba() and hsla().",
			"spec": "http://www.w3.org/TR/css3-color/",
			"status": "rec",
			"links": [{
				"url": "http://www.zenelements.com/blog/css3-rgb-rgba-color-opacity/",
				"title": "Guide to RGB & RGBA"
			}, {
				"url": "http://www.css3files.com/color/",
				"title": "Information page"
			}, {
				"url": "http://www.zenelements.com/blog/css3-hsl-hsla-color-opacity/",
				"title": "Guide to HSL & HSLA"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/color#RGBA_Notation",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://dev.opera.com/articles/view/color-in-opera-10-hsl-rgb-and-alpha-transparency/",
				"title": "Dev.Opera article"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "a",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "a",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 85.51,
			"usage_perc_a": 0.02,
			"ucprefix": false,
			"parent": "",
			"keywords": "rgb,hsl,rgba,hsla"
		},
		"css3-boxsizing": {
			"title": "CSS3 Box-sizing",
			"description": "Method of specifying whether or not an element's borders and padding should be included in size units",
			"spec": "http://www.w3.org/TR/css3-ui/#box-sizing",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/properties/box-sizing",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://css-tricks.com/box-sizing/",
				"title": "CSS Tricks"
			}, {
				"url": "https://github.com/Schepp/box-sizing-polyfill",
				"title": "Polyfill for IE"
			}, {
				"url": "https://developer.mozilla.org/En/CSS/Box-sizing",
				"title": "MDN article"
			}, {
				"url": "http://www.456bereastreet.com/archive/201104/controlling_width_with_css3_box-sizing/",
				"title": "Blog post"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "p",
					"6": "p",
					"7": "p",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "y x",
					"3": "y x",
					"3.5": "y x",
					"3.6": "y x",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x"
				},
				"chrome": {
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a",
					"28": "a",
					"29": "a",
					"30": "a",
					"31": "a",
					"32": "a"
				},
				"safari": {
					"3.1": "a x",
					"3.2": "a x",
					"4": "a x",
					"5": "a x",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "a",
					"10.0-10.1": "a",
					"10.5": "a",
					"10.6": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"11.6": "a",
					"12": "a",
					"12.1": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a"
				},
				"ios_saf": {
					"3.2": "a x",
					"4.0-4.1": "a x",
					"4.2-4.3": "a x",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "a x",
					"2.2": "a x",
					"2.3": "a x",
					"3": "a x",
					"4": "a",
					"4.1": "a",
					"4.2-4.3": "a",
					"4.4": "a"
				},
				"bb": {
					"7": "a x",
					"10": "a"
				},
				"op_mob": {
					"10": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"12": "a",
					"12.1": "a",
					"0": "a"
				},
				"and_chr": {
					"0": "a"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "Partial support refers to supporting only the \"border-box\" value, not \"padding-box\" (which was added to the spec later).",
			"usage_perc_y": 15.43,
			"usage_perc_a": 78.42,
			"ucprefix": false,
			"parent": "",
			"keywords": "border-box,content-box,padding-box"
		},
		"css-mediaqueries": {
			"title": "CSS3 Media Queries",
			"description": "Method of applying styles based on media information. Includes things like page and device dimensions",
			"spec": "http://www.w3.org/TR/css3-mediaqueries/",
			"status": "rec",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/atrules/@media",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://ie.microsoft.com/testdrive/HTML5/85CSS3_MediaQueries/",
				"title": "IE demo page with information"
			}, {
				"url": "https://github.com/scottjehl/Respond",
				"title": "Polyfill for IE"
			}, {
				"url": "http://webdesignerwall.com/tutorials/responsive-design-with-css3-media-queries",
				"title": "Media Queries tutorial"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a",
					"3.2": "a",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Incomplete support by older webkit browsers refers to only acknowledging different media rules on page reload",
			"usage_perc_y": 85.42,
			"usage_perc_a": 0.01,
			"ucprefix": false,
			"parent": "",
			"keywords": "@media"
		},
		"multicolumn": {
			"title": "CSS3 Multiple column layout",
			"description": "Method of flowing information in multiple columns",
			"spec": "http://www.w3.org/TR/css3-multicol/",
			"status": "cr",
			"links": [{
				"url": "http://dev.opera.com/articles/view/css3-multi-column-layout/",
				"title": "Dev.Opera article"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/column-width",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://webdesign.tutsplus.com/tutorials/htmlcss-tutorials/an-introduction-to-the-css3-multiple-column-layout-module/",
				"title": "Introduction page"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "a x",
					"3": "a x",
					"3.5": "a x",
					"3.6": "a x",
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "a x",
					"21": "a x",
					"22": "a x",
					"23": "a x",
					"24": "a x",
					"25": "a x",
					"26": "a x",
					"27": "a x"
				},
				"chrome": {
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "a x",
					"21": "a x",
					"22": "a x",
					"23": "a x",
					"24": "a x",
					"25": "a x",
					"26": "a x",
					"27": "a x",
					"28": "a x",
					"29": "a x",
					"30": "a x",
					"31": "a x",
					"32": "a x"
				},
				"safari": {
					"3.1": "a x",
					"3.2": "a x",
					"4": "a x",
					"5": "a x",
					"5.1": "a x",
					"6": "a x",
					"6.1": "a x",
					"7": "a x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x"
				},
				"ios_saf": {
					"3.2": "a x",
					"4.0-4.1": "a x",
					"4.2-4.3": "a x",
					"5.0-5.1": "a x",
					"6.0-6.1": "a x",
					"7.0": "a x"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "a x",
					"2.2": "a x",
					"2.3": "a x",
					"3": "a x",
					"4": "a x",
					"4.1": "a x",
					"4.2-4.3": "a x",
					"4.4": "a x"
				},
				"bb": {
					"7": "a x",
					"10": "a x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "a x"
				},
				"and_chr": {
					"0": "a x"
				},
				"and_ff": {
					"0": "a x"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support refers to not supporting the break-before, break-after, break-inside properties. Webkit browsers do have equivalent support for the non-standard -webkit-column-break-* properties.",
			"usage_perc_y": 16.41,
			"usage_perc_a": 63.85,
			"ucprefix": false,
			"parent": "",
			"keywords": "column-count"
		},
		"border-radius": {
			"title": "CSS3 Border-radius (rounded corners)",
			"description": "Method of making the border corners round",
			"spec": "http://www.w3.org/TR/css3-background/#the-border-radius",
			"status": "cr",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/properties/border-radius",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://muddledramblings.com/table-of-css3-border-radius-compliance",
				"title": "Detailed compliance table"
			}, {
				"url": "http://www.css3files.com/border/#borderradius",
				"title": "Information page"
			}, {
				"url": "http://css3pie.com/",
				"title": "Polyfill which includes border-radius"
			}, {
				"url": "http://border-radius.com",
				"title": "Border-radius CSS Generator"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "a x",
					"3": "y x",
					"3.5": "y x",
					"3.6": "y x",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y x",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y x",
					"3.2": "y x",
					"4": "y x",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y x",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y x",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 80.91,
			"usage_perc_a": 0.02,
			"ucprefix": false,
			"parent": "",
			"keywords": "roundedcorners, border radius,-moz-border-radius"
		},
		"transforms2d": {
			"title": "CSS3 Transforms",
			"description": "Method of transforming an element including rotating, scaling, etc.",
			"spec": "http://www.w3.org/TR/css3-2d-transforms/",
			"status": "wd",
			"links": [{
				"url": "http://www.westciv.com/tools/transforms/",
				"title": "Live editor"
			}, {
				"url": "http://www.useragentman.com/IETransformsTranslator/",
				"title": "Converter for IE"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/transforms/transform",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-transform",
				"title": "has.js test"
			}, {
				"url": "https://developer.mozilla.org/en/CSS/-moz-transform",
				"title": "MDN article"
			}, {
				"url": "http://www.webresourcesdepot.com/cross-browser-css-transforms-csssandpaper/",
				"title": "Workaround script for IE"
			}, {
				"url": "http://www.css3files.com/transform/",
				"title": "Information page"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y x",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y x",
					"3.6": "y x",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "y x",
					"3.2": "y x",
					"4": "y x",
					"5": "y x",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y x",
					"10.6": "y x",
					"11": "y x",
					"11.1": "y x",
					"11.5": "y x",
					"11.6": "y x",
					"12": "y x",
					"12.1": "y",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "y x",
					"4.0-4.1": "y x",
					"4.2-4.3": "y x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y x",
					"2.2": "y x",
					"2.3": "y x",
					"3": "y x",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y x"
				},
				"bb": {
					"7": "y x",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "The scale transform can be emulated in IE < 9 using Microsoft's \"zoom\" extension, others are (not easily) possible using the MS Matrix filter",
			"usage_perc_y": 80.82,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "transformation,translate,rotation,rotate,scale,css-transforms"
		},
		"use-strict": {
			"title": "ECMAScript 5 Strict Mode",
			"description": "Method of placing code in a \"strict\" operating context.",
			"spec": "http://ecma-international.org/ecma-262/5.1/#sec-14.1",
			"status": "other",
			"links": [{
				"url": "http://javascriptweblog.wordpress.com/2011/05/03/javascript-strict-mode/",
				"title": "Article with test suite"
			}, {
				"url": "http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/",
				"title": "Information page"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "a",
					"5.1": "a",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support in older Safari refers to strict mode still accepting a lot of JS that should be considered invalid.",
			"usage_perc_y": 71.65,
			"usage_perc_a": 1.59,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"transforms3d": {
			"title": "CSS3 3D Transforms",
			"description": "Method of transforming an element in the third dimension",
			"spec": "http://www.w3.org/TR/css3-3d-transforms/",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/transforms/transform",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://css3.bradshawenterprises.com/flip/",
				"title": "Multi-browser demo"
			}, {
				"url": "http://thewebrocks.com/demos/3D-css-tester/",
				"title": "3D CSS Tester"
			}, {
				"url": "http://hacks.mozilla.org/2011/10/css-3d-transformations-in-firefox-nightly/",
				"title": "Mozilla hacks article"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-transform",
				"title": "has.js test"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y x",
					"5": "y x",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "y x",
					"4.0-4.1": "y x",
					"4.2-4.3": "y x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y x",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y x"
				},
				"bb": {
					"7": "y x",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "Partial support in IE10 refers to not supporting <a href=\"http://msdn.microsoft.com/en-us/library/ie/hh673529%28v=vs.85%29.aspx#the_ms_transform_style_property\">the transform-style: preserve-3d property</a>. This prevents nesting 3D transformed elements.",
			"usage_perc_y": 61.31,
			"usage_perc_a": 11.11,
			"ucprefix": false,
			"parent": "",
			"keywords": "css 3d,3dtransforms,translate3d,transform3d"
		},
		"sharedworkers": {
			"title": "Shared Web Workers",
			"description": "Method of allowing multiple scripts to communicate with a single web worker.",
			"spec": "http://www.w3.org/TR/workers/#shared-workers-introduction",
			"status": "cr",
			"links": [{
				"url": "http://www.sitepoint.com/javascript-shared-web-workers-html5/",
				"title": "Sitepoint article"
			}, {
				"url": "http://greenido.wordpress.com/2011/11/03/web-workers-part-3-out-of-3-shared-wrokers/",
				"title": "Blog post"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "u",
					"27": "u"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "u",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Expected to be supported in Firefox 27.",
			"usage_perc_y": 40.07,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "webworkers",
			"keywords": "shared worker"
		},
		"css-hyphens": {
			"title": "CSS Hyphenation",
			"description": "Method of controlling when words at the end of lines should be hyphenated using the \"hyphens\" property.",
			"spec": "http://www.w3.org/TR/css3-text/#hyphenation",
			"status": "wd",
			"links": [{
				"url": "https://developer.mozilla.org/en/CSS/hyphens",
				"title": "MDN article"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/hyphens",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://blog.fontdeck.com/post/9037028497/hyphens",
				"title": "Blog post"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y x",
					"11": "y x"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "n",
					"32": "n"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "y x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Chrome 29- and Android 4.0 Browser support \"-webkit-hyphens: none\", but not the \"auto\" property. Chrome 30+ doesn't support it either.",
			"usage_perc_y": 33.31,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "hyphen,shy"
		},
		"css-transitions": {
			"title": "CSS3 Transitions",
			"description": "Simple method of animating certain properties of an element",
			"spec": "http://www.w3.org/TR/css3-transitions/",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/properties/transition",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.webdesignerdepot.com/2010/01/css-transitions-101/",
				"title": "Article on usage"
			}, {
				"url": "http://www.opera.com/docs/specs/presto2.12/css/transitions/#anima",
				"title": "Animation of property types support in Opera"
			}, {
				"url": "http://www.css3files.com/transition/",
				"title": "Information page"
			}, {
				"url": "http://www.the-art-of-web.com/css/timing-function/",
				"title": "Examples on timing functions"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y x",
					"3.2": "y x",
					"4": "y x",
					"5": "y x",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y x",
					"10.6": "y x",
					"11": "y x",
					"11.1": "y x",
					"11.5": "y x",
					"11.6": "y x",
					"12": "y x",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y x",
					"4.0-4.1": "y x",
					"4.2-4.3": "y x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y x",
					"2.2": "y x",
					"2.3": "y x",
					"3": "y x",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y"
				},
				"bb": {
					"7": "y x",
					"10": "y x"
				},
				"op_mob": {
					"10": "y x",
					"11": "y x",
					"11.1": "y x",
					"11.5": "y x",
					"12": "y x",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 75.27,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "css transition"
		},
		"font-feature": {
			"title": "Font feature settings",
			"description": "Method of applying advanced typographic and language-specific font features to supported OpenType fonts.",
			"spec": "http://w3.org/TR/css3-fonts/#font-rend-props",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/properties/font-feature-settings",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://hacks.mozilla.org/2010/11/firefox-4-font-feature-support/",
				"title": "Mozilla hacks article"
			}, {
				"url": "http://html5accessibility.com/",
				"title": "Detailed tables on accessability support"
			}, {
				"url": "http://ie.microsoft.com/testdrive/Graphics/opentype/",
				"title": "Demo pages (IE/Firefox only)"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "a x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "a",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y x"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Partial support in older Firefox versions refers to using an older syntax. Partial support in older Chrome versions refers to lacking support in Mac OS X. ",
			"usage_perc_y": 62.13,
			"usage_perc_a": 6.41,
			"ucprefix": false,
			"parent": "",
			"keywords": "font-feature,font-feature-settings,kern,kerning,font-variant-alternates,ligatures,font-variant-ligatures"
		},
		"css-animation": {
			"title": "CSS3 Animation",
			"description": "Complex method of animating certain properties of an element",
			"spec": "http://www.w3.org/TR/css3-animations/",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/properties/animations",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.css3files.com/animation/",
				"title": "Information page"
			}, {
				"url": "http://robertnyman.com/2010/05/06/css3-animations/",
				"title": "Blog post on usage"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y x",
					"5": "y x",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "y x",
					"12.1": "y",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "y x",
					"4.0-4.1": "y x",
					"4.2-4.3": "y x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a x",
					"2.2": "a x",
					"2.3": "a x",
					"3": "a x",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y x"
				},
				"bb": {
					"7": "y x",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "y",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support in Android browser refers to buggy behavior in different scenarios.",
			"usage_perc_y": 73.62,
			"usage_perc_a": 1.44,
			"ucprefix": false,
			"parent": "",
			"keywords": "animations,css-animations,keyframe,keyframes"
		},
		"css-gradients": {
			"title": "CSS Gradients",
			"description": "Method of defining a linear or radial color gradient as a CSS image.",
			"spec": "http://www.w3.org/TR/css3-images/",
			"status": "cr",
			"links": [{
				"url": "http://www.colorzilla.com/gradient-editor/",
				"title": "Cross-browser editor"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/functions/linear-gradient",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.css3files.com/gradient/",
				"title": "Information page"
			}, {
				"url": "http://css3pie.com/",
				"title": "Tool to emulate support in IE"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "y x",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "a x",
					"5": "a x",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "a x",
					"11.5": "a x",
					"11.6": "y x",
					"12": "y x",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a x",
					"4.0-4.1": "a x",
					"4.2-4.3": "a x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a x",
					"2.2": "a x",
					"2.3": "a x",
					"3": "a x",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y"
				},
				"bb": {
					"7": "a x",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "a x",
					"11.5": "a x",
					"12": "y x",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support in Opera 11.10 and 11.50 also refers to only having support for linear gradients. Support can be somewhat emulated in older IE versions using the non-standard \"gradient\" filter. Firefox 10+, Opera 11.6+, Chrome 26+ and IE10 also support the new \"to (side)\" syntax.",
			"usage_perc_y": 73.31,
			"usage_perc_a": 2.22,
			"ucprefix": false,
			"parent": "",
			"keywords": "linear,linear-gradient,gradiant"
		},
		"css-canvas": {
			"title": "CSS Canvas Drawings",
			"description": "Method of using HTML5 Canvas as a background image",
			"spec": "http://webkit.org/blog/176/css-canvas-drawing/",
			"status": "unoff",
			"links": [{
				"url": "http://webkit.org/blog/176/css-canvas-drawing/",
				"title": "Webkit blog post"
			}],
			"categories": ["CSS"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "u",
					"27": "u"
				},
				"chrome": {
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y x",
					"5": "y x",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "y x",
					"4.0-4.1": "y x",
					"4.2-4.3": "y x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y x",
					"2.2": "y x",
					"2.3": "y x",
					"3": "y x",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y x"
				},
				"bb": {
					"7": "y x",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Proposal by Webkit, being considered for W3C standardization. A similar effect can be achieved in Firefox 4+ using the -moz-element() background property",
			"usage_perc_y": 48.41,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"css-reflections": {
			"title": "CSS Reflections",
			"description": "Method of displaying a reflection of an element",
			"spec": "http://webkit.org/blog/182/css-reflections/",
			"status": "unoff",
			"links": [{
				"url": "http://webkit.org/blog/182/css-reflections/",
				"title": "Webkit blog post"
			}],
			"categories": ["CSS"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y x",
					"5": "y x",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "y x",
					"4.0-4.1": "y x",
					"4.2-4.3": "y x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y x",
					"2.2": "y x",
					"2.3": "y x",
					"3": "y x",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y x"
				},
				"bb": {
					"7": "y x",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Similar effect can be achieved in Firefox 4+ using the -moz-element() background property",
			"usage_perc_y": 48.41,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "box-reflect"
		},
		"css-masks": {
			"title": "CSS Masks",
			"description": "Method of displaying part of an element, using a selected image as a mask",
			"spec": "http://www.w3.org/TR/css-masking/",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/properties/mask",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.html5rocks.com/en/tutorials/masking/adobe/",
				"title": "HTML5 Rocks article"
			}, {
				"url": "http://thenittygritty.co/css-masking",
				"title": "Detailed blog post"
			}],
			"categories": ["CSS"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "u",
					"27": "u"
				},
				"chrome": {
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "a x",
					"21": "a x",
					"22": "a x",
					"23": "a x",
					"24": "a x",
					"25": "a x",
					"26": "a x",
					"27": "a x",
					"28": "a x",
					"29": "a x",
					"30": "a x",
					"31": "a x",
					"32": "a x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "a x",
					"5": "a x",
					"5.1": "a x",
					"6": "a x",
					"6.1": "a x",
					"7": "a x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x"
				},
				"ios_saf": {
					"3.2": "a x",
					"4.0-4.1": "a x",
					"4.2-4.3": "a x",
					"5.0-5.1": "a x",
					"6.0-6.1": "a x",
					"7.0": "a x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a x",
					"2.2": "a x",
					"2.3": "a x",
					"3": "a x",
					"4": "a x",
					"4.1": "a x",
					"4.2-4.3": "a x",
					"4.4": "a x"
				},
				"bb": {
					"7": "a x",
					"10": "a x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "a x"
				},
				"and_chr": {
					"0": "a x"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Previously a WebKit-only property, now a W3C specification. Partial support refers to not yet fully supporting the new spec (details currently unknown).",
			"usage_perc_y": 0,
			"usage_perc_a": 48.41,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"svg": {
			"title": "SVG (basic support)",
			"description": "Method of displaying basic Vector Graphics features using the embed or object elements",
			"spec": "http://www.w3.org/Graphics/SVG/",
			"status": "rec",
			"links": [{
				"url": "http://en.wikipedia.org/wiki/Scalable_Vector_Graphics",
				"title": "Wikipedia"
			}, {
				"url": "http://code.google.com/p/svgweb/",
				"title": "SVG Web: Flash-based polyfill"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#svg",
				"title": "has.js test"
			}, {
				"url": "http://svg-edit.googlecode.com",
				"title": "Web-based SVG editor"
			}, {
				"url": "http://www.alistapart.com/articles/using-svg-for-flexible-scalable-and-fun-backgrounds-part-i",
				"title": "A List Apart article"
			}, {
				"url": "http://svg-wow.org/",
				"title": "SVG showcase site"
			}],
			"categories": ["SVG"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "a",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 84.1,
			"usage_perc_a": 0.02,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"svg-css": {
			"title": "SVG in CSS backgrounds",
			"description": "Method of using SVG images as CSS backgrounds",
			"spec": "http://www.w3.org/TR/css3-background/#background-image",
			"status": "cr",
			"links": [{
				"url": "http://designfestival.com/a-farewell-to-css3-gradients/",
				"title": "Tutorial for advanced effects"
			}],
			"categories": ["SVG", "CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "a",
					"4": "a",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"12": "a",
					"12.1": "a",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support in older Firefox and Opera Mini/Mobile refers to SVG images being blurry when scaled. Partial support in iOS Safari and older Safari versions refers to failing to support tiling or the background-position property.",
			"usage_perc_y": 75.45,
			"usage_perc_a": 8.2,
			"ucprefix": false,
			"parent": "",
			"keywords": "svg-in-css,svgincss,css-svg"
		},
		"svg-smil": {
			"title": "SVG SMIL animation",
			"description": "Method of using animation elements to animate SVG images",
			"spec": "http://www.w3.org/TR/SVG/animate.html",
			"status": "rec",
			"links": [{
				"url": "https://github.com/madsgraphics/SVGEventListener",
				"title": "Polyfill for SMIL animate events on SVG"
			}, {
				"url": "https://developer.mozilla.org/en/SVG/SVG_animation_with_SMIL",
				"title": "MDN article"
			}, {
				"url": "http://svg-wow.org/blog/category/animation/",
				"title": "Examples on SVG WOW"
			}, {
				"url": "http://leunen.me/fakesmile/",
				"title": "JS library to support SMIL in SVG"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#svg-smil",
				"title": "has.js test"
			}],
			"categories": ["SVG"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "p",
					"3.6": "p",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "a",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "p"
				}
			},
			"notes": "Partial support in Safari refers to not working in HTML files.",
			"usage_perc_y": 54.76,
			"usage_perc_a": 7.99,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"svg-fonts": {
			"title": "SVG fonts",
			"description": "Method of using fonts defined as SVG shapes",
			"spec": "http://www.w3.org/TR/SVG/fonts.html",
			"status": "rec",
			"links": [{
				"url": "http://opentype.info/blog/2010/04/13/the-ipad-and-svg-fonts-in-mobile-safari/",
				"title": "Blog post on usage for iPad"
			}, {
				"url": "http://jeremie.patonnier.net/post/2011/02/07/Why-are-SVG-Fonts-so-different",
				"title": "Blog post"
			}],
			"categories": ["SVG"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Supported in Opera Mini in SVG images only, not in HTML.",
			"usage_perc_y": 47.78,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "fontface",
			"keywords": ""
		},
		"svg-filters": {
			"title": "SVG filters",
			"description": "Method of using photoshop-like effects on SVG objects including blurring and color manipulation.",
			"spec": "http://www.w3.org/TR/SVG/filters.html",
			"status": "rec",
			"links": [{
				"url": "http://electricbeach.org/?p=950",
				"title": "Experiments with filter effects"
			}, {
				"url": "http://svg-wow.org/blog/category/filters/",
				"title": "SVG filter demos"
			}, {
				"url": "http://docs.webplatform.org/wiki/svg/elements/filter",
				"title": "WebPlatform Docs"
			}],
			"categories": ["SVG"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 72.99,
			"usage_perc_a": 0.08,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"svg-html": {
			"title": "SVG effects for HTML",
			"description": "Method of using SVG transforms, filters, etc on HTML elements using either CSS or the foreignObject element",
			"spec": "http://www.w3.org/TR/SVG11/extend.html#ForeignObjectElement",
			"status": "wd",
			"links": [{
				"url": "https://developer.mozilla.org/En/Applying_SVG_effects_to_HTML_content",
				"title": "MDN Reference page"
			}, {
				"url": "https://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html",
				"title": "Filter Effects draft"
			}, {
				"url": "https://developer.mozilla.org/en/SVG/Tutorial/Other_content_in_SVG",
				"title": "MDN Tutorial"
			}],
			"categories": ["SVG"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "a",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "n",
					"3": "a",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a",
					"28": "a",
					"29": "a",
					"30": "a",
					"31": "a",
					"32": "a"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "a",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "a",
					"9.5-9.6": "a",
					"10.0-10.1": "a",
					"10.5": "a",
					"10.6": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"11.6": "a",
					"12": "a",
					"12.1": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "a"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"12": "a",
					"12.1": "a",
					"0": "a"
				},
				"and_chr": {
					"0": "a"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Partial support refers to lack of filter support or buggy result from effects. A <a href=\"https://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html\">CSS Filter Effects</a> specification is in the works that would replace this method.",
			"usage_perc_y": 15.33,
			"usage_perc_a": 60.21,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"svg-html5": {
			"title": "Inline SVG in HTML5",
			"description": "Method of using SVG tags directly in HTML documents. Requires HTML5 parser.",
			"spec": "http://www.w3.org/TR/html5/embedded-content-0.html#svg-0",
			"status": "cr",
			"links": [{
				"url": "http://hacks.mozilla.org/2010/05/firefox-4-the-html5-parser-inline-svg-speed-and-more/",
				"title": "Mozilla Hacks blog post"
			}, {
				"url": "http://samples.msdn.microsoft.com/ietestcenter/html5/svghtml_harness.htm?url=SVG_HTML_Elements_001",
				"title": "Test suite"
			}],
			"categories": ["SVG", "HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "p",
					"3.6": "p",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "p",
					"5": "p",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "p",
					"9.5-9.6": "p",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "p",
					"4.0-4.1": "p",
					"4.2-4.3": "p",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 78.45,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"canvas": {
			"title": "Canvas (basic support)",
			"description": "Method of generating fast, dynamic graphics using JavaScript",
			"spec": "http://www.w3.org/TR/html5/embedded-content-0.html#the-canvas-element",
			"status": "cr",
			"links": [{
				"url": "https://developer.mozilla.org/en/Canvas_tutorial",
				"title": "Tutorial by Mozilla"
			}, {
				"url": "http://explorercanvas.googlecode.com/",
				"title": "Implementation for Internet Explorer"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#canvas",
				"title": "has.js test"
			}, {
				"url": "http://www.diveinto.org/html5/canvas.html",
				"title": "Another tutorial"
			}, {
				"url": "http://glimr.rubyforge.org/cake/canvas.html",
				"title": "Animation kit "
			}, {
				"url": "http://www.canvasdemos.com/",
				"title": "Showcase site"
			}],
			"categories": ["Canvas", "HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "a",
					"2.2": "a",
					"2.3": "a",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Opera Mini supports the canvas element, but is unable to play animations or run other more complex applications. Android 2.x supports canvas except the toDataURL() function. See http://code.google.com/p/android/issues/detail?id=7901 Some (slow) workarounds are described here: http://stackoverflow.com/q/10488033/841830",
			"usage_perc_y": 79.53,
			"usage_perc_a": 6.02,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"canvas-text": {
			"title": "Text API for Canvas",
			"description": "Method of displaying text on Canvas elements",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-0",
			"status": "wd",
			"links": [{
				"url": "http://code.google.com/p/canvas-text/",
				"title": "Support library"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/canvas/CanvasRenderingContext2D/fillText",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#canvas-text",
				"title": "has.js test"
			}, {
				"url": "https://developer.mozilla.org/en/Drawing_text_using_a_canvas#Additional_examples",
				"title": "Examples by Mozilla"
			}],
			"categories": ["Canvas", "HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "p",
					"9.5-9.6": "p",
					"10.0-10.1": "p",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "p",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 80.82,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "canvas",
			"keywords": ""
		},
		"namevalue-storage": {
			"title": "Web Storage - name/value pairs",
			"description": "Method of storing data locally like cookies, but for larger amounts of data (sessionStorage and localStorage, used to fall under HTML5).",
			"spec": "http://www.w3.org/TR/webstorage/#storage",
			"status": "rec",
			"links": [{
				"url": "http://html5demos.com/storage",
				"title": "Simple demo"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/web-storage/Storage/localStorage",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/En/DOM/Storage",
				"title": "Gecko reference"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-localstorage;native-sessionstorage",
				"title": "has.js test"
			}, {
				"url": "http://code.google.com/p/sessionstorage/",
				"title": "Support library"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "a",
					"3": "a",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "In private browsing mode Safari and iOS Safari don't support setting localStorage.",
			"usage_perc_y": 89.13,
			"usage_perc_a": 0.1,
			"ucprefix": false,
			"parent": "",
			"keywords": "webstorage,local storage"
		},
		"sql-storage": {
			"title": "Web SQL Database",
			"description": "Method of storing data client-side, allows Sqlite database queries for access and manipulation",
			"spec": "http://www.w3.org/TR/webdatabase/",
			"status": "unoff",
			"links": [{
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-sql-db",
				"title": "has.js test"
			}, {
				"url": "http://html5doctor.com/introducing-web-sql-databases/",
				"title": "HTML5 Doctor article"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "The Web SQL Database specification is no longer being maintained and support may be dropped in future versions.",
			"usage_perc_y": 49.18,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "db-storage,websql"
		},
		"indexeddb": {
			"title": "IndexedDB",
			"description": "Method of storing data client-side, allows indexed database queries. Previously known as WebSimpleDB API.",
			"spec": "http://www.w3.org/TR/IndexedDB/",
			"status": "wd",
			"links": [{
				"url": "http://hacks.mozilla.org/2010/06/comparing-indexeddb-and-webdatabase/",
				"title": "Mozilla Hacks article"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-indexeddb",
				"title": "has.js test"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/indexedDB",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://github.com/axemclion/IndexedDBShim",
				"title": "Polyfill for browsers supporting WebSQL"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "a x",
					"21": "a x",
					"22": "a x",
					"23": "y x",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "a x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support in BB10 refers to an <a href=\"http://www.w3.org/TR/2011/WD-IndexedDB-20110419/\">outdated specification</a> being implemented. Code targeting the <a href=\"http://www.w3.org/TR/IndexedDB/\">current state of the specification</a> might not work.",
			"usage_perc_y": 59.46,
			"usage_perc_a": 1.68,
			"ucprefix": false,
			"parent": "",
			"keywords": "indexdb"
		},
		"eventsource": {
			"title": "Server-sent DOM events",
			"description": "Method of continuously sending data from a server to the browser, rather than repeatedly requesting it (EventSource interface, used to fall under HTML5)",
			"spec": "http://www.w3.org/TR/eventsource/",
			"status": "cr",
			"links": [{
				"url": "http://www.html5rocks.com/tutorials/eventsource/basics/",
				"title": "HTML5 Rocks tutorial"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-eventsource",
				"title": "has.js test"
			}, {
				"url": "http://samshull.blogspot.com/2010/10/ajax-push-in-ios-safari-and-chrome-with.html",
				"title": "Blog post with demo"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "a",
					"9.5-9.6": "a",
					"10.0-10.1": "a",
					"10.5": "a",
					"10.6": "a",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "a",
					"11": "a",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 58.8,
			"usage_perc_a": 0.06,
			"ucprefix": false,
			"parent": "",
			"keywords": "serversent,s-sent-events"
		},
		"x-doc-messaging": {
			"title": "Cross-document messaging",
			"description": "Method of sending information from a page on one domain to a page on a different one (using postMessage)",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages",
			"status": "wd",
			"links": [{
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-crosswindowmessaging",
				"title": "has.js test"
			}, {
				"url": "http://html5demos.com/postmessage2",
				"title": "Simple demo"
			}, {
				"url": "https://developer.mozilla.org/en/DOM/window.postMessage",
				"title": "MDN article"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/web-messaging/methods/postMessage_%28window%29",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://72lions.com/2011/05/cross-origin-communication-with-html5",
				"title": "Article and demo"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "Partial support in IE8-9 refers to only working in frames/iframes (not other tabs/windows). Also in IE 9 and below an object cannot be sent using postMessage. Partial support in IE10 refers to <a href=\"http://stackoverflow.com/questions/16226924/is-cross-origin-postmessage-broken-in-ie10\">limitations in certain conditions</a>",
			"usage_perc_y": 69.31,
			"usage_perc_a": 24.52,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"datauri": {
			"title": "Data URIs",
			"description": "Method of embedding images and other files in webpages as a string of text",
			"spec": "http://www.ietf.org/rfc/rfc2397.txt",
			"status": "other",
			"links": [{
				"url": "http://www.websiteoptimization.com/speed/tweak/inline-images/",
				"title": "Data URL converter"
			}, {
				"url": "http://css-tricks.com/5970-data-uris/",
				"title": "Information page"
			}, {
				"url": "http://en.wikipedia.org/wiki/data_URI_scheme",
				"title": "Wikipedia"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "Support in Internet Explorer 8 is limited to images and linked resources like CSS files, not HTML files. Max URI length in IE8 is 32KB. In IE9+ JavaScript files are supported too and the maximum size limit set to 4GB.",
			"usage_perc_y": 69.23,
			"usage_perc_a": 24.63,
			"ucprefix": false,
			"parent": "",
			"keywords": "data url,datauris,data uri,dataurl,dataurls"
		},
		"mathml": {
			"title": "MathML",
			"description": "An XML language that allows mathematical formulas and notations to be written on web pages.",
			"spec": "http://www.w3.org/TR/MathML/",
			"status": "rec",
			"links": [{
				"url": "http://www.mozilla.org/projects/mathml/demo/",
				"title": "MathML demos"
			}, {
				"url": "http://en.wikipedia.org/wiki/MathML",
				"title": "Wikipedia"
			}, {
				"url": "http://www.mathjax.org",
				"title": "Cross-browser support script"
			}, {
				"url": "https://developer.mozilla.org/en/MathML/Element",
				"title": "MDN element reference"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p",
					"12": "p",
					"13": "p",
					"14": "p",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p",
					"19": "p",
					"20": "p",
					"21": "p",
					"22": "p",
					"23": "p",
					"24": "y",
					"25": "p",
					"26": "p",
					"27": "p",
					"28": "p",
					"29": "p",
					"30": "p",
					"31": "p",
					"32": "p"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "p",
					"5": "p",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "a",
					"10.0-10.1": "a",
					"10.5": "a",
					"10.6": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"11.6": "a",
					"12": "a",
					"12.1": "a",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p"
				},
				"ios_saf": {
					"3.2": "p",
					"4.0-4.1": "p",
					"4.2-4.3": "p",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "p"
				},
				"android": {
					"2.1": "p",
					"2.2": "p",
					"2.3": "p",
					"3": "p",
					"4": "p",
					"4.1": "p",
					"4.2-4.3": "p",
					"4.4": "p"
				},
				"bb": {
					"7": "p",
					"10": "y"
				},
				"op_mob": {
					"10": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"12": "p",
					"12.1": "p",
					"0": "p"
				},
				"and_chr": {
					"0": "p"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Opera's support is limited to a CSS profile of MathML. Support was added in Chrome 24, but removed afterwards due to instability.",
			"usage_perc_y": 23.15,
			"usage_perc_a": 0.63,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"css-featurequeries": {
			"title": "CSS Feature Queries",
			"description": "CSS Feature Queries allow authors to condition rules based on whether particular property declarations are supported in CSS using the @supports at rule.",
			"spec": "http://www.w3.org/TR/css3-conditional/#at-supports",
			"status": "cr",
			"links": [{
				"url": "http://dabblet.com/gist/3895764",
				"title": "Test case"
			}, {
				"url": "http://mcc.id.au/blog/2012/08/supports",
				"title": "@supports in Firefox"
			}, {
				"url": "https://developer.mozilla.org/en-US/docs/Web/CSS/@supports",
				"title": "MDN Article"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/atrules/@supports",
				"title": "WebPlatform Docs"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 45.52,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "supports,conditional"
		},
		"xhtml": {
			"title": "XHTML served as application/xhtml+xml",
			"description": "A strict form of HTML, and allows embedding of other XML languages",
			"spec": "http://www.w3.org/TR/xhtml1/",
			"status": "rec",
			"links": [{
				"url": "http://en.wikipedia.org/wiki/XHTML",
				"title": "Wikipedia"
			}, {
				"url": "http://docs.webplatform.org/wiki/concepts/internet_and_web/the_web_standards_model#What_is_XHTML.3F",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.xmlplease.com/xhtml/xhtml5polyglot/",
				"title": "Information on XHTML5"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "The XHTML syntax is very close to HTML, and thus is almost always (<a href=\"https://developer.mozilla.org/en-US/docs/XHTML#MIME_type_versus_DOCTYPE\">incorrectly</a>) served as text/html on the web.",
			"usage_perc_y": 85.55,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "xhtml+xml"
		},
		"xhtmlsmil": {
			"title": "XHTML+SMIL animation",
			"description": "Method of using SMIL animation in web pages",
			"spec": "http://www.w3.org/TR/XHTMLplusSMIL/",
			"status": "unoff",
			"links": [{
				"url": "http://en.wikipedia.org/wiki/XHTML%2BSMIL",
				"title": "Wikipedia"
			}, {
				"url": "http://leunen.me/fakesmile/",
				"title": "JS library to support XHTML+SMIL"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "p",
					"3.6": "p",
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p",
					"12": "p",
					"13": "p",
					"14": "p",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p",
					"19": "p",
					"20": "p",
					"21": "p",
					"22": "p",
					"23": "p",
					"24": "p",
					"25": "p",
					"26": "p",
					"27": "p"
				},
				"chrome": {
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p",
					"12": "p",
					"13": "p",
					"14": "p",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p",
					"19": "p",
					"20": "p",
					"21": "p",
					"22": "p",
					"23": "p",
					"24": "p",
					"25": "p",
					"26": "p",
					"27": "p",
					"28": "p",
					"29": "p",
					"30": "p",
					"31": "p",
					"32": "p"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "p",
					"5": "p",
					"5.1": "p",
					"6": "p",
					"6.1": "p",
					"7": "p"
				},
				"opera": {
					"9": "p",
					"9.5-9.6": "p",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"11.6": "p",
					"12": "p",
					"12.1": "p",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p"
				},
				"ios_saf": {
					"3.2": "p",
					"4.0-4.1": "p",
					"4.2-4.3": "p",
					"5.0-5.1": "p",
					"6.0-6.1": "p",
					"7.0": "p"
				},
				"op_mini": {
					"5.0-7.0": "p"
				},
				"android": {
					"2.1": "p",
					"2.2": "p",
					"2.3": "p",
					"3": "p",
					"4": "p",
					"4.1": "p",
					"4.2-4.3": "p",
					"4.4": "p"
				},
				"bb": {
					"7": "p",
					"10": "p"
				},
				"op_mob": {
					"10": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"12": "p",
					"12.1": "p",
					"0": "p"
				},
				"and_chr": {
					"0": "p"
				},
				"and_ff": {
					"0": "p"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Internet Explorer supports the W3C proposal HTML+TIME, which is largely the same as XHTML+SMIL",
			"usage_perc_y": 0,
			"usage_perc_a": 9.02,
			"ucprefix": false,
			"parent": "xhtml",
			"keywords": ""
		},
		"wai-aria": {
			"title": "WAI-ARIA Accessibility features",
			"description": "Method of providing ways for people with disabilities to use dynamic web content and web applications.",
			"spec": "http://www.w3.org/TR/wai-aria/",
			"status": "cr",
			"links": [{
				"url": "http://www.alistapart.com/articles/the-accessibility-of-wai-aria/",
				"title": "ALA Article"
			}, {
				"url": "http://en.wikipedia.org/wiki/WAI-ARIA",
				"title": "Wikipedia"
			}, {
				"url": "http://zufelt.ca/blog/are-you-confused-html5-and-wai-aria-yet",
				"title": "HTML5/WAI-ARIA information"
			}, {
				"url": "http://www.w3.org/WAI/intro/aria",
				"title": "Information page"
			}, {
				"url": "http://www.paciellogroup.com/blog/2011/10/browser-assistive-technology-tests-redux/",
				"title": "Links to various test results"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "a",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a",
					"28": "a",
					"29": "a",
					"30": "a",
					"31": "a",
					"32": "a"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "a",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "a",
					"10.0-10.1": "a",
					"10.5": "a",
					"10.6": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"11.6": "a",
					"12": "a",
					"12.1": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "a"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"12": "a",
					"12.1": "a",
					"0": "a"
				},
				"and_chr": {
					"0": "a"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 40.05,
			"usage_perc_a": 48.6,
			"ucprefix": false,
			"parent": "",
			"keywords": "wai,aria"
		},
		"geolocation": {
			"title": "Geolocation",
			"description": "Method of informing a website of the user's geographical location",
			"spec": "http://www.w3.org/TR/geolocation-API/",
			"status": "cr",
			"links": [{
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-geolocation",
				"title": "has.js test"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/geolocation",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://html5demos.com/geo",
				"title": "Simple demo"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "p",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "n",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "p",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 80.65,
			"usage_perc_a": 0.02,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"flexbox": {
			"title": "Flexible Box Layout Module",
			"description": "Method of positioning elements in horizontal or vertical stacks.",
			"spec": "http://www.w3.org/TR/css3-flexbox/",
			"status": "cr",
			"links": [{
				"url": "http://css-tricks.com/snippets/css/a-guide-to-flexbox/",
				"title": "A Complete Guide to Flexbox"
			}, {
				"url": "http://bennettfeely.com/flexplorer/",
				"title": "Flexbox CSS generator"
			}, {
				"url": "http://www.adobe.com/devnet/html5/articles/working-with-flexbox-the-new-spec.html",
				"title": "Article on using the latest spec"
			}, {
				"url": "http://philipwalton.github.io/solved-by-flexbox/",
				"title": "Examples on how to solve common layout problems with flexbox"
			}, {
				"url": "http://dev.opera.com/articles/view/advanced-cross-browser-flexbox/",
				"title": "Tutorial on cross-browser support"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "a x #2",
					"11": "y"
				},
				"firefox": {
					"2": "a x #1",
					"3": "a x #1",
					"3.5": "a x #1",
					"3.6": "a x #1",
					"4": "a x #1",
					"5": "a x #1",
					"6": "a x #1",
					"7": "a x #1",
					"8": "a x #1",
					"9": "a x #1",
					"10": "a x #1",
					"11": "a x #1",
					"12": "a x #1",
					"13": "a x #1",
					"14": "a x #1",
					"15": "a x #1",
					"16": "a x #1",
					"17": "a x #1",
					"18": "a x #1",
					"19": "a x #1",
					"20": "a x #1",
					"21": "a x #1",
					"22": "a #3",
					"23": "a #3",
					"24": "a #3",
					"25": "a #3",
					"26": "a #3",
					"27": "a #3"
				},
				"chrome": {
					"4": "a x #1",
					"5": "a x #1",
					"6": "a x #1",
					"7": "a x #1",
					"8": "a x #1",
					"9": "a x #1",
					"10": "a x #1",
					"11": "a x #1",
					"12": "a x #1",
					"13": "a x #1",
					"14": "a x #1",
					"15": "a x #1",
					"16": "a x #1",
					"17": "a x #1",
					"18": "a x #1",
					"19": "a x #1",
					"20": "a x #1",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a x #1",
					"3.2": "a x #1",
					"4": "a x #1",
					"5": "a x #1",
					"5.1": "a x #1",
					"6": "a x #1",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "y",
					"15": "y x",
					"16": "y x",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a x #1",
					"4.0-4.1": "a x #1",
					"4.2-4.3": "a x #1",
					"5.0-5.1": "a x #1",
					"6.0-6.1": "a x #1",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a x #1",
					"2.2": "a x #1",
					"2.3": "a x #1",
					"3": "a x #1",
					"4": "a x #1",
					"4.1": "a x #1",
					"4.2-4.3": "a x #1",
					"4.4": "y"
				},
				"bb": {
					"7": "a x #1",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "a x #1"
				},
				"ie_mob": {
					"10": "a x #2"
				}
			},
			"notes": "Most partial support refers to supporting an <a href=\"http://www.w3.org/TR/2009/WD-css3-flexbox-20090723/\">older version</a> of the specification or an <a href=\"http://www.w3.org/TR/2012/WD-css3-flexbox-20120322/\">older syntax</a>. For Firefox 21+ it refers to lack of flex-wrap & flex-flow support.",
			"usage_perc_y": 37.88,
			"usage_perc_a": 37.66,
			"ucprefix": false,
			"parent": "",
			"keywords": "flex"
		},
		"webgl": {
			"title": "WebGL - 3D Canvas graphics",
			"description": "Method of generating dynamic 3D graphics using JavaScript, accelerated through hardware",
			"spec": "https://www.khronos.org/registry/webgl/specs/1.0/",
			"status": "other",
			"links": [{
				"url": "http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation",
				"title": "Instructions on enabling WebGL"
			}, {
				"url": "http://webkit.org/blog/603/webgl-now-available-in-webkit-nightlies/",
				"title": "Webkit blog post"
			}, {
				"url": "http://www.khronos.org/webgl/wiki/Tutorial",
				"title": "Tutorial"
			}, {
				"url": "http://hacks.mozilla.org/2009/12/webgl-draft-released-today/",
				"title": "Firefox blog post"
			}, {
				"url": "http://iewebgl.com/",
				"title": "Polyfill for IE"
			}],
			"categories": ["Canvas"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "a",
					"12.1": "a",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "a",
					"12.1": "a",
					"0": "y"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "p"
				}
			},
			"notes": "Support listed as \"partial\" refers to the fact that not all users with these browsers have WebGL access. This is due to the additional requirement for users to have <a href=\"http://www.khronos.org/webgl/wiki/BlacklistsAndWhitelists\">up to date video drivers</a>. This problem was <a href=\"http://blog.chromium.org/2012/02/gpu-accelerating-2d-canvas-and-enabling.html\">solved in Chrome</a> as of version 18.\r\n\r\nNote that WebGL is part of the <a href=\"http://www.khronos.org/webgl/\">Khronos Group</a>, not the W3C. On Chrome for Android, WebGL is disabled by default, but can be enabled by enabling the \"Enable WebGL\" flag under chrome://flags",
			"usage_perc_y": 33.4,
			"usage_perc_a": 19.68,
			"ucprefix": false,
			"parent": "canvas",
			"keywords": "web gl"
		},
		"fileapi": {
			"title": "File API",
			"description": "Method of manipulating file objects in web applications client-side, as well as programmatically selecting them and accessing their data.",
			"spec": "http://www.w3.org/TR/FileAPI/",
			"status": "wd",
			"links": [{
				"url": "https://developer.mozilla.org/en/Using_files_from_web_applications",
				"title": "MDN article"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/file",
				"title": "WebPlatform Docs"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "a",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "a",
					"4": "a",
					"4.1": "a",
					"4.2-4.3": "a",
					"4.4": "y"
				},
				"bb": {
					"7": "a",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Partial support in older Safari refers to lacking FileReader support. ",
			"usage_perc_y": 67.73,
			"usage_perc_a": 5.38,
			"ucprefix": false,
			"parent": "",
			"keywords": "FileReader"
		},
		"shadowdom": {
			"title": "Shadow DOM",
			"description": "Method of establishing and maintaining functional boundaries between DOM trees and how these trees interact with each other within a document, thus enabling better functional encapsulation within the DOM.",
			"spec": "http://www.w3.org/TR/shadow-dom/",
			"status": "wd",
			"links": [{
				"url": "http://www.html5rocks.com/tutorials/webcomponents/shadowdom/",
				"title": "HTML5Rocks - Shadow DOM 101 article"
			}, {
				"url": "http://html5-demos.appspot.com/static/shadowdom-visualizer/index.html",
				"title": "Shadow DOM Visualizer"
			}],
			"categories": ["DOM", "HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "y x",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y x"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 33.29,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "web components"
		},
		"websockets": {
			"title": "Web Sockets",
			"description": "Bidirectional communication technology for web apps",
			"spec": "http://www.w3.org/TR/websockets/",
			"status": "cr",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/apis/websocket",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-websockets",
				"title": "has.js test"
			}, {
				"url": "http://websocket.org/aboutwebsocket.html",
				"title": "WebSockets information"
			}, {
				"url": "http://en.wikipedia.org/wiki/WebSocket",
				"title": "Wikipedia"
			}, {
				"url": "http://updates.html5rocks.com/2011/08/What-s-different-in-the-new-WebSocket-protocol",
				"title": "Details on newer protocol"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "a",
					"5": "a",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "a",
					"5.1": "a",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"11.6": "a",
					"12": "a",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "a",
					"5.0-5.1": "a",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"12": "a",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support refers to the websockets implementation using an older version of the protocol and/or the implementation being disabled by default (due to security issues with the older protocol).",
			"usage_perc_y": 67.46,
			"usage_perc_a": 2.62,
			"ucprefix": true,
			"parent": "",
			"keywords": ""
		},
		"script-async": {
			"title": "async attribute for external scripts",
			"description": "The boolean async attribute on script elements allows the external JavaScript file to run when it's available, without delaying page load first.",
			"spec": "http://www.w3.org/TR/html5/scripting-1.html#attr-script-async",
			"status": "cr",
			"links": [{
				"url": "https://developer.mozilla.org/en/HTML/Element/script#Attributes",
				"title": "MDN article"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/script.js#script-async",
				"title": "has.js test"
			}, {
				"url": "http://ie.microsoft.com/testdrive/Performance/AsyncScripts/Default.html",
				"title": "Demo"
			}],
			"categories": ["HTML5", "DOM"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "a",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Using script.async = false; to maintain execution order for dynamically-added scripts isn't supported in Safari 5.0",
			"usage_perc_y": 72.82,
			"usage_perc_a": 0.31,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"cors": {
			"title": "Cross-Origin Resource Sharing",
			"description": "Method of performing XMLHttpRequests across domains",
			"spec": "http://www.w3.org/TR/cors/",
			"status": "cr",
			"links": [{
				"url": "http://saltybeagle.com/2009/09/cross-origin-resource-sharing-demo/",
				"title": "Demo and script with cross-browser support"
			}, {
				"url": "http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/",
				"title": "Mozilla Hacks blog post"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-cors-xhr",
				"title": "has.js test"
			}, {
				"url": "http://msdn.microsoft.com/en-us/library/cc288060(VS.85).aspx",
				"title": "Alternative implementation by IE8"
			}, {
				"url": "http://dev.opera.com/articles/view/dom-access-control-using-cross-origin-resource-sharing/",
				"title": "DOM access using CORS"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "a",
					"9": "a",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Supported somewhat in IE8 and IE9 using the XDomainRequest object (but has <a href=\" http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\">limitations</a>)",
			"usage_perc_y": 75.51,
			"usage_perc_a": 13.52,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"calc": {
			"title": "calc() as CSS unit value",
			"description": "Method of allowing calculated values for length units, i.e. width: calc(100% - 3em)",
			"spec": "http://www.w3.org/TR/css3-values/#calc",
			"status": "cr",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/functions/calc",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/en/CSS/-moz-calc",
				"title": "MDN article"
			}, {
				"url": "http://hacks.mozilla.org/2010/06/css3-calc/",
				"title": "Mozilla Hacks article"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y x",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y x",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Support can be somewhat emulated in older versions of IE using the non-standard expression() syntax. ",
			"usage_perc_y": 71.77,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"ruby": {
			"title": "Ruby annotation",
			"description": "Method of adding pronunciation or other annotations using ruby elements (primarily used in East Asian typography)",
			"spec": "http://www.w3.org/TR/html-markup/ruby.html",
			"status": "wd",
			"links": [{
				"url": "https://addons.mozilla.org/firefox/addon/6812/",
				"title": "Addon \"HTML Ruby\" for Firefox support"
			}, {
				"url": "http://html5doctor.com/ruby-rt-rp-element/",
				"title": "HTML5 Doctor article"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/elements/ruby",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://addons.mozilla.org/firefox/addon/1935/",
				"title": "Add-on \"XHTML Ruby Support\" for Firefox"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "p",
					"3.6": "p",
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p",
					"12": "p",
					"13": "p",
					"14": "p",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p",
					"19": "p",
					"20": "p",
					"21": "p",
					"22": "p",
					"23": "p",
					"24": "p",
					"25": "p",
					"26": "p",
					"27": "p"
				},
				"chrome": {
					"4": "p",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a",
					"28": "a",
					"29": "a",
					"30": "a",
					"31": "a",
					"32": "a"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "p",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "p",
					"9.5-9.6": "p",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"11.6": "p",
					"12": "p",
					"12.1": "p",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a"
				},
				"ios_saf": {
					"3.2": "p",
					"4.0-4.1": "p",
					"4.2-4.3": "p",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "p"
				},
				"android": {
					"2.1": "p",
					"2.2": "p",
					"2.3": "p",
					"3": "a",
					"4": "a",
					"4.1": "a",
					"4.2-4.3": "a",
					"4.4": "a"
				},
				"bb": {
					"7": "p",
					"10": "a"
				},
				"op_mob": {
					"10": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"12": "p",
					"12.1": "p",
					"0": "a"
				},
				"and_chr": {
					"0": "a"
				},
				"and_ff": {
					"0": "p"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "Browsers without native support can still simulate support using CSS. Partial support refers to only supporting basic ruby, may still be missing writing-mode, Complex ruby and CSS3 Ruby",
			"usage_perc_y": 0,
			"usage_perc_a": 72.03,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"css-opacity": {
			"title": "CSS3 Opacity",
			"description": "Method of setting the transparency level of an element",
			"spec": "http://www.w3.org/TR/css3-color/",
			"status": "rec",
			"links": [{
				"url": "http://www.css3files.com/color/#opacity",
				"title": "Information page"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/opacity",
				"title": "WebPlatform Docs"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Transparency for elements in IE8 and older can be achieved using the proprietary \"filter\" property and does not work well with PNG images using alpha transparency.",
			"usage_perc_y": 85.55,
			"usage_perc_a": 9.03,
			"ucprefix": false,
			"parent": "",
			"keywords": "transparent,transparency,alpha"
		},
		"form-validation": {
			"title": "Form validation",
			"description": "Method of setting required fields and field types without requiring JavaScript",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html#client-side-form-validation",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/html/attributes/required",
				"title": "WebPlatform Docs"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "Partial support in Safari refers to lack of notice when form with required fields is attempted to be submitted. Partial support in IE10 mobile refers to lack of warning when blocking submission.",
			"usage_perc_y": 61.75,
			"usage_perc_a": 4.07,
			"ucprefix": false,
			"parent": "forms",
			"keywords": ""
		},
		"history": {
			"title": "Session history management",
			"description": "Method of manipulating the user's browser's session history in JavaScript using history.pushState, history.replaceState and the popstate event",
			"spec": "http://www.w3.org/TR/html5/browsers.html#history-1",
			"status": "cr",
			"links": [{
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-history-state",
				"title": "has.js test"
			}, {
				"url": "https://github.com/browserstate/history.js",
				"title": "History.js polyfill "
			}, {
				"url": "http://docs.webplatform.org/wiki/dom/history",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://html5demos.com/history",
				"title": "Demo page"
			}, {
				"url": "http://www.adequatelygood.com/2010/7/Saner-HTML5-History-Management",
				"title": "Introduction to history management"
			}, {
				"url": "https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history",
				"title": "MDN article"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "a",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "y",
					"2.3": "y",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Older iOS versions and Android 4.0.4 claim support, but implementation is too buggy to be useful. Partial support in other Safari browsers refers to other buggy behavior.",
			"usage_perc_y": 68.29,
			"usage_perc_a": 3.89,
			"ucprefix": false,
			"parent": "",
			"keywords": "onpushstate,onreplacestate"
		},
		"json": {
			"title": "JSON parsing",
			"description": "Method of converting JavaScript objects to JSON strings and JSON back to objects using JSON.stringify() and JSON.parse()",
			"spec": "http://es5.github.com/#x15.12",
			"status": "other",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/apis/json",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/json.js#json",
				"title": "has.js test"
			}, {
				"url": "http://www.json.org/js.html",
				"title": "JSON in JS (includes script w/support)"
			}, {
				"url": "https://developer.mozilla.org/En/Using_native_JSON",
				"title": "MDN article"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Requires document to be in IE8+ <a href=\"http://msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx\">standards mode</a> to work in IE8.",
			"usage_perc_y": 93.71,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"classlist": {
			"title": "classList (DOMTokenList )",
			"description": "Method of easily manipulating classes on elements, using the DOMTokenList object.",
			"spec": "http://www.w3.org/TR/dom/#dom-element-classlist",
			"status": "wd",
			"links": [{
				"url": "https://github.com/eligrey/classList.js",
				"title": "Polyfill script"
			}, {
				"url": "http://hacks.mozilla.org/2010/01/classlist-in-firefox-3-6/",
				"title": "Mozilla Hacks article"
			}, {
				"url": "http://docs.webplatform.org/wiki/dom/properties/classList",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://github.com/eligrey/classList.js/pull/12",
				"title": "Polyfill script for classList on SVG elements on WebKit"
			}],
			"categories": ["DOM", "HTML5"],
			"stats": {
				"ie": {
					"5.5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "p",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "p",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "p",
					"5": "p",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "p",
					"9.5-9.6": "p",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "p",
					"4.0-4.1": "p",
					"4.2-4.3": "p",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "p"
				},
				"android": {
					"2.1": "p",
					"2.2": "p",
					"2.3": "p",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "p",
					"11": "p",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 73.54,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"text-overflow": {
			"title": "CSS3 Text-overflow",
			"description": "Append ellipsis when text overflows its containing element",
			"spec": "http://www.w3.org/TR/css3-ui/#text-overflow0",
			"status": "wd",
			"links": [{
				"url": "http://www.css3files.com/text/",
				"title": "Information page"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-text-overflow",
				"title": "has.js test"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/text-overflow",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/En/CSS/Text-overflow",
				"title": "MDN article"
			}, {
				"url": "https://github.com/rmorse/AutoEllipsis",
				"title": "jQuery polyfill for Firefox"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "p",
					"3.6": "p",
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y x",
					"9.5-9.6": "y x",
					"10.0-10.1": "y x",
					"10.5": "y x",
					"10.6": "y x",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y x"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y x",
					"11": "y x",
					"11.1": "y x",
					"11.5": "y x",
					"12": "y x",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 93.95,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "textoverflow,ellipsis"
		},
		"webm": {
			"title": "WebM/VP8 video format",
			"description": "Multimedia format designed to provide a royalty-free, high-quality open video compression format for use with HTML5 video.",
			"spec": "http://www.webmproject.org/",
			"status": "other",
			"links": [{
				"url": "http://perian.org/",
				"title": "Perian :Mac OSX Webm Codec install"
			}, {
				"url": "https://tools.google.com/dlpage/webmmf",
				"title": "Codec for IE9 support"
			}, {
				"url": "http://webmproject.org",
				"title": "Officical website"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/video.js#video-webm",
				"title": "has.js test"
			}, {
				"url": "http://www.broken-links.com/2010/09/01/playing-webm-in-safari-with-plugins/",
				"title": "Info on supporting WebM in Safari"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "p",
					"10": "p",
					"11": "p"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "p",
					"4": "p",
					"5": "p",
					"5.1": "p",
					"6": "p",
					"6.1": "p",
					"7": "p"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "p"
				}
			},
			"notes": "Will work in IE9+ and Safari/MacOSX provided the user has the WebM codecs installed.",
			"usage_perc_y": 55.72,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "video",
			"keywords": "matroska"
		},
		"mpeg4": {
			"title": "MPEG-4/H.264 video format",
			"description": "Commonly used video compression format (not royalty-free)",
			"spec": "http://ip.hhi.de/imagecom_G1/assets/pdfs/csvt_overview_0305.pdf",
			"status": "other",
			"links": [{
				"url": "http://www.interoperabilitybridges.com/html5-extension-for-wmp-plugin",
				"title": "Firefox extension allowing support in Win7"
			}, {
				"url": "http://en.wikipedia.org/wiki/H.264/MPEG-4_AVC",
				"title": "Wikipedia article"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a",
					"2.2": "a",
					"2.3": "a",
					"3": "a",
					"4": "a",
					"4.1": "a",
					"4.2-4.3": "a",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "a"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "The Android 2.3 browser currently requires <a href=\"http://www.broken-links.com/2010/07/08/making-html5-video-work-on-android-phones/\">specific handling</a> to play videos. Firefox <a href=\"http://blog.lizardwrangler.com/2012/03/18/video-user-experience-and-our-mission/\">will include support</a> on some platforms in upcoming versions. Firefox supports H.264 on Windows 7 and later since version 21. Partial support for Firefox refers to the lack of support in OSX & Linux platforms, for Android Firefox it refers to the inability of hardware acceleration.",
			"usage_perc_y": 59.55,
			"usage_perc_a": 18.1,
			"ucprefix": false,
			"parent": "video",
			"keywords": "avc,mp4,mpv,mov,aac"
		},
		"ogv": {
			"title": "Ogg/Theora video format",
			"description": "Free lossy video compression format.",
			"spec": "http://theora.org/doc/",
			"status": "other",
			"links": [{
				"url": "http://en.wikipedia.org/wiki/Theora",
				"title": "Wikipedia article"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "p",
					"10": "p",
					"11": "p"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "p"
				}
			},
			"notes": "",
			"usage_perc_y": 49.8,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "video",
			"keywords": "xiph"
		},
		"wordwrap": {
			"title": "CSS3 Overflow-wrap",
			"description": "Allows lines to be broken within words if an otherwise unbreakable string is too long to fit.",
			"spec": "http://www.w3.org/TR/css3-text/#overflow-wrap",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/properties/word-wrap",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/En/CSS/Word-wrap",
				"title": "MDN article"
			}, {
				"url": "http://www.css3files.com/text/#wordwrap",
				"title": "Information page"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "a",
					"3.6": "a",
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a"
				},
				"chrome": {
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a",
					"3.2": "a",
					"4": "a",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "a",
					"10.6": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"11.6": "a",
					"12": "a",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "a",
					"2.2": "a",
					"2.3": "a",
					"3": "a",
					"4": "a",
					"4.1": "a",
					"4.2-4.3": "a",
					"4.4": "y"
				},
				"bb": {
					"7": "a",
					"10": "y"
				},
				"op_mob": {
					"10": "a",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"12": "a",
					"12.1": "a",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "a"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "Partial support refers to requiring the legacy name \"word-wrap\" (rather than overflow-wrap) to work.",
			"usage_perc_y": 36.93,
			"usage_perc_a": 57.51,
			"ucprefix": false,
			"parent": "",
			"keywords": "wordwrap,word-wrap"
		},
		"progressmeter": {
			"title": "Progress & Meter",
			"description": "Method of indicating a progress state (progress element) or the current level of a gauge (meter element).\r\n",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/the-button-element.html#the-progress-element",
			"status": "wd",
			"links": [{
				"url": "http://dev.opera.com/articles/view/new-form-features-in-HTML5/#newoutput",
				"title": "Dev.Opera article"
			}, {
				"url": "http://peter.sh/examples/?/html/meter-progress.html",
				"title": "Examples of progress and meter elements"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/elements/progress",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://html5doctor.com/measure-up-with-the-meter-tag/",
				"title": "HTML5 Doctor on meter element "
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "Partial support in Firefox 6-15, IE10 & iOS7 Safari refers to supporting the progress element, but not the meter element. iOS7 Safari also does not support \"indeterminate\" progress elements.",
			"usage_perc_y": 52.21,
			"usage_perc_a": 14.58,
			"ucprefix": false,
			"parent": "forms",
			"keywords": ""
		},
		"object-fit": {
			"title": "CSS3 object-fit/object-position",
			"description": "Method of specifying how an object (image or video) should fit inside its box. object-fit options include \"contain\" (fit according to aspect ratio), \"fill\" (stretches object to fill) and \"cover\" (overflows box but maintains ratio), where object-position allows the object to be repositioned like background-image does.",
			"spec": "http://www.w3.org/TR/css3-images/",
			"status": "cr",
			"links": [{
				"url": "http://dev.opera.com/articles/view/css3-object-fit-object-position/",
				"title": "Dev.Opera article"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/object-fit",
				"title": "WebPlatform Docs"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "u",
					"27": "u"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "n",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "y x",
					"11": "y x",
					"11.1": "y x",
					"11.5": "y x",
					"11.6": "y x",
					"12": "y x",
					"12.1": "y x",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "y x",
					"11.1": "y x",
					"11.5": "y x",
					"12": "y x",
					"12.1": "y x",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Can be enabled in Chrome 31+ and Opera 18+ by enabling experimental Web Platform features under chrome://flags/ or opera://flags/.",
			"usage_perc_y": 0.81,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "objectfit,objectposition"
		},
		"xhr2": {
			"title": "XMLHttpRequest 2",
			"description": "Adds more functionality to AJAX requests like file uploads, transfer progress information and the ability to send form data.",
			"spec": "http://www.w3.org/TR/XMLHttpRequest2/",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/apis/xhr/XMLHttpRequest",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.profilepicture.co.uk/tutorials/ajax-file-upload-xmlhttprequest-level-2/",
				"title": "Article with file upload demo"
			}, {
				"url": "https://developer.mozilla.org/en/XMLHttpRequest/FormData",
				"title": "MDN article on FormData"
			}, {
				"url": "https://github.com/3nr1c/jUri.js",
				"title": "Polyfill for FormData object"
			}],
			"categories": ["DOM", "JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "a",
					"3.6": "a",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "u",
					"5": "u",
					"6": "u",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 73.51,
			"usage_perc_a": 0.35,
			"ucprefix": false,
			"parent": "",
			"keywords": "formdata"
		},
		"minmaxwh": {
			"title": "CSS min/max-width/height",
			"description": "Method of setting a minimum or maximum width or height to an element. ",
			"spec": "http://www.w3.org/TR/CSS21/visudet.html#min-max-widths",
			"status": "rec",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/properties/min-width",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://code.google.com/p/ie7-js/",
				"title": "JS library with support"
			}, {
				"url": "http://www.impressivewebs.com/min-max-width-height-css/",
				"title": "CSS Basics post"
			}],
			"categories": ["CSS2"],
			"stats": {
				"ie": {
					"5.5": "p",
					"6": "p",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "IE7 does not support \"inherit\" as a value on any of these properties. IE8 has some bugs with max-width/height combined with overflow: auto/scroll.",
			"usage_perc_y": 94.36,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "min-width,min-height,max-width,max-height"
		},
		"details": {
			"title": "Details & Summary elements",
			"description": "The &lt;details> element generates a simple no-JavaScript widget to show/hide element contents, optionally by clicking on its child &lt;summary> element.",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#the-details-element",
			"status": "wd",
			"links": [{
				"url": "http://html5doctor.com/summary-figcaption-element/",
				"title": "HTML5 Doctor article"
			}, {
				"url": "http://mathiasbynens.be/notes/html5-details-jquery",
				"title": "jQuery fallback script"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/elements/details",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-details",
				"title": "has.js test"
			}, {
				"url": "https://gist.github.com/370590",
				"title": "Fallback script"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "p",
					"3.5": "p",
					"3.6": "p",
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p",
					"12": "p",
					"13": "p",
					"14": "p",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p",
					"19": "p",
					"20": "p",
					"21": "p",
					"22": "p",
					"23": "p",
					"24": "p",
					"25": "p",
					"26": "p",
					"27": "p"
				},
				"chrome": {
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "p",
					"5": "p",
					"5.1": "p",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "p",
					"9.5-9.6": "p",
					"10.0-10.1": "p",
					"10.5": "p",
					"10.6": "p",
					"11": "p",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "p",
					"4.0-4.1": "p",
					"4.2-4.3": "p",
					"5.0-5.1": "p",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "p"
				},
				"android": {
					"2.1": "p",
					"2.2": "p",
					"2.3": "p",
					"3": "p",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "p",
					"10": "y"
				},
				"op_mob": {
					"10": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"12": "p",
					"12.1": "p",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 44.5,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"text-stroke": {
			"title": "CSS text-stroke",
			"description": "Method of declaring the outline (stroke) width and color for text.",
			"spec": "http://developer.apple.com/library/safari/documentation/appleapplications/reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/doc/uid/TP30001266-_webkit_text_stroke",
			"status": "unoff",
			"links": [{
				"url": "http://www.westciv.com/tools/textStroke/",
				"title": "Live editor"
			}, {
				"url": "http://css-tricks.com/7405-adding-stroke-to-web-text/",
				"title": "Information & workarounds"
			}],
			"categories": ["CSS"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "u",
					"27": "u"
				},
				"chrome": {
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "y x",
					"3.2": "y x",
					"4": "y x",
					"5": "y x",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "a x",
					"4.0-4.1": "y x",
					"4.2-4.3": "y x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y x",
					"2.2": "y x",
					"2.3": "y x",
					"3": "n",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y x"
				},
				"bb": {
					"7": "y x",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Does not yet appear in any W3C specification. Was briefly included in a spec as the \"text-outline\" property, but this was removed.",
			"usage_perc_y": 48.41,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "textstroke,stroke-color,stroke-width,fill-color"
		},
		"inline-block": {
			"title": "CSS inline-block",
			"description": "Method of displaying an element as a block while flowing it with text. ",
			"spec": "http://www.w3.org/TR/CSS21/visuren.html#fixed-positioning",
			"status": "rec",
			"links": [{
				"url": "http://robertnyman.com/2010/02/24/css-display-inline-block-why-it-rocks-and-why-it-sucks/",
				"title": "Blog post w/info"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/display",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://blog.mozilla.com/webdev/2009/02/20/cross-browser-inline-block/",
				"title": "Info on cross browser support"
			}],
			"categories": ["CSS2"],
			"stats": {
				"ie": {
					"5.5": "a",
					"6": "a",
					"7": "a",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "a x",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Only supported in IE6 and IE7 on elements with a display of \"inline\" by default. <a href=\"http://blog.mozilla.com/webdev/2009/02/20/cross-browser-inline-block/\">Alternative properties</a> are available to provide complete cross-browser support.",
			"usage_perc_y": 93.84,
			"usage_perc_a": 0.74,
			"ucprefix": false,
			"parent": "",
			"keywords": "inlineblock"
		},
		"notifications": {
			"title": "Web Notifications",
			"description": "Method of alerting the user outside of a web page by displaying notifications (that do not require interaction by the user).",
			"spec": "http://www.w3.org/TR/notifications/",
			"status": "wd",
			"links": [{
				"url": "http://www.html5rocks.com/tutorials/notifications/quick/",
				"title": "HTML5 Rocks tutorial"
			}, {
				"url": "http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification",
				"title": "Chromium API"
			}, {
				"url": "https://addons.mozilla.org/en-us/firefox/addon/221523/",
				"title": "Add-on "
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "a x",
					"21": "a x",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "a x"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "a x"
				},
				"and_chr": {
					"0": "a x"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 45.27,
			"usage_perc_a": 2.66,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"stream": {
			"title": "getUserMedia/Stream API",
			"description": "Method of accessing external device data (such as a webcam video stream). Formerly this was envisioned as the &lt;device> element.",
			"spec": "http://www.w3.org/TR/mediacapture-streams/",
			"status": "wd",
			"links": [{
				"url": "http://my.opera.com/core/blog/2011/03/23/webcam-orientation-preview",
				"title": "Technology preview from Opera"
			}, {
				"url": "http://docs.webplatform.org/wiki/dom/methods/getUserMedia",
				"title": "WebPlatform Docs"
			}],
			"categories": ["HTML5", "JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "y",
					"12.1": "y",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "y",
					"12.1": "y",
					"0": "y x"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 48.44,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "camera,device,getUserMedia,media stream,Media Capture API"
		},
		"svg-img": {
			"title": "SVG in HTML img element",
			"description": "Method of displaying SVG images in HTML using &lt;img>",
			"spec": "http://www.w3.org/TR/html5/embedded-content-1.html#the-img-element",
			"status": "cr",
			"links": [{
				"url": "http://www.codedread.com/blog/",
				"title": "Blog with SVGs an images"
			}, {
				"url": "http://blog.dholbert.org/2010/10/svg-as-image.html",
				"title": "Blog post with examples"
			}],
			"categories": ["SVG"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "a",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 83.65,
			"usage_perc_a": 0.01,
			"ucprefix": false,
			"parent": "",
			"keywords": "svg-as-img,svg-in-img"
		},
		"datalist": {
			"title": "Datalist element",
			"description": "Method of setting a list of options for a user to select in a text field, while leaving the ability to enter a custom value.",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/the-button-element.html#the-datalist-element",
			"status": "wd",
			"links": [{
				"url": "http://demo.agektmr.com/datalist/",
				"title": "Eiji Kitamura's options demos & tests"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/elements/datalist",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/en/HTML/Element/datalist",
				"title": "MDN reference"
			}, {
				"url": "http://afarkas.github.com/webshim/demos/",
				"title": "HTML5 Library including datalist support"
			}, {
				"url": "http://hacks.mozilla.org/2010/11/firefox-4-html5-forms/",
				"title": "Mozilla Hacks article"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "p",
					"3": "p",
					"3.5": "p",
					"3.6": "p",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p",
					"12": "p",
					"13": "p",
					"14": "p",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p",
					"19": "n",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "p",
					"3.2": "p",
					"4": "p",
					"5": "p",
					"5.1": "p",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "p",
					"4.0-4.1": "p",
					"4.2-4.3": "p",
					"5.0-5.1": "p",
					"6.0-6.1": "p",
					"7.0": "p"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "p",
					"2.2": "p",
					"2.3": "p",
					"3": "p",
					"4": "p",
					"4.1": "p",
					"4.2-4.3": "p",
					"4.4": "p"
				},
				"bb": {
					"7": "p",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "p"
				},
				"and_chr": {
					"0": "p"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "p"
				}
			},
			"notes": "Partial support in IE10 refers to <a href=\"http://playground.onereason.eu/2013/04/ie10s-lousy-support-for-datalists/\">significantly buggy behavior</a>.",
			"usage_perc_y": 48.86,
			"usage_perc_a": 10.9,
			"ucprefix": false,
			"parent": "forms",
			"keywords": "list attribute"
		},
		"dataset": {
			"title": "dataset & data-* attributes",
			"description": "Method of applying and accessing custom data to elements.",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#embedding-custom-non-visible-data-with-the-data-*-attributes",
			"status": "wd",
			"links": [{
				"url": "http://www.orangesoda.net/jquery.dataset.html",
				"title": "jQuery polyfill for dataset support"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/dom.js#dom-dataset",
				"title": "has.js test"
			}, {
				"url": "http://html5demos.com/dataset",
				"title": "Demo using dataset"
			}, {
				"url": "http://html5doctor.com/html5-custom-data-attributes/",
				"title": "HTML5 Doctor article"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/attributes/data-*",
				"title": "WebPlatform Docs"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "y"
				},
				"firefox": {
					"2": "a",
					"3": "a",
					"3.5": "a",
					"3.6": "a",
					"4": "a",
					"5": "a",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a",
					"3.2": "a",
					"4": "a",
					"5": "a",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "a",
					"9.5-9.6": "a",
					"10.0-10.1": "a",
					"10.5": "a",
					"10.6": "a",
					"11": "a",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "a",
					"2.2": "a",
					"2.3": "a",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "a",
					"11": "a",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "All browsers can already use data-* attributes and access them using getAttribute. \"Supported\" refers to accessing the values using the dataset property. Current spec only refers to support on HTML elements, only some browsers also have support for SVG/MathML elements.",
			"usage_perc_y": 62.15,
			"usage_perc_a": 32.43,
			"ucprefix": false,
			"parent": "",
			"keywords": "DOMStringMap"
		},
		"css-grid": {
			"title": "CSS Grid Layout",
			"description": "Method of using a grid concept to lay out content, providing a mechanism for authors to divide available space for lay out into columns and rows using a set of predictable sizing behaviors",
			"spec": "http://www.w3.org/TR/css3-grid-layout/",
			"status": "wd",
			"links": [{
				"url": "https://bugzilla.mozilla.org/show_bug.cgi?id=616605",
				"title": "Mozilla (Firefox) feature request"
			}, {
				"url": "http://blogs.msdn.com/b/ie/archive/2011/04/14/ie10-platform-preview-and-css-features-for-adaptive-layouts.aspx",
				"title": "IE Blog post"
			}, {
				"url": "https://github.com/codler/Grid-Layout-Polyfill",
				"title": "Grid Layout Polyfill"
			}, {
				"url": "https://bugs.webkit.org/show_bug.cgi?id=60731",
				"title": "Webkit (Chrome, Safari, etc.) feature request"
			}],
			"categories": ["CSS"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "p",
					"10": "y x",
					"11": "y x"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "p",
					"20": "p",
					"21": "p",
					"22": "p",
					"23": "p",
					"24": "p",
					"25": "p",
					"26": "u",
					"27": "u"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "p",
					"26": "p",
					"27": "p",
					"28": "p",
					"29": "p",
					"30": "p",
					"31": "u",
					"32": "u"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "p",
					"6.1": "p",
					"7": "p"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "p",
					"7.0": "p"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "p",
					"4.4": "p"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "p"
				},
				"and_chr": {
					"0": "p"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "y x"
				}
			},
			"notes": "",
			"usage_perc_y": 11.11,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "grids,grid-row,grid-column"
		},
		"menu": {
			"title": "Toolbar/context menu",
			"description": "Method of defining a toolbar menu, a context menu or a list of (interactive) options using the &lt;menu> element.",
			"spec": "http://www.w3.org/TR/html5/interactive-elements.html#context-menus",
			"status": "cr",
			"links": [{
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/events.js#event-contextmenu",
				"title": "has.js test"
			}, {
				"url": "https://bug617528.bugzilla.mozilla.org/attachment.cgi?id=554309",
				"title": "Demo"
			}, {
				"url": "http://addyosmani.github.com/jQuery-contextMenu/",
				"title": "jQuery polyfill"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "u",
					"32": "u"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Partial support in Firefox refers to using the non-standard \"menuitem\" child elements, where the current spec uses \"<a href=\"http://www.w3.org/TR/html5/interactive-elements.html#the-command-element\">command</a>\" child elements. It is also currently limited to context menus, not toolbar menus.",
			"usage_perc_y": 0,
			"usage_perc_a": 14.7,
			"ucprefix": false,
			"parent": "",
			"keywords": "contextmenu,menuitem,command"
		},
		"rem": {
			"title": "rem (root em) units",
			"description": "Type of unit similar to \"em\", but relative only to the root element, not any parent element. Thus compounding does not occur as it does with \"em\" units.",
			"spec": "http://www.w3.org/TR/css3-values/#font-relative-lengths",
			"status": "cr",
			"links": [{
				"url": "http://snook.ca/archives/html_and_css/font-size-with-rem",
				"title": "Article on usage"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "u",
					"5": "u",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 80.56,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"ttf": {
			"title": "TTF/OTF - TrueType and OpenType font support",
			"description": "Support for the TrueType (.ttf)and OpenType (.otf) outline font formats in @font-face. ",
			"spec": "http://developer.apple.com/fonts/TTRefMan/index.html",
			"status": "other",
			"links": [{
				"url": "http://stackoverflow.com/questions/17694143/what-is-the-status-of-ttf-support-in-internet-explorer",
				"title": "What is the status of TTF support in Internet Explorer?"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "a",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "u"
				}
			},
			"notes": "Partial support in IE9 refers to the fonts only working <a href=\"http://blogs.msdn.com/b/ie/archive/2010/07/15/the-css-corner-better-web-typography-for-better-design.aspx\">when set to be \"installable\"</a>.",
			"usage_perc_y": 64.48,
			"usage_perc_a": 16.11,
			"ucprefix": false,
			"parent": "fontface",
			"keywords": ""
		},
		"touch": {
			"title": "Touch events",
			"description": "Method of registering when, where and how the interface is touched, for devices with a touch screen. These DOM events are similar to mousedown, mousemove, etc.",
			"spec": "http://www.w3.org/TR/touch-events/",
			"status": "rec",
			"links": [{
				"url": "http://schepers.cc/getintouch",
				"title": "Information on the spec development"
			}, {
				"url": "http://www.quirksmode.org/mobile/tableTouch.html",
				"title": "Detailed support tables"
			}, {
				"url": "http://www.quirksmode.org/m/tests/drag2.html",
				"title": "Multi-touch demo"
			}, {
				"url": "http://msdn.microsoft.com/en-us/library/ie/hh673557(v=vs.85).aspx",
				"title": "Internet Explorer's gesture and touch implementation."
			}],
			"categories": ["DOM", "JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "p",
					"11": "p"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "a",
					"5": "a",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "p"
				}
			},
			"notes": "Internet Explorer implements Pointer Events specification which supports more input devices than Touch Events one.",
			"usage_perc_y": 58.16,
			"usage_perc_a": 0.12,
			"ucprefix": false,
			"parent": "",
			"keywords": "touchstart,touchend,touchmove,touchenter,touchleave,touchcancel"
		},
		"matchesselector": {
			"title": "matches() DOM method",
			"description": "Method of testing whether or not a DOM element matches a given selector. Formerly known (and largely supported with prefix) as matchesSelector.",
			"spec": "http://www.w3.org/TR/selectors-api2/",
			"status": "wd",
			"links": [{
				"url": "https://developer.mozilla.org/en/DOM/Element.mozMatchesSelector",
				"title": "MDN article"
			}, {
				"url": "http://docs.webplatform.org/wiki/dom/methods/matchesSelector",
				"title": "WebPlatform Docs"
			}],
			"categories": ["DOM", "JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "a x",
					"10": "a x",
					"11": "a x"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "a x",
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "a x",
					"21": "a x",
					"22": "a x",
					"23": "a x",
					"24": "a x",
					"25": "a x",
					"26": "a x",
					"27": "a x"
				},
				"chrome": {
					"4": "a x",
					"5": "a x",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "a x",
					"21": "a x",
					"22": "a x",
					"23": "a x",
					"24": "a x",
					"25": "a x",
					"26": "a x",
					"27": "a x",
					"28": "a x",
					"29": "a x",
					"30": "a x",
					"31": "a x",
					"32": "a x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "a x",
					"5.1": "a x",
					"6": "a x",
					"6.1": "a x",
					"7": "a x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "a x",
					"11.6": "a x",
					"12": "a x",
					"12.1": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "a x",
					"4.2-4.3": "a x",
					"5.0-5.1": "a x",
					"6.0-6.1": "a x",
					"7.0": "a x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "a x",
					"2.3": "a x",
					"3": "a x",
					"4": "a x",
					"4.1": "a x",
					"4.2-4.3": "a x",
					"4.4": "a x"
				},
				"bb": {
					"7": "a x",
					"10": "a x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "a x",
					"11.5": "a x",
					"12": "a x",
					"12.1": "a x",
					"0": "a x"
				},
				"and_chr": {
					"0": "a x"
				},
				"and_ff": {
					"0": "a x"
				},
				"ie_mob": {
					"10": "a x"
				}
			},
			"notes": "Partial support refers to supporting the older specification's \"matchesSelector\" name rather than just \"matches\".",
			"usage_perc_y": 0,
			"usage_perc_a": 80.6,
			"ucprefix": false,
			"parent": "",
			"keywords": " matchesSelector"
		},
		"pointer-events": {
			"title": "CSS pointer-events (for HTML)",
			"description": "This CSS property, when set to \"none\" allows elements to not receive hover/click events, instead the event will occur on anything behind it. ",
			"spec": "http://wiki.csswg.org/spec/css4-ui#pointer-events",
			"status": "unoff",
			"links": [{
				"url": "http://robertnyman.com/2010/03/22/css-pointer-events-to-allow-clicks-on-underlying-elements/",
				"title": "Article & tutorial"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-pointerevents",
				"title": "has.js test"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Already part of the SVG specification, and all SVG-supporting browsers appear to support the property on SVG elements.",
			"usage_perc_y": 63.82,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "pointerevents"
		},
		"blobbuilder": {
			"title": "Blob constructing",
			"description": "Construct Blobs (binary large objects) either using the BlobBuilder API (deprecated) or the Blob constructor.",
			"spec": "http://www.w3.org/TR/file-writer-api/#the-blobbuilder-interface",
			"status": "wd",
			"links": [{
				"url": "https://developer.mozilla.org/en/DOM/BlobBuilder",
				"title": "MDN article on BlobBuilder"
			}, {
				"url": "https://developer.mozilla.org/en-US/docs/DOM/Blob",
				"title": "MDN article on Blobs"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "a x",
					"7": "a x",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "a x",
					"4": "a x",
					"4.1": "a x",
					"4.2-4.3": "a x",
					"4.4": "a x"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "a x"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support refers to only supporting the now deprecated BlobBuilder to create blobs.",
			"usage_perc_y": 64.97,
			"usage_perc_a": 6.3,
			"ucprefix": true,
			"parent": "fileapi",
			"keywords": ""
		},
		"filereader": {
			"title": "FileReader API",
			"description": "Method of reading the contents of a File or Blob object into memory",
			"spec": "http://www.w3.org/TR/FileAPI/#dfn-filereader",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/apis/file/FileReader",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/en/DOM/FileReader",
				"title": "FileReader API"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 71.89,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "fileapi",
			"keywords": ""
		},
		"filesystem": {
			"title": "Filesystem & FileWriter API",
			"description": "Method of reading and writing files to a sandboxed file system.\r\n",
			"spec": "http://www.w3.org/TR/file-system-api/",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/apis/filesystem",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.html5rocks.com/en/tutorials/file/filesystem/",
				"title": "HTML5 Rocks tutorial"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "a x",
					"9": "a x",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y x"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 34.87,
			"usage_perc_a": 0.28,
			"ucprefix": false,
			"parent": "",
			"keywords": "filewriter"
		},
		"bloburls": {
			"title": "Blob URLs",
			"description": "Method of creating URL handles to the specified File or Blob object.",
			"spec": "http://www.w3.org/TR/FileAPI/#url",
			"status": "wd",
			"links": [{
				"url": "https://developer.mozilla.org/en/DOM/window.URL.createObjectURL",
				"title": "MDN article"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y x",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y x",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 70.6,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "fileapi",
			"keywords": "createobjecturl"
		},
		"typedarrays": {
			"title": "Typed Arrays",
			"description": "JavaScript typed arrays provide a mechanism for accessing raw binary data much more efficiently.\r\n",
			"spec": "http://www.khronos.org/registry/typedarray/specs/latest/",
			"status": "other",
			"links": [{
				"url": "https://developer.mozilla.org/en/javascript_typed_arrays",
				"title": "MDN article"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 73.11,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "float64array,dataview,uint8array"
		},
		"deviceorientation": {
			"title": "DeviceOrientation events",
			"description": "API for detecting orientation and motion events from the device running the browser.",
			"spec": "http://www.w3.org/TR/orientation-event/",
			"status": "wd",
			"links": [{
				"url": "http://html5labs.interoperabilitybridges.com/prototypes/device-orientation-events/device-orientation-events/info",
				"title": "DeviceOrientation implementation prototype for IE10"
			}, {
				"url": "http://www.html5rocks.com/en/tutorials/device/orientation/",
				"title": "HTML5 Rocks tutorial"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-orientation",
				"title": "has.js test"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "a"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "p",
					"4": "p",
					"5": "p",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a",
					"28": "a",
					"29": "a",
					"30": "a",
					"31": "a",
					"32": "a"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "a",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "a",
					"4": "a",
					"4.1": "a",
					"4.2-4.3": "a",
					"4.4": "a"
				},
				"bb": {
					"7": "n",
					"10": "a"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "y",
					"12.1": "y",
					"0": "a"
				},
				"and_chr": {
					"0": "a"
				},
				"and_ff": {
					"0": "a"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Partial support refers to the lack of compassneedscalibration event. Partial support also refers to the lack of devicemotion event support for Chrome 30- and Opera. Opera Mobile 14 lost the ondevicemotion event support. Firefox 3.6, 4 and 5 support the non-standard <a href=\"https://developer.mozilla.org/en/DOM/MozOrientation\">MozOrientation</a> event.",
			"usage_perc_y": 0.14,
			"usage_perc_a": 57.76,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"script-defer": {
			"title": "defer attribute for external scripts",
			"description": "The boolean defer attribute on script elements allows the external JavaScript file to run when the DOM is loaded, without delaying page load first.",
			"spec": "http://www.w3.org/TR/html5/the-script-element.html#attr-script-defer",
			"status": "cr",
			"links": [{
				"url": "https://developer.mozilla.org/en/HTML/Element/script#Attributes",
				"title": "MDN article"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/attributes/defer",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/script.js#script-defer",
				"title": "has.js test"
			}],
			"categories": ["DOM", "HTML5"],
			"stats": {
				"ie": {
					"5.5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support refers to a buggy implementation in IE<10",
			"usage_perc_y": 73.17,
			"usage_perc_a": 14.25,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"nav-timing": {
			"title": "Navigation Timing API",
			"description": "API for accessing timing information related to navigation and elements.",
			"spec": "http://www.w3.org/TR/navigation-timing/",
			"status": "cr",
			"links": [{
				"url": "https://developer.mozilla.org/en/API/navigationTiming",
				"title": "MDN article"
			}, {
				"url": "http://www.html5rocks.com/en/tutorials/webperformance/basics/",
				"title": "HTML5 Rocks tutorial"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/navigation_timing",
				"title": "WebPlatform Docs"
			}],
			"categories": ["DOM", "JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 69.95,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "performance,performance.timing"
		},
		"audio-api": {
			"title": "Web Audio API",
			"description": "High-level JavaScript API for processing and synthesizing audio",
			"spec": "http://www.w3.org/TR/webaudio/",
			"status": "wd",
			"links": [{
				"url": "http://www.doboism.com/projects/webaudio-compatibility/",
				"title": "Additional browser compatibility tests for specific features"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/webaudio",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://github.com/corbanbrook/audionode.js",
				"title": "Polyfill to support Web Audio API in Firefox"
			}, {
				"url": "https://github.com/g200kg/WAAPISim",
				"title": "Polyfill to enable Web Audio API through Firefox Audio Data api or flash"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Firefox versions < 25 support an alternative, deprecated audio API.",
			"usage_perc_y": 41.68,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "web-audio"
		},
		"css-regions": {
			"title": "CSS Regions",
			"description": "Method of flowing content into multiple elements.",
			"spec": "http://www.w3.org/TR/css3-regions/",
			"status": "wd",
			"links": [{
				"url": "http://msdn.microsoft.com/en-us/ie/hh272902#_CSSConnected",
				"title": "IE10 developer guide info"
			}, {
				"url": "http://html.adobe.com/webstandards/cssregions/",
				"title": "Adobe demos and samples"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/atrules/@region",
				"title": "WebPlatform Docs"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "a x",
					"11": "a x"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "n",
					"32": "n"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "a x"
				}
			},
			"notes": "Currently supported in WebKit Nightly using <code>-webkit-flow-into: flow_name;</code> and <code>-webkit-from-flow: flow_name;</code>. Support in Chrome 19+ is disabled by default and can be enabled using a runtime flag (see <code>about:flags</code>) or a command line flag (see  <a href=\"http://peter.sh/experiments/chromium-command-line-switches/#enable-css-regions\">this list</a>). For Chrome 19-22 the flag is named \"Enable CSS Regions\" / <code>--enable-css-regions</code>, while for Chrome 23+ the flag is named \"Enable experimental WebKit features\" / <code>--enable-experimental-webkit-features</code>. Support in IE10 is limited to using an iframe as a content source with the <code>-ms-flow-into: flow_name;</code> and <code>-ms-flow-from: flow_name;</code> syntax. Support for Safari 6.1&7 is <a href=\"http://www.broken-links.com/2013/07/10/web-platform-technologies-in-safari-6-1-and-7/\">likely</a> but not official.",
			"usage_perc_y": 2.75,
			"usage_perc_a": 11.35,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"fullscreen": {
			"title": "Full Screen API",
			"description": "API for allowing content (like a video or canvas element) to take up the entire screen.",
			"spec": "http://www.w3.org/TR/fullscreen/",
			"status": "wd",
			"links": [{
				"url": "https://developer.mozilla.org/en/DOM/Using_full-screen_mode",
				"title": "MDN article"
			}, {
				"url": "http://jlongster.com/2011/11/21/canvas.html",
				"title": "Blog post"
			}, {
				"url": "http://hacks.mozilla.org/2012/01/using-the-fullscreen-api-in-web-browsers/",
				"title": "Mozilla hacks article"
			}, {
				"url": "http://docs.webplatform.org/wiki/dom/methods/requestFullscreen",
				"title": "WebPlatform Docs"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "y x"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "a x",
					"11": "a x",
					"12": "a x",
					"13": "a x",
					"14": "a x",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "a x",
					"21": "a x",
					"22": "a x",
					"23": "a x",
					"24": "a x",
					"25": "a x",
					"26": "a x",
					"27": "a x"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "a x",
					"16": "a x",
					"17": "a x",
					"18": "a x",
					"19": "a x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "a x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "y",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "a"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "a x"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Partial support refers to supporting an earlier draft of the spec.",
			"usage_perc_y": 37.35,
			"usage_perc_a": 16.21,
			"ucprefix": false,
			"parent": "",
			"keywords": "full-screen"
		},
		"requestanimationframe": {
			"title": "requestAnimationFrame",
			"description": "API allowing a more efficient way of running script-based animation, compared to traditional methods using timeouts.",
			"spec": "http://www.w3.org/TR/animation-timing/#requestAnimationFrame",
			"status": "wd",
			"links": [{
				"url": "http://hacks.mozilla.org/2011/08/animating-with-javascript-from-setinterval-to-requestanimationframe/",
				"title": "Mozilla Hacks article"
			}, {
				"url": "http://paulirish.com/2011/requestanimationframe-for-smart-animating/",
				"title": "Blog post"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/timing/methods/requestAnimationFrame",
				"title": "WebPlatform Docs"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y x",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y x",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 67.13,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"input-range": {
			"title": "Range input type",
			"description": "Form field type that allows the user to select a value using a slider widget.",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#range-state-(type=range)",
			"status": "wd",
			"links": [{
				"url": "https://github.com/fryn/html5slider",
				"title": "Polyfill for Firefox"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/elements/input/type/range",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://tutorialzine.com/2011/12/what-you-need-to-know-html5-range-input/",
				"title": "Tutorial"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-type-range",
				"title": "has.js test"
			}, {
				"url": "https://github.com/freqdec/fd-slider",
				"title": "Cross-browser polyfill"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "u",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a",
					"2.2": "a",
					"2.3": "a",
					"3": "a",
					"4": "a",
					"4.1": "a",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Currently all Android browsers with partial support hide the slider input field by default. However, the element <a href=\"http://tiffanybbrown.com/2012/02/07/input-typerange-and-androids-stock-browser/\">can be styled</a> to be made visible and usable.",
			"usage_perc_y": 68.52,
			"usage_perc_a": 4.31,
			"ucprefix": false,
			"parent": "forms",
			"keywords": ""
		},
		"matchmedia": {
			"title": "matchMedia",
			"description": "API for finding out whether or not a media query applies to the document.",
			"spec": "http://www.w3.org/TR/cssom-view/#dom-window-matchmedia",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/media_queries/apis/matchMedia",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://github.com/paulirish/matchMedia.js/",
				"title": "matchMedia.js polyfill"
			}, {
				"url": "https://developer.mozilla.org/en/DOM/window.matchMedia",
				"title": "MDN article"
			}, {
				"url": "https://developer.mozilla.org/en/CSS/Using_media_queries_from_code",
				"title": "MDN tutorial"
			}],
			"categories": ["JS API", "DOM"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 72.81,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "mediaquerylist"
		},
		"input-datetime": {
			"title": "Date/time input types",
			"description": "Form field widget to easily allow users to enter dates and/or times, generally by using a calendar widget.",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#date-state-(type=date)",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/html/elements/input/type/date",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://net.tutsplus.com/tutorials/javascript-ajax/quick-tip-cross-browser-datepickers-within-minutes/",
				"title": "Datepicker tutorial w/polyfill"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-type-datetime;input-type-datetime-local",
				"title": "has.js test"
			}, {
				"url": "https://github.com/zoltan-dulac/html5Forms.js",
				"title": "Polyfill for HTML5 forms"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a",
					"28": "a",
					"29": "a",
					"30": "a",
					"31": "a",
					"32": "a"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "a"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Safari provides date-formatted text fields, but no real calendar widget. Partial support in Chrome refers to a missing calendar widget for the \"datetime\" type (and other types in older versions). Some modified versions of the Android 4.x browser do have support for date/time fields. ",
			"usage_perc_y": 6.13,
			"usage_perc_a": 33.1,
			"ucprefix": false,
			"parent": "forms",
			"keywords": "datepicker,timepicker"
		},
		"input-color": {
			"title": "Color input type",
			"description": "Form field allowing the user to select a color.",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#color-state-(type=color)",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/html/elements/input/type/color",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://www.html5tutorial.info/html5-color.php",
				"title": "Tutorial"
			}, {
				"url": "https://github.com/jonstipe/color-polyfill",
				"title": "Polyfill"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "n",
					"16": "n",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 35.22,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "forms",
			"keywords": "colour"
		},
		"input-number": {
			"title": "Number input type",
			"description": "Form field type for numbers.",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#number-state-(type=number)",
			"status": "wd",
			"links": [{
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-type-number",
				"title": "has.js test"
			}, {
				"url": "http://www.html5tutorial.info/html5-number.php",
				"title": "Tutorial"
			}, {
				"url": "https://github.com/jonstipe/number-polyfill",
				"title": "Polyfill"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/elements/input/type/number",
				"title": "WebPlatform Docs"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "a",
					"11": "a"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "u",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "a",
					"4.1": "a",
					"4.2-4.3": "a",
					"4.4": "a"
				},
				"bb": {
					"7": "n",
					"10": "a"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "a"
				},
				"and_chr": {
					"0": "a"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "iOS Safari, Android 4 and Chrome for Android show number input, but do not use \"step\", \"min\" or \"max\" attributes or show increment/decrement buttons. Internet Explorer 10 does not show increment/decrement buttons.",
			"usage_perc_y": 38.44,
			"usage_perc_a": 20.1,
			"ucprefix": false,
			"parent": "forms",
			"keywords": "spinner"
		},
		"iframe-sandbox": {
			"title": "sandbox attribute for iframes",
			"description": "Method of running external site pages with reduced privileges (e.g. no JavaScript) in iframes",
			"spec": "http://www.w3.org/TR/html5/the-iframe-element.html#attr-iframe-sandbox",
			"status": "cr",
			"links": [{
				"url": "http://msdn.microsoft.com/en-us/hh563496",
				"title": "MSDN article"
			}, {
				"url": "http://blog.chromium.org/2010/05/security-in-depth-html5s-sandbox.html",
				"title": "Chromium blog article"
			}, {
				"url": "http://docs.webplatform.org/wiki/html/attributes/sandbox",
				"title": "WebPlatform Docs"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 59.45,
			"usage_perc_a": 13.57,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"css-counters": {
			"title": "CSS Counters",
			"description": "Method of controlling number values in generated content, using the counter-reset and counter-increment properties.",
			"spec": "http://www.w3.org/TR/CSS21/generate.html#counters",
			"status": "wd",
			"links": [{
				"url": "http://onwebdev.blogspot.com/2012/02/css-counters-tutorial.html",
				"title": "Tutorial and information"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/properties/counter-reset",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/en/CSS_Counters",
				"title": "MDN article"
			}],
			"categories": ["CSS2"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "y"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 93.86,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"css-resize": {
			"title": "CSS resize property",
			"description": "Method of allowing an element to be resized by the user, with options to limit to a given direction. ",
			"spec": "http://www.w3.org/TR/css3-ui/#resize",
			"status": "wd",
			"links": [{
				"url": "http://css-tricks.com/almanac/properties/r/resize/",
				"title": "CSS Tricks info"
			}, {
				"url": "http://davidwalsh.name/textarea-resize",
				"title": "On textarea resizing"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y x",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "a",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Opera 12.10+ currently only supports the resize property for textarea elements.",
			"usage_perc_y": 52.82,
			"usage_perc_a": 0.48,
			"ucprefix": false,
			"parent": "",
			"keywords": "horizontal,vertical"
		},
		"input-placeholder": {
			"title": "input placeholder attribute",
			"description": "Method of setting placeholder text for text-like input fields, to suggest the expected inserted information.",
			"spec": "http://dev.w3.org/html5/spec/Overview.html#attr-input-placeholder",
			"status": "cr",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/html/attributes/placeholder",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-attr-placeholder",
				"title": "has.js test"
			}, {
				"url": "http://www.zachleat.com/web/placeholder/",
				"title": "Article on usage"
			}, {
				"url": "https://github.com/mathiasbynens/jquery-placeholder",
				"title": "Polyfill"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a",
					"3.2": "a",
					"4": "a",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "a",
					"11.1": "a",
					"11.5": "a",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support in older Safari and Opera versions refers to lacking placeholder support on textarea elements. ",
			"usage_perc_y": 75.1,
			"usage_perc_a": 0.15,
			"ucprefix": false,
			"parent": "forms",
			"keywords": ""
		},
		"spdy": {
			"title": "SPDY networking protocol",
			"description": "Networking protocol for low-latency transport of content over the web.",
			"spec": "http://tools.ietf.org/html/draft-mbelshe-httpbis-spdy-00",
			"status": "unoff",
			"links": [{
				"url": "http://en.wikipedia.org/wiki/SPDY",
				"title": "Wikipedia"
			}, {
				"url": "http://dev.chromium.org/spdy/spdy-whitepaper",
				"title": "SPDY whitepaper"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "a"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "u"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 53.69,
			"usage_perc_a": 0.11,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"css-repeating-gradients": {
			"title": "CSS Repeating Gradients",
			"description": "Method of defining a repeating linear or radial color gradient as a CSS image.",
			"spec": "http://www.w3.org/TR/css3-images/#repeating-gradients",
			"status": "cr",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/repeating-linear-gradient",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/en/CSS/repeating-linear-gradient",
				"title": "MDN article"
			}, {
				"url": "http://www.css3files.com/gradient/#repeatinglineargradient",
				"title": "Information page"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "y x",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "a x",
					"11.5": "a x",
					"11.6": "y x",
					"12": "y x",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "a x",
					"11.5": "a x",
					"12": "y x",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Firefox 10+, Chrome 26+ and Opera 11.6+ also support the new \"to (side)\" syntax.",
			"usage_perc_y": 73.31,
			"usage_perc_a": 0.03,
			"ucprefix": false,
			"parent": "css-gradients",
			"keywords": ""
		},
		"css-filters": {
			"title": "CSS Filter Effects",
			"description": "Method of applying filter effects (like blur, grayscale, brightness, contrast and hue) to elements, previously only possible by using SVG.",
			"spec": "http://www.w3.org/TR/filter-effects/",
			"status": "wd",
			"links": [{
				"url": "http://dl.dropbox.com/u/3260327/angular/CSS3ImageManipulation.html",
				"title": "Filter editor"
			}, {
				"url": "http://bennettfeely.com/filters/",
				"title": "Filter Playground"
			}, {
				"url": "http://html5-demos.appspot.com/static/css/filters/index.html",
				"title": "Demo file for WebKit browsers"
			}, {
				"url": "http://www.html5rocks.com/en/tutorials/filters/understanding-css/",
				"title": "Mozilla hacks article"
			}],
			"categories": ["CSS3", "CSS"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "u",
					"27": "u"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y x"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Note that this property is significantly different from and incompatible with Microsoft's <a href=\"http://msdn.microsoft.com/en-us/library/ie/ms530752%28v=vs.85%29.aspx\">older \"filter\" property</a>.",
			"usage_perc_y": 40.55,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "sepia,hue-rotate,invert,saturate"
		},
		"getcomputedstyle": {
			"title": "getComputedStyle",
			"description": "API to get the current computed CSS styles applied to an element. This may be the current value applied by an animation or as set by a stylesheet.",
			"spec": "http://www.w3.org/TR/cssom/#dom-window-getcomputedstyle",
			"status": "rec",
			"links": [{
				"url": "http://ie.microsoft.com/testdrive/HTML5/getComputedStyle/",
				"title": "Demo"
			}, {
				"url": "http://snipplr.com/view/13523/",
				"title": "Polyfill for IE"
			}, {
				"url": "https://developer.mozilla.org/en/DOM/window.getComputedStyle",
				"title": "MDN article"
			}, {
				"url": "http://docs.webplatform.org/wiki/css/cssom/methods/getComputedStyle",
				"title": "WebPlatform Docs"
			}],
			"categories": ["JS API", "CSS3", "DOM"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "a",
					"3.5": "a",
					"3.6": "a",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "a",
					"3.2": "a",
					"4": "a",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "a",
					"9.5-9.6": "a",
					"10.0-10.1": "a",
					"10.5": "a",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "a"
				},
				"android": {
					"2.1": "a",
					"2.2": "a",
					"2.3": "a",
					"3": "a",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "a",
					"10": "y"
				},
				"op_mob": {
					"10": "a",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support in older Firefox versions refers to requiring the second parameter to be included. Partial support in all other browsers refers to not supporting getComputedStyle on pseudo-elements.",
			"usage_perc_y": 78.53,
			"usage_perc_a": 7,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"word-break": {
			"title": "CSS3 word-break",
			"description": "Property to prevent or allow words to be broken over multiple lines between letters.",
			"spec": "http://www.w3.org/TR/css3-text/#word-break",
			"status": "wd",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/properties/word-break",
				"title": "WebPlatform Docs"
			}, {
				"url": "https://developer.mozilla.org/en/CSS/word-break",
				"title": "MDN article"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "a",
					"5": "a",
					"6": "a",
					"7": "a",
					"8": "a",
					"9": "a",
					"10": "a",
					"11": "a",
					"12": "a",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a",
					"28": "a",
					"29": "a",
					"30": "a",
					"31": "a",
					"32": "a"
				},
				"safari": {
					"3.1": "a",
					"3.2": "a",
					"4": "a",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a"
				},
				"ios_saf": {
					"3.2": "a",
					"4.0-4.1": "a",
					"4.2-4.3": "a",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "a",
					"2.2": "a",
					"2.3": "a",
					"3": "a",
					"4": "a",
					"4.1": "a",
					"4.2-4.3": "a",
					"4.4": "a"
				},
				"bb": {
					"7": "a",
					"10": "a"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "a"
				},
				"and_chr": {
					"0": "a"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "Partial support refers to supporting the \"break-all\" value, but not the \"keep-all\" value.",
			"usage_perc_y": 39.39,
			"usage_perc_a": 48.42,
			"ucprefix": false,
			"parent": "",
			"keywords": "break-all,keep-all"
		},
		"viewport-units": {
			"title": "Viewport units: vw, vh, vmin, vmax",
			"description": "Length units representing 1% of the viewport size for viewport width (vw), height (vh), the smaller of the two (vmin), or the larger of the two (vmax).",
			"spec": "http://www.w3.org/TR/css3-values/#viewport-relative-lengths",
			"status": "cr",
			"links": [{
				"url": "http://css-tricks.com/viewport-sized-typography/",
				"title": "Blog post"
			}, {
				"url": "https://github.com/saabi/vminpoly",
				"title": "Polyfill"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "a",
					"10": "a",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "a",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "a"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "a"
				}
			},
			"notes": "Partial support in IE9 refers to supporting \"vm\" instead of \"vmin\". All other partial support refers to not supporting the \"vmax\" unit.",
			"usage_perc_y": 48.9,
			"usage_perc_a": 21.18,
			"ucprefix": false,
			"parent": "",
			"keywords": "vm,viewport-percentage"
		},
		"contentsecuritypolicy": {
			"title": "Content Security Policy",
			"description": "Mitigate cross-site scripting attacks by whitelisting allowed sources of script, style, and other resources.",
			"spec": "http://www.w3.org/TR/CSP/",
			"status": "cr",
			"links": [{
				"url": "http://content-security-policy.com/",
				"title": "CSP Examples & Quick Reference"
			}, {
				"url": "http://html5rocks.com/en/tutorials/security/content-security-policy/",
				"title": "HTML5Rocks article"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "a x",
					"11": "a x"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "a x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "a x",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "a x"
				}
			},
			"notes": "The HTTP header is 'X-Content-Security-Policy' for Firefox and IE 10&11, and 'X-WebKit-CSP' for Safari and Chrome. IE 10&11's support is limited to the 'sandbox' directive.",
			"usage_perc_y": 55.74,
			"usage_perc_a": 12.68,
			"ucprefix": false,
			"parent": "",
			"keywords": "csp,security,header"
		},
		"pagevisibility": {
			"title": "PageVisibility",
			"description": "JavaScript API for determining whether a document is visible on the display",
			"spec": "http://www.w3.org/TR/page-visibility/",
			"status": "cr",
			"links": [{
				"url": "https://developer.mozilla.org/en-US/docs/DOM/Using_the_Page_Visibility_API",
				"title": "MDN article"
			}, {
				"url": "http://docs.webplatform.org/wiki/apis/timing/properties/visibilityState",
				"title": "WebPlatform Docs"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "y",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y x"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "y",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 63.89,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "visibilitystate"
		},
		"stricttransportsecurity": {
			"title": "Strict Transport Security",
			"description": "Declare that a website is only accessible over a secure connection (HTTPS).",
			"spec": "http://tools.ietf.org/html/rfc6797",
			"status": "other",
			"links": [{
				"url": "http://dev.chromium.org/sts",
				"title": "Strict Transport Security @ Chromium"
			}, {
				"url": "https://developer.mozilla.org/en-US/docs/Security/HTTP_Strict_Transport_Security",
				"title": "Strict Transport Security @ Mozilla Developer Network"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "u"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "The HTTP header is 'Strict-Transport-Security'.",
			"usage_perc_y": 50.76,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "sts,hsts,security,header"
		},
		"style-scoped": {
			"title": "Scoped CSS",
			"description": "Allows CSS rules to be scoped to part of the document, based on the position of the style element.",
			"spec": "http://www.w3.org/TR/html5/document-metadata.html#attr-style-scoped",
			"status": "cr",
			"links": [{
				"url": "https://github.com/PM5544/scoped-polyfill",
				"title": "Polyfill"
			}, {
				"url": "http://html5doctor.com/the-scoped-attribute/",
				"title": "HTML5 Doctor article"
			}, {
				"url": "http://updates.html5rocks.com/2012/03/A-New-Experimental-Feature-style-scoped",
				"title": "HTML5Rocks article"
			}],
			"categories": ["CSS", "HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "u",
					"32": "u"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "u",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Supported in Chrome 20+ by enabling the \"experimental WebKit features\" flag in chrome://flags.",
			"usage_perc_y": 13.05,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "scope"
		},
		"svg-fragment": {
			"title": "SVG fragment identifiers",
			"description": "Method of displaying only a part of an SVG image by defining a view ID or view box dimensions as the file's fragment identifier.",
			"spec": "http://www.w3.org/TR/SVG/linking.html#SVGFragmentIdentifiers",
			"status": "rec",
			"links": [{
				"url": "http://www.broken-links.com/2012/08/14/better-svg-sprites-with-fragment-identifiers/",
				"title": "Blog post"
			}],
			"categories": ["SVG"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "u",
					"32": "u"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "u",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 25.15,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "fragments,sprite"
		},
		"outline": {
			"title": "CSS outline",
			"description": "The CSS outline property is a shorthand property for setting one or more of the individual outline properties outline-style, outline-width and outline-color in a single rule. In most cases the use of this shortcut is preferable and more convenient.",
			"spec": "http://www.w3.org/TR/CSS2/ui.html#propdef-outline",
			"status": "rec",
			"links": [{
				"url": "https://developer.mozilla.org/en-US/docs/CSS/outline",
				"title": "Mozilla Developer Network: outline"
			}, {
				"url": "http://dev.w3.org/csswg/css3-ui/#outline",
				"title": "CSS Basic User Interface Module Level 3"
			}],
			"categories": ["CSS2"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y",
					"3": "y",
					"3.5": "y",
					"3.6": "y",
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "y",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "y",
					"4.0-4.1": "y",
					"4.2-4.3": "y",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y",
					"2.2": "y",
					"2.3": "y",
					"3": "y",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 89.27,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "-moz-outline,outline-width,outline-style,outline-color"
		},
		"download": {
			"title": "Download attribute",
			"description": "When used on an anchor, this attribute signifies that the resource it points to should be downloaded by the browser rather than navigate to it.",
			"spec": "http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#downloading-resources",
			"status": "wd",
			"links": [{
				"url": "http://html5-demos.appspot.com/static/a.download.html",
				"title": "Demo: creating a text file and downloading it."
			}, {
				"url": "http://updates.html5rocks.com/2011/08/Downloading-resources-in-HTML5-a-download",
				"title": "HTML5Rocks post"
			}],
			"categories": ["HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 48.02,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "download,a.download,a[download],download attribute"
		},
		"pointer": {
			"title": "Pointer events",
			"description": "This specification integrates various inputs from mice, touchscreens, and pens, making separate implementations no longer necessary and authoring for cross-device pointers easier. Not to be mistaken with the unrelated \"pointer-events\" CSS property.",
			"spec": "http://www.w3.org/TR/pointerevents/",
			"status": "cr",
			"links": [{
				"url": "http://blogs.msdn.com/b/eternalcoding/archive/2013/01/16/hand-js-a-polyfill-for-supporting-pointer-events-on-every-browser.aspx",
				"title": "Hand.js, the polyfill for browsers only supporting Touch Events"
			}, {
				"url": "http://blogs.msdn.com/b/ie/archive/2011/09/20/touch-input-for-ie10-and-metro-style-apps.aspx",
				"title": "Implementation of Pointer Events in IE10"
			}, {
				"url": "http://blogs.msdn.com/b/davrous/archive/2013/02/20/handling-touch-in-your-html5-apps-thanks-to-the-pointer-events-of-ie10-and-windows-8.aspx",
				"title": "Article & tutorial"
			}],
			"categories": ["DOM", "JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "a x",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p",
					"12": "p",
					"13": "p",
					"14": "p",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p",
					"19": "p",
					"20": "p",
					"21": "p",
					"22": "p",
					"23": "p",
					"24": "p",
					"25": "p",
					"26": "p",
					"27": "p"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "p",
					"23": "p",
					"24": "p",
					"25": "p",
					"26": "p",
					"27": "p",
					"28": "p",
					"29": "p",
					"30": "p",
					"31": "p",
					"32": "p"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p"
				},
				"ios_saf": {
					"3.2": "p",
					"4.0-4.1": "p",
					"4.2-4.3": "p",
					"5.0-5.1": "p",
					"6.0-6.1": "p",
					"7.0": "p"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "p",
					"2.2": "p",
					"2.3": "p",
					"3": "p",
					"4": "p",
					"4.1": "p",
					"4.2-4.3": "p",
					"4.4": "p"
				},
				"bb": {
					"7": "p",
					"10": "p"
				},
				"op_mob": {
					"10": "n",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"12": "p",
					"12.1": "p",
					"0": "p"
				},
				"and_chr": {
					"0": "p"
				},
				"and_ff": {
					"0": "p"
				},
				"ie_mob": {
					"10": "a x"
				}
			},
			"notes": "Partial support in IE10 refers the lack of pointerenter and pointerleave events.",
			"usage_perc_y": 0.11,
			"usage_perc_a": 10.99,
			"ucprefix": false,
			"parent": "",
			"keywords": "pointerdown,pointermove,pointerup,pointercancel,pointerover,pointerout,pointerenter,pointerleave"
		},
		"user-select-none": {
			"title": "CSS user-select: none",
			"description": "Method of preventing text/element selection using CSS. ",
			"spec": "https://developer.mozilla.org/en-US/docs/CSS/user-select",
			"status": "unoff",
			"links": [{
				"url": "http://msdn.microsoft.com/en-us/library/ie/hh781492(v=vs.85).aspx",
				"title": "MSDN Documentation"
			}, {
				"url": "https://developer.mozilla.org/en-US/docs/CSS/user-select",
				"title": "MDN article"
			}, {
				"url": "http://css-tricks.com/almanac/properties/u/user-select/",
				"title": "CSS Tricks article"
			}],
			"categories": ["CSS"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y x",
					"11": "y x"
				},
				"firefox": {
					"2": "y x",
					"3": "y x",
					"3.5": "y x",
					"3.6": "y x",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x"
				},
				"chrome": {
					"4": "u",
					"5": "u",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "y x",
					"3.2": "y x",
					"4": "y x",
					"5": "y x",
					"5.1": "y x",
					"6": "y x",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "y x",
					"4.0-4.1": "y x",
					"4.2-4.3": "y x",
					"5.0-5.1": "y x",
					"6.0-6.1": "y x",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "y x",
					"2.2": "y x",
					"2.3": "y x",
					"3": "y x",
					"4": "y x",
					"4.1": "y x",
					"4.2-4.3": "y x",
					"4.4": "y x"
				},
				"bb": {
					"7": "y x",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "y x"
				}
			},
			"notes": "Currently the user-select property does not appear in any W3C specification. Support information here is only for \"none\" value, not others.",
			"usage_perc_y": 74.91,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"webp": {
			"title": "WebP image format",
			"description": "Image format that supports lossy and lossless compression, as well as animation and alpha transparency.",
			"spec": "https://developers.google.com/speed/webp/",
			"status": "other",
			"links": [{
				"url": "http://libwebpjs.appspot.com/",
				"title": "Decoder in JS"
			}, {
				"url": "https://developers.google.com/speed/webp/",
				"title": "Official website"
			}, {
				"url": "http://antimatter15.github.io/weppy/demo.html",
				"title": "Polyfill for browsers with WebM support"
			}, {
				"url": "http://webpjs.appspot.com/",
				"title": "Polyfill for browsers with or without WebM support (i.e. IE6-IE9, Safari/iOS version 6.1 and below; Firefox versions 24 and bel"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "p",
					"5": "p",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "p",
					"10": "p",
					"11": "p",
					"12": "p",
					"13": "p",
					"14": "p",
					"15": "p",
					"16": "p",
					"17": "p",
					"18": "p",
					"19": "p",
					"20": "p",
					"21": "p",
					"22": "p",
					"23": "p",
					"24": "p",
					"25": "p",
					"26": "p",
					"27": "p"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "p",
					"7": "p",
					"8": "p",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "p",
					"11": "p",
					"11.1": "p",
					"11.5": "p",
					"11.6": "p",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "y",
					"4.1": "y",
					"4.2-4.3": "y",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "a",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Animated webp images are supported in Chrome 32+ and Opera 19+.",
			"usage_perc_y": 39.4,
			"usage_perc_a": 0.01,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"intrinsic-width": {
			"title": "Intrinsic & Extrinsic Sizing",
			"description": "Allows for the heights and widths to be specified in intrinsic values using the fill-available, max-content, min-content, and fit-content properties.",
			"spec": "http://www.w3.org/TR/css3-sizing/",
			"status": "wd",
			"links": [{
				"url": "http://demosthenes.info/blog/662/Design-From-the-Inside-Out-With-CSS-MinContent",
				"title": "Min-Content tutorial"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "y x",
					"7": "y x"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "y x"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y x"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Prefixes are on the values, not the property names (e.g. -webkit-min-content) Firefox currently supports the \"-moz-available\" property rather than \"-moz-fill-available\".",
			"usage_perc_y": 51.68,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "fill-available,max-content,min-content,fit-content,contain-floats"
		},
		"template": {
			"title": "HTML templates",
			"description": "Method of declaring a portion of reusable markup that is parsed but not rendered until cloned.",
			"spec": "http://www.w3.org/TR/html-templates/",
			"status": "wd",
			"links": [{
				"url": "http://www.html5rocks.com/en/tutorials/webcomponents/template/",
				"title": "HTML5Rocks - HTML's New template Tag"
			}, {
				"url": "http://polymer-project.org",
				"title": "Polymer project (polyfill & web compontents framework)"
			}],
			"categories": ["DOM", "HTML5"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 45.76,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "web components, template"
		},
		"opus": {
			"title": "Opus",
			"description": "Royalty-free open audio codec by IETF, which incorporated SILK from Skype and CELT from Xiph.org, to serve higher sound quality and lower latency at the same bitrate.",
			"spec": "http://tools.ietf.org/html/rfc6716",
			"status": "other",
			"links": [{
				"url": "https://hacks.mozilla.org/2012/07/firefox-beta-15-supports-the-new-opus-audio-format/",
				"title": "Introduction of Opus by Mozilla"
			}, {
				"url": "http://www.ietf.org/mail-archive/web/rtcweb/current/msg04953.html",
				"title": "Google's statement about the use of VP8 and Opus codec for WebRTC standard"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "n",
					"32": "n"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "u"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Chrome does not support Opus by default but users can enable it via the 'enable-opus-playback' flag. When it comes to Opera, it is said that the Linux version may be able to play it when the GStreamer module is up to date and the served mime-type is 'audio/ogg'.",
			"usage_perc_y": 14.04,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "audio",
			"keywords": ""
		},
		"jpegxr": {
			"title": "JPEG XR image format",
			"description": "The latest JPEG image format of Joint Photographic Experts Group which boasts better compression and supports lossless compression, alpha channel, and 48-bit deep color over normal jpg format.",
			"spec": "http://www.itu.int/rec/T-REC-T.832",
			"status": "other",
			"links": [{
				"url": "http://msdn.microsoft.com/en-us/library/windows/desktop/hh707223(v=vs.85).aspx",
				"title": "Microsoft JPEG XR Codec Overview"
			}],
			"categories": ["Other"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "n",
					"31": "n",
					"32": "n"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "n",
					"7": "n"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "n"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 16.32,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		},
		"channel-messaging": {
			"title": "Channel messaging",
			"description": "Method for having two-way communication between browsing contexts (using MessageChannel)",
			"spec": "http://www.w3.org/TR/webmessaging/#channel-messaging",
			"status": "cr",
			"links": [{
				"url": "http://dev.opera.com/articles/view/window-postmessage-messagechannel/#channel",
				"title": "An Introduction to HTML5 web messaging"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "u",
					"10.0-10.1": "u",
					"10.5": "u",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "y",
					"6.0-6.1": "y",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "u",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 55.07,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "x-doc-messaging",
			"keywords": ""
		},
		"css3-tabsize": {
			"title": "CSS3 tab-size",
			"description": "Method of customizing the width of a tab character. Only effective using 'white-space: pre'.",
			"spec": "http://www.w3.org/TR/css3-text/#tab-size1",
			"status": "wd",
			"links": [{
				"url": "https://developer.mozilla.org/en-US/docs/Web/CSS/tab-size",
				"title": "MDN article"
			}],
			"categories": ["CSS3"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "y x",
					"11": "y x",
					"11.1": "y x",
					"11.5": "y x",
					"11.6": "y x",
					"12": "y x",
					"12.1": "y x",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "y",
					"10": "y"
				},
				"op_mob": {
					"10": "n",
					"11": "y x",
					"11.1": "y x",
					"11.5": "y x",
					"12": "y x",
					"12.1": "y x",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 53.05,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "tab-size,tab-width"
		},
		"mutationobserver": {
			"title": "Mutation Observer",
			"description": "Method for observing and reacting to changes to the DOM. Replaces MutationEvents, which is deprecated.",
			"spec": "http://www.w3.org/TR/dom/",
			"status": "wd",
			"links": [{
				"url": "https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver",
				"title": "MutationObserver from MDN"
			}, {
				"url": "https://github.com/Polymer/MutationObservers",
				"title": "Polyfill"
			}],
			"categories": ["DOM", "JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "p",
					"10": "p",
					"11": "y"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "y x",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "y x",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "p",
					"4.1": "p",
					"4.2-4.3": "p",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "y x"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "p"
				}
			},
			"notes": "When the content of a node with a single CharacterData child node is changed by innerHTML attribute and the node have a single different one as a result, WebKit browsers consider it as a characterData mutation of the child CharacterData node, while other browsers think it as a childList mutation of the parent node.",
			"usage_perc_y": 54.8,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "MutationObserver"
		},
		"css-selection": {
			"title": "::selection CSS pseudo-element",
			"description": "The ::selection CSS pseudo-element applies rules to the portion of a document that has been highlighted (e.g., selected with the mouse or another pointing device) by the user.",
			"spec": "https://developer.mozilla.org/en-US/docs/Web/CSS/::selection",
			"status": "unoff",
			"links": [{
				"url": "http://docs.webplatform.org/wiki/css/selectors/pseudo-elements/::selection",
				"title": "WebPlatform Docs"
			}, {
				"url": "http://quirksmode.org/css/selectors/selection.html",
				"title": "::selection test"
			}],
			"categories": ["CSS"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "y",
					"10": "y",
					"11": "y"
				},
				"firefox": {
					"2": "y x",
					"3": "y x",
					"3.5": "y x",
					"3.6": "y x",
					"4": "y x",
					"5": "y x",
					"6": "y x",
					"7": "y x",
					"8": "y x",
					"9": "y x",
					"10": "y x",
					"11": "y x",
					"12": "y x",
					"13": "y x",
					"14": "y x",
					"15": "y x",
					"16": "y x",
					"17": "y x",
					"18": "y x",
					"19": "y x",
					"20": "y x",
					"21": "y x",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x"
				},
				"chrome": {
					"4": "y",
					"5": "y",
					"6": "y",
					"7": "y",
					"8": "y",
					"9": "y",
					"10": "y",
					"11": "y",
					"12": "y",
					"13": "y",
					"14": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y",
					"19": "y",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y",
					"28": "y",
					"29": "y",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "y",
					"3.2": "y",
					"4": "y",
					"5": "y",
					"5.1": "y",
					"6": "y",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "y",
					"10.0-10.1": "y",
					"10.5": "y",
					"10.6": "y",
					"11": "y",
					"11.1": "y",
					"11.5": "y",
					"11.6": "y",
					"12": "y",
					"12.1": "y",
					"15": "y",
					"16": "y",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "u",
					"11": "u",
					"11.1": "u",
					"11.5": "y",
					"12": "y",
					"12.1": "y",
					"0": "y"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "n"
				},
				"ie_mob": {
					"10": "y"
				}
			},
			"notes": "",
			"usage_perc_y": 71.68,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": "::selection,selection"
		},
		"canvas-blending": {
			"title": "Canvas blend modes",
			"description": "Method of defining the effect resulting from overlaying two layers on a Canvas element. ",
			"spec": "http://www.w3.org/TR/compositing-1/#blending",
			"status": "wd",
			"links": [{
				"url": "http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/",
				"title": "Blog post"
			}],
			"categories": ["Canvas"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "y",
					"21": "y",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "n",
					"24": "n",
					"25": "n",
					"26": "n",
					"27": "n",
					"28": "n",
					"29": "n",
					"30": "y",
					"31": "y",
					"32": "y"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "y",
					"7": "y"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "y",
					"18": "y"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "y"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "y"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "n"
				},
				"and_chr": {
					"0": "y"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "",
			"usage_perc_y": 42.33,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "canvas",
			"keywords": ""
		},
		"clipboard": {
			"title": "Clipboard API",
			"description": "API to provide copy, cut and paste functionality using the OS clipboard.",
			"spec": "http://www.w3.org/TR/clipboard-apis/",
			"status": "wd",
			"links": [{
				"url": "http://www.deluxeblogtips.com/2010/06/javascript-copy-to-clipboard.html",
				"title": "Blog post on cross-browser usage"
			}, {
				"url": "https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent",
				"title": "MDN page on ClipboardEvent"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "a #1",
					"6": "a #1",
					"7": "a #1",
					"8": "a #1",
					"9": "a #1",
					"10": "a #1",
					"11": "a #1"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "y",
					"23": "y",
					"24": "y",
					"25": "y",
					"26": "y",
					"27": "y"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "a",
					"14": "a",
					"15": "a",
					"16": "a",
					"17": "a",
					"18": "a",
					"19": "a",
					"20": "a",
					"21": "a",
					"22": "a",
					"23": "a",
					"24": "a",
					"25": "a",
					"26": "a",
					"27": "a",
					"28": "a",
					"29": "a",
					"30": "a",
					"31": "a",
					"32": "a"
				},
				"safari": {
					"3.1": "u",
					"3.2": "u",
					"4": "a",
					"5": "a",
					"5.1": "a",
					"6": "a",
					"6.1": "a",
					"7": "a"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "a",
					"17": "a",
					"18": "a"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "a",
					"6.0-6.1": "a",
					"7.0": "a"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "a"
				},
				"bb": {
					"7": "n",
					"10": "a"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "a"
				},
				"and_chr": {
					"0": "a"
				},
				"and_ff": {
					"0": "y"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "Partial support in IE refers using <a href=\"http://msdn.microsoft.com/en-us/library/ie/ms535220%28v=vs.85%29.aspx\">a non-standard method</a> of interacting with the clipboard. For other browsers it refers to not supporting the ClipboardEvent constructor.",
			"usage_perc_y": 12.83,
			"usage_perc_a": 67.91,
			"ucprefix": false,
			"parent": "",
			"keywords": "cut,copy,paste,clipboarddata"
		},
		"rtcpeerconnection": {
			"title": "WebRTC Peer-to-peer connections",
			"description": "Method of allowing two users to communicate directly, browser to browser using the RTCPeerConnection API.",
			"spec": "http://www.w3.org/TR/webrtc/#peer-to-peer-connections",
			"status": "wd",
			"links": [{
				"url": "http://www.webrtc.org/",
				"title": "WebRTC Project site"
			}],
			"categories": ["JS API"],
			"stats": {
				"ie": {
					"5.5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n"
				},
				"firefox": {
					"2": "n",
					"3": "n",
					"3.5": "n",
					"3.6": "n",
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "y x",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x"
				},
				"chrome": {
					"4": "n",
					"5": "n",
					"6": "n",
					"7": "n",
					"8": "n",
					"9": "n",
					"10": "n",
					"11": "n",
					"12": "n",
					"13": "n",
					"14": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n",
					"19": "n",
					"20": "n",
					"21": "n",
					"22": "n",
					"23": "y x",
					"24": "y x",
					"25": "y x",
					"26": "y x",
					"27": "y x",
					"28": "y x",
					"29": "y x",
					"30": "y x",
					"31": "y x",
					"32": "y x"
				},
				"safari": {
					"3.1": "n",
					"3.2": "n",
					"4": "n",
					"5": "n",
					"5.1": "n",
					"6": "n",
					"6.1": "u",
					"7": "u"
				},
				"opera": {
					"9": "n",
					"9.5-9.6": "n",
					"10.0-10.1": "n",
					"10.5": "n",
					"10.6": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"11.6": "n",
					"12": "n",
					"12.1": "n",
					"15": "n",
					"16": "n",
					"17": "n",
					"18": "n"
				},
				"ios_saf": {
					"3.2": "n",
					"4.0-4.1": "n",
					"4.2-4.3": "n",
					"5.0-5.1": "n",
					"6.0-6.1": "n",
					"7.0": "n"
				},
				"op_mini": {
					"5.0-7.0": "n"
				},
				"android": {
					"2.1": "n",
					"2.2": "n",
					"2.3": "n",
					"3": "n",
					"4": "n",
					"4.1": "n",
					"4.2-4.3": "n",
					"4.4": "n"
				},
				"bb": {
					"7": "n",
					"10": "n"
				},
				"op_mob": {
					"10": "n",
					"11": "n",
					"11.1": "n",
					"11.5": "n",
					"12": "n",
					"12.1": "n",
					"0": "y x"
				},
				"and_chr": {
					"0": "y x"
				},
				"and_ff": {
					"0": "y x"
				},
				"ie_mob": {
					"10": "n"
				}
			},
			"notes": "BlackBerry 10 recognizes RTCPeerConnection but real support is unconfirmed.",
			"usage_perc_y": 46.24,
			"usage_perc_a": 0,
			"ucprefix": false,
			"parent": "",
			"keywords": ""
		}
	}
}
},{}],36:[function(require,module,exports){
/**
 * Abstract implementation of edit tree interface.
 * Edit tree is a named container of editable ‚Äúname-value‚Äù child elements,
 * parsed from <code>source</code>. This container provides convenient methods
 * for editing/adding/removing child elements. All these update actions are
 * instantly reflected in the <code>source</code> code with respect of formatting.
 * <br><br>
 * For example, developer can create an edit tree from CSS rule and add or
 * remove properties from it‚Äìall changes will be immediately reflected in the
 * original source.
 * <br><br>
 * All classes defined in this module should be extended the same way as in
 * Backbone framework: using <code>extend</code> method to create new class and
 * <code>initialize</code> method to define custom class constructor.
 *
 * @example
 * <pre><code>
 * var MyClass = require('editTree/base').EditElement.extend({
 *     initialize: function() {
 *     // constructor code here
 *   }
 * });
 *
 * var elem = new MyClass();
 * </code></pre>
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var range = require('../assets/range');
	var utils = require('../utils/common');
	var klass = require('../vendor/klass');

	/**
	 * Named container of edited source
	 * @type EditContainer
	 * @param {String} source
	 * @param {Object} options
	 */
	function EditContainer(source, options) {
		this.options = utils.extend({offset: 0}, options);
		/**
		 * Source code of edited structure. All changes in the structure are
		 * immediately reflected into this property
		 */
		this.source = source;

		/**
		 * List of all editable children
		 * @private
		 */
		this._children = [];

		/**
		 * Hash of all positions of container
		 * @private
		 */
		this._positions = {
			name: 0
		};

		this.initialize.apply(this, arguments);
	}

	/**
	 * The self-propagating extend function for classes.
	 * @type Function
	 */
	EditContainer.extend = klass.extend;

	EditContainer.prototype = {
		type: 'container',
		/**
		 * Child class constructor
		 */
		initialize: function() {},

		/**
		 * Make position absolute
		 * @private
		 * @param {Number} num
		 * @param {Boolean} isAbsolute
		 * @returns {Boolean}
		 */
		_pos: function(num, isAbsolute) {
			return num + (isAbsolute ? this.options.offset : 0);
		},

		/**
		 * Replace substring of tag's source
		 * @param {String} value
		 * @param {Number} start
		 * @param {Number} end
		 * @private
		 */
		_updateSource: function(value, start, end) {
			// create modification range
			var r = range.create(start, typeof end === 'undefined' ? 0 : end - start);
			var delta = value.length - r.length();

			var update = function(obj) {
				Object.keys(obj).forEach(function(k) {
					if (obj[k] >= r.end) {
						obj[k] += delta;
					}
				});
			};

			// update affected positions of current container
			update(this._positions);

			// update affected positions of children
			var recursiveUpdate = function(items) {
				items.forEach(function(item) {
					update(item._positions);
					if (item.type == 'container') {
						recursiveUpdate(item.list());
					}
				});
			};

			recursiveUpdate(this.list());
			this.source = utils.replaceSubstring(this.source, value, r);
		},


		/**
		 * Adds new attribute
		 * @param {String} name Property name
		 * @param {String} value Property value
		 * @param {Number} pos Position at which to insert new property. By
		 * default the property is inserted at the end of rule
		 * @returns {EditElement} Newly created element
		 */
		add: function(name, value, pos) {
			// this is abstract implementation
			var item = new EditElement(name, value);
			this._children.push(item);
			return item;
		},

		/**
		 * Returns attribute object
		 * @param {String} name Attribute name or its index
		 * @returns {EditElement}
		 */
		get: function(name) {
			if (typeof name === 'number') {
				return this.list()[name];
			}

			if (typeof name === 'string') {
				return utils.find(this.list(), function(prop) {
					return prop.name() === name;
				});
			}

			return name;
		},

		/**
		 * Returns all children by name or indexes
		 * @param {Object} name Element name(s) or indexes (<code>String</code>,
		 * <code>Array</code>, <code>Number</code>)
		 * @returns {Array}
		 */
		getAll: function(name) {
			if (!Array.isArray(name))
				name = [name];

			// split names and indexes
			var names = [], indexes = [];
			name.forEach(function(item) {
				if (typeof item === 'string') {
					names.push(item);
				} else if (typeof item === 'number') {
					indexes.push(item);
				}
			});

			return this.list().filter(function(attribute, i) {
				return ~indexes.indexOf(i) || ~names.indexOf(attribute.name());
			});
		},

		/**
		 * Returns list of all editable child elements
		 * @returns {Array}
		 */
		list: function() {
			return this._children;
		},

		/**
		 * Remove child element
		 * @param {String} name Property name or its index
		 */
		remove: function(name) {
			var element = this.get(name);
			if (element) {
				this._updateSource('', element.fullRange());
				var ix = this._children.indexOf(element);
				if (~ix) {
					this._children.splice(ix, 1);
				}
			}
		},

		/**
		 * Returns index of editble child in list
		 * @param {Object} item
		 * @returns {Number}
		 */
		indexOf: function(item) {
			return this.list().indexOf(this.get(item));
		},

		/**
		 * Returns or updates element value. If such element doesn't exists,
		 * it will be created automatically and added at the end of child list.
		 * @param {String} name Element name or its index
		 * @param {String} value New element value
		 * @returns {String}
		 */
		value: function(name, value, pos) {
			var element = this.get(name);
			if (element)
				return element.value(value);

			if (typeof value !== 'undefined') {
				// no such element ‚Äî create it
				return this.add(name, value, pos);
			}
		},

		/**
		 * Returns all values of child elements found by <code>getAll()</code>
		 * method
		 * @param {Object} name Element name(s) or indexes (<code>String</code>,
		 * <code>Array</code>, <code>Number</code>)
		 * @returns {Array}
		 */
		values: function(name) {
			return this.getAll(name).map(function(element) {
				return element.value();
			});
		},

		/**
		 * Sets or gets container name
		 * @param {String} val New name. If not passed, current
		 * name is returned
		 * @return {String}
		 */
		name: function(val) {
			if (typeof val !== 'undefined' && this._name !== (val = String(val))) {
				this._updateSource(val, this._positions.name, this._positions.name + this._name.length);
				this._name = val;
			}

			return this._name;
		},

		/**
		 * Returns name range object
		 * @param {Boolean} isAbsolute Return absolute range (with respect of
		 * rule offset)
		 * @returns {Range}
		 */
		nameRange: function(isAbsolute) {
			return range.create(this._positions.name + (isAbsolute ? this.options.offset : 0), this.name());
		},

		/**
		 * Returns range of current source
		 * @param {Boolean} isAbsolute
		 */
		range: function(isAbsolute) {
			return range.create(isAbsolute ? this.options.offset : 0, this.valueOf());
		},

		/**
		 * Returns element that belongs to specified position
		 * @param {Number} pos
		 * @param {Boolean} isAbsolute
		 * @returns {EditElement}
		 */
		itemFromPosition: function(pos, isAbsolute) {
			return utils.find(this.list(), function(elem) {
				return elem.range(isAbsolute).inside(pos);
			});
		},

		/**
		 * Returns source code of current container
		 * @returns {String}
		 */
		toString: function() {
			return this.valueOf();
		},

		valueOf: function() {
			return this.source;
		}
	};

	/**
	 * @param {EditContainer} parent
	 * @param {Object} nameToken
	 * @param {Object} valueToken
	 */
	function EditElement(parent, nameToken, valueToken) {
		/** @type EditContainer */
		this.parent = parent;

		this._name = nameToken.value;
		this._value = valueToken ? valueToken.value : '';

		this._positions = {
			name: nameToken.start,
			value: valueToken ? valueToken.start : -1
		};

		this.initialize.apply(this, arguments);
	}

	/**
	 * The self-propagating extend function for classes.
	 * @type Function
	 */
	EditElement.extend = klass.extend;

	EditElement.prototype = {
		type: 'element',

		/**
		 * Child class constructor
		 */
		initialize: function() {},

		/**
		 * Make position absolute
		 * @private
		 * @param {Number} num
		 * @param {Boolean} isAbsolute
		 * @returns {Boolean}
		 */
		_pos: function(num, isAbsolute) {
			return num + (isAbsolute ? this.parent.options.offset : 0);
		},

		/**
		 * Sets of gets element value
		 * @param {String} val New element value. If not passed, current
		 * value is returned
		 * @returns {String}
		 */
		value: function(val) {
			if (typeof val !== 'undefined' && this._value !== (val = String(val))) {
				this.parent._updateSource(val, this.valueRange());
				this._value = val;
			}

			return this._value;
		},

		/**
		 * Sets of gets element name
		 * @param {String} val New element name. If not passed, current
		 * name is returned
		 * @returns {String}
		 */
		name: function(val) {
			if (typeof val !== 'undefined' && this._name !== (val = String(val))) {
				this.parent._updateSource(val, this.nameRange());
				this._name = val;
			}

			return this._name;
		},

		/**
		 * Returns position of element name token
		 * @param {Boolean} isAbsolute Return absolute position
		 * @returns {Number}
		 */
		namePosition: function(isAbsolute) {
			return this._pos(this._positions.name, isAbsolute);
		},

		/**
		 * Returns position of element value token
		 * @param {Boolean} isAbsolute Return absolute position
		 * @returns {Number}
		 */
		valuePosition: function(isAbsolute) {
			return this._pos(this._positions.value, isAbsolute);
		},

		/**
		 * Returns element name
		 * @param {Boolean} isAbsolute Return absolute range
		 * @returns {Range}
		 */
		range: function(isAbsolute) {
			return range.create(this.namePosition(isAbsolute), this.valueOf());
		},

		/**
		 * Returns full element range, including possible indentation
		 * @param {Boolean} isAbsolute Return absolute range
		 * @returns {Range}
		 */
		fullRange: function(isAbsolute) {
			return this.range(isAbsolute);
		},

		/**
		 * Returns element name range
		 * @param {Boolean} isAbsolute Return absolute range
		 * @returns {Range}
		 */
		nameRange: function(isAbsolute) {
			return range.create(this.namePosition(isAbsolute), this.name());
		},

		/**
		 * Returns element value range
		 * @param {Boolean} isAbsolute Return absolute range
		 * @returns {Range}
		 */
		valueRange: function(isAbsolute) {
			return range.create(this.valuePosition(isAbsolute), this.value());
		},

		/**
		 * Returns current element string representation
		 * @returns {String}
		 */
		toString: function() {
			return this.valueOf();
		},

		valueOf: function() {
			return this.name() + this.value();
		}
	};

	return {
		EditContainer: EditContainer,
		EditElement: EditElement,

		/**
		 * Creates token that can be fed to <code>EditElement</code>
		 * @param {Number} start
		 * @param {String} value
		 * @param {String} type
		 * @returns
		 */
		createToken: function(start, value, type) {
			var obj = {
				start: start || 0,
				value: value || '',
				type: type
			};

			obj.end = obj.start + obj.value.length;
			return obj;
		}
	};
});
},{"../assets/range":30,"../utils/common":73,"../vendor/klass":78}],37:[function(require,module,exports){
/**
 * CSS EditTree is a module that can parse a CSS rule into a tree with
 * convenient methods for adding, modifying and removing CSS properties. These
 * changes can be written back to string with respect of code formatting.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var editTree = require('./base');
	var cssParser = require('../parser/css');
	var cssSections = require('../utils/cssSections');
	var range = require('../assets/range');
	var stringStream = require('../assets/stringStream');
	var tokenIterator = require('../assets/tokenIterator');

	var defaultOptions = {
		styleBefore: '\n\t',
		styleSeparator: ': ',
		offset: 0
	};

	var reSpaceStart = /^\s+/;
	var reSpaceEnd = /\s+$/;
	var WHITESPACE_REMOVE_FROM_START = 1;
	var WHITESPACE_REMOVE_FROM_END   = 2;

	/**
	 * Modifies given range to remove whitespace from beginning
	 * and/or from the end
	 * @param  {Range} rng Range to modify
	 * @param  {String} text  Text that range belongs to
	 * @param  {Number} mask  Mask indicating from which end
	 * whitespace should be removed
	 * @return {Range}
	 */
	function trimWhitespaceInRange(rng, text, mask) {
		mask = mask || (WHITESPACE_REMOVE_FROM_START | WHITESPACE_REMOVE_FROM_END);
		text = rng.substring(text);
		var m;
		if ((mask & WHITESPACE_REMOVE_FROM_START) && (m = text.match(reSpaceStart))) {
			rng.start += m[0].length;
		}

		if ((mask & WHITESPACE_REMOVE_FROM_END) && (m = text.match(reSpaceEnd))) {
			rng.end -= m[0].length;
		}

		// in case given range is just a whatespace
		if (rng.end < rng.start) {
			rng.end = rng.start;
		}

		return rng;
	}

	/**
	 * Consumes CSS property and value from current token
	 * iterator state. Offsets iterator pointer into token
	 * that can be used for next value consmption
	 * @param  {TokenIterator} it
	 * @param  {String} text
	 * @return {Object}    Object with `name` and `value` properties
	 * ar ranges. Value range can be zero-length.
	 */
	function consumeSingleProperty(it, text) {
		var name, value, end;
		var token = it.current();

		if (!token) {
			return null;
		}

		// skip whitespace
		var ws = {'white': 1, 'line': 1, 'comment': 1};
		while ((token = it.current())) {
			if (!(token.type in ws)) {
				break;
			}
			it.next();
		}

		if (!it.hasNext()) {
			return null;
		}

		// consume property name
		token = it.current();
		name = range(token.start, token.value);
		var isAtProperty = token.value.charAt(0) == '@';
		while (token = it.next()) {
			name.end = token.end;
			if (token.type == ':' || token.type == 'white') {
				name.end = token.start;
				it.next();
				if (token.type == ':' || isAtProperty) {
					// XXX I really ashame of this hardcode, but I need
					// to stop parsing if this is an SCSS mixin call,
					// for example: @include border-radius(10px)
					break;
				}
			} else if (token.type == ';' || token.type == 'line') {
				// there‚Äôs no value, looks like a mixin
				// or a special use case:
				// user is writing a new property or abbreviation
				name.end = token.start;
				value = range(token.start, 0);
				it.next();
				break;
			}
		}

		token = it.current();
		if (!value && token) {
			if (token.type == 'line') {
				lastNewline = token;
			}
			// consume value
			value = range(token.start, token.value);
			var lastNewline;
			while ((token = it.next())) {
				value.end = token.end;
				if (token.type == 'line') {
					lastNewline = token;
				} else if (token.type == '}' || token.type == ';') {
					value.end = token.start;
					if (token.type == ';') {
						end = range(token.start, token.value);
					}
					it.next();
					break;
				} else if (token.type == ':' && lastNewline) {
					// A special case:
					// user is writing a value before existing
					// property, but didn‚Äôt inserted closing semi-colon.
					// In this case, limit value range to previous
					// newline
					value.end = lastNewline.start;
					it._i = it.tokens.indexOf(lastNewline);
					break;
				}
			}
		}

		if (!value) {
			value = range(name.end, 0);
		}

		return {
			name: trimWhitespaceInRange(name, text),
			value: trimWhitespaceInRange(value, text, WHITESPACE_REMOVE_FROM_START | (end ? WHITESPACE_REMOVE_FROM_END : 0)),
			end: end || range(value.end, 0)
		};
	}

	/**
	 * Finds parts of complex CSS value
	 * @param {String} str
	 * @returns {Array} Returns list of <code>Range</code>'s
	 */
	function findParts(str) {
		/** @type StringStream */
		var stream = stringStream.create(str);
		var ch;
		var result = [];
		var sep = /[\s\u00a0,;]/;

		var add = function() {
			stream.next();
			result.push(range(stream.start, stream.current()));
			stream.start = stream.pos;
		};

		// skip whitespace
		stream.eatSpace();
		stream.start = stream.pos;

		while ((ch = stream.next())) {
			if (ch == '"' || ch == "'") {
				stream.next();
				if (!stream.skipTo(ch)) break;
				add();
			} else if (ch == '(') {
				// function found, may have nested function
				stream.backUp(1);
				if (!stream.skipToPair('(', ')')) break;
				stream.backUp(1);
				add();
			} else {
				if (sep.test(ch)) {
					result.push(range(stream.start, stream.current().length - 1));
					stream.eatWhile(sep);
					stream.start = stream.pos;
				}
			}
		}

		add();

		return utils.unique(result.filter(function(item) {
			return !!item.length();
		}));
	}

	/**
	 * Parses CSS properties from given CSS source
	 * and adds them to CSSEditContainer node
	 * @param  {CSSEditContainer} node
	 * @param  {String} source CSS source
	 * @param {Number} offset Offset of properties subset from original source
	 */
	function consumeProperties(node, source, offset) {
		var list = extractPropertiesFromSource(source, offset);

		list.forEach(function(property) {
			node._children.push(new CSSEditElement(node,
				editTree.createToken(property.name.start, property.nameText),
				editTree.createToken(property.value.start, property.valueText),
				editTree.createToken(property.end.start, property.endText)
				));
		});
	}

	/**
	 * Parses given CSS source and returns list of ranges of located CSS properties.
	 * Normally, CSS source must contain properties only, it must be,
	 * for example, a content of CSS selector or text between nested
	 * CSS sections
	 * @param  {String} source CSS source
	 * @param {Number} offset Offset of properties subset from original source.
	 * Used to provide proper ranges of locates items
	 */
	function extractPropertiesFromSource(source, offset) {
		offset = offset || 0;
		source = source.replace(reSpaceEnd, '');
		var out = [];

		if (!source) {
			return out;
		}

		var tokens = cssParser.parse(source);
		var it = tokenIterator.create(tokens);
		var property;

		while ((property = consumeSingleProperty(it, source))) {
			out.push({
				nameText: property.name.substring(source),
				name: property.name.shift(offset),

				valueText: property.value.substring(source),
				value: property.value.shift(offset),

				endText: property.end.substring(source),
				end: property.end.shift(offset)
			});
		}

		return out;
	}

	/**
	 * @class
	 * @extends EditContainer
	 */
	var CSSEditContainer = editTree.EditContainer.extend({
		initialize: function(source, options) {
			utils.extend(this.options, defaultOptions, options);

			if (Array.isArray(source)) {
				source = cssParser.toSource(source);
			}

			var allRules = cssSections.findAllRules(source);
			var currentRule = allRules.shift();

			// keep top-level rules only since they will
			// be parsed by nested CSSEditContainer call
			var topLevelRules = [];
			allRules.forEach(function(r) {
				var isTopLevel = !utils.find(topLevelRules, function(tr) {
					return tr.contains(r);
				});

				if (isTopLevel) {
					topLevelRules.push(r);
				}
			});


			var selectorRange = range.create2(currentRule.start, currentRule._selectorEnd);
			this._name = selectorRange.substring(source);
			this._positions.name = selectorRange.start;
			this._positions.contentStart = currentRule._contentStart + 1;

			var sectionOffset = currentRule._contentStart + 1;
			var sectionEnd = currentRule.end - 1;

			// parse properties between nested rules
			// and add nested rules as children
			var that = this;
			topLevelRules.forEach(function(r) {
				consumeProperties(that, source.substring(sectionOffset, r.start), sectionOffset);
				var opt = utils.extend({}, that.options, {offset: r.start + that.options.offset});
				// XXX I think I don‚Äôt need nested containers here
				// They should be handled separately
				// that._children.push(new CSSEditContainer(r.substring(source), opt));
				sectionOffset = r.end;
			});

			// consume the rest of data
			consumeProperties(this, source.substring(sectionOffset, currentRule.end - 1), sectionOffset);
			this._saveStyle();
		},

		/**
		 * Remembers all styles of properties
		 * @private
		 */
		_saveStyle: function() {
			var start = this._positions.contentStart;
			var source = this.source;

			this.list().forEach(function(p) {
				if (p.type === 'container') {
					return;
				}

				p.styleBefore = source.substring(start, p.namePosition());
				// a small hack here:
				// Sometimes users add empty lines before properties to logically
				// separate groups of properties. In this case, a blind copy of
				// characters between rules may lead to undesired behavior,
				// especially when current rule is duplicated or used as a donor
				// to create new rule.
				// To solve this issue, we‚Äòll take only last newline indentation
				var lines = utils.splitByLines(p.styleBefore);
				if (lines.length > 1) {
					p.styleBefore = '\n' + lines[lines.length - 1];
				}

				p.styleSeparator = source.substring(p.nameRange().end, p.valuePosition());

				// graceful and naive comments removal
				var parts = p.styleBefore.split('*/');
				p.styleBefore = parts[parts.length - 1];
				p.styleSeparator = p.styleSeparator.replace(/\/\*.*?\*\//g, '');

				start = p.range().end;
			});
		},

		/**
		 * Returns position of element name token
		 * @param {Boolean} isAbsolute Return absolute position
		 * @returns {Number}
		 */
		namePosition: function(isAbsolute) {
			return this._pos(this._positions.name, isAbsolute);
		},

		/**
		 * Returns position of element value token
		 * @param {Boolean} isAbsolute Return absolute position
		 * @returns {Number}
		 */
		valuePosition: function(isAbsolute) {
			return this._pos(this._positions.contentStart, isAbsolute);
		},

		/**
		 * Returns element value range
		 * @param {Boolean} isAbsolute Return absolute range
		 * @returns {Range}
		 */
		valueRange: function(isAbsolute) {
			return range.create2(this.valuePosition(isAbsolute), this._pos(this.valueOf().length, isAbsolute) - 1);
		},

		/**
		 * Adds new CSS property
		 * @param {String} name Property name
		 * @param {String} value Property value
		 * @param {Number} pos Position at which to insert new property. By
		 * default the property is inserted at the end of rule
		 * @returns {CSSEditProperty}
		 */
		add: function(name, value, pos) {
			var list = this.list();
			var start = this._positions.contentStart;
			var styles = utils.pick(this.options, 'styleBefore', 'styleSeparator');

			if (typeof pos === 'undefined') {
				pos = list.length;
			}

			/** @type CSSEditProperty */
			var donor = list[pos];
			if (donor) {
				start = donor.fullRange().start;
			} else if ((donor = list[pos - 1])) {
				// make sure that donor has terminating semicolon
				donor.end(';');
				start = donor.range().end;
			}

			if (donor) {
				styles = utils.pick(donor, 'styleBefore', 'styleSeparator');
			}

			var nameToken = editTree.createToken(start + styles.styleBefore.length, name);
			var valueToken = editTree.createToken(nameToken.end + styles.styleSeparator.length, value);

			var property = new CSSEditElement(this, nameToken, valueToken,
					editTree.createToken(valueToken.end, ';'));

			utils.extend(property, styles);

			// write new property into the source
			this._updateSource(property.styleBefore + property.toString(), start);

			// insert new property
			this._children.splice(pos, 0, property);
			return property;
		}
	});

	/**
	 * @class
	 * @type CSSEditElement
	 * @constructor
	 */
	var CSSEditElement = editTree.EditElement.extend({
		initialize: function(rule, name, value, end) {
			this.styleBefore = rule.options.styleBefore;
			this.styleSeparator = rule.options.styleSeparator;

			this._end = end.value;
			this._positions.end = end.start;
		},

		/**
		 * Returns ranges of complex value parts
		 * @returns {Array} Returns <code>null</code> if value is not complex
		 */
		valueParts: function(isAbsolute) {
			var parts = findParts(this.value());
			if (isAbsolute) {
				var offset = this.valuePosition(true);
				parts.forEach(function(p) {
					p.shift(offset);
				});
			}

			return parts;
		},

		/**
		 * Sets of gets element value.
		 * When setting value, this implementation will ensure that your have
		 * proper name-value separator
		 * @param {String} val New element value. If not passed, current
		 * value is returned
		 * @returns {String}
		 */
		value: function(val) {
			var isUpdating = typeof val !== 'undefined';
			var allItems = this.parent.list();
			if (isUpdating && this.isIncomplete()) {
				var self = this;
				var donor = utils.find(allItems, function(item) {
					return item !== self && !item.isIncomplete();
				});

				this.styleSeparator = donor
					? donor.styleSeparator
					: this.parent.options.styleSeparator;
				this.parent._updateSource(this.styleSeparator, range(this.valueRange().start, 0));
			}

			var value = this.constructor.__super__.value.apply(this, arguments);
			if (isUpdating) {
				// make sure current property has terminating semi-colon
				// if it‚Äôs not the last one
				var ix = allItems.indexOf(this);
				if (ix !== allItems.length - 1 && !this.end()) {
					this.end(';');
				}
			}
			return value;
		},

		/**
		 * Test if current element is incomplete, e.g. has no explicit
		 * name-value separator
		 * @return {Boolean} [description]
		 */
		isIncomplete: function() {
			return this.nameRange().end === this.valueRange().start;
		},

		/**
		 * Sets of gets property end value (basically, it's a semicolon)
		 * @param {String} val New end value. If not passed, current
		 * value is returned
		 */
		end: function(val) {
			if (typeof val !== 'undefined' && this._end !== val) {
				this.parent._updateSource(val, this._positions.end, this._positions.end + this._end.length);
				this._end = val;
			}

			return this._end;
		},

		/**
		 * Returns full rule range, with indentation
		 * @param {Boolean} isAbsolute Return absolute range (with respect of
		 * rule offset)
		 * @returns {Range}
		 */
		fullRange: function(isAbsolute) {
			var r = this.range(isAbsolute);
			r.start -= this.styleBefore.length;
			return r;
		},

		/**
		 * Returns item string representation
		 * @returns {String}
		 */
		valueOf: function() {
			return this.name() + this.styleSeparator + this.value() + this.end();
		}
	});

	return {
		/**
		 * Parses CSS rule into editable tree
		 * @param {String} source
		 * @param {Object} options
		 * @memberOf emmet.cssEditTree
		 * @returns {EditContainer}
		 */
		parse: function(source, options) {
			return new CSSEditContainer(source, options);
		},

		/**
		 * Extract and parse CSS rule from specified position in <code>content</code>
		 * @param {String} content CSS source code
		 * @param {Number} pos Character position where to start source code extraction
		 * @returns {EditContainer}
		 */
		parseFromPosition: function(content, pos, isBackward) {
			var bounds = cssSections.locateRule(content, pos, isBackward);
			if (!bounds || !bounds.inside(pos)) {
				// no matching CSS rule or caret outside rule bounds
				return null;
			}

			return this.parse(bounds.substring(content), {
				offset: bounds.start
			});
		},

		/**
		 * Locates CSS property in given CSS code fragment under specified character position
		 * @param  {String} css CSS code or parsed CSSEditContainer
		 * @param  {Number} pos Character position where to search CSS property
		 * @return {CSSEditElement}
		 */
		propertyFromPosition: function(css, pos) {
			var cssProp = null;
			/** @type EditContainer */
			var cssRule = typeof css === 'string' ? this.parseFromPosition(css, pos, true) : css;
			if (cssRule) {
				cssProp = cssRule.itemFromPosition(pos, true);
				if (!cssProp) {
					// in case user just started writing CSS property
					// and didn't include semicolon‚Äìtry another approach
					cssProp = utils.find(cssRule.list(), function(elem) {
						return elem.range(true).end == pos;
					});
				}
			}

			return cssProp;
		},

		/**
		 * Removes vendor prefix from CSS property
		 * @param {String} name CSS property
		 * @return {String}
		 */
		baseName: function(name) {
			return name.replace(/^\s*\-\w+\-/, '');
		},

		/**
		 * Finds parts of complex CSS value
		 * @param {String} str
		 * @returns {Array}
		 */
		findParts: findParts,

		extractPropertiesFromSource: extractPropertiesFromSource
	};
});
},{"../assets/range":30,"../assets/stringStream":32,"../assets/tokenIterator":34,"../parser/css":56,"../utils/common":73,"../utils/cssSections":74,"./base":36}],38:[function(require,module,exports){
/**
 * XML EditTree is a module that can parse an XML/HTML element into a tree with
 * convenient methods for adding, modifying and removing attributes. These
 * changes can be written back to string with respect of code formatting.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var editTree = require('./base');
	var xmlParser = require('../parser/xml');
	var range = require('../assets/range');
	var utils = require('../utils/common');

	var defaultOptions = {
		styleBefore: ' ',
		styleSeparator: '=',
		styleQuote: '"',
		offset: 0
	};

	var startTag = /^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m;

	var XMLEditContainer = editTree.EditContainer.extend({
		initialize: function(source, options) {
			utils.defaults(this.options, defaultOptions);
			this._positions.name = 1;

			var attrToken = null;
			var tokens = xmlParser.parse(source);

			tokens.forEach(function(token) {
				token.value = range.create(token).substring(source);
				switch (token.type) {
					case 'tag':
						if (/^<[^\/]+/.test(token.value)) {
							this._name = token.value.substring(1);
						}
						break;

					case 'attribute':
						// add empty attribute
						if (attrToken) {
							this._children.push(new XMLEditElement(this, attrToken));
						}

						attrToken = token;
						break;

					case 'string':
						this._children.push(new XMLEditElement(this, attrToken, token));
						attrToken = null;
						break;
				}
			}, this);

			if (attrToken) {
				this._children.push(new XMLEditElement(this, attrToken));
			}

			this._saveStyle();
		},

		/**
		 * Remembers all styles of properties
		 * @private
		 */
		_saveStyle: function() {
			var start = this.nameRange().end;
			var source = this.source;

			this.list().forEach(function(p) {
				p.styleBefore = source.substring(start, p.namePosition());

				if (p.valuePosition() !== -1) {
					p.styleSeparator = source.substring(p.namePosition() + p.name().length, p.valuePosition() - p.styleQuote.length);
				}

				start = p.range().end;
			});
		},

		/**
		 * Adds new attribute
		 * @param {String} name Property name
		 * @param {String} value Property value
		 * @param {Number} pos Position at which to insert new property. By
		 * default the property is inserted at the end of rule
		 */
		add: function(name, value, pos) {
			var list = this.list();
			var start = this.nameRange().end;
			var styles = utils.pick(this.options, 'styleBefore', 'styleSeparator', 'styleQuote');

			if (typeof pos === 'undefined') {
				pos = list.length;
			}


			/** @type XMLEditAttribute */
			var donor = list[pos];
			if (donor) {
				start = donor.fullRange().start;
			} else if ((donor = list[pos - 1])) {
				start = donor.range().end;
			}

			if (donor) {
				styles = utils.pick(donor, 'styleBefore', 'styleSeparator', 'styleQuote');
			}

			value = styles.styleQuote + value + styles.styleQuote;

			var attribute = new XMLEditElement(this,
					editTree.createToken(start + styles.styleBefore.length, name),
					editTree.createToken(start + styles.styleBefore.length + name.length
							+ styles.styleSeparator.length, value)
					);

			utils.extend(attribute, styles);

			// write new attribute into the source
			this._updateSource(attribute.styleBefore + attribute.toString(), start);

			// insert new attribute
			this._children.splice(pos, 0, attribute);
			return attribute;
		},

		/**
		 * A special case of attribute editing: adds class value to existing
		 * `class` attribute
		 * @param {String} value
		 */
		addClass: function(value) {
			var attr = this.get('class');
			value = utils.trim(value);
			if (!attr) {
				return this.add('class', value);
			}

			var classVal = attr.value();
			var classList = ' ' + classVal.replace(/\n/g, ' ') + ' ';
			if (!~classList.indexOf(' ' + value + ' ')) {
				attr.value(classVal + ' ' + value);
			}
		},

		/**
		 * A special case of attribute editing: removes class value from existing
		 * `class` attribute
		 * @param {String} value
		 */
		removeClass: function(value) {
			var attr = this.get('class');
			value = utils.trim(value);
			if (!attr) {
				return;
			}

			var reClass = new RegExp('(^|\\s+)' + utils.escapeForRegexp(value));
			var classVal = attr.value().replace(reClass, '');
			if (!utils.trim(classVal)) {
				this.remove('class');
			} else {
				attr.value(classVal);
			}
		}
	});

	var XMLEditElement = editTree.EditElement.extend({
		initialize: function(parent, nameToken, valueToken) {
			this.styleBefore = parent.options.styleBefore;
			this.styleSeparator = parent.options.styleSeparator;

			var value = '', quote = parent.options.styleQuote;
			if (valueToken) {
				value = valueToken.value;
				quote = value.charAt(0);
				if (quote == '"' || quote == "'") {
					value = value.substring(1);
				} else {
					quote = '';
				}

				if (quote && value.charAt(value.length - 1) == quote) {
					value = value.substring(0, value.length - 1);
				}
			}

			this.styleQuote = quote;

			this._value = value;
			this._positions.value = valueToken ? valueToken.start + quote.length : -1;
		},

		/**
		 * Returns full rule range, with indentation
		 * @param {Boolean} isAbsolute Return absolute range (with respect of
		 * rule offset)
		 * @returns {Range}
		 */
		fullRange: function(isAbsolute) {
			var r = this.range(isAbsolute);
			r.start -= this.styleBefore.length;
			return r;
		},

		valueOf: function() {
			return this.name() + this.styleSeparator
				+ this.styleQuote + this.value() + this.styleQuote;
		}
	});

	return {
		/**
		 * Parses HTML element into editable tree
		 * @param {String} source
		 * @param {Object} options
		 * @memberOf emmet.htmlEditTree
		 * @returns {EditContainer}
		 */
		parse: function(source, options) {
			return new XMLEditContainer(source, options);
		},

		/**
		 * Extract and parse HTML from specified position in <code>content</code>
		 * @param {String} content CSS source code
		 * @param {Number} pos Character position where to start source code extraction
		 * @returns {XMLEditElement}
		 */
		parseFromPosition: function(content, pos, isBackward) {
			var bounds = this.extractTag(content, pos, isBackward);
			if (!bounds || !bounds.inside(pos))
				// no matching HTML tag or caret outside tag bounds
				return null;

			return this.parse(bounds.substring(content), {
				offset: bounds.start
			});
		},

		/**
		 * Extracts nearest HTML tag range from <code>content</code>, starting at
		 * <code>pos</code> position
		 * @param {String} content
		 * @param {Number} pos
		 * @param {Boolean} isBackward
		 * @returns {Range}
		 */
		extractTag: function(content, pos, isBackward) {
			var len = content.length, i;

			// max extraction length. I don't think there may be tags larger
			// than 2000 characters length
			var maxLen = Math.min(2000, len);

			/** @type Range */
			var r = null;

			var match = function(pos) {
				var m;
				if (content.charAt(pos) == '<' && (m = content.substr(pos, maxLen).match(startTag)))
					return range.create(pos, m[0]);
			};

			// lookup backward, in case we are inside tag already
			for (i = pos; i >= 0; i--) {
				if ((r = match(i))) break;
			}

			if (r && (r.inside(pos) || isBackward))
				return r;

			if (!r && isBackward)
				return null;

			// search forward
			for (i = pos; i < len; i++) {
				if ((r = match(i)))
					return r;
			}
		}
	};
});
},{"../assets/range":30,"../parser/xml":62,"../utils/common":73,"./base":36}],39:[function(require,module,exports){
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var global = typeof self != 'undefined' ? self : this;

	var utils = require('./utils/common');
	var actions = require('./action/main');
	var parser = require('./parser/abbreviation');
	var file = require('./plugin/file');

	var preferences = require('./assets/preferences');
	var resources = require('./assets/resources');
	var profile = require('./assets/profile');
	var ciu = require('./assets/caniuse');
	var logger = require('./assets/logger');

	var sliceFn = Array.prototype.slice;

	/**
	 * Returns file name part from path
	 * @param {String} path Path to file
	 * @return {String}
	 */
	function getFileName(path) {
		var re = /([\w\.\-]+)$/i;
		var m = re.exec(path);
		return m ? m[1] : '';
	}

	/**
	 * Normalizes profile definition: converts some
	 * properties to valid data types
	 * @param {Object} profile
	 * @return {Object}
	 */
	function normalizeProfile(profile) {
		if (typeof profile === 'object') {
			if ('indent' in profile) {
				profile.indent = !!profile.indent;
			}

			if ('self_closing_tag' in profile) {
				if (typeof profile.self_closing_tag === 'number') {
					profile.self_closing_tag = !!profile.self_closing_tag;
				}
			}
		}

		return profile;
	}

	return {
		/**
		 * The essential function that expands Emmet abbreviation
		 * @param {String} abbr Abbreviation to parse
		 * @param {String} syntax Abbreviation's context syntax
		 * @param {String} profile Output profile (or its name)
		 * @param {Object} contextNode Contextual node where abbreviation is
		 * written
		 * @return {String}
		 */
		expandAbbreviation: function(abbr, syntax, profile, contextNode) {
			return parser.expand(abbr, {
				syntax: syntax,
				profile: profile,
				contextNode: contextNode
			});
		},

		/**
		 * Runs given action
		 * @param  {String} name Action name
		 * @param  {IEmmetEditor} editor Editor instance
		 * @return {Boolean} Returns true if action was performed successfully
		 */
		run: function(name) {
			return actions.run.apply(actions, sliceFn.call(arguments, 0));
		},

		/**
		 * Loads Emmet extensions. Extensions are simple .js files that
		 * uses Emmet modules and resources to create new actions, modify
		 * existing ones etc.
		 * @param {Array} fileList List of absolute paths to files in extensions
		 * folder. Back-end app should not filter this list (e.g. by extension)
		 * but return it "as-is" so bootstrap can decide how to load contents
		 * of each file.
		 * This method requires a <code>file</code> module of <code>IEmmetFile</code>
		 * interface to be implemented.
		 * @memberOf bootstrap
		 */
		loadExtensions: function(fileList) {
			var payload = {};
			var userSnippets = null;
			var that = this;

			// make sure file list contians only valid extension files
			fileList = fileList.filter(function(f) {
				var ext = file.getExt(f);
				return ext === 'json' || ext === 'js';
			});

			var reader = (file.readText || file.read).bind(file);
			var next = function() {
				if (fileList.length) {
					var f = fileList.shift();
					reader(f, function(err, content) {
						if (err) {
							logger.log('Unable to read "' + f + '" file: '+ err);
							return next();
						}

						switch (file.getExt(f)) {
							case 'js':
								try {
									eval(content);
								} catch (e) {
									logger.log('Unable to eval "' + f + '" file: '+ e);
								}
								break;
							case 'json':
								var fileName = getFileName(f).toLowerCase().replace(/\.json$/, '');
								if (/^snippets/.test(fileName)) {
									if (fileName === 'snippets') {
										// data in snippets.json is more important to user
										userSnippets = utils.parseJSON(content);
									} else {
										payload.snippets = utils.deepMerge(payload.snippets || {}, utils.parseJSON(content));
									}
								} else {
									payload[fileName] = content;
								}

								break;
						}

						next();
					});
				} else {
					// complete
					if (userSnippets) {
						payload.snippets = utils.deepMerge(payload.snippets || {}, userSnippets);
					}

					that.loadUserData(payload);
				}
			};

			next();
		},

		/**
		 * Loads preferences from JSON object (or string representation of JSON)
		 * @param {Object} data
		 * @returns
		 */
		loadPreferences: function(data) {
			preferences.load(utils.parseJSON(data));
		},

		/**
		 * Loads user snippets and abbreviations. It doesn‚Äôt replace current
		 * user resource vocabulary but merges it with passed one. If you need
		 * to <i>replaces</i> user snippets you should call
		 * <code>resetSnippets()</code> method first
		 */
		loadSnippets: function(data) {
			data = utils.parseJSON(data);

			var userData = resources.getVocabulary('user') || {};
			resources.setVocabulary(utils.deepMerge(userData, data), 'user');
		},

		/**
		 * Helper function that loads default snippets, defined in project‚Äôs
		 * <i>snippets.json</i>
		 * @param {Object} data
		 */
		loadSystemSnippets: function(data) {
			resources.setVocabulary(utils.parseJSON(data), 'system');
		},

		/**
		 * Helper function that loads Can I Use database
		 * @param {Object} data
		 */
		loadCIU: function(data) {
			ciu.load(utils.parseJSON(data));
		},

		/**
		 * Removes all user-defined snippets
		 */
		resetSnippets: function() {
			resources.setVocabulary({}, 'user');
		},

		/**
		 * Helper function that loads all user data (snippets and preferences)
		 * defined as a single JSON object. This is useful for loading data
		 * stored in a common storage, for example <code>NSUserDefaults</code>
		 * @param {Object} data
		 */
		loadUserData: function(data) {
			data = utils.parseJSON(data);
			if (data.snippets) {
				this.loadSnippets(data.snippets);
			}

			if (data.preferences) {
				this.loadPreferences(data.preferences);
			}

			if (data.profiles) {
				this.loadProfiles(data.profiles);
			}

			if (data.caniuse) {
				this.loadCIU(data.caniuse);
			}

			var profiles = data.syntaxProfiles || data.syntaxprofiles;
			if (profiles) {
				this.loadSyntaxProfiles(profiles);
			}
		},

		/**
		 * Resets all user-defined data: preferences, snippets etc.
		 * @returns
		 */
		resetUserData: function() {
			this.resetSnippets();
			preferences.reset();
			profile.reset();
		},

		/**
		 * Load syntax-specific output profiles. These are essentially
		 * an extension to syntax snippets
		 * @param {Object} profiles Dictionary of profiles
		 */
		loadSyntaxProfiles: function(profiles) {
			profiles = utils.parseJSON(profiles);
			var snippets = {};
			Object.keys(profiles).forEach(function(syntax) {
				var options = profiles[syntax];
				if (!(syntax in snippets)) {
					snippets[syntax] = {};
				}
				snippets[syntax].profile = normalizeProfile(options);
			});

			this.loadSnippets(snippets);
		},

		/**
		 * Load named profiles
		 * @param {Object} profiles
		 */
		loadProfiles: function(profiles) {
			profiles = utils.parseJSON(profiles);
			Object.keys(profiles).forEach(function(name) {
				profile.create(name, normalizeProfile(profiles[name]));
			});
		},
		require: require,

		// expose some useful data for plugin authors
		actions: actions,
		file: file,
		preferences: preferences,
		resources: resources,
		profile: profile,
		tabStops: require('./assets/tabStops'),
		htmlMatcher: require('./assets/htmlMatcher'),
		utils: {
			common: utils,
			action: require('./utils/action'),
			editor: require('./utils/editor')
		}
	};
});
},{"./action/main":12,"./assets/caniuse":23,"./assets/htmlMatcher":26,"./assets/logger":27,"./assets/preferences":28,"./assets/profile":29,"./assets/resources":31,"./assets/tabStops":33,"./parser/abbreviation":55,"./plugin/file":63,"./utils/action":70,"./utils/common":73,"./utils/editor":75}],40:[function(require,module,exports){
/**
 * Filter for aiding of writing elements with complex class names as described
 * in Yandex's BEM (Block, Element, Modifier) methodology. This filter will
 * automatically inherit block and element names from parent elements and insert
 * them into child element classes
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var htmlFilter = require('./html');
	var prefs = require('../assets/preferences');
	var abbreviationUtils = require('../utils/abbreviation');
	var utils = require('../utils/common');

	prefs.define('bem.elementSeparator', '__', 'Class name‚Äôs element separator.');
	prefs.define('bem.modifierSeparator', '_', 'Class name‚Äôs modifier separator.');
	prefs.define('bem.shortElementPrefix', '-',
			'Symbol for describing short ‚Äúblock-element‚Äù notation. Class names '
			+ 'prefixed with this symbol will be treated as element name for parent‚Äòs '
			+ 'block name. Each symbol instance traverses one level up in parsed '
			+ 'tree for block name lookup. Empty value will disable short notation.');

	var shouldRunHtmlFilter = false;

	function getSeparators() {
		return {
			element: prefs.get('bem.elementSeparator'),
			modifier: prefs.get('bem.modifierSeparator')
		};
	}

	/**
	 * @param {AbbreviationNode} item
	 */
	function bemParse(item) {
		if (abbreviationUtils.isSnippet(item))
			return item;

		// save BEM stuff in cache for faster lookups
		item.__bem = {
			block: '',
			element: '',
			modifier: ''
		};

		var classNames = normalizeClassName(item.attribute('class')).split(' ');

		// guess best match for block name
		var reBlockName = /^[a-z]\-/i;
		item.__bem.block = utils.find(classNames, function(name) {
			return reBlockName.test(name);
		});

		// guessing doesn't worked, pick first class name as block name
		if (!item.__bem.block) {
			reBlockName = /^[a-z]/i;
			item.__bem.block = utils.find(classNames, function(name) {
				return reBlockName.test(name);
			}) || '';
		}

		classNames = classNames.map(function(name) {
			return processClassName(name, item);
		});

		classNames = utils.unique(utils.flatten(classNames)).join(' ');
		if (classNames) {
			item.attribute('class', classNames);
		}

		return item;
	}

	/**
	 * @param {String} className
	 * @returns {String}
	 */
	function normalizeClassName(className) {
		className = (' ' + (className || '') + ' ').replace(/\s+/g, ' ');

		var shortSymbol = prefs.get('bem.shortElementPrefix');
		if (shortSymbol) {
			var re = new RegExp('\\s(' + utils.escapeForRegexp(shortSymbol) + '+)', 'g');
			className = className.replace(re, function(str, p1) {
				return ' ' + utils.repeatString(getSeparators().element, p1.length);
			});
		}

		return utils.trim(className);
	}

	/**
	 * Processes class name
	 * @param {String} name Class name item to process
	 * @param {AbbreviationNode} item Host node for provided class name
	 * @returns Processed class name. May return <code>Array</code> of
	 * class names
	 */
	function processClassName(name, item) {
		name = transformClassName(name, item, 'element');
		name = transformClassName(name, item, 'modifier');

		// expand class name
		// possible values:
		// * block__element
		// * block__element_modifier
		// * block__element_modifier1_modifier2
		// * block_modifier
		var block = '', element = '', modifier = '';
		var separators = getSeparators();
		if (~name.indexOf(separators.element)) {
			var elements = name.split(separators.element);
			block = elements.shift();

			var modifiers = elements.pop().split(separators.modifier);
			elements.push(modifiers.shift());
			element = elements.join(separators.element);
			modifier = modifiers.join(separators.modifier);
		} else if (~name.indexOf(separators.modifier)) {
			var blockModifiers = name.split(separators.modifier);

			block = blockModifiers.shift();
			modifier = blockModifiers.join(separators.modifier);
		}

		if (block || element || modifier) {
			if (!block) {
				block = item.__bem.block;
			}

			// inherit parent bem element, if exists
//			if (item.parent && item.parent.__bem && item.parent.__bem.element)
//				element = item.parent.__bem.element + separators.element + element;

			// produce multiple classes
			var prefix = block;
			var result = [];

			if (element) {
				prefix += separators.element + element;
				result.push(prefix);
			} else {
				result.push(prefix);
			}

			if (modifier) {
				result.push(prefix + separators.modifier + modifier);
			}

			item.__bem.block = block;
			item.__bem.element = element;
			item.__bem.modifier = modifier;

			return result;
		}

		// ...otherwise, return processed or original class name
		return name;
	}

	/**
	 * Low-level function to transform user-typed class name into full BEM class
	 * @param {String} name Class name item to process
	 * @param {AbbreviationNode} item Host node for provided class name
	 * @param {String} entityType Type of entity to be tried to transform
	 * ('element' or 'modifier')
	 * @returns {String} Processed class name or original one if it can't be
	 * transformed
	 */
	function transformClassName(name, item, entityType) {
		var separators = getSeparators();
		var reSep = new RegExp('^(' + separators[entityType] + ')+', 'g');
		if (reSep.test(name)) {
			var depth = 0; // parent lookup depth
			var cleanName = name.replace(reSep, function(str) {
				depth = str.length / separators[entityType].length;
				return '';
			});

			// find donor element
			var donor = item;
			while (donor.parent && depth--) {
				donor = donor.parent;
			}

			if (!donor || !donor.__bem)
				donor = item;

			if (donor && donor.__bem) {
				var prefix = donor.__bem.block;

				// decide if we should inherit element name
//				if (entityType == 'element') {
//					var curElem = cleanName.split(separators.modifier, 1)[0];
//					if (donor.__bem.element && donor.__bem.element != curElem)
//						prefix += separators.element + donor.__bem.element;
//				}

				if (entityType == 'modifier' &&  donor.__bem.element)
					prefix += separators.element + donor.__bem.element;

				return prefix + separators[entityType] + cleanName;
			}
		}

		return name;
	}

	/**
	 * Recursive function for processing tags, which extends class names
	 * according to BEM specs: http://bem.github.com/bem-method/pages/beginning/beginning.ru.html
	 * <br><br>
	 * It does several things:<br>
	 * <ul>
	 * <li>Expands complex class name (according to BEM symbol semantics):
	 * .block__elem_modifier ‚Üí .block.block__elem.block__elem_modifier
	 * </li>
	 * <li>Inherits block name on child elements:
	 * .b-block > .__el > .__el ‚Üí .b-block > .b-block__el > .b-block__el__el
	 * </li>
	 * <li>Treats first dash symbol as '__'</li>
	 * <li>Double underscore (or typographic '‚Äì') is also treated as an element
	 * level lookup, e.g. ____el will search for element definition in parent‚Äôs
	 * parent element:
	 * .b-block > .__el1 > .____el2 ‚Üí .b-block > .b-block__el1 > .b-block__el2
	 * </li>
	 * </ul>
	 *
	 * @param {AbbreviationNode} tree
	 * @param {Object} profile
	 */
	function process(tree, profile) {
		if (tree.name) {
			bemParse(tree, profile);
		}

		tree.children.forEach(function(item) {
			process(item, profile);
			if (!abbreviationUtils.isSnippet(item) && item.start) {
				shouldRunHtmlFilter = true;
			}
		});

		return tree;
	}

	return function(tree, profile) {
		shouldRunHtmlFilter = false;
		tree = process(tree, profile);
		// in case 'bem' filter is applied after 'html' filter: run it again
		// to update output
		if (shouldRunHtmlFilter) {
			tree = htmlFilter(tree, profile);
		}

		return tree;
	};
});
},{"../assets/preferences":28,"../utils/abbreviation":69,"../utils/common":73,"./html":46}],41:[function(require,module,exports){
/**
 * Comment important tags (with 'id' and 'class' attributes)
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var prefs = require('../assets/preferences');
	var utils = require('../utils/common');
	var template = require('../utils/template');
	var abbrUtils = require('../utils/abbreviation');
	var filterCore = require('./main');

	prefs.define('filter.commentAfter',
			'\n<!-- /<%= attr("id", "#") %><%= attr("class", ".") %> -->',
			'A definition of comment that should be placed <i>after</i> matched '
			+ 'element when <code>comment</code> filter is applied. This definition '
			+ 'is an ERB-style template passed to <code>_.template()</code> '
			+ 'function (see Underscore.js docs for details). In template context, '
			+ 'the following properties and functions are availabe:\n'
			+ '<ul>'

			+ '<li><code>attr(name, before, after)</code> ‚Äì a function that outputs'
			+ 'specified attribute value concatenated with <code>before</code> '
			+ 'and <code>after</code> strings. If attribute doesn\'t exists, the '
			+ 'empty string will be returned.</li>'

			+ '<li><code>node</code> ‚Äì current node (instance of <code>AbbreviationNode</code>)</li>'

			+ '<li><code>name</code> ‚Äì name of current tag</li>'

			+ '<li><code>padding</code> ‚Äì current string padding, can be used '
			+ 'for formatting</li>'

			+'</ul>');

	prefs.define('filter.commentBefore',
			'',
			'A definition of comment that should be placed <i>before</i> matched '
			+ 'element when <code>comment</code> filter is applied. '
			+ 'For more info, read description of <code>filter.commentAfter</code> '
			+ 'property');

	prefs.define('filter.commentTrigger', 'id, class',
			'A comma-separated list of attribute names that should exist in abbreviatoin '
			+ 'where comment should be added. If you wish to add comment for '
			+ 'every element, set this option to <code>*</code>');

	/**
	 * Add comments to tag
	 * @param {AbbreviationNode} node
	 */
	function addComments(node, templateBefore, templateAfter) {
		// check if comments should be added
		var trigger = prefs.get('filter.commentTrigger');
		if (trigger != '*') {
			var shouldAdd = utils.find(trigger.split(','), function(name) {
				return !!node.attribute(utils.trim(name));
			});

			if (!shouldAdd) {
				return;
			}
		}

		var ctx = {
			node: node,
			name: node.name(),
			padding: node.parent ? node.parent.padding : '',
			attr: function(name, before, after) {
				var attr = node.attribute(name);
				if (attr) {
					return (before || '') + attr + (after || '');
				}

				return '';
			}
		};

		var nodeBefore = templateBefore ? templateBefore(ctx) : '';
		var nodeAfter = templateAfter ? templateAfter(ctx) : '';

		node.start = node.start.replace(/</, nodeBefore + '<');
		node.end = node.end.replace(/>/, '>' + nodeAfter);
	}

	function process(tree, before, after) {
		tree.children.forEach(function(item) {
			if (abbrUtils.isBlock(item)) {
				addComments(item, before, after);
			}

			process(item, before, after);
		});

		return tree;
	}

	return function(tree) {
		var templateBefore = template(prefs.get('filter.commentBefore'));
		var templateAfter = template(prefs.get('filter.commentAfter'));

		return process(tree, templateBefore, templateAfter);
	};
});

},{"../assets/preferences":28,"../utils/abbreviation":69,"../utils/common":73,"../utils/template":77,"./main":49}],42:[function(require,module,exports){
/**
 * Filter for outputting CSS and alike
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	/**
	 * Test if passed item is very first child in parsed tree
	 * @param {AbbreviationNode} item
	 */
	function isVeryFirstChild(item) {
		return item.parent && !item.parent.parent && !item.index();
	}

	return function process(tree, profile, level) {
		level = level || 0;

		tree.children.forEach(function(item) {
			if (!isVeryFirstChild(item) && profile.tag_nl !== false) {
				item.start = '\n' + item.start;
			}
			process(item, profile, level + 1);
		});

		return tree;
	};
});
},{}],43:[function(require,module,exports){
/**
 * Filter for escaping unsafe XML characters: <, >, &
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var charMap = {
		'<': '&lt;',
		'>': '&gt;',
		'&': '&amp;'
	};

	function escapeChars(str) {
		return str.replace(/([<>&])/g, function(str, p1){
			return charMap[p1];
		});
	}

	return function process(tree) {
		tree.children.forEach(function(item) {
			item.start = escapeChars(item.start);
			item.end = escapeChars(item.end);
			item.content = escapeChars(item.content);
			process(item);
		});

		return tree;
	};
});
},{}],44:[function(require,module,exports){
/**
 * Generic formatting filter: creates proper indentation for each tree node,
 * placing "%s" placeholder where the actual output should be. You can use
 * this filter to preformat tree and then replace %s placeholder to whatever you
 * need. This filter should't be called directly from editor as a part
 * of abbreviation.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var abbrUtils = require('../utils/abbreviation');
	var prefs = require('../assets/preferences');
	var resources = require('../assets/resources');

	prefs.define('format.noIndentTags', 'html',
			'A comma-separated list of tag names that should not get inner indentation.');

	prefs.define('format.forceIndentationForTags', 'body',
		'A comma-separated list of tag names that should <em>always</em> get inner indentation.');

	var placeholder = '%s';

	/**
	 * Get indentation for given node
	 * @param {AbbreviationNode} node
	 * @returns {String}
	 */
	function getIndentation(node) {
		var items = prefs.getArray('format.noIndentTags') || [];
		if (~items.indexOf(node.name())) {
			return '';
		}

		return '\t';
	}

	/**
	 * Test if passed node has block-level sibling element
	 * @param {AbbreviationNode} item
	 * @return {Boolean}
	 */
	function hasBlockSibling(item) {
		return item.parent && abbrUtils.hasBlockChildren(item.parent);
	}

	/**
	 * Test if passed item is very first child in parsed tree
	 * @param {AbbreviationNode} item
	 */
	function isVeryFirstChild(item) {
		return item.parent && !item.parent.parent && !item.index();
	}

	/**
	 * Check if a newline should be added before element
	 * @param {AbbreviationNode} node
	 * @param {OutputProfile} profile
	 * @return {Boolean}
	 */
	function shouldAddLineBreak(node, profile) {
		if (profile.tag_nl === true || abbrUtils.isBlock(node))
			return true;

		if (!node.parent || !profile.inline_break)
			return false;

		// check if there are required amount of adjacent inline element
		return shouldFormatInline(node.parent, profile);
}

	/**
	 * Need to add newline because <code>item</code> has too many inline children
	 * @param {AbbreviationNode} node
	 * @param {OutputProfile} profile
	 */
	function shouldBreakChild(node, profile) {
		// we need to test only one child element, because
		// hasBlockChildren() method will do the rest
		return node.children.length && shouldAddLineBreak(node.children[0], profile);
	}

	function shouldFormatInline(node, profile) {
		var nodeCount = 0;
		return !!utils.find(node.children, function(child) {
			if (child.isTextNode() || !abbrUtils.isInline(child))
				nodeCount = 0;
			else if (abbrUtils.isInline(child))
				nodeCount++;

			if (nodeCount >= profile.inline_break)
				return true;
		});
	}

	function isRoot(item) {
		return !item.parent;
	}

	/**
	 * Processes element with matched resource of type <code>snippet</code>
	 * @param {AbbreviationNode} item
	 * @param {OutputProfile} profile
	 */
	function processSnippet(item, profile) {
		item.start = item.end = '';
		if (!isVeryFirstChild(item) && profile.tag_nl !== false && shouldAddLineBreak(item, profile)) {
			// check if we‚Äôre not inside inline element
			if (isRoot(item.parent) || !abbrUtils.isInline(item.parent)) {
				item.start = '\n' + item.start;
			}
		}

		return item;
	}

	/**
	 * Check if we should add line breaks inside inline element
	 * @param {AbbreviationNode} node
	 * @param {OutputProfile} profile
	 * @return {Boolean}
	 */
	function shouldBreakInsideInline(node, profile) {
		var hasBlockElems = node.children.some(function(child) {
			if (abbrUtils.isSnippet(child))
				return false;

			return !abbrUtils.isInline(child);
		});

		if (!hasBlockElems) {
			return shouldFormatInline(node, profile);
		}

		return true;
	}

	/**
	 * Processes element with <code>tag</code> type
	 * @param {AbbreviationNode} item
	 * @param {OutputProfile} profile
	 */
	function processTag(item, profile) {
		item.start = item.end = placeholder;
		var isUnary = abbrUtils.isUnary(item);
		var nl = '\n';
		var indent = getIndentation(item);

		// formatting output
		if (profile.tag_nl !== false) {
			var forceNl = profile.tag_nl === true && (profile.tag_nl_leaf || item.children.length);
			if (!forceNl) {
				var forceIndentTags = prefs.getArray('format.forceIndentationForTags') || [];
				forceNl = ~forceIndentTags.indexOf(item.name());
			}

			// formatting block-level elements
			if (!item.isTextNode()) {
				if (shouldAddLineBreak(item, profile)) {
					// - do not indent the very first element
					// - do not indent first child of a snippet
					if (!isVeryFirstChild(item) && (!abbrUtils.isSnippet(item.parent) || item.index()))
						item.start = nl + item.start;

					if (abbrUtils.hasBlockChildren(item) || shouldBreakChild(item, profile) || (forceNl && !isUnary))
						item.end = nl + item.end;

					if (abbrUtils.hasTagsInContent(item) || (forceNl && !item.children.length && !isUnary))
						item.start += nl + indent;
				} else if (abbrUtils.isInline(item) && hasBlockSibling(item) && !isVeryFirstChild(item)) {
					item.start = nl + item.start;
				} else if (abbrUtils.isInline(item) && shouldBreakInsideInline(item, profile)) {
					item.end = nl + item.end;
				}

				item.padding = indent;
			}
		}

		return item;
	}

	/**
	 * Processes simplified tree, making it suitable for output as HTML structure
	 * @param {AbbreviationNode} tree
	 * @param {OutputProfile} profile
	 * @param {Number} level Depth level
	 */
	return function process(tree, profile, level) {
		level = level || 0;

		tree.children.forEach(function(item) {
			if (abbrUtils.isSnippet(item)) {
				processSnippet(item, profile, level);
			} else {
				processTag(item, profile, level);
			}

			process(item, profile, level + 1);
		});

		return tree;
	};
});
},{"../assets/preferences":28,"../assets/resources":31,"../utils/abbreviation":69,"../utils/common":73}],45:[function(require,module,exports){
/**
 * Filter for producing HAML code from abbreviation.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var abbrUtils = require('../utils/abbreviation');
	var formatFilter = require('./format');

	function transformClassName(className) {
		return utils.trim(className).replace(/\s+/g, '.');
	}

	/**
	 * Condenses all "data-" attributes into a single entry.
	 * HAML allows data attributes to be ouputted as a sub-hash
	 * of `:data` key
	 * @param  {Array} attrs
	 * @return {Array}
	 */
	function condenseDataAttrs(attrs) {
		var out = [], data = null;
		var reData = /^data-/i;
		attrs.forEach(function(attr) {
			if (reData.test(attr.name)) {
				if (!data) {
					data = [];
					out.push({
						name: 'data',
						value: data
					});
				}

				data.push(utils.extend({}, attr, {name: attr.name.replace(reData, '')}));
			} else {
				out.push(attr);
			}
		});

		return out;
	}

	function stringifyAttrs(attrs, profile) {
		var attrQuote = profile.attributeQuote();
		return '{' + attrs.map(function(attr) {
			var value = attrQuote + attr.value + attrQuote;
			if (Array.isArray(attr.value)) {
				value = stringifyAttrs(attr.value, profile);
			} else if (attr.isBoolean) {
				value = 'true';
			}

			return ':' + attr.name + ' => ' + value
		}).join(', ') + '}';
	}

	/**
	 * Creates HAML attributes string from tag according to profile settings
	 * @param {AbbreviationNode} tag
	 * @param {Object} profile
	 */
	function makeAttributesString(tag, profile) {
		var attrs = '';
		var otherAttrs = [];
		var attrQuote = profile.attributeQuote();
		var cursor = profile.cursor();

		tag.attributeList().forEach(function(a) {
			var attrName = profile.attributeName(a.name);
			switch (attrName.toLowerCase()) {
				// use short notation for ID and CLASS attributes
				case 'id':
					attrs += '#' + (a.value || cursor);
					break;
				case 'class':
					attrs += '.' + transformClassName(a.value || cursor);
					break;
				// process other attributes
				default:
					otherAttrs.push({
						name: attrName,
						value: a.value || cursor,
						isBoolean: profile.isBoolean(a.name, a.value)
					});
			}
		});

		if (otherAttrs.length) {
			attrs += stringifyAttrs(condenseDataAttrs(otherAttrs), profile);
		}

		return attrs;
	}

	/**
	 * Processes element with <code>tag</code> type
	 * @param {AbbreviationNode} item
	 * @param {OutputProfile} profile
	 */
	function processTag(item, profile) {
		if (!item.parent)
			// looks like it's root element
			return item;

		var attrs = makeAttributesString(item, profile);
		var cursor = profile.cursor();
		var isUnary = abbrUtils.isUnary(item);
		var selfClosing = profile.self_closing_tag && isUnary ? '/' : '';
		var start= '';

		// define tag name
		var tagName = '%' + profile.tagName(item.name());
		if (tagName.toLowerCase() == '%div' && attrs && attrs.indexOf('{') == -1)
			// omit div tag
			tagName = '';

		item.end = '';
		start = tagName + attrs + selfClosing;
		if (item.content && !/^\s/.test(item.content)) {
			item.content = ' ' + item.content;
		}

		var placeholder = '%s';
		// We can't just replace placeholder with new value because
		// JavaScript will treat double $ character as a single one, assuming
		// we're using RegExp literal.
		item.start = utils.replaceSubstring(item.start, start, item.start.indexOf(placeholder), placeholder);

		if (!item.children.length && !isUnary)
			item.start += cursor;

		return item;
	}

	return function process(tree, profile, level) {
		level = level || 0;

		if (!level) {
			tree = formatFilter(tree, '_format', profile);
		}

		tree.children.forEach(function(item) {
			if (!abbrUtils.isSnippet(item)) {
				processTag(item, profile, level);
			}

			process(item, profile, level + 1);
		});

		return tree;
	};
});
},{"../utils/abbreviation":69,"../utils/common":73,"./format":44}],46:[function(require,module,exports){
/**
 * Filter that produces HTML tree
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var abbrUtils = require('../utils/abbreviation');
	var utils = require('../utils/common');
	var tabStops = require('../assets/tabStops');
	var formatFilter = require('./format');

	/**
	 * Creates HTML attributes string from tag according to profile settings
	 * @param {AbbreviationNode} node
	 * @param {OutputProfile} profile
	 */
	function makeAttributesString(node, profile) {
		var attrQuote = profile.attributeQuote();
		var cursor = profile.cursor();

		return node.attributeList().map(function(a) {
			var isBoolean = profile.isBoolean(a.name, a.value);
			var attrName = profile.attributeName(a.name);
			var attrValue = isBoolean ? attrName : a.value;
			if (isBoolean && profile.allowCompactBoolean()) {
				return ' ' + attrName;
			}
			return ' ' + attrName + '=' + attrQuote + (attrValue || cursor) + attrQuote;
		}).join('');
	}

	/**
	 * Processes element with <code>tag</code> type
	 * @param {AbbreviationNode} item
	 * @param {OutputProfile} profile
	 */
	function processTag(item, profile) {
		if (!item.parent) { // looks like it's root element
			return item;
		}

		var attrs = makeAttributesString(item, profile);
		var cursor = profile.cursor();
		var isUnary = abbrUtils.isUnary(item);
		var start = '';
		var end = '';

		// define opening and closing tags
		if (!item.isTextNode()) {
			var tagName = profile.tagName(item.name());
			if (isUnary) {
				start = '<' + tagName + attrs + profile.selfClosing() + '>';
				item.end = '';
			} else {
				start = '<' + tagName + attrs + '>';
				end = '</' + tagName + '>';
			}
		}

		var placeholder = '%s';
		// We can't just replace placeholder with new value because
		// JavaScript will treat double $ character as a single one, assuming
		// we're using RegExp literal.
		item.start = utils.replaceSubstring(item.start, start, item.start.indexOf(placeholder), placeholder);
		item.end = utils.replaceSubstring(item.end, end, item.end.indexOf(placeholder), placeholder);

		// should we put caret placeholder after opening tag?
		if (
				!item.children.length
				&& !isUnary
				&& !~item.content.indexOf(cursor)
				&& !tabStops.extract(item.content).tabstops.length
			) {
			item.start += cursor;
		}

		return item;
	}

	return function process(tree, profile, level) {
		level = level || 0;

		if (!level) {
			tree = formatFilter(tree, profile, level)
		}

		tree.children.forEach(function(item) {
			if (!abbrUtils.isSnippet(item)) {
				processTag(item, profile, level);
			}

			process(item, profile, level + 1);
		});

		return tree;
	};
});
},{"../assets/tabStops":33,"../utils/abbreviation":69,"../utils/common":73,"./format":44}],47:[function(require,module,exports){
/**
 * Filter for producing Jade code from abbreviation.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var abbrUtils = require('../utils/abbreviation');
	var formatFilter = require('./format');
	var tabStops = require('../assets/tabStops');
	var profile = require('../assets/profile');

	var reNl = /[\n\r]/;
	var reIndentedText = /^\s*\|/;
	var reSpace = /^\s/;

	function transformClassName(className) {
		return utils.trim(className).replace(/\s+/g, '.');
	}

	function stringifyAttrs(attrs, profile) {
		var attrQuote = profile.attributeQuote();
		return '(' + attrs.map(function(attr) {
			if (attr.isBoolean) {
				return attr.name;
			}

			return attr.name + '=' + attrQuote + attr.value + attrQuote;
		}).join(', ') + ')';
	}

	/**
	 * Creates HAML attributes string from tag according to profile settings
	 * @param {AbbreviationNode} tag
	 * @param {Object} profile
	 */
	function makeAttributesString(tag, profile) {
		var attrs = '';
		var otherAttrs = [];
		var attrQuote = profile.attributeQuote();
		var cursor = profile.cursor();

		tag.attributeList().forEach(function(a) {
			var attrName = profile.attributeName(a.name);
			switch (attrName.toLowerCase()) {
				// use short notation for ID and CLASS attributes
				case 'id':
					attrs += '#' + (a.value || cursor);
					break;
				case 'class':
					attrs += '.' + transformClassName(a.value || cursor);
					break;
				// process other attributes
				default:
					otherAttrs.push({
						name: attrName,
						value: a.value || cursor,
						isBoolean: profile.isBoolean(a.name, a.value)
					});
			}
		});

		if (otherAttrs.length) {
			attrs += stringifyAttrs(otherAttrs, profile);
		}

		return attrs;
	}

	function processTagContent(item) {
		if (!item.content) {
			return;
		}

		var content = tabStops.replaceVariables(item.content, function(str, name) {
			if (name === 'nl' || name === 'newline') {
				return '\n';
			}
			return str;
		});

		if (reNl.test(content) && !reIndentedText.test(content)) {
			// multiline content: pad it with indentation and pipe
			var pad = '| ';
			item.content = '\n' + pad + utils.padString(content, pad);
		} else if (!reSpace.test(content)) {
			item.content = ' ' + content;
		}
	}

	/**
	 * Processes element with <code>tag</code> type
	 * @param {AbbreviationNode} item
	 * @param {OutputProfile} profile
	 */
	function processTag(item, profile) {
		if (!item.parent)
			// looks like it's a root (empty) element
			return item;

		var attrs = makeAttributesString(item, profile);
		var cursor = profile.cursor();
		var isUnary = abbrUtils.isUnary(item);

		// define tag name
		var tagName = profile.tagName(item.name());
		if (tagName.toLowerCase() == 'div' && attrs && attrs.charAt(0) != '(')
			// omit div tag
			tagName = '';

		item.end = '';
		var start = tagName + attrs;
		processTagContent(item);

		var placeholder = '%s';
		// We can't just replace placeholder with new value because
		// JavaScript will treat double $ character as a single one, assuming
		// we're using RegExp literal.
		item.start = utils.replaceSubstring(item.start, start, item.start.indexOf(placeholder), placeholder);

		if (!item.children.length && !isUnary)
			item.start += cursor;

		return item;
	}

	return function process(tree, curProfile, level) {
		level = level || 0;

		if (!level) {
			// always format with `xml` profile since
			// Jade requires all tags to be on separate lines
			tree = formatFilter(tree, profile.get('xml'));
		}

		tree.children.forEach(function(item) {
			if (!abbrUtils.isSnippet(item)) {
				processTag(item, curProfile, level);
			}

			process(item, curProfile, level + 1);
		});

		return tree;
	};
});
},{"../assets/profile":29,"../assets/tabStops":33,"../utils/abbreviation":69,"../utils/common":73,"./format":44}],48:[function(require,module,exports){
/**
 * A filter for React.js (JSX):
 * ranames attributes like `class` and `for`
 * for proper representation in JSX
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var attrMap = {
		'class': 'className',
		'for': 'htmlFor'
	};

	return function process(tree) {
		tree.children.forEach(function(item) {
			item._attributes.forEach(function(attr) {
				if (attr.name in attrMap) {
					attr.name = attrMap[attr.name]
				}
			});
			process(item);
		});

		return tree;
	};
});
},{}],49:[function(require,module,exports){
/**
 * Module for handling filters
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var profile = require('../assets/profile');
	var resources = require('../assets/resources');

	/** List of registered filters */
	var registeredFilters = {
		html: require('./html'),
		haml: require('./haml'),
		jade: require('./jade'),
		jsx: require('./jsx'),
		slim: require('./slim'),
		xsl: require('./xsl'),
		css: require('./css'),
		bem: require('./bem'),
		c: require('./comment'),
		e: require('./escape'),
		s: require('./singleLine'),
		t: require('./trim')
	};

	/** Filters that will be applied for unknown syntax */
	var basicFilters = 'html';

	function list(filters) {
		if (!filters)
			return [];

		if (typeof filters === 'string') {
			return filters.split(/[\|,]/g);
		}

		return filters;
	}

	return  {
		/**
		 * Register new filter
		 * @param {String} name Filter name
		 * @param {Function} fn Filter function
		 */
		add: function(name, fn) {
			registeredFilters[name] = fn;
		},

		/**
		 * Apply filters for final output tree
		 * @param {AbbreviationNode} tree Output tree
		 * @param {Array} filters List of filters to apply. Might be a
		 * <code>String</code>
		 * @param {Object} profile Output profile, defined in <i>profile</i>
		 * module. Filters defined it profile are not used, <code>profile</code>
		 * is passed to filter function
		 * @memberOf emmet.filters
		 * @returns {AbbreviationNode}
		 */
		apply: function(tree, filters, profileName) {
			profileName = profile.get(profileName);

			list(filters).forEach(function(filter) {
				var name = utils.trim(filter.toLowerCase());
				if (name && name in registeredFilters) {
					tree = registeredFilters[name](tree, profileName);
				}
			});

			return tree;
		},

		/**
		 * Composes list of filters that should be applied to a tree, based on
		 * passed data
		 * @param {String} syntax Syntax name ('html', 'css', etc.)
		 * @param {Object} profile Output profile
		 * @param {String} additionalFilters List or pipe-separated
		 * string of additional filters to apply
		 * @returns {Array}
		 */
		composeList: function(syntax, profileName, additionalFilters) {
			profileName = profile.get(profileName);
			var filters = list(profileName.filters || resources.findItem(syntax, 'filters') || basicFilters);

			if (profileName.extraFilters) {
				filters = filters.concat(list(profileName.extraFilters));
			}

			if (additionalFilters) {
				filters = filters.concat(list(additionalFilters));
			}

			if (!filters || !filters.length) {
				// looks like unknown syntax, apply basic filters
				filters = list(basicFilters);
			}

			return filters;
		},

		/**
		 * Extracts filter list from abbreviation
		 * @param {String} abbr
		 * @returns {Array} Array with cleaned abbreviation and list of
		 * extracted filters
		 */
		extract: function(abbr) {
			var filters = '';
			abbr = abbr.replace(/\|([\w\|\-]+)$/, function(str, p1){
				filters = p1;
				return '';
			});

			return [abbr, list(filters)];
		}
	};
});
},{"../assets/profile":29,"../assets/resources":31,"../utils/common":73,"./bem":40,"./comment":41,"./css":42,"./escape":43,"./haml":45,"./html":46,"./jade":47,"./jsx":48,"./singleLine":50,"./slim":51,"./trim":52,"./xsl":53}],50:[function(require,module,exports){
/**
 * Output abbreviation on a single line (i.e. no line breaks)
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var abbrUtils = require('../utils/abbreviation');
	var rePad = /^\s+/;
	var reNl = /[\n\r]/g;

	return function process(tree) {
		tree.children.forEach(function(item) {
			if (!abbrUtils.isSnippet(item)) {
				// remove padding from item
				item.start = item.start.replace(rePad, '');
				item.end = item.end.replace(rePad, '');
			}

			// remove newlines
			item.start = item.start.replace(reNl, '');
			item.end = item.end.replace(reNl, '');
			item.content = item.content.replace(reNl, '');

			process(item);
		});

		return tree;
	};
});

},{"../utils/abbreviation":69}],51:[function(require,module,exports){
/**
 * Filter for producing Jade code from abbreviation.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');
	var abbrUtils = require('../utils/abbreviation');
	var formatFilter = require('./format');
	var tabStops = require('../assets/tabStops');
	var prefs = require('../assets/preferences');
	var profile = require('../assets/profile');

	var reNl = /[\n\r]/;
	var reIndentedText = /^\s*\|/;
	var reSpace = /^\s/;

	prefs.define('slim.attributesWrapper', 'none',
		'Defines how attributes will be wrapped:' +
		'<ul>' +
		'<li><code>none</code> ‚Äì no wrapping;</li>' +
		'<li><code>round</code> ‚Äî wrap attributes with round braces;</li>' +
		'<li><code>square</code> ‚Äî wrap attributes with round braces;</li>' +
		'<li><code>curly</code> ‚Äî wrap attributes with curly braces.</li>' +
		'</ul>');

	function transformClassName(className) {
		return utils.trim(className).replace(/\s+/g, '.');
	}

	function getAttrWrapper() {
		var start = ' ', end = '';
		switch (prefs.get('slim.attributesWrapper')) {
			case 'round':
				start = '(';
				end = ')';
				break;
			case 'square':
				start = '[';
				end = ']';
				break;
			case 'curly':
				start = '{';
				end = '}';
				break;
		}

		return {
			start: start,
			end: end
		};
	}

	function stringifyAttrs(attrs, profile) {
		var attrQuote = profile.attributeQuote();
		var attrWrap = getAttrWrapper();
		return attrWrap.start + attrs.map(function(attr) {
			var value = attrQuote + attr.value + attrQuote;
			if (attr.isBoolean) {
				if (!attrWrap.end) {
					value = 'true';
				} else {
					return attr.name;
				}
			}

			return attr.name + '=' + value;
		}).join(' ') + attrWrap.end;
	}

	/**
	 * Creates HAML attributes string from tag according to profile settings
	 * @param {AbbreviationNode} tag
	 * @param {Object} profile
	 */
	function makeAttributesString(tag, profile) {
		var attrs = '';
		var otherAttrs = [];
		var attrQuote = profile.attributeQuote();
		var cursor = profile.cursor();

		tag.attributeList().forEach(function(a) {
			var attrName = profile.attributeName(a.name);
			switch (attrName.toLowerCase()) {
				// use short notation for ID and CLASS attributes
				case 'id':
					attrs += '#' + (a.value || cursor);
					break;
				case 'class':
					attrs += '.' + transformClassName(a.value || cursor);
					break;
				// process other attributes
				default:
					otherAttrs.push({
						name: attrName,
						value: a.value || cursor,
						isBoolean: profile.isBoolean(a.name, a.value)
					});
			}
		});

		if (otherAttrs.length) {
			attrs += stringifyAttrs(otherAttrs, profile);
		}

		return attrs;
	}

	function processTagContent(item) {
		if (!item.content) {
			return;
		}

		var content = tabStops.replaceVariables(item.content, function(str, name) {
			if (name === 'nl' || name === 'newline') {
				return '\n';
			}
			return str;
		});

		if (reNl.test(content) && !reIndentedText.test(content)) {
			// multiline content: pad it with indentation and pipe
			var pad = '  ';
			item.content = '\n| ' + utils.padString(content, pad);
		} else if (!reSpace.test(content)) {
			item.content = ' ' + content;
		}
	}

	/**
	 * Processes element with <code>tag</code> type
	 * @param {AbbreviationNode} item
	 * @param {OutputProfile} profile
	 */
	function processTag(item, profile) {
		if (!item.parent)
			// looks like it's a root (empty) element
			return item;

		var attrs = makeAttributesString(item, profile);
		var cursor = profile.cursor();
		var isUnary = abbrUtils.isUnary(item);
		var selfClosing = profile.self_closing_tag && isUnary ? '/' : '';

		// define tag name
		var tagName = profile.tagName(item.name());
		if (tagName.toLowerCase() == 'div' && attrs && '([{'.indexOf(attrs.charAt(0)) == -1)
			// omit div tag
			tagName = '';

		item.end = '';
		var start = tagName + attrs + selfClosing;
		processTagContent(item);

		var placeholder = '%s';
		// We can't just replace placeholder with new value because
		// JavaScript will treat double $ character as a single one, assuming
		// we're using RegExp literal.
		item.start = utils.replaceSubstring(item.start, start, item.start.indexOf(placeholder), placeholder);

		if (!item.children.length && !isUnary)
			item.start += cursor;

		return item;
	}

	return function process(tree, curProfile, level) {
		level = level || 0;

		if (!level) {
			// always format with `xml` profile since
			// Slim requires all tags to be on separate lines
			tree = formatFilter(tree, profile.get('xml'));
		}

		tree.children.forEach(function(item) {
			if (!abbrUtils.isSnippet(item)) {
				processTag(item, curProfile, level);
			}

			process(item, curProfile, level + 1);
		});

		return tree;
	};
});
},{"../assets/preferences":28,"../assets/profile":29,"../assets/tabStops":33,"../utils/abbreviation":69,"../utils/common":73,"./format":44}],52:[function(require,module,exports){
/**
 * Trim filter: removes characters at the beginning of the text
 * content that indicates lists: numbers, #, *, -, etc.
 *
 * Useful for wrapping lists with abbreviation.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var prefs = require('../assets/preferences');
	prefs.define('filter.trimRegexp',
		'[\\s|\\u00a0]*[\\d|#|\\-|\*|\\u2022]+\\.?\\s*',
		'Regular expression used to remove list markers (numbers, dashes, '
		+ 'bullets, etc.) in <code>t</code> (trim) filter. The trim filter '
		+ 'is useful for wrapping with abbreviation lists, pased from other '
		+ 'documents (for example, Word documents).');

	function process(tree, re) {
		tree.children.forEach(function(item) {
			if (item.content) {
				item.content = item.content.replace(re, '');
			}

			process(item, re);
		});

		return tree;
	}

	return function(tree) {
		var re = new RegExp(prefs.get('filter.trimRegexp'));
		return process(tree, re);
	};
});

},{"../assets/preferences":28}],53:[function(require,module,exports){
/**
 * Filter for trimming "select" attributes from some tags that contains
 * child elements
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var abbrUtils = require('../utils/abbreviation');

	var tags = {
		'xsl:variable': 1,
		'xsl:with-param': 1
	};

	/**
	 * Removes "select" attribute from node
	 * @param {AbbreviationNode} node
	 */
	function trimAttribute(node) {
		node.start = node.start.replace(/\s+select\s*=\s*(['"]).*?\1/, '');
	}

	return function process(tree) {
		tree.children.forEach(function(item) {
			if (!abbrUtils.isSnippet(item)
					&& (item.name() || '').toLowerCase() in tags
					&& item.children.length)
				trimAttribute(item);
			process(item);
		});

		return tree;
	};
});
},{"../utils/abbreviation":69}],54:[function(require,module,exports){
/**
 * "Lorem ipsum" text generator. Matches <code>lipsum(num)?</code> or
 * <code>lorem(num)?</code> abbreviation.
 * This code is based on Django's contribution:
 * https://code.djangoproject.com/browser/django/trunk/django/contrib/webdesign/lorem_ipsum.py
 * <br><br>
 * Examples to test:<br>
 * <code>lipsum</code> ‚Äì generates 30 words text.<br>
 * <code>lipsum*6</code> ‚Äì generates 6 paragraphs (autowrapped with &lt;p&gt; element) of text.<br>
 * <code>ol>lipsum10*5</code> ‚Äî generates ordered list with 5 list items (autowrapped with &lt;li&gt; tag)
 * with text of 10 words on each line.<br>
 * <code>span*3>lipsum20</code> ‚Äì generates 3 paragraphs of 20-words text, each wrapped with &lt;span&gt; element.
 * Each paragraph phrase is unique.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var prefs = require('../assets/preferences');

	var langs = {
		en: {
			common: ['lorem', 'ipsum', 'dolor', 'sit', 'amet', 'consectetur', 'adipisicing', 'elit'],
			words: ['exercitationem', 'perferendis', 'perspiciatis', 'laborum', 'eveniet',
				'sunt', 'iure', 'nam', 'nobis', 'eum', 'cum', 'officiis', 'excepturi',
				'odio', 'consectetur', 'quasi', 'aut', 'quisquam', 'vel', 'eligendi',
				'itaque', 'non', 'odit', 'tempore', 'quaerat', 'dignissimos',
				'facilis', 'neque', 'nihil', 'expedita', 'vitae', 'vero', 'ipsum',
				'nisi', 'animi', 'cumque', 'pariatur', 'velit', 'modi', 'natus',
				'iusto', 'eaque', 'sequi', 'illo', 'sed', 'ex', 'et', 'voluptatibus',
				'tempora', 'veritatis', 'ratione', 'assumenda', 'incidunt', 'nostrum',
				'placeat', 'aliquid', 'fuga', 'provident', 'praesentium', 'rem',
				'necessitatibus', 'suscipit', 'adipisci', 'quidem', 'possimus',
				'voluptas', 'debitis', 'sint', 'accusantium', 'unde', 'sapiente',
				'voluptate', 'qui', 'aspernatur', 'laudantium', 'soluta', 'amet',
				'quo', 'aliquam', 'saepe', 'culpa', 'libero', 'ipsa', 'dicta',
				'reiciendis', 'nesciunt', 'doloribus', 'autem', 'impedit', 'minima',
				'maiores', 'repudiandae', 'ipsam', 'obcaecati', 'ullam', 'enim',
				'totam', 'delectus', 'ducimus', 'quis', 'voluptates', 'dolores',
				'molestiae', 'harum', 'dolorem', 'quia', 'voluptatem', 'molestias',
				'magni', 'distinctio', 'omnis', 'illum', 'dolorum', 'voluptatum', 'ea',
				'quas', 'quam', 'corporis', 'quae', 'blanditiis', 'atque', 'deserunt',
				'laboriosam', 'earum', 'consequuntur', 'hic', 'cupiditate',
				'quibusdam', 'accusamus', 'ut', 'rerum', 'error', 'minus', 'eius',
				'ab', 'ad', 'nemo', 'fugit', 'officia', 'at', 'in', 'id', 'quos',
				'reprehenderit', 'numquam', 'iste', 'fugiat', 'sit', 'inventore',
				'beatae', 'repellendus', 'magnam', 'recusandae', 'quod', 'explicabo',
				'doloremque', 'aperiam', 'consequatur', 'asperiores', 'commodi',
				'optio', 'dolor', 'labore', 'temporibus', 'repellat', 'veniam',
				'architecto', 'est', 'esse', 'mollitia', 'nulla', 'a', 'similique',
				'eos', 'alias', 'dolore', 'tenetur', 'deleniti', 'porro', 'facere',
				'maxime', 'corrupti']
		},
		sp: {
			common: ['mujer', 'uno', 'dolor', 'm√°s', 'de', 'poder', 'mismo', 'si'],
			words: ['ejercicio', 'preferencia', 'perspicacia', 'laboral', 'pa√±o',
				'suntuoso', 'molde', 'namibia', 'planeador', 'mirar', 'dem√°s', 'oficinista', 'excepci√≥n',
				'odio', 'consecuencia', 'casi', 'auto', 'chicharra', 'velo', 'elixir',
				'ataque', 'no', 'odio', 'temporal', 'cu√≥rum', 'dign√≠simo',
				'facilismo', 'letra', 'nihilista', 'expedici√≥n', 'alma', 'alveolar', 'aparte',
				'le√≥n', 'animal', 'como', 'paria', 'belleza', 'modo', 'natividad',
				'justo', 'ataque', 's√©quito', 'pillo', 'sed', 'ex', 'y', 'voluminoso',
				'temporalidad', 'verdades', 'racional', 'asunci√≥n', 'incidente', 'marejada',
				'placenta', 'amanecer', 'fuga', 'previsor', 'presentaci√≥n', 'lejos',
				'necesariamente', 'sospechoso', 'adiposidad', 'quind√≠o', 'p√≥cima',
				'voluble', 'd√©bito', 'sinti√≥', 'accesorio', 'falda', 'sapiencia',
				'volutas', 'queso', 'permacultura', 'laudo', 'soluciones', 'entero',
				'pan', 'litro', 'tonelada', 'culpa', 'libertario', 'mosca', 'dictado',
				'reincidente', 'nascimiento', 'dolor', 'escolar', 'impedimento', 'm√≠nima',
				'mayores', 'repugnante', 'dulce', 'obcecado', 'monta√±a', 'enigma',
				'total', 'delet√©reo', 'd√©cima', 'c√°bala', 'fotograf√≠a', 'dolores',
				'molesto', 'olvido', 'paciencia', 'resiliencia', 'voluntad', 'molestias',
				'magn√≠fico', 'distinci√≥n', 'ovni', 'marejada', 'cerro', 'torre', 'y',
				'abogada', 'manantial', 'corporal', 'agua', 'crep√∫sculo', 'ataque', 'desierto',
				'laboriosamente', 'angustia', 'afortunado', 'alma', 'encefalograma',
				'materialidad', 'cosas', 'o', 'renuncia', 'error', 'menos', 'conejo',
				'abad√≠a', 'analfabeto', 'remo', 'fugacidad', 'oficio', 'en', 'alm√°cigo', 'vos', 'pan',
				'represi√≥n', 'n√∫meros', 'triste', 'refugiado', 'trote', 'inventor',
				'corchea', 'repelente', 'magma', 'recusado', 'patr√≥n', 'expl√≠cito',
				'paloma', 's√≠ndrome', 'inmune', 'autoinmune', 'comodidad',
				'ley', 'vietnamita', 'demonio', 'tasmania', 'repeler', 'ap√©ndice',
				'arquitecto', 'columna', 'yugo', 'computador', 'mula', 'a', 'prop√≥sito',
				'fantas√≠a', 'alias', 'rayo', 'tenedor', 'deleznable', 'ventana', 'cara',
				'anemia', 'corrupto']
		},
		ru: {
			common: ['–¥–∞–ª–µ–∫–æ-–¥–∞–ª–µ–∫–æ', '–∑–∞', '—Å–ª–æ–≤–µ—Å–Ω—ã–º–∏', '–≥–æ—Ä–∞–º–∏', '–≤ —Å—Ç—Ä–∞–Ω–µ', '–≥–ª–∞—Å–Ω—ã—Ö', '–∏ —Å–æ–≥–ª–∞—Å–Ω—ã—Ö', '–∂–∏–≤—É—Ç', '—Ä—ã–±–Ω—ã–µ', '—Ç–µ–∫—Å—Ç—ã'],
			words: ['–≤–¥–∞–ª–∏', '–æ—Ç –≤—Å–µ—Ö', '–æ–Ω–∏', '–±—É–∫–≤–µ–Ω–Ω—ã—Ö', '–¥–æ–º–∞—Ö', '–Ω–∞ –±–µ—Ä–µ–≥—É', '—Å–µ–º–∞–Ω—Ç–∏–∫–∞',
				'–±–æ–ª—å—à–æ–≥–æ', '—è–∑—ã–∫–æ–≤–æ–≥–æ', '–æ–∫–µ–∞–Ω–∞', '–º–∞–ª–µ–Ω—å–∫–∏–π', '—Ä—É—á–µ–µ–∫', '–¥–∞–ª—å',
				'–∂—É—Ä—á–∏—Ç', '–ø–æ –≤—Å–µ–π', '–æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç', '–µ–µ','–≤—Å–µ–º–∏', '–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏',
				'–ø—Ä–∞–≤–∏–ª–∞–º–∏', '—ç—Ç–∞', '–ø–∞—Ä–∞–¥–∏–≥–º–∞—Ç–∏—á–µ—Å–∫–∞—è', '—Å—Ç—Ä–∞–Ω–∞', '–∫–æ—Ç–æ—Ä–æ–π', '–∂–∞—Ä–µ–Ω–Ω—ã–µ',
				'–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è', '–∑–∞–ª–µ—Ç–∞—é—Ç', '–ø—Ä—è–º–æ', '—Ä–æ—Ç', '–¥–∞–∂–µ', '–≤—Å–µ–º–æ–≥—É—â–∞—è',
				'–ø—É–Ω–∫—Ç—É–∞—Ü–∏—è', '–Ω–µ', '–∏–º–µ–µ—Ç', '–≤–ª–∞—Å—Ç–∏', '–Ω–∞–¥', '—Ä—ã–±–Ω—ã–º–∏', '—Ç–µ–∫—Å—Ç–∞–º–∏',
				'–≤–µ–¥—É—â–∏–º–∏', '–±–µ–∑–æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–Ω—ã–π', '–æ–±—Ä–∞–∑', '–∂–∏–∑–Ω–∏', '–æ–¥–Ω–∞–∂–¥—ã', '–æ–¥–Ω–∞',
				'–º–∞–ª–µ–Ω—å–∫–∞—è', '—Å—Ç—Ä–æ—á–∫–∞','—Ä—ã–±–Ω–æ–≥–æ', '—Ç–µ–∫—Å—Ç–∞', '–∏–º–µ–Ω–∏', 'lorem', 'ipsum',
				'—Ä–µ—à–∏–ª–∞', '–≤—ã–π—Ç–∏', '–±–æ–ª—å—à–æ–π', '–º–∏—Ä', '–≥—Ä–∞–º–º–∞—Ç–∏–∫–∏', '–≤–µ–ª–∏–∫–∏–π', '–æ–∫—Å–º–æ–∫—Å',
				'–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–ª', '–æ', '–∑–ª—ã—Ö', '–∑–∞–ø—è—Ç—ã—Ö', '–¥–∏–∫–∏—Ö', '–∑–Ω–∞–∫–∞—Ö', '–≤–æ–ø—Ä–æ—Å–∞',
				'–∫–æ–≤–∞—Ä–Ω—ã—Ö', '—Ç–æ—á–∫–∞—Ö', '–∑–∞–ø—è—Ç–æ–π', '–Ω–æ', '—Ç–µ–∫—Å—Ç', '–¥–∞–ª', '—Å–±–∏—Ç—å',
				'—Å–µ–±—è', '—Ç–æ–ª–∫—É', '–æ–Ω', '—Å–æ–±—Ä–∞–ª', '—Å–µ–º—å', '—Å–≤–æ–∏—Ö', '–∑–∞–≥–ª–∞–≤–Ω—ã—Ö', '–±—É–∫–≤',
				'–ø–æ–¥–ø–æ—è—Å–∞–ª', '–∏–Ω–∏—Ü–∏–∞–ª', '–∑–∞', '–ø–æ—è—Å', '–ø—É—Å—Ç–∏–ª—Å—è', '–¥–æ—Ä–æ–≥—É',
				'–≤–∑–æ–±—Ä–∞–≤—à–∏—Å—å', '–ø–µ—Ä–≤—É—é', '–≤–µ—Ä—à–∏–Ω—É', '–∫—É—Ä—Å–∏–≤–Ω—ã—Ö', '–≥–æ—Ä', '–±—Ä–æ—Å–∏–ª',
				'–ø–æ—Å–ª–µ–¥–Ω–∏–π', '–≤–∑–≥–ª—è–¥', '–Ω–∞–∑–∞–¥', '—Å–∏–ª—É—ç—Ç', '—Å–≤–æ–µ–≥–æ', '—Ä–æ–¥–Ω–æ–≥–æ', '–≥–æ—Ä–æ–¥–∞',
				'–±—É–∫–≤–æ–≥—Ä–∞–¥', '–∑–∞–≥–æ–ª–æ–≤–æ–∫', '–¥–µ—Ä–µ–≤–Ω–∏', '–∞–ª—Ñ–∞–≤–∏—Ç', '–ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫', '—Å–≤–æ–µ–≥–æ',
				'–ø–µ—Ä–µ—É–ª–∫–∞', '–≥—Ä—É—Å—Ç–Ω—ã–π', '—Ä–µ—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π', '–≤–æ–ø—Ä–æ—Å', '—Å–∫–∞—Ç–∏–ª—Å—è', '–µ–≥–æ',
				'—â–µ–∫–µ', '–ø—Ä–æ–¥–æ–ª–∂–∏–ª', '—Å–≤–æ–π', '–ø—É—Ç—å', '–¥–æ—Ä–æ–≥–µ', '–≤—Å—Ç—Ä–µ—Ç–∏–ª', '—Ä—É–∫–æ–ø–∏—Å—å',
				'–æ–Ω–∞', '–ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª–∞',  '–º–æ–µ–π', '–≤—Å–µ', '–ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è', '–Ω–µ—Å–∫–æ–ª—å–∫–æ',
				'—Ä–∞–∑', '–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ', '—á—Ç–æ', '–º–µ–Ω—è', '–æ—Å—Ç–∞–ª–æ—Å—å', '—ç—Ç–æ', '–ø—Ä–∏—Å—Ç–∞–≤–∫–∞',
				'–≤–æ–∑–≤—Ä–∞—â–∞–π—Å—è', '—Ç—ã', '–ª—É—á—à–µ', '—Å–≤–æ—é', '–±–µ–∑–æ–ø–∞—Å–Ω—É—é', '—Å—Ç—Ä–∞–Ω—É', '–ø–æ—Å–ª—É—à–∞–≤—à–∏—Å—å',
				'—Ä—É–∫–æ–ø–∏—Å–∏', '–Ω–∞—à', '–ø—Ä–æ–¥–æ–ª–∂–∏–ª', '—Å–≤–æ–π', '–ø—É—Ç—å', '–≤—Å–∫–æ—Ä–µ', '–µ–º—É',
				'–ø–æ–≤—Å—Ç—Ä–µ—á–∞–ª—Å—è', '–∫–æ–≤–∞—Ä–Ω—ã–π', '—Å–æ—Å—Ç–∞–≤–∏—Ç–µ–ª—å', '—Ä–µ–∫–ª–∞–º–Ω—ã—Ö', '—Ç–µ–∫—Å—Ç–æ–≤',
				'–Ω–∞–ø–æ–∏–≤—à–∏–π', '—è–∑—ã–∫–æ–º', '—Ä–µ—á—å—é', '–∑–∞–º–∞–Ω–∏–≤—à–∏–π', '—Å–≤–æ–µ', '–∞–≥–µ–Ω—Å—Ç–≤–æ',
				'–∫–æ—Ç–æ—Ä–æ–µ', '–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ', '—Å–Ω–æ–≤–∞', '—Å–Ω–æ–≤–∞', '—Å–≤–æ–∏—Ö', '–ø—Ä–æ–µ–∫—Ç–∞—Ö',
				'–µ—Å–ª–∏', '–ø–µ—Ä–µ–ø–∏—Å–∞–ª–∏', '—Ç–æ', '–∂–∏–≤–µ—Ç', '—Ç–∞–º', '–¥–æ', '—Å–∏—Ö', '–ø–æ—Ä']
		}
	};


	prefs.define('lorem.defaultLang', 'en',
		'Default language of generated dummy text. Currently, <code>en</code>\
		and <code>ru</code> are supported, but users can add their own syntaxes\
		see <a href="http://docs.emmet.io/abbreviations/lorem-ipsum/">docs</a>.');
	prefs.define('lorem.omitCommonPart', false,
		'Omit commonly used part (e.g. ‚ÄúLorem ipsum dolor sit amet‚Äú) from generated text.');

	/**
	 * Returns random integer between <code>from</code> and <code>to</code> values
	 * @param {Number} from
	 * @param {Number} to
	 * @returns {Number}
	 */
	function randint(from, to) {
		return Math.round(Math.random() * (to - from) + from);
	}

	/**
	 * @param {Array} arr
	 * @param {Number} count
	 * @returns {Array}
	 */
	function sample(arr, count) {
		var len = arr.length;
		var iterations = Math.min(len, count);
		var result = [];
		while (result.length < iterations) {
			var randIx = randint(0, len - 1);
			if (!~result.indexOf(randIx)) {
				result.push(randIx);
			}
		}

		return result.map(function(ix) {
			return arr[ix];
		});
	}

	function choice(val) {
		if (typeof val === 'string')
			return val.charAt(randint(0, val.length - 1));

		return val[randint(0, val.length - 1)];
	}

	function sentence(words, end) {
		if (words.length) {
			words[0] = words[0].charAt(0).toUpperCase() + words[0].substring(1);
		}

		return words.join(' ') + (end || choice('?!...')); // more dots than question marks
	}

	/**
	 * Insert commas at randomly selected words. This function modifies values
	 * inside <code>words</code> array
	 * @param {Array} words
	 */
	function insertCommas(words) {
		var len = words.length;

		if (len < 2) {
			return;
		}

		var totalCommas = 0;
		if (len > 3 && len <= 6) {
			totalCommas = randint(0, 1);
		} else if (len > 6 && len <= 12) {
			totalCommas = randint(0, 2);
		} else {
			totalCommas = randint(1, 4);
		}

		for (var i = 0, pos, word; i < totalCommas; i++) {
			pos = randint(0, words.length - 2);
			word = words[pos];
			if (word.charAt(word.length - 1) !== ',') {
				words[pos] += ',';
			}
		}
	}

	/**
	 * Generate a paragraph of "Lorem ipsum" text
	 * @param {Number} wordCount Words count in paragraph
	 * @param {Boolean} startWithCommon Should paragraph start with common
	 * "lorem ipsum" sentence.
	 * @returns {String}
	 */
	function paragraph(lang, wordCount, startWithCommon) {
		var data = langs[lang];
		if (!data) {
			return '';
		}

		var result = [];
		var totalWords = 0;
		var words;

		wordCount = parseInt(wordCount, 10);

		if (startWithCommon && data.common) {
			words = data.common.slice(0, wordCount);
			if (words.length > 5) {
				words[4] += ',';
			}
			totalWords += words.length;
			result.push(sentence(words, '.'));
		}

		while (totalWords < wordCount) {
			words = sample(data.words, Math.min(randint(2, 30), wordCount - totalWords));
			totalWords += words.length;
			insertCommas(words);
			result.push(sentence(words));
		}

		return result.join(' ');
	}

	return {
		/**
		 * Adds new language words for Lorem Ipsum generator
		 * @param {String} lang Two-letter lang definition
		 * @param {Object} data Words for language. Maight be either a space-separated
		 * list of words (String), Array of words or object with <code>text</code> and
		 * <code>common</code> properties
		 */
		addLang: function(lang, data) {
			if (typeof data === 'string') {
				data = {
					words: data.split(' ').filter(function(item) {
						return !!item;
					})
				};
			} else if (Array.isArray(data)) {
				data = {words: data};
			}

			langs[lang] = data;
		},
		preprocessor: function(tree) {
			var re = /^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i, match;
			var allowCommon = !prefs.get('lorem.omitCommonPart');

			/** @param {AbbreviationNode} node */
			tree.findAll(function(node) {
				if (node._name && (match = node._name.match(re))) {
					var wordCound = match[2] || 30;
					var lang = match[1] || prefs.get('lorem.defaultLang') || 'en';

					// force node name resolving if node should be repeated
					// or contains attributes. In this case, node should be outputed
					// as tag, otherwise as text-only node
					node._name = '';
					node.data('forceNameResolving', node.isRepeating() || node.attributeList().length);
					node.data('pasteOverwrites', true);
					node.data('paste', function(i) {
						return paragraph(lang, wordCound, !i && allowCommon);
					});
				}
			});
		}
	};
});

},{"../assets/preferences":28}],55:[function(require,module,exports){
/**
 * Emmet abbreviation parser.
 * Takes string abbreviation and recursively parses it into a tree. The parsed
 * tree can be transformed into a string representation with
 * <code>toString()</code> method. Note that string representation is defined
 * by custom processors (called <i>filters</i>), not by abbreviation parser
 * itself.
 *
 * This module can be extended with custom pre-/post-processors to shape-up
 * final tree or its representation. Actually, many features of abbreviation
 * engine are defined in other modules as tree processors
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var tabStops = require('../assets/tabStops');
	var profile = require('../assets/profile');
	var filters = require('../filter/main');
	var utils = require('../utils/common');
	var abbreviationUtils = require('../utils/abbreviation');
	var stringStream = require('../assets/stringStream');

	// pre- and post-processorcs
	var lorem = require('../generator/lorem');
	var procPastedContent = require('./processor/pastedContent');
	var procTagName = require('./processor/tagName');
	var procResourceMatcher = require('./processor/resourceMatcher');
	var procAttributes = require('./processor/attributes');
	var procHref = require('./processor/href');

	var reValidName = /^[\w\-\$\:@\!%]+\+?$/i;
	var reWord = /[\w\-:\$@]/;
	var DEFAULT_ATTR_NAME = '%default';

	var pairs = {
		'[': ']',
		'(': ')',
		'{': '}'
	};

	var spliceFn = Array.prototype.splice;

	var preprocessors = [];
	var postprocessors = [];
	var outputProcessors = [];

	/**
	 * @type AbbreviationNode
	 */
	function AbbreviationNode(parent) {
		/** @type AbbreviationNode */
		this.parent = null;
		this.children = [];
		this._attributes = [];

		/** @type String Raw abbreviation for current node */
		this.abbreviation = '';
		this.counter = 1;
		this._name = null;
		this._text = '';
		this.repeatCount = 1;
		this.hasImplicitRepeat = false;

		/** Custom data dictionary */
		this._data = {};

		// output properties
		this.start = '';
		this.end = '';
		this.content = '';
		this.padding = '';
	}

	AbbreviationNode.prototype = {
		/**
		 * Adds passed node as child or creates new child
		 * @param {AbbreviationNode} child
		 * @param {Number} position Index in children array where child should
		 * be inserted
		 * @return {AbbreviationNode}
		 */
		addChild: function(child, position) {
			child = child || new AbbreviationNode();
			child.parent = this;

			if (typeof position === 'undefined') {
				this.children.push(child);
			} else {
				this.children.splice(position, 0, child);
			}

			return child;
		},

		/**
		 * Creates a deep copy of current node
		 * @returns {AbbreviationNode}
		 */
		clone: function() {
			var node = new AbbreviationNode();
			var attrs = ['abbreviation', 'counter', '_name', '_text', 'repeatCount', 'hasImplicitRepeat', 'start', 'end', 'content', 'padding'];
			attrs.forEach(function(a) {
				node[a] = this[a];
			}, this);

			// clone attributes
			node._attributes = this._attributes.map(function(attr) {
				return utils.extend({}, attr);
			});

			node._data = utils.extend({}, this._data);

			// clone children
			node.children = this.children.map(function(child) {
				child = child.clone();
				child.parent = node;
				return child;
			});

			return node;
		},

		/**
		 * Removes current node from parent‚Äòs child list
		 * @returns {AbbreviationNode} Current node itself
		 */
		remove: function() {
			if (this.parent) {
				var ix = this.parent.children.indexOf(this);
				if (~ix) {
					this.parent.children.splice(ix, 1);
				}
			}

			return this;
		},

		/**
		 * Replaces current node in parent‚Äòs children list with passed nodes
		 * @param {AbbreviationNode} node Replacement node or array of nodes
		 */
		replace: function() {
			var parent = this.parent;
			var ix = parent.children.indexOf(this);
			var items = utils.flatten(arguments);
			spliceFn.apply(parent.children, [ix, 1].concat(items));

			// update parent
			items.forEach(function(item) {
				item.parent = parent;
			});
		},

		/**
		 * Recursively sets <code>property</code> to <code>value</code> of current
		 * node and its children
		 * @param {String} name Property to update
		 * @param {Object} value New property value
		 */
		updateProperty: function(name, value) {
			this[name] = value;
			this.children.forEach(function(child) {
				child.updateProperty(name, value);
			});

			return this;
		},

		/**
		 * Finds first child node that matches truth test for passed
		 * <code>fn</code> function
		 * @param {Function} fn
		 * @returns {AbbreviationNode}
		 */
		find: function(fn) {
			return this.findAll(fn, {amount: 1})[0];
		},

		/**
		 * Finds all child nodes that matches truth test for passed
		 * <code>fn</code> function
		 * @param {Function} fn
		 * @returns {Array}
		 */
		findAll: function(fn, state) {
			state = utils.extend({amount: 0, found: 0}, state || {});

			if (typeof fn !== 'function') {
				var elemName = fn.toLowerCase();
				fn = function(item) {return item.name().toLowerCase() == elemName;};
			}

			var result = [];
			this.children.forEach(function(child) {
				if (fn(child)) {
					result.push(child);
					state.found++;
					if (state.amount && state.found >= state.amount) {
						return;
					}
				}

				result = result.concat(child.findAll(fn));
			});

			return result.filter(function(item) {
				return !!item;
			});
		},

		/**
		 * Sets/gets custom data
		 * @param {String} name
		 * @param {Object} value
		 * @returns {Object}
		 */
		data: function(name, value) {
			if (arguments.length == 2) {
				this._data[name] = value;
			}

			return this._data[name];
		},

		/**
		 * Returns name of current node
		 * @returns {String}
		 */
		name: function() {
			return this._name;
		},

		/**
		 * Returns list of attributes for current node
		 * @returns {Array}
		 */
		attributeList: function() {
			return optimizeAttributes(this._attributes.slice(0));
		},

		/**
		 * Returns or sets attribute value
		 * @param {String} name Attribute name
		 * @param {String} value New attribute value. `Null` value
		 * will remove attribute
		 * @returns {String}
		 */
		attribute: function(name, value) {
			if (arguments.length == 2) {
				if (value === null) {
					// remove attribute
					var vals = this._attributes.filter(function(attr) {
						return attr.name === name;
					});

					var that = this;
					vals.forEach(function(attr) {
						var ix = that._attributes.indexOf(attr);
						if (~ix) {
							that._attributes.splice(ix, 1);
						}
					});

					return;
				}

				// modify attribute
				var attrNames = this._attributes.map(function(attr) {
					return attr.name;
				});
				var ix = attrNames.indexOf(name.toLowerCase());
				if (~ix) {
					this._attributes[ix].value = value;
				} else {
					this._attributes.push({
						name: name,
						value: value
					});
				}
			}

			return (utils.find(this.attributeList(), function(attr) {
				return attr.name == name;
			}) || {}).value;
		},

		/**
		 * Returns index of current node in parent‚Äòs children list
		 * @returns {Number}
		 */
		index: function() {
			return this.parent ? this.parent.children.indexOf(this) : -1;
		},

		/**
		 * Sets how many times current element should be repeated
		 * @private
		 */
		_setRepeat: function(count) {
			if (count) {
				this.repeatCount = parseInt(count, 10) || 1;
			} else {
				this.hasImplicitRepeat = true;
			}
		},

		/**
		 * Sets abbreviation that belongs to current node
		 * @param {String} abbr
		 */
		setAbbreviation: function(abbr) {
			abbr = abbr || '';

			var that = this;

			// find multiplier
			abbr = abbr.replace(/\*(\d+)?$/, function(str, repeatCount) {
				that._setRepeat(repeatCount);
				return '';
			});

			this.abbreviation = abbr;

			var abbrText = extractText(abbr);
			if (abbrText) {
				abbr = abbrText.element;
				this.content = this._text = abbrText.text;
			}

			var abbrAttrs = parseAttributes(abbr);
			if (abbrAttrs) {
				abbr = abbrAttrs.element;
				this._attributes = abbrAttrs.attributes;
			}

			this._name = abbr;

			// validate name
			if (this._name && !reValidName.test(this._name)) {
				throw new Error('Invalid abbreviation');
			}
		},

		/**
		 * Returns string representation of current node
		 * @return {String}
		 */
		valueOf: function() {
			var start = this.start;
			var end = this.end;
			var content = this.content;

			// apply output processors
			var node = this;
			outputProcessors.forEach(function(fn) {
				start = fn(start, node, 'start');
				content = fn(content, node, 'content');
				end = fn(end, node, 'end');
			});


			var innerContent = this.children.map(function(child) {
				return child.valueOf();
			}).join('');

			content = abbreviationUtils.insertChildContent(content, innerContent, {
				keepVariable: false
			});

			return start + utils.padString(content, this.padding) + end;
		},

		toString: function() {
			return this.valueOf();
		},

		/**
		 * Check if current node contains children with empty <code>expr</code>
		 * property
		 * @return {Boolean}
		 */
		hasEmptyChildren: function() {
			return !!utils.find(this.children, function(child) {
				return child.isEmpty();
			});
		},

		/**
		 * Check if current node has implied name that should be resolved
		 * @returns {Boolean}
		 */
		hasImplicitName: function() {
			return !this._name && !this.isTextNode();
		},

		/**
		 * Indicates that current element is a grouping one, e.g. has no
		 * representation but serves as a container for other nodes
		 * @returns {Boolean}
		 */
		isGroup: function() {
			return !this.abbreviation;
		},

		/**
		 * Indicates empty node (i.e. without abbreviation). It may be a
		 * grouping node and should not be outputted
		 * @return {Boolean}
		 */
		isEmpty: function() {
			return !this.abbreviation && !this.children.length;
		},

		/**
		 * Indicates that current node should be repeated
		 * @returns {Boolean}
		 */
		isRepeating: function() {
			return this.repeatCount > 1 || this.hasImplicitRepeat;
		},

		/**
		 * Check if current node is a text-only node
		 * @return {Boolean}
		 */
		isTextNode: function() {
			return !this.name() && !this.attributeList().length;
		},

		/**
		 * Indicates whether this node may be used to build elements or snippets
		 * @returns {Boolean}
		 */
		isElement: function() {
			return !this.isEmpty() && !this.isTextNode();
		},

		/**
		 * Returns latest and deepest child of current tree
		 * @returns {AbbreviationNode}
		 */
		deepestChild: function() {
			if (!this.children.length)
				return null;

			var deepestChild = this;
			while (deepestChild.children.length) {
				deepestChild = deepestChild.children[deepestChild.children.length - 1];
			}

			return deepestChild;
		}
	};

	/**
	 * Returns stripped string: a string without first and last character.
	 * Used for ‚Äúunquoting‚Äù strings
	 * @param {String} str
	 * @returns {String}
	 */
	function stripped(str) {
		return str.substring(1, str.length - 1);
	}

	function consumeQuotedValue(stream, quote) {
		var ch;
		while ((ch = stream.next())) {
			if (ch === quote)
				return true;

			if (ch == '\\')
				continue;
		}

		return false;
	}

	/**
	 * Parses abbreviation into a tree
	 * @param {String} abbr
	 * @returns {AbbreviationNode}
	 */
	function parseAbbreviation(abbr) {
		abbr = utils.trim(abbr);

		var root = new AbbreviationNode();
		var context = root.addChild(), ch;

		/** @type StringStream */
		var stream = stringStream.create(abbr);
		var loopProtector = 1000, multiplier;
		var addChild = function(child) {
			context.addChild(child);
		};

		var consumeAbbr = function() {
			stream.start = stream.pos;
			stream.eatWhile(function(c) {
				if (c == '[' || c == '{') {
					if (stream.skipToPair(c, pairs[c])) {
						stream.backUp(1);
						return true;
					}

					throw new Error('Invalid abbreviation: mo matching "' + pairs[c] + '" found for character at ' + stream.pos);
				}

				if (c == '+') {
					// let's see if this is an expando marker
					stream.next();
					var isMarker = stream.eol() ||  ~'+>^*'.indexOf(stream.peek());
					stream.backUp(1);
					return isMarker;
				}

				return c != '(' && isAllowedChar(c);
			});
		};

		while (!stream.eol() && --loopProtector > 0) {
			ch = stream.peek();

			switch (ch) {
				case '(': // abbreviation group
					stream.start = stream.pos;
					if (stream.skipToPair('(', ')')) {
						var inner = parseAbbreviation(stripped(stream.current()));
						if ((multiplier = stream.match(/^\*(\d+)?/, true))) {
							context._setRepeat(multiplier[1]);
						}

						inner.children.forEach(addChild);
					} else {
						throw new Error('Invalid abbreviation: mo matching ")" found for character at ' + stream.pos);
					}
					break;

				case '>': // child operator
					context = context.addChild();
					stream.next();
					break;

				case '+': // sibling operator
					context = context.parent.addChild();
					stream.next();
					break;

				case '^': // climb up operator
					var parent = context.parent || context;
					context = (parent.parent || parent).addChild();
					stream.next();
					break;

				default: // consume abbreviation
					consumeAbbr();
					context.setAbbreviation(stream.current());
					stream.start = stream.pos;
			}
		}

		if (loopProtector < 1) {
			throw new Error('Endless loop detected');
		}

		return root;
	}

	/**
	 * Splits attribute set into a list of attributes string
	 * @param  {String} attrSet
	 * @return {Array}
	 */
	function splitAttributes(attrSet) {
		attrSet = utils.trim(attrSet);
		var parts = [];

		// split attribute set by spaces
		var stream = stringStream(attrSet), ch;
		while ((ch = stream.next())) {
			if (ch == ' ') {
				parts.push(utils.trim(stream.current()));
				// skip spaces
				while (stream.peek() == ' ') {
					stream.next();
				}

				stream.start = stream.pos;
			} else if (ch == '"' || ch == "'") {
				// skip values in strings
				if (!stream.skipString(ch)) {
					throw new Error('Invalid attribute set');
				}
			}
		}

		parts.push(utils.trim(stream.current()));
		return parts;
	}

	/**
	 * Removes opening and closing quotes from given string
	 * @param  {String} str
	 * @return {String}
	 */
	function unquote(str) {
		var ch = str.charAt(0);
		if (ch == '"' || ch == "'") {
			str = str.substr(1);
			var last = str.charAt(str.length - 1);
			if (last === ch) {
				str = str.substr(0, str.length - 1);
			}
		}

		return str;
	}

	/**
	 * Extract attributes and their values from attribute set:
	 * <code>[attr col=3 title="Quoted string"]</code> (without square braces)
	 * @param {String} attrSet
	 * @returns {Array}
	 */
	function extractAttributes(attrSet) {
		var reAttrName = /^[\w\-:\$@]+\.?$/;
		return splitAttributes(attrSet).map(function(attr) {
			// attribute name: [attr]
			if (reAttrName.test(attr)) {
				var value = '';
				if (attr.charAt(attr.length - 1) == '.') {
					// a boolean attribute
					attr = attr.substr(0, attr.length - 1);
					value = attr;
				}
				return {
					name: attr,
					value: value
				};
			}

			// attribute with value: [name=val], [name="val"]
			if (~attr.indexOf('=')) {
				var parts = attr.split('=');
				return {
					name: parts.shift(),
					value: unquote(parts.join('='))
				};
			}

			// looks like it‚Äôs implied attribute
			return {
				name: DEFAULT_ATTR_NAME,
				value: unquote(attr)
			};
		});
	}

	/**
	 * Parses tag attributes extracted from abbreviation. If attributes found,
	 * returns object with <code>element</code> and <code>attributes</code>
	 * properties
	 * @param {String} abbr
	 * @returns {Object} Returns <code>null</code> if no attributes found in
	 * abbreviation
	 */
	function parseAttributes(abbr) {
		/*
		 * Example of incoming data:
		 * #header
		 * .some.data
		 * .some.data#header
		 * [attr]
		 * #item[attr=Hello other="World"].class
		 */
		var result = [];
		var attrMap = {'#': 'id', '.': 'class'};
		var nameEnd = null;

		/** @type StringStream */
		var stream = stringStream.create(abbr);
		while (!stream.eol()) {
			switch (stream.peek()) {
				case '#': // id
				case '.': // class
					if (nameEnd === null)
						nameEnd = stream.pos;

					var attrName = attrMap[stream.peek()];

					stream.next();
					stream.start = stream.pos;
					stream.eatWhile(reWord);
					result.push({
						name: attrName,
						value: stream.current()
					});
					break;
				case '[': //begin attribute set
					if (nameEnd === null)
						nameEnd = stream.pos;

					stream.start = stream.pos;
					if (!stream.skipToPair('[', ']')) {
						throw new Error('Invalid attribute set definition');
					}

					result = result.concat(
						extractAttributes(stripped(stream.current()))
					);
					break;
				default:
					stream.next();
			}
		}

		if (!result.length)
			return null;

		return {
			element: abbr.substring(0, nameEnd),
			attributes: optimizeAttributes(result)
		};
	}

	/**
	 * Optimize attribute set: remove duplicates and merge class attributes
	 * @param attrs
	 */
	function optimizeAttributes(attrs) {
		// clone all attributes to make sure that original objects are
		// not modified
		attrs = attrs.map(function(attr) {
			return utils.clone(attr);
		});

		var lookup = {};

		return attrs.filter(function(attr) {
			if (!(attr.name in lookup)) {
				return lookup[attr.name] = attr;
			}

			var la = lookup[attr.name];

			if (attr.name.toLowerCase() == 'class') {
				la.value += (la.value.length ? ' ' : '') + attr.value;
			} else {
				la.value = attr.value;
				la.isImplied = !!attr.isImplied;
			}

			return false;
		});
	}

	/**
	 * Extract text data from abbreviation: if <code>a{hello}</code> abbreviation
	 * is passed, returns object <code>{element: 'a', text: 'hello'}</code>.
	 * If nothing found, returns <code>null</code>
	 * @param {String} abbr
	 *
	 */
	function extractText(abbr) {
		if (!~abbr.indexOf('{'))
			return null;

		/** @type StringStream */
		var stream = stringStream.create(abbr);
		while (!stream.eol()) {
			switch (stream.peek()) {
				case '[':
				case '(':
					stream.skipToPair(stream.peek(), pairs[stream.peek()]); break;

				case '{':
					stream.start = stream.pos;
					stream.skipToPair('{', '}');
					return {
						element: abbr.substring(0, stream.start),
						text: stripped(stream.current())
					};

				default:
					stream.next();
			}
		}
	}

	/**
	 * ‚ÄúUn-rolls‚Äú contents of current node: recursively replaces all repeating
	 * children with their repeated clones
	 * @param {AbbreviationNode} node
	 * @returns {AbbreviationNode}
	 */
	function unroll(node) {
		for (var i = node.children.length - 1, j, child, maxCount; i >= 0; i--) {
			child = node.children[i];

			if (child.isRepeating()) {
				maxCount = j = child.repeatCount;
				child.repeatCount = 1;
				child.updateProperty('counter', 1);
				child.updateProperty('maxCount', maxCount);
				while (--j > 0) {
					child.parent.addChild(child.clone(), i + 1)
						.updateProperty('counter', j + 1)
						.updateProperty('maxCount', maxCount);
				}
			}
		}

		// to keep proper 'counter' property, we need to walk
		// on children once again
		node.children.forEach(unroll);

		return node;
	}

	/**
	 * Optimizes tree node: replaces empty nodes with their children
	 * @param {AbbreviationNode} node
	 * @return {AbbreviationNode}
	 */
	function squash(node) {
		for (var i = node.children.length - 1; i >= 0; i--) {
			/** @type AbbreviationNode */
			var n = node.children[i];
			if (n.isGroup()) {
				n.replace(squash(n).children);
			} else if (n.isEmpty()) {
				n.remove();
			}
		}

		node.children.forEach(squash);

		return node;
	}

	function isAllowedChar(ch) {
		var charCode = ch.charCodeAt(0);
		var specialChars = '#.*:$-_!@|%';

		return (charCode > 64 && charCode < 91)       // uppercase letter
				|| (charCode > 96 && charCode < 123)  // lowercase letter
				|| (charCode > 47 && charCode < 58)   // number
				|| specialChars.indexOf(ch) != -1;    // special character
	}

	// XXX add counter replacer function as output processor
	outputProcessors.push(function(text, node) {
		return utils.replaceCounter(text, node.counter, node.maxCount);
	});

	// XXX add tabstop updater
	outputProcessors.push(tabStops.abbrOutputProcessor.bind(tabStops));

	// include default pre- and postprocessors
	[lorem, procResourceMatcher, procAttributes, procPastedContent, procTagName, procHref].forEach(function(mod) {
		if (mod.preprocessor) {
			preprocessors.push(mod.preprocessor.bind(mod));
		}

		if (mod.postprocessor) {
			postprocessors.push(mod.postprocessor.bind(mod));
		}
	});

	return {
		DEFAULT_ATTR_NAME: DEFAULT_ATTR_NAME,

		/**
		 * Parses abbreviation into tree with respect of groups,
		 * text nodes and attributes. Each node of the tree is a single
		 * abbreviation. Tree represents actual structure of the outputted
		 * result
		 * @memberOf abbreviationParser
		 * @param {String} abbr Abbreviation to parse
		 * @param {Object} options Additional options for parser and processors
		 *
		 * @return {AbbreviationNode}
		 */
		parse: function(abbr, options) {
			options = options || {};

			var tree = parseAbbreviation(abbr);
			var that = this;

			if (options.contextNode) {
				// add info about context node ‚Äì
				// a parent XHTML node in editor inside which abbreviation is
				// expanded
				tree._name = options.contextNode.name;
				var attrLookup = {};
				tree._attributes.forEach(function(attr) {
					attrLookup[attr.name] = attr;
				});

				options.contextNode.attributes.forEach(function(attr) {
					if (attr.name in attrLookup) {
						attrLookup[attr.name].value = attr.value;
					} else {
						attr = utils.clone(attr);
						tree._attributes.push(attr);
						attrLookup[attr.name] = attr;
					}
				});
			}

			// apply preprocessors
			preprocessors.forEach(function(fn) {
				fn(tree, options, that);
			});

			if ('counter' in options) {
				tree.updateProperty('counter', options.counter);
			}

			tree = squash(unroll(tree));

			// apply postprocessors
			postprocessors.forEach(function(fn) {
				fn(tree, options, that);
			});

			return tree;
		},

		/**
		 * Expands given abbreviation into a formatted code structure.
		 * This is the main method that is used for expanding abbreviation
		 * @param {String} abbr Abbreviation to expand
		 * @param {Options} options Additional options for abbreviation
		 * expanding and transformation: `syntax`, `profile`, `contextNode` etc.
		 * @return {String}
		 */
		expand: function(abbr, options) {
			if (!abbr) return '';
			if (typeof options == 'string') {
				throw new Error('Deprecated use of `expand` method: `options` must be object');
			}

			options = options || {};

			if (!options.syntax) {
				options.syntax = utils.defaultSyntax();
			}

			var p = profile.get(options.profile, options.syntax);
			tabStops.resetTabstopIndex();

			var data = filters.extract(abbr);
			var outputTree = this.parse(data[0], options);

			var filtersList = filters.composeList(options.syntax, p, data[1]);
			filters.apply(outputTree, filtersList, p);

			return outputTree.valueOf();
		},

		AbbreviationNode: AbbreviationNode,

		/**
		 * Add new abbreviation preprocessor. <i>Preprocessor</i> is a function
		 * that applies to a parsed abbreviation tree right after it get parsed.
		 * The passed tree is in unoptimized state.
		 * @param {Function} fn Preprocessor function. This function receives
		 * two arguments: parsed abbreviation tree (<code>AbbreviationNode</code>)
		 * and <code>options</code> hash that was passed to <code>parse</code>
		 * method
		 */
		addPreprocessor: function(fn) {
			if (!~preprocessors.indexOf(fn)) {
				preprocessors.push(fn);
			}
		},

		/**
		 * Removes registered preprocessor
		 */
		removeFilter: function(fn) {
			var ix = preprocessors.indexOf(fn);
			if (~ix) {
				preprocessors.splice(ix, 1);
			}
		},

		/**
		 * Adds new abbreviation postprocessor. <i>Postprocessor</i> is a
		 * functinon that applies to <i>optimized</i> parsed abbreviation tree
		 * right before it returns from <code>parse()</code> method
		 * @param {Function} fn Postprocessor function. This function receives
		 * two arguments: parsed abbreviation tree (<code>AbbreviationNode</code>)
		 * and <code>options</code> hash that was passed to <code>parse</code>
		 * method
		 */
		addPostprocessor: function(fn) {
			if (!~postprocessors.indexOf(fn)) {
				postprocessors.push(fn);
			}
		},

		/**
		 * Removes registered postprocessor function
		 */
		removePostprocessor: function(fn) {
			var ix = postprocessors.indexOf(fn);
			if (~ix) {
				postprocessors.splice(ix, 1);
			}
		},

		/**
		 * Registers output postprocessor. <i>Output processor</i> is a
		 * function that applies to output part (<code>start</code>,
		 * <code>end</code> and <code>content</code>) when
		 * <code>AbbreviationNode.toString()</code> method is called
		 */
		addOutputProcessor: function(fn) {
			if (!~outputProcessors.indexOf(fn)) {
				outputProcessors.push(fn);
			}
		},

		/**
		 * Removes registered output processor
		 */
		removeOutputProcessor: function(fn) {
			var ix = outputProcessors.indexOf(fn);
			if (~ix) {
				outputProcessors.splice(ix, 1);
			}
		},

		/**
		 * Check if passed symbol is valid symbol for abbreviation expression
		 * @param {String} ch
		 * @return {Boolean}
		 */
		isAllowedChar: function(ch) {
			ch = String(ch); // convert Java object to JS
			return isAllowedChar(ch) || ~'>+^[](){}'.indexOf(ch);
		}
	};
});
},{"../assets/profile":29,"../assets/stringStream":32,"../assets/tabStops":33,"../filter/main":49,"../generator/lorem":54,"../utils/abbreviation":69,"../utils/common":73,"./processor/attributes":57,"./processor/href":58,"./processor/pastedContent":59,"./processor/resourceMatcher":60,"./processor/tagName":61}],56:[function(require,module,exports){
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var session = {tokens: null};

	// walks around the source
	var walker = {
		init: function (source) {
			// this.source = source.replace(/\r\n?/g, '\n');
			this.source = source;
			this.ch = '';
			this.chnum = -1;

			// advance
			this.nextChar();
		},
		nextChar: function () {
			return this.ch = this.source.charAt(++this.chnum);
		},
		peek: function() {
			return this.source.charAt(this.chnum + 1);
		}
	};

	// utility helpers
	function isNameChar(c, cc) {
		cc = cc || c.charCodeAt(0);
		return (
			(cc >= 97 && cc <= 122 /* a-z */) ||
			(cc >= 65 && cc <= 90 /* A-Z */) ||
			/*
			Experimental: include cyrillic ranges
			since some letters, similar to latin ones, can
			accidentally appear in CSS tokens
			*/
			(cc >= 1024 && cc <= 1279) ||
			c === '&' || /* selector placeholder (LESS, SCSS) */
			c === '_' ||
			c === '<' || /* comparisons (LESS, SCSS) */
			c === '>' ||
			c === '=' ||
			c === '-'
		);
	}

	function isDigit(c, cc) {
		cc = cc || c.charCodeAt(0);
		return (cc >= 48 && cc <= 57);
	}

	var isOp = (function () {
		var opsa = "{}[]()+*=.,;:>~|\\%$#@^!".split(''),
			opsmatcha = "*^|$~".split(''),
			ops = {},
			opsmatch = {},
			i = 0;
		for (; i < opsa.length; i += 1) {
			ops[opsa[i]] = true;
		}
		for (i = 0; i < opsmatcha.length; i += 1) {
			opsmatch[opsmatcha[i]] = true;
		}
		return function (ch, matchattr) {
			if (matchattr) {
				return ch in opsmatch;
			}
			return ch in ops;
		};
	}());

	// creates token objects and pushes them to a list
	function tokener(value, type) {
		session.tokens.push({
			value: value,
			type:  type || value,
			start: null,
			end:   null
		});
	}

	function getPosInfo(w) {
		var errPos = w.chnum;
		var source = w.source.replace(/\r\n?/g, '\n');
		var part = w.source.substring(0, errPos + 1).replace(/\r\n?/g, '\n');
		var lines = part.split('\n');
		var ch = (lines[lines.length - 1] || '').length;
		var fullLine = source.split('\n')[lines.length - 1] || '';

		var chunkSize = 100;
		var offset = Math.max(0, ch - chunkSize);
		var formattedLine = fullLine.substr(offset, chunkSize * 2) + '\n';
		for (var i = 0; i < ch - offset - 1; i++) {
			formattedLine += '-';
		}
		formattedLine += '^';

		return {
			line: lines.length,
			ch: ch,
			text: fullLine,
			hint: formattedLine
		};
	}

	function raiseError(message) {
		var err = error(message);
		var errObj = new Error(err.message, '', err.line);
		errObj.line = err.line;
		errObj.ch = err.ch;
		errObj.name = err.name;
		errObj.hint = err.hint;

		throw errObj;
	}

	// oops
	function error(m) {
		var w = walker;
		var info = getPosInfo(walker);
		var tokens = session.tokens;
		session.tokens = null;

		var message = 'CSS parsing error at line ' + info.line + ', char ' + info.ch + ': ' + m;
		message += '\n' +  info.hint;
		return {
			name: "ParseError",
			message: message,
			hint: info.hint,
			line: info.line,
			ch: info.ch
		};
	}


	// token handlers follow for:
	// white space, comment, string, identifier, number, operator
	function white() {
		var c = walker.ch,
			token = '';

		while (c === " " || c === "\t") {
			token += c;
			c = walker.nextChar();
		}

		tokener(token, 'white');

	}

	function comment() {
		var w = walker,
			c = w.ch,
			token = c,
			cnext;

		cnext = w.nextChar();

		if (cnext === '/') {
			// inline comment in SCSS and LESS
			while (c && !(cnext === "\n" || cnext === "\r")) {
				token += cnext;
				c = cnext;
				cnext = w.nextChar();
			}
		} else if (cnext === '*') {
			// multiline CSS commment
			while (c && !(c === "*" && cnext === "/")) {
				token += cnext;
				c = cnext;
				cnext = w.nextChar();
			}
		} else {
			// oops, not a comment, just a /
			return tokener(token, token);
		}

		token += cnext;
		w.nextChar();
		tokener(token, 'comment');
	}

	function eatString() {
		var w = walker,
			c = w.ch,
			q = c,
			token = c,
			cnext;

		c = w.nextChar();

		while (c !== q) {
			if (c === '\n') {
				cnext = w.nextChar();
				if (cnext === "\\") {
					token += c + cnext;
				} else {
					// end of line with no \ escape = bad
					raiseError("Unterminated string");
				}
			} else {
				if (c === "\\") {
					token += c + w.nextChar();
				} else {
					token += c;
				}
			}

			c = w.nextChar();
		}

		token += c;

		return token;
	}

	function str() {
		var token = eatString();
		walker.nextChar();
		tokener(token, 'string');
	}

	function brace() {
		var w = walker,
			c = w.ch,
			depth = 1,
			token = c,
			stop = false;

		c = w.nextChar();

		while (c && !stop) {
			if (c === '(') {
				depth++;
			} else if (c === ')') {
				depth--;
				if (!depth) {
					stop = true;
				}
			} else if (c === '"' || c === "'") {
				c = eatString();
			} else if (c === '') {
				raiseError("Unterminated brace");
			}

			token += c;
			c = w.nextChar();
		}

		tokener(token, 'brace');
	}

	function identifier(pre) {
		var c = walker.ch;
		var token = pre ? pre + c : c;

		c = walker.nextChar();
		var cc = c.charCodeAt(0);
		while (isNameChar(c, cc) || isDigit(c, cc)) {
			token += c;
			c = walker.nextChar();
			cc = c.charCodeAt(0);
		}

		tokener(token, 'identifier');
	}

	function num() {
		var w = walker,
			c = w.ch,
			token = c,
			point = token === '.',
			nondigit;

		c = w.nextChar();
		nondigit = !isDigit(c);

		// .2px or .classname?
		if (point && nondigit) {
			// meh, NaN, could be a class name, so it's an operator for now
			return tokener(token, '.');
		}

		// -2px or -moz-something
		if (token === '-' && nondigit) {
			return identifier('-');
		}

		while (c !== '' && (isDigit(c) || (!point && c === '.'))) { // not end of source && digit or first instance of .
			if (c === '.') {
				point = true;
			}
			token += c;
			c = w.nextChar();
		}

		tokener(token, 'number');

	}

	function op() {
		var w = walker,
			c = w.ch,
			token = c,
			next = w.nextChar();

		if (next === "=" && isOp(token, true)) {
			token += next;
			tokener(token, 'match');
			w.nextChar();
			return;
		}

		tokener(token, token);
	}


	// call the appropriate handler based on the first character in a token suspect
	function tokenize() {
		var ch = walker.ch;

		if (ch === " " || ch === "\t") {
			return white();
		}

		if (ch === '/') {
			return comment();
		}

		if (ch === '"' || ch === "'") {
			return str();
		}

		if (ch === '(') {
			return brace();
		}

		if (ch === '-' || ch === '.' || isDigit(ch)) { // tricky - char: minus (-1px) or dash (-moz-stuff)
			return num();
		}

		if (isNameChar(ch)) {
			return identifier();
		}

		if (isOp(ch)) {
			return op();
		}

		if (ch === '\r') {
			if (walker.peek() === '\n') {
				ch += walker.nextChar();
			}

			tokener(ch, 'line');
			walker.nextChar();
			return;
		}

		if (ch === '\n') {
			tokener(ch, 'line');
			walker.nextChar();
			return;
		}

		raiseError("Unrecognized character '" + ch + "'");
	}

	return {
		/**
		 * Sprits given source into tokens
		 * @param {String} source
		 * @returns {Array}
		 */
		lex: function (source) {
			walker.init(source);
			session.tokens = [];

			// for empty source, return single space token
			if (!source) {
				session.tokens.push(this.white());
			} else {
				while (walker.ch !== '') {
					tokenize();
				}
			}

			var tokens = session.tokens;
			session.tokens = null;
			return tokens;
		},

		/**
		 * Tokenizes CSS source. It's like `lex()` method,
		 * but also stores proper token indexes in source,
		 * so it's a bit slower
		 * @param {String} source
		 * @returns {Array}
		 */
		parse: function(source) {
			// transform tokens
			var tokens = this.lex(source), pos = 0, token;
			for (var i = 0, il = tokens.length; i < il; i++) {
				token = tokens[i];
				token.start = pos;
				token.end = (pos += token.value.length);
			}
			return tokens;
		},

		white: function() {
			return {
				value: '',
				type:  'white',
				start: 0,
				end:   0
			};
		},

		toSource: function(toks) {
			var i = 0, max = toks.length, src = '';
			for (; i < max; i++) {
				src += toks[i].value;
			}
			return src;
		}
	};
});
},{}],57:[function(require,module,exports){
/**
 * Resolves node attribute names: moves `default` attribute value
 * from stub to real attribute.
 *
 * This resolver should be applied *after* resource matcher
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../../utils/common');

	var findDefault = function(attr) {
		return attr.isDefault;
	};

	var findImplied = function(attr) {
		return attr.isImplied;
	};

	var findEmpty = function(attr) {
		return !attr.value;
	};

	function resolveDefaultAttrs(node, parser) {
		node.children.forEach(function(item) {
			var attrList = item.attributeList();
			var defaultAttrValue = item.attribute(parser.DEFAULT_ATTR_NAME);
			if (typeof defaultAttrValue !== 'undefined') {
				// remove stub attribute
				item.attribute(parser.DEFAULT_ATTR_NAME, null);

				if (attrList.length) {
					// target for default value:
					// 1. default attribute
					// 2. implied attribute
					// 3. first empty attribute

					// find attribute marked as default
					var defaultAttr = utils.find(attrList, findDefault)
						|| utils.find(attrList, findImplied)
						|| utils.find(attrList, findEmpty);

					if (defaultAttr) {
						var oldVal = item.attribute(defaultAttr.name);
						var newVal = utils.replaceUnescapedSymbol(oldVal, '|', defaultAttrValue);
						// no replacement, e.g. default value does not contains | symbol
						if (oldVal == newVal) {
							newVal = defaultAttrValue
						}

						item.attribute(defaultAttr.name, newVal);
					}
				}
			} else {
				// if no default attribute value, remove implied attributes
				attrList.forEach(function(attr) {
					if (attr.isImplied) {
						item.attribute(attr.name, null);
					}
				});
			}

			resolveDefaultAttrs(item, parser);
		});
	}

	return {
		/**
		 * @param  {AbbreviationNode} tree
		 * @param  {Object} options
		 * @param  {abbreviation} parser
		 */
		preprocessor: function(tree, options, parser) {
			resolveDefaultAttrs(tree, parser);
		}
	};
});
},{"../../utils/common":73}],58:[function(require,module,exports){
/**
 * A preptocessor for &lt;a&gt; tag: tests wrapped content
 * for common URL patterns and, if matched, inserts it as
 * `href` attribute
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var prefs = require('../../assets/preferences');
	var utils = require('../../utils/common');
	var pc = require('./pastedContent');

	prefs.define('href.autodetect', true,
		'Enables or disables automatic URL recognition when wrapping\
		text with <code>&lt;a&gt;</code> tag. With this option enabled,\
		if wrapped text matches URL or e-mail pattern it will be automatically\
		inserted into <code>href</code> attribute.');
	prefs.define('href.urlPattern', '^(?:(?:https?|ftp|file)://|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#/%=~_|$])',
		'RegExp pattern to match wrapped URLs. Matched content will be inserts\
		as-is into <code>href</code> attribute, only whitespace will be trimmed.');

	prefs.define('href.emailPattern', '^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,5}$',
		'RegExp pattern to match wrapped e-mails. Unlike <code>href.urlPattern</code>,\
		wrapped content will be prefixed with <code>mailto:</code> in <code>href</code>\
		attribute');

	return {
		/**
		 * @param {AbbreviationNode} tree
		 * @param {Object} options
		 */
		postprocessor: function(tree, options) {
			if (!prefs.get('href.autodetect')) {
				return;
			}

			var reUrl = new RegExp(prefs.get('href.urlPattern'), 'i');
			var reEmail = new RegExp(prefs.get('href.emailPattern'), 'i');
			var reProto = /^([a-z]+:)?\/\//i;

			tree.findAll(function(item) {
				if (item.name().toLowerCase() != 'a' || item.attribute('href')) {
					return;
				}

				var pastedContent = utils.trim(pc.pastedContent(item) || options.pastedContent);
				if (pastedContent) {
					if (reUrl.test(pastedContent)) {
						// do we have protocol?
						if (!reProto.test(pastedContent)) {
							pastedContent = 'http://' + pastedContent;
						}

						item.attribute('href', pastedContent);
					} else if (reEmail.test(pastedContent)) {
						item.attribute('href', 'mailto:' + pastedContent);
					}
				}
			});
		}
	};
});
},{"../../assets/preferences":28,"../../utils/common":73,"./pastedContent":59}],59:[function(require,module,exports){
/**
 * Pasted content abbreviation processor. A pasted content is a content that
 * should be inserted into implicitly repeated abbreviation nodes.
 * This processor powers ‚ÄúWrap With Abbreviation‚Äù action
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../../utils/common');
	var abbrUtils = require('../../utils/abbreviation');
	var stringStream = require('../../assets/stringStream');
	var range = require('../../assets/range');

	var outputPlaceholder = '$#';

	/**
	 * Locates output placeholders inside text
	 * @param {String} text
	 * @returns {Array} Array of ranges of output placeholder in text
	 */
	function locateOutputPlaceholder(text) {
		var result = [];

		var stream = stringStream.create(text);

		while (!stream.eol()) {
			if (stream.peek() == '\\') {
				stream.next();
			} else {
				stream.start = stream.pos;
				if (stream.match(outputPlaceholder, true)) {
					result.push(range.create(stream.start, outputPlaceholder));
					continue;
				}
			}
			stream.next();
		}

		return result;
	}

	/**
	 * Replaces output placeholders inside <code>source</code> with
	 * <code>value</code>
	 * @param {String} source
	 * @param {String} value
	 * @returns {String}
	 */
	function replaceOutputPlaceholders(source, value) {
		var ranges = locateOutputPlaceholder(source);

		ranges.reverse().forEach(function(r) {
			source = utils.replaceSubstring(source, value, r);
		});

		return source;
	}

	/**
	 * Check if parsed node contains output placeholder ‚Äì a target where
	 * pasted content should be inserted
	 * @param {AbbreviationNode} node
	 * @returns {Boolean}
	 */
	function hasOutputPlaceholder(node) {
		if (locateOutputPlaceholder(node.content).length)
			return true;

		// check if attributes contains placeholder
		return !!utils.find(node.attributeList(), function(attr) {
			return !!locateOutputPlaceholder(attr.value).length;
		});
	}

	/**
	 * Insert pasted content into correct positions of parsed node
	 * @param {AbbreviationNode} node
	 * @param {String} content
	 * @param {Boolean} overwrite Overwrite node content if no value placeholders
	 * found instead of appending to existing content
	 */
	function insertPastedContent(node, content, overwrite) {
		var nodesWithPlaceholders = node.findAll(function(item) {
			return hasOutputPlaceholder(item);
		});

		if (hasOutputPlaceholder(node))
			nodesWithPlaceholders.unshift(node);

		if (nodesWithPlaceholders.length) {
			nodesWithPlaceholders.forEach(function(item) {
				item.content = replaceOutputPlaceholders(item.content, content);
				item._attributes.forEach(function(attr) {
					attr.value = replaceOutputPlaceholders(attr.value, content);
				});
			});
		} else {
			// on output placeholders in subtree, insert content in the deepest
			// child node
			var deepest = node.deepestChild() || node;
			if (overwrite) {
				deepest.content = content;
			} else {
				deepest.content = abbrUtils.insertChildContent(deepest.content, content);
			}
		}
	}

	return {
		pastedContent: function(item) {
			var content = item.data('paste');
			if (Array.isArray(content)) {
				return content[item.counter - 1];
			} else if (typeof content === 'function') {
				return content(item.counter - 1, item.content);
			} else if (content) {
				return content;
			}
		},

		/**
		 * @param {AbbreviationNode} tree
		 * @param {Object} options
		 */
		preprocessor: function(tree, options) {
			if (options.pastedContent) {
				var lines = utils.splitByLines(options.pastedContent, true).map(utils.trim);

				// set repeat count for implicitly repeated elements before
				// tree is unrolled
				tree.findAll(function(item) {
					if (item.hasImplicitRepeat) {
						item.data('paste', lines);
						return item.repeatCount = lines.length;
					}
				});
			}
		},

		/**
		 * @param {AbbreviationNode} tree
		 * @param {Object} options
		 */
		postprocessor: function(tree, options) {
			var that = this;
			// for each node with pasted content, update text data
			var targets = tree.findAll(function(item) {
				var pastedContent = that.pastedContent(item);
				if (pastedContent) {
					insertPastedContent(item, pastedContent, !!item.data('pasteOverwrites'));
				}

				return !!pastedContent;
			});

			if (!targets.length && options.pastedContent) {
				// no implicitly repeated elements, put pasted content in
				// the deepest child
				insertPastedContent(tree, options.pastedContent);
			}
		}
	};
});
},{"../../assets/range":30,"../../assets/stringStream":32,"../../utils/abbreviation":69,"../../utils/common":73}],60:[function(require,module,exports){
/**
 * Processor function that matches parsed <code>AbbreviationNode</code>
 * against resources defined in <code>resource</code> module
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var resources = require('../../assets/resources');
	var elements = require('../../assets/elements');
	var utils = require('../../utils/common');
	var abbreviationUtils = require('../../utils/abbreviation');

	/**
	 * Finds matched resources for child nodes of passed <code>node</code>
	 * element. A matched resource is a reference to <i>snippets.json</i> entry
	 * that describes output of parsed node
	 * @param {AbbreviationNode} node
	 * @param {String} syntax
	 */
	function matchResources(node, syntax, parser) {
		// do a shallow copy because the children list can be modified during
		// resource matching
		node.children.slice(0).forEach(function(child) {
			var r = resources.getMatchedResource(child, syntax);
			if (typeof r === 'string') {
				r = elements.create('snippet', r);
			}

			child.data('resource', r);
			var elemType = elements.type(r);

			if (elemType == 'snippet') {
				var content = r.data;
				var curContent = child._text || child.content;
				if (curContent) {
					content = abbreviationUtils.insertChildContent(content, curContent);
				}

				child.content = content;
			} else if (elemType == 'element') {
				child._name = r.name;
				if (Array.isArray(r.attributes)) {
					child._attributes = [].concat(r.attributes, child._attributes);
				}
			} else if (elemType == 'reference') {
				// it‚Äôs a reference to another abbreviation:
				// parse it and insert instead of current child
				/** @type AbbreviationNode */
				var subtree = parser.parse(r.data, {
					syntax: syntax
				});

				// if context element should be repeated, check if we need to
				// transfer repeated element to specific child node
				if (child.repeatCount > 1) {
					var repeatedChildren = subtree.findAll(function(node) {
						return node.hasImplicitRepeat;
					});

					if (!repeatedChildren.length) {
						repeatedChildren = subtree.children
					}

					repeatedChildren.forEach(function(node) {
						node.repeatCount = child.repeatCount;
						node.hasImplicitRepeat = false;
					});
				}

				// move child‚Äòs children into the deepest child of new subtree
				var deepestChild = subtree.deepestChild();
				if (deepestChild) {
					child.children.forEach(function(c) {
						deepestChild.addChild(c);
					});
					deepestChild.content = child.content;
				}

				// copy current attributes to children
				subtree.children.forEach(function(node) {
					child.attributeList().forEach(function(attr) {
						node.attribute(attr.name, attr.value);
					});
				});

				child.replace(subtree.children);
			}

			matchResources(child, syntax, parser);
		});
	}

	return {
		preprocessor: function(tree, options, parser) {
			var syntax = options.syntax || utils.defaultSyntax();
			matchResources(tree, syntax, parser);
		}
	};
});
},{"../../assets/elements":24,"../../assets/resources":31,"../../utils/abbreviation":69,"../../utils/common":73}],61:[function(require,module,exports){
/**
 * Resolves tag names in abbreviations with implied name
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var tagName = require('../../resolver/tagName');

	/**
	 * Resolves implicit node names in parsed tree
	 * @param {AbbreviationNode} tree
	 */
	function resolveNodeNames(tree) {
		tree.children.forEach(function(node) {
			if (node.hasImplicitName() || node.data('forceNameResolving')) {
				node._name = tagName.resolve(node.parent.name());
				node.data('nameResolved', true);
			}
			resolveNodeNames(node);
		});

		return tree;
	}

	return {
		postprocessor: resolveNodeNames
	};
});
},{"../../resolver/tagName":67}],62:[function(require,module,exports){
/**
 * HTML tokenizer by Marijn Haverbeke
 * http://codemirror.net/
 * @constructor
 * @memberOf __xmlParseDefine
 * @param {Function} require
 * @param {Underscore} _
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var stringStream = require('../assets/stringStream');

	var Kludges = {
		autoSelfClosers : {},
		implicitlyClosed : {},
		contextGrabbers : {},
		doNotIndent : {},
		allowUnquoted : true,
		allowMissing : true
	};

	// Return variables for tokenizers
	var tagName = null, type = null;

	function inText(stream, state) {
		function chain(parser) {
			state.tokenize = parser;
			return parser(stream, state);
		}

		var ch = stream.next();
		if (ch == "<") {
			if (stream.eat("!")) {
				if (stream.eat("[")) {
					if (stream.match("CDATA["))
						return chain(inBlock("atom", "]]>"));
					else
						return null;
				} else if (stream.match("--"))
					return chain(inBlock("comment", "-->"));
				else if (stream.match("DOCTYPE", true, true)) {
					stream.eatWhile(/[\w\._\-]/);
					return chain(doctype(1));
				} else
					return null;
			} else if (stream.eat("?")) {
				stream.eatWhile(/[\w\._\-]/);
				state.tokenize = inBlock("meta", "?>");
				return "meta";
			} else {
				type = stream.eat("/") ? "closeTag" : "openTag";
				stream.eatSpace();
				tagName = "";
				var c;
				while ((c = stream.eat(/[^\s\u00a0=<>\"\'\/?]/)))
					tagName += c;
				state.tokenize = inTag;
				return "tag";
			}
		} else if (ch == "&") {
			var ok;
			if (stream.eat("#")) {
				if (stream.eat("x")) {
					ok = stream.eatWhile(/[a-fA-F\d]/) && stream.eat(";");
				} else {
					ok = stream.eatWhile(/[\d]/) && stream.eat(";");
				}
			} else {
				ok = stream.eatWhile(/[\w\.\-:]/) && stream.eat(";");
			}
			return ok ? "atom" : "error";
		} else {
			stream.eatWhile(/[^&<]/);
			return "text";
		}
	}

	function inTag(stream, state) {
		var ch = stream.next();
		if (ch == ">" || (ch == "/" && stream.eat(">"))) {
			state.tokenize = inText;
			type = ch == ">" ? "endTag" : "selfcloseTag";
			return "tag";
		} else if (ch == "=") {
			type = "equals";
			return null;
		} else if (/[\'\"]/.test(ch)) {
			state.tokenize = inAttribute(ch);
			return state.tokenize(stream, state);
		} else {
			stream.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);
			return "word";
		}
	}

	function inAttribute(quote) {
		return function(stream, state) {
			while (!stream.eol()) {
				if (stream.next() == quote) {
					state.tokenize = inTag;
					break;
				}
			}
			return "string";
		};
	}

	function inBlock(style, terminator) {
		return function(stream, state) {
			while (!stream.eol()) {
				if (stream.match(terminator)) {
					state.tokenize = inText;
					break;
				}
				stream.next();
			}
			return style;
		};
	}

	function doctype(depth) {
		return function(stream, state) {
			var ch;
			while ((ch = stream.next()) !== null) {
				if (ch == "<") {
					state.tokenize = doctype(depth + 1);
					return state.tokenize(stream, state);
				} else if (ch == ">") {
					if (depth == 1) {
						state.tokenize = inText;
						break;
					} else {
						state.tokenize = doctype(depth - 1);
						return state.tokenize(stream, state);
					}
				}
			}
			return "meta";
		};
	}

	var curState = null, setStyle;
	function pass() {
		for (var i = arguments.length - 1; i >= 0; i--)
			curState.cc.push(arguments[i]);
	}

	function cont() {
		pass.apply(null, arguments);
		return true;
	}

	function pushContext(tagName, startOfLine) {
		var noIndent = Kludges.doNotIndent.hasOwnProperty(tagName)
			|| (curState.context && curState.context.noIndent);
		curState.context = {
			prev : curState.context,
			tagName : tagName,
			indent : curState.indented,
			startOfLine : startOfLine,
			noIndent : noIndent
		};
	}

	function popContext() {
		if (curState.context)
			curState.context = curState.context.prev;
	}

	function element(type) {
		if (type == "openTag") {
			curState.tagName = tagName;
			return cont(attributes, endtag(curState.startOfLine));
		} else if (type == "closeTag") {
			var err = false;
			if (curState.context) {
				if (curState.context.tagName != tagName) {
					if (Kludges.implicitlyClosed.hasOwnProperty(curState.context.tagName.toLowerCase())) {
						popContext();
					}
					err = !curState.context || curState.context.tagName != tagName;
				}
			} else {
				err = true;
			}

			if (err)
				setStyle = "error";
			return cont(endclosetag(err));
		}
		return cont();
	}

	function endtag(startOfLine) {
		return function(type) {
			if (type == "selfcloseTag"
					|| (type == "endTag" && Kludges.autoSelfClosers
							.hasOwnProperty(curState.tagName
									.toLowerCase()))) {
				maybePopContext(curState.tagName.toLowerCase());
				return cont();
			}
			if (type == "endTag") {
				maybePopContext(curState.tagName.toLowerCase());
				pushContext(curState.tagName, startOfLine);
				return cont();
			}
			return cont();
		};
	}

	function endclosetag(err) {
		return function(type) {
			if (err)
				setStyle = "error";
			if (type == "endTag") {
				popContext();
				return cont();
			}
			setStyle = "error";
			return cont(arguments.callee);
		};
	}

	function maybePopContext(nextTagName) {
		var parentTagName;
		while (true) {
			if (!curState.context) {
				return;
			}
			parentTagName = curState.context.tagName.toLowerCase();
			if (!Kludges.contextGrabbers.hasOwnProperty(parentTagName)
					|| !Kludges.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {
				return;
			}
			popContext();
		}
	}

	function attributes(type) {
		if (type == "word") {
			setStyle = "attribute";
			return cont(attribute, attributes);
		}
		if (type == "endTag" || type == "selfcloseTag")
			return pass();
		setStyle = "error";
		return cont(attributes);
	}

	function attribute(type) {
		if (type == "equals")
			return cont(attvalue, attributes);
		if (!Kludges.allowMissing)
			setStyle = "error";
		return (type == "endTag" || type == "selfcloseTag") ? pass()
				: cont();
	}

	function attvalue(type) {
		if (type == "string")
			return cont(attvaluemaybe);
		if (type == "word" && Kludges.allowUnquoted) {
			setStyle = "string";
			return cont();
		}
		setStyle = "error";
		return (type == "endTag" || type == "selfCloseTag") ? pass()
				: cont();
	}

	function attvaluemaybe(type) {
		if (type == "string")
			return cont(attvaluemaybe);
		else
			return pass();
	}

	function startState() {
		return {
			tokenize : inText,
			cc : [],
			indented : 0,
			startOfLine : true,
			tagName : null,
			context : null
		};
	}

	function token(stream, state) {
		if (stream.sol()) {
			state.startOfLine = true;
			state.indented = 0;
		}

		if (stream.eatSpace())
			return null;

		setStyle = type = tagName = null;
		var style = state.tokenize(stream, state);
		state.type = type;
		if ((style || type) && style != "comment") {
			curState = state;
			while (true) {
				var comb = state.cc.pop() || element;
				if (comb(type || style))
					break;
			}
		}
		state.startOfLine = false;
		return setStyle || style;
	}

	return {
		/**
		 * @memberOf emmet.xmlParser
		 * @returns
		 */
		parse: function(data, offset) {
			offset = offset || 0;
			var state = startState();
			var stream = stringStream.create(data);
			var tokens = [];
			while (!stream.eol()) {
				tokens.push({
					type: token(stream, state),
					start: stream.start + offset,
					end: stream.pos + offset
				});
				stream.start = stream.pos;
			}

			return tokens;
		}
	};
});

},{"../assets/stringStream":32}],63:[function(require,module,exports){
/**
 * Module for working with file. Shall implement
 * IEmmetFile interface.
 *
 * Since implementation of this module depends
 * greatly on current runtime, this module must be
 * initialized with actual implementation first
 * before use. E.g.
 * require('./plugin/file')({
 * 	read: function() {...}
 * })
 *
 * By default, this module provides Node.JS implementation
 */

if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');

	// hide it from Require.JS parser
	(function(r) {
		if (typeof define === 'undefined' || !define.amd) {
			try {
				fs = r('fs');
				path = r('path');
			} catch(e) {}
		}
	})(require);

	// module is a function that can extend itself
	module.exports = function(obj) {
		if (obj) {
			utils.extend(module.exports, obj);
		}
	};

	function bts(bytes) {
		var out = [];
		for (var i = 0, il = bytes.length; i < il; i++) {
			out.push(String.fromCharCode(bytes[i]));
		}
		return out.join('');
	}

	function isURL(path) {
		var re = /^https?:\/\//;
		return re.test(path);
	}

	return utils.extend(module.exports, {
		_parseParams: function(args) {
			var params = {
				path: args[0],
				size: 0
			};

			args = utils.toArray(args, 1);
			params.callback = args[args.length - 1];
			args = args.slice(0, args.length - 1);
			if (args.length) {
				params.size = args[0];
			}

			return params;
		},

		_read: function(params, callback) {
			if (isURL(params.path)) {
				var req = require(/^https:/.test(params.path) ? 'https' : 'http').get(params.path, function(res) {
					var bufs = [];
					var totalLength = 0;
					var finished = false;
					res
						.on('data', function(chunk) {
							totalLength += chunk.length;
							bufs.push(chunk);
							if (params.size && totalLength >= params.size) {
								finished = true;
								callback(null, Buffer.concat(bufs));
								req.abort();
							}
						})
						.on('end', function() {
							if (!finished) {
								finished = true;
								callback(null, Buffer.concat(bufs));
							}
						});
				}).on('error', callback);
			} else {
				if (params.size) {
					var fd = fs.openSync(params.path, 'r');
					var buf = new Buffer(params.size);
					fs.read(fd, buf, 0, params.size, null, function(err, bytesRead) {
						callback(err, buf)
					});
				} else {
					callback(null, fs.readFileSync(params.path));
				}
			}
		},

		/**
		 * Reads binary file content and return it
		 * @param {String} path File's relative or absolute path
		 * @return {String}
		 */
		read: function(path, size, callback) {
			var params = this._parseParams(arguments);
			this._read(params, function(err, buf) {
				params.callback(err, err ? '' : bts(buf));
			});
		},

		/**
		 * Read file content and return it
		 * @param {String} path File's relative or absolute path
		 * @return {String}
		 */
		readText: function(path, size, callback) {
			var params = this._parseParams(arguments);
			this._read(params, function(err, buf) {
				params.callback(err, err ? '' : buf.toString());
			});
		},

		/**
		 * Locate <code>file_name</code> file that relates to <code>editor_file</code>.
		 * File name may be absolute or relative path
		 *
		 * <b>Dealing with absolute path.</b>
		 * Many modern editors have a "project" support as information unit, but you
		 * should not rely on project path to find file with absolute path. First,
		 * it requires user to create a project before using this method (and this
		 * is not very convenient). Second, project path doesn't always points to
		 * to website's document root folder: it may point, for example, to an
		 * upper folder which contains server-side scripts.
		 *
		 * For better result, you should use the following algorithm in locating
		 * absolute resources:
		 * 1) Get parent folder for <code>editorFile</code> as a start point
		 * 2) Append required <code>fileName</code> to start point and test if
		 * file exists
		 * 3) If it doesn't exists, move start point one level up (to parent folder)
		 * and repeat step 2.
		 *
		 * @param {String} editorFile
		 * @param {String} fileName
		 * @return {String} Returns null if <code>fileName</code> cannot be located
		 */
		locateFile: function(editorFile, fileName) {
			if (isURL(fileName)) {
				return fileName;
			}

			var dirname = editorFile, f;
			fileName = fileName.replace(/^\/+/, '');
			while (dirname && dirname !== path.dirname(dirname)) {
				dirname = path.dirname(dirname);
				f = path.join(dirname, fileName);
				if (fs.existsSync(f))
					return f;
			}

			return '';
		},

		/**
		 * Creates absolute path by concatenating <code>parent</code> and <code>fileName</code>.
		 * If <code>parent</code> points to file, its parent directory is used
		 * @param {String} parent
		 * @param {String} fileName
		 * @return {String}
		 */
		createPath: function(parent, fileName, callback) {
			var stat = fs.statSync(parent);
			if (stat && !stat.isDirectory()) {
				parent = path.dirname(parent);
			}

			return callback(path.resolve(parent, fileName));
		},

		/**
		 * Saves <code>content</code> as <code>file</code>
		 * @param {String} file File's absolute path
		 * @param {String} content File content
		 */
		save: function(file, content) {
			fs.writeFileSync(file, content, 'ascii');
		},

		/**
		 * Returns file extension in lower case
		 * @param {String} file
		 * @return {String}
		 */
		getExt: function(file) {
			var m = (file || '').match(/\.([\w\-]+)$/);
			return m ? m[1].toLowerCase() : '';
		}

	});
});
},{"../utils/common":73}],64:[function(require,module,exports){
/**
 * Resolver for fast CSS typing. Handles abbreviations with the following
 * notation:<br>
 *
 * <code>(-vendor prefix)?property(value)*(!)?</code>
 *
 * <br><br>
 * <b>Abbreviation handling</b><br>
 *
 * By default, Emmet searches for matching snippet definition for provided abbreviation.
 * If snippet wasn't found, Emmet automatically generates element with
 * abbreviation's name. For example, <code>foo</code> abbreviation will generate
 * <code>&lt;foo&gt;&lt;/foo&gt;</code> output.
 * <br><br>
 * This module will capture all expanded properties and upgrade them with values,
 * vendor prefixes and !important declarations. All unmatched abbreviations will
 * be automatically transformed into <code>property-name: ${1}</code> snippets.
 *
 * <b>Vendor prefixes<b><br>
 *
 * If CSS-property is preceded with dash, resolver should output property with
 * all <i>known</i> vendor prefixes. For example, if <code>brad</code>
 * abbreviation generates <code>border-radius: ${value};</code> snippet,
 * the <code>-brad</code> abbreviation should generate:
 * <pre><code>
 * -webkit-border-radius: ${value};
 * -moz-border-radius: ${value};
 * border-radius: ${value};
 * </code></pre>
 * Note that <i>o</i> and <i>ms</i> prefixes are omitted since Opera and IE
 * supports unprefixed property.<br><br>
 *
 * Users can also provide an explicit list of one-character prefixes for any
 * CSS property. For example, <code>-wm-float</code> will produce
 *
 * <pre><code>
 * -webkit-float: ${1};
 * -moz-float: ${1};
 * float: ${1};
 * </code></pre>
 *
 * Although this example looks pointless, users can use this feature to write
 * cutting-edge properties implemented by browser vendors recently.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var prefs = require('../assets/preferences');
	var resources = require('../assets/resources');
	var stringStream = require('../assets/stringStream');
	var ciu = require('../assets/caniuse');
	var utils = require('../utils/common');
	var template = require('../utils/template');
	var cssEditTree = require('../editTree/css');

	var prefixObj = {
		/** Real vendor prefix name */
		prefix: 'emmet',

		/**
		 * Indicates this prefix is obsolete and should't be used when user
		 * wants to generate all-prefixed properties
		 */
		obsolete: false,

		/**
		 * Returns prefixed CSS property name
		 * @param {String} name Unprefixed CSS property
		 */
		transformName: function(name) {
			return '-' + this.prefix + '-' + name;
		},

		/**
		 * List of unprefixed CSS properties that supported by
		 * current prefix. This list is used to generate all-prefixed property
		 * @returns {Array}
		 */
		properties: function() {
			return getProperties('css.' + this.prefix + 'Properties') || [];
		},

		/**
		 * Check if given property is supported by current prefix
		 * @param name
		 */
		supports: function(name) {
			return ~this.properties().indexOf(name);
		}
	};


	/**
	 * List of registered one-character prefixes. Key is a one-character prefix,
	 * value is an <code>prefixObj</code> object
	 */
	var vendorPrefixes = {};

	var defaultValue = '${1};';

	// XXX module preferences
	prefs.define('css.valueSeparator', ': ',
			'Defines a symbol that should be placed between CSS property and '
			+ 'value when expanding CSS abbreviations.');
	prefs.define('css.propertyEnd', ';',
			'Defines a symbol that should be placed at the end of CSS property  '
			+ 'when expanding CSS abbreviations.');

	prefs.define('stylus.valueSeparator', ' ',
			'Defines a symbol that should be placed between CSS property and '
			+ 'value when expanding CSS abbreviations in Stylus dialect.');
	prefs.define('stylus.propertyEnd', '',
			'Defines a symbol that should be placed at the end of CSS property  '
			+ 'when expanding CSS abbreviations in Stylus dialect.');

	prefs.define('sass.propertyEnd', '',
			'Defines a symbol that should be placed at the end of CSS property  '
			+ 'when expanding CSS abbreviations in SASS dialect.');

	prefs.define('css.syntaxes', 'css, less, sass, scss, stylus, styl',
			'List of syntaxes that should be treated as CSS dialects.');

	prefs.define('css.autoInsertVendorPrefixes', true,
			'Automatically generate vendor-prefixed copies of expanded CSS '
			+ 'property. By default, Emmet will generate vendor-prefixed '
			+ 'properties only when you put dash before abbreviation '
			+ '(e.g. <code>-bxsh</code>). With this option enabled, you don‚Äôt '
			+ 'need dashes before abbreviations: Emmet will produce '
			+ 'vendor-prefixed properties for you.');

	prefs.define('less.autoInsertVendorPrefixes', false, 'Same as <code>css.autoInsertVendorPrefixes</code> but for LESS syntax');
	prefs.define('scss.autoInsertVendorPrefixes', false, 'Same as <code>css.autoInsertVendorPrefixes</code> but for SCSS syntax');
	prefs.define('sass.autoInsertVendorPrefixes', false, 'Same as <code>css.autoInsertVendorPrefixes</code> but for SASS syntax');
	prefs.define('stylus.autoInsertVendorPrefixes', false, 'Same as <code>css.autoInsertVendorPrefixes</code> but for Stylus syntax');

	var descTemplate = template('A comma-separated list of CSS properties that may have '
		+ '<code><%= vendor %></code> vendor prefix. This list is used to generate '
		+ 'a list of prefixed properties when expanding <code>-property</code> '
		+ 'abbreviations. Empty list means that all possible CSS values may '
		+ 'have <code><%= vendor %></code> prefix.');

	var descAddonTemplate = template('A comma-separated list of <em>additional</em> CSS properties '
			+ 'for <code>css.<%= vendor %>Preperties</code> preference. '
			+ 'You should use this list if you want to add or remove a few CSS '
			+ 'properties to original set. To add a new property, simply write its name, '
			+ 'to remove it, precede property with hyphen.<br>'
			+ 'For example, to add <em>foo</em> property and remove <em>border-radius</em> one, '
			+ 'the preference value will look like this: <code>foo, -border-radius</code>.');

	// properties list is created from cssFeatures.html file
	var props = {
		'webkit': 'animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius',
		'moz': 'animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius',
		'ms': 'accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, wrap-flow, wrap-margin, wrap-through, writing-mode',
		'o': 'dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style'
	};

	Object.keys(props).forEach(function(k) {
		prefs.define('css.' + k + 'Properties', props[k], descTemplate({vendor: k}));
		prefs.define('css.' + k + 'PropertiesAddon', '', descAddonTemplate({vendor: k}));
	});

	prefs.define('css.unitlessProperties', 'z-index, line-height, opacity, font-weight, zoom',
			'The list of properties whose values ‚Äã‚Äãmust not contain units.');

	prefs.define('css.intUnit', 'px', 'Default unit for integer values');
	prefs.define('css.floatUnit', 'em', 'Default unit for float values');

	prefs.define('css.keywords', 'auto, inherit, all',
			'A comma-separated list of valid keywords that can be used in CSS abbreviations.');

	prefs.define('css.keywordAliases', 'a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent',
			'A comma-separated list of keyword aliases, used in CSS abbreviation. '
			+ 'Each alias should be defined as <code>alias:keyword_name</code>.');

	prefs.define('css.unitAliases', 'e:em, p:%, x:ex, r:rem',
			'A comma-separated list of unit aliases, used in CSS abbreviation. '
			+ 'Each alias should be defined as <code>alias:unit_value</code>.');

	prefs.define('css.color.short', true,
			'Should color values like <code>#ffffff</code> be shortened to '
			+ '<code>#fff</code> after abbreviation with color was expanded.');

	prefs.define('css.color.case', 'keep',
			'Letter case of color values generated by abbreviations with color '
			+ '(like <code>c#0</code>). Possible values are <code>upper</code>, '
			+ '<code>lower</code> and <code>keep</code>.');

	prefs.define('css.fuzzySearch', true,
			'Enable fuzzy search among CSS snippet names. When enabled, every '
			+ '<em>unknown</em> snippet will be scored against available snippet '
			+ 'names (not values or CSS properties!). The match with best score '
			+ 'will be used to resolve snippet value. For example, with this '
			+ 'preference enabled, the following abbreviations are equal: '
			+ '<code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == '
			+ '<code>oh</code>');

	prefs.define('css.fuzzySearchMinScore', 0.3,
			'The minium score (from 0 to 1) that fuzzy-matched abbreviation should '
			+ 'achive. Lower values may produce many false-positive matches, '
			+ 'higher values may reduce possible matches.');

	prefs.define('css.alignVendor', false,
			'If set to <code>true</code>, all generated vendor-prefixed properties '
			+ 'will be aligned by real property name.');


	function isNumeric(ch) {
		var code = ch && ch.charCodeAt(0);
		return (ch && ch == '.' || (code > 47 && code < 58));
	}

	/**
	 * Check if provided snippet contains only one CSS property and value.
	 * @param {String} snippet
	 * @returns {Boolean}
	 */
	function isSingleProperty(snippet) {
		snippet = utils.trim(snippet);

		// check if it doesn't contain a comment and a newline
		if (/\/\*|\n|\r/.test(snippet)) {
			return false;
		}

		// check if it's a valid snippet definition
		if (!/^[a-z0-9\-]+\s*\:/i.test(snippet)) {
			return false;
		}

		return snippet.replace(/\$\{.+?\}/g, '').split(':').length == 2;
	}

	/**
	 * Normalizes abbreviated value to final CSS one
	 * @param {String} value
	 * @returns {String}
	 */
	function normalizeValue(value) {
		if (value.charAt(0) == '-' && !/^\-[\.\d]/.test(value)) {
			value = value.replace(/^\-+/, '');
		}

		var ch = value.charAt(0);
		if (ch == '#') {
			return normalizeHexColor(value);
		}

		if (ch == '$') {
			return utils.escapeText(value);
		}

		return getKeyword(value);
	}

	function normalizeHexColor(value) {
		var hex = value.replace(/^#+/, '') || '0';
		if (hex.toLowerCase() == 't') {
			return 'transparent';
		}

		var opacity = '';
		hex = hex.replace(/\.(\d+)$/, function(str) {
			opacity = '0' + str;
			return '';
		});

		var repeat = utils.repeatString;
		var color = null;
		switch (hex.length) {
			case 1:
				color = repeat(hex, 6);
				break;
			case 2:
				color = repeat(hex, 3);
				break;
			case 3:
				color = hex.charAt(0) + hex.charAt(0) + hex.charAt(1) + hex.charAt(1) + hex.charAt(2) + hex.charAt(2);
				break;
			case 4:
				color = hex + hex.substr(0, 2);
				break;
			case 5:
				color = hex + hex.charAt(0);
				break;
			default:
				color = hex.substr(0, 6);
		}

		if (opacity) {
			return toRgba(color, opacity);
		}

		// color must be shortened?
		if (prefs.get('css.color.short')) {
			var p = color.split('');
			if (p[0] == p[1] && p[2] == p[3] && p[4] == p[5]) {
				color = p[0] + p[2] + p[4];
			}
		}

		// should transform case?
		switch (prefs.get('css.color.case')) {
			case 'upper':
				color = color.toUpperCase();
				break;
			case 'lower':
				color = color.toLowerCase();
				break;
		}

		return '#' + color;
	}

	/**
	 * Transforms HEX color definition into RGBA one
	 * @param  {String} color   HEX color, 6 characters
	 * @param  {String} opacity Opacity value
	 * @return {String}
	 */
	function toRgba(color, opacity) {
		var r = parseInt(color.substr(0, 2), 16);
		var g = parseInt(color.substr(2, 2), 16);
		var b = parseInt(color.substr(4, 2), 16);

		return 'rgba(' + [r, g, b, opacity].join(', ') + ')';
	}

	function getKeyword(name) {
		var aliases = prefs.getDict('css.keywordAliases');
		return name in aliases ? aliases[name] : name;
	}

	function getUnit(name) {
		var aliases = prefs.getDict('css.unitAliases');
		return name in aliases ? aliases[name] : name;
	}

	function isValidKeyword(keyword) {
		return ~prefs.getArray('css.keywords').indexOf(getKeyword(keyword));
	}

	/**
	 * Check if passed CSS property support specified vendor prefix
	 * @param {String} property
	 * @param {String} prefix
	 */
	function hasPrefix(property, prefix) {
		var info = vendorPrefixes[prefix];

		if (!info)
			info = utils.find(vendorPrefixes, function(data) {
				return data.prefix == prefix;
			});

		return info && info.supports(property);
	}

	/**
	 * Finds available vendor prefixes for given CSS property.
	 * Search is performed within Can I Use database and internal
	 * property list
	 * @param  {String} property CSS property name
	 * @return {Array} Array of resolved prefixes or null if
	 * prefixes are not available for this property at all.
	 * Empty array means prefixes are not available for current
	 * user-define era
	 */
	function findVendorPrefixes(property) {
		var prefixes = ciu.resolvePrefixes(property);
		if (!prefixes) {
			// Can I Use database is disabled or prefixes are not
			// available for this property
			prefixes = [];
			Object.keys(vendorPrefixes).forEach(function(key) {
				if (hasPrefix(property, key)) {
					prefixes.push(vendorPrefixes[key].prefix);
				}
			});

			if (!prefixes.length) {
				prefixes = null;
			}
		}

		return prefixes;
	}

	/**
	 * Search for a list of supported prefixes for CSS property. This list
	 * is used to generate all-prefixed snippet
	 * @param {String} property CSS property name
	 * @returns {Array}
	 */
	function findInternalPrefixes(property, noAutofill) {
		var result = [];
		var prefixes = findVendorPrefixes(property);

		if (prefixes) {
			var prefixMap = {};
			Object.keys(vendorPrefixes).forEach(function(key) {
				prefixMap[vendorPrefixes[key].prefix] = key;
			});

			result = prefixes.map(function(prefix) {
				return prefixMap[prefix];
			});
		}

		if (!result.length && !noAutofill) {
			// add all non-obsolete prefixes
			Object.keys(vendorPrefixes).forEach(function(prefix) {
				if (!vendorPrefixes[prefix].obsolete) {
					result.push(prefix);
				}
			});
		}

		return result;
	}

	function addPrefix(name, obj) {
		if (typeof obj === 'string') {
			obj = {prefix: obj};
		}

		vendorPrefixes[name] = utils.extend({}, prefixObj, obj);
	}

	function getSyntaxPreference(name, syntax) {
		if (syntax) {
			// hacky alias for Stylus dialect
			if (syntax == 'styl') {
				syntax = 'stylus';
			}

			var val = prefs.get(syntax + '.' + name);
			if (typeof val !== 'undefined') {
				return val;
			}
		}

		return prefs.get('css.' + name);
	}

	/**
	 * Format CSS property according to current syntax dialect
	 * @param {String} property
	 * @param {String} syntax
	 * @returns {String}
	 */
	function formatProperty(property, syntax) {
		var ix = property.indexOf(':');
		property = property.substring(0, ix).replace(/\s+$/, '')
			+ getSyntaxPreference('valueSeparator', syntax)
			+ utils.trim(property.substring(ix + 1));

		return property.replace(/\s*;\s*$/, getSyntaxPreference('propertyEnd', syntax));
	}

	/**
	 * Transforms snippet value if required. For example, this transformation
	 * may add <i>!important</i> declaration to CSS property
	 * @param {String} snippet
	 * @param {Boolean} isImportant
	 * @returns {String}
	 */
	function transformSnippet(snippet, isImportant, syntax) {
		if (typeof snippet !== 'string') {
			snippet = snippet.data;
		}

		if (!isSingleProperty(snippet)) {
			return snippet;
		}

		if (isImportant) {
			if (~snippet.indexOf(';')) {
				snippet = snippet.split(';').join(' !important;');
			} else {
				snippet += ' !important';
			}
		}

		return formatProperty(snippet, syntax);
	}

	function getProperties(key) {
		var list = prefs.getArray(key);
		var addon = prefs.getArray(key + 'Addon');
		if (addon) {
			addon.forEach(function(prop) {
				if (prop.charAt(0) == '-') {
					list = utils.without(list, prop.substr(1));
				} else {
					if (prop.charAt(0) == '+')
						prop = prop.substr(1);

					list.push(prop);
				}
			});
		}

		return list;
	}

	/**
	 * Tries to produce properties with vendor-prefixed value
	 * @param  {Object} snippetObj Parsed snippet object
	 * @return {Array} Array of properties with prefixed values
	 */
	function resolvePrefixedValues(snippetObj, isImportant, syntax) {
		var prefixes = [];
		var lookup = {};

		var parts = cssEditTree.findParts(snippetObj.value);
		parts.reverse();
		parts.forEach(function(p) {
			var partValue = p.substring(snippetObj.value);
			(findVendorPrefixes(partValue) || []).forEach(function(prefix) {
				if (!lookup[prefix]) {
					lookup[prefix] = snippetObj.value;
					prefixes.push(prefix);
				}

				lookup[prefix] = utils.replaceSubstring(lookup[prefix], '-' + prefix + '-' + partValue, p);
			});
		});

		return prefixes.map(function(prefix) {
			return transformSnippet(snippetObj.name + ':' + lookup[prefix], isImportant, syntax);
		});
	}


	// TODO refactor, this looks awkward now
	addPrefix('w', {
		prefix: 'webkit'
	});
	addPrefix('m', {
		prefix: 'moz'
	});
	addPrefix('s', {
		prefix: 'ms'
	});
	addPrefix('o', {
		prefix: 'o'
	});


	module = module || {};
	module.exports = {
		/**
		 * Adds vendor prefix
		 * @param {String} name One-character prefix name
		 * @param {Object} obj Object describing vendor prefix
		 * @memberOf cssResolver
		 */
		addPrefix: addPrefix,

		/**
		 * Check if passed CSS property supports specified vendor prefix
		 * @param {String} property
		 * @param {String} prefix
		 */
		supportsPrefix: hasPrefix,

		resolve: function(node, syntax) {
			var cssSyntaxes = prefs.getArray('css.syntaxes');
			if (cssSyntaxes && ~cssSyntaxes.indexOf(syntax) && node.isElement()) {
				return this.expandToSnippet(node.abbreviation, syntax);
			}

			return null;
		},

		/**
		 * Returns prefixed version of passed CSS property, only if this
		 * property supports such prefix
		 * @param {String} property
		 * @param {String} prefix
		 * @returns
		 */
		prefixed: function(property, prefix) {
			return hasPrefix(property, prefix)
				? '-' + prefix + '-' + property
				: property;
		},

		/**
		 * Returns list of all registered vendor prefixes
		 * @returns {Array}
		 */
		listPrefixes: function() {
			return vendorPrefixes.map(function(obj) {
				return obj.prefix;
			});
		},

		/**
		 * Returns object describing vendor prefix
		 * @param {String} name
		 * @returns {Object}
		 */
		getPrefix: function(name) {
			return vendorPrefixes[name];
		},

		/**
		 * Removes prefix object
		 * @param {String} name
		 */
		removePrefix: function(name) {
			if (name in vendorPrefixes)
				delete vendorPrefixes[name];
		},

		/**
		 * Extract vendor prefixes from abbreviation
		 * @param {String} abbr
		 * @returns {Object} Object containing array of prefixes and clean
		 * abbreviation name
		 */
		extractPrefixes: function(abbr) {
			if (abbr.charAt(0) != '-') {
				return {
					property: abbr,
					prefixes: null
				};
			}

			// abbreviation may either contain sequence of one-character prefixes
			// or just dash, meaning that user wants to produce all possible
			// prefixed properties
			var i = 1, il = abbr.length, ch;
			var prefixes = [];

			while (i < il) {
				ch = abbr.charAt(i);
				if (ch == '-') {
					// end-sequence character found, stop searching
					i++;
					break;
				}

				if (ch in vendorPrefixes) {
					prefixes.push(ch);
				} else {
					// no prefix found, meaning user want to produce all
					// vendor-prefixed properties
					prefixes.length = 0;
					i = 1;
					break;
				}

				i++;
			}

			// reached end of abbreviation and no property name left
			if (i == il -1) {
				i = 1;
				prefixes.length = 1;
			}

			return {
				property: abbr.substring(i),
				prefixes: prefixes.length ? prefixes : 'all'
			};
		},

		/**
		 * Search for value substring in abbreviation
		 * @param {String} abbr
		 * @returns {String} Value substring
		 */
		findValuesInAbbreviation: function(abbr, syntax) {
			syntax = syntax || 'css';

			var i = 0, il = abbr.length, value = '', ch;
			while (i < il) {
				ch = abbr.charAt(i);
				if (isNumeric(ch) || ch == '#' || ch == '$' || (ch == '-' && isNumeric(abbr.charAt(i + 1)))) {
					value = abbr.substring(i);
					break;
				}

				i++;
			}

			// try to find keywords in abbreviation
			var property = abbr.substring(0, abbr.length - value.length);
			var keywords = [];
			// try to extract some commonly-used properties
			while (~property.indexOf('-') && !resources.findSnippet(syntax, property)) {
				var parts = property.split('-');
				var lastPart = parts.pop();
				if (!isValidKeyword(lastPart)) {
					break;
				}

				keywords.unshift(lastPart);
				property = parts.join('-');
			}

			return keywords.join('-') + value;
		},

		parseValues: function(str) {
			/** @type StringStream */
			var stream = stringStream.create(str);
			var values = [];
			var ch = null;

			while ((ch = stream.next())) {
				if (ch == '$') {
					stream.match(/^[^\$]+/, true);
					values.push(stream.current());
				} else if (ch == '#') {
					stream.match(/^t|[0-9a-f]+(\.\d+)?/i, true);
					values.push(stream.current());
				} else if (ch == '-') {
					if (isValidKeyword(utils.last(values)) ||
							( stream.start && isNumeric(str.charAt(stream.start - 1)) )
						) {
						stream.start = stream.pos;
					}

					stream.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/, true);
					values.push(stream.current());
				} else {
					stream.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/, true);
					values.push(stream.current());
				}

				stream.start = stream.pos;
			}

			return values
				.filter(function(item) {
					return !!item;
				})
				.map(normalizeValue);
		},

		/**
		 * Extracts values from abbreviation
		 * @param {String} abbr
		 * @returns {Object} Object containing array of values and clean
		 * abbreviation name
		 */
		extractValues: function(abbr) {
			// search for value start
			var abbrValues = this.findValuesInAbbreviation(abbr);
			if (!abbrValues) {
				return {
					property: abbr,
					values: null
				};
			}

			return {
				property: abbr.substring(0, abbr.length - abbrValues.length).replace(/-$/, ''),
				values: this.parseValues(abbrValues)
			};
		},

		/**
		 * Normalizes value, defined in abbreviation.
		 * @param {String} value
		 * @param {String} property
		 * @returns {String}
		 */
		normalizeValue: function(value, property) {
			property = (property || '').toLowerCase();
			var unitlessProps = prefs.getArray('css.unitlessProperties');
			return value.replace(/^(\-?[0-9\.]+)([a-z]*)$/, function(str, val, unit) {
				if (!unit && (val == '0' || ~unitlessProps.indexOf(property)))
					return val;

				if (!unit)
					return val.replace(/\.$/, '') + prefs.get(~val.indexOf('.') ? 'css.floatUnit' : 'css.intUnit');

				return val + getUnit(unit);
			});
		},

		/**
		 * Expands abbreviation into a snippet
		 * @param {String} abbr Abbreviation name to expand
		 * @param {String} value Abbreviation value
		 * @param {String} syntax Currect syntax or dialect. Default is 'css'
		 * @returns {Object} Array of CSS properties and values or predefined
		 * snippet (string or element)
		 */
		expand: function(abbr, value, syntax) {
			syntax = syntax || 'css';
			var autoInsertPrefixes = prefs.get(syntax + '.autoInsertVendorPrefixes');

			// check if snippet should be transformed to !important
			var isImportant = /^(.+)\!$/.test(abbr);
			if (isImportant) {
				abbr = RegExp.$1;
			}

			// check if we have abbreviated resource
			var snippet = resources.findSnippet(syntax, abbr);
			if (snippet && !autoInsertPrefixes) {
				return transformSnippet(snippet, isImportant, syntax);
			}

			// no abbreviated resource, parse abbreviation
			var prefixData = this.extractPrefixes(abbr);
			var valuesData = this.extractValues(prefixData.property);
			var abbrData = utils.extend(prefixData, valuesData);

			if (!snippet) {
				snippet = resources.findSnippet(syntax, abbrData.property);
			} else {
				abbrData.values = null;
			}

			if (!snippet && prefs.get('css.fuzzySearch')) {
				// let‚Äôs try fuzzy search
				snippet = resources.fuzzyFindSnippet(syntax, abbrData.property, parseFloat(prefs.get('css.fuzzySearchMinScore')));
			}

			if (!snippet) {
				if (!abbrData.property) {
					return null;
				}
				snippet = abbrData.property + ':' + defaultValue;
			} else if (typeof snippet !== 'string') {
				snippet = snippet.data;
			}

			if (!isSingleProperty(snippet)) {
				return snippet;
			}

			var snippetObj = this.splitSnippet(snippet);
			var result = [];
			if (!value && abbrData.values) {
				value = abbrData.values.map(function(val) {
					return this.normalizeValue(val, snippetObj.name);
				}, this).join(' ') + ';';
			}

			snippetObj.value = value || snippetObj.value;

			var prefixes = abbrData.prefixes == 'all' || (!abbrData.prefixes && autoInsertPrefixes)
				? findInternalPrefixes(snippetObj.name, autoInsertPrefixes && abbrData.prefixes != 'all')
				: abbrData.prefixes;


			var names = [], propName;
			(prefixes || []).forEach(function(p) {
				if (p in vendorPrefixes) {
					propName = vendorPrefixes[p].transformName(snippetObj.name);
					names.push(propName);
					result.push(transformSnippet(propName + ':' + snippetObj.value,
							isImportant, syntax));
				}
			});

			// put the original property
			result.push(transformSnippet(snippetObj.name + ':' + snippetObj.value, isImportant, syntax));
			names.push(snippetObj.name);

			result = resolvePrefixedValues(snippetObj, isImportant, syntax).concat(result);

			if (prefs.get('css.alignVendor')) {
				var pads = utils.getStringsPads(names);
				result = result.map(function(prop, i) {
					return pads[i] + prop;
				});
			}

			return result;
		},

		/**
		 * Same as <code>expand</code> method but transforms output into
		 * Emmet snippet
		 * @param {String} abbr
		 * @param {String} syntax
		 * @returns {String}
		 */
		expandToSnippet: function(abbr, syntax) {
			var snippet = this.expand(abbr, null, syntax);
			if (snippet === null) {
				return null;
			}

			if (Array.isArray(snippet)) {
				return snippet.join('\n');
			}

			if (typeof snippet !== 'string') {
				return snippet.data;
			}

			return snippet + '';
		},

		/**
		 * Split snippet into a CSS property-value pair
		 * @param {String} snippet
		 */
		splitSnippet: function(snippet) {
			snippet = utils.trim(snippet);
			if (snippet.indexOf(':') == -1) {
				return {
					name: snippet,
					value: defaultValue
				};
			}

			var pair = snippet.split(':');

			return {
				name: utils.trim(pair.shift()),
				// replace ${0} tabstop to produce valid vendor-prefixed values
				// where possible
				value: utils.trim(pair.join(':')).replace(/^(\$\{0\}|\$0)(\s*;?)$/, '${1}$2')
			};
		},

		getSyntaxPreference: getSyntaxPreference,
		transformSnippet: transformSnippet,
		vendorPrefixes: findVendorPrefixes
	};

	return module.exports;
});
},{"../assets/caniuse":23,"../assets/preferences":28,"../assets/resources":31,"../assets/stringStream":32,"../editTree/css":37,"../utils/common":73,"../utils/template":77}],65:[function(require,module,exports){
/**
 * 'Expand Abbreviation' handler that parses gradient definition from under
 * cursor and updates CSS rule with vendor-prefixed values.
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var prefs = require('../assets/preferences');
	var resources = require('../assets/resources');
	var utils = require('../utils/common');
	var stringStream = require('../assets/stringStream');
	var cssResolver = require('./css');
	var range = require('../assets/range');
	var cssEditTree = require('../editTree/css');
	var editorUtils = require('../utils/editor');
	var linearGradient = require('./gradient/linear');

	var cssSyntaxes = ['css', 'less', 'sass', 'scss', 'stylus', 'styl'];

	// XXX define preferences
	prefs.define('css.gradient.prefixes', 'webkit, moz, o',
			'A comma-separated list of vendor-prefixes for which values should '
			+ 'be generated.');

	prefs.define('css.gradient.oldWebkit', false,
			'Generate gradient definition for old Webkit implementations');

	prefs.define('css.gradient.omitDefaultDirection', true,
		'Do not output default direction definition in generated gradients.');

	prefs.define('css.gradient.defaultProperty', 'background-image',
		'When gradient expanded outside CSS value context, it will produce '
			+ 'properties with this name.');

	prefs.define('css.gradient.fallback', false,
			'With this option enabled, CSS gradient generator will produce '
			+ '<code>background-color</code> property with gradient first color '
			+ 'as fallback for old browsers.');

	/**
	 * Resolves property name (abbreviation): searches for snippet definition in
	 * 'resources' and returns new name of matched property
	 */
	function resolvePropertyName(name, syntax) {
		var snippet = resources.findSnippet(syntax, name);

		if (!snippet && prefs.get('css.fuzzySearch')) {
			var minScore = parseFloat(prefs.get('css.fuzzySearchMinScore'));
			snippet = resources.fuzzyFindSnippet(syntax, name, minScore);
		}

		if (snippet) {
			if (typeof snippet !== 'string') {
				snippet = snippet.data;
			}

			return cssResolver.splitSnippet(snippet).name;
		}
	}

	/**
	 * Returns vendor prefixes for given gradient type
	 * @param {String} type Gradient type (currently, 'linear-gradient'
	 * is the only supported value)
	 * @return {Array}
	 */
	function getGradientPrefixes(type) {
		var prefixes = cssResolver.vendorPrefixes(type);
		if (!prefixes) {
			// disabled Can I Use, fallback to property list
			prefixes = prefs.getArray('css.gradient.prefixes');
		}

		return prefixes || [];
	}

	function getPrefixedNames(type) {
		var prefixes = getGradientPrefixes(type);
		var names = prefixes
			? prefixes.map(function(p) {
				return '-' + p + '-' + type;
			})
			: [];

		names.push(type);

		return names;
	}

	/**
	 * Returns list of CSS properties with gradient
	 * @param {Array} gradient List of gradient objects
	 * @param {CSSEditElement} property Original CSS property
	 * @returns {Array}
	 */
	function getPropertiesForGradient(gradients, property) {
		var props = [];
		var propertyName = property.name();
		var omitDir = prefs.get('css.gradient.omitDefaultDirection');

		if (prefs.get('css.gradient.fallback') && ~propertyName.toLowerCase().indexOf('background')) {
			props.push({
				name: 'background-color',
				value: '${1:' + gradients[0].gradient.colorStops[0].color + '}'
			});
		}

		var value = property.value();
		getGradientPrefixes('linear-gradient').forEach(function(prefix) {
			var name = cssResolver.prefixed(propertyName, prefix);
			if (prefix == 'webkit' && prefs.get('css.gradient.oldWebkit')) {
				try {
					props.push({
						name: name,
						value: insertGradientsIntoCSSValue(gradients, value, {
							prefix: prefix,
							oldWebkit: true,
							omitDefaultDirection: omitDir
						})
					});
				} catch(e) {}
			}

			props.push({
				name: name,
				value: insertGradientsIntoCSSValue(gradients, value, {
					prefix: prefix,
					omitDefaultDirection: omitDir
				})
			});
		});

		return props.sort(function(a, b) {
			return b.name.length - a.name.length;
		});
	}

	/**
	 * Replaces old gradient definitions in given CSS property value
	 * with new ones, preserving original formatting
	 * @param  {Array} gradients List of CSS gradients
	 * @param  {String} value     Original CSS value
	 * @param  {Object} options   Options for gradient‚Äôs stringify() method
	 * @return {String}
	 */
	function insertGradientsIntoCSSValue(gradients, value, options) {
		// gradients *should* passed in order they actually appear in CSS property
		// iterate over it in backward direction to preserve gradient locations
		options = options || {};
		gradients = utils.clone(gradients);
		gradients.reverse().forEach(function(item, i) {
			var suffix = !i && options.placeholder ? options.placeholder : '';
			var str = options.oldWebkit ? item.gradient.stringifyOldWebkit(options) : item.gradient.stringify(options);
			value = utils.replaceSubstring(value, str + suffix, item.matchedPart);
		});

		return value;
	}

	/**
	 * Returns list of properties with the same meaning
	 * (e.g. vendor-prefixed + original name)
	 * @param  {String} property CSS property name
	 * @return {Array}
	 */
	function similarPropertyNames(property) {
		if (typeof property !== 'string') {
			property = property.name();
		}

		var similarProps = (cssResolver.vendorPrefixes(property) || []).map(function(prefix) {
			return '-' + prefix + '-' + property;
		});
		similarProps.push(property);
		return similarProps;
	}

	/**
	 * Pastes gradient definition into CSS rule with correct vendor-prefixes
	 * @param {EditElement} property Matched CSS property
	 * @param {Array} gradients List of gradients to insert
	 */
	function pasteGradient(property, gradients) {
		var rule = property.parent;
		var alignVendor = prefs.get('css.alignVendor');
		var omitDir = prefs.get('css.gradient.omitDefaultDirection');

		// we may have aligned gradient definitions: find the smallest value
		// separator
		var sep = property.styleSeparator;
		var before = property.styleBefore;

		// first, remove all properties within CSS rule with the same name and
		// gradient definition
		rule.getAll(similarPropertyNames(property)).forEach(function(item) {
			if (item != property && /gradient/i.test(item.value())) {
				if (item.styleSeparator.length < sep.length) {
					sep = item.styleSeparator;
				}
				if (item.styleBefore.length < before.length) {
					before = item.styleBefore;
				}
				rule.remove(item);
			}
		});

		if (alignVendor) {
			// update prefix
			if (before != property.styleBefore) {
				var fullRange = property.fullRange();
				rule._updateSource(before, fullRange.start, fullRange.start + property.styleBefore.length);
				property.styleBefore = before;
			}

			// update separator value
			if (sep != property.styleSeparator) {
				rule._updateSource(sep, property.nameRange().end, property.valueRange().start);
				property.styleSeparator = sep;
			}
		}

		var value = property.value();

		// create list of properties to insert
		var propsToInsert = getPropertiesForGradient(gradients, property);

		// align prefixed values
		if (alignVendor) {
			var names = [], values = [];
			propsToInsert.forEach(function(item) {
				names.push(item.name);
				values.push(item.value);
			});
			values.push(property.value());
			names.push(property.name());

			var valuePads = utils.getStringsPads(values.map(function(v) {
				return v.substring(0, v.indexOf('('));
			}));

			var namePads = utils.getStringsPads(names);
			property.name(namePads[namePads.length - 1] + property.name());

			propsToInsert.forEach(function(prop, i) {
				prop.name = namePads[i] + prop.name;
				prop.value = valuePads[i] + prop.value;
			});

			property.value(valuePads[valuePads.length - 1] + property.value());
		}

		// put vendor-prefixed definitions before current rule
		propsToInsert.forEach(function(prop) {
			rule.add(prop.name, prop.value, rule.indexOf(property));
		});

		// put vanilla-clean gradient definition into current rule
		property.value(insertGradientsIntoCSSValue(gradients, value, {
			placeholder: '${2}',
			omitDefaultDirection: omitDir
		}));
	}

	/**
	 * Validates caret position relatively to located gradients
	 * in CSS rule. In other words, it checks if it‚Äôs safe to
	 * expand gradients for current caret position or not.
	 *
	 * See issue https://github.com/sergeche/emmet-sublime/issues/411
	 *
	 * @param  {Array} gradients List of parsed gradients
	 * @param  {Number} caretPos  Current caret position
	 * @param  {String} syntax    Current document syntax
	 * @return {Boolean}
	 */
	function isValidCaretPosition(gradients, caretPos, syntax) {
		syntax = syntax || 'css';
		if (syntax == 'css' || syntax == 'less' || syntax == 'scss') {
			return true;
		}

		var offset = gradients.property.valueRange(true).start;
		var parts = gradients.gradients;

		// in case of preprocessors where properties are separated with
		// newlines, make sure there‚Äôs no gradient definition past
		// current caret position.
		for (var i = parts.length - 1; i >= 0; i--) {
			if (parts[i].matchedPart.start + offset >= caretPos) {
				return false;
			}
		}

		return true;
	}

	module = module || {};
	return module.exports = {
		/**
		 * Search for gradient definitions inside CSS property value
		 * @returns {Array} Array of matched gradients
		 */
		findGradients: function(cssProp) {
			var value = cssProp.value();
			var gradients = [];
			var that = this;
			cssProp.valueParts().forEach(function(part) {
				var partValue = part.substring(value);
				if (linearGradient.isLinearGradient(partValue)) {
					var gradient = linearGradient.parse(partValue);
					if (gradient) {
						gradients.push({
							gradient: gradient,
							matchedPart: part
						});
					}
				}
			});

			return gradients.length ? gradients : null;
		},

		/**
		 * Returns list of gradients found in CSS property
		 * of given CSS code in specified (caret) position
		 * @param  {String} css CSS code snippet
		 * @param  {Number} pos Character index where to start searching for CSS property
		 * @return {Array}
		 */
		gradientsFromCSSProperty: function(css, pos) {
			var cssProp = cssEditTree.propertyFromPosition(css, pos);
			if (cssProp) {
				var grd = this.findGradients(cssProp);
				if (grd) {
					return {
						property: cssProp,
						gradients: grd
					};
				}
			}

			return null;
		},

		/**
		 * Handler for ‚ÄúExpand Abbreviation‚Äù action
		 * @param  {IEmmetEditor} editor
		 * @param  {String} syntax
		 * @param  {String} profile
		 * return {Boolean}
		 */
		expandAbbreviationHandler: function(editor, syntax, profile) {
			var info = editorUtils.outputInfo(editor, syntax, profile);
			if (!~cssSyntaxes.indexOf(info.syntax)) {
				return false;
			}

			// let's see if we are expanding gradient definition
			var caret = editor.getCaretPos();
			var content = info.content;
			var gradients = this.gradientsFromCSSProperty(content, caret);
			if (gradients) {
				if (!isValidCaretPosition(gradients, caret, info.syntax)) {
					return false;
				}

				var cssProperty = gradients.property;
				var cssRule = cssProperty.parent;
				var ruleStart = cssRule.options.offset || 0;
				var ruleEnd = ruleStart + cssRule.toString().length;

				// Handle special case:
				// user wrote gradient definition between existing CSS
				// properties and did not finished it with semicolon.
				// In this case, we have semicolon right after gradient
				// definition and re-parse rule again
				if (/[\n\r]/.test(cssProperty.value())) {
					// insert semicolon at the end of gradient definition
					var insertPos = cssProperty.valueRange(true).start + utils.last(gradients.gradients).matchedPart.end;
					content = utils.replaceSubstring(content, ';', insertPos);

					var _gradients = this.gradientsFromCSSProperty(content, caret);
					if (_gradients) {
						gradients = _gradients;
						cssProperty = gradients.property;
						cssRule = cssProperty.parent;
					}
				}

				// make sure current property has terminating semicolon
				cssProperty.end(';');

				// resolve CSS property name
				var resolvedName = resolvePropertyName(cssProperty.name(), syntax);
				if (resolvedName) {
					cssProperty.name(resolvedName);
				}

				pasteGradient(cssProperty, gradients.gradients);
				editor.replaceContent(cssRule.toString(), ruleStart, ruleEnd, true);
				return true;
			}

			return this.expandGradientOutsideValue(editor, syntax);
		},

		/**
		 * Tries to expand gradient outside CSS value
		 * @param {IEmmetEditor} editor
		 * @param {String} syntax
		 */
		expandGradientOutsideValue: function(editor, syntax) {
			var propertyName = prefs.get('css.gradient.defaultProperty');
			var omitDir = prefs.get('css.gradient.omitDefaultDirection');

			if (!propertyName) {
				return false;
			}

			// assuming that gradient definition is written on new line,
			// do a simplified parsing
			var content = String(editor.getContent());
			/** @type Range */
			var lineRange = range.create(editor.getCurrentLineRange());

			// get line content and adjust range with padding
			var line = lineRange.substring(content)
				.replace(/^\s+/, function(pad) {
					lineRange.start += pad.length;
					return '';
				})
				.replace(/\s+$/, function(pad) {
					lineRange.end -= pad.length;
					return '';
				});

			// trick parser: make it think that we‚Äôre parsing actual CSS property
			var fakeCSS = 'a{' + propertyName + ': ' + line + ';}';
			var gradients = this.gradientsFromCSSProperty(fakeCSS, fakeCSS.length - 2);
			if (gradients) {
				var props = getPropertiesForGradient(gradients.gradients, gradients.property);
				props.push({
					name: gradients.property.name(),
					value: insertGradientsIntoCSSValue(gradients.gradients, gradients.property.value(), {
						placeholder: '${2}',
						omitDefaultDirection: omitDir
					})
				});

				var sep = cssResolver.getSyntaxPreference('valueSeparator', syntax);
				var end = cssResolver.getSyntaxPreference('propertyEnd', syntax);

				if (prefs.get('css.alignVendor')) {
					var pads = utils.getStringsPads(props.map(function(prop) {
						return prop.value.substring(0, prop.value.indexOf('('));
					}));
					props.forEach(function(prop, i) {
						prop.value = pads[i] + prop.value;
					});
				}

				props = props.map(function(item) {
					return item.name + sep + item.value + end;
				});

				editor.replaceContent(props.join('\n'), lineRange.start, lineRange.end);
				return true;
			}

			return false;
		},

		/**
		 * Handler for ‚ÄúReflect CSS Value‚Äú action
		 * @param  {String} property
		 */
		reflectValueHandler: function(property) {
			var omitDir = prefs.get('css.gradient.omitDefaultDirection');
			var gradients = this.findGradients(property);
			if (!gradients) {
				return false;
			}

			var that = this;
			var value = property.value();

			// reflect value for properties with the same name
			property.parent.getAll(similarPropertyNames(property)).forEach(function(prop) {
				if (prop === property) {
					return;
				}

				// make sure current property contains gradient definition,
				// otherwise ‚Äì skip it
				var localGradients = that.findGradients(prop);
				if (localGradients) {
					// detect vendor prefix for current property
					var localValue = prop.value();
					var dfn = localGradients[0].matchedPart.substring(localValue);
					var prefix = '';
					if (/^\s*\-([a-z]+)\-/.test(dfn)) {
						prefix = RegExp.$1;
					}

					prop.value(insertGradientsIntoCSSValue(gradients, value, {
						prefix: prefix,
						omitDefaultDirection: omitDir
					}));
				}
			});

			return true;
		}
	};
});
},{"../assets/preferences":28,"../assets/range":30,"../assets/resources":31,"../assets/stringStream":32,"../editTree/css":37,"../utils/common":73,"../utils/editor":75,"./css":64,"./gradient/linear":66}],66:[function(require,module,exports){
/**
 * CSS linear gradient definition
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var stringStream = require('../../assets/stringStream');
	var utils = require('../../utils/common');

	// all directions are expressed in ‚Äúnew style‚Äù degrees
	var directions = {
		'bottom': 0,
		'bottom left': 45,
		'left': 90,
		'top left': 135,
		'top': 180,
		'top right': 225,
		'right': 270,
		'bottom right': 315,

		'to top': 0,
		'to top right': 45,
		'to right': 90,
		'to bottom right': 135,
		'to bottom': 180,
		'to bottom left': 225,
		'to left': 270,
		'to top left': 315
	};

	var defaultDirections = ['top', 'to bottom', '0deg'];


	var reLinearGradient = /^\s*(\-[a-z]+\-)?(lg|linear\-gradient)\s*\(/i;
	var reDeg = /(\d+)deg/i;
	var reKeyword = /top|bottom|left|right/i;

	function LinearGradient(dfn) {
		this.colorStops = [];
		this.direction = 180;

		// extract tokens
		var stream = stringStream.create(utils.trim(dfn));
		var ch, cur;
		while ((ch = stream.next())) {
			if (stream.peek() == ',') {
				// Is it a first entry? Check if it‚Äôs a direction
				cur = stream.current();

				if (!this.colorStops.length && (reDeg.test(cur) || reKeyword.test(cur))) {
					this.direction = resolveDirection(cur);
				} else {
					this.addColorStop(cur);
				}

				stream.next();
				stream.eatSpace();
				stream.start = stream.pos;
			} else if (ch == '(') { // color definition, like 'rgb(0,0,0)'
				stream.skipTo(')');
			}
		}

		// add last token
		this.addColorStop(stream.current());
	}

	LinearGradient.prototype = {
		type: 'linear-gradient',
		addColorStop: function(color, ix) {
			color = normalizeSpace(color || '');
			if (!color) {
				return;
			}

			color = this.parseColorStop(color);

			if (typeof ix === 'undefined') {
				this.colorStops.push(color);
			} else {
				this.colorStops.splice(ix, 0, color);
			}
		},

		/**
		 * Parses color stop definition
		 * @param {String} colorStop
		 * @returns {Object}
		 */
		parseColorStop: function(colorStop) {
			colorStop = normalizeSpace(colorStop);

			// find color declaration
			// first, try complex color declaration, like rgb(0,0,0)
			var color = null;
			colorStop = colorStop.replace(/^(\w+\(.+?\))\s*/, function(str, c) {
				color = c;
				return '';
			});

			if (!color) {
				// try simple declaration, like yellow, #fco, #ffffff, etc.
				var parts = colorStop.split(' ');
				color = parts[0];
				colorStop = parts[1] || '';
			}

			var result = {
				color: color
			};

			if (colorStop) {
				// there's position in color stop definition
				colorStop.replace(/^(\-?[\d\.]+)([a-z%]+)?$/, function(str, pos, unit) {
					result.position = pos;
					if (~pos.indexOf('.')) {
						unit = '';
					} else if (!unit) {
						unit = '%';
					}

					if (unit) {
						result.unit = unit;
					}
				});
			}

			return result;
		},

		stringify: function(options) {
			options = options || {};
			var fn = 'linear-gradient';
			if (options.prefix) {
				fn = '-' + options.prefix + '-' + fn;
			}

			// transform color-stops
			var parts = this.colorStops.map(function(cs) {
				var pos = cs.position ? ' ' + cs.position + (cs.unit || '') : '';
				return cs.color + pos;
			});

			var dir = stringifyDirection(this.direction, !!options.prefix);
			if (!options.omitDefaultDirection || !~defaultDirections.indexOf(dir)) {
				parts.unshift(dir);
			}

			return fn + '(' + parts.join(', ') + ')';
		},

		stringifyOldWebkit: function() {
			var colorStops = this.colorStops.map(function(item) {
				return utils.clone(item);
			});

			// normalize color-stops position
			colorStops.forEach(function(cs) {
				if (!('position' in cs)) // implied position
					return;

				if (~cs.position.indexOf('.') || cs.unit == '%') {
					cs.position = parseFloat(cs.position) / (cs.unit == '%' ? 100 : 1);
				} else {
					throw "Can't convert color stop '" + (cs.position + (cs.unit || '')) + "'";
				}
			});

			this._fillImpliedPositions(colorStops);

			// transform color-stops into string representation
			colorStops = colorStops.map(function(cs, i) {
				if (!cs.position && !i) {
					return 'from(' + cs.color + ')';
				}

				if (cs.position == 1 && i == colorStops.length - 1) {
					return 'to(' + cs.color + ')';
				}

				return 'color-stop(' + (cs.position.toFixed(2).replace(/\.?0+$/, '')) + ', ' + cs.color + ')';
			});

			return '-webkit-gradient(linear, '
				+ oldWebkitDirection((this.direction + 180) % 360)
				+ ', '
				+ colorStops.join(', ')
				+ ')';
		},

		/**
		 * Fills-out implied positions in color-stops. This function is useful for
		 * old Webkit gradient definitions
		 */
		_fillImpliedPositions: function(colorStops) {
			var from = 0;

			colorStops.forEach(function(cs, i) {
				// make sure that first and last positions are defined
				if (!i) {
					return cs.position = cs.position || 0;
				}

				if (i == colorStops.length - 1 && !('position' in cs)) {
					cs.position = 1;
				}

				if ('position' in cs) {
					var start = colorStops[from].position || 0;
					var step = (cs.position - start) / (i - from);
					colorStops.slice(from, i).forEach(function(cs2, j) {
						cs2.position = start + step * j;
					});

					from = i;
				}
			});
		},

		valueOf: function() {
			return this.stringify();
		}
	};

	function normalizeSpace(str) {
		return utils.trim(str).replace(/\s+/g, ' ');
	}

	/**
	 * Resolves textual direction to degrees
	 * @param  {String} dir Direction to resolve
	 * @return {Number}
	 */
	function resolveDirection(dir) {
		if (typeof dir == 'number') {
			return dir;
		}

		dir = normalizeSpace(dir).toLowerCase();
		if (reDeg.test(dir)) {
			return +RegExp.$1;
		}

		var prefix = /^to\s/.test(dir) ? 'to ' : '';
		var left   = ~dir.indexOf('left')   && 'left';
		var right  = ~dir.indexOf('right')  && 'right';
		var top    = ~dir.indexOf('top')    && 'top';
		var bottom = ~dir.indexOf('bottom') && 'bottom';

		var key = normalizeSpace(prefix + (top || bottom || '') + ' ' + (left || right || ''));
		return directions[key] || 0;
	}

	/**
	 * Tries to find keyword for given direction, expressed in degrees
	 * @param  {Number} dir Direction (degrees)
	 * @param {Boolean} oldStyle Use old style keywords (e.g. "top" instead of "to bottom")
	 * @return {String}     Keyword or <code>Ndeg</code> expression
	 */
	function stringifyDirection(dir, oldStyle) {
		var reNewStyle = /^to\s/;
		var keys = Object.keys(directions).filter(function(k) {
			var hasPrefix = reNewStyle.test(k);
			return oldStyle ? !hasPrefix : hasPrefix;
		});

		for (var i = 0; i < keys.length; i++) {
			if (directions[keys[i]] == dir) {
				return keys[i];
			}
		}

		if (oldStyle) {
			dir = (dir + 270) % 360;
		}

		return dir + 'deg';
	}

	/**
	 * Creates direction definition for old Webkit gradients
	 * @param {String} direction
	 * @returns {String}
	 */
	function oldWebkitDirection(dir) {
		dir = stringifyDirection(dir, true);

		if(reDeg.test(dir)) {
			throw "The direction is an angle that can‚Äôt be converted.";
		}

		var v = function(pos) {
			return ~dir.indexOf(pos) ? '100%' : '0';
		};

		return v('left') + ' ' + v('top') + ', ' + v('right') + ' ' + v('bottom');
	}

	return {
		/**
		 * Parses gradient definition into an object.
		 * This object can be used to transform gradient into various
		 * forms
		 * @param  {String} gradient Gradient definition
		 * @return {LinearGradient}
		 */
		parse: function(gradient) {
			// cut out all redundant data
			if (this.isLinearGradient(gradient)) {
				gradient = gradient.replace(/^\s*[\-a-z]+\s*\(|\)\s*$/ig, '');
			} else {
				throw 'Invalid linear gradient definition:\n' + gradient;
			}

			return new LinearGradient(gradient);
		},

		/**
		 * Check if given string can be parsed as linear gradient
		 * @param  {String}  str
		 * @return {Boolean}
		 */
		isLinearGradient: function(str) {
			return reLinearGradient.test(str);
		},

		resolveDirection: resolveDirection,
		stringifyDirection: stringifyDirection
	};
});
},{"../../assets/stringStream":32,"../../utils/common":73}],67:[function(require,module,exports){
/**
 * Module for resolving tag names: returns best matched tag name for child
 * element based on passed parent's tag name. Also provides utility function
 * for element type detection (inline, block-level, empty)
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');

	var elementTypes = {
//		empty: 'area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,keygen,command'.split(','),
		empty: [],
		blockLevel: 'address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6'.split(','),
		inlineLevel: 'a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var'.split(',')
	};

	var elementMap = {
		'p': 'span',
		'ul': 'li',
		'ol': 'li',
		'table': 'tr',
		'tr': 'td',
		'tbody': 'tr',
		'thead': 'tr',
		'tfoot': 'tr',
		'colgroup': 'col',
		'select': 'option',
		'optgroup': 'option',
		'audio': 'source',
		'video': 'source',
		'object': 'param',
		'map': 'area'
	};

	return {
		/**
		 * Returns best matched child element name for passed parent's
		 * tag name
		 * @param {String} name
		 * @returns {String}
		 * @memberOf tagName
		 */
		resolve: function(name) {
			name = (name || '').toLowerCase();

			if (name in elementMap)
				return this.getMapping(name);

			if (this.isInlineLevel(name))
				return 'span';

			return 'div';
		},

		/**
		 * Returns mapped child element name for passed parent's name
		 * @param {String} name
		 * @returns {String}
		 */
		getMapping: function(name) {
			return elementMap[name.toLowerCase()];
		},

		/**
		 * Check if passed element name belongs to inline-level element
		 * @param {String} name
		 * @returns {Boolean}
		 */
		isInlineLevel: function(name) {
			return this.isTypeOf(name, 'inlineLevel');
		},

		/**
		 * Check if passed element belongs to block-level element.
		 * For better matching of unknown elements (for XML, for example),
		 * you should use <code>!this.isInlineLevel(name)</code>
		 * @returns {Boolean}
		 */
		isBlockLevel: function(name) {
			return this.isTypeOf(name, 'blockLevel');
		},

		/**
		 * Check if passed element is void (i.e. should not have closing tag).
		 * @returns {Boolean}
		 */
		isEmptyElement: function(name) {
			return this.isTypeOf(name, 'empty');
		},

		/**
		 * Generic function for testing if element name belongs to specified
		 * elements collection
		 * @param {String} name Element name
		 * @param {String} type Collection name
		 * @returns {Boolean}
		 */
		isTypeOf: function(name, type) {
			return ~elementTypes[type].indexOf(name);
		},

		/**
		 * Adds new parent‚Äìchild mapping
		 * @param {String} parent
		 * @param {String} child
		 */
		addMapping: function(parent, child) {
			elementMap[parent] = child;
		},

		/**
		 * Removes parent-child mapping
		 */
		removeMapping: function(parent) {
			if (parent in elementMap)
				delete elementMap[parent];
		},

		/**
		 * Adds new element into collection
		 * @param {String} name Element name
		 * @param {String} collection Collection name
		 */
		addElementToCollection: function(name, collection) {
			if (!elementTypes[collection])
				elementTypes[collection] = [];

			var col = this.getCollection(collection);
			if (!~col.indexOf(name)) {
				col.push(name);
			}
		},

		/**
		 * Removes element name from specified collection
		 * @param {String} name Element name
		 * @param {String} collection Collection name
		 * @returns
		 */
		removeElementFromCollection: function(name, collection) {
			if (collection in elementTypes) {
				elementTypes[collection] = utils.without(this.getCollection(collection), name);
			}
		},

		/**
		 * Returns elements name collection
		 * @param {String} name Collection name
		 * @returns {Array}
		 */
		getCollection: function(name) {
			return elementTypes[name];
		}
	};
});
},{"../utils/common":73}],68:[function(require,module,exports){
module.exports={
	"variables": {
		"lang": "en",
		"locale": "en-US",
		"charset": "UTF-8",
		"indentation": "\t",
		"newline": "\n"
	},

	"css": {
		"filters": "css",
		"profile": "css",
		"snippets": {
			"@i": "@import url(|);",
			"@import": "@import url(|);",
			"@m": "@media ${1:screen} {\n\t|\n}",
			"@media": "@media ${1:screen} {\n\t|\n}",
			"@f": "@font-face {\n\tfont-family:|;\n\tsrc:url(|);\n}",
			"@f+": "@font-face {\n\tfont-family: '${1:FontName}';\n\tsrc: url('${2:FileName}.eot');\n\tsrc: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n\t\t url('${2:FileName}.woff') format('woff'),\n\t\t url('${2:FileName}.ttf') format('truetype'),\n\t\t url('${2:FileName}.svg#${1:FontName}') format('svg');\n\tfont-style: ${3:normal};\n\tfont-weight: ${4:normal};\n}",

			"@kf": "@-webkit-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}",

			"anim": "animation:|;",
			"anim-": "animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",
			"animdel": "animation-delay:${1:time};",

			"animdir": "animation-direction:${1:normal};",
			"animdir:n": "animation-direction:normal;",
			"animdir:r": "animation-direction:reverse;",
			"animdir:a": "animation-direction:alternate;",
			"animdir:ar": "animation-direction:alternate-reverse;",

			"animdur": "animation-duration:${1:0}s;",

			"animfm": "animation-fill-mode:${1:both};",
			"animfm:f": "animation-fill-mode:forwards;",
			"animfm:b": "animation-fill-mode:backwards;",
			"animfm:bt": "animation-fill-mode:both;",
			"animfm:bh": "animation-fill-mode:both;",

			"animic": "animation-iteration-count:${1:1};",
			"animic:i": "animation-iteration-count:infinite;",

			"animn": "animation-name:${1:none};",

			"animps": "animation-play-state:${1:running};",
			"animps:p": "animation-play-state:paused;",
			"animps:r": "animation-play-state:running;",

			"animtf": "animation-timing-function:${1:linear};",
			"animtf:e": "animation-timing-function:ease;",
			"animtf:ei": "animation-timing-function:ease-in;",
			"animtf:eo": "animation-timing-function:ease-out;",
			"animtf:eio": "animation-timing-function:ease-in-out;",
			"animtf:l": "animation-timing-function:linear;",
			"animtf:cb": "animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",

			"ap": "appearance:${none};",

			"!": "!important",
			"pos": "position:${1:relative};",
			"pos:s": "position:static;",
			"pos:a": "position:absolute;",
			"pos:r": "position:relative;",
			"pos:f": "position:fixed;",
			"t": "top:|;",
			"t:a": "top:auto;",
			"r": "right:|;",
			"r:a": "right:auto;",
			"b": "bottom:|;",
			"b:a": "bottom:auto;",
			"l": "left:|;",
			"l:a": "left:auto;",
			"z": "z-index:|;",
			"z:a": "z-index:auto;",
			"fl": "float:${1:left};",
			"fl:n": "float:none;",
			"fl:l": "float:left;",
			"fl:r": "float:right;",
			"cl": "clear:${1:both};",
			"cl:n": "clear:none;",
			"cl:l": "clear:left;",
			"cl:r": "clear:right;",
			"cl:b": "clear:both;",

			"colm": "columns:|;",
			"colmc": "column-count:|;",
			"colmf": "column-fill:|;",
			"colmg": "column-gap:|;",
			"colmr": "column-rule:|;",
			"colmrc": "column-rule-color:|;",
			"colmrs": "column-rule-style:|;",
			"colmrw": "column-rule-width:|;",
			"colms": "column-span:|;",
			"colmw": "column-width:|;",

			"d": "display:${1:block};",
			"d:n": "display:none;",
			"d:b": "display:block;",
			"d:f": "display:flex;",
			"d:if": "display:inline-flex;",
			"d:i": "display:inline;",
			"d:ib": "display:inline-block;",
			"d:ib+": "display: inline-block;\n*display: inline;\n*zoom: 1;",
			"d:li": "display:list-item;",
			"d:ri": "display:run-in;",
			"d:cp": "display:compact;",
			"d:tb": "display:table;",
			"d:itb": "display:inline-table;",
			"d:tbcp": "display:table-caption;",
			"d:tbcl": "display:table-column;",
			"d:tbclg": "display:table-column-group;",
			"d:tbhg": "display:table-header-group;",
			"d:tbfg": "display:table-footer-group;",
			"d:tbr": "display:table-row;",
			"d:tbrg": "display:table-row-group;",
			"d:tbc": "display:table-cell;",
			"d:rb": "display:ruby;",
			"d:rbb": "display:ruby-base;",
			"d:rbbg": "display:ruby-base-group;",
			"d:rbt": "display:ruby-text;",
			"d:rbtg": "display:ruby-text-group;",
			"v": "visibility:${1:hidden};",
			"v:v": "visibility:visible;",
			"v:h": "visibility:hidden;",
			"v:c": "visibility:collapse;",
			"ov": "overflow:${1:hidden};",
			"ov:v": "overflow:visible;",
			"ov:h": "overflow:hidden;",
			"ov:s": "overflow:scroll;",
			"ov:a": "overflow:auto;",
			"ovx": "overflow-x:${1:hidden};",
			"ovx:v": "overflow-x:visible;",
			"ovx:h": "overflow-x:hidden;",
			"ovx:s": "overflow-x:scroll;",
			"ovx:a": "overflow-x:auto;",
			"ovy": "overflow-y:${1:hidden};",
			"ovy:v": "overflow-y:visible;",
			"ovy:h": "overflow-y:hidden;",
			"ovy:s": "overflow-y:scroll;",
			"ovy:a": "overflow-y:auto;",
			"ovs": "overflow-style:${1:scrollbar};",
			"ovs:a": "overflow-style:auto;",
			"ovs:s": "overflow-style:scrollbar;",
			"ovs:p": "overflow-style:panner;",
			"ovs:m": "overflow-style:move;",
			"ovs:mq": "overflow-style:marquee;",
			"zoo": "zoom:1;",
			"zm": "zoom:1;",
			"cp": "clip:|;",
			"cp:a": "clip:auto;",
			"cp:r": "clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",
			"bxz": "box-sizing:${1:border-box};",
			"bxz:cb": "box-sizing:content-box;",
			"bxz:bb": "box-sizing:border-box;",
			"bxsh": "box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};",
			"bxsh:r": "box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});",
			"bxsh:ra": "box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});",
			"bxsh:n": "box-shadow:none;",
			"m": "margin:|;",
			"m:a": "margin:auto;",
			"mt": "margin-top:|;",
			"mt:a": "margin-top:auto;",
			"mr": "margin-right:|;",
			"mr:a": "margin-right:auto;",
			"mb": "margin-bottom:|;",
			"mb:a": "margin-bottom:auto;",
			"ml": "margin-left:|;",
			"ml:a": "margin-left:auto;",
			"p": "padding:|;",
			"pt": "padding-top:|;",
			"pr": "padding-right:|;",
			"pb": "padding-bottom:|;",
			"pl": "padding-left:|;",
			"w": "width:|;",
			"w:a": "width:auto;",
			"h": "height:|;",
			"h:a": "height:auto;",
			"maw": "max-width:|;",
			"maw:n": "max-width:none;",
			"mah": "max-height:|;",
			"mah:n": "max-height:none;",
			"miw": "min-width:|;",
			"mih": "min-height:|;",
			"mar": "max-resolution:${1:res};",
			"mir": "min-resolution:${1:res};",
			"ori": "orientation:|;",
			"ori:l": "orientation:landscape;",
			"ori:p": "orientation:portrait;",
			"ol": "outline:|;",
			"ol:n": "outline:none;",
			"olo": "outline-offset:|;",
			"olw": "outline-width:|;",
			"olw:tn": "outline-width:thin;",
			"olw:m": "outline-width:medium;",
			"olw:tc": "outline-width:thick;",
			"ols": "outline-style:|;",
			"ols:n": "outline-style:none;",
			"ols:dt": "outline-style:dotted;",
			"ols:ds": "outline-style:dashed;",
			"ols:s": "outline-style:solid;",
			"ols:db": "outline-style:double;",
			"ols:g": "outline-style:groove;",
			"ols:r": "outline-style:ridge;",
			"ols:i": "outline-style:inset;",
			"ols:o": "outline-style:outset;",
			"olc": "outline-color:#${1:000};",
			"olc:i": "outline-color:invert;",
			"bfv": "backface-visibility:|;",
			"bfv:h": "backface-visibility:hidden;",
			"bfv:v": "backface-visibility:visible;",
			"bd": "border:|;",
			"bd+": "border:${1:1px} ${2:solid} ${3:#000};",
			"bd:n": "border:none;",
			"bdbk": "border-break:${1:close};",
			"bdbk:c": "border-break:close;",
			"bdcl": "border-collapse:|;",
			"bdcl:c": "border-collapse:collapse;",
			"bdcl:s": "border-collapse:separate;",
			"bdc": "border-color:#${1:000};",
			"bdc:t": "border-color:transparent;",
			"bdi": "border-image:url(|);",
			"bdi:n": "border-image:none;",
			"bdti": "border-top-image:url(|);",
			"bdti:n": "border-top-image:none;",
			"bdri": "border-right-image:url(|);",
			"bdri:n": "border-right-image:none;",
			"bdbi": "border-bottom-image:url(|);",
			"bdbi:n": "border-bottom-image:none;",
			"bdli": "border-left-image:url(|);",
			"bdli:n": "border-left-image:none;",
			"bdci": "border-corner-image:url(|);",
			"bdci:n": "border-corner-image:none;",
			"bdci:c": "border-corner-image:continue;",
			"bdtli": "border-top-left-image:url(|);",
			"bdtli:n": "border-top-left-image:none;",
			"bdtli:c": "border-top-left-image:continue;",
			"bdtri": "border-top-right-image:url(|);",
			"bdtri:n": "border-top-right-image:none;",
			"bdtri:c": "border-top-right-image:continue;",
			"bdbri": "border-bottom-right-image:url(|);",
			"bdbri:n": "border-bottom-right-image:none;",
			"bdbri:c": "border-bottom-right-image:continue;",
			"bdbli": "border-bottom-left-image:url(|);",
			"bdbli:n": "border-bottom-left-image:none;",
			"bdbli:c": "border-bottom-left-image:continue;",
			"bdf": "border-fit:${1:repeat};",
			"bdf:c": "border-fit:clip;",
			"bdf:r": "border-fit:repeat;",
			"bdf:sc": "border-fit:scale;",
			"bdf:st": "border-fit:stretch;",
			"bdf:ow": "border-fit:overwrite;",
			"bdf:of": "border-fit:overflow;",
			"bdf:sp": "border-fit:space;",
			"bdlen": "border-length:|;",
			"bdlen:a": "border-length:auto;",
			"bdsp": "border-spacing:|;",
			"bds": "border-style:|;",
			"bds:n": "border-style:none;",
			"bds:h": "border-style:hidden;",
			"bds:dt": "border-style:dotted;",
			"bds:ds": "border-style:dashed;",
			"bds:s": "border-style:solid;",
			"bds:db": "border-style:double;",
			"bds:dtds": "border-style:dot-dash;",
			"bds:dtdtds": "border-style:dot-dot-dash;",
			"bds:w": "border-style:wave;",
			"bds:g": "border-style:groove;",
			"bds:r": "border-style:ridge;",
			"bds:i": "border-style:inset;",
			"bds:o": "border-style:outset;",
			"bdw": "border-width:|;",
			"bdtw": "border-top-width:|;",
			"bdrw": "border-right-width:|;",
			"bdbw": "border-bottom-width:|;",
			"bdlw": "border-left-width:|;",
			"bdt": "border-top:|;",
			"bt": "border-top:|;",
			"bdt+": "border-top:${1:1px} ${2:solid} ${3:#000};",
			"bdt:n": "border-top:none;",
			"bdts": "border-top-style:|;",
			"bdts:n": "border-top-style:none;",
			"bdtc": "border-top-color:#${1:000};",
			"bdtc:t": "border-top-color:transparent;",
			"bdr": "border-right:|;",
			"br": "border-right:|;",
			"bdr+": "border-right:${1:1px} ${2:solid} ${3:#000};",
			"bdr:n": "border-right:none;",
			"bdrst": "border-right-style:|;",
			"bdrst:n": "border-right-style:none;",
			"bdrc": "border-right-color:#${1:000};",
			"bdrc:t": "border-right-color:transparent;",
			"bdb": "border-bottom:|;",
			"bb": "border-bottom:|;",
			"bdb+": "border-bottom:${1:1px} ${2:solid} ${3:#000};",
			"bdb:n": "border-bottom:none;",
			"bdbs": "border-bottom-style:|;",
			"bdbs:n": "border-bottom-style:none;",
			"bdbc": "border-bottom-color:#${1:000};",
			"bdbc:t": "border-bottom-color:transparent;",
			"bdl": "border-left:|;",
			"bl": "border-left:|;",
			"bdl+": "border-left:${1:1px} ${2:solid} ${3:#000};",
			"bdl:n": "border-left:none;",
			"bdls": "border-left-style:|;",
			"bdls:n": "border-left-style:none;",
			"bdlc": "border-left-color:#${1:000};",
			"bdlc:t": "border-left-color:transparent;",
			"bdrs": "border-radius:|;",
			"bdtrrs": "border-top-right-radius:|;",
			"bdtlrs": "border-top-left-radius:|;",
			"bdbrrs": "border-bottom-right-radius:|;",
			"bdblrs": "border-bottom-left-radius:|;",
			"bg": "background:#${1:000};",
			"bg+": "background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};",
			"bg:n": "background:none;",
			"bg:ie": "filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",
			"bgc": "background-color:#${1:fff};",
			"bgc:t": "background-color:transparent;",
			"bgi": "background-image:url(|);",
			"bgi:n": "background-image:none;",
			"bgr": "background-repeat:|;",
			"bgr:n": "background-repeat:no-repeat;",
			"bgr:x": "background-repeat:repeat-x;",
			"bgr:y": "background-repeat:repeat-y;",
			"bgr:sp": "background-repeat:space;",
			"bgr:rd": "background-repeat:round;",
			"bga": "background-attachment:|;",
			"bga:f": "background-attachment:fixed;",
			"bga:s": "background-attachment:scroll;",
			"bgp": "background-position:${1:0} ${2:0};",
			"bgpx": "background-position-x:|;",
			"bgpy": "background-position-y:|;",
			"bgbk": "background-break:|;",
			"bgbk:bb": "background-break:bounding-box;",
			"bgbk:eb": "background-break:each-box;",
			"bgbk:c": "background-break:continuous;",
			"bgcp": "background-clip:${1:padding-box};",
			"bgcp:bb": "background-clip:border-box;",
			"bgcp:pb": "background-clip:padding-box;",
			"bgcp:cb": "background-clip:content-box;",
			"bgcp:nc": "background-clip:no-clip;",
			"bgo": "background-origin:|;",
			"bgo:pb": "background-origin:padding-box;",
			"bgo:bb": "background-origin:border-box;",
			"bgo:cb": "background-origin:content-box;",
			"bgsz": "background-size:|;",
			"bgsz:a": "background-size:auto;",
			"bgsz:ct": "background-size:contain;",
			"bgsz:cv": "background-size:cover;",
			"c": "color:#${1:000};",
			"c:r": "color:rgb(${1:0}, ${2:0}, ${3:0});",
			"c:ra": "color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",
			"cm": "/* |${child} */",
			"cnt": "content:'|';",
			"cnt:n": "content:normal;",
			"cnt:oq": "content:open-quote;",
			"cnt:noq": "content:no-open-quote;",
			"cnt:cq": "content:close-quote;",
			"cnt:ncq": "content:no-close-quote;",
			"cnt:a": "content:attr(|);",
			"cnt:c": "content:counter(|);",
			"cnt:cs": "content:counters(|);",

			"tbl": "table-layout:|;",
			"tbl:a": "table-layout:auto;",
			"tbl:f": "table-layout:fixed;",
			"cps": "caption-side:|;",
			"cps:t": "caption-side:top;",
			"cps:b": "caption-side:bottom;",
			"ec": "empty-cells:|;",
			"ec:s": "empty-cells:show;",
			"ec:h": "empty-cells:hide;",
			"lis": "list-style:|;",
			"lis:n": "list-style:none;",
			"lisp": "list-style-position:|;",
			"lisp:i": "list-style-position:inside;",
			"lisp:o": "list-style-position:outside;",
			"list": "list-style-type:|;",
			"list:n": "list-style-type:none;",
			"list:d": "list-style-type:disc;",
			"list:c": "list-style-type:circle;",
			"list:s": "list-style-type:square;",
			"list:dc": "list-style-type:decimal;",
			"list:dclz": "list-style-type:decimal-leading-zero;",
			"list:lr": "list-style-type:lower-roman;",
			"list:ur": "list-style-type:upper-roman;",
			"lisi": "list-style-image:|;",
			"lisi:n": "list-style-image:none;",
			"q": "quotes:|;",
			"q:n": "quotes:none;",
			"q:ru": "quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';",
			"q:en": "quotes:'\\201C' '\\201D' '\\2018' '\\2019';",
			"ct": "content:|;",
			"ct:n": "content:normal;",
			"ct:oq": "content:open-quote;",
			"ct:noq": "content:no-open-quote;",
			"ct:cq": "content:close-quote;",
			"ct:ncq": "content:no-close-quote;",
			"ct:a": "content:attr(|);",
			"ct:c": "content:counter(|);",
			"ct:cs": "content:counters(|);",
			"coi": "counter-increment:|;",
			"cor": "counter-reset:|;",
			"va": "vertical-align:${1:top};",
			"va:sup": "vertical-align:super;",
			"va:t": "vertical-align:top;",
			"va:tt": "vertical-align:text-top;",
			"va:m": "vertical-align:middle;",
			"va:bl": "vertical-align:baseline;",
			"va:b": "vertical-align:bottom;",
			"va:tb": "vertical-align:text-bottom;",
			"va:sub": "vertical-align:sub;",
			"ta": "text-align:${1:left};",
			"ta:l": "text-align:left;",
			"ta:c": "text-align:center;",
			"ta:r": "text-align:right;",
			"ta:j": "text-align:justify;",
			"ta-lst": "text-align-last:|;",
			"tal:a": "text-align-last:auto;",
			"tal:l": "text-align-last:left;",
			"tal:c": "text-align-last:center;",
			"tal:r": "text-align-last:right;",
			"td": "text-decoration:${1:none};",
			"td:n": "text-decoration:none;",
			"td:u": "text-decoration:underline;",
			"td:o": "text-decoration:overline;",
			"td:l": "text-decoration:line-through;",
			"te": "text-emphasis:|;",
			"te:n": "text-emphasis:none;",
			"te:ac": "text-emphasis:accent;",
			"te:dt": "text-emphasis:dot;",
			"te:c": "text-emphasis:circle;",
			"te:ds": "text-emphasis:disc;",
			"te:b": "text-emphasis:before;",
			"te:a": "text-emphasis:after;",
			"th": "text-height:|;",
			"th:a": "text-height:auto;",
			"th:f": "text-height:font-size;",
			"th:t": "text-height:text-size;",
			"th:m": "text-height:max-size;",
			"ti": "text-indent:|;",
			"ti:-": "text-indent:-9999px;",
			"tj": "text-justify:|;",
			"tj:a": "text-justify:auto;",
			"tj:iw": "text-justify:inter-word;",
			"tj:ii": "text-justify:inter-ideograph;",
			"tj:ic": "text-justify:inter-cluster;",
			"tj:d": "text-justify:distribute;",
			"tj:k": "text-justify:kashida;",
			"tj:t": "text-justify:tibetan;",
			"tov": "text-overflow:${ellipsis};",
			"tov:e": "text-overflow:ellipsis;",
			"tov:c": "text-overflow:clip;",
			"to": "text-outline:|;",
			"to+": "text-outline:${1:0} ${2:0} ${3:#000};",
			"to:n": "text-outline:none;",
			"tr": "text-replace:|;",
			"tr:n": "text-replace:none;",
			"tt": "text-transform:${1:uppercase};",
			"tt:n": "text-transform:none;",
			"tt:c": "text-transform:capitalize;",
			"tt:u": "text-transform:uppercase;",
			"tt:l": "text-transform:lowercase;",
			"tw": "text-wrap:|;",
			"tw:n": "text-wrap:normal;",
			"tw:no": "text-wrap:none;",
			"tw:u": "text-wrap:unrestricted;",
			"tw:s": "text-wrap:suppress;",
			"tsh": "text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};",
			"tsh:r": "text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});",
			"tsh:ra": "text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});",
			"tsh+": "text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};",
			"tsh:n": "text-shadow:none;",
			"trf": "transform:|;",
			"trf:skx": "transform: skewX(${1:angle});",
			"trf:sky": "transform: skewY(${1:angle});",
			"trf:sc": "transform: scale(${1:x}, ${2:y});",
			"trf:scx": "transform: scaleX(${1:x});",
			"trf:scy": "transform: scaleY(${1:y});",
			"trf:scz": "transform: scaleZ(${1:z});",
			"trf:sc3": "transform: scale3d(${1:x}, ${2:y}, ${3:z});",
			"trf:r": "transform: rotate(${1:angle});",
			"trf:rx": "transform: rotateX(${1:angle});",
			"trf:ry": "transform: rotateY(${1:angle});",
			"trf:rz": "transform: rotateZ(${1:angle});",
			"trf:t": "transform: translate(${1:x}, ${2:y});",
			"trf:tx": "transform: translateX(${1:x});",
			"trf:ty": "transform: translateY(${1:y});",
			"trf:tz": "transform: translateZ(${1:z});",
			"trf:t3": "transform: translate3d(${1:tx}, ${2:ty}, ${3:tz});",
			"trfo": "transform-origin:|;",
			"trfs": "transform-style:${1:preserve-3d};",
			"trs": "transition:${1:prop} ${2:time};",
			"trsde": "transition-delay:${1:time};",
			"trsdu": "transition-duration:${1:time};",
			"trsp": "transition-property:${1:prop};",
			"trstf": "transition-timing-function:${1:tfunc};",
			"lh": "line-height:|;",
			"whs": "white-space:|;",
			"whs:n": "white-space:normal;",
			"whs:p": "white-space:pre;",
			"whs:nw": "white-space:nowrap;",
			"whs:pw": "white-space:pre-wrap;",
			"whs:pl": "white-space:pre-line;",
			"whsc": "white-space-collapse:|;",
			"whsc:n": "white-space-collapse:normal;",
			"whsc:k": "white-space-collapse:keep-all;",
			"whsc:l": "white-space-collapse:loose;",
			"whsc:bs": "white-space-collapse:break-strict;",
			"whsc:ba": "white-space-collapse:break-all;",
			"wob": "word-break:|;",
			"wob:n": "word-break:normal;",
			"wob:k": "word-break:keep-all;",
			"wob:ba": "word-break:break-all;",
			"wos": "word-spacing:|;",
			"wow": "word-wrap:|;",
			"wow:nm": "word-wrap:normal;",
			"wow:n": "word-wrap:none;",
			"wow:u": "word-wrap:unrestricted;",
			"wow:s": "word-wrap:suppress;",
			"wow:b": "word-wrap:break-word;",
			"wm": "writing-mode:${1:lr-tb};",
			"wm:lrt": "writing-mode:lr-tb;",
			"wm:lrb": "writing-mode:lr-bt;",
			"wm:rlt": "writing-mode:rl-tb;",
			"wm:rlb": "writing-mode:rl-bt;",
			"wm:tbr": "writing-mode:tb-rl;",
			"wm:tbl": "writing-mode:tb-lr;",
			"wm:btl": "writing-mode:bt-lr;",
			"wm:btr": "writing-mode:bt-rl;",
			"lts": "letter-spacing:|;",
			"lts-n": "letter-spacing:normal;",
			"f": "font:|;",
			"f+": "font:${1:1em} ${2:Arial,sans-serif};",
			"fw": "font-weight:|;",
			"fw:n": "font-weight:normal;",
			"fw:b": "font-weight:bold;",
			"fw:br": "font-weight:bolder;",
			"fw:lr": "font-weight:lighter;",
			"fs": "font-style:${italic};",
			"fs:n": "font-style:normal;",
			"fs:i": "font-style:italic;",
			"fs:o": "font-style:oblique;",
			"fv": "font-variant:|;",
			"fv:n": "font-variant:normal;",
			"fv:sc": "font-variant:small-caps;",
			"fz": "font-size:|;",
			"fza": "font-size-adjust:|;",
			"fza:n": "font-size-adjust:none;",
			"ff": "font-family:|;",
			"ff:s": "font-family:serif;",
			"ff:ss": "font-family:sans-serif;",
			"ff:c": "font-family:cursive;",
			"ff:f": "font-family:fantasy;",
			"ff:m": "font-family:monospace;",
			"ff:a": "font-family: Arial, \"Helvetica Neue\", Helvetica, sans-serif;",
			"ff:t": "font-family: \"Times New Roman\", Times, Baskerville, Georgia, serif;",
			"ff:v": "font-family: Verdana, Geneva, sans-serif;",
			"fef": "font-effect:|;",
			"fef:n": "font-effect:none;",
			"fef:eg": "font-effect:engrave;",
			"fef:eb": "font-effect:emboss;",
			"fef:o": "font-effect:outline;",
			"fem": "font-emphasize:|;",
			"femp": "font-emphasize-position:|;",
			"femp:b": "font-emphasize-position:before;",
			"femp:a": "font-emphasize-position:after;",
			"fems": "font-emphasize-style:|;",
			"fems:n": "font-emphasize-style:none;",
			"fems:ac": "font-emphasize-style:accent;",
			"fems:dt": "font-emphasize-style:dot;",
			"fems:c": "font-emphasize-style:circle;",
			"fems:ds": "font-emphasize-style:disc;",
			"fsm": "font-smooth:|;",
			"fsm:a": "font-smooth:auto;",
			"fsm:n": "font-smooth:never;",
			"fsm:aw": "font-smooth:always;",
			"fst": "font-stretch:|;",
			"fst:n": "font-stretch:normal;",
			"fst:uc": "font-stretch:ultra-condensed;",
			"fst:ec": "font-stretch:extra-condensed;",
			"fst:c": "font-stretch:condensed;",
			"fst:sc": "font-stretch:semi-condensed;",
			"fst:se": "font-stretch:semi-expanded;",
			"fst:e": "font-stretch:expanded;",
			"fst:ee": "font-stretch:extra-expanded;",
			"fst:ue": "font-stretch:ultra-expanded;",
			"op": "opacity:|;",
			"op+": "opacity: $1;\nfilter: alpha(opacity=$2);",
			"op:ie": "filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);",
			"op:ms": "-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",
			"rsz": "resize:|;",
			"rsz:n": "resize:none;",
			"rsz:b": "resize:both;",
			"rsz:h": "resize:horizontal;",
			"rsz:v": "resize:vertical;",
			"cur": "cursor:${pointer};",
			"cur:a": "cursor:auto;",
			"cur:d": "cursor:default;",
			"cur:c": "cursor:crosshair;",
			"cur:ha": "cursor:hand;",
			"cur:he": "cursor:help;",
			"cur:m": "cursor:move;",
			"cur:p": "cursor:pointer;",
			"cur:t": "cursor:text;",
			"fxd": "flex-direction:|;",
			"fxd:r": "flex-direction:row;",
			"fxd:rr": "flex-direction:row-reverse;",
			"fxd:c": "flex-direction:column;",
			"fxd:cr": "flex-direction:column-reverse;",
			"fxw": "flex-wrap: |;",
			"fxw:n": "flex-wrap:nowrap;",
			"fxw:w": "flex-wrap:wrap;",
			"fxw:wr": "flex-wrap:wrap-reverse;",
			"fxf": "flex-flow:|;",
			"jc": "justify-content:|;",
			"jc:fs": "justify-content:flex-start;",
			"jc:fe": "justify-content:flex-end;",
			"jc:c": "justify-content:center;",
			"jc:sb": "justify-content:space-between;",
			"jc:sa": "justify-content:space-around;",
			"ai": "align-items:|;",
			"ai:fs": "align-items:flex-start;",
			"ai:fe": "align-items:flex-end;",
			"ai:c": "align-items:center;",
			"ai:b": "align-items:baseline;",
			"ai:s": "align-items:stretch;",
			"ac": "align-content:|;",
			"ac:fs": "align-content:flex-start;",
			"ac:fe": "align-content:flex-end;",
			"ac:c": "align-content:center;",
			"ac:sb": "align-content:space-between;",
			"ac:sa": "align-content:space-around;",
			"ac:s": "align-content:stretch;",
			"ord": "order:|;",
			"fxg": "flex-grow:|;",
			"fxsh": "flex-shrink:|;",
			"fxb": "flex-basis:|;",
			"fx": "flex:|;",
			"as": "align-self:|;",
			"as:a": "align-self:auto;",
			"as:fs": "align-self:flex-start;",
			"as:fe": "align-self:flex-end;",
			"as:c": "align-self:center;",
			"as:b": "align-self:baseline;",
			"as:s": "align-self:stretch;",
			"pgbb": "page-break-before:|;",
			"pgbb:au": "page-break-before:auto;",
			"pgbb:al": "page-break-before:always;",
			"pgbb:l": "page-break-before:left;",
			"pgbb:r": "page-break-before:right;",
			"pgbi": "page-break-inside:|;",
			"pgbi:au": "page-break-inside:auto;",
			"pgbi:av": "page-break-inside:avoid;",
			"pgba": "page-break-after:|;",
			"pgba:au": "page-break-after:auto;",
			"pgba:al": "page-break-after:always;",
			"pgba:l": "page-break-after:left;",
			"pgba:r": "page-break-after:right;",
			"orp": "orphans:|;",
			"us": "user-select:${none};",
			"wid": "widows:|;",
			"wfsm": "-webkit-font-smoothing:${antialiased};",
			"wfsm:a": "-webkit-font-smoothing:antialiased;",
			"wfsm:s": "-webkit-font-smoothing:subpixel-antialiased;",
			"wfsm:sa": "-webkit-font-smoothing:subpixel-antialiased;",
			"wfsm:n": "-webkit-font-smoothing:none;"
		}
	},

	"html": {
		"filters": "html",
		"profile": "html",
		"snippets": {
			"!!!":    "<!DOCTYPE html>",
			"!!!4t":  "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">",
			"!!!4s":  "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">",
			"!!!xt":  "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">",
			"!!!xs":  "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">",
			"!!!xxs": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\">",

			"c": "<!-- |${child} -->",
			"cc:ie6": "<!--[if lte IE 6]>\n\t${child}|\n<![endif]-->",
			"cc:ie": "<!--[if IE]>\n\t${child}|\n<![endif]-->",
			"cc:noie": "<!--[if !IE]><!-->\n\t${child}|\n<!--<![endif]-->"
		},

		"abbreviations": {
			"!": "html:5",
			"a": "<a href=\"\">",
			"a:link": "<a href=\"http://|\">",
			"a:mail": "<a href=\"mailto:|\">",
			"abbr": "<abbr title=\"\">",
			"acr|acronym": "<acronym title=\"\">",
			"base": "<base href=\"\" />",
			"basefont": "<basefont/>",
			"br": "<br/>",
			"frame": "<frame/>",
			"hr": "<hr/>",
			"bdo": "<bdo dir=\"\">",
			"bdo:r": "<bdo dir=\"rtl\">",
			"bdo:l": "<bdo dir=\"ltr\">",
			"col": "<col/>",
			"link": "<link rel=\"stylesheet\" href=\"\" />",
			"link:css": "<link rel=\"stylesheet\" href=\"${1:style}.css\" />",
			"link:print": "<link rel=\"stylesheet\" href=\"${1:print}.css\" media=\"print\" />",
			"link:favicon": "<link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"${1:favicon.ico}\" />",
			"link:touch": "<link rel=\"apple-touch-icon\" href=\"${1:favicon.png}\" />",
			"link:rss": "<link rel=\"alternate\" type=\"application/rss+xml\" title=\"RSS\" href=\"${1:rss.xml}\" />",
			"link:atom": "<link rel=\"alternate\" type=\"application/atom+xml\" title=\"Atom\" href=\"${1:atom.xml}\" />",
			"link:im|link:import": "<link rel=\"import\" href=\"${1:component}.html\" />",
			"meta": "<meta/>",
			"meta:utf": "<meta http-equiv=\"Content-Type\" content=\"text/html;charset=UTF-8\" />",
			"meta:win": "<meta http-equiv=\"Content-Type\" content=\"text/html;charset=windows-1251\" />",
			"meta:vp": "<meta name=\"viewport\" content=\"width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}\" />",
			"meta:compat": "<meta http-equiv=\"X-UA-Compatible\" content=\"${1:IE=7}\" />",
			"style": "<style>",
			"script": "<script !src=\"\">",
			"script:src": "<script src=\"\">",
			"img": "<img src=\"\" alt=\"\" />",
			"img:s|img:srcset": "<img srcset=\"\" src=\"\" alt=\"\" />",
			"img:z|img:sizes": "<img sizes=\"\" srcset=\"\" src=\"\" alt=\"\" />",
			"picture": "<picture>",
			"src|source": "<source/>",
			"src:sc|source:src": "<source src=\"\" type=\"\"/>",
			"src:s|source:srcset": "<source srcset=\"\"/>",
			"src:m|source:media": "<source media=\"(${1:min-width: })\" srcset=\"\"/>",
			"src:t|source:type": "<source srcset=\"|\" type=\"${1:image/}\"/>",
			"src:z|source:sizes": "<source sizes=\"\" srcset=\"\"/>",
			"src:mt|source:media:type": "<source media=\"(${1:min-width: })\" srcset=\"\" type=\"${2:image/}\"/>",
			"src:mz|source:media:sizes": "<source media=\"(${1:min-width: })\" sizes=\"\" srcset=\"\"/>",
			"src:zt|source:sizes:type": "<source sizes=\"\" srcset=\"\" type=\"${1:image/}\"/>",
			"iframe": "<iframe src=\"\" frameborder=\"0\">",
			"embed": "<embed src=\"\" type=\"\" />",
			"object": "<object data=\"\" type=\"\">",
			"param": "<param name=\"\" value=\"\" />",
			"map": "<map name=\"\">",
			"area": "<area shape=\"\" coords=\"\" href=\"\" alt=\"\" />",
			"area:d": "<area shape=\"default\" href=\"\" alt=\"\" />",
			"area:c": "<area shape=\"circle\" coords=\"\" href=\"\" alt=\"\" />",
			"area:r": "<area shape=\"rect\" coords=\"\" href=\"\" alt=\"\" />",
			"area:p": "<area shape=\"poly\" coords=\"\" href=\"\" alt=\"\" />",
			"form": "<form action=\"\">",
			"form:get": "<form action=\"\" method=\"get\">",
			"form:post": "<form action=\"\" method=\"post\">",
			"label": "<label for=\"\">",
			"input": "<input type=\"${1:text}\" />",
			"inp": "<input type=\"${1:text}\" name=\"\" id=\"\" />",
			"input:h|input:hidden": "input[type=hidden name]",
			"input:t|input:text": "inp",
			"input:search": "inp[type=search]",
			"input:email": "inp[type=email]",
			"input:url": "inp[type=url]",
			"input:p|input:password": "inp[type=password]",
			"input:datetime": "inp[type=datetime]",
			"input:date": "inp[type=date]",
			"input:datetime-local": "inp[type=datetime-local]",
			"input:month": "inp[type=month]",
			"input:week": "inp[type=week]",
			"input:time": "inp[type=time]",
			"input:tel": "inp[type=tel]",
			"input:number": "inp[type=number]",
			"input:color": "inp[type=color]",
			"input:c|input:checkbox": "inp[type=checkbox]",
			"input:r|input:radio": "inp[type=radio]",
			"input:range": "inp[type=range]",
			"input:f|input:file": "inp[type=file]",
			"input:s|input:submit": "<input type=\"submit\" value=\"\" />",
			"input:i|input:image": "<input type=\"image\" src=\"\" alt=\"\" />",
			"input:b|input:button": "<input type=\"button\" value=\"\" />",
			"isindex": "<isindex/>",
			"input:reset": "input:button[type=reset]",
			"select": "<select name=\"\" id=\"\">",
			"select:d|select:disabled": "select[disabled.]",
			"opt|option": "<option value=\"\">",
			"textarea": "<textarea name=\"\" id=\"\" cols=\"${1:30}\" rows=\"${2:10}\">",
			"marquee": "<marquee behavior=\"\" direction=\"\">",
			"menu:c|menu:context": "menu[type=context]>",
			"menu:t|menu:toolbar": "menu[type=toolbar]>",
			"video": "<video src=\"\">",
			"audio": "<audio src=\"\">",
			"html:xml": "<html xmlns=\"http://www.w3.org/1999/xhtml\">",
			"keygen": "<keygen/>",
			"command": "<command/>",
			"btn:s|button:s|button:submit" : "button[type=submit]",
			"btn:r|button:r|button:reset" : "button[type=reset]",
			"btn:d|button:d|button:disabled" : "button[disabled.]",
			"fst:d|fset:d|fieldset:d|fieldset:disabled" : "fieldset[disabled.]",

			"bq": "blockquote",
			"fig": "figure",
			"figc": "figcaption",
			"pic": "picture",
			"ifr": "iframe",
			"emb": "embed",
			"obj": "object",
			"cap": "caption",
			"colg": "colgroup",
			"fst": "fieldset",
			"btn": "button",
			"optg": "optgroup",
			"tarea": "textarea",
			"leg": "legend",
			"sect": "section",
			"art": "article",
			"hdr": "header",
			"ftr": "footer",
			"adr": "address",
			"dlg": "dialog",
			"str": "strong",
			"prog": "progress",
			"mn": "main",
			"tem": "template",
			"fset": "fieldset",
			"datag": "datagrid",
			"datal": "datalist",
			"kg": "keygen",
			"out": "output",
			"det": "details",
			"cmd": "command",
			"doc": "html>(head>meta[charset=${charset}]+title{${1:Document}})+body",
			"doc4": "html>(head>meta[http-equiv=\"Content-Type\" content=\"text/html;charset=${charset}\"]+title{${1:Document}})+body",

			"ri:d|ri:dpr": "img:s",
			"ri:v|ri:viewport": "img:z",
			"ri:a|ri:art": "pic>src:m+img",
			"ri:t|ri:type": "pic>src:t+img",

			"html:4t":  "!!!4t+doc4[lang=${lang}]",
			"html:4s":  "!!!4s+doc4[lang=${lang}]",
			"html:xt":  "!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]",
			"html:xs":  "!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]",
			"html:xxs": "!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]",
			"html:5":   "!!!+doc[lang=${lang}]",

			"ol+": "ol>li",
			"ul+": "ul>li",
			"dl+": "dl>dt+dd",
			"map+": "map>area",
			"table+": "table>tr>td",
			"colgroup+": "colgroup>col",
			"colg+": "colgroup>col",
			"tr+": "tr>td",
			"select+": "select>option",
			"optgroup+": "optgroup>option",
			"optg+": "optgroup>option",
			"pic+": "picture>source:srcset+img"
		}
	},

	"xml": {
		"extends": "html",
		"profile": "xml",
		"filters": "html"
	},

	"xsl": {
		"extends": "html",
		"profile": "xml",
		"filters": "html, xsl",
		"abbreviations": {
			"tm|tmatch": "<xsl:template match=\"\" mode=\"\">",
			"tn|tname": "<xsl:template name=\"\">",
			"call": "<xsl:call-template name=\"\"/>",
			"ap": "<xsl:apply-templates select=\"\" mode=\"\"/>",
			"api": "<xsl:apply-imports/>",
			"imp": "<xsl:import href=\"\"/>",
			"inc": "<xsl:include href=\"\"/>",

			"ch": "<xsl:choose>",
			"wh|xsl:when": "<xsl:when test=\"\">",
			"ot": "<xsl:otherwise>",
			"if": "<xsl:if test=\"\">",

			"par": "<xsl:param name=\"\">",
			"pare": "<xsl:param name=\"\" select=\"\"/>",
			"var": "<xsl:variable name=\"\">",
			"vare": "<xsl:variable name=\"\" select=\"\"/>",
			"wp": "<xsl:with-param name=\"\" select=\"\"/>",
			"key": "<xsl:key name=\"\" match=\"\" use=\"\"/>",

			"elem": "<xsl:element name=\"\">",
			"attr": "<xsl:attribute name=\"\">",
			"attrs": "<xsl:attribute-set name=\"\">",

			"cp": "<xsl:copy select=\"\"/>",
			"co": "<xsl:copy-of select=\"\"/>",
			"val": "<xsl:value-of select=\"\"/>",
			"for|each": "<xsl:for-each select=\"\">",
			"tex": "<xsl:text></xsl:text>",

			"com": "<xsl:comment>",
			"msg": "<xsl:message terminate=\"no\">",
			"fall": "<xsl:fallback>",
			"num": "<xsl:number value=\"\"/>",
			"nam": "<namespace-alias stylesheet-prefix=\"\" result-prefix=\"\"/>",
			"pres": "<xsl:preserve-space elements=\"\"/>",
			"strip": "<xsl:strip-space elements=\"\"/>",
			"proc": "<xsl:processing-instruction name=\"\">",
			"sort": "<xsl:sort select=\"\" order=\"\"/>",

			"choose+": "xsl:choose>xsl:when+xsl:otherwise",
			"xsl": "!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"
		},
		"snippets": {
			"!!!": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>"
		}
	},

	"haml": {
		"filters": "haml",
		"extends": "html",
		"profile": "xml"
	},

	"jade": {
		"filters": "jade",
		"extends": "html",
		"profile": "xml"
	},

	"jsx": {
		"filters": "jsx, html",
		"extends": "html",
		"profile": "xml"
	},

	"slim": {
		"filters": "slim",
		"extends": "html",
		"profile": "xml"
	},

	"scss": {
		"extends": "css"
	},

	"sass": {
		"extends": "css"
	},

	"less": {
		"extends": "css"
	},

	"stylus": {
		"extends": "css"
	},

	"styl": {
		"extends": "stylus"
	}
}

},{}],69:[function(require,module,exports){
/**
 * Utility functions to work with <code>AbbreviationNode</code> as HTML element
 * @param {Function} require
 * @param {Underscore} _
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var elements = require('../assets/elements');
	var tabStops = require('../assets/tabStops');
	var utils = require('../utils/common');
	var tagName = require('../resolver/tagName');

	return {
		/**
		 * Test if passed node is unary (no closing tag)
		 * @param {AbbreviationNode} node
		 * @return {Boolean}
		 */
		isUnary: function(node) {
			if (node.children.length || node._text || this.isSnippet(node)) {
				return false;
			}

			var r = node.data('resource');
			return r && r.is_empty;
		},

		/**
		 * Test if passed node is inline-level (like &lt;strong&gt;, &lt;img&gt;)
		 * @param {AbbreviationNode} node
		 * @return {Boolean}
		 */
		isInline: function(node) {
			return node.isTextNode()
				|| !node.name()
				|| tagName.isInlineLevel(node.name());
		},

		/**
		 * Test if passed node is block-level
		 * @param {AbbreviationNode} node
		 * @return {Boolean}
		 */
		isBlock: function(node) {
			return this.isSnippet(node) || !this.isInline(node);
		},

		/**
		 * Test if given node is a snippet
		 * @param {AbbreviationNode} node
		 * @return {Boolean}
		 */
		isSnippet: function(node) {
			return elements.is(node.data('resource'), 'snippet');
		},

		/**
		 * This function tests if passed node content contains HTML tags.
		 * This function is mostly used for output formatting
		 * @param {AbbreviationNode} node
		 * @returns {Boolean}
		 */
		hasTagsInContent: function(node) {
			return utils.matchesTag(node.content);
		},

		/**
		 * Test if current element contains block-level children
		 * @param {AbbreviationNode} node
		 * @return {Boolean}
		 */
		hasBlockChildren: function(node) {
			return (this.hasTagsInContent(node) && this.isBlock(node))
				|| node.children.some(function(child) {
					return this.isBlock(child);
				}, this);
		},

		/**
		 * Utility function that inserts content instead of <code>${child}</code>
		 * variables on <code>text</code>
		 * @param {String} text Text where child content should be inserted
		 * @param {String} childContent Content to insert
		 * @param {Object} options
		 * @returns {String
		 */
		insertChildContent: function(text, childContent, options) {
			options = utils.extend({
				keepVariable: true,
				appendIfNoChild: true
			}, options || {});

			var childVariableReplaced = false;
			text = tabStops.replaceVariables(text, function(variable, name, data) {
				var output = variable;
				if (name == 'child') {
					// add correct indentation
					output = utils.padString(childContent, utils.getLinePaddingFromPosition(text, data.start));
					childVariableReplaced = true;
					if (options.keepVariable)
						output += variable;
				}

				return output;
			});

			if (!childVariableReplaced && options.appendIfNoChild) {
				text += childContent;
			}

			return text;
		}
	};
});
},{"../assets/elements":24,"../assets/tabStops":33,"../resolver/tagName":67,"../utils/common":73}],70:[function(require,module,exports){
/**
 * Utility methods for Emmet actions
 * @author Sergey Chikuyonok (serge.che@gmail.com) <http://chikuyonok.ru>
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('./common');
	var cssSections = require('./cssSections');
	var abbreviationParser = require('../parser/abbreviation');
	var htmlMatcher = require('../assets/htmlMatcher');
	var xmlEditTree = require('../editTree/xml');
	var range = require('../assets/range');
	var resources = require('../assets/resources');

	return {
		mimeTypes: {
			'gif' : 'image/gif',
			'png' : 'image/png',
			'jpg' : 'image/jpeg',
			'jpeg': 'image/jpeg',
			'svg' : 'image/svg+xml',
			'html': 'text/html',
			'htm' : 'text/html'
		},

		/**
		 * Extracts abbreviations from text stream, starting from the end
		 * @param {String} str
		 * @return {String} Abbreviation or empty string
		 * @memberOf emmet.actionUtils
		 */
		extractAbbreviation: function(str) {
			var curOffset = str.length;
			var startIndex = -1;
			var groupCount = 0;
			var braceCount = 0;
			var textCount = 0;

			while (true) {
				curOffset--;
				if (curOffset < 0) {
					// moved to the beginning of the line
					startIndex = 0;
					break;
				}

				var ch = str.charAt(curOffset);

				if (ch == ']') {
					braceCount++;
				} else if (ch == '[') {
					if (!braceCount) { // unexpected brace
						startIndex = curOffset + 1;
						break;
					}
					braceCount--;
				} else if (ch == '}') {
					textCount++;
				} else if (ch == '{') {
					if (!textCount) { // unexpected brace
						startIndex = curOffset + 1;
						break;
					}
					textCount--;
				} else if (ch == ')') {
					groupCount++;
				} else if (ch == '(') {
					if (!groupCount) { // unexpected brace
						startIndex = curOffset + 1;
						break;
					}
					groupCount--;
				} else {
					if (braceCount || textCount)
						// respect all characters inside attribute sets or text nodes
						continue;
					else if (!abbreviationParser.isAllowedChar(ch) || (ch == '>' && utils.endsWithTag(str.substring(0, curOffset + 1)))) {
						// found stop symbol
						startIndex = curOffset + 1;
						break;
					}
				}
			}

			if (startIndex != -1 && !textCount && !braceCount && !groupCount)
				// found something, remove some invalid symbols from the
				// beginning and return abbreviation
				return str.substring(startIndex).replace(/^[\*\+\>\^]+/, '');
			else
				return '';
		},

		/**
		 * Gets image size from image byte stream.
		 * @author http://romeda.org/rePublish/
		 * @param {String} stream Image byte stream (use <code>IEmmetFile.read()</code>)
		 * @return {Object} Object with <code>width</code> and <code>height</code> properties
		 */
		getImageSize: function(stream) {
			var pngMagicNum = "\211PNG\r\n\032\n",
				jpgMagicNum = "\377\330",
				gifMagicNum = "GIF8",
				pos = 0,
				nextByte = function() {
					return stream.charCodeAt(pos++);
				};

			if (stream.substr(0, 8) === pngMagicNum) {
				// PNG. Easy peasy.
				pos = stream.indexOf('IHDR') + 4;

				return {
					width:  (nextByte() << 24) | (nextByte() << 16) | (nextByte() <<  8) | nextByte(),
					height: (nextByte() << 24) | (nextByte() << 16) | (nextByte() <<  8) | nextByte()
				};

			} else if (stream.substr(0, 4) === gifMagicNum) {
				pos = 6;

				return {
					width:  nextByte() | (nextByte() << 8),
					height: nextByte() | (nextByte() << 8)
				};

			} else if (stream.substr(0, 2) === jpgMagicNum) {
				pos = 2;

				var l = stream.length;
				while (pos < l) {
					if (nextByte() != 0xFF) return;

					var marker = nextByte();
					if (marker == 0xDA) break;

					var size = (nextByte() << 8) | nextByte();

					if (marker >= 0xC0 && marker <= 0xCF && !(marker & 0x4) && !(marker & 0x8)) {
						pos += 1;
						return {
							height: (nextByte() << 8) | nextByte(),
							width: (nextByte() << 8) | nextByte()
						};

					} else {
						pos += size - 2;
					}
				}
			}
		},

		/**
		 * Captures context XHTML element from editor under current caret position.
		 * This node can be used as a helper for abbreviation extraction
		 * @param {IEmmetEditor} editor
		 * @returns {Object}
		 */
		captureContext: function(editor, pos) {
			var allowedSyntaxes = {'html': 1, 'xml': 1, 'xsl': 1};
			var syntax = editor.getSyntax();
			if (syntax in allowedSyntaxes) {
				var content = editor.getContent();
				if (typeof pos === 'undefined') {
					pos = editor.getCaretPos();
				}

				var tag = htmlMatcher.find(content, pos);
				if (tag && tag.type == 'tag') {
					var startTag = tag.open;
					var contextNode = {
						name: startTag.name,
						attributes: [],
						match: tag
					};

					// parse attributes
					var tagTree = xmlEditTree.parse(startTag.range.substring(content));
					if (tagTree) {
						contextNode.attributes = tagTree.getAll().map(function(item) {
							return {
								name: item.name(),
								value: item.value()
							};
						});
					}

					return contextNode;
				}
			}

			return null;
		},

		/**
		 * Find expression bounds in current editor at caret position.
		 * On each character a <code>fn</code> function will be called and must
		 * return <code>true</code> if current character meets requirements,
		 * <code>false</code> otherwise
		 * @param {IEmmetEditor} editor
		 * @param {Function} fn Function to test each character of expression
		 * @return {Range}
		 */
		findExpressionBounds: function(editor, fn) {
			var content = String(editor.getContent());
			var il = content.length;
			var exprStart = editor.getCaretPos() - 1;
			var exprEnd = exprStart + 1;

			// start by searching left
			while (exprStart >= 0 && fn(content.charAt(exprStart), exprStart, content)) exprStart--;

			// then search right
			while (exprEnd < il && fn(content.charAt(exprEnd), exprEnd, content)) exprEnd++;

			if (exprEnd > exprStart) {
				return range([++exprStart, exprEnd]);
			}
		},

		/**
		 * @param {IEmmetEditor} editor
		 * @param {Object} data
		 * @returns {Boolean}
		 */
		compoundUpdate: function(editor, data) {
			if (data) {
				var sel = editor.getSelectionRange();
				editor.replaceContent(data.data, data.start, data.end, true);
				editor.createSelection(data.caret, data.caret + sel.end - sel.start);
				return true;
			}

			return false;
		},

		/**
		 * Common syntax detection method for editors that doesn‚Äôt provide any
		 * info about current syntax scope.
		 * @param {IEmmetEditor} editor Current editor
		 * @param {String} hint Any syntax hint that editor can provide
		 * for syntax detection. Default is 'html'
		 * @returns {String}
		 */
		detectSyntax: function(editor, hint) {
			var syntax = hint || 'html';

			if (!resources.hasSyntax(syntax)) {
				syntax = 'html';
			}

			if (syntax == 'html' && (this.isStyle(editor) || this.isInlineCSS(editor))) {
				syntax = 'css';
			}

			if (syntax == 'styl') {
				syntax = 'stylus';
			}

			return syntax;
		},

		/**
		 * Common method for detecting output profile
		 * @param {IEmmetEditor} editor
		 * @returns {String}
		 */
		detectProfile: function(editor) {
			var syntax = editor.getSyntax();

			// get profile from syntax definition
			var profile = resources.findItem(syntax, 'profile');
			if (profile) {
				return profile;
			}

			switch(syntax) {
				case 'xml':
				case 'xsl':
					return 'xml';
				case 'css':
					if (this.isInlineCSS(editor)) {
						return 'line';
					}
					break;
				case 'html':
					profile = resources.getVariable('profile');
					if (!profile) { // no forced profile, guess from content
						// html or xhtml?
						profile = this.isXHTML(editor) ? 'xhtml': 'html';
					}

					return profile;
			}

			return 'xhtml';
		},

		/**
		 * Tries to detect if current document is XHTML one.
		 * @param {IEmmetEditor} editor
		 * @returns {Boolean}
		 */
		isXHTML: function(editor) {
			return editor.getContent().search(/<!DOCTYPE[^>]+XHTML/i) != -1;
		},

		/**
		 * Check if current caret position is inside &lt;style&gt; tag
		 * @param {IEmmetEditor} editor
		 * @returns {Range} Inner range of &lt;style&gt; tag
		 */
		isStyle: function(editor) {
			return !!cssSections.styleTagRange(editor.getContent(), editor.getCaretPos());
		},

		/**
		 * Check if given CSS dialect is supported by CSS actions
		 * @param  {String}  syntax
		 * @return {Boolean}
		 */
		isSupportedCSS: function(syntax) {
			return syntax == 'css' || syntax == 'less' || syntax == 'scss';
		},

		/**
		 * Check if current caret position is inside "style" attribute of HTML
		 * element
		 * @param {IEmmetEditor} editor
		 * @returns {Range} Inner range of style attribute
		 */
		isInlineCSS: function(editor) {
			return !!cssSections.styleAttrRange(editor.getContent(), editor.getCaretPos());
		}
	};
});
},{"../assets/htmlMatcher":26,"../assets/range":30,"../assets/resources":31,"../editTree/xml":38,"../parser/abbreviation":55,"./common":73,"./cssSections":74}],71:[function(require,module,exports){
/**
 * @author Sergey Chikuyonok (serge.che@gmail.com)
 * @link http://chikuyonok.ru
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';

	return {
		/**
		 * Encodes data using base64 algorithm
		 * @author Tyler Akins (http://rumkin.com)
		 * @param {String} input
		 * @returns {String}
		 */
		encode : function(input) {
			var output = [];
			var chr1, chr2, chr3, enc1, enc2, enc3, enc4, cdp1, cdp2, cdp3;
			var i = 0, il = input.length, b64 = chars;

			while (i < il) {

				cdp1 = input.charCodeAt(i++);
				cdp2 = input.charCodeAt(i++);
				cdp3 = input.charCodeAt(i++);

				chr1 = cdp1 & 0xff;
				chr2 = cdp2 & 0xff;
				chr3 = cdp3 & 0xff;

				enc1 = chr1 >> 2;
				enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
				enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
				enc4 = chr3 & 63;

				if (isNaN(cdp2)) {
					enc3 = enc4 = 64;
				} else if (isNaN(cdp3)) {
					enc4 = 64;
				}

				output.push(b64.charAt(enc1) + b64.charAt(enc2) + b64.charAt(enc3) + b64.charAt(enc4));
			}

			return output.join('');
		},

		/**
		 * Decodes string using MIME base64 algorithm
		 *
		 * @author Tyler Akins (http://rumkin.com)
		 * @param {String} data
		 * @return {String}
		 */
		decode : function(data) {
			var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, tmpArr = [];
			var b64 = chars, il = data.length;

			if (!data) {
				return data;
			}

			data += '';

			do { // unpack four hexets into three octets using index points in b64
				h1 = b64.indexOf(data.charAt(i++));
				h2 = b64.indexOf(data.charAt(i++));
				h3 = b64.indexOf(data.charAt(i++));
				h4 = b64.indexOf(data.charAt(i++));

				bits = h1 << 18 | h2 << 12 | h3 << 6 | h4;

				o1 = bits >> 16 & 0xff;
				o2 = bits >> 8 & 0xff;
				o3 = bits & 0xff;

				if (h3 == 64) {
					tmpArr[ac++] = String.fromCharCode(o1);
				} else if (h4 == 64) {
					tmpArr[ac++] = String.fromCharCode(o1, o2);
				} else {
					tmpArr[ac++] = String.fromCharCode(o1, o2, o3);
				}
			} while (i < il);

			return tmpArr.join('');
		}
	};
});
},{}],72:[function(require,module,exports){
/**
 * Utility module for working with comments in source code
 * (mostly stripping it from source)
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('./common');
	var range = require('../assets/range');
	var stringStream = require('../assets/stringStream');
	var reHasComment = /\/\*|\/\//;

	return {
		/**
		 * Replaces all comments in given CSS source with spaces,
		 * which allows more reliable (and faster) token search
		 * in CSS content
		 * @param  {String} content CSS content
		 * @return {String}
		 */
		strip: function(content) {
			if (!reHasComment.test(content)) {
				return content;
			}

			var stream = stringStream(content);
			var replaceRanges = [];
			var ch, ch2;

			while ((ch = stream.next())) {
				if (ch === '/') {
					ch2 = stream.peek();
					if (ch2 === '*') { // multiline CSS comment
						stream.start = stream.pos - 1;

						if (stream.skipTo('*/')) {
							stream.pos += 2;
						} else {
							// unclosed comment
							stream.skipToEnd();
						}

						replaceRanges.push([stream.start, stream.pos]);
					} else if (ch2 === '/') {
						// preprocessor‚Äôs single line comments
						stream.start = stream.pos - 1;
						while ((ch2 = stream.next())) {
							if (ch2 === '\n' || ch2 == '\r') {
								break
							}
						}

						replaceRanges.push([stream.start, stream.pos]);
					}
				} else {
					stream.skipQuoted();
				}
			}

			return utils.replaceWith(content, replaceRanges, ' ');
		}
	};
});
},{"../assets/range":30,"../assets/stringStream":32,"./common":73}],73:[function(require,module,exports){
/**
 * Common utility helper for Emmet
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var range = require('../assets/range');

	/**
	 * Special token used as a placeholder for caret positions inside
	 * generated output
	 */
	var caretPlaceholder = '${0}';

	return {
		reTag: /<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,

		defaultSyntax: function() {
			return 'html';
		},

		defaultProfile: function() {
			return 'plain';
		},

		/**
		 * Test if passed string ends with XHTML tag. This method is used for testing
		 * '>' character: it belongs to tag or it's a part of abbreviation?
		 * @param {String} str
		 * @return {Boolean}
		 */
		endsWithTag: function(str) {
			return this.reTag.test(str);
		},

		/**
		 * Check if passed symbol is a number
		 * @param {String} ch
		 * @returns {Boolean}
		 */
		isNumeric: function(ch) {
			if (typeof(ch) == 'string')
				ch = ch.charCodeAt(0);

			return (ch && ch > 47 && ch < 58);
		},

		/**
		 * Trim whitespace from string
		 * @param {String} text
		 * @return {String}
		 */
		trim: (function() {
			if (String.prototype.trim) {
				return function(text) {
					return text ? text.trim() : '';
				};
			}

			return function(text) {
				return (text || "").replace(/^\s+|\s+$/g, "");
			}
		})(),

		/**
		 * Split text into lines. Set <code>remove_empty</code> to true to filter
		 * empty lines
		 * @param {String} text Text to split
		 * @param {Boolean} removeEmpty Remove empty lines from result
		 * @return {Array}
		 */
		splitByLines: function(text, removeEmpty) {
			// IE fails to split string by regexp,
			// need to normalize newlines first
			// Also, Mozilla's Rhiho JS engine has a weird newline bug
			var nl = '\n';
			var lines = (text || '')
				.replace(/\r\n/g, '\n')
				.replace(/\n\r/g, '\n')
				.replace(/\r/g, '\n')
				.replace(/\n/g, nl)
				.split(nl);

			if (removeEmpty) {
				lines = lines.filter(function(line) {
					return line.length && !!this.trim(line);
				}, this);
			}

			return lines;
		},

		/**
		 * Repeats string <code>howMany</code> times
		 * @param {String} str
		 * @param {Number} how_many
		 * @return {String}
		 */
		repeatString: function(str, howMany) {
			var out = '';
			while (howMany--) {
				out += str;
			}

			return out;
		},

		/**
		 * Returns list of paddings that should be used to align passed string
		 * @param {Array} strings
		 * @returns {Array}
		 */
		getStringsPads: function(strings) {
			var lengths = strings.map(function(s) {
				return typeof s === 'string' ? s.length : +s;
			});

			var max = lengths.reduce(function(prev, cur) {
				return typeof prev === 'undefined' ? cur : Math.max(prev, cur);
			});
			return lengths.map(function(l) {
				var pad = max - l;
				return pad ? this.repeatString(' ', pad) : '';
			}, this);
		},

		/**
		 * Indents text with padding
		 * @param {String} text Text to indent
		 * @param {String} pad Padding size (number) or padding itself (string)
		 * @return {String}
		 */
		padString: function(text, pad) {
			var result = [];
			var lines = this.splitByLines(text);
			var nl = '\n';

			result.push(lines[0]);
			for (var j = 1; j < lines.length; j++)
				result.push(nl + pad + lines[j]);

			return result.join('');
		},

		/**
		 * Pad string with zeroes
		 * @param {String} str String to pad
		 * @param {Number} pad Desired string length
		 * @return {String}
		 */
		zeroPadString: function(str, pad) {
			var padding = '';
			var il = str.length;

			while (pad > il++) padding += '0';
			return padding + str;
		},

		/**
		 * Removes padding at the beginning of each text's line
		 * @param {String} text
		 * @param {String} pad
		 */
		unindentString: function(text, pad) {
			var lines = this.splitByLines(text);
			var pl = pad.length;
			for (var i = 0, il = lines.length, line; i < il; i++) {
				line = lines[i];
				if (line.substr(0, pl) === pad) {
					lines[i] = line.substr(pl);
				}
			}

			return lines.join('\n');
		},

		/**
		 * Replaces unescaped symbols in <code>str</code>. For example, the '$' symbol
		 * will be replaced in 'item$count', but not in 'item\$count'.
		 * @param {String} str Original string
		 * @param {String} symbol Symbol to replace
		 * @param {String} replace Symbol replacement. Might be a function that
		 * returns new value
		 * @return {String}
		 */
		replaceUnescapedSymbol: function(str, symbol, replace) {
			var i = 0;
			var il = str.length;
			var sl = symbol.length;
			var matchCount = 0;

			while (i < il) {
				if (str.charAt(i) == '\\') {
					// escaped symbol, skip next character
					i += sl + 1;
				} else if (str.substr(i, sl) == symbol) {
					// have match
					var curSl = sl;
					matchCount++;
					var newValue = replace;
					if (typeof replace === 'function') {
						var replaceData = replace(str, symbol, i, matchCount);
						if (replaceData) {
							curSl = replaceData[0].length;
							newValue = replaceData[1];
						} else {
							newValue = false;
						}
					}

					if (newValue === false) { // skip replacement
						i++;
						continue;
					}

					str = str.substring(0, i) + newValue + str.substring(i + curSl);
					// adjust indexes
					il = str.length;
					i += newValue.length;
				} else {
					i++;
				}
			}

			return str;
		},

		/**
		 * Replaces '$' character in string assuming it might be escaped with '\'
		 * @param {String} str String where character should be replaced
		 * @param {String} value New value
		 * @return {String}
		 */
		replaceCounter: function(str, value, total) {
			var symbol = '$';
			// in case we received strings from Java, convert the to native strings
			str = String(str);
			value = String(value);

			if (/^\-?\d+$/.test(value)) {
				value = +value;
			}

			var that = this;

			return this.replaceUnescapedSymbol(str, symbol, function(str, symbol, pos, matchNum){
				if (str.charAt(pos + 1) == '{' || that.isNumeric(str.charAt(pos + 1)) ) {
					// it's a variable, skip it
					return false;
				}

				// replace sequense of $ symbols with padded number
				var j = pos + 1;
				while(str.charAt(j) == '$' && str.charAt(j + 1) != '{') j++;
				var pad = j - pos;

				// get counter base
				var base = 0, decrement = false, m;
				if ((m = str.substr(j).match(/^@(\-?)(\d*)/))) {
					j += m[0].length;

					if (m[1]) {
						decrement = true;
					}

					base = parseInt(m[2] || 1, 10) - 1;
				}

				if (decrement && total && typeof value === 'number') {
					value = total - value + 1;
				}

				value += base;

				return [str.substring(pos, j), that.zeroPadString(value + '', pad)];
			});
		},

		/**
		 * Check if string matches against <code>reTag</code> regexp. This
		 * function may be used to test if provided string contains HTML tags
		 * @param {String} str
		 * @returns {Boolean}
		 */
		matchesTag: function(str) {
			return this.reTag.test(str || '');
		},

		/**
		 * Escapes special characters used in Emmet, like '$', '|', etc.
		 * Use this method before passing to actions like "Wrap with Abbreviation"
		 * to make sure that existing special characters won't be altered
		 * @param {String} text
		 * @return {String}
		 */
		escapeText: function(text) {
			return text.replace(/([\$\\])/g, '\\$1');
		},

		/**
		 * Unescapes special characters used in Emmet, like '$', '|', etc.
		 * @param {String} text
		 * @return {String}
		 */
		unescapeText: function(text) {
			return text.replace(/\\(.)/g, '$1');
		},

		/**
		 * Returns caret placeholder
		 * @returns {String}
		 */
		getCaretPlaceholder: function() {
			return typeof caretPlaceholder === 'function'
				? caretPlaceholder.apply(this, arguments)
				: caretPlaceholder;
		},

		/**
		 * Sets new representation for carets in generated output
		 * @param {String} value New caret placeholder. Might be a
		 * <code>Function</code>
		 */
		setCaretPlaceholder: function(value) {
			caretPlaceholder = value;
		},

		/**
		 * Returns line padding
		 * @param {String} line
		 * @return {String}
		 */
		getLinePadding: function(line) {
			return (line.match(/^(\s+)/) || [''])[0];
		},

		/**
		 * Helper function that returns padding of line of <code>pos</code>
		 * position in <code>content</code>
		 * @param {String} content
		 * @param {Number} pos
		 * @returns {String}
		 */
		getLinePaddingFromPosition: function(content, pos) {
			var lineRange = this.findNewlineBounds(content, pos);
			return this.getLinePadding(lineRange.substring(content));
		},

		/**
		 * Escape special regexp chars in string, making it usable for creating dynamic
		 * regular expressions
		 * @param {String} str
		 * @return {String}
		 */
		escapeForRegexp: function(str) {
			var specials = new RegExp("[.*+?|()\\[\\]{}\\\\]", "g"); // .*+?|()[]{}\
			return str.replace(specials, "\\$&");
		},

		/**
		 * Make decimal number look good: convert it to fixed precision end remove
		 * traling zeroes
		 * @param {Number} num
		 * @param {Number} fracion Fraction numbers (default is 2)
		 * @return {String}
		 */
		prettifyNumber: function(num, fraction) {
			return num.toFixed(typeof fraction == 'undefined' ? 2 : fraction).replace(/\.?0+$/, '');
		},

		/**
		 * Replace substring of <code>str</code> with <code>value</code>
		 * @param {String} str String where to replace substring
		 * @param {String} value New substring value
		 * @param {Number} start Start index of substring to replace. May also
		 * be a <code>Range</code> object: in this case, the <code>end</code>
		 * argument is not required
		 * @param {Number} end End index of substring to replace. If ommited,
		 * <code>start</code> argument is used
		 */
		replaceSubstring: function(str, value, start, end) {
			if (typeof start === 'object' && 'end' in start) {
				end = start.end;
				start = start.start;
			}

			if (typeof end === 'string') {
				end = start + end.length;
			}

			if (typeof end === 'undefined') {
				end = start;
			}

			if (start < 0 || start > str.length)
				return str;

			return str.substring(0, start) + value + str.substring(end);
		},

		/**
		 * Fills substrings in `content`, defined by given ranges,
		 * wich `ch` character
		 * @param  {String} content
		 * @param  {Array} ranges
		 * @return {String}
		 */
		replaceWith: function(content, ranges, ch, noRepeat) {
			if (ranges.length) {
				var offset = 0, fragments = [];
				ranges.forEach(function(r) {
					var repl = noRepeat ? ch : this.repeatString(ch, r[1] - r[0]);
					fragments.push(content.substring(offset, r[0]), repl);
					offset = r[1];
				}, this);

				content = fragments.join('') + content.substring(offset);
			}

			return content;
		},

		/**
		 * Narrows down text range, adjusting selection to non-space characters
		 * @param {String} text
		 * @param {Number} start Starting range in <code>text</code> where
		 * slection should be adjusted. Can also be any object that is accepted
		 * by <code>Range</code> class
		 * @return {Range}
		 */
		narrowToNonSpace: function(text, start, end) {
			var rng = range.create(start, end);

			var reSpace = /[\s\n\r\u00a0]/;
			// narrow down selection until first non-space character
			while (rng.start < rng.end) {
				if (!reSpace.test(text.charAt(rng.start)))
					break;

				rng.start++;
			}

			while (rng.end > rng.start) {
				rng.end--;
				if (!reSpace.test(text.charAt(rng.end))) {
					rng.end++;
					break;
				}
			}

			return rng;
		},

		/**
		 * Find start and end index of text line for <code>from</code> index
		 * @param {String} text
		 * @param {Number} from
		 */
		findNewlineBounds: function(text, from) {
			var len = text.length,
				start = 0,
				end = len - 1,
				ch;


			// search left
			for (var i = from - 1; i > 0; i--) {
				ch = text.charAt(i);
				if (ch == '\n' || ch == '\r') {
					start = i + 1;
					break;
				}
			}
			// search right
			for (var j = from; j < len; j++) {
				ch = text.charAt(j);
				if (ch == '\n' || ch == '\r') {
					end = j;
					break;
				}
			}

			return range.create(start, end - start);
		},

		/**
		 * Deep merge of two or more objects. Taken from jQuery.extend()
		 */
		deepMerge: function() {
			var options, name, src, copy, copyIsArray, clone,
				target = arguments[0] || {},
				i = 1,
				length = arguments.length;


			// Handle case when target is a string or something (possible in deep copy)
			if (typeof target !== 'object' && typeof target !== 'function') {
				target = {};
			}

			for ( ; i < length; i++ ) {
				// Only deal with non-null/undefined values
				if ( (options = arguments[ i ]) !== null ) {
					// Extend the base object
					for ( name in options ) {
						src = target[ name ];
						copy = options[ name ];

						// Prevent never-ending loop
						if ( target === copy ) {
							continue;
						}

						// Recurse if we're merging plain objects or arrays
						if ( copy && ( typeof copy === 'object' || (copyIsArray = Array.isArray(copy)) ) ) {
							if ( copyIsArray ) {
								copyIsArray = false;
								clone = src && Array.isArray(src) ? src : [];

							} else {
								clone = src && typeof src === 'object' ? src : {};
							}

							// Never move original objects, clone them
							target[ name ] = this.deepMerge(clone, copy );

						// Don't bring in undefined values
						} else if ( copy !== undefined ) {
							target[ name ] = copy;
						}
					}
				}
			}

			// Return the modified object
			return target;
		},

		/**
		 * Dead simple string-to-JSON parser
		 * @param {String} str
		 * @returns {Object}
		 */
		parseJSON: function(str) {
			if (typeof str == 'object') {
				return str;
			}

			try {
				return JSON.parse(str);
			} catch(e) {
				return {};
			}
		},


		/**************************
		 * Utility belt
		 **************************/
		unique: function(arr, comparator) {
			var lookup = [];
			return arr.filter(function(item) {
				var val = comparator ? comparator(item) : item;
				if (lookup.indexOf(val) < 0) {
					lookup.push(val);
					return true;
				}
			});
		},

		/**
		 * Return a copy of the object, filtered to only have values for
		 * the whitelisted keys.
		 * @param  {Object} obj
		 * @return {Object}
		 */
		pick: function(obj) {
			var result = {};
			var keys = this.toArray(arguments, 1);
			Object.keys(obj).forEach(function(key) {
				if (~keys.indexOf(key)) {
					result[key] = obj[key];
				}
			});
			return result;
		},

		find: function(arr, comparator, ctx) {
			var result;
			if (ctx) {
				comparator = comparator.bind(ctx);
			}

			if (Array.isArray(arr)) {
				arr.some(function(item, i) {
					if (comparator(item, i)) {
						return result = item;
					}
				});
			} else {
				Object.keys(arr).some(function(key, i) {
					if (comparator(arr[key], i)) {
						return result = arr[key];
					}
				});
			}

			return result;
		},

		toArray: function(obj, sliceIx) {
			if (Array.isArray(obj) && !sliceIx) {
				return obj;
			}
			return Array.prototype.slice.call(obj, sliceIx || 0);
		},

		extend: function(obj) {
			for (var i = 1, il = arguments.length, a; i < il; i++) {
				a = arguments[i];
				if (a) {
					Object.keys(a).forEach(function(key) {
						obj[key] = a[key];
					});
				}
			}
			return obj;
		},

		defaults: function(obj) {
			for (var i = 1, il = arguments.length, a; i < il; i++) {
				a = arguments[i];
				if (a) {
					Object.keys(a).forEach(function(key) {
						if (!(key in obj)) {
							obj[key] = a[key];
						}
					});
				}
			}
			return obj;
		},

		flatten: function(arr, out) {
			out = out || [];
			var self = this;
			self.toArray(arr).forEach(function(item) {
				if (Array.isArray(item)) {
					self.flatten(item, out);
				} else {
					out.push(item);
				}
			});

			return out;
		},

		clone: function(obj) {
			if (Array.isArray(obj)) {
				return obj.slice(0);
			}

			return this.extend({}, obj);
		},

		without: function(arr) {
			this.toArray(arguments, 1).forEach(function(item) {
				var ix;
				while (~(ix = arr.indexOf(item))) {
					arr.splice(ix, 1);
				}
			});
			return arr;
		},

		last: function(arr) {
			return arr[arr.length - 1];
		}
	};
});

},{"../assets/range":30}],74:[function(require,module,exports){
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('./common');
	var commentsUtils = require('./comments');
	var range = require('../assets/range');
	var stringStream = require('../assets/stringStream');
	var cssParser = require('../parser/css');
	var htmlMatcher = require('../assets/htmlMatcher');
	var xmlEditTree = require('../editTree/xml');

	var idCounter = 1;
	var maxId = 1000000;

	var reSpaceTrim = /^(\s*).+?(\s*)$/;
	var reSpace = /\s/g;
	var reComma = /,/;

	function isQuote(ch) {
		return ch == '"' || ch == "'";
	}

	function getId() {
		idCounter = (idCounter + 1) % maxId;
		return 's' + idCounter;
	}

	/**
	 * @param {Range} range Full selector range with additional
	 * properties for matching name and content (@see findAllRules())
	 * @param {String} source CSS source
	 */
	function CSSSection(rng, source) {
		this.id = getId();
		/** @type {CSSSection} */
		this.parent = null;
		/** @type {CSSSection} */
		this.nextSibling = null;
		/** @type {CSSSection} */
		this.previousSibling = null;
		this._source = source;
		this._name = null;
		this._content = null;

		/**
		 * Custom data for current nodes, used by other modules for
		 * caching etc.
		 * @type {Object}
		 */
		this._data = {};

		if (!rng && source) {
			rng = range(0, source);
		}

		this.range = rng;
		this.children = [];
	}

	CSSSection.prototype = {
		addChild: function(section) {
			if (!(section instanceof CSSSection)) {
				section = new CSSSection(section);
			}

			var lastChild = utils.last(this.children);
			if (lastChild) {
				lastChild.nextSibling = section;
				section.previousSibling = lastChild;
			}
			section.parent = this;

			this.children.push(section);
			return section;
		},

		/**
		 * Returns root node
		 * @return {CSSSection}
		 */
		root: function() {
			var root = this;
			do {
				if (!root.parent) {
					return root;
				}
			} while(root = root.parent);

			return root;
		},

		/**
		 * Returns currect CSS source
		 * @return {String}
		 */
		source: function() {
			return this._source || this.root()._source;
		},

		/**
		 * Returns section name
		 * @return {String}
		 */
		name: function() {
			if (this._name === null) {
				var range = this.nameRange();
				if (range) {
					this._name = range.substring(this.source());
				}
			}

			return this._name;
		},

		/**
		 * Returns section name range
		 * @return {[type]} [description]
		 */
		nameRange: function() {
			if (this.range && '_selectorEnd' in this.range) {
				return range.create2(this.range.start, this.range._selectorEnd);
			}
		},

		/**
		 * Returns deepest child of current section (or section itself)
		 * which includes given position.
		 * @param  {Number} pos
		 * @return {CSSSection}
		 */
		matchDeep: function(pos) {
			if (!this.range.inside(pos)) {
				return null;
			}

			for (var i = 0, il = this.children.length, m; i < il; i++) {
				m = this.children[i].matchDeep(pos);
				if (m) {
					return m;
				}
			};

			return this.parent ? this : null;
		},

		/**
		 * Returns current and all nested sections ranges
		 * @return {Array}
		 */
		allRanges: function() {
			var out = [];
			if (this.parent) {
				// add current range if it is not root node
				out.push(this.range);
			}

			this.children.forEach(function(child) {
				out = out.concat(child.allRanges());
			});

			return out;
		},

		data: function(key, value) {
			if (typeof value !== 'undefined') {
				this._data[key] = value;
			}

			return this._data[key];
		},

		stringify: function(indent) {
			indent = indent || '';
			var out = '';
			this.children.forEach(function(item) {
				out += indent + item.name().replace(/\n/g, '\\n') + '\n';
				out += item.stringify(indent + '--');
			});

			return out;
		},

		/**
		 * Returns current section‚Äôs actual content,
		 * e.g. content without nested sections
		 * @return {String}
		 */
		content: function() {
			if (this._content !== null) {
				return this._content;
			}

			if (!this.range || !('_contentStart' in this.range)) {
				return '';
			}

			var r = range.create2(this.range._contentStart + 1, this.range.end - 1);
			var source = this.source();
			var start = r.start;
			var out = '';

			this.children.forEach(function(child) {
				out += source.substring(start, child.range.start);
				start = child.range.end;
			});

			out += source.substring(start, r.end);
			return this._content = utils.trim(out);
		}
	};

	return {
		/**
		 * Finds all CSS rules‚Äò ranges in given CSS source
		 * @param  {String} content CSS source
		 * @return {Array} Array of ranges
		 */
		findAllRules: function(content) {
			content = this.sanitize(content);
			var stream = stringStream(content);
			var ranges = [], matchedRanges;
			var self = this;

			var saveRule = function(r) {
				var selRange = self.extractSelector(content, r.start);
				var rule = range.create2(selRange.start, r.end);
				rule._selectorEnd = selRange.end;
				rule._contentStart = r.start;
				ranges.push(rule);
			};

			var ch;
			while (ch = stream.next()) {
				if (isQuote(ch)) {
					if (!stream.skipString(ch)) {
						break; // unterminated string
					}

					continue;
				}

				if (ch == '{') {
					matchedRanges = this.matchBracesRanges(content, stream.pos - 1);
					matchedRanges.forEach(saveRule);

					if (matchedRanges.length) {
						stream.pos = utils.last(matchedRanges).end;
						continue;
					}
				}
			}

			return ranges.sort(function(a, b) {
				return a.start - b.start;
			});
		},

		/**
		 * Matches curly braces content right after given position
		 * @param  {String} content CSS content. Must not contain comments!
		 * @param  {Number} pos     Search start position
		 * @return {Range}
		 */
		matchBracesRanges: function(content, pos, sanitize) {
			if (sanitize) {
				content = this.sanitize(content);
			}

			var stream = stringStream(content);
			stream.start = stream.pos = pos;
			var stack = [], ranges = [];
			var ch;
			while (ch = stream.next()) {
				if (ch == '{') {
					stack.push(stream.pos - 1);
				} else if (ch == '}') {
					if (!stack.length) {
						throw 'Invalid source structure (check for curly braces)';
					}
					ranges.push(range.create2(stack.pop(), stream.pos));
					if (!stack.length) {
						return ranges;
					}
				} else {
					stream.skipQuoted();
				}
			}

			return ranges;
		},

		/**
		 * Extracts CSS selector from CSS document from
		 * given position. The selector is located by moving backward
		 * from given position which means that passed position
		 * must point to the end of selector
		 * @param  {String}  content CSS source
		 * @param  {Number}  pos     Search position
		 * @param  {Boolean} sanitize Sanitize CSS source before processing.
		 * Off by default and assumes that CSS must be comment-free already
		 * (for performance)
		 * @return {Range}
		 */
		extractSelector: function(content, pos, sanitize) {
			if (sanitize) {
				content = this.sanitize(content);
			}

			var skipString = function() {
				var quote = content.charAt(pos);
				if (quote == '"' || quote == "'") {
					while (--pos >= 0) {
						if (content.charAt(pos) == quote && content.charAt(pos - 1) != '\\') {
							break;
						}
					}
					return true;
				}

				return false;
			};

			// find CSS selector
			var ch;
			var endPos = pos;
			while (--pos >= 0) {
				if (skipString()) continue;

				ch = content.charAt(pos);
				if (ch == ')') {
					// looks like it‚Äôs a preprocessor thing,
					// most likely a mixin arguments list, e.g.
					// .mixin (@arg1; @arg2) {...}
					while (--pos >= 0) {
						if (skipString()) continue;

						if (content.charAt(pos) == '(') {
							break;
						}
					}
					continue;
				}

				if (ch == '{' || ch == '}' || ch == ';') {
					pos++;
					break;
				}
			}

			if (pos < 0) {
				pos = 0;
			}

			var selector = content.substring(pos, endPos);

			// trim whitespace from matched selector
			var m = selector.replace(reSpace, ' ').match(reSpaceTrim);
			if (m) {
				pos += m[1].length;
				endPos -= m[2].length;
			}

			return range.create2(pos, endPos);
		},

		/**
		 * Search for nearest CSS rule/section that contains
		 * given position
		 * @param  {String} content CSS content or matched CSS rules (array of ranges)
		 * @param  {Number} pos     Search position
		 * @return {Range}
		 */
		matchEnclosingRule: function(content, pos) {
			if (typeof content === 'string') {
				content = this.findAllRules(content);
			}

			var rules = content.filter(function(r) {
				return r.inside(pos);
			});

			return utils.last(rules);
		},

		/**
		 * Locates CSS rule next or before given position
		 * @param  {String}  content    CSS content
		 * @param  {Number}  pos        Search start position
		 * @param  {Boolean} isBackward Search backward (find previous rule insteaf of next one)
		 * @return {Range}
		 */
		locateRule: function(content, pos, isBackward) {
			// possible case: editor reported that current syntax is
			// CSS, but it‚Äôs actually a HTML document (either `style` tag or attribute)
			var offset = 0;
			var subrange = this.styleTagRange(content, pos);
			if (subrange) {
				offset = subrange.start;
				pos -= subrange.start;
				content = subrange.substring(content);
			}

			var rules = this.findAllRules(content);
			var ctxRule = this.matchEnclosingRule(rules, pos);

			if (ctxRule) {
				return ctxRule.shift(offset);
			}

			for (var i = 0, il = rules.length; i < il; i++) {
				if (rules[i].start > pos) {
					return rules[isBackward && i > 0 ? i - 1 : i].shift(offset);
				}
			}
		},

		/**
		 * Sanitizes given CSS content: replaces content that may
		 * interfere with parsing (comments, interpolations, etc.)
		 * with spaces. Sanitized content MUST NOT be used for
		 * editing or outputting, it just simplifies searching
		 * @param  {String} content CSS content
		 * @return {String}
		 */
		sanitize: function(content) {
			content = commentsUtils.strip(content);

			// remove preprocessor string interpolations like #{var}
			var stream = stringStream(content);
			var replaceRanges = [];
			var ch, ch2;

			while ((ch = stream.next())) {
				if (isQuote(ch)) {
					// skip string
					stream.skipString(ch)
					continue;
				} else if (ch === '#' || ch === '@') {
					ch2 = stream.peek();
					if (ch2 === '{') { // string interpolation
						stream.start = stream.pos - 1;

						if (stream.skipTo('}')) {
							stream.pos += 1;
						} else {
							throw 'Invalid string interpolation at ' + stream.start;
						}

						replaceRanges.push([stream.start, stream.pos]);
					}
				}
			}

			return utils.replaceWith(content, replaceRanges, 'a');
		},

		/**
		 * Parses and returns all sections in given CSS
		 * as tree-like structure, e.g. provides nesting
		 * info
		 * @param  {String} content CSS content
		 * @return {CSSSection}
		 */
		sectionTree: function(content) {
			var root = new CSSSection(null, content);
			var rules = this.findAllRules(content);

			// rules are sorted in order they appear in CSS source
			// so we can optimize their nesting routine
			var insert = function(range, ctx) {
				while (ctx && ctx.range) {
					if (ctx.range.contains(range)) {
						return ctx.addChild(range);
					}

					ctx = ctx.parent;
				}

				// if we are here then given range is a top-level section
				return root.addChild(range);
			};

			var ctx = root;
			rules.forEach(function(r) {
				ctx = insert(r, ctx);
			});

			return root;
		},

		/**
		 * Returns ranges for all nested sections, available in
		 * given CSS rule
		 * @param  {CSSEditContainer} rule
		 * @return {Array}
		 */
		nestedSectionsInRule: function(rule) {
			var offset = rule.valueRange(true).start;
			var nestedSections = this.findAllRules(rule.valueRange().substring(rule.source));
			nestedSections.forEach(function(section) {
				section.start += offset;
				section.end += offset;
				section._selectorEnd += offset;
				section._contentStart += offset;
			});
			return nestedSections;
		},

		styleTagRange: function(content, pos) {
			var tag = htmlMatcher.tag(content, pos);
			return tag && tag.open.name.toLowerCase() == 'style'
				&& tag.innerRange.cmp(pos, 'lte', 'gte')
				&& tag.innerRange;
		},

		styleAttrRange: function(content, pos) {
			var tree = xmlEditTree.parseFromPosition(content, pos, true);
			if (tree) {
				var attr = tree.itemFromPosition(pos, true);
				return attr && attr.name().toLowerCase() == 'style'
					&& attr.valueRange(true).cmp(pos, 'lte', 'gte')
					&& attr.valueRange(true);
			}
		},

		CSSSection: CSSSection
	};
});
},{"../assets/htmlMatcher":26,"../assets/range":30,"../assets/stringStream":32,"../editTree/xml":38,"../parser/css":56,"./comments":72,"./common":73}],75:[function(require,module,exports){
/**
 * Utility module used to prepare text for pasting into back-end editor
 * @author Sergey Chikuyonok (serge.che@gmail.com) <http://chikuyonok.ru>
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('./common');
	var resources = require('../assets/resources');

	return  {
		/**
		 * Check if cursor is placed inside XHTML tag
		 * @param {String} html Contents of the document
		 * @param {Number} caretPos Current caret position inside tag
		 * @return {Boolean}
		 */
		isInsideTag: function(html, caretPos) {
			var reTag = /^<\/?\w[\w\:\-]*.*?>/;

			// search left to find opening brace
			var pos = caretPos;
			while (pos > -1) {
				if (html.charAt(pos) == '<')
					break;
				pos--;
			}

			if (pos != -1) {
				var m = reTag.exec(html.substring(pos));
				if (m && caretPos > pos && caretPos < pos + m[0].length)
					return true;
			}

			return false;
		},

		/**
		 * Sanitizes incoming editor data and provides default values for
		 * output-specific info
		 * @param {IEmmetEditor} editor
		 * @param {String} syntax
		 * @param {String} profile
		 */
		outputInfo: function(editor, syntax, profile) {
			// most of this code makes sense for Java/Rhino environment
			// because string that comes from Java are not actually JS string
			// but Java String object so the have to be explicitly converted
			// to native string
			profile = profile || editor.getProfileName();
			return  {
				/** @memberOf outputInfo */
				syntax: String(syntax || editor.getSyntax()),
				profile: profile || null,
				content: String(editor.getContent())
			};
		},

		/**
		 * Unindent content, thus preparing text for tag wrapping
		 * @param {IEmmetEditor} editor Editor instance
		 * @param {String} text
		 * @return {String}
		 */
		unindent: function(editor, text) {
			return utils.unindentString(text, this.getCurrentLinePadding(editor));
		},

		/**
		 * Returns padding of current editor's line
		 * @param {IEmmetEditor} Editor instance
		 * @return {String}
		 */
		getCurrentLinePadding: function(editor) {
			return utils.getLinePadding(editor.getCurrentLine());
		},

		/**
		 * Normalizes content according to given preferences, e.g.
		 * replaces newlines and indentation with ones defined in
		 * `options`. If options are not provided or incomplete,
		 * values will be taken from current user environment
		 * @param {String} text
		 * @param {Object} options
		 * @return {String}
		 */
		normalize: function(text, options) {
			options = utils.extend({
				newline: resources.getNewline(),
				indentation: resources.getVariable('indentation')
			}, options);

			var indent = function(tabs) {
				return utils.repeatString(options.indentation, tabs.length);
			};

			var lines = utils.splitByLines(text);

			// normailze indentation if it‚Äôs not tabs
			if (options.indentation !== '\t') {
				lines = lines.map(function(line) {
					return line.replace(/^\s+/, function(space) {
						return space.replace(/\t/g, indent);
					});
				});
			}

			// normalize newlines
			return lines.join(options.newline);
		}
	};
});

},{"../assets/resources":31,"./common":73}],76:[function(require,module,exports){
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	/*
	 Source: https://github.com/silentmatt/js-expression-eval

	 Based on ndef.parser, by Raphael Graf(r@undefined.ch)
	 http://www.undefined.ch/mparser/index.html

	 Ported to JavaScript and modified by Matthew Crumley (email@matthewcrumley.com, http://silentmatt.com/)

	 You are free to use and modify this code in anyway you find useful. Please leave this comment in the code
	 to acknowledge its original source. If you feel like it, I enjoy hearing about projects that use my code,
	 but don't feel like you have to let me know or ask permission.
	*/

	function object(o) {
		function F() {}
		F.prototype = o;
		return new F();
	}

	var TNUMBER = 0;
	var TOP1 = 1;
	var TOP2 = 2;
	var TVAR = 3;
	var TFUNCALL = 4;

	function Token(type_, index_, prio_, number_) {
		this.type_ = type_;
		this.index_ = index_ || 0;
		this.prio_ = prio_ || 0;
		this.number_ = (number_ !== undefined && number_ !== null) ? number_ : 0;
		this.toString = function () {
			switch (this.type_) {
			case TNUMBER:
				return this.number_;
			case TOP1:
			case TOP2:
			case TVAR:
				return this.index_;
			case TFUNCALL:
				return "CALL";
			default:
				return "Invalid Token";
			}
		};
	}

	function Expression(tokens, ops1, ops2, functions) {
		this.tokens = tokens;
		this.ops1 = ops1;
		this.ops2 = ops2;
		this.functions = functions;
	}

	// Based on http://www.json.org/json2.js
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        escapable = /[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        meta = {    // table of character substitutions
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            "'" : "\\'",
            '\\': '\\\\'
        };

	function escapeValue(v) {
		if (typeof v === "string") {
			escapable.lastIndex = 0;
	        return escapable.test(v) ?
	            "'" + v.replace(escapable, function (a) {
	                var c = meta[a];
	                return typeof c === 'string' ? c :
	                    '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
	            }) + "'" :
	            "'" + v + "'";
		}
		return v;
	}

	Expression.prototype = {
		simplify: function (values) {
			values = values || {};
			var nstack = [];
			var newexpression = [];
			var n1;
			var n2;
			var f;
			var L = this.tokens.length;
			var item;
			var i = 0;
			for (i = 0; i < L; i++) {
				item = this.tokens[i];
				var type_ = item.type_;
				if (type_ === TNUMBER) {
					nstack.push(item);
				}
				else if (type_ === TVAR && (item.index_ in values)) {
					item = new Token(TNUMBER, 0, 0, values[item.index_]);
					nstack.push(item);
				}
				else if (type_ === TOP2 && nstack.length > 1) {
					n2 = nstack.pop();
					n1 = nstack.pop();
					f = this.ops2[item.index_];
					item = new Token(TNUMBER, 0, 0, f(n1.number_, n2.number_));
					nstack.push(item);
				}
				else if (type_ === TOP1 && nstack.length > 0) {
					n1 = nstack.pop();
					f = this.ops1[item.index_];
					item = new Token(TNUMBER, 0, 0, f(n1.number_));
					nstack.push(item);
				}
				else {
					while (nstack.length > 0) {
						newexpression.push(nstack.shift());
					}
					newexpression.push(item);
				}
			}
			while (nstack.length > 0) {
				newexpression.push(nstack.shift());
			}

			return new Expression(newexpression, object(this.ops1), object(this.ops2), object(this.functions));
		},

		substitute: function (variable, expr) {
			if (!(expr instanceof Expression)) {
				expr = new Parser().parse(String(expr));
			}
			var newexpression = [];
			var L = this.tokens.length;
			var item;
			var i = 0;
			for (i = 0; i < L; i++) {
				item = this.tokens[i];
				var type_ = item.type_;
				if (type_ === TVAR && item.index_ === variable) {
					for (var j = 0; j < expr.tokens.length; j++) {
						var expritem = expr.tokens[j];
						var replitem = new Token(expritem.type_, expritem.index_, expritem.prio_, expritem.number_);
						newexpression.push(replitem);
					}
				}
				else {
					newexpression.push(item);
				}
			}

			var ret = new Expression(newexpression, object(this.ops1), object(this.ops2), object(this.functions));
			return ret;
		},

		evaluate: function (values) {
			values = values || {};
			var nstack = [];
			var n1;
			var n2;
			var f;
			var L = this.tokens.length;
			var item;
			var i = 0;
			for (i = 0; i < L; i++) {
				item = this.tokens[i];
				var type_ = item.type_;
				if (type_ === TNUMBER) {
					nstack.push(item.number_);
				}
				else if (type_ === TOP2) {
					n2 = nstack.pop();
					n1 = nstack.pop();
					f = this.ops2[item.index_];
					nstack.push(f(n1, n2));
				}
				else if (type_ === TVAR) {
					if (item.index_ in values) {
						nstack.push(values[item.index_]);
					}
					else if (item.index_ in this.functions) {
						nstack.push(this.functions[item.index_]);
					}
					else {
						throw new Error("undefined variable: " + item.index_);
					}
				}
				else if (type_ === TOP1) {
					n1 = nstack.pop();
					f = this.ops1[item.index_];
					nstack.push(f(n1));
				}
				else if (type_ === TFUNCALL) {
					n1 = nstack.pop();
					f = nstack.pop();
					if (f.apply && f.call) {
						if (Object.prototype.toString.call(n1) == "[object Array]") {
							nstack.push(f.apply(undefined, n1));
						}
						else {
							nstack.push(f.call(undefined, n1));
						}
					}
					else {
						throw new Error(f + " is not a function");
					}
				}
				else {
					throw new Error("invalid Expression");
				}
			}
			if (nstack.length > 1) {
				throw new Error("invalid Expression (parity)");
			}
			return nstack[0];
		},

		toString: function (toJS) {
			var nstack = [];
			var n1;
			var n2;
			var f;
			var L = this.tokens.length;
			var item;
			var i = 0;
			for (i = 0; i < L; i++) {
				item = this.tokens[i];
				var type_ = item.type_;
				if (type_ === TNUMBER) {
					nstack.push(escapeValue(item.number_));
				}
				else if (type_ === TOP2) {
					n2 = nstack.pop();
					n1 = nstack.pop();
					f = item.index_;
					if (toJS && f == "^") {
						nstack.push("Math.pow(" + n1 + "," + n2 + ")");
					}
					else {
						nstack.push("(" + n1 + f + n2 + ")");
					}
				}
				else if (type_ === TVAR) {
					nstack.push(item.index_);
				}
				else if (type_ === TOP1) {
					n1 = nstack.pop();
					f = item.index_;
					if (f === "-") {
						nstack.push("(" + f + n1 + ")");
					}
					else {
						nstack.push(f + "(" + n1 + ")");
					}
				}
				else if (type_ === TFUNCALL) {
					n1 = nstack.pop();
					f = nstack.pop();
					nstack.push(f + "(" + n1 + ")");
				}
				else {
					throw new Error("invalid Expression");
				}
			}
			if (nstack.length > 1) {
				throw new Error("invalid Expression (parity)");
			}
			return nstack[0];
		},

		variables: function () {
			var L = this.tokens.length;
			var vars = [];
			for (var i = 0; i < L; i++) {
				var item = this.tokens[i];
				if (item.type_ === TVAR && (vars.indexOf(item.index_) == -1)) {
					vars.push(item.index_);
				}
			}

			return vars;
		},

		toJSFunction: function (param, variables) {
			var f = new Function(param, "with(Parser.values) { return " + this.simplify(variables).toString(true) + "; }");
			return f;
		}
	};

	function add(a, b) {
		return Number(a) + Number(b);
	}
	function sub(a, b) {
		return a - b;
	}
	function mul(a, b) {
		return a * b;
	}
	function div(a, b) {
		return a / b;
	}
	function mod(a, b) {
		return a % b;
	}
	function concat(a, b) {
		return "" + a + b;
	}

	function neg(a) {
		return -a;
	}

	function random(a) {
		return Math.random() * (a || 1);
	}
	function fac(a) { //a!
		a = Math.floor(a);
		var b = a;
		while (a > 1) {
			b = b * (--a);
		}
		return b;
	}

	// TODO: use hypot that doesn't overflow
	function pyt(a, b) {
		return Math.sqrt(a * a + b * b);
	}

	function append(a, b) {
		if (Object.prototype.toString.call(a) != "[object Array]") {
			return [a, b];
		}
		a = a.slice();
		a.push(b);
		return a;
	}

	function Parser() {
		this.success = false;
		this.errormsg = "";
		this.expression = "";

		this.pos = 0;

		this.tokennumber = 0;
		this.tokenprio = 0;
		this.tokenindex = 0;
		this.tmpprio = 0;

		this.ops1 = {
			"sin": Math.sin,
			"cos": Math.cos,
			"tan": Math.tan,
			"asin": Math.asin,
			"acos": Math.acos,
			"atan": Math.atan,
			"sqrt": Math.sqrt,
			"log": Math.log,
			"abs": Math.abs,
			"ceil": Math.ceil,
			"floor": Math.floor,
			"round": Math.round,
			"-": neg,
			"exp": Math.exp
		};

		this.ops2 = {
			"+": add,
			"-": sub,
			"*": mul,
			"/": div,
			"%": mod,
			"^": Math.pow,
			",": append,
			"||": concat
		};

		this.functions = {
			"random": random,
			"fac": fac,
			"min": Math.min,
			"max": Math.max,
			"pyt": pyt,
			"pow": Math.pow,
			"atan2": Math.atan2
		};

		this.consts = {
			"E": Math.E,
			"PI": Math.PI
		};
	}

	Parser.parse = function (expr) {
		return new Parser().parse(expr);
	};

	Parser.evaluate = function (expr, variables) {
		return Parser.parse(expr).evaluate(variables);
	};

	Parser.Expression = Expression;

	Parser.values = {
		sin: Math.sin,
		cos: Math.cos,
		tan: Math.tan,
		asin: Math.asin,
		acos: Math.acos,
		atan: Math.atan,
		sqrt: Math.sqrt,
		log: Math.log,
		abs: Math.abs,
		ceil: Math.ceil,
		floor: Math.floor,
		round: Math.round,
		random: random,
		fac: fac,
		exp: Math.exp,
		min: Math.min,
		max: Math.max,
		pyt: pyt,
		pow: Math.pow,
		atan2: Math.atan2,
		E: Math.E,
		PI: Math.PI
	};

	var PRIMARY      = 1 << 0;
	var OPERATOR     = 1 << 1;
	var FUNCTION     = 1 << 2;
	var LPAREN       = 1 << 3;
	var RPAREN       = 1 << 4;
	var COMMA        = 1 << 5;
	var SIGN         = 1 << 6;
	var CALL         = 1 << 7;
	var NULLARY_CALL = 1 << 8;

	Parser.prototype = {
		parse: function (expr) {
			this.errormsg = "";
			this.success = true;
			var operstack = [];
			var tokenstack = [];
			this.tmpprio = 0;
			var expected = (PRIMARY | LPAREN | FUNCTION | SIGN);
			var noperators = 0;
			this.expression = expr;
			this.pos = 0;

			while (this.pos < this.expression.length) {
				if (this.isOperator()) {
					if (this.isSign() && (expected & SIGN)) {
						if (this.isNegativeSign()) {
							this.tokenprio = 2;
							this.tokenindex = "-";
							noperators++;
							this.addfunc(tokenstack, operstack, TOP1);
						}
						expected = (PRIMARY | LPAREN | FUNCTION | SIGN);
					}
					else if (this.isComment()) {

					}
					else {
						if ((expected & OPERATOR) === 0) {
							this.error_parsing(this.pos, "unexpected operator");
						}
						noperators += 2;
						this.addfunc(tokenstack, operstack, TOP2);
						expected = (PRIMARY | LPAREN | FUNCTION | SIGN);
					}
				}
				else if (this.isNumber()) {
					if ((expected & PRIMARY) === 0) {
						this.error_parsing(this.pos, "unexpected number");
					}
					var token = new Token(TNUMBER, 0, 0, this.tokennumber);
					tokenstack.push(token);

					expected = (OPERATOR | RPAREN | COMMA);
				}
				else if (this.isString()) {
					if ((expected & PRIMARY) === 0) {
						this.error_parsing(this.pos, "unexpected string");
					}
					var token = new Token(TNUMBER, 0, 0, this.tokennumber);
					tokenstack.push(token);

					expected = (OPERATOR | RPAREN | COMMA);
				}
				else if (this.isLeftParenth()) {
					if ((expected & LPAREN) === 0) {
						this.error_parsing(this.pos, "unexpected \"(\"");
					}

					if (expected & CALL) {
						noperators += 2;
						this.tokenprio = -2;
						this.tokenindex = -1;
						this.addfunc(tokenstack, operstack, TFUNCALL);
					}

					expected = (PRIMARY | LPAREN | FUNCTION | SIGN | NULLARY_CALL);
				}
				else if (this.isRightParenth()) {
				    if (expected & NULLARY_CALL) {
						var token = new Token(TNUMBER, 0, 0, []);
						tokenstack.push(token);
					}
					else if ((expected & RPAREN) === 0) {
						this.error_parsing(this.pos, "unexpected \")\"");
					}

					expected = (OPERATOR | RPAREN | COMMA | LPAREN | CALL);
				}
				else if (this.isComma()) {
					if ((expected & COMMA) === 0) {
						this.error_parsing(this.pos, "unexpected \",\"");
					}
					this.addfunc(tokenstack, operstack, TOP2);
					noperators += 2;
					expected = (PRIMARY | LPAREN | FUNCTION | SIGN);
				}
				else if (this.isConst()) {
					if ((expected & PRIMARY) === 0) {
						this.error_parsing(this.pos, "unexpected constant");
					}
					var consttoken = new Token(TNUMBER, 0, 0, this.tokennumber);
					tokenstack.push(consttoken);
					expected = (OPERATOR | RPAREN | COMMA);
				}
				else if (this.isOp2()) {
					if ((expected & FUNCTION) === 0) {
						this.error_parsing(this.pos, "unexpected function");
					}
					this.addfunc(tokenstack, operstack, TOP2);
					noperators += 2;
					expected = (LPAREN);
				}
				else if (this.isOp1()) {
					if ((expected & FUNCTION) === 0) {
						this.error_parsing(this.pos, "unexpected function");
					}
					this.addfunc(tokenstack, operstack, TOP1);
					noperators++;
					expected = (LPAREN);
				}
				else if (this.isVar()) {
					if ((expected & PRIMARY) === 0) {
						this.error_parsing(this.pos, "unexpected variable");
					}
					var vartoken = new Token(TVAR, this.tokenindex, 0, 0);
					tokenstack.push(vartoken);

					expected = (OPERATOR | RPAREN | COMMA | LPAREN | CALL);
				}
				else if (this.isWhite()) {
				}
				else {
					if (this.errormsg === "") {
						this.error_parsing(this.pos, "unknown character");
					}
					else {
						this.error_parsing(this.pos, this.errormsg);
					}
				}
			}
			if (this.tmpprio < 0 || this.tmpprio >= 10) {
				this.error_parsing(this.pos, "unmatched \"()\"");
			}
			while (operstack.length > 0) {
				var tmp = operstack.pop();
				tokenstack.push(tmp);
			}
			if (noperators + 1 !== tokenstack.length) {
				//print(noperators + 1);
				//print(tokenstack);
				this.error_parsing(this.pos, "parity");
			}

			return new Expression(tokenstack, object(this.ops1), object(this.ops2), object(this.functions));
		},

		evaluate: function (expr, variables) {
			return this.parse(expr).evaluate(variables);
		},

		error_parsing: function (column, msg) {
			this.success = false;
			this.errormsg = "parse error [column " + (column) + "]: " + msg;
			throw new Error(this.errormsg);
		},

//\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\

		addfunc: function (tokenstack, operstack, type_) {
			var operator = new Token(type_, this.tokenindex, this.tokenprio + this.tmpprio, 0);
			while (operstack.length > 0) {
				if (operator.prio_ <= operstack[operstack.length - 1].prio_) {
					tokenstack.push(operstack.pop());
				}
				else {
					break;
				}
			}
			operstack.push(operator);
		},

		isNumber: function () {
			var r = false;
			var str = "";
			while (this.pos < this.expression.length) {
				var code = this.expression.charCodeAt(this.pos);
				if ((code >= 48 && code <= 57) || code === 46) {
					str += this.expression.charAt(this.pos);
					this.pos++;
					this.tokennumber = parseFloat(str);
					r = true;
				}
				else {
					break;
				}
			}
			return r;
		},

		// Ported from the yajjl JSON parser at http://code.google.com/p/yajjl/
		unescape: function(v, pos) {
			var buffer = [];
			var escaping = false;

			for (var i = 0; i < v.length; i++) {
				var c = v.charAt(i);

				if (escaping) {
					switch (c) {
					case "'":
						buffer.push("'");
						break;
					case '\\':
						buffer.push('\\');
						break;
					case '/':
						buffer.push('/');
						break;
					case 'b':
						buffer.push('\b');
						break;
					case 'f':
						buffer.push('\f');
						break;
					case 'n':
						buffer.push('\n');
						break;
					case 'r':
						buffer.push('\r');
						break;
					case 't':
						buffer.push('\t');
						break;
					case 'u':
						// interpret the following 4 characters as the hex of the unicode code point
						var codePoint = parseInt(v.substring(i + 1, i + 5), 16);
						buffer.push(String.fromCharCode(codePoint));
						i += 4;
						break;
					default:
						throw this.error_parsing(pos + i, "Illegal escape sequence: '\\" + c + "'");
					}
					escaping = false;
				} else {
					if (c == '\\') {
						escaping = true;
					} else {
						buffer.push(c);
					}
				}
			}

			return buffer.join('');
		},

		isString: function () {
			var r = false;
			var str = "";
			var startpos = this.pos;
			if (this.pos < this.expression.length && this.expression.charAt(this.pos) == "'") {
				this.pos++;
				while (this.pos < this.expression.length) {
					var code = this.expression.charAt(this.pos);
					if (code != "'" || str.slice(-1) == "\\") {
						str += this.expression.charAt(this.pos);
						this.pos++;
					}
					else {
						this.pos++;
						this.tokennumber = this.unescape(str, startpos);
						r = true;
						break;
					}
				}
			}
			return r;
		},

		isConst: function () {
			var str;
			for (var i in this.consts) {
				if (true) {
					var L = i.length;
					str = this.expression.substr(this.pos, L);
					if (i === str) {
						this.tokennumber = this.consts[i];
						this.pos += L;
						return true;
					}
				}
			}
			return false;
		},

		isOperator: function () {
			var code = this.expression.charCodeAt(this.pos);
			if (code === 43) { // +
				this.tokenprio = 0;
				this.tokenindex = "+";
			}
			else if (code === 45) { // -
				this.tokenprio = 0;
				this.tokenindex = "-";
			}
			else if (code === 124) { // |
				if (this.expression.charCodeAt(this.pos + 1) === 124) {
					this.pos++;
					this.tokenprio = 0;
					this.tokenindex = "||";
				}
				else {
					return false;
				}
			}
			else if (code === 42) { // *
				this.tokenprio = 1;
				this.tokenindex = "*";
			}
			else if (code === 47) { // /
				this.tokenprio = 2;
				this.tokenindex = "/";
			}
			else if (code === 37) { // %
				this.tokenprio = 2;
				this.tokenindex = "%";
			}
			else if (code === 94) { // ^
				this.tokenprio = 3;
				this.tokenindex = "^";
			}
			else {
				return false;
			}
			this.pos++;
			return true;
		},

		isSign: function () {
			var code = this.expression.charCodeAt(this.pos - 1);
			if (code === 45 || code === 43) { // -
				return true;
			}
			return false;
		},

		isPositiveSign: function () {
			var code = this.expression.charCodeAt(this.pos - 1);
			if (code === 43) { // -
				return true;
			}
			return false;
		},

		isNegativeSign: function () {
			var code = this.expression.charCodeAt(this.pos - 1);
			if (code === 45) { // -
				return true;
			}
			return false;
		},

		isLeftParenth: function () {
			var code = this.expression.charCodeAt(this.pos);
			if (code === 40) { // (
				this.pos++;
				this.tmpprio += 10;
				return true;
			}
			return false;
		},

		isRightParenth: function () {
			var code = this.expression.charCodeAt(this.pos);
			if (code === 41) { // )
				this.pos++;
				this.tmpprio -= 10;
				return true;
			}
			return false;
		},

		isComma: function () {
			var code = this.expression.charCodeAt(this.pos);
			if (code === 44) { // ,
				this.pos++;
				this.tokenprio = -1;
				this.tokenindex = ",";
				return true;
			}
			return false;
		},

		isWhite: function () {
			var code = this.expression.charCodeAt(this.pos);
			if (code === 32 || code === 9 || code === 10 || code === 13) {
				this.pos++;
				return true;
			}
			return false;
		},

		isOp1: function () {
			var str = "";
			for (var i = this.pos; i < this.expression.length; i++) {
				var c = this.expression.charAt(i);
				if (c.toUpperCase() === c.toLowerCase()) {
					if (i === this.pos || (c != '_' && (c < '0' || c > '9'))) {
						break;
					}
				}
				str += c;
			}
			if (str.length > 0 && (str in this.ops1)) {
				this.tokenindex = str;
				this.tokenprio = 5;
				this.pos += str.length;
				return true;
			}
			return false;
		},

		isOp2: function () {
			var str = "";
			for (var i = this.pos; i < this.expression.length; i++) {
				var c = this.expression.charAt(i);
				if (c.toUpperCase() === c.toLowerCase()) {
					if (i === this.pos || (c != '_' && (c < '0' || c > '9'))) {
						break;
					}
				}
				str += c;
			}
			if (str.length > 0 && (str in this.ops2)) {
				this.tokenindex = str;
				this.tokenprio = 5;
				this.pos += str.length;
				return true;
			}
			return false;
		},

		isVar: function () {
			var str = "";
			for (var i = this.pos; i < this.expression.length; i++) {
				var c = this.expression.charAt(i);
				if (c.toUpperCase() === c.toLowerCase()) {
					if (i === this.pos || (c != '_' && (c < '0' || c > '9'))) {
						break;
					}
				}
				str += c;
			}
			if (str.length > 0) {
				this.tokenindex = str;
				this.tokenprio = 4;
				this.pos += str.length;
				return true;
			}
			return false;
		},

		isComment: function () {
			var code = this.expression.charCodeAt(this.pos - 1);
			if (code === 47 && this.expression.charCodeAt(this.pos) === 42) {
				this.pos = this.expression.indexOf("*/", this.pos) + 2;
				if (this.pos === 1) {
					this.pos = this.expression.length;
				}
				return true;
			}
			return false;
		}
	};

	return Parser;
});
},{}],77:[function(require,module,exports){
/**
 * A very simple, ERB-style templating. Basically, just as string substitution.
 * The reason to not use default Lo-dash‚Äôes `_.template()` implementation
 * is because it fails to run in CSP-enabled environments (Chrome extension, Atom)
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var stringStream = require('../assets/stringStream');
	var utils = require('./common');

	function parseArgs(str) {
		var args = [];
		var stream = stringStream(str);

		while (!stream.eol()) {
			if (stream.peek() == ',') {
				args.push(utils.trim(stream.current()));
				stream.next();
				stream.start = stream.pos;
			}
			stream.next();
		}

		args.push(utils.trim(stream.current()));
		return args.filter(function(a) {
			return !!a;
		});
	}

	function parseFunctionCall(str) {
		var fnName = null, args;
		var stream = stringStream(str);
		while (!stream.eol()) {
			if (stream.peek() == '(') {
				fnName = stream.current();
				stream.start = stream.pos;
				stream.skipToPair('(', ')', true);
				args = stream.current();
				args = parseArgs(args.substring(1, args.length - 1));
				break;
			}

			stream.next();
		}

		return fnName && {
			name: fnName,
			args: args
		};
	}

	function evalArg(arg, context) {
		if (/^['"]/.test(arg)) {
			// plain string
			return arg.replace(/^(['"])(.+?)\1$/, '$2');
		}

		if (!isNaN(+arg)) {
			// a number
			return +arg;
		}

		// otherwise, treat argument as a property name
		if (arg) {
			var parts = arg.split('.');
			var prop = context;
			while (parts.length) {
				prop = prop[parts.shift()];
			}

			return prop;
		}
	}

	function process(template, context) {
		return template.replace(/<%[=\-](.+?)%>/g, function(str, match) {
			match = utils.trim(match);
			var fn = parseFunctionCall(match);
			if (fn) {
				var fnArgs = fn.args.map(function(arg) {
					return evalArg(arg, context);
				});
				return context[fn.name].apply(context, fnArgs);
			}

			return evalArg(match, context);
		});
	}

	return function(template, context) {
		return context ? process(template, context) : function(context) {
			return process(template, context);
		};
	};
});
},{"../assets/stringStream":32,"./common":73}],78:[function(require,module,exports){
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	var utils = require('../utils/common');

	/**
	 * Shared empty constructor function to aid in prototype-chain creation.
	 */
	var ctor = function(){};

	/**
	 * Helper function to correctly set up the prototype chain, for subclasses.
	 * Similar to `goog.inherits`, but uses a hash of prototype properties and
	 * class properties to be extended.
	 * Took it from Backbone.
	 * @param {Object} parent
	 * @param {Object} protoProps
	 * @param {Object} staticProps
	 * @returns {Object}
	 */
	function inherits(parent, protoProps, staticProps) {
		var child;

		// The constructor function for the new subclass is either defined by
		// you (the "constructor" property in your `extend` definition), or
		// defaulted by us to simply call the parent's constructor.
		if (protoProps && protoProps.hasOwnProperty('constructor')) {
			child = protoProps.constructor;
		} else {
			child = function() {
				parent.apply(this, arguments);
			};
		}

		// Inherit class (static) properties from parent.
		utils.extend(child, parent);

		// Set the prototype chain to inherit from `parent`, without calling
		// `parent`'s constructor function.
		ctor.prototype = parent.prototype;
		child.prototype = new ctor();

		// Add prototype properties (instance properties) to the subclass,
		// if supplied.
		if (protoProps)
			utils.extend(child.prototype, protoProps);

		// Add static properties to the constructor function, if supplied.
		if (staticProps)
			utils.extend(child, staticProps);

		// Correctly set child's `prototype.constructor`.
		child.prototype.constructor = child;

		// Set a convenience property in case the parent's prototype is needed
		// later.
		child.__super__ = parent.prototype;

		return child;
	}

	return {
		/**
		 * The self-propagating extend function for classes.
		 * Took it from Backbone
		 * @param {Object} protoProps
		 * @param {Object} classProps
		 * @returns {Object}
		 */
		extend: function(protoProps, classProps) {
			var child = inherits(this, protoProps, classProps);
			child.extend = this.extend;
			// a hack required to WSH inherit `toString` method
			if (protoProps.hasOwnProperty('toString'))
				child.prototype.toString = protoProps.toString;
			return child;
		}
	};
});
},{"../utils/common":73}],79:[function(require,module,exports){
/*!
 * string_score.js: String Scoring Algorithm 0.1.10
 *
 * http://joshaven.com/string_score
 * https://github.com/joshaven/string_score
 *
 * Copyright (C) 2009-2011 Joshaven Potter <yourtech@gmail.com>
 * Special thanks to all of the contributors listed here https://github.com/joshaven/string_score
 * MIT license: http://www.opensource.org/licenses/mit-license.php
 *
 * Date: Tue Mar 1 2011
*/

/**
 * Scores a string against another string.
 *  'Hello World'.score('he');     //=> 0.5931818181818181
 *  'Hello World'.score('Hello');  //=> 0.7318181818181818
 */
if (typeof module === 'object' && typeof define !== 'function') {
	var define = function (factory) {
		module.exports = factory(require, exports, module);
	};
}

define(function(require, exports, module) {
	return {
		score: function(string, abbreviation, fuzziness) {
			// If the string is equal to the abbreviation, perfect match.
			  if (string == abbreviation) {return 1;}
			  //if it's not a perfect match and is empty return 0
			  if(abbreviation == "") {return 0;}

			  var total_character_score = 0,
			      abbreviation_length = abbreviation.length,
			      string_length = string.length,
			      start_of_string_bonus,
			      abbreviation_score,
			      fuzzies=1,
			      final_score;

			  // Walk through abbreviation and add up scores.
			  for (var i = 0,
			         character_score/* = 0*/,
			         index_in_string/* = 0*/,
			         c/* = ''*/,
			         index_c_lowercase/* = 0*/,
			         index_c_uppercase/* = 0*/,
			         min_index/* = 0*/;
			     i < abbreviation_length;
			     ++i) {

			    // Find the first case-insensitive match of a character.
			    c = abbreviation.charAt(i);

			    index_c_lowercase = string.indexOf(c.toLowerCase());
			    index_c_uppercase = string.indexOf(c.toUpperCase());
			    min_index = Math.min(index_c_lowercase, index_c_uppercase);
			    index_in_string = (min_index > -1) ? min_index : Math.max(index_c_lowercase, index_c_uppercase);

			    if (index_in_string === -1) {
			      if (fuzziness) {
			        fuzzies += 1-fuzziness;
			        continue;
			      } else {
			        return 0;
			      }
			    } else {
			      character_score = 0.1;
			    }

			    // Set base score for matching 'c'.

			    // Same case bonus.
			    if (string[index_in_string] === c) {
			      character_score += 0.1;
			    }

			    // Consecutive letter & start-of-string Bonus
			    if (index_in_string === 0) {
			      // Increase the score when matching first character of the remainder of the string
			      character_score += 0.6;
			      if (i === 0) {
			        // If match is the first character of the string
			        // & the first character of abbreviation, add a
			        // start-of-string match bonus.
			        start_of_string_bonus = 1; //true;
			      }
			    }
			    else {
			  // Acronym Bonus
			  // Weighing Logic: Typing the first character of an acronym is as if you
			  // preceded it with two perfect character matches.
			  if (string.charAt(index_in_string - 1) === ' ') {
			    character_score += 0.8; // * Math.min(index_in_string, 5); // Cap bonus at 0.4 * 5
			  }
			    }

			    // Left trim the already matched part of the string
			    // (forces sequential matching).
			    string = string.substring(index_in_string + 1, string_length);

			    total_character_score += character_score;
			  } // end of for loop

			  // Uncomment to weigh smaller words higher.
			  // return total_character_score / string_length;

			  abbreviation_score = total_character_score / abbreviation_length;
			  //percentage_of_matched_string = abbreviation_length / string_length;
			  //word_score = abbreviation_score * percentage_of_matched_string;

			  // Reduce penalty for longer strings.
			  //final_score = (word_score + abbreviation_score) / 2;
			  final_score = ((abbreviation_score * (abbreviation_length / string_length)) + abbreviation_score) / 2;

			  final_score = final_score / fuzzies;

			  if (start_of_string_bonus && (final_score + 0.15 < 1)) {
			    final_score += 0.15;
			  }

			  return final_score;
		}
	};
});
},{}],80:[function(require,module,exports){
"use strict";

var _interopRequire = function (obj) { return obj && obj.__esModule ? obj["default"] : obj; };

/**
 * Setup Emmet on given CodeMirror editor instance
 * @param  {CodeMirror} cm
 * @param  {Object} keymap
 */
module.exports = main;
/**
 * Emmet plugin for CodeMirror
 */

var EmmetEditor = _interopRequire(require("./editor"));

var emmet = _interopRequire(require("./emmet"));

var defaultKeymap = {
	"Cmd-E": "emmet.expand_abbreviation",
	Tab: "emmet.expand_abbreviation_with_tab",
	"Cmd-D": "emmet.balance_outward",
	"Shift-Cmd-D": "emmet.balance_inward",
	"Cmd-M": "emmet.matching_pair",
	"Shift-Cmd-A": "emmet.wrap_with_abbreviation",
	"Ctrl-Alt-Right": "emmet.next_edit_point",
	"Ctrl-Alt-Left": "emmet.prev_edit_point",
	"Cmd-L": "emmet.select_line",
	"Cmd-Shift-M": "emmet.merge_lines",
	"Cmd-/": "emmet.toggle_comment",
	"Cmd-J": "emmet.split_join_tag",
	"Cmd-K": "emmet.remove_tag",
	"Shift-Cmd-Y": "emmet.evaluate_math_expression",

	"Ctrl-Up": "emmet.increment_number_by_1",
	"Ctrl-Down": "emmet.decrement_number_by_1",
	"Ctrl-Alt-Up": "emmet.increment_number_by_01",
	"Ctrl-Alt-Down": "emmet.decrement_number_by_01",
	"Shift-Ctrl-Up": "emmet.increment_number_by_10",
	"Shift-Ctrl-Down": "emmet.decrement_number_by_10",

	"Shift-Cmd-.": "emmet.select_next_item",
	"Shift-Cmd-,": "emmet.select_previous_item",
	"Cmd-B": "emmet.reflect_css_value",

	Enter: "emmet.insert_formatted_line_break_only"
};

// actions that should be performed in single selection mode
var singleSelectionActions = ["prev_edit_point", "next_edit_point", "merge_lines", "reflect_css_value", "select_next_item", "select_previous_item", "wrap_with_abbreviation", "update_tag", "insert_formatted_line_break_only"];
function main(cm) {
	var keymap = arguments[1] === undefined ? defaultKeymap : arguments[1];

	keymap = systemKeymap(keymap);
	cm.__emmetKeymap = keymap;
	cm.addKeyMap(keymap);
	return cm;
}

main.dispose = function (cm) {
	if (cm.__emmetKeymap) {
		cm.removeKeyMap(cm.__emmetKeymap);
		delete cm.__emmetKeymap;
	}
};

main.defaultKeymap = defaultKeymap;
main.systemKeymap = systemKeymap;
main.emmet = emmet;
main.EmmetEditor = EmmetEditor;
main.setup = function (CodeMirror) {
	// setup default Emmet actions
	emmet.actions.getList().forEach(function (obj) {
		var action = obj.name;
		var command = "emmet." + action;

		if (!CodeMirror.commands[command]) {
			CodeMirror.commands[command] = ~singleSelectionActions.indexOf(action) ? actionDecorator(action) : multiSelectionActionDecorator(action);
		}
	});

	// add ‚Äúprofile‚Äù property to CodeMirror defaults so in won‚Äôt be lost
	// then CM instance is instantiated with ‚Äúprofile‚Äù property
	if (CodeMirror.defineOption) {
		CodeMirror.defineOption("profile", "html");
	} else {
		CodeMirror.defaults.profile = "html";
	}
};

if (typeof CodeMirror !== "undefined") {
	main.setup(CodeMirror);
}

function noop() {
	if (CodeMirror.version >= "3.1") {
		return CodeMirror.Pass;
	}

	throw CodeMirror.Pass;
}

/**
 * Emmet action decorator: creates a command function
 * for CodeMirror and executes Emmet action as single
 * undo command
 * @param  {String} name Action name
 * @return {Function}
 */
function actionDecorator(name) {
	return function (cm) {
		var result;
		cm.operation(function () {
			return result = runAction(name, new EmmetEditor(cm));
		});
		return result;
	};
}

/**
 * Same as `actionDecorator()` but executes action
 * with multiple selections
 * @param  {String} name Action name
 * @return {Function}
 */
function multiSelectionActionDecorator(name) {
	return function (cm) {
		var editor = new EmmetEditor(cm);
		var selections = editor.selectionList();
		var result = null;
		cm.operation(function () {
			for (var i = 0, il = selections.length; i < il; i++) {
				editor.selectionIndex = i;
				result = runAction(name, editor);
				if (result === CodeMirror.Pass) {
					break;
				}
			}
		});
		return result;
	};
}

/**
 * Runs Emmet action
 * @param  {String}      name Action name
 * @param  {EmmetEditor} editor EmmetEditor instance
 * @return {Boolean}    Returns `true` if action is performed
 * successfully
 */
function runAction(name, editor) {
	if (name == "expand_abbreviation_with_tab" && (editor.context.somethingSelected() || !editor.isValidSyntax())) {
		// pass through Tab key handler if there's a selection
		return noop();
	}

	var result = false;
	try {
		result = emmet.run(name, editor);
		if (!result && name == "insert_formatted_line_break_only") {
			return noop();
		}
	} catch (e) {
		console.error(e);
	}

	return result;
}

function systemKeymap(keymap) {
	var mac = /Mac/.test(navigator.platform);
	var out = {};
	Object.keys(keymap).forEach(function (key) {
		return out[!mac ? key.replace("Cmd", "Ctrl") : key] = keymap[key];
	});
	return out;
}
},{"./editor":1,"./emmet":2}]},{},[80])(80)
});
‘	ÑÖÜá_application/javascript_0http://jsfiddle.net/js/Sidebar.js?update10082015Otbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_0http://jsfiddle.net/js/Sidebar.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÃ % »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Fri, 09 May 2014 12:24:40 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"536cc908-f33"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/3_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „&/58AJLNU]hsuwy{}ÅÉÖáíîñòöúû†¢§¶®≥¿«’›‚Á˙'@FfÜôπæ–ŸﬁÎÓÒ
#';I[^t             o              vO3// #TODO: refactor Accordion to fireEvent onCompleted when animation finishes
//        It probably should use chaining

var Sidebar = new Class({
  Implements: [Options, Class.Occlude, Events],
  parameter: "Sidebar",
  options: {
    DOM: '',
    toggleSidebar: 'toggleSidebar'
  },

  initialize: function (options) {
    this.setOptions(options);
    if ($(this.options.DOM)) {
      this.element = $(this.options.DOM);
      if (this.occlude()) return this.occluded;

      this.element.getFirst('.toggler').addClass('active');
      this.accordion = new Fx.Accordion('#' + this.options.DOM + ' .toggler', '#' + this.options.DOM + ' .elementBody');
      this.accordion.addEvent('active', function(toggler, element) {
        toggler.addClass('active').getSiblings('.toggler').removeClass('active');
        this.fireEvent('accordion_activated');
        // 700 ms after launch the animation should be finished...
        this.fireEvent('accordion_resized',[]);
      }.bind(this));
      var toggleSidebar = $(this.options.toggleSidebar);
      if (toggleSidebar) {
        if (Layout.isMobile){
          toggleSidebar.show();
        }
        toggleSidebar.addEvent('click', this.toggle.bind(this));
      }
      this.reportAbuse.setup();
      // this.showJobs();
    }
  },

  toElement: function() {
    return this.element;
  },

  showJobs: function(){
    var jobEl = document.id("job");
    if (jobEl){
      jobEl.set("styles", {
        display: "block",
        opacity: 0
      });
      var subs = "<h4>{title}</h4><h5>{job_type} at {company_name}</h5><p>{location}</p>";
      var url = "http://jobs.jsfiddle.net/jobs/{url}";
      new Request.JSONP({
        url: "http://jobs.jsfiddle.net/random.js",
        onSuccess: function(job){
          if (job.id !== "undefined"){
            jobEl.fade(1);
            jobEl.set("html", subs.substitute(job));
            jobEl.set("href", url.substitute(job));
          }
        }
      }).send();
    }
  },

  hide: function() {
    this.element.hide();
    this.contentMargin = $('content').getStyle('marginLeft');
    $('content').setStyle('marginLeft', 13);
    this.hidden = true;
    Layout.resize();
  },

  show: function() {
    $('content').setStyle('marginLeft', this.contentMargin);
    this.element.show();
    this.hidden = false;
    Layout.resize();
  },

  toggle: function(ev) {
    var label = $(this.options.toggleSidebar).getElement('span');
    if (label.get('text') === 'Hide sidebar'){
      label.set('text', 'Show sidebar');
    } else {
      label.set('text', 'Hide sidebar');
    }
    label.toggleClass('hidden');
    if (ev) {
      ev.stop();
    }
    if (this.hidden) return this.show();
    return this.hide();
  },

  reportAbuse: {

    setup: function(){
      this.element = {
        textarea: document.id('abuse-text'),
        submit: document.id('send-abuse')
      };

      if (this.element.textarea && this.element.submit){
        this.element.submit.addEvents({
          click: this.validate.bind(this)
        });
      }
    },

    validate: function(event){
      event.stop();

      if (this.element.textarea.get('value').trim() !== ''){
        this.send();
      } else {
        this.element.textarea.highlight();
      }
    },

    send: function(){
      new Request.JSON({
        url: this.element.submit.get('href'),
        data: {
          text: this.element.textarea.get('value'),
          url: document.location.href
        },
        onComplete: this.hideFields.bind(this)
      }).send();
    },

    hideFields: function(){
      var notification = Elements.from('<p>Thanks for reporting. We\'ll look into this as soon as possible.</p>');
      notification.fade('hide');
      notification.inject(this.element.textarea, 'after');
      notification.fade(1);
      this.element.textarea.hide();
      this.element.submit.hide();
    }

  }
});
‘	âäãå_application/javascript_1http://jsfiddle.net/js/LayoutCM.js?update10082015Ovbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_1http://jsfiddle.net/js/LayoutCM.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀÊ\ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Thu, 31 Oct 2013 17:26:38 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"527292ce-241d"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/$_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „'069BKMOV^itvxz|~ÄÇÑÜàìïóôõùü°£•ß©¥¡»÷ﬁ„Ë˚	(AGgáõª¿“€‡ÌÛ%)=K]`v             o              xO$/*
 Layout using CodeMirror
 */

Element.implement({
  getInnerWidth: function() {
    return this.getSize().x -
      this.getStyle('padding-left').toInt() -
      this.getStyle('padding-right').toInt() -
      this.getStyle('border-left-width').toInt() -
      this.getStyle('border-right-width').toInt();
  },
  getInnerHeight: function() {
    return this.getSize().y -
      this.getStyle('padding-top').toInt() -
      this.getStyle('padding-bottom').toInt() -
      this.getStyle('border-top-width').toInt() -
      this.getStyle('border-bottom-width').toInt();
  }
});

var keyMods = {
  'shift': false,
  'shiftKey': false,
  'control': false,
  'ctrlKey': false
}; // these mods will be checked

var Layout = {
  editors: $H({}),
  editors_order: ['html', 'css', 'js'],
  reservedKeys: [ // list of [modifier,keycode,callbackname]
    ['ctrlKey', 13, 'run'], ['control', 13, 'run'],   // c+ret+run
    ['ctrlKey', 38, 'switchPrev'],                    // c+upArrow
    ['ctrlKey', 40, 'switchNext'],                     // c+dnArrow
    ['ctrlKey+shiftKey', 13, 'loadDraft'], ['control+shift', 13, 'loadDraft'],
    ['ctrlKey+shiftKey', 38, 'toggleSidebar'], ['control+shift', 38, 'toggleSidebar'],
    ['ctrlKey+shiftKey', 76, 'showShortcutDialog'], ['control+shift', 76, 'showShortcutDialog'],
    ['ctrlKey', 83, 'saveAndReload'], ['control', 83, 'saveAndReload']
    // ['ctrlKey', 89, 'launchCollaboration'], ['control', 89, 'launchCollaboration']
    // future
    // ['ctrlKey', f, 'searchBox'], ['control', f, 'searchBox']
  ],
  isMobile: (navigator.userAgent.match(/(iPhone|iPod|iPad)/) ||
             navigator.userAgent.match(/BlackBerry/) ||
             navigator.userAgent.match(/Android/)),
  render: function () {
    // instantiate sidebar
    this.sidebar = new Sidebar({
      DOM: 'sidebar'
    });
    window.addEvents({
      'resize': this.resize.bind(this),
      'keydown': function(keyEvent) {
        // console.log(keyEvent)
        if (this.isReservedKey(false, keyEvent)) {
          this.routeReservedKey(keyEvent);
        }
      }.bind(this)
    });
    this.sidebar.addEvents({
      'accordion_resized': this.resize.bind(this)
    });
    // set editor labels
    var result = document.id('result');
    $$('.window_label').setStyle('opacity', 0.8);
    if (result) {
      result.getElement('.window_label').setStyle('opacity', 0.3);
      this.result = result.getElement('iframe');
    }
    // resize
    this.resize();
    this.resize.bind(this).delay(20);
    // change behaviour for IE
    if (!Browser.Engine.trident4) {
      this.createDragInstances();
    }
    this.createErrorTooltips();
    // send an event
    this.fireEvent('ready');
  },

  createErrorTooltips: function(){
    var tooltip = Element('span', {
      'class': 'CodeMirror-error-tooltip'
    }).inject(document.body);
    document.id('content').addEvents({
      'mouseover:relay(.CodeMirror-line-error)': function(el){
        tooltip.set({
          html: this.get('data-title'),
          styles: {
            display: 'block'
          }
        });
        tooltip.position({
          relativeTo: this,
          edge: 'centerBottom',
          offset: {
            y: -15
          }
        });
      },
      'mouseout:relay(.CodeMirror-line-error)': function(){
        tooltip.set({
          html: '',
          styles: {
            top: 0,
            left: 0,
            display: 'none'
          }
        });
      }
    });
  },

  routeReservedKey: function(keyEvent) {
    this.reservedKeys.each(function(keyDef){
      if (this.matchKey(keyEvent, keyDef)) {
        mooshell[keyDef.getLast()].bind(mooshell).call();
      }
    }, this);
  },

  matchKey: function(keyEvent, keyDef) {
    if (!keyEvent) return false;
    var key = keyEvent.keyCode || keyEvent.code;
    // check if the right key is pressed
    if (!keyDef.contains(key)) return false;
    // check for the modifications
    var pass = true;
    if (keyDef.length > 1) {
      var mods = {};
      keyDef[0].split('+').each(function(mod) {
        mods[mod] = true;
      });
      // adding other mods
      $each(keyMods, function(value, mod) {
        if (!mods[mod]) mods[mod] = false;
      });
      // check all possibilities
      $each(mods, function(required, mod) {
        if (!!keyEvent[mod] != required) pass = false;
      });
    }
    return pass;
  },

  isReservedKey: function(keyCode, keyEvent) {
    return (this.reservedKeys.some(function(keyDef) {
      return this.matchKey(keyEvent, keyDef);
    }, this));
  },

  findLayoutElements: function() {
    // look up some elements, and cache the findings
    this.content = document.id('content');
    this.columns = this.content.getChildren('.column');
    this.windows = this.content.getElements('.window');
    this.shims = this.content.getElements('.column .shim');
    this.handlers = $H({
      'vertical': this.content.getElementById('handler_vertical'),
      'left': this.columns[0].getElement('.handler_horizontal'),
      'right': this.columns[1].getElement('.handler_horizontal')
    });
  },

  registerEditor: function(editor) {
    this.editors[editor.options.name] = editor;
    this.resize();
  },

  decodeEditors: function() {
    this.editors.each(function(ed) {
      ed.b64decode();
    });
  },

  updateFromMirror: function() {
    this.editors.each(function(ed) {
      ed.updateFromMirror();
    });
  },

  cleanMirrors: function() {
    this.editors.each(function(ed) {
      ed.clean();
    });
  },

  createDragInstances: function() {
    var onDrag_horizontal = function(h) {
      var windows = h.getParent().getElements('.window');
      var top = (h.getPosition(this.content).y + h.getHeight() / 2) / this.content.getHeight() * 100;
      windows[0].setStyle('height', top + '%');
      windows[1].setStyle('height', 100 - top + '%');
      this.refreshEditors();
    }.bind(this);

    var onDrag_vertical = function(h) {
      var left = (h.getPosition(this.content).x + h.getWidth() / 2) / this.content.getWidth() * 100;
      this.columns[0].setStyle('width', left + '%');
      this.columns[1].setStyle('width', 100 - left + '%');
    }.bind(this);

    this.handlers.each(function(h) {
      var isHorizontal = h.hasClass('handler_horizontal');
      h.dragInstance = new Drag(h, {
        'modifiers': isHorizontal ? {'x': null, 'y': 'top'} : {'x': 'left', 'y': null},
        'limit': {
          'x': [100, this.content.getWidth() - 100],
          'y': [100, this.content.getHeight() - 100]
        },
        'onBeforeStart': function() { this.shims.show(); }.bind(this),
        'onDrag': isHorizontal ? onDrag_horizontal : onDrag_vertical,
        'onCancel': function() { this.shims.hide(); }.bind(this),
        'onComplete': function() { this.shims.hide(); }.bind(this)
      });
    }, this);

    // Save window sizes to cookie onUnload.
    window.addEvent('unload', function() {
      var sizes = {
        'w': [],
        'h': []
      };
      this.columns.each(function(col, i) {
        var width = col.getStyle('width');
        sizes.w[i] = width.contains('%') ? width : null;
      });
      this.windows.each(function(win, i) {
        var height = win.getStyle('height');
        sizes.h[i] = height.contains('%') ? height : null;
      });
      Cookie.write('window_sizes', JSON.encode(sizes), {'domain': location.host});
    }.bind(this));

    // Read window sizes from cookie.
    this.setWindowSizes();
  },

  setWindowSizes: function(sizes) {
    // sizes === undefined --> read from cookie
    // sizes == null/false --> reset sizes + delete cookie
    // sizes == true       --> use sizes
    if (typeof sizes === 'undefined') {
      sizes = Cookie.read('window_sizes');
      if (sizes) {
        sizes = JSON.decode(sizes);
      }
    }
    if (sizes) {
      if ($type(sizes.w) === 'array') {
        sizes.w.each(function(width, i) {
          this.columns[i].setStyle('width', width);
        }, this);
      }
      if ($type(sizes.h) == 'array') {
        sizes.h.each(function(height, i) {
          this.windows[i].setStyle('height', height);
        }, this);
      }
    } else {
      this.columns.setStyle('width', null);
      this.windows.setStyle('height', null);
      Cookie.dispose('window_sizes', {'domain': location.host});
    }
    this.resize();
  },

  resize: function(e) {
    if (!this.content) {
      this.findLayoutElements();
    }

    var win_size = window.getSize();
    var av_height = win_size.y -
      this.columns[0].getPosition().y +
      this.windows[0].getStyle('top').toInt() +
      this.windows[1].getStyle('bottom').toInt();

    this.content.setStyle('height', av_height);

    // set handler positions
    this.handlers.vertical.setStyle('left', this.windows[0].getCoordinates(this.content).right);
    this.handlers.left.setStyle('top', this.windows[0].getCoordinates(this.content).bottom);
    this.handlers.right.setStyle('top', this.windows[2].getCoordinates(this.content).bottom);

    this.fireEvent('resize');
  },

  refreshEditors: function(){
    Object.each(this.editors, function(editorInstance){
      editorInstance.editor.refresh();
    });
  }
};

// add events to Layout object
$extend(Layout, new Events());
‘	éèêë_application/javascript_0http://jsfiddle.net/js/Actions.js?update10082015Oubplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_0http://jsfiddle.net/js/Actions.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÃ.Ì$ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"55c87ff2-59b5"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/Yµ_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „&/58AJLNU]hsuwy{}ÅÉÖáíîñòöúû†¢§¶®≥¿«’›‚Á˙'@FfÜö∫ø—⁄ﬂÏÔÚ$(<J\_u             o              wOYµ// TODO: refactor
// TODO: This code is now legacy code, none of it will make its way into Beta
window.editorsModified = false;

Request.JSON.implement({
  initialize: function(options) {
    this.parent(options);
    this.setHeader('X-CSRFToken', Cookie.read('csrftoken'));
  }
});

Track = {
  ui: function(action){
    if (typeof(_gaq) !== 'undefined'){
      _gaq.push(['_trackEvent', 'UI',  action || null]);
    }
  }
};

/*
 * Define actions on the run/save/clean buttons
 */
var MooShellActions = new Class({
  Implements: [Options, Events],
  options: {
    // onRun: $empty,
    // onClean: $empty,
    formId: 'show-result',
    saveAndReloadId: 'update',
    saveAsNewId: 'savenew',
    runId: 'run',
    draftId: 'mobile',
    jslintId: 'jslint',
    tidyId: 'tidy',
    showJsId: 'showjscode',
    shareSelector: '#share_link_dropdown, #share_embedded_dropdown, #share_result_dropdown',
    favId: 'mark_favourite',
    entriesSelector: 'textarea',
    resultLabel: 'result_label',
    resultInput: 'select_link',
    collaborateId: 'collaborate',
    sendCallbackId: 'sendCallback',
    example_id: false,
    exampleURL: '',
    exampleSaveURL: '',
    sendCallbackURL: '',
    loadDependenciesURL: '',
    tidy: {
      'javascript': 'js',
      'javascript 1.7': 'js',
      'html': 'html',
      'css': 'css'
    },
    jslint: {
      evil: true,
      passfail: false,
      browser: true,
      newcap: false
    },
    jslintLanguages: ['text/javascript', 'javascript', 'javascript 1.7'],
    showJSLanguages: ['text/coffeescript', 'coffeescript']
  },
  /*
   * Assign actions
   */
  initialize: function(options) {
    this.setOptions(options);
    var addBound = function(el, callback, bind) {
      el = $(el);
      if (el){
        el.addEvent('click', callback.bind(bind));
      }
    };

    Layout.addEvent('ready', function() {
      addBound(this.options.saveAndReloadId, this.saveAndReload, this);
      addBound(this.options.saveAsNewId, this.saveAsNew, this);
      addBound(this.options.sendCallbackId, this.sendCallback, this);
      addBound(this.options.runId, this.run, this);
      addBound(this.options.draftId, this.run, this);
      addBound(this.options.jslintId, this.jsLint, this);
      addBound(this.options.showJsId, this.showJs, this);
      addBound(this.options.tidyId, this.prepareAndLaunchTidy, this);
      addBound(this.options.favId, this.makeFavourite, this);
      addBound(this.options.collaborateId, this.launchCollaboration, this);

      // show key shortcuts
      var keyActions = document.getElements('a.keyActions');
      keyActions.addEvents({
        click: function(event){
          this.showShortcutDialog(event);
        }.bind(this)
      });
      document.id(document.body).addEvents({
        keydown: function(event){
          if (event.shift && event.key === '/'){
            var elType = new Element(event.target);
            if (elType.get('tag') === 'body'){
              keyActions[0].fireEvent('click');
            }
          }
        }
      });

      var share = $$(this.options.shareSelector);
      if (share.length > 0) {
        share.addEvent('click', function() {
          this.select();
        });
      }

      // actions run if shell loaded
      this.form = document.id(this.options.formId);

      if (this.options.exampleURL) {
        //  this.run();
        this.displayExampleURL();
      }
      // assign change language in panel
      $$('.panelChoice').addEvent('change', this.switchLanguageAction.bind(this));
      this.showHideJsLint();
      this.showHideTidyUp();
      this.showHideShowJs();
    }.bind(this));
  },

  switchLanguageAction: function(e) {
    if (!e) return;
    var sel = $(e.target);
    this.switchLanguage(sel);
  },

  /*
   * Change language in panel
   */
  switchLanguage: function(sel) {
    var panel_name = sel.get('data-panel'),
        editorClass = Layout.editors[panel_name],
        // Klass = MooShellEditor[panel_name.toUpperCase()],
        language = sel.getElement('option:selected').get('text'),
        type = sel.getElement('option:selected').get('data-mime-type');

    if (type === 'text/babel'){
      editorClass.editor.setOption('mode', 'text/javascript');
    } else {
      editorClass.editor.setOption('mode', type);
    }
    // editorClass.updateCode();

    // editor.getWindow().getElement('.CodeMirror-wrapping').destroy();
    // Layout.editors[panel_name] = editor = false;
    // new Klass($(sel.get('data-panel_id')), {
    //   language: language.toLowerCase()
    // });

    Layout.editors[panel_name].setLabelName(language);
    window['panel_' + panel_name] = language.toLowerCase();
    this.showHideTidyUp();
    this.showHideJsLint();
    this.showHideShowJs();

    Track.ui('Switch language: ' + language);
  },

  loadAsset: function(check, file, callback, scope) {
    if (!check()) {
      if (scope){
        callback = callback.bind(scope);
      }

      Asset.javascript(file, {
        onload: callback
      });
      return true;
    }
  },

  prepareCoffee: function(callback) {
    return this.loadAsset(function() {
      return $defined(window.CoffeeScript);
    }, '/js/coffeescript/coffeescript.js', callback, this);
  },

  showJs: function(e) {
    if (e) e.stop();
    if (this.prepareCoffee(this.showJs, this)) return;
    var html = '<div class="modalWrap modal_Coffee">' +
      '<div class="modalHeading"><h3>JavaScript Code</h3><span class="close">Close window</span></div>'+
      '<div id="" class="modalBody">',
      jscode, coffeecode;

    if (panel_js != 'coffeescript') return;
    coffeecode = Layout.editors.js.editor.getValue();
    try {
      jscode = CoffeeScript.compile(coffeecode);
      html += '<pre>' + jscode + '</pre>';
    } catch(error) {
      html += '<p class="error">' + error + '</p>';
    }
    html += '</div></div>';
    new StickyWin({
      content: html,
      relativeTo: $(document.body),
      position: 'center',
      edge: 'center',
      closeClassName: 'close',
      draggable: true,
      dragHandleSelector: 'h3',
      closeOnEsc: true,
      destroyOnClose: true,
      allowMultiple: false,
      onDisplay: this.showModalFx
    }).show();

    Track.ui('Show JS');
  },

  prepareTidyUp: function(callback, scope) {
    return this.loadAsset(function() {
      return $defined(window.Beautifier);
    }, '/js/beautifier.js', callback, scope);
  },

  showHideShowJs: function() {
    var show = false,
        showjs = $(this.options.showJsId);

    if (showjs){
      show = (Layout.editors.js.editor.getOption('mode').contains('coffeescript'));
      if (show) {
        showjs.getParent('li').show();
      } else {
        showjs.getParent('li').hide();
      }
    }
  },

  showHideJsLint: function() {

    var hide = true,
        lint = $(this.options.jslintId);

    if (!lint) return;
    Layout.editors.each(function(w){
      if (this.options.jslintLanguages.contains(w.editor.getOption('mode'))) {
        hide = false;
      }
    }, this);
    if (hide) {
      lint.getParent('li').hide();
    } else {
      lint.getParent('li').show();
    }
  },

  showHideTidyUp: function() {
    if (this.prepareTidyUp(this.showHideTidyUp, this)) return;
    var hide = true,
        tidy = $(this.options.tidyId);

    if (!tidy) return;
    Layout.editors.each(function(w){
      language = this.options.tidy[w.options.language];
      if (language && Beautifier[language]) {
        hide = false;
      }
    }, this);
    if (hide) {
      tidy.getParent('li').hide();
    } else {
      tidy.getParent('li').show();
    }
  },

  prepareAndLaunchTidy: function(e) {
    e.stop();
    if (this.prepareTidyUp(this.makeTidy.bind(this))) return;
    this.makeTidy();
  },

  makeTidy: function(){
    Layout.editors.each(function(editorInstance){
      var code = editorInstance.editor.getValue(), language;
      if (code) {
        language = this.options.tidy[editorInstance.options.language];
        if (language && Beautifier[language]) {
          var fixed = Beautifier[language](code);
          if (fixed) editorInstance.editor.setValue(fixed);
          else editorInstance.editor.reindent();
        }
      }
    }, this);
  },

  jsLint: function(e) {
    e.stop();
    if (JSHINT){
      return this.JSLintValidate();
      Track.ui('Validate JavaScript');
    }
    // if (!window.JSLINT) {
    //   // never happens as apparently JSLINT needs to be loaded before MooTools
    //   Asset.javascript('/js/jslint.min.js', {
    //     onload: this.JSLintValidate.bind(this)
    //   });
    // } else {
    //   return this.JSLintValidate();
    // }
  },

  JSLintValidate: function() {
    var editor = Layout.editors.js.editor;
    var html = '<div class="modalWrap modal_jslint">' +
      '<div class="modalHeading"><h3>JSHint {title}</h3><span class="close">Close window</span></div>'+
      '<div class="modalBody">{content}</div></div>';
    var sticky = function(subs){
      return new StickyWin({
        content: html.substitute(subs),
        relativeTo: $(document.body),
        position: 'center',
        edge: 'center',
        closeClassName: 'close',
        draggable: true,
        dragHandleSelector: 'h3',
        closeOnEsc: true,
        destroyOnClose: true,
        allowMultiple: false,
        onDisplay: this.showModalFx
      }).show();
    };

    if (this.options.jslintLanguages.contains(panel_js)){
      var editorValue = editor.getValue();

      // clear all markers from the gutter, we'll highlight errors again in the next step
      for (var line = 0; editor.lineCount() >= line; line++){
        editor.setGutterMarker(line, 'note-gutter', null);
      }

      if (editorValue.trim() === ''){
        sticky.call(this, {
          title: 'Valid!',
          content: '<p>Good work! Your JavaScript code is perfectly valid.</p>'
        });
      } else {
        if (JSHINT(editorValue)){
          sticky.call(this, {
            title: 'Valid!',
            content: '<p>Good work! Your JavaScript code is perfectly valid.</p>'
          });
        } else {
          Array.each(JSHINT.errors, function(error, index){
            errorEl = Element('span', {
              'class': 'CodeMirror-line-error',
              'data-title': error.reason,
              'text': '‚óè'
            });
            editor.setGutterMarker(error.line - 1, 'note-gutter', errorEl);
          }, this);
        }
      }
    } else {
      sticky.call(this, {
        title: 'Sorry No JavaScript!',
        content: '<p>You\'re using ' + panel_js + '</p>'
      });
    }
  },

  // mark shell as favourite
  makeFavourite: function(e) {
    e.stop();
    new Request.JSON({
      'url': makefavouritepath,
      'data': {shell_id: this.options.example_id},
      'onSuccess': function(response) {

        // #TODO: reload page after successful save
        window.location.href = response.url;
        //$('mark_favourite').addClass('isFavourite').getElements('span')[0].set('text', 'Base');
      }
    }).send();
    Track.ui('Mark as favourite');
  },

  launchCollaboration: function(event){
    if (event){
      event.stop();
    }
    TogetherJS(this);
    Track.ui('Launch Collaboration');
  },

  // send Callback (MDN)
  sendCallback: function(e) {
    e.stop();
    console.log('sending callback - ' + this.options.sendCallbackURL);

    // reset change state so the confirmation doesn't appear on saving
    window.editorsModified = false;
    Layout.updateFromMirror();
    $('id_slug').value='';
    $('id_version').value='0';
    new Request.JSON({
      'url': this.options.sendCallbackURL,
      'onSuccess': function() {
          alert('Thank You');
      }
    }).send(this.form);
    console.log('?');

    Track.ui('Send Callback');
  },

  // save and create new pastie
  saveAsNew: function(e) {
    e.stop();

    // reset change state so the confirmation doesn't appear on saving
    window.editorsModified = false;
    Layout.updateFromMirror();
    $('id_slug').value='';
    $('id_version').value='0';
    new Request.JSON({
      'url': this.options.exampleSaveUrl,
      'onSuccess': function(json) {
        Layout.decodeEditors();
        if (!json.error) {

          // reload page after successful save
          window.location = json.pastie_url_relative;
        } else {
          alert('ERROR: ' + json.error);
        }
      }
    }).send(this.form);

    Track.ui('Save as new fiddle');
  },

  // update existing (create shell with new version)
  saveAndReload: function(e) {
    if (e) e.stop();

    // reset change state so the confirmation doesn't appear on updating
    window.editorsModified = false;
    Layout.updateFromMirror();
    new Request.JSON({
      'url': this.options.exampleSaveUrl,
      'onSuccess': function(json) {

        // reload page after successful save
        Layout.decodeEditors();
        window.location = json.pastie_url_relative;
      }
    }).send(this.form);

    Track.ui('Update fiddle');
  },

  // run - submit the form (targets to the iframe)
  run: function(e) {
    var draftonly = false;
    if (e) e.stop();
    if (e && ($(e.target).getParent().get('id') === 'mobile' || $(e.target).get('id') === 'mobile')) {
      draftonly = new Element('input', {
        'hidden': true,
        'name': 'draftonly',
        'id': 'draftonly',
        'value': true
      });
      draftonly.inject(this.form);
    }
    Layout.updateFromMirror();
    this.form.submit();
    if (draftonly) {
      draftonly.destroy();
    }
    this.fireEvent('run');

    Track.ui('Run fiddle');
  },

  loadDraft: function(e) {
    if (e) e.stop();
    if (username) {
      window.open('/draft/', 'jsfiddle_draft');
    } else {
      window.location = '/user/login/';
    }

    Track.ui('Load draft');
  },

  // This is a method to be called by keyboard shortcut
  toggleSidebar: function(e) {
     if (e) e.stop();
     Layout.sidebar.toggle();

     Track.ui('Toggle sidebar');
  },

  showShortcutDialog: function(e) {
    if (e) e.stop();
    var html = '<div class="modalWrap modal_kbd">' +
                '<div class="modalHeading"><h3>Keyboard shortcuts</h3><span class="close">Close window</span></div>'+
                '<div id="kbd" class="modalBody">' +
                '<ul>' +
                '<li><kbd>CTRL</kbd> + <kbd>Return</kbd> <span>Run fiddle</span></li>' +
                '<li><kbd>CTRL</kbd> + <kbd>S</kbd> <span>Save fiddle (Save or Update)</span></li>' +
                '<li><kbd>CTRL</kbd> + <kbd>Shift</kbd> + <kbd>Return</kbd> <span>Load draft</span></li>' +
                // '<li><kbd>Control</kbd> + <kbd>&uarr;</kbd> or <kbd>Control</kbd> + <kbd>&darr;</kbd> <span>Switch editor windows</span></li>' +
                '<li><kbd>CTRL</kbd> + <kbd>Shift</kbd> + <kbd>&uarr;</kbd> <span>Toggle sidebar</span></li>' +
                // '<li><kbd>CTRL</kbd> + <kbd>Y</kbd> <span>Launch Collaboration (using TogetherJS)</span></li>' +
                '</ul>' +
                '</div></div>';

    new StickyWin({
      content: html,
      relativeTo: $(document.body),
      position: 'center',
      edge: 'center',
      closeClassName: 'close',
      draggable: true,
      dragHandleSelector: 'h3',
      closeOnEsc: true,
      destroyOnClose: true,
      allowMultiple: false,
      onDisplay: this.showModalFx
    }).show();

    Track.ui('Show shortcuts modal');
  },

  showModalFx: function(){
      $$('.modalWrap')[0].addClass('show');
  },

  switchTo: function(index) {
    Layout.current_editor = Layout.editors_order[index];
    Layout.editors[Layout.current_editor].editor.focus();
  },

  switchNext: function() {
    // find current and switch to the next
    var index = Layout.editors_order.indexOf(Layout.current_editor);
    var nextindex = (index + 1) % 3;
    this.switchTo(nextindex);
  },

  switchPrev: function() {
    // find current and switch to previous
    var index = Layout.editors_order.indexOf(Layout.current_editor);
    var nextindex = (index - 1) % 3;
    if (nextindex < 0) nextindex = 2;
    this.switchTo(nextindex);
  },

  // rename iframe label to present the current URL
  displayExampleURL: function() {
    var resultInput = document.id(this.options.resultInput);
    if (resultInput) {
      if (Browser.Engine.gecko) {
        resultInput.setStyle('padding-top', '4px');
      }
      // resultInput.select();
    }
  },

  loadLibraryVersions: function(group_id) {
    if (group_id) {
      new Request.JSON({
        url: this.options.loadLibraryVersionsURL.substitute({group_id: group_id}),
        onSuccess: function(response) {
          $('js_lib').empty();
          $('js_dependency').empty();
          response.libraries.each( function(lib) {
            new Element('option', {
              value: lib.id,
              text: "{group_name} {version}".substitute(lib)
            }).inject($('js_lib'));
            if (lib.selected) $('js_lib').set('value',lib.id);
          });
          response.dependencies.each(function (dep) {
            new Element('li', {
              html: [
                "<input id='dep_{id}' type='checkbox' name='js_dependency[{id}]' value='{id}'/>",
                "<label for='dep_{id}'>{name}</label>"
                ].join('').substitute(dep)
            }).inject($('js_dependency'));
            if (dep.selected) $('dep_'+dep.id).set('checked', true);
          });
        }
      }).send();
    } else {
      // XXX: would be good to send an error somehow
    }
  },

  loadDependencies: function(lib_id) {
    if (lib_id) {
      new Request.JSON({
        url: this.options.loadDependenciesURL.substitute({lib_id: lib_id}),
        method: 'get',
        onSuccess: function(response) {
          $('js_dependency').empty();
          response.each(function (dep) {
            new Element('li', {
              html: [
                "<input id='dep_{id}' type='checkbox' name='js_dependency[{id}]' value='{id}'/>",
                "<label for='dep_{id}'>{name}</label>"
                ].join('').substitute(dep)
            }).inject($('js_dependency'));
            if (dep.selected) $('dep_'+dep.id).set('checked', true);
          });
        }
      }).send();
    } else {
      // XXX: would be good to send an error somehow
    }
  }
});

/**
*
*  Base64 encode / decode
*  http://www.webtoolkit.info/
*
**/

var Base64 = {

  // private property
  _keyStr : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",

  // public method for encoding
  encode : function (input) {
    var output = "";
    input = input || "";
    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
    var i = 0;

    input = Base64._utf8_encode(input);

    while (i < input.length) {

      chr1 = input.charCodeAt(i++);
      chr2 = input.charCodeAt(i++);
      chr3 = input.charCodeAt(i++);

      enc1 = chr1 >> 2;
      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
      enc4 = chr3 & 63;

      if (isNaN(chr2)) {
        enc3 = enc4 = 64;
      } else if (isNaN(chr3)) {
        enc4 = 64;
      }

      output = output +
      this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +
      this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);

    }

    return output;
  },

  // public method for decoding
  decode : function (input) {
    var output = "";
    var chr1, chr2, chr3;
    var enc1, enc2, enc3, enc4;
    var i = 0;

    input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");

    while (i < input.length) {

      enc1 = this._keyStr.indexOf(input.charAt(i++));
      enc2 = this._keyStr.indexOf(input.charAt(i++));
      enc3 = this._keyStr.indexOf(input.charAt(i++));
      enc4 = this._keyStr.indexOf(input.charAt(i++));

      chr1 = (enc1 << 2) | (enc2 >> 4);
      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
      chr3 = ((enc3 & 3) << 6) | enc4;

      output = output + String.fromCharCode(chr1);

      if (enc3 != 64) {
        output = output + String.fromCharCode(chr2);
      }
      if (enc4 != 64) {
        output = output + String.fromCharCode(chr3);
      }

    }

    output = Base64._utf8_decode(output);

    return output;

  },

  // private method for UTF-8 encoding
  _utf8_encode : function (string) {
    var utftext = "";
    string = string.replace(/\r\n/g,"\n");

    for (var n = 0; n < string.length; n++) {

      var c = string.charCodeAt(n);

      if (c < 128) {
        utftext += String.fromCharCode(c);
      }
      else if((c > 127) && (c < 2048)) {
        utftext += String.fromCharCode((c >> 6) | 192);
        utftext += String.fromCharCode((c & 63) | 128);
      }
      else {
        utftext += String.fromCharCode((c >> 12) | 224);
        utftext += String.fromCharCode(((c >> 6) & 63) | 128);
        utftext += String.fromCharCode((c & 63) | 128);
      }

    }
    return utftext;
  },

  // private method for UTF-8 decoding
  _utf8_decode : function (utftext) {
    var string = "";
    var i = 0;
    var c = c1 = c2 = 0;

    while ( i < utftext.length ) {

      c = utftext.charCodeAt(i);

      if (c < 128) {
        string += String.fromCharCode(c);
        i++;
      }
      else if((c > 191) && (c < 224)) {
        c2 = utftext.charCodeAt(i+1);
        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
        i += 2;
      }
      else {
        c2 = utftext.charCodeAt(i+1);
        c3 = utftext.charCodeAt(i+2);
        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
        i += 3;
      }

    }

    return string;
  }

};

var Dropdown = new Class({

  initialize: function(){
    this.dropdown = {
      cont: document.getElements('.dropdownCont'),
      trigger: document.getElements('.dropdown a.dropdownTrigger')
    };

    this.setDefaults();
  },

  setDefaults: function(){
    this.dropdown.cont.fade('hide');
    this.dropdown.cont.set('tween', {
      duration: 200
    });

    this.dropdown.trigger.each(function(trigger){
      trigger.addEvents({
        click: this.toggle.bindWithEvent(trigger, this)
      });
    }, this);

    $(document.body).addEvents({
      click: function(e){
        if (!$(e.target).getParent('.dropdownCont')){
          this.hide();
          // this.dropdown.trigger.getElement('span').removeClass('selected')
        }
      }.bind(this)
    });
  },

  toggle: function(event, parent){
    var trigger = Element(event.target);
    event.stop();
    parent.dropdown.cont.fade('out');
    // trigger.removeClass('selected')

    if (this.getNext('.dropdownCont').getStyles('opacity')['opacity'] === 0){
      this.getNext('.dropdownCont').fade('in');
      // trigger.addClass('selected');
    }
  },

  hide: function(){
    this.dropdown.cont.fade('out');
  }
});

// mootools events don't work with beforeunload for some reason
window.onbeforeunload = function(){
  if (window.editorsModified){
    return "You've modified your fiddle, reloading the page will reset all changes.";
  }
};
‘	ìîïñ_application/javascript_2http://jsfiddle.net/js/Resources.js?update10082015Owbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_2http://jsfiddle.net/js/Resources.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÃ_µ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Tue, 17 Feb 2015 11:08:28 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"54e3212c-1042"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/B_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „(17:CLNPW_juwy{}ÅÉÖáâîñòöúû†¢§¶®™µ¬…◊ﬂ‰È¸
)BHhàúº¡”‹·ÓÒÙ&*>L^aw             o              yOB// @TODO: refactor all of this, this can be simplified by half

var update_resource_input = function(value) {
	if (value) {
		if (resources.contains(value)) {
			return false;
		}
		resources.push(value);
	}
	$('external_resources_id').set('value', resources.join(','));
	return true;
};

var remove_resource = function(value) {
	if (resources.contains(value)) {
		resources.erase(value);
	}
	update_resource_input();

	this.external_resource_el = $('external_resource_'+value);
	new Fx.Reveal(this.external_resource_el, {
		onComplete: function(){
			this.destroy();
		}.bind(this.external_resource_el)
	}).dissolve();

};

var validateGithub = function(){
	return !this.get('value').contains('raw.github');
};

var validateSSL = function(){
	return !this.get('value').contains('http://');
};

var prepareToSubmit = function(e){
	if (e){
		e.stop();
	}

	var externalResources = $('external_resource');

	if (validateGithub.call(externalResources)){
		submit_external_resource.call(this);
	} else {
		if (confirm('Github is not a CDN, using it as such will cause issues with loading the file. Do you still wish to it?')){
			submit_external_resource.call(this);
		}
	}

	if (!validateSSL.call(externalResources)){
		var message = document.location.protocol === "https:" ?
																										 "You're loading resources over HTTP not HTTPS, your fiddle will not work. Do you wish to continue?" :
																										 "You should be loading resources over HTTPS not HTTP, are you sure you want to continue?";

		if (confirm(message)){
			submit_external_resource.call(this);
		}
	}
};

var submit_external_resource = function() {

	// save url, after success update current list of resources and clean up the input
	var url = $('external_resource').value;
	if (url && url != $('external_resource').retrieve('default_value') && $('external_resource').value.length > 7) {
		new Request.JSON({
			url: add_external_resource_url,
			method: 'post',
			data: {url: url},
			onSuccess: function(response) {
				// push resource id to the list
				if (update_resource_input(response.id)) {
					// create external resource DOM element
					var li = new Element('li', {
						'id': 'external_resource_' + response.id
					}).inject($('external_resources_list'));
					new Element('a', {
						'text': response.filename,
						'title': response.url,
						'class': 'filename',
						'href': response.url,
						'target': '_blank'
					}).inject(li);

					new Element('a', {
						'text': 'Remove',
						'rel': response.id,
						'class': 'remove',
						'events': {
							'click': function(e) {
								e.stop();
								remove_resource(this.get('rel').toInt());
							}
						}
					}).inject(li);
				} else {
					// this resource was already included in the list
				}
				var inp = $('external_resource');
				inp.value = '';
				inp.removeClass('warning');
				// if (e && e.target.get('tag') != 'input') {
					// set_default_input_value.bind($('external_resource'))();
				// }
			}
		}).send();
	}
};

var change_default_input_value = function(show) {
	// set or remove the default value from input
	if (show && !this.value) {
		this.set('value', this.retrieve('default_value'));
		this.addClass('default');
	} else if (!show && this.value == this.retrieve('default_value')) {
		this.set('value', '');
		this.removeClass('default');
	}
};

var warn = function(){
	if (!validateGithub.call(this)){
		this.addClass('warning');
	} else if (!validateSSL.call(this)){
		this.addClass('warning');
	} else {
		this.removeClass('warning');
	}
};

window.addEvent('domready', function() {
	var addExtenrnalResource = document.id('add_external_resource');
	var inp = $('external_resource');
	inp.store('default_value', default_text);
	update_resource_input();
	inp.addEvents({
		change: warn,
		keydown: function(e){
			if (e.key === 'enter') {
				this.fireEvent('submit', e);
			}
		},
		keyup: warn,
		submit: prepareToSubmit
	});
	addExtenrnalResource.addEvent('click', prepareToSubmit);
  if (preload_resources) {
    preload_resources.each(function(res){
      $('external_resource').set('value',res);
      submit_external_resource();
    })
  }
});
‘	òôöõ_application/javascript_1http://jsfiddle.net/js/EditorCM.js?update10082015Ovbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_1http://jsfiddle.net/js/EditorCM.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÃ7´⁄ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Tue, 11 Aug 2015 17:05:53 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"55ca2b71-2451"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/$Q_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „'069BKMOV^itvxz|~ÄÇÑÜàìïóôõùü°£•ß©¥¡»÷ﬁ„Ë˚	(AGgáõª¿“€‡ÌÛ%)=K]`v             o              xO$Q/*
 Class: MooshellEditor
 Editor using CodeMirror
 http://codemirror.net
 */
var disallowedPlatforms = ['ios', 'android', 'ipod'];
var default_code_mirror_options = {
  gutters: ["note-gutter", "CodeMirror-linenumbers"],
  tabSize: 4,
  indentUnit: 4,
  matchBrackets: true,
  lineNumbers: true,
  lineWrapping: true,
  hint: {
    javascript: true
  },
  tabMode: 'spaces' // or 'shift'
};

var MooShellEditor = new Class({
  Implements: [Options, Events],

  parameter: 'Editor',

  options: {
    useCodeMirror: true,
    codeMirrorOptions: default_code_mirror_options,
    syntaxHighlighting: []
  },

  window_names: {
    'javascript': 'JavaScript',
    'html': 'HTML',
    'css': 'CSS',
    'scss': 'SCSS',
    'coffeescript': 'CoffeeScript',
    'javascript 1.7': 'JavaScript 1.7'
  },

  initialize: function(el, options) {
    this.validationTooltip;

    // switch off CodeMirror for IE
    //if (Browser.Engine.trident) options.useCodeMirror = false;
    this.element = $(el);
    if (!this.options.syntaxHighlighting.contains(options.language)) {
      this.forceDefaultCodeMirrorOptions();
    }
    this.setOptions(options);
    var is_disallowed = (disallowedPlatforms.contains(Browser.Platform.name));
    if (this.options.useCodeMirror && !is_disallowed) {
      // hide textarea
      this.element.hide();
      // prepare settings
      if (!this.options.codeMirrorOptions.stylesheet && this.options.stylesheet) {
        this.options.codeMirrorOptions.stylesheet = this.options.stylesheet.map(function(path) {
          return mediapath + path;
        });
      }
      if (!this.options.codeMirrorOptions.path) {
        this.options.codeMirrorOptions.path = codemirrorpath + 'js/';
      }
      if (!this.options.codeMirrorOptions.content) {
        this.options.codeMirrorOptions.content = this.element.get('value');
      }

      var parentNode = this.element.getParent();
      var options = { value: this.element.value };
      options = Object.append(options, this.options.codeMirrorOptions);
      this.editor = CodeMirror(parentNode, options);

      emmetCodeMirror(this.editor);

      // run this after initialization
      if (!this.options.codeMirrorOptions.initCallback){
        if (this.options.codeMirrorOptions.autofocus) {
          // set current editor
          Layout.current_editor = this.options.name;
        }
      }

      // set editor options that can only be set once the editor is initialized
      var cur = this.editor.getLineHandle(this.editor.getCursor().line);
      this.setEditorEvents({
        focus: function(){
          Layout.current_editor = this.options.name;
          // this.editor.removeLineClass(cur, 'background', 'activeline');
          // this.editor.hlLine = this.editor.addLineClass(0, "background", "activeline");
        },
        cursorActivity: function(){
          // var cur = this.editor.getLineHandle(this.editor.getCursor().line);
          // if (cur != this.editor.hlLine) {
          //   this.editor.removeLineClass(this.editor.hlLine, 'background', 'activeline');
          //   this.editor.hlLine = this.editor.addLineClass(cur, 'background', 'activeline');
          // }
        },
        blur: function(){
          // this.editor.removeLineClass(this.editor.hlLine, 'background', 'activeline');
        },
        change: function(){
          this.validateEditorInput.call(this, parentNode);
          window.editorsModified = true;
        }.bind(this)
      });

      // disable new line insertion when saving fiddle
      CodeMirror.keyMap.default['Ctrl-Enter'] = function(){
        return false;
      };

      // don't let Emmet capture this
      delete CodeMirror.keyMap.default['Cmd-L'];
    }

    this.editorLabelFX = new Fx.Tween(this.getLabel(), {
      property: 'opacity',
      link: 'cancel'
    });

    this.getWindow().addEvents({
      mouseenter: function() {
        this.editorLabelFX.start(0);
      }.bind(this),
      mouseleave: function() {
        this.editorLabelFX.start(0.8);
      }.bind(this)
    });

    mooshell.addEvents({
      'run': this.b64decode.bind(this)
    });

    Layout.registerEditor(this);
    this.setLabelName(this.options.language || this.options.name);
  },

  validateEditorInput: function(parentNode){
    var currentValue = this.getCode();
    var warnings = [];

    // destroy tooltip if it already exists for this editor
    if (this.validationTooltip){
      this.validationTooltip.destroy();
    }

    // create the container
    this.validationTooltip = Element('ul', {
      'class': 'warningTooltip'
    });

    // collect warnings
    Object.each(this.options.disallowed, function(value, key){
      if (currentValue.test(key, 'i')){
        warnings.push('<li>' + value + '</li>');
      }
    });

    // inject container
    this.validationTooltip = this.validationTooltip.inject(parentNode);

    // squash and apply warnings
    this.validationTooltip.set({
      html: warnings.join('')
    });
  },

  getEditor: function() {
    return this.editor || this.element;
  },

  getWindow: function() {
    if (!this.window) {
      this.window = this.element.getParent('.window');
    }
    return this.window;
  },

  getLabel: function() {
    return this.getWindow().getElement('.window_label');
  },

  b64decode: function() {
    this.element.set('value', this.before_decode);
  },

  getCode: function() {
    return (this.editor) ? this.editor.getValue() : this.element.get('value');
  },

  updateFromMirror: function() {
    this.before_decode = this.getCode();
    this.element.set('value', Base64.encode(this.before_decode));
  },

  updateCode: function() {
    this.element.set('value', this.getCode());
  },

  clean: function() {
    this.element.set('value', '');
    this.cleanEditor();
  },

  cleanEditor: function() {
    if (this.editor) this.editor.setCode('');
  },

  hide: function() {
    this.getWindow().hide();
  },

  show: function() {
    this.getWindow().show();
  },

  setEditorOptions: function(options){
    Object.each(options, function(fn, key){
      this.editor.setOption(key, fn.bind(this));
    }, this);
  },

  setEditorEvents: function(e){
    Object.each(e, function(fn, key){
      this.editor.on(key, fn.bind(this));
    }, this);
  },

  setLanguage: function(language) {
    // Todo: This is hacky
    this.setLabelName(language);
  },

  setLabelName: function(language) {
    this.getLabel().set('text', this.window_names[language] || language);
  },

  setStyle: function(key, value) {
    if (this.editor) return $(this.editor.frame).setStyle(key, value);
    return this.element.setStyle(key, value);
  },

  setStyles: function(options) {
    if (this.editor) return $(this.editor.frame).setStyles(options);
    return this.element.setStyles(options);
  },

  setWidth: function(width) {
    this.getWindow().setStyle('width', width);
  },

  setHeight: function(height) {
    this.getWindow().setStyle('height', height);
  },

  getPosition: function() {
    if (this.editor) return $(this.editor.frame).getPosition();
    return this.element.getPosition();
  },

  forceDefaultCodeMirrorOptions: function() {
    this.options.codeMirrorOptions = default_code_mirror_options;
  }
});


/*
 * JS specific settings
 */
MooShellEditor.JS = new Class({
  Extends: MooShellEditor,

  options: {
    name: 'js',
    language: 'javascript',
    useCodeMirror: true,
    codeMirrorOptions: {
      autofocus: true,
      mode: 'javascript'
    },
    syntaxHighlighting: ['javascript', 'javascript 1.7'],
    disallowed: {
      '<script': "Input plain JavaScript code, no HTML.",
      'document.write': "<code>document.write</code> is disallowed in JSFiddle envioriment and might break your fiddle."
    }
  },

  initialize: function(el, options) {
    this.setOptions(options);
    this.parent(el, this.options);
  }
});

/*
 * CSS specific settings
 */
MooShellEditor.CSS = new Class({
  Extends: MooShellEditor,

  options: {
    name: 'css',
    language: 'css',
    useCodeMirror: true,
    codeMirrorOptions: {
      mode: 'css'
    },
    syntaxHighlighting: ['css', 'scss']
  },

  initialize: function(el, options) {
    this.setOptions(options);
    this.parent(el, this.options);
  }
});

/*
 * HTML specific settings
 */
MooShellEditor.HTML = new Class({
  Extends: MooShellEditor,

  options: {
    name: 'html',
    language: 'html',
    useCodeMirror: true,
    codeMirrorOptions: {
      mode: 'xml'
    },
    syntaxHighlighting: ['html'],
    disallowed: {
      '<html': "No need for the <code>HTML</code> tag, it's already in the output.",
      '<meta': "No need for the <code>META</code> tags.",
      '<head*.?>': "No need for the <code>HEAD</code> tag, it's already in the output.",
      '<doctype': "Select <code>DOCTYPE</code> from the <strong>Info</strong> panel on the left, instead of adding a tag.",
      '<script/?.*text\/javascript': "For JavaScript use the panel below or the <strong>Resources</strong> panel for external files.",
      '<link/?.*rel/?.*stylesheet': "For external CSS files use the <strong>Resources</strong> panel on the left.",
      '<style': "For CSS use the panel on the right.",
    }
  },

  initialize: function(el, options) {
    this.setOptions(options);
    this.parent(el, this.options);
  }
});
‘	ùûü†_application/javascript_1http://jsfiddle.net/js/Settings.js?update10082015Oubplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_1http://jsfiddle.net/js/Settings.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÃdà »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Sat, 16 Feb 2013 23:23:58 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"5120150e-367"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/g_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „'069BKMOV^itvxz|~ÄÇÑÜàìïóôõùü°£•ß©¥¡»÷ﬁ„Ë˚	(AGgáö∫ø—⁄ﬂÏÔÚ$(<J\_u             o              wOg/*
 * Settings loader
 */

var MooShellSettings = new Class({
	Implements: [Options],
	options: {
		library_id: 'js_library',
		dependency_id: 'js_dependency'
	},
	initialize: function(options){
		this.setOptions(options);
		this.libEl = $(this.options.library_id);
		this.depEl = $(this.options.dependency_id);
		this.libEl.addEvent('change', function() {
			this.changeDeps();
		}.bind(this));
		this.changeDeps();
	},
	changeDeps: function() {
		new Request.JSON({
			url: get_dependencies_url.substitute({
				"lib_id": this.libEl.value
			}), 
			onSuccess: function(result) {
				this.depEl.empty();
				result.each( function(dep) {
					new Element('li', {
						'html': "<input type='checkbox' id='dep_{id}' name='dep_{id}'/><label for='dep_{id}'>{name}</label>".substitute(dep)
					}).inject(this.depEl, 'top');
				}, this);
			}.bind(this)
		}).send();
	}
});‘	¢£§•_application/javascript_3http://jsfiddle.net/js/heyoffline.js?update10082015Oxbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_3http://jsfiddle.net/js/heyoffline.js?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÃa6ì »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Sat, 16 Feb 2013 23:23:58 GMT_Wed, 16 Sep 2015 05:40:28 GMT_W/"5120150e-1a0a"_Wed, 26 Aug 2015 05:40:28 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/
_application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „)28;DMOQX`kvxz|~ÄÇÑÜàäïóôõùü°£•ß©´∂√ ÿ‡ÂÍ˝*CIiâùΩ¬‘›‚ÔÚı'+?M_bx             o              zO
// Generated by CoffeeScript 1.4.0
(function() {
  var Heyoffline, addEvent, destroy, extend, setStyles,
    __slice = [].slice,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  extend = function() {
    var ext, extensions, key, obj, value, _i, _len;
    obj = arguments[0], extensions = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
    for (_i = 0, _len = extensions.length; _i < _len; _i++) {
      ext = extensions[_i];
      for (key in ext) {
        value = ext[key];
        obj[key] = value;
      }
    }
    return obj;
  };

  addEvent = function(element, event, fn, useCapture) {
    if (useCapture == null) {
      useCapture = false;
    }
    return element.addEventListener(event, fn, useCapture);
  };

  setStyles = function(element, styles) {
    var key, value, _results;
    _results = [];
    for (key in styles) {
      value = styles[key];
      _results.push(element.style[key] = !isNaN(value) ? "" + value + "px" : value);
    }
    return _results;
  };

  destroy = function(element) {
    return element.parentNode.removeChild(element);
  };

  Heyoffline = (function() {

    Heyoffline.prototype.options = {
      text: {
        title: "You're currently offline",
        content: "Seems like you've gone offline,                you might want to wait until your network comes back before continuing.<br /><br />                This message will self-destruct once you're online again.",
        button: "Relax, I know what I'm doing"
      },
      monitorFields: false,
      prefix: 'heyoffline',
      noStyles: false,
      disableDismiss: false,
      elements: ['input', 'select', 'textarea', '*[contenteditable]']
    };

    Heyoffline.prototype.modified = false;

    function Heyoffline(options) {
      this.hideMessage = __bind(this.hideMessage, this);

      this.offline = __bind(this.offline, this);

      this.online = __bind(this.online, this);
      extend(this.options, options);
      this.setup();
    }

    Heyoffline.prototype.setup = function() {
      this.events = {
        element: ['keyup', 'change'],
        network: ['online', 'offline']
      };
      this.elements = {
        fields: document.querySelectorAll(this.options.elements.join(',')),
        overlay: document.createElement('div'),
        modal: document.createElement('div'),
        heading: document.createElement('h2'),
        content: document.createElement('p'),
        button: document.createElement('a')
      };
      this.defaultStyles = {
        overlay: {
          position: 'absolute',
          top: 0,
          left: 0,
          width: '100%',
          background: 'rgba(0, 0, 0, 0.3)'
        },
        modal: {
          padding: 15,
          background: '#fff',
          boxShadow: '0 2px 30px rgba(0, 0, 0, 0.3)',
          width: 450,
          margin: '0 auto',
          position: 'relative',
          top: '30%',
          color: '#444',
          borderRadius: 2,
        },
        heading: {
          fontSize: '1.7em',
          paddingBottom: 15
        },
        content: {
          paddingBottom: 15
        },
        button: {
          fontWeight: 'bold',
          cursor: 'pointer'
        }
      };
      return this.attachEvents();
    };

    Heyoffline.prototype.createElements = function() {
      this.createElement(document.body, 'overlay');
      this.resizeOverlay();
      this.createElement(this.elements.overlay, 'modal');
      this.createElement(this.elements.modal, 'heading', this.options.text.title);
      this.createElement(this.elements.modal, 'content', this.options.text.content);
      if (!this.options.disableDismiss) {
        this.createElement(this.elements.modal, 'button', this.options.text.button);
        return addEvent(this.elements.button, 'click', this.hideMessage);
      }
    };

    Heyoffline.prototype.createElement = function(context, element, text) {
      this.elements[element].setAttribute('class', "" + this.options.prefix + "_" + element);
      this.elements[element] = context.appendChild(this.elements[element]);
      if (text) {
        this.elements[element].innerHTML = text;
      }
      if (!this.options.noStyles) {
        return setStyles(this.elements[element], this.defaultStyles[element]);
      }
    };

    Heyoffline.prototype.resizeOverlay = function() {
      return setStyles(this.elements.overlay, {
        height: window.innerHeight
      });
    };

    Heyoffline.prototype.destroyElements = function() {
      if (this.elements.overlay) {
        return destroy(this.elements.overlay);
      }
    };

    Heyoffline.prototype.attachEvents = function() {
      var event, field, _i, _j, _len, _len1, _ref, _ref1,
        _this = this;
      _ref = this.elements.fields;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        field = _ref[_i];
        this.elementEvents(field);
      }
      _ref1 = this.events.network;
      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
        event = _ref1[_j];
        this.networkEvents(event);
      }
      return addEvent(window, 'resize', function() {
        return _this.resizeOverlay();
      });
    };

    Heyoffline.prototype.elementEvents = function(field) {
      var event, _i, _len, _ref, _results,
        _this = this;
      _ref = this.events.element;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        event = _ref[_i];
        _results.push((function(event) {
          return addEvent(field, event, function() {
            return _this.modified = true;
          });
        })(event));
      }
      return _results;
    };

    Heyoffline.prototype.networkEvents = function(event) {
      return addEvent(window, event, this[event]);
    };

    Heyoffline.prototype.online = function() {
      return this.hideMessage();
    };

    Heyoffline.prototype.offline = function() {
      if (this.options.monitorFields) {
        if (this.modified) {
          return this.showMessage();
        }
      } else {
        return this.showMessage();
      }
    };

    Heyoffline.prototype.showMessage = function() {
      this.createElements();
      if (this.options.onOnline) {
        return this.options.onOnline.call(this);
      }
    };

    Heyoffline.prototype.hideMessage = function(event) {
      if (event) {
        event.preventDefault();
      }
      this.destroyElements();
      if (this.options.onOffline) {
        return this.options.onOffline.call(this);
      }
    };

    return Heyoffline;

  })();

  addEvent(window, 'load', function() {
    return window.Heyoffline = new Heyoffline;
  });

}).call(this);
‘	)ß®©_4http://jsfiddle.net/css/normalize.css?update10082015OLbplist00‘jkX$versionX$objectsY$archiverT$top Ü†Ø #)*0123MNOPQRSTUVWXYZ[\]^_`adeU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_4http://jsfiddle.net/css/normalize.css?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀ{[ »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-aliveXtext/cssUnginx_Sun, 30 Nov 2014 08:26:14 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"547ad4a6-25a"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/Z“+,fg_NSHTTPURLResponse£hi/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—lm_WebResourceResponseÄ    # - 2 7 Z ` { ~ Ç Ö à ã è í ô ú ü ¢ • ® ™ ¨ Æ ∞ ≤ ≥ µ ∑ π ª Ω ø ¡ » – ‹ ﬁ ‡ ‚)28;DMOQX`kvxz|~ÄÇÑÜàäïóôõùü°£•ß©´∂√ ÿ‡ÂÍ˝*39Yyå¨±√Ã—ﬁ·‰È˝#58N             n              POZ*, body, button, input, textarea, select {
  /*text-rendering: optimizeLegibility;*/
  font-size:100%;
}

body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td { 
  margin:0;
  padding:0;
}
table {
  border-collapse:collapse;
  border-spacing:0;
}
fieldset,img { 
  border:0;
}
address,caption,cite,code,dfn,em,strong,th,var {
  font-style:normal;
  font-weight:normal;
}
ol,ul {
  list-style:none;
}
caption,th {
  text-align:left;
}
h1,h2,h3,h4,h5,h6 {
  font-size:100%;
  font-weight:normal;
}
q:before,q:after {
  content:'';
}
abbr,acronym { border:0;}

‘	)´¨≠_1http://jsfiddle.net/css/tricks.css?update10082015OGbplist00‘jkX$versionX$objectsY$archiverT$top Ü†Ø #)*0123MNOPQRSTUVWXYZ[\]^_`adeU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_1http://jsfiddle.net/css/tricks.css?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀŒ- »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-aliveXtext/cssUnginx_Sat, 16 Feb 2013 23:23:58 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"5120150e-ea"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/Í“+,fg_NSHTTPURLResponse£hi/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—lm_WebResourceResponseÄ    # - 2 7 Z ` { ~ Ç Ö à ã è í ô ú ü ¢ • ® ™ ¨ Æ ∞ ≤ ≥ µ ∑ π ª Ω ø ¡ » – ‹ ﬁ ‡ ‚&/58AJLNU]hsuwy{}ÅÉÖáíîñòöúû†¢§¶®≥¿«’›‚Á˙'06Vvà®≠ø»Õ⁄›ﬂ‰¯¸03I             n              KOÍ/* ----------------------------- CLEARFIX ----------------------------------- */

.clearfix:after {
	content: ".";
	display: block;
	height: 0;
	clear: both;
	visibility: hidden;
}

.clearfix {display: inline-block;}  /* for IE/Mac */‘	)Ø∞±_:http://jsfiddle.net/css/elusive-webfont.css?update10082015OSbplist00‘jkX$versionX$objectsY$archiverT$top Ü†Ø #)*0123MNOPQRSTUVWXYZ[\]^_`adeU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_:http://jsfiddle.net/css/elusive-webfont.css?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀ§# »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-aliveXtext/cssUnginx_Wed, 05 Jun 2013 09:46:47 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"51af0907-496d"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/Im“+,fg_NSHTTPURLResponse£hi/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—lm_WebResourceResponseÄ    # - 2 7 Z ` { ~ Ç Ö à ã è í ô ú ü ¢ • ® ™ ¨ Æ ∞ ≤ ≥ µ ∑ π ª Ω ø ¡ » – ‹ ﬁ ‡ ‚$/8>AJSUW^fq|~ÄÇÑÜàäåéêõùü°£•ß©´≠Ø±º…–ﬁÊÎ%09?_ì≥∏ ”ÿÂËÎ*<?U             n              WOIm@font-face {
  font-family: 'Elusive-Icons';
  src:url('../font/Elusive-Icons.eot');
  src:url('../font/Elusive-Icons.eot?#iefix') format('embedded-opentype'),
    url('../font/Elusive-Icons.svg#Elusive-Icons') format('svg'),
    url('../font/Elusive-Icons.woff') format('woff'),
    url('../font/Elusive-Icons.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

/* Use the following CSS code if you want to use data attributes for inserting your icons */
[data-icon]:before {
  font-family: 'Elusive-Icons';
  content: attr(data-icon);
  speak: none;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
}

/* Use the following CSS code if you want to have a class per icon */
/*
Instead of a list of all class selectors,
you can use the generic selector below, but it's slower:
[class*="icon-"] {
*/
.icon-move, .icon-music, .icon-network, .icon-off, .icon-ok, .icon-ok-circle, .icon-ok-sign, .icon-paper-clip, .icon-paper-clip-alt, .icon-path, .icon-plus-sign, .icon-print, .icon-qrcode, .icon-question, .icon-question-sign, .icon-quotes, .icon-quotes-alt, .icon-random, .icon-record, .icon-reddit, .icon-refresh, .icon-screenshot, .icon-search, .icon-search-alt, .icon-share, .icon-share-alt, .icon-shopping-cart, .icon-shopping-cart-sign, .icon-signal, .icon-skype, .icon-slideshare, .icon-smiley, .icon-th-large, .icon-th-list, .icon-thumbs-down, .icon-thumbs-up, .icon-time, .icon-time-alt, .icon-tint, .icon-torso, .icon-trash, .icon-trash-alt, .icon-tumblr, .icon-w3c, .icon-warning-sign, .icon-website, .icon-website-alt, .icon-wheelchair, .icon-wordpress, .icon-wrench, .icon-wrench-alt, .icon-youtube, .icon-zoom-in, .icon-zoom-out, .icon-pause-alt, .icon-pencil, .icon-pencil-alt, .icon-person, .icon-phone, .icon-phone-alt, .icon-photo, .icon-photo-alt, .icon-picasa, .icon-picture, .icon-pinterest, .icon-plane, .icon-play-alt, .icon-play-circle, .icon-plus, .icon-remove, .icon-remove-circle, .icon-remove-sign, .icon-repeat, .icon-repeat-alt, .icon-resize-full, .icon-resize-horizontal, .icon-resize-small, .icon-resize-vertical, .icon-retweet, .icon-reverse-alt, .icon-road, .icon-rss, .icon-screen, .icon-screen-alt, .icon-smiley-alt, .icon-speaker, .icon-stackoverflow, .icon-star, .icon-star-alt, .icon-star-empty, .icon-stop-alt, .icon-stumbleupon, .icon-tag, .icon-tags, .icon-tasks, .icon-text-height, .icon-text-width, .icon-th, .icon-twitter, .icon-universal-access, .icon-unlock, .icon-unlock-alt, .icon-upload, .icon-user, .icon-video, .icon-video-alt, .icon-video-chat, .icon-view-mode, .icon-vimeo, .icon-vkontakte, .icon-volume-down, .icon-volume-off, .icon-volume-up, .icon-backward, .icon-fast-backward, .icon-fast-forward, .icon-forward, .icon-play, .icon-step-backward, .icon-step-forward, .icon-briefcase, .icon-bullhorn, .icon-calendar, .icon-calendar-sign, .icon-address-book, .icon-address-book-alt, .icon-adjust, .icon-adult, .icon-align-center, .icon-align-justify, .icon-align-left, .icon-align-right, .icon-arrow-down, .icon-arrow-left, .icon-arrow-right, .icon-arrow-up, .icon-asl, .icon-asterisk, .icon-ban-circle, .icon-barcode, .icon-behance, .icon-bell, .icon-blind, .icon-blogger, .icon-bold, .icon-book, .icon-bookmark, .icon-bookmark-empty, .icon-braille, .icon-camera, .icon-cc, .icon-certificate, .icon-check, .icon-check-empty, .icon-chevron-down, .icon-chevron-left, .icon-chevron-right, .icon-chevron-up, .icon-child, .icon-circle-arrow-down, .icon-circle-arrow-left, .icon-circle-arrow-right, .icon-circle-arrow-up, .icon-cloud, .icon-cloud-alt, .icon-cog, .icon-cog-alt, .icon-cogs, .icon-comment, .icon-comment-alt, .icon-compass, .icon-compass-alt, .icon-credit-card, .icon-css, .icon-dashboard, .icon-delicious, .icon-deviantart, .icon-digg, .icon-download, .icon-download-alt, .icon-dribble, .icon-edit, .icon-eject, .icon-envelope, .icon-envelope-alt, .icon-error, .icon-error-alt, .icon-exclamation-sign, .icon-eye-close, .icon-eye-open, .icon-facebook, .icon-facetime-video, .icon-female, .icon-file, .icon-file-alt, .icon-file-edit, .icon-file-edit-alt, .icon-file-new, .icon-file-new-alt, .icon-film, .icon-filter, .icon-fire, .icon-flag, .icon-flag-alt, .icon-flickr, .icon-folder, .icon-folder-close, .icon-folder-open, .icon-folder-sign, .icon-font, .icon-fontsize, .icon-forward-alt, .icon-foursquare, .icon-friendfeed, .icon-friendfeed-rect, .icon-fullscreen, .icon-gift, .icon-github, .icon-github-text, .icon-glass, .icon-glasses, .icon-globe, .icon-globe-alt, .icon-googleplus, .icon-graph, .icon-graph-alt, .icon-group, .icon-group-alt, .icon-guidedog, .icon-hand-down, .icon-hand-left, .icon-hand-right, .icon-hand-up, .icon-hdd, .icon-headphones, .icon-hearing-impaired, .icon-heart, .icon-heart-alt, .icon-heart-empty, .icon-home, .icon-home-alt, .icon-idea, .icon-idea-alt, .icon-inbox, .icon-inbox-alt, .icon-inbox-box, .icon-indent-left, .icon-indent-right, .icon-info-sign, .icon-instagram, .icon-iphone-home, .icon-italic, .icon-key, .icon-laptop, .icon-laptop-alt, .icon-leaf, .icon-linkedin, .icon-list, .icon-list-alt, .icon-lock, .icon-lock-alt, .icon-magnet, .icon-male, .icon-map-marker, .icon-map-marker-alt, .icon-mic, .icon-mic-alt, .icon-minus, .icon-minus-sign, .icon-pause, .icon-fork, .icon-broom, .icon-return-key, .icon-lastfm, .icon-livejournal, .icon-myspace, .icon-soundcloud, .icon-viadeo, .icon-spotify, .icon-caret-left, .icon-caret-up, .icon-caret-right, .icon-caret-down, .icon-stop {
  font-family: 'Elusive-Icons';
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
}
.icon-move:before {
  content: "\e074";
}
.icon-music:before {
  content: "\e073";
}
.icon-network:before {
  content: "\e072";
}
.icon-off:before {
  content: "\e071";
}
.icon-ok:before {
  content: "\e070";
}
.icon-ok-circle:before {
  content: "\e06f";
}
.icon-ok-sign:before {
  content: "\e06e";
}
.icon-paper-clip:before {
  content: "\e06d";
}
.icon-paper-clip-alt:before {
  content: "\e06c";
}
.icon-path:before {
  content: "\e06b";
}
.icon-plus-sign:before {
  content: "\e059";
}
.icon-print:before {
  content: "\e058";
}
.icon-qrcode:before {
  content: "\e057";
}
.icon-question:before {
  content: "\e056";
}
.icon-question-sign:before {
  content: "\e055";
}
.icon-quotes:before {
  content: "\e054";
}
.icon-quotes-alt:before {
  content: "\e053";
}
.icon-random:before {
  content: "\e052";
}
.icon-record:before {
  content: "\e051";
}
.icon-reddit:before {
  content: "\e050";
}
.icon-refresh:before {
  content: "\e04f";
}
.icon-screenshot:before {
  content: "\e03f";
}
.icon-search:before {
  content: "\e03e";
}
.icon-search-alt:before {
  content: "\e03d";
}
.icon-share:before {
  content: "\e03c";
}
.icon-share-alt:before {
  content: "\e03b";
}
.icon-shopping-cart:before {
  content: "\e03a";
}
.icon-shopping-cart-sign:before {
  content: "\e039";
}
.icon-signal:before {
  content: "\e038";
}
.icon-skype:before {
  content: "\e037";
}
.icon-slideshare:before {
  content: "\e036";
}
.icon-smiley:before {
  content: "\e035";
}
.icon-th-large:before {
  content: "\e023";
}
.icon-th-list:before {
  content: "\e022";
}
.icon-thumbs-down:before {
  content: "\e021";
}
.icon-thumbs-up:before {
  content: "\e020";
}
.icon-time:before {
  content: "\e01f";
}
.icon-time-alt:before {
  content: "\e01e";
}
.icon-tint:before {
  content: "\e01d";
}
.icon-torso:before {
  content: "\e01c";
}
.icon-trash:before {
  content: "\e01b";
}
.icon-trash-alt:before {
  content: "\e01a";
}
.icon-tumblr:before {
  content: "\e019";
}
.icon-w3c:before {
  content: "\e00a";
}
.icon-warning-sign:before {
  content: "\e009";
}
.icon-website:before {
  content: "\e008";
}
.icon-website-alt:before {
  content: "\e007";
}
.icon-wheelchair:before {
  content: "\e006";
}
.icon-wordpress:before {
  content: "\e005";
}
.icon-wrench:before {
  content: "\e004";
}
.icon-wrench-alt:before {
  content: "\e003";
}
.icon-youtube:before {
  content: "\e002";
}
.icon-zoom-in:before {
  content: "\e001";
}
.icon-zoom-out:before {
  content: "\e000";
}
.icon-pause-alt:before {
  content: "\e069";
}
.icon-pencil:before {
  content: "\e068";
}
.icon-pencil-alt:before {
  content: "\e067";
}
.icon-person:before {
  content: "\e066";
}
.icon-phone:before {
  content: "\e065";
}
.icon-phone-alt:before {
  content: "\e064";
}
.icon-photo:before {
  content: "\e063";
}
.icon-photo-alt:before {
  content: "\e062";
}
.icon-picasa:before {
  content: "\e061";
}
.icon-picture:before {
  content: "\e060";
}
.icon-pinterest:before {
  content: "\e05f";
}
.icon-plane:before {
  content: "\e05e";
}
.icon-play-alt:before {
  content: "\e05c";
}
.icon-play-circle:before {
  content: "\e05b";
}
.icon-plus:before {
  content: "\e05a";
}
.icon-remove:before {
  content: "\e04e";
}
.icon-remove-circle:before {
  content: "\e04d";
}
.icon-remove-sign:before {
  content: "\e04c";
}
.icon-repeat:before {
  content: "\e04b";
}
.icon-repeat-alt:before {
  content: "\e04a";
}
.icon-resize-full:before {
  content: "\e049";
}
.icon-resize-horizontal:before {
  content: "\e048";
}
.icon-resize-small:before {
  content: "\e047";
}
.icon-resize-vertical:before {
  content: "\e046";
}
.icon-retweet:before {
  content: "\e045";
}
.icon-reverse-alt:before {
  content: "\e044";
}
.icon-road:before {
  content: "\e043";
}
.icon-rss:before {
  content: "\e042";
}
.icon-screen:before {
  content: "\e041";
}
.icon-screen-alt:before {
  content: "\e040";
}
.icon-smiley-alt:before {
  content: "\e034";
}
.icon-speaker:before {
  content: "\e033";
}
.icon-stackoverflow:before {
  content: "\e032";
}
.icon-star:before {
  content: "\e031";
}
.icon-star-alt:before {
  content: "\e030";
}
.icon-star-empty:before {
  content: "\e02f";
}
.icon-stop-alt:before {
  content: "\e02b";
}
.icon-stumbleupon:before {
  content: "\e02a";
}
.icon-tag:before {
  content: "\e029";
}
.icon-tags:before {
  content: "\e028";
}
.icon-tasks:before {
  content: "\e027";
}
.icon-text-height:before {
  content: "\e026";
}
.icon-text-width:before {
  content: "\e025";
}
.icon-th:before {
  content: "\e024";
}
.icon-twitter:before {
  content: "\e018";
}
.icon-universal-access:before {
  content: "\e017";
}
.icon-unlock:before {
  content: "\e016";
}
.icon-unlock-alt:before {
  content: "\e015";
}
.icon-upload:before {
  content: "\e014";
}
.icon-user:before {
  content: "\e013";
}
.icon-video:before {
  content: "\e012";
}
.icon-video-alt:before {
  content: "\e011";
}
.icon-video-chat:before {
  content: "\e010";
}
.icon-view-mode:before {
  content: "\e00f";
}
.icon-vimeo:before {
  content: "\e00e";
}
.icon-vkontakte:before {
  content: "\e10e";
}
.icon-volume-down:before {
  content: "\e00d";
}
.icon-volume-off:before {
  content: "\e00c";
}
.icon-volume-up:before {
  content: "\e00b";
}
.icon-backward:before {
  content: "\e0ab";
}
.icon-fast-backward:before {
  content: "\e09a";
}
.icon-fast-forward:before {
  content: "\e099";
}
.icon-forward:before {
  content: "\e093";
}
.icon-play:before {
  content: "\e05d";
}
.icon-step-backward:before {
  content: "\e02e";
}
.icon-step-forward:before {
  content: "\e02d";
}
.icon-briefcase:before {
  content: "\e10d";
}
.icon-bullhorn:before {
  content: "\e10c";
}
.icon-calendar:before {
  content: "\e10b";
}
.icon-calendar-sign:before {
  content: "\e10a";
}
.icon-address-book:before {
  content: "\e0dd";
}
.icon-address-book-alt:before {
  content: "\e0dc";
}
.icon-adjust:before {
  content: "\e0db";
}
.icon-adult:before {
  content: "\e0da";
}
.icon-align-center:before {
  content: "\e0d9";
}
.icon-align-justify:before {
  content: "\e0d8";
}
.icon-align-left:before {
  content: "\e0d7";
}
.icon-align-right:before {
  content: "\e0d6";
}
.icon-arrow-down:before {
  content: "\e0d5";
}
.icon-arrow-left:before {
  content: "\e0d4";
}
.icon-arrow-right:before {
  content: "\e0af";
}
.icon-arrow-up:before {
  content: "\e0ae";
}
.icon-asl:before {
  content: "\e0ad";
}
.icon-asterisk:before {
  content: "\e0ac";
}
.icon-ban-circle:before {
  content: "\e0aa";
}
.icon-barcode:before {
  content: "\e0d3";
}
.icon-behance:before {
  content: "\e0d2";
}
.icon-bell:before {
  content: "\e0d1";
}
.icon-blind:before {
  content: "\e0d0";
}
.icon-blogger:before {
  content: "\e0cf";
}
.icon-bold:before {
  content: "\e0ce";
}
.icon-book:before {
  content: "\e0f5";
}
.icon-bookmark:before {
  content: "\e0f4";
}
.icon-bookmark-empty:before {
  content: "\e0f3";
}
.icon-braille:before {
  content: "\e0f2";
}
.icon-camera:before {
  content: "\e0a9";
}
.icon-cc:before {
  content: "\e0a8";
}
.icon-certificate:before {
  content: "\e0a7";
}
.icon-check:before {
  content: "\e0a6";
}
.icon-check-empty:before {
  content: "\e0a5";
}
.icon-chevron-down:before {
  content: "\e0a4";
}
.icon-chevron-left:before {
  content: "\e0cd";
}
.icon-chevron-right:before {
  content: "\e0cc";
}
.icon-chevron-up:before {
  content: "\e0cb";
}
.icon-child:before {
  content: "\e0ca";
}
.icon-circle-arrow-down:before {
  content: "\e0c9";
}
.icon-circle-arrow-left:before {
  content: "\e0c8";
}
.icon-circle-arrow-right:before {
  content: "\e0f1";
}
.icon-circle-arrow-up:before {
  content: "\e0f0";
}
.icon-cloud:before {
  content: "\e0ef";
}
.icon-cloud-alt:before {
  content: "\e0ee";
}
.icon-cog:before {
  content: "\e109";
}
.icon-cog-alt:before {
  content: "\e108";
}
.icon-cogs:before {
  content: "\e107";
}
.icon-comment:before {
  content: "\e106";
}
.icon-comment-alt:before {
  content: "\e0a3";
}
.icon-compass:before {
  content: "\e0a2";
}
.icon-compass-alt:before {
  content: "\e0a1";
}
.icon-credit-card:before {
  content: "\e0a0";
}
.icon-css:before {
  content: "\e09f";
}
.icon-dashboard:before {
  content: "\e09e";
}
.icon-delicious:before {
  content: "\e0c7";
}
.icon-deviantart:before {
  content: "\e0c6";
}
.icon-digg:before {
  content: "\e0c5";
}
.icon-download:before {
  content: "\e0c4";
}
.icon-download-alt:before {
  content: "\e0c3";
}
.icon-dribble:before {
  content: "\e0c2";
}
.icon-edit:before {
  content: "\e0ed";
}
.icon-eject:before {
  content: "\e0ec";
}
.icon-envelope:before {
  content: "\e0eb";
}
.icon-envelope-alt:before {
  content: "\e0ea";
}
.icon-error:before {
  content: "\e105";
}
.icon-error-alt:before {
  content: "\e104";
}
.icon-exclamation-sign:before {
  content: "\e103";
}
.icon-eye-close:before {
  content: "\e102";
}
.icon-eye-open:before {
  content: "\e09d";
}
.icon-facebook:before {
  content: "\e09c";
}
.icon-facetime-video:before {
  content: "\e09b";
}
.icon-female:before {
  content: "\e098";
}
.icon-file:before {
  content: "\e0c1";
}
.icon-file-alt:before {
  content: "\e0c0";
}
.icon-file-edit:before {
  content: "\e0bf";
}
.icon-file-edit-alt:before {
  content: "\e0be";
}
.icon-file-new:before {
  content: "\e0bd";
}
.icon-file-new-alt:before {
  content: "\e0bc";
}
.icon-film:before {
  content: "\e0e9";
}
.icon-filter:before {
  content: "\e0e8";
}
.icon-fire:before {
  content: "\e0e7";
}
.icon-flag:before {
  content: "\e0e6";
}
.icon-flag-alt:before {
  content: "\e101";
}
.icon-flickr:before {
  content: "\e100";
}
.icon-folder:before {
  content: "\e0ff";
}
.icon-folder-close:before {
  content: "\e0fe";
}
.icon-folder-open:before {
  content: "\e097";
}
.icon-folder-sign:before {
  content: "\e096";
}
.icon-font:before {
  content: "\e095";
}
.icon-fontsize:before {
  content: "\e094";
}
.icon-forward-alt:before {
  content: "\e092";
}
.icon-foursquare:before {
  content: "\e0bb";
}
.icon-friendfeed:before {
  content: "\e0ba";
}
.icon-friendfeed-rect:before {
  content: "\e0b9";
}
.icon-fullscreen:before {
  content: "\e0b8";
}
.icon-gift:before {
  content: "\e0b7";
}
.icon-github:before {
  content: "\e0b6";
}
.icon-github-text:before {
  content: "\e0e5";
}
.icon-glass:before {
  content: "\e0e4";
}
.icon-glasses:before {
  content: "\e0e3";
}
.icon-globe:before {
  content: "\e0e2";
}
.icon-globe-alt:before {
  content: "\e0fd";
}
.icon-googleplus:before {
  content: "\e0fc";
}
.icon-graph:before {
  content: "\e0fb";
}
.icon-graph-alt:before {
  content: "\e0fa";
}
.icon-group:before {
  content: "\e091";
}
.icon-group-alt:before {
  content: "\e090";
}
.icon-guidedog:before {
  content: "\e08f";
}
.icon-hand-down:before {
  content: "\e08e";
}
.icon-hand-left:before {
  content: "\e08d";
}
.icon-hand-right:before {
  content: "\e08c";
}
.icon-hand-up:before {
  content: "\e0b5";
}
.icon-hdd:before {
  content: "\e0b4";
}
.icon-headphones:before {
  content: "\e0b3";
}
.icon-hearing-impaired:before {
  content: "\e0b2";
}
.icon-heart:before {
  content: "\e0b1";
}
.icon-heart-alt:before {
  content: "\e0b0";
}
.icon-heart-empty:before {
  content: "\e0e1";
}
.icon-home:before {
  content: "\e0e0";
}
.icon-home-alt:before {
  content: "\e0df";
}
.icon-idea:before {
  content: "\e0de";
}
.icon-idea-alt:before {
  content: "\e0f9";
}
.icon-inbox:before {
  content: "\e0f8";
}
.icon-inbox-alt:before {
  content: "\e0f7";
}
.icon-inbox-box:before {
  content: "\e0f6";
}
.icon-indent-left:before {
  content: "\e08b";
}
.icon-indent-right:before {
  content: "\e08a";
}
.icon-info-sign:before {
  content: "\e089";
}
.icon-instagram:before {
  content: "\e088";
}
.icon-iphone-home:before {
  content: "\e087";
}
.icon-italic:before {
  content: "\e086";
}
.icon-key:before {
  content: "\e085";
}
.icon-laptop:before {
  content: "\e084";
}
.icon-laptop-alt:before {
  content: "\e083";
}
.icon-leaf:before {
  content: "\e082";
}
.icon-linkedin:before {
  content: "\e081";
}
.icon-list:before {
  content: "\e080";
}
.icon-list-alt:before {
  content: "\e07f";
}
.icon-lock:before {
  content: "\e07e";
}
.icon-lock-alt:before {
  content: "\e07d";
}
.icon-magnet:before {
  content: "\e07c";
}
.icon-male:before {
  content: "\e07b";
}
.icon-map-marker:before {
  content: "\e07a";
}
.icon-map-marker-alt:before {
  content: "\e079";
}
.icon-mic:before {
  content: "\e078";
}
.icon-mic-alt:before {
  content: "\e077";
}
.icon-minus:before {
  content: "\e076";
}
.icon-minus-sign:before {
  content: "\e075";
}
.icon-pause:before {
  content: "\e06a";
}
.icon-fork:before {
  content: "\e10f";
}
.icon-broom:before {
  content: "\e110";
}
.icon-return-key:before {
  content: "\e111";
}
.icon-lastfm:before {
  content: "\e112";
}
.icon-livejournal:before {
  content: "\e113";
}
.icon-myspace:before {
  content: "\e114";
}
.icon-soundcloud:before {
  content: "\e115";
}
.icon-viadeo:before {
  content: "\e116";
}
.icon-spotify:before {
  content: "\e117";
}
.icon-caret-left:before {
  content: "\e119";
}
.icon-caret-up:before {
  content: "\e02c";
}
.icon-caret-right:before {
  content: "\e118";
}
.icon-caret-down:before {
  content: "\e11a";
}
.icon-stop:before {
  content: "\e11b";
}
‘	≥¥µ∂]image/svg+xml_8http://jsfiddle.net/font/Elusive-Icons.svg#Elusive-IconsOıbplist00‘cdX$versionX$objectsY$archiverT$top Ü†Ø#)*0123IJKLMNOPQRSTUVWXY\]^U$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_8http://jsfiddle.net/font/Elusive-Icons.svg#Elusive-Icons“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÕÊV& »”456?HWNS.keysZNS.objects®789:;<=>Ä	Ä
ÄÄÄÄÄÄ®@ABCDEFGÄÄÄÄÄÄÄÄÄVServer\Content-TypeTEtag]Last-ModifiedTDate]Accept-Ranges^Content-LengthZConnectionUnginx]image/svg+xml_"51af0907-3557b"_Wed, 05 Jun 2013 09:46:47 GMT_Wed, 26 Aug 2015 05:40:30 GMTUbytesV218491Zkeep-alive“+,Z[\NSDictionary¢Z/ U{]image/svg+xml“+,_`_NSHTTPURLResponse£ab/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—ef_WebResourceResponseÄ    # - 2 7 W ] x {  Ç Ö à å è ñ ô ú ü ¢ • ß © ´ ≠ Ø ∞ ≤ ¥ ∂ ∏ ∫ º æ ≈ Õ Ÿ € › ﬂ*39<ENPRYaluwy{}ÅÉÖéêíîñòöúû†ß¥π«Ã⁄ÈÙ˙;[ahsxÖàçõ†¥∏Ã⁄ÏÔ             g              O U{<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" >
<svg xmlns="http://www.w3.org/2000/svg">
<metadata>
This is a custom SVG font generated by IcoMoon.
<iconset grid="16"></iconset>
</metadata>
<defs>
<font id="Elusive-Icons" horiz-adv-x="512" >
<font-face units-per-em="512" ascent="480" descent="-32" />
<missing-glyph horiz-adv-x="512" />
<glyph unicode="&#xe074;" d="M 0.00,224.00  m0.00,0.00, 88.281-88.281 -0.266,61.766 141.469,0.00 0.00-141.719 -60.984-0.266 87.50-87.50 88.281,88.281 -61.766-0.266 0.00,141.469 141.719,0.00 0.266-60.984 87.50,87.50 -88.281,88.281 0.266-61.766 -141.469,0.00 0.00,141.719 60.984,0.266 -87.50,87.50 -88.281-88.281 61.766,0.266 0.00-141.469 -141.719,0.00 -0.266,60.984 -87.50-87.50z"  />
<glyph unicode="&#xe073;" d="M 154.149,446.056 141.295,111.904c-17.297,8.876 -38.999,12.716 -61.77,9.486 -49.098-6.953 -84.452-43.992 -78.964-82.715 5.49-38.727 49.741-64.476 98.838-57.521 43.574,6.175 76.282,36.046 79.254,69.754l 0.01-0.019c 0.006,0.076 0.011,0.191 0.018,0.277 0.072,0.857 0.114,1.724 0.146,2.586 1.828,34.806 13.021,299.184 13.021,299.184l 275.684,28.404 -12.451-238.103c-17.691,9.846 -40.43,14.233 -64.341,10.845 -49.098-6.96 -84.449-43.991 -78.961-82.719 5.488-38.723 49.739-64.477 98.838-57.514 44.502,6.299 77.657,37.32 79.397,71.907l 0.021,0.021C 490.968,101.32 506.523,460.224 507.073,472.907z"  />
<glyph unicode="&#xe072;" d="M 0.564,229.996 m0.00,0.00,c-0.722,3.961 -0.545,7.324 -0.545,11.445l0.00,1.09c 64.774,5.557 135.337,21.873 187.858,59.406 15.07-6.905 29.889-5.962 44.106,1.09 29.786-30.084 59.017-50.993 98.012-63.221 3.993-10.174 10.346-17.986 19.058-23.435C 338.525,190.21 323.824,167.138 304.947,147.155 277.047,167.253 240.208,152.70 227.626,123.72 140.368,124.665 52.422,162.841 0.564,229.996 z M 227.081,89.384C 182.538,66.379 135.523,53.977 87.686,56.684 50.684,87.732 24.021,128.317 10.365,170.591 70.459,118.941 150.331,89.466 227.081,89.384 z m 98.557,6.54c 50.689,10.573 97.265,30.955 135.039,62.13 -49.581-129.267 -198.888-188.362 -321.263-133.526 39.725,5.723 77.041,19.444 108.903,37.605 31.841-18.247 69.735,0.946 77.321,33.791 z m 93.656,132.981c 19.511,1.44 38.537,2.876 56.629,5.996 -0.035-4.872 -0.538-9.667 -0.545-14.17C 441.363,177.198 390.23,147.455 339.251,133.53c 19.023,23.096 33.134,48.751 43.016,74.666 15.537,2.016 28.227,9.152 37.027,20.71 z m 8.713,34.88c-2.148,16.155 -10.229,29.267 -22.869,37.605 3.994,36.991 4.653,73.084 1.633,107.911 38.136-39.369 61.229-89.618 67.52-139.522 -13.794-2.907 -29.223-4.905 -46.283-5.996 z M 162.829,326.462C 114.727,296.155 58.405,281.433 2.742,276.866 16.642,363.739 75.814,435.537 155.206,464.893 157.362,436.682 163.895,409.444 174.264,385.868 157.617,368.964 153.664,347.293 162.829,326.462 z m 93.656,40.331c 25.071,31.129 45.914,62.939 57.719,100.281 20.328-6.904 38.66-15.805 54.996-26.706 5.705-44.888 6.498-89.599 2.178-131.346 -19.722-3.367 -35.228-15.366 -41.928-32.70 -29.117,10.541 -52.952,30.169 -74.053,51.23 5.30,13.674 5.50,26.491 1.089,39.24 z m -50.639,32.155c-10.131,25.045 -16.744,49.314 -16.879,75.755 30.379,6.989 63.178,6.757 92.023,1.09 -11.02-30.85 -28.431-59.443 -46.828-82.841 -6.473,2.765 -22.24,8.924 -28.315,5.996z"  />
<glyph unicode="&#xe071;" d="M 219.281,480.00L 219.281,183.906L 292.719,183.906L 292.719,480.00L 219.281,480.00 z M 74.969,405.031C 28.642,358.704 0.00,294.692 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,294.692 483.358,358.704 437.031,405.031L 385.469,353.469C 418.603,320.334 439.094,274.556 439.094,224.00C 439.094,122.888 357.112,40.906 256.00,40.906C 154.888,40.906 72.906,122.888 72.906,224.00C 72.906,274.556 93.397,320.334 126.531,353.469L 74.969,405.031z"  />
<glyph unicode="&#xe070;" d="M 428.475,437.695  m0.00,0.00,-260.881-260.881 -84.61,84.61 -82.983-82.983 84.61-84.61 83.525-83.525 82.983,82.983 260.881,260.881 -83.525,83.525z"  />
<glyph unicode="&#xe06f;" d="M 256.00,480.00C 114.616,480.00 0.00,365.384 0.00,224.00C0.00,82.616 114.616-32.00 256.00-32.00C 397.384-32.00 512.00,82.616 512.00,224.00C 512.00,365.384 397.384,480.00 256.00,480.00 z M 256.00,424.375C 366.664,424.375 456.344,334.637 456.344,224.00C 456.344,113.363 366.664,23.656 256.00,23.656C 145.336,23.656 55.656,113.363 55.656,224.00C 55.656,334.637 145.336,424.375 256.00,424.375 z M 354.094,345.562L 205.719,197.156L 157.594,245.281L 110.375,198.094L 158.50,149.969L 206.031,102.437L 253.219,149.656L 401.625,298.031L 354.094,345.562z"  />
<glyph unicode="&#xe06e;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 365.844,360.094L 419.031,306.906L 252.906,140.75L 200.031,87.906L 146.844,141.094L 92.969,195.00L 145.813,247.844L 199.688,193.937L 365.844,360.094z"  />
<glyph unicode="&#xe06d;" d="M 201.439,7.317 m0.00,0.00,c 87.658,87.172 156.228,156.856 232.499,231.659 25.181,26.299 41.127,52.039 47.842,77.22 11.751,47.518 -6.316,88.666 -37.771,120.866C 413.792,467.277 381.477,481.546 347.065,479.867 312.652,478.188 278.658,460.842 245.085,427.828L 31.052,212.956 66.304,178.542 280.337,392.576c 21.962,20.881 48.097,40.566 78.06,37.771 45.651-6.409 85.965-62.282 75.541-101.56 -13.217-34.848 -31.438-50.742 -56.655-75.961 -76.713-76.517 -136.527-135.689 -211.095-210.256 -28.024-25.607 -46.148-32.54 -72.183-8.394 -13.429,13.429 -19.305,26.579 -17.627,39.449 1.862,15.017 10.364,25.402 20.144,35.252L 292.088,304.444c 8.934,8.95 29.281,26.129 37.771,18.465 6.512-15.11 -10.26-29.533 -18.465-37.771l-179.62-179.62 34.413-35.252 180.459,179.62c 31.082,32.059 53.413,71.234 18.465,107.436C 326.459,390.497 285.742,368.35 256.835,339.697L 61.268,144.129c-20.144-20.144 -31.615-41.967 -34.413-65.469 -2.206-32.947 12.649-59.395 32.735-79.737 18.88-18.777 39.278-29.179 64.629-29.377 30.482,1.22 60.453,21.297 77.22,37.771z"  />
<glyph unicode="&#xe06c;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 317.25,384.344C 337.363,384.158 356.298,375.139 374.094,357.344C 393.853,337.116 405.195,311.288 397.813,281.437C 393.594,265.619 383.599,249.458 367.781,232.937C 319.869,185.946 276.786,142.167 221.719,87.406C 211.186,77.058 192.367,64.423 173.219,63.656C 157.293,63.781 144.454,70.329 132.594,82.125C 119.976,94.904 110.645,111.521 112.031,132.219C 113.789,146.982 121.002,160.689 133.656,173.344L 256.531,296.187C 274.69,314.187 300.251,328.121 324.531,307.281C 346.485,284.539 332.463,259.92 312.938,239.781L 199.563,126.937L 177.938,149.094L 290.781,261.937C 295.936,267.113 306.466,276.164 302.375,285.656C 297.042,290.47 284.269,279.685 278.656,274.062L 155.813,151.187C 149.669,145.00 144.326,138.495 143.156,129.062C 142.102,120.978 145.782,112.718 154.219,104.281C 170.574,89.112 181.958,93.445 199.563,109.531C 246.405,156.374 283.997,193.558 332.188,241.625C 348.029,257.467 359.478,267.452 367.781,289.344C 374.329,314.018 348.99,349.099 320.313,353.125C 301.491,354.881 285.078,342.523 271.281,329.406L 136.813,194.969L 114.688,216.562L 249.125,351.562C 270.216,372.302 291.569,383.195 313.188,384.25C 314.539,384.316 315.909,384.356 317.25,384.344z"  />
<glyph unicode="&#xe06b;" d="M 493.566,283.392C 492.823,228.789 468.995,179.268 430.42,147.543 380.26,109.365 317.274,96.644 260.778,95.66l0.00-30.72C 259.265,25.503 236.214-8.724 203.434-23.807c-12.053-5.721 -25.364-8.144 -37.547-8.192 -17.179,0.208 -33.89,5.403 -47.787,12.288l0.00,88.747c 11.722-8.259 25.154-13.818 38.571-9.899 11.868,4.404 17.30,13.686 17.408,24.917l0.00,246.443 86.699,0.00 0.00-153.60c 19.921,0.276 39.572,2.462 57.685,6.485 23.745,5.763 46.36,14.857 63.488,30.037 21.019,20.025 30.20,43.868 30.379,69.973 -0.326,38.654 -19.776,70.798 -49.493,89.429 -33.682,19.271 -71.032,25.795 -106.837,25.941 -38.61-0.846 -76.612-8.439 -107.52-27.648 -31.567-20.435 -48.526-54.226 -48.811-87.723 2.005-24.14 8.186-57.75 24.576-73.045L 68.949,150.956c-17.943,17.945 -29.766,39.915 -37.547,62.123 -7.636,23.49 -12.874,46.874 -12.971,70.315 0.944,57.006 26.276,108.466 66.219,141.995 50.399,39.40 113.678,54.312 171.349,54.613 63.144-1.073 125.55-16.975 172.032-54.272 43.588-37.052 65.15-90.68 65.536-142.336z"  />
<glyph unicode="&#xe059;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 215.125,368.281L 296.875,368.281L 296.875,264.875L 400.281,264.875L 400.281,183.125L 296.875,183.125L 296.875,79.719L 215.125,79.719L 215.125,183.125L 111.719,183.125L 111.719,264.875L 215.125,264.875L 215.125,368.281z"  />
<glyph unicode="&#xe058;" d="M 156.781,444.562L 156.781,367.25L 136.563,367.25L 17.156,316.437L 494.844,316.437L 375.438,367.25L 355.219,367.25L 355.219,444.562L 156.781,444.562 z M 0.00,286.75L0.00,131.281L 79.25,131.281L 51.406-4.656L 460.594-4.656L 432.75,131.281L 512.00,131.281L 512.00,286.75L0.00,286.75 z M 124.344,228.156L 387.625,228.156L 427.625,32.844L 84.344,32.844L 124.344,228.156z"  />
<glyph unicode="&#xe057;" d="M 0.00-31.998L 0.00,200.667 L 232.666,200.667 L 232.666-31.998 L 0.00-31.998  z m 0.00,279.332L 0.00,480.00 L 232.666,480.00 L 232.666,247.334 L 0.00,247.334  z m 46.333-232.999l 139.999,0.00 l0.00,139.999 l-139.999,0.00 l0.00-139.999  z m 0.00,279.332l 139.999,0.00 l0.00,139.999 l-139.999,0.00 l0.00-139.999  z m 46.667-232.666l0.00,47.00 l 47.00,0.00 l0.00-47.00 l-47.00,0.00  z m 0.00,278.999l0.00,46.333 l 47.00,0.00 l0.00-46.333 l-47.00,0.00  z m 186.332-371.999L 279.332,200.667 l 138.999,0.00 l0.00-46.333 l 47.333,0.00 l0.00,46.333 l 46.333,0.00 L 511.998,61.002 L 371.999,61.002 l0.00,46.333 l-46.333,0.00 l0.00-139.332 l-46.333,0.00  z m 0.00,279.332L 279.332,480.00 L 511.998,480.00 L 511.998,247.334 L 279.332,247.334  z m 46.333,46.333l 139.999,0.00 l0.00,139.999 l-139.999,0.00 l0.00-139.999  z m 46.333-325.666l0.00,46.333 l 46.333,0.00 l0.00-46.333 l-46.333,0.00  z m 0.00,371.999l0.00,46.333 l 46.333,0.00 l0.00-46.333 l-46.333,0.00  z m 93.667-371.999l0.00,46.333 l 46.333,0.00 l0.00-46.333 l-46.333,0.00 z"  />
<glyph unicode="&#xe056;" d="M 249.789,479.999 m0.00,0.00,c-41.444,0.10 -116.881-39.787 -119.273-75.249 -2.392-35.462 4.831-37.648 8.19-39.587l 38.904,0.00c 8.889,20.072 19.717,31.807 48.119,31.567 28.401-0.239 59.556-35.767 46.412-67.23 -13.144-31.462 -25.29-42.421 -41.464-76.444 -16.174-34.023 -21.576-85.415 -0.341-128.146l 47.948-0.853c-11.868,60.996 50.952,115.339 75.932,152.887 24.98,37.548 27.355,51.859 27.643,82.928 -0.22,29.483 -10.897,58.945 -34.126,82.928 -23.23,23.982 -56.50,37.098 -97.944,37.198 z m 2.389-395.699c-32.068,0.00 -58.016-25.947 -58.016-58.016 0.00-32.068 25.947-58.186 58.016-58.186 32.068,0.00 58.016,26.118 58.016,58.186 0.00,32.068 -25.947,58.016 -58.016,58.016z"  />
<glyph unicode="&#xe055;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 251.375,415.844C 282.44,415.769 307.40,405.945 324.813,387.969C 342.225,369.992 350.21,347.912 350.375,325.812C 350.159,302.524 348.381,291.801 329.656,263.656C 310.932,235.511 263.854,194.784 272.75,149.062L 236.813,149.687C 220.895,181.717 224.939,220.247 237.063,245.75C 249.186,271.253 258.272,279.448 268.125,303.031C 277.978,326.615 254.633,353.258 233.344,353.437C 212.054,353.617 203.945,344.827 197.281,329.781L 168.125,329.781C 165.607,331.235 160.176,332.856 161.969,359.437C 163.761,386.019 220.31,415.919 251.375,415.844 z M 253.188,119.25C 277.225,119.25 296.656,99.788 296.656,75.75C 296.656,51.712 277.225,32.156 253.188,32.156C 229.15,32.156 209.688,51.712 209.688,75.75C 209.688,99.788 229.15,119.25 253.188,119.25z"  />
<glyph unicode="&#xe054;" d="M 222.779,435.163C 132.051,428.787 1.635,414.302 1.563,236.616L 1.563,13.056L 204.018,13.056L 204.018,252.25L 136.794,252.25C 132.535,316.119 185.128,332.61 242.321,345.27L 222.779,435.163 z M 494.021,435.163C 403.294,428.787 272.878,414.302 272.806,236.616L 272.806,13.056L 475.261,13.056L 475.261,252.25L 408.037,252.25C 403.778,316.119 456.371,332.61 513.563,345.27L 494.021,435.163z"  />
<glyph unicode="&#xe053;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 236.406,359.50L 247.406,308.844C 215.175,301.709 185.537,292.431 187.938,256.437L 225.813,256.437L 225.813,121.625L 111.719,121.625L 111.719,247.625C 111.759,347.76 185.277,355.907 236.406,359.50 z M 389.25,359.50L 400.281,308.844C 368.05,301.709 338.412,292.431 340.813,256.437L 378.688,256.437L 378.688,121.625L 264.594,121.625L 264.594,247.625C 264.634,347.76 338.12,355.907 389.25,359.50z"  />
<glyph unicode="&#xe052;" d="M 399.329,461.993  m0.00,0.00,0.00-79.386 -73.373,0.00c-23.214,0.00 -48.847-11.332 -70.284-32.99 -21.437-21.658 -44.733-53.788 -81.719-106.626 -37.152-53.075 -57.842-85.148 -70.744-99.561 -12.902-14.412 -10.827-13.176 -29.605-13.176l-72.716,0.00 -0.887,0.00 0.00-63.088 0.887,0.00 72.716,0.00c 28.193,0.00 56.55,11.784 76.593,34.173 20.043,22.389 38.96,53.403 75.41,105.475 36.616,52.309 59.896,83.268 74.884,98.411 14.989,15.143 15.633,14.293 25.465,14.293l 73.373,0.00 0.00-82.836L 512.00,349.322 399.329,461.993 z M 0.00,382.607l0.00-63.088 0.887,0.00 72.716,0.00c 18.778,0.00 16.703,1.269 29.605-13.143 8.301-9.273 21.977-28.939 39.036-53.724 2.312,3.317 3.402,4.916 5.849,8.412 9.293,13.275 17.734,25.253 25.531,36.177 2.714,3.802 4.986,6.801 7.557,10.35 -11.528,16.657 -21.131,29.867 -30.985,40.876C 130.153,370.856 101.796,382.607 73.603,382.607l-72.716,0.00 -0.887,0.00 z m 399.329-171.291 0.00-81.062 -73.373,0.00c-9.832,0.00 -10.477-0.817 -25.465,14.326 -9.914,10.017 -23.955,27.773 -42.584,53.231 -2.253-3.196 -4.076-5.725 -6.44-9.102 -13.044-18.634 -22.037-32.078 -31.478-46.002 13.395-17.74 24.798-31.52 35.684-42.519 21.437-21.658 47.07-33.023 70.284-33.023l 73.373,0.00 0.00-81.16L 512.00,98.645 399.329,211.317z"  />
<glyph unicode="&#xe051;" d="M 256.00-32.00 m0.00,0.00,c-141.376,0.00 -256.00,114.624 -256.00,256.00 0.00,141.376 114.624,256.00 256.00,256.00 141.376,0.00 256.00-114.624 256.00-256.00 0.00-141.376 -114.624-256.00 -256.00-256.00 z m 0.00,384.00c-70.688,0.00 -128.00-57.312 -128.00-128.00 0.00-70.688 57.312-128.00 128.00-128.00 70.688,0.00 128.00,57.312 128.00,128.00 0.00,70.688 -57.312,128.00 -128.00,128.00z"  />
<glyph unicode="&#xe050;" d="M 340.97,104.728 m0.00,0.00,c 5.801-9.393 -0.381-13.312 -5.647-17.748 -22.654-16.864 -54.361-23.029 -80.403-23.126 -24.363,0.478 -59.937,6.221 -78.252,23.126 -6.255,4.94 -9.99,12.889 -4.034,18.286 6.308,5.291 12.025-0.311 16.941-4.571 21.201-14.773 40.337-15.474 65.344-18.017 27.058,1.317 45.183,5.344 68.302,18.555 5.492,4.774 11.753,9.322 17.748,3.496 z m 93.478,335.344c-20.366,0.00 -37.776-12.655 -44.806-30.525L 290.416,433.88 248.998,316.628c-29.401-0.717 -57.005-4.839 -82.821-12.369 -25.815-7.529 -48.752-17.571 -68.831-30.12 -10.756,9.681 -23.669,14.525 -38.727,14.525 -8.246,0.00 -15.866-1.524 -22.857-4.571 -6.992-3.048 -13.183-7.266 -18.561-12.644 -5.378-5.378 -9.581-11.65 -12.628-18.821 -3.048-7.171 -4.571-14.693 -4.571-22.582 0.00-10.398 2.422-19.91 7.262-28.515 4.84-8.605 11.368-15.598 19.615-20.977 -0.359-2.868 -0.711-5.819 -1.07-8.867 -0.359-3.048 -0.535-6.191 -0.535-9.418 0.00-21.154 5.999-41.14 18.01-59.964 12.011-18.823 28.517-35.216 49.491-49.20 20.975-13.983 45.356-25.019 73.143-33.086 27.787-8.067 57.622-12.093 89.532-12.093 31.552,0.00 61.322,4.026 89.289,12.093 27.966,8.067 52.428,19.103 73.402,33.086 20.975,13.983 37.48,30.376 49.491,49.20 12.011,18.823 18.01,38.81 18.01,59.964 0.00,5.737 -0.545,11.656 -1.621,17.751 8.605,5.378 15.422,12.468 20.442,21.252 5.019,8.784 7.538,18.377 7.538,28.774 0.00,7.888 -1.524,15.411 -4.571,22.582 -3.048,7.171 -7.266,13.443 -12.644,18.821 -5.378,5.378 -11.65,9.597 -18.821,12.644 -7.171,3.048 -14.886,4.571 -23.133,4.571 -14.342,0.00 -27.238-4.844 -38.711-14.525 -19.361,12.191 -41.417,22.055 -66.156,29.585 -24.739,7.529 -51.27,11.828 -79.595,12.904l 33.88,95.189 84.069-19.712c0.00-0.059 0.00-0.119 0.00-0.178 0.00-26.584 21.546-48.13 48.13-48.13 26.584,0.00 48.146,21.546 48.146,48.13 0.00,26.584 -21.562,48.146 -48.146,48.146 z M 255.45,298.342c 29.042,0.00 56.471-3.577 82.286-10.748 25.815-7.171 48.319-16.859 67.501-29.05 19.182-12.191 34.34-26.627 45.455-43.299 11.115-16.672 16.665-34.332 16.665-52.977 0.00-18.644 -5.55-36.208 -16.665-52.701 -11.114-16.493 -26.272-30.833 -45.455-43.023 -19.182-12.191 -41.686-21.879 -67.501-29.05 -25.815-7.171 -53.244-10.748 -82.286-10.748 -29.042,0.00 -56.471,3.577 -82.286,10.748 -25.815,7.171 -48.223,16.859 -67.226,29.05 -19.003,12.191 -34.048,26.53 -45.163,43.023 -11.115,16.493 -16.681,34.057 -16.681,52.701 0.00,18.644 5.566,36.304 16.681,52.977 11.115,16.672 26.16,31.108 45.163,43.299 19.003,12.191 41.411,21.879 67.226,29.05 25.815,7.171 53.244,10.748 82.286,10.748 z m 78.055-72.186c-20.049,0.00 -36.312-16.136 -36.312-36.036 0.00-19.901 16.263-36.036 36.312-36.036 20.049,0.00 36.296,16.136 36.296,36.036 0.00,19.901 -16.247,36.036 -36.296,36.036 z m -150.744-0.567c-20.049,0.00 -36.296-16.136 -36.296-36.036 0.00-19.901 16.247-36.036 36.296-36.036 20.049,0.00 36.312,16.136 36.312,36.036 0.00,19.901 -16.263,36.036 -36.312,36.036 z m 300.191-46.379c-0.172-0.089 -0.341-0.193 -0.519-0.324 0.175,0.131 0.343,0.236 0.519,0.324z"  />
<glyph unicode="&#xe04f;" d="M 256.00,480.00C 131.729,480.00 28.164,391.443 4.906,274.00l 71.063,0.00C 97.864,352.957 170.071,411.00 256.00,411.00c 51.656,0.00 98.336-20.99 132.125-54.875L 306.00,274.00 436.031,274.00 512.00,274.00 512.00,480.00 437.00,405.00C 390.679,451.336 326.698,480.00 256.00,480.00 z M 0.00,174.00 0.00-32.00 75.00,43.00c 46.321-46.336 110.302-75.00 181.00-75.00 124.271,0.00 227.836,88.557 251.094,206.00l-71.063,0.00C 414.136,95.043 341.929,37.00 256.00,37.00 204.344,37.00 157.664,57.99 123.875,91.875L 206.00,174.00z"  />
<glyph unicode="&#xe03f;" d="M 217.438,480.00L 217.438,413.344C 141.67,397.994 82.006,338.33 66.656,262.562L0.00,262.562L0.00,185.437L 66.656,185.437C 82.006,109.67 141.67,50.006 217.438,34.656L 217.438-32.00L 294.563-32.00L 294.563,34.656C 370.33,50.006 429.994,109.67 445.344,185.437L 512.00,185.437L 512.00,262.562L 445.344,262.562C 429.994,338.33 370.33,397.994 294.563,413.344L 294.563,480.00L 217.438,480.00 z M 217.438,361.969L 217.438,287.156L 294.563,287.156L 294.563,361.969C 342.665,348.554 380.554,310.665 393.969,262.562L 319.156,262.562L 319.156,185.437L 393.969,185.437C 380.554,137.335 342.665,99.446 294.563,86.031L 294.563,160.844L 217.438,160.844L 217.438,86.031C 169.335,99.446 131.446,137.335 118.031,185.437L 192.844,185.437L 192.844,262.562L 118.031,262.562C 131.446,310.665 169.335,348.554 217.438,361.969z"  />
<glyph unicode="&#xe03e;" d="M 286.99,480.00 m0.00,0.00,c-120.877,0.00 -218.879-97.985 -218.879-218.862 0.00-42.949 12.367-83.014 33.742-116.817 -0.157-0.068 -0.311-0.13 -0.468-0.201l-95.237-95.22 80.90-80.90 98.666,98.683c-0.03,0.139 -0.069,0.278 -0.10,0.418 30.308-15.868 64.796-24.842 101.376-24.842 120.877,0.00 218.862,98.002 218.862,218.879 0.00,120.877 -97.985,218.862 -218.862,218.862 z m 0.00-97.228c 67.175,0.00 121.618-54.459 121.618-121.635 0.00-67.175 -54.443-121.635 -121.618-121.635 -67.175,0.00 -121.635,54.459 -121.635,121.635 0.00,67.175 54.459,121.635 121.635,121.635z"  />
<glyph unicode="&#xe03d;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 273.563,369.062C 342.057,369.062 397.563,313.525 397.563,245.031C 397.563,176.537 342.057,121.031 273.563,121.031C 252.835,121.031 233.299,126.102 216.125,135.094C 216.143,135.014 216.171,134.923 216.188,134.844L 160.25,78.937L 114.438,124.781L 168.375,178.75C 168.464,178.79 168.567,178.805 168.656,178.844C 156.544,197.998 149.531,220.695 149.531,245.031C 149.531,313.525 205.069,369.062 273.563,369.062 z M 273.563,313.969C 235.498,313.969 204.625,283.096 204.625,245.031C 204.625,206.967 235.498,176.125 273.563,176.125C 311.627,176.125 342.469,206.967 342.469,245.031C 342.469,283.096 311.627,313.969 273.563,313.969z"  />
<glyph unicode="&#xe03c;" d="M 0.00,480.00  m0.00,0.00,0.00-512.00 512.00,0.00 0.00,267.313 -84.00-89.063 0.00-94.25 -344.00,0.00 0.00,344.00 169.25,0.00 0.00,84.00zM 366.023,480.00  m0.00,0.00,0.00-96.415c-87.575-0.002 -247.273-0.963 -247.273-273.876 18.106,182.501 101.282,183.649 247.273,183.651l0.00-105.29L 512.00,334.046 366.023,480.00z"  />
<glyph unicode="&#xe03b;" d="M 321.942,465.054  m0.00,0.00,0.00-125.529C 207.922,339.521 0.00,338.271 0.00-17.054 23.573,220.557 131.866,222.051 321.942,222.054l0.00-137.085L 512.00,275.026 321.942,465.054z"  />
<glyph unicode="&#xe03a;" d="M 507.601,309.218  m0.00,0.00,-21.297-122.18c-2.627-13.497 -13.38-21.704 -25.781-21.858l-310.493,0.00 -6.165-34.748 295.921,0.00c 15.583-1.184 26.152-12.222 26.341-26.341 -1.133-15.55 -12.171-26.149 -26.341-26.341l-327.307,0.00c-17.702,1.592 -28.257,15.702 -26.341,31.386L 100.148,185.356 78.851,399.451 18.321,418.507c-14.791,5.873 -20.829,19.254 -17.374,33.067 5.744,14.396 19.509,20.973 33.067,17.374l 77.343-24.66c 10.419-3.906 16.413-12.435 17.935-22.418l 4.483-42.594 350.846-39.232c 16.12-3.492 24.871-16.26 22.978-30.825 z m -314.924-286.777c0.00-22.209 -18.004-40.213 -40.213-40.213 -22.209,0.00 -40.213,18.004 -40.213,40.213 0.00,22.209 18.004,40.213 40.213,40.213 22.209,0.00 40.213-18.004 40.213-40.213 z m 240.068,0.00c0.00-22.209 -18.004-40.213 -40.213-40.213 -22.209,0.00 -40.213,18.004 -40.213,40.213 0.00,22.209 18.004,40.213 40.213,40.213 22.209,0.00 40.213-18.004 40.213-40.213z"  />
<glyph unicode="&#xe039;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00 0.00,82.615 114.615-32.00 256.00-32.00 397.385-32.00 512.00,82.615 512.00,224.00 512.00,365.385 397.385,480.00 256.00,480.00 z m -129.031-108.156 45.563-14.313c 6.032-1.981 10.049-7.582 10.75-13.313l 2.563-25.094 206.313-23.031c 8.859-1.717 15.084-9.715 13.844-17.938l-12.813-72.188c-1.631-7.551 -7.885-12.727 -14.844-12.813l-183.281,0.00 -3.594-20.469 174.063,0.00c 9.102-0.321 15.768-7.251 15.875-15.344 -0.377-9.232 -7.819-15.274 -15.875-15.375l-192.50,0.00c-9.709,0.803 -16.837,8.497 -15.344,17.906l 8.188,45.063 -12.813,125.969 -35.313,11.25c-4.096,1.365 -7.171,3.933 -9.219,7.688 -3.875,8.12 -0.255,17.111 6.656,21.00 3.945,2.051 7.798,2.307 11.781,1.00 z m 69.375-238.719c 13.255,0.00 24.00-10.745 24.00-24.00 0.00-13.255 -10.745-24.00 -24.00-24.00 -13.255,0.00 -24.00,10.745 -24.00,24.00 0.00,13.255 10.745,24.00 24.00,24.00 z m 140.875,0.00c 13.255,0.00 24.00-10.745 24.00-24.00 0.00-13.255 -10.745-24.00 -24.00-24.00 -13.255,0.00 -24.00,10.745 -24.00,24.00 0.00,13.255 10.745,24.00 24.00,24.00z"  />
<glyph unicode="&#xe038;" d="M 409.60-32.00  m0.00,0.00,0.00,512.00 102.40,0.00 0.00-512.00 -102.40,0.00 z m -136.533,384.00 102.40,0.00 0.00-384.00 -102.40,0.00 0.00,384.00 z m -136.533-128.00 102.40,0.00 0.00-256.00 -102.40,0.00 0.00,256.00 z m -136.533-128.00 102.40,0.00 0.00-128.00 -102.40,0.00 0.00,128.00z"  />
<glyph unicode="&#xe037;" d="M 389.48,167.617 m0.00,0.00,c 0.262,38.99 -22.818,64.913 -54.321,79.474 -15.514,6.631 -31.407,12.046 -46.561,15.788 -20.546,5.197 -39.752,8.649 -60.207,14.45 -16.578,3.919 -36.876,16.637 -37.463,31.575 3.768,26.501 36.046,32.499 55.659,32.646 29.325,1.119 47.702-13.591 60.475-35.322 9.355-15.675 16.945-24.993 34.251-25.153 18.837,1.06 33.469,15.947 33.717,33.181 -2.631,38.815 -37.271,61.193 -69.038,71.714 -41.026,10.368 -86.071,10.677 -124.161-3.746 -36.233-13.383 -61.141-43.466 -61.545-79.206 1.818-65.677 67.847-84.559 117.204-95.262 15.032-2.996 29.524-6.128 43.349-10.703 18.49-6.714 33.996-16.852 34.251-36.392 0.00-11.774 -5.887-21.585 -17.66-29.434 -25.191-12.396 -56.297-19.072 -81.347-5.887 -17.882,8.544 -26.556,22.968 -33.717,39.068 -7.486,16.656 -16.706,27.103 -34.251,27.294 -18.394-0.686 -34.526-13.886 -34.787-31.041 2.914-34.32 26.906-62.602 54.053-77.066 51.41-21.112 108.135-25.204 157.878-4.817 38.661,16.594 63.819,50.325 64.221,88.84 z m 93.121,9.633c 9.277-19.267 13.915-39.603 13.915-61.011 -0.817-37.359 -15.626-71.997 -39.871-96.599 -27.88-26.094 -61.415-39.617 -96.599-39.871 -23.232,0.392 -45.075,5.863 -64.221,16.055 -44.715-7.767 -96.773-1.354 -134.865,14.718 -57.797,26.103 -102.113,72.278 -125.499,125.499 -17.958,47.942 -22.905,92.983 -13.647,139.146 -30.67,55.408 -21.528,122.339 21.14,165.638 47.273,45.205 115.581,50.943 169.384,18.999 76.459,12.347 154.857-14.849 206.579-65.827 44.58-46.506 68.61-107.452 69.038-166.44 -0.073-17.415 -1.949-34.494 -5.352-50.306z"  />
<glyph unicode="&#xe036;" d="M 26.574,480.00  m0.00,0.00, 0.00-247.311c-5.882,3.919 -16.366,7.198 -21.755,3.258 -5.197-6.008 2.19-14.775 5.447-20.377 32.284-32.494 65.367-53.375 104.349-70.387 -8.819-27.603 -11.412-55.26 -8.689-82.61 5.795-47.803 38.457-94.231 89.678-94.573 24.498,0.559 50.865,18.214 51.096,43.477l0.00,107.623c 6.216-1.777 12.299-4.396 18.48-5.447l0.00-100.539c0.00-7.247 1.713-13.502 5.155-18.756 10.624-15.353 27.823-24.614 45.925-24.738 53.604,2.14 83.638,46.159 89.694,94.573 2.624,28.619 -1.185,57.598 -8.705,82.626 35.541,17.947 100.306,44.291 111.692,85.593 0.512,5.124 -4.311,7.031 -8.284,7.068 -6.43-0.264 -11.635-2.656 -16.438-6.241l 0.00,246.76 z m 26.618-27.185 403.842,0.00 0.00-235.882c-6.733-4.274 -13.25-7.103 -20.101-10.326l-357.641-3.809c-9.259,3.533 -17.30,9.26 -26.099,13.05 z M 186.672,327.635c-33.32,0.00 -60.32-27.016 -60.32-60.336 0.00-33.32 27.00-60.32 60.32-60.32 33.32,0.00 60.336,27.00 60.336,60.32 0.00,33.32 -27.016,60.336 -60.336,60.336 z m 142.995,0.00c-33.32,0.00 -60.32-27.016 -60.32-60.336 0.00-33.32 27.00-60.32 60.32-60.32 33.32,0.00 60.336,27.00 60.336,60.32 0.00,33.32 -27.016,60.336 -60.336,60.336z"  />
<glyph unicode="&#xe035;" d="M 0.00,480.00  m0.00,0.00,0.00-512.00 512.00,0.00 0.00,512.00 z m 167.375-97.375c 30.524,0.00 55.281-24.726 55.281-55.25 0.00-30.524 -24.757-55.281 -55.281-55.281 -30.524,0.00 -55.281,24.757 -55.281,55.281 0.00,30.524 24.757,55.25 55.281,55.25 z m 172.281,0.00c 30.524,0.00 55.25-24.726 55.25-55.25 0.00-30.524 -24.726-55.281 -55.25-55.281 -30.524,0.00 -55.281,24.757 -55.281,55.281 0.00,30.524 24.757,55.25 55.281,55.25 z m -261.563-174.031 355.813,0.00c0.00-98.256 -79.651-177.938 -177.906-177.938 -98.256,0.00 -177.906,79.682 -177.906,177.938z"  />
<glyph unicode="&#xe023;" d="M0.00,480.00L0.00,256.00L 224.00,256.00L 224.00,480.00L0.00,480.00 z M 288.00,480.00L 288.00,256.00L 512.00,256.00L 512.00,480.00L 288.00,480.00 z M 0.00,192.00L0.00-32.00L 224.00-32.00L 224.00,192.00L0.00,192.00 z M 288.00,192.00L 288.00-32.00L 512.00-32.00L 512.00,192.00L 288.00,192.00z"  />
<glyph unicode="&#xe022;" d="M0.00,480.00L0.00,352.00L 128.00,352.00L 128.00,480.00L0.00,480.00 z M 200.00,480.00L 200.00,352.00L 512.00,352.00L 512.00,480.00L 200.00,480.00 z M 0.00,288.00L0.00,160.00L 128.00,160.00L 128.00,288.00L0.00,288.00 z M 200.00,288.00L 200.00,160.00L 512.00,160.00L 512.00,288.00L 200.00,288.00 z M 0.00,96.00L0.00-32.00L 128.00-32.00L 128.00,96.00L0.00,96.00 z M 200.00,96.00L 200.00-32.00L 512.00-32.00L 512.00,96.00L 200.00,96.00z"  />
<glyph unicode="&#xe021;" d="M 485.151,141.119  m0.00,0.00,-126.837,0.00c 2.569-20.825 6.231-40.827 10.781-60.247 2.472-36.931 -22.259-63.543 -48.198-81.175 -6.765-4.228 -13.952-5.285 -21.563-3.171 -7.191,2.537 -12.475,7.61 -15.855,15.22l-57.711,129.373 -58.344,0.00c-15.336,1.089 -25.187,11.488 -25.368,25.368l0.00,256.211c 1.089,15.336 11.488,25.187 25.368,25.368l 234.648,0.00c 12.811-0.977 25.453-5.541 35.831-11.415 17.991-10.928 30.659-25.998 36.466-44.393l 35.514-220.696c 2.115-16.735 -10.069-30.229 -24.733-30.441 z m -392.56-5.073 -74.199,0.00c-10.305,0.746 -18.25,8.203 -18.391,17.758l0.00,282.846c 0.819,10.90 8.628,17.632 18.391,17.758l 74.199,0.00c 10.756-0.748 18.257-7.889 18.391-17.758l0.00-282.846c-0.886-10.479 -8.976-17.629 -18.391-17.758z"  />
<glyph unicode="&#xe020;" d="M -0.007,467.122  m0.00,0.00,z m 305.497-25.757c 18.099,0.195 35.224-18.501 47.086-31.837 27.859-34.232 12.486-72.166 6.361-113.692l 127.07,0.00c 17.178-0.128 25.985-13.045 24.79-30.497l-35.579-220.462c-8.063-28.192 -39.402-53.01 -72.438-56.535l-235.055,0.00c-13.905,0.182 -24.324,10.051 -25.414,25.414l0.00,256.666c 0.181,13.904 10.051,24.324 25.414,25.414l 58.436,0.00 57.813,129.596c 3.215,6.994 11.643,15.776 21.516,15.934 z m -212.728-140.447c 9.78-0.125 17.577-6.886 18.397-17.805l0.00-283.358c-0.142-9.571 -8.074-17.026 -18.397-17.775l-74.34,0.00c-9.433,0.129 -17.541,7.277 -18.429,17.775l0.00,283.358c 0.135,9.886 7.653,17.055 18.429,17.805z"  />
<glyph unicode="&#xe01f;" d="M 233.22,480.00C 173.534,480.00 113.837,457.241 68.298,411.702C-22.78,320.624 -22.78,172.936 68.298,81.858C 159.376-9.22 307.064-9.22 398.142,81.858C 489.22,172.936 489.22,320.624 398.142,411.702C 352.603,457.241 292.906,480.00 233.22,480.00 z M 233.22,419.076C 277.315,419.076 321.423,402.273 355.068,368.629C 422.357,301.339 422.357,192.221 355.068,124.932C 287.779,57.643 178.661,57.643 111.371,124.932C 44.082,192.221 44.082,301.339 111.371,368.629C 145.016,402.273 189.124,419.076 233.22,419.076 z M 209.362,379.931L 209.362,270.979L 148.979,270.979L 148.979,211.336L 209.362,211.336L 269.005,211.336L 269.005,270.979L 269.005,379.931L 209.362,379.931z"  />
<glyph unicode="&#xe01e;" d="M 436.99,405.024C 390.666,451.348 326.67,480.017 255.983,480.017 114.607,480.017 -0.017,365.393 -0.017,224.017c0.00-141.376 114.624-256.00 256.00-256.00 141.376,0.00 256.00,114.624 256.00,256.00 0.00,70.687 -28.669,134.683 -74.993,181.007 z m -51.947-36.834 46.136-46.136 -173.164-173.164 -0.022,0.022 -0.022-0.022 -121.239,121.239 5.06,5.06 35.862,35.862 5.215,5.215 75.125-75.125 127.05,127.05z"  />
<glyph unicode="&#xe01d;" d="M 74.839,150.20 m0.00,0.00,c 0.57,36.14 10.635,68.654 28.742,96.765 18.657,27.943 39.382,55.132 56.686,81.117 27.469,42.361 50.752,86.24 64.989,131.256 4.949,14.121 16.183,22.106 30.019,20.439 15.419,0.946 26.098-7.266 30.019-20.439 14.991-48.743 38.895-91.351 65.308-131.256 18.037-29.408 38.641-52.105 56.367-81.117 19.232-30.564 28.569-63.629 28.742-96.765C 434.614,100.765 415.164,54.808 383.178,22.138 347.502-12.141 300.569-30.23 255.276-30.556 205.865-29.504 160.035-9.893 127.533,22.138 93.325,57.928 75.165,104.864 74.839,150.20 z M 154.039,110.281c 1.184-26.025 21.859-45.036 45.03-45.349 26.258,1.162 44.726,22.187 45.03,45.349 0.00,9.155 -2.342,17.139 -7.026,23.952 -5.148,6.70 -10.224,13.634 -14.371,20.28 -6.57,10.729 -12.993,21.398 -16.287,32.734 -0.852,4.258 -3.30,6.068 -7.345,5.429 -3.832,0.852 -6.387-0.958 -7.664-5.429C 187.961,175.102 181.943,164.398 175.596,154.512 171.132,147.062 165.781,141.264 161.065,134.232 156.169,127.206 153.827,119.222 154.039,110.281z"  />
<glyph unicode="&#xe01c;" d="M 482.001,151.014  m0.00,0.00,0.00-183.017 -452.001,0.00 0.00,183.017L 202.667,224.558C 160.138,251.862 140.159,299.745 139.789,344.699 140.35,412.293 186.725,479.412 256.00,479.997 328.761,477.611 371.814,409.491 372.211,344.699 370.766,296.093 349.339,249.927 311.017,225.12z"  />
<glyph unicode="&#xe01b;" d="M 192.587,480.00  m0.00,0.00,0.00-39.144 -147.963,0.00 0.00-72.025 422.752,0.00 0.00,72.025 -147.963,0.00 0.00,39.144 -126.826,0.00 z m -125.26-165.969 0.00-346.031 377.346,0.00 0.00,346.031 -377.346,0.00z"  />
<glyph unicode="&#xe01a;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 216.281,384.281L 295.719,384.281L 295.719,359.781L 388.344,359.781L 388.344,314.687L 123.656,314.687L 123.656,359.781L 216.281,359.781L 216.281,384.281 z M 137.875,280.375L 374.125,280.375L 374.125,63.719L 137.875,63.719L 137.875,280.375z"  />
<glyph unicode="&#xe019;" d="M 512.00,480.00  m0.00,0.00,0.00-512.00 -512.00,0.00 0.00,512.00 z M 298.215,106.824c-8.70,2.425 -17.279,5.182 -24.085,10.554 -2.706,2.165 -4.059,4.15 -4.059,5.954 0.00,43.659 0.00,87.318 0.00,130.977l 82.808,0.00c0.00,19.123 0.00,38.247 0.00,57.37l-82.808,0.00 0.00,86.596 -47.628,0.00c-3.551-44.459 -27.105-86.596 -73.607-86.596l0.00-57.37 39.51,0.00c0.00-47.267 0.00-94.534 0.00-141.801 0.163-22.30 10.459-41.487 28.414-51.687 16.994-8.797 34.90-11.036 52.77-11.095 17.514,0.085 36.152-0.263 52.77,0.812 14.55,0.522 28.497,3.852 40.863,10.013l0.00,61.159 0.00,0.541 0.00-0.541c-7.216-4.691 -15.154-8.66 -23.814-11.907 -14.526-4.763 -27.493-6.326 -41.133-2.977z"  />
<glyph unicode="&#xe00a;" d="M 458.166,211.417 m0.00,0.00,c 1.237,4.967 -0.037,10.075 -4.681,11.703l-19.31,8.777c-4.772,1.992 -10.846-0.699 -11.703-5.266 -3.727-7.979 -9.011-14.511 -17.554-14.628 -7.412,0.00 -13.458,3.998 -18.139,11.995 -4.681,7.997 -7.022,18.432 -7.022,31.305 0.00,12.873 2.341,23.406 7.022,31.598 4.681,8.192 10.727,12.288 18.139,12.288 9.35-0.679 13.787-6.584 17.554-14.043 1.997-4.90 7.43-6.051 11.703-4.681l 19.31,8.777c 4.472,2.354 6.464,8.181 4.096,12.288 -11.313,24.186 -28.867,36.279 -52.663,36.279 -19.895,0.00 -35.986-7.607 -48.274-22.82 -12.288-15.214 -18.432-35.108 -18.432-59.684 0.00-24.576 6.144-44.373 18.432-59.392 12.288-15.019 28.379-22.528 48.274-22.528 23.796,0.00 41.545,12.678 53.248,38.034 z M 272.091,173.383c 31.017,0.48 54.636,21.792 55.003,49.737 -0.548,14.757 -6.481,26.236 -16.969,35.108 9.235,8.72 14.537,20.596 14.628,32.183 -0.768,31.621 -27.067,46.559 -52.663,46.811 -22.235,0.00 -39.399-8.777 -51.492-26.331 -2.731-3.902 -2.341-7.803 1.17-11.703l 14.043-12.873c 4.502-4.013 9.509-3.271 13.458,0.585 5.851,8.192 12.873,12.288 21.065,12.288 6.631,0.00 10.533-1.658 11.703-4.974 2.256-4.92 1.608-9.408 0.00-13.458 -6.035-6.249 -14.856-4.389 -23.406-4.389 -5.561-0.187 -9.862-3.448 -9.947-8.777l0.00-21.065c 0.485-6.043 4.604-10.035 9.947-8.777 6.45,0.006 22.807,0.736 25.454-4.681 1.365-3.121 2.048-5.657 2.048-7.607 0.00-8.972 -4.876-13.458 -14.628-13.458 -9.362,0.00 -17.164,4.291 -23.406,12.873 -3.818,4.62 -9.85,4.687 -13.458,1.17l-14.628-14.628c-3.511-3.511 -3.901-7.217 -1.17-11.118 13.261-18.655 32.567-26.753 53.248-26.916 z m -57.929,150.967c 1.069,5.609 -3.061,11.019 -8.192,11.118l-25.746,0.00c-4.681,0.00 -7.412-2.341 -8.192-7.022L 159.744,265.836 146.871,328.446c-1.17,4.681 -4.096,7.022 -8.777,7.022l-18.724,0.00c-5.072,0.00 -7.998-2.341 -8.777-7.022L 97.718,265.836 85.43,328.446c-0.78,4.681 -3.706,7.022 -8.777,7.022l-25.161,0.00c-6.413-0.505 -9.496-5.576 -8.777-11.118l 32.183-141.605c 1.17-4.681 4.096-7.022 8.777-7.022l 24.576,0.00c 4.681,0.00 7.607,2.341 8.777,7.022l 11.703,58.514 11.703-58.514c 0.78-4.681 3.706-7.022 8.777-7.022l 24.576,0.00c 4.681,0.00 7.607,2.341 8.777,7.022 z M 511.999,479.998 511.999,87.998 256.00-32.002 0.00,87.998 0.00,479.998z" horiz-adv-x="511"  />
<glyph unicode="&#xe009;" d="M 256.00,480.00L0.00-32.00L 512.00-32.00L 256.00,480.00 z M 236.313,302.469L 275.688,302.469L 275.688,234.781L 266.063,139.594L 245.938,139.594L 236.313,234.781L 236.313,302.469 z M 236.313,102.219L 275.688,102.219L 275.688,59.812L 236.313,59.812L 236.313,102.219z"  />
<glyph unicode="&#xe008;" d="M 298.068,86.512  m0.00,0.00,-85.162,0.00 0.00,85.162 85.162,0.00 z m 107.735,0.00 -85.162,0.00 0.00,85.162 85.162,0.00 z m -215.471,0.00 -85.162,0.00 0.00,85.162 85.162,0.00 z m 215.471,269.339 0.00-156.986 -300.634,0.00 0.00,156.986 z m 43.095,45.147 -385.796,0.00 0.00-353.988 385.796,0.00 z M 0.00-15.58l0.00,479.166 512.00,0.00 0.00-479.166z"  />
<glyph unicode="&#xe007;" d="M 256.00,480.00 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 z m -136.041-128.697 272.065,0.00 0.00-254.606 -272.065,0.00 z m 33.541-33.264 0.00-188.093 205.001,0.00 0.00,188.093 z m 22.355-23.992 159.741,0.00 0.00-83.404 -159.741,0.00 z m 0.00-97.864 45.244,0.00 0.00-45.244 -45.244,0.00 z m 57.24,0.00 45.26,0.00 0.00-45.244 -45.26,0.00 z m 57.24,0.00 45.26,0.00 0.00-45.244 -45.26,0.00z"  />
<glyph unicode="&#xe006;" d="M 354.757,129.191 m0.00,0.00,c 12.85-3.884 19.605-13.656 16.939-25.682C 369.876,95.859 367.69,88.937 365.14,82.745 351.382,47.449 328.612,19.142 299.569-0.586 267.233-21.326 231.772-31.809 196.294-32.005 147.652-30.983 102.397-12.238 69.797,18.812 36.161,52.65 17.396,97.503 17.066,141.212c 0.848,36.879 11.908,70.458 31.692,98.357 22.451,29.885 51.414,51.407 83.603,63.932 12.287,2.961 24.419-1.666 28.96-12.568 3.82-12.322 -2.113-23.713 -13.114-27.321C 122.103,252.915 100.676,236.504 85.37,215.252 69.762,192.291 61.48,166.921 61.327,141.212 62.122,105.148 77.063,72.019 100.943,48.866 128.734,23.988 161.884,10.861 196.294,10.616c 28.935,0.653 55.601,8.901 77.866,24.042 22.901,16.519 40.171,37.756 49.451,62.293 2.186,5.10 3.825,10.382 4.918,15.846 4.086,12.541 14.54,18.983 26.228,16.393 z M 492.457,45.588c 4.979-10.651 2.047-22.871 -5.191-30.053 -15.087-12.537 -35.87-8.933 -43.987,8.196L 371.151,149.409c-42.783,0.519 -88.186-0.431 -130.049-0.546 -18.223,1.133 -31.871,11.828 -34.971,28.414l-30.053,144.802 0.546,0.00c-2.335,11.57 4.964,25.976 11.475,32.512 8.014,7.832 17.85,11.748 29.507,11.748 9.471,0.00 17.759-2.732 24.862-8.196 16.881-15.035 16.195-28.313 20.491-50.271l 85.243,0.00c 9.752-0.374 18.101-7.788 20.491-15.846 3.253-16.493 -8.06-28.483 -23.769-27.321l-72.675,0.00 10.928-53.55 92.892,0.00c 14.879-0.731 26.762-7.756 32.785-20.218L 492.457,45.588 z M 203.398,377.814c-29.432,1.083 -51.161,23.032 -51.364,51.364 1.194,29.115 23.374,50.616 51.364,50.817 29.017-1.286 50.618-22.601 50.817-50.817 -1.325-29.411 -24.609-51.009 -50.817-51.364z"  />
<glyph unicode="&#xe005;" d="M 255.707-32.00C 112.743-29.252 0.999,87.941 0.00,224.292 2.78,367.15 119.351,479.00 255.707,480.00 398.574,477.143 510.999,360.832 512.00,224.292 509.176,81.32 392.242-30.999 255.707-32.00 z m 0.00,493.861C 122.964,459.246 18.478,351.047 17.554,224.292 20.136,91.443 128.957-12.937 255.707-13.861 388.557-11.279 492.937,97.543 493.86,224.292 491.355,357.134 382.274,460.938 255.707,461.86 z m -61.44-447.049 65.536,188.416 68.462-184.32c-46.124-15.44 -89.729-16.376 -133.998-4.096 z M 143.945,347.757c-23.992-3.261 -47.324-4.424 -70.217-3.511 43.468,62.144 113.065,97.106 181.979,97.719 56.367-1.067 108.915-22.373 147.456-57.344 -17.874,1.321 -28.577-6.518 -36.279-19.895 -11.194-34.534 12.459-60.097 25.746-86.016 12.563-23.682 11.567-50.611 4.681-73.728L 364.544,93.22 285.55,327.862c 8.231,0.766 16.516,1.013 23.991,2.341 8.848,1.97 10.789,10.203 4.681,15.214 -1.95,1.561 -4.096,2.341 -6.437,2.341l-47.397-3.511 -35.986,0.00c-10.16-0.60 -38.848,9.215 -41.253-4.096 -1.242-5.127 2.585-9.146 7.022-9.947 7.827-1.014 16.796-2.166 23.991-2.926l 34.523-92.453 -47.982-141.605 -79.579,234.642c 8.421,0.731 16.953,0.986 24.576,2.341 6.242,0.782 8.972,3.903 8.192,9.362 -1.107,4.854 -5.433,8.134 -9.947,8.192 z m -87.771-36.279 104.741-283.209C 123.121,46.897 93.243,74.291 71.972,106.971 33.062,169.065 28.969,247.841 56.174,311.479 z m 409.307-145.408c-17.196-56.153 -52.317-102.662 -100.937-130.779 2.341,6.242 6.046,16.774 11.118,31.598l 60.855,176.713c 5.851,17.164 9.947,36.279 12.288,57.344 0.79,8.618 0.817,17.308 -0.585,25.161 24.934-53.778 32.008-107.047 17.262-160.037z"  />
<glyph unicode="&#xe004;" d="M 412.247,471.913C 363.906,489.307 307.739,478.644 269.005,439.91c-38.734-38.734 -49.396-94.901 -32.003-143.241l-237.003-237.003 82.359-82.359 237.003,237.003c 48.34-17.394 104.507-6.731 143.241,32.003 38.734,38.734 49.396,94.901 32.003,143.241L 411.262,306.21 351.899,329.206 328.903,388.569 412.247,471.913 z M 98.938,76.245c 9.452-9.452 9.452-24.775 0.00-34.227 -9.452-9.452 -24.775-9.452 -34.227,0.00 -9.452,9.452 -9.452,24.775 0.00,34.227 9.452,9.452 24.775,9.452 34.227,0.00z"  />
<glyph unicode="&#xe003;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00 0.00,82.615 114.615-32.00 256.00-32.00 397.385-32.00 512.00,82.615 512.00,224.00 512.00,365.385 397.385,480.00 256.00,480.00 z m 69.719-102.344c 9.698,0.027 19.421-1.615 28.656-4.938l-50.969-50.969 14.063-36.281 36.281-14.063 50.969,50.969c 10.633-29.552 4.117-63.914 -19.563-87.594 -23.679-23.679 -58.011-30.196 -87.563-19.563l-144.906-144.875 -50.344,50.344 144.875,144.906c-10.633,29.552 -4.117,63.883 19.563,87.563 16.279,16.279 37.601,24.44 58.938,24.50 z M 141.906,130.812c-5.778-5.778 -5.778-15.128 0.00-20.906 5.778-5.778 15.128-5.778 20.906,0.00 5.778,5.778 5.778,15.128 0.00,20.906 -6.263,5.693 -15.509,5.234 -20.906,0.00z"  />
<glyph unicode="&#xe002;" d="M 512.00,29.678 0.00,29.679l0.00,388.64 512.00,0.00 z M 182.312,110.464 361.347,222.907 182.312,335.35z" horiz-adv-x="511"  />
<glyph unicode="&#xe001;" d="M 262.045,348.961  m0.00,0.00,-65.519,0.00 0.00-65.519 -65.519,0.00 0.00-65.519 65.519,0.00 0.00-65.519 65.519,0.00 0.00,65.519 65.519,0.00 0.00,65.519 -65.519,0.00 z m 249.956-323.928 -94.642,94.642c 25.946,37.149 41.277,82.259 41.277,131.006 0.00,126.649 -102.701,229.317 -229.317,229.317 -126.616,0.00 -229.317-102.669 -229.317-229.317 0.00-126.649 102.669-229.317 229.317-229.317 48.746,0.00 93.889,15.332 131.038,41.277l 94.642-94.642 z M 229.284,86.85c-90.449,0.00 -163.798,73.316 -163.798,163.798 0.00,90.482 73.349,163.798 163.798,163.798 90.482,0.00 163.798-73.316 163.798-163.798 0.033-90.482 -73.283-163.798 -163.798-163.798z"  />
<glyph unicode="&#xe000;" d="M 512.001,25.033  m0.00,0.00,-94.642,94.642c 25.946,37.149 41.277,82.259 41.277,131.006 0.00,126.649 -102.701,229.317 -229.317,229.317 -126.616,0.00 -229.317-102.669 -229.317-229.317 0.00-126.649 102.669-229.317 229.317-229.317 48.746,0.00 93.889,15.332 131.038,41.277l 94.642-94.642 z M 229.284,86.85c-90.449,0.00 -163.798,73.316 -163.798,163.798 0.00,90.482 73.349,163.798 163.798,163.798 90.482,0.00 163.798-73.316 163.798-163.798 0.033-90.482 -73.283-163.798 -163.798-163.798 z m -98.279,131.071 196.558,0.00 0.00,65.519 -196.558,0.00z"  />
<glyph unicode="&#xe069;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 141.156,356.531L 218.688,356.531L 218.688,91.469L 141.156,91.469L 141.156,356.531 z M 293.313,356.531L 370.844,356.531L 370.844,91.469L 293.313,91.469L 293.313,356.531z"  />
<glyph unicode="&#xe068;" d="M 493.613,399.465 427.109,465.97C 408.771,484.307 377.742,483.108 357.856,463.172 337.969,443.285 336.67,412.206 355.057,393.869l 66.504-66.504c 18.338-18.338 49.366-17.138 69.303,2.798 19.886,19.937 21.136,50.915 2.748,69.303 z M 69.652,175.018 202.661,42.01 418.815,258.111 285.805,391.121 69.652,175.018 z M 0.00-25.595 175.43,9.532 35.126,149.836 0.00-25.595z"  />
<glyph unicode="&#xe067;" d="M 256.00,480.00 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 z m 86.128-79.968c 7.505-0.059 14.791-2.827 20.296-8.332l 42.602-42.586c 11.776-11.776 10.969-31.617 -1.767-44.385 -12.768-12.768 -32.641-13.527 -44.385-1.783l-42.586,42.586c-11.776,11.744 -10.953,31.649 1.783,44.385 6.766,6.783 15.551,10.183 24.057,10.116 z m -70.192-56.267 85.187-85.171 -138.44-138.407 -85.187,85.187 138.44,138.391 z m -160.551-154.521 89.856-89.856 -112.357-22.50 22.50,112.357z"  />
<glyph unicode="&#xe066;" d="M 300.322,366.462 m0.00,0.00,c 7.705,0.00 14.796-1.488 21.275-4.465 19.231-9.68 30.586-28.077 30.731-48.591l0.00-141.308c-3.608-22.464 -29.319-16.355 -29.943,0.00l0.00,133.429c-2.292,7.609 -16.984,4.454 -17.336,0.00l0.00-306.255c-3.736-31.272 -44.146-22.093 -45.177,0.525 0.00,62.512 0.00,125.024 0.00,187.536 -2.584,12.096 -19.589,6.60 -19.962-0.525 0.721-62.334 0.525-124.673 0.525-187.01 -4.03-31.111 -44.244-23.151 -45.177-0.525l-0.525,306.255c-2.355,7.445 -15.969,4.589 -16.285,0.00l0.00-133.429c-3.608-22.464 -29.319-16.355 -29.943,0.00l0.00,141.308c 0.363,19.639 7.561,39.315 24.69,48.591 5.603,2.977 12.433,4.465 20.487,4.465 35.546,0.00 71.092,0.00 106.638,0.00 z m -0.53,64.173c0.00-27.263 -22.101-49.365 -49.365-49.365 -27.263,0.00 -49.365,22.101 -49.365,49.365 0.00,27.263 22.101,49.365 49.365,49.365 27.263,0.00 49.365-22.101 49.365-49.365z"  />
<glyph unicode="&#xe065;" d="M 499.753,62.225  m0.00,0.00,-71.393-70.821c-10.538-10.808 -24.508-14.469 -38.112-14.486C 330.086-21.279 273.22,8.273 226.527,38.619 149.887,94.375 79.565,163.51 35.431,247.057 18.504,282.091 -1.358,326.791 0.539,365.896c 0.169,14.71 4.133,29.147 14.493,38.63l 71.393,71.358c 14.825,12.61 29.162,8.25 38.649-6.438l 57.436-108.913c 6.045-12.903 2.578-26.727 -6.441-35.947l-26.303-26.289c-1.624-2.224 -2.657-4.756 -2.684-7.512 10.086-39.042 40.643-75.028 67.636-99.793 26.993-24.765 56.007-58.317 93.67-66.26 4.655-1.299 10.357-1.755 13.688,1.341l 30.597,31.118c 10.548,7.995 25.777,11.902 37.039,5.365l 0.537,0.00 103.60-61.164c 15.208-9.533 16.794-27.958 5.904-39.166z"  />
<glyph unicode="&#xe064;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 164.00,378.312C 169.275,378.624 174.042,375.471 177.656,369.875L 212.656,303.50C 216.341,295.635 214.248,287.213 208.75,281.594L 192.719,265.562C 191.729,264.207 191.078,262.68 191.063,261.00C 197.211,237.202 215.859,215.252 232.313,200.156C 248.766,185.061 266.45,164.623 289.406,159.781C 292.244,158.99 295.72,158.707 297.75,160.594L 316.375,179.562C 322.804,184.436 332.104,186.797 338.969,182.812L 339.281,182.812L 402.438,145.531C 411.708,139.72 412.669,128.488 406.031,121.656L 362.531,78.50C 356.108,71.912 347.573,69.697 339.281,69.687C 302.61,70.786 267.96,88.785 239.50,107.281C 192.785,141.267 149.933,183.418 123.031,234.344C 112.713,255.698 100.593,282.945 101.75,306.781C 101.853,315.748 104.279,324.533 110.594,330.312L 154.094,373.812C 157.482,376.695 160.835,378.126 164.00,378.312z"  />
<glyph unicode="&#xe063;" d="M0.00,466.781L0.00-18.781L 512.00-18.781L 512.00,466.781L0.00,466.781 z M 63.188,405.531L 448.813,405.531L 448.813,139.25L 63.188,139.25L 63.188,405.531z"  />
<glyph unicode="&#xe062;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 118.625,354.281L 393.375,354.281L 393.375,93.719L 118.625,93.719L 118.625,354.281 z M 152.531,321.406L 152.531,178.531L 359.469,178.531L 359.469,321.406L 152.531,321.406z"  />
<glyph unicode="&#xe061;" d="M 388.62,439.509 m0.00,0.00,c 75.976-47.385 122.947-129.32 123.38-215.779 0.00-28.988 -4.892-56.708 -14.675-83.159l-108.705,0.00 z m 97.291-325.571c-40.483-81.338 -120.057-133.494 -206.539-142.403 -44.333-2.839 -92.473,5.549 -128.272,21.197l0.00,121.206 z M 0.00,223.729C 1.131,320.713 56.708,406.314 139.142,448.749l 97.291-86.964 -227.193-203.822c-6.16,22.465 -9.24,44.388 -9.24,65.766 z M 123.923,7.407C 75.579,37.702 38.661,81.668 18.48,130.243L 123.923,225.36 z M 361.444,285.148 166.318,460.706c 29.796,10.016 60.519,16.20 89.681,16.306 36.96,0.00 72.108-7.609 105.444-22.828z"  />
<glyph unicode="&#xe060;" d="M 0.00,437.656L 0.00,10.344L 512.00,10.344L 512.00,437.656L 0.00,437.656 z M 39.281,397.719L 472.719,397.719L 472.719,50.281L 39.281,50.281L 39.281,397.719 z M 128.625,347.562C 116.401,347.562 106.116,343.397 97.781,335.062C 89.447,326.728 85.281,316.443 85.281,304.219C 85.281,292.55 89.447,282.553 97.781,274.219C 106.116,265.884 116.401,261.719 128.625,261.719C 140.293,261.719 150.29,265.884 158.625,274.219C 166.96,282.553 171.125,292.55 171.125,304.219C 171.125,316.443 166.96,326.728 158.625,335.062C 150.29,343.397 140.293,347.562 128.625,347.562 z M 312.813,326.437L 214.469,177.25L 162.25,220.594L 85.281,120.594L 85.281,91.406L 426.719,91.406L 426.719,208.656L 312.813,326.437z"  />
<glyph unicode="&#xe05f;" d="M 256.00,480.00 m0.00,0.00,c 152.087-2.844 255.007-119.478 256.00-256.00 -2.72-145.46 -119.478-255.007 -256.00-256.00 -25.255,0.098 -49.912,4.029 -72.432,10.505 4.792,7.741 9.584,16.311 14.376,25.711 10.106,20.545 14.721,42.547 19.905,63.585 2.212,9.031 5.345,20.919 9.40,35.663 4.423-8.478 12.441-15.85 24.052-22.117 30.308-14.746 67.857-9.874 94.825,3.87 37.835,21.491 60.006,54.87 71.879,92.337 22.862,86.887 -6.617,170.427 -85.425,204.026 -95.025,28.623 -201.075-7.099 -238.03-92.061 -16.135-56.778 -15.18-129.675 40.916-153.434 2.95-1.106 5.623-1.106 8.017,0.00 5.265,3.008 11.371,29.08 10.229,34.557 -0.369,1.659 -1.659,3.963 -3.87,6.912 -31.003,41.971 -12.108,104.432 16.864,135.741 49.266,42.316 125.942,49.188 171.127,8.847 40.078-46.756 30.976-119.522 5.253-165.875 -14.213-22.667 -33.28-39.797 -58.886-40.086 -26.953,0.597 -47.282,23.404 -40.363,49.209 5.88,30.284 22.193,62.402 22.669,90.678 -1.302,23.519 -13.08,38.435 -34.834,38.704 -34.725-4.379 -48.744-36.846 -49.209-66.35 1.11-14.178 1.97-28.609 8.294-40.363 -7.372-29.858 -13.086-53.909 -17.14-72.156 -6.216-32.373 -18.403-66.231 -20.181-97.59 -0.553-10.321 -0.645-19.905 -0.277-28.752 -94.859,44.985 -152.597,132.855 -153.158,234.436 2.763,147.752 119.478,255.007 256.00,256.00z"  />
<glyph unicode="&#xe05e;" d="M 136.96-16.64  m0.00,0.00, 51.20,0.00 114.893,204.826 132.147,0.00c0.00,0.00 76.80,0.00 76.80,35.814 0.00,35.84 -76.80,35.84 -76.80,35.84l-132.147,0.00 -114.893,204.80 -51.20,0.00 63.693-204.80 -91.827,0.00 -57.626,51.226 -51.20,0.00L 40.986,224.025 0.00,136.96l 51.20,0.00 57.626,51.226 91.827,0.00 -63.693-204.826z"  />
<glyph unicode="&#xe05c;" d="M 256.00-32.00 m0.00,0.00,c-141.376,0.00 -256.00,114.624 -256.00,256.00 0.00,141.376 114.624,256.00 256.00,256.00 141.376,0.00 256.00-114.624 256.00-256.00 0.00-141.376 -114.624-256.00 -256.00-256.00 z m -64.00,383.808 0.00-255.616 192.00,127.808 -192.00,127.808z"  />
<glyph unicode="&#xe05b;" d="M 256.00,480.00C 114.624,480.00 0.00,365.376 0.00,224.00C0.00,82.624 114.624-32.00 256.00-32.00C 397.376-32.00 512.00,82.624 512.00,224.00C 512.00,365.376 397.376,480.00 256.00,480.00 z M 256.00,420.625C 364.586,420.625 452.625,332.586 452.625,224.00C 452.625,115.414 364.586,27.375 256.00,27.375C 147.414,27.375 59.375,115.414 59.375,224.00C 59.375,332.586 147.414,420.625 256.00,420.625 z M 192.00,351.812L 192.00,96.187L 384.00,224.00L 192.00,351.812z"  />
<glyph unicode="&#xe05a;" d="M 183.50,480.00L 183.50,296.50L0.00,296.50L0.00,151.50L 183.50,151.50L 183.50-32.00L 328.50-32.00L 328.50,151.50L 512.00,151.50L 512.00,296.50L 328.50,296.50L 328.50,480.00L 183.50,480.00z"  />
<glyph unicode="&#xe04e;" d="M 0.00,367.001 143.001,224.00 0.00,80.998 112.998-32.00 256.00,111.001 399.001-32.00 512.00,80.998 368.998,224.00 512.00,367.001 399.001,480.00 256.00,336.998 112.998,480.00 0.00,367.001z"  />
<glyph unicode="&#xe04d;" d="M 256.00,480.00C 114.616,480.00 0.00,365.384 0.00,224.00C0.00,82.616 114.616-32.00 256.00-32.00C 397.384-32.00 512.00,82.616 512.00,224.00C 512.00,365.384 397.384,480.00 256.00,480.00 z M 256.00,424.375C 366.664,424.375 456.344,334.637 456.344,224.00C 456.344,113.363 366.664,23.656 256.00,23.656C 145.336,23.656 55.656,113.363 55.656,224.00C 55.656,334.637 145.336,424.375 256.00,424.375 z M 185.781,349.719L 130.281,294.219L 200.50,224.00L 130.281,153.781L 185.781,98.281L 256.00,168.50L 326.219,98.281L 381.719,153.781L 311.50,224.00L 381.719,294.219L 326.219,349.719L 256.00,279.50L 185.781,349.719z"  />
<glyph unicode="&#xe04c;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 175.563,368.00L 256.00,287.562L 336.438,368.00L 400.00,304.437L 319.563,224.00L 400.00,143.562L 336.438,80.00L 256.00,160.437L 175.563,80.00L 112.00,143.562L 192.438,224.00L 112.00,304.437L 175.563,368.00z"  />
<glyph unicode="&#xe04b;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 350.895-32.00 433.66,19.671 477.875,96.375L 387.75,148.219C 361.479,102.654 312.374,71.906 256.00,71.906C 172.001,71.906 103.906,140.001 103.906,224.00C 103.906,307.999 172.001,376.094 256.00,376.094C 292.005,376.094 325.006,363.498 351.031,342.562L 283.813,294.75L 512.00,218.656L 512.00,457.125L 437.688,404.25C 391.306,451.007 327.063,480.00 256.00,480.00z"  />
<glyph unicode="&#xe04a;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 256.00,372.281C 297.16,372.281 334.386,355.488 361.25,328.406L 404.281,359.031L 404.281,220.906L 272.094,264.969L 311.031,292.687C 295.957,304.814 276.854,312.094 256.00,312.094C 207.347,312.094 167.906,272.653 167.906,224.00C 167.906,175.347 207.347,135.906 256.00,135.906C 288.652,135.906 317.096,153.702 332.313,180.094L 384.50,150.094C 358.89,105.666 310.964,75.719 256.00,75.719C 174.109,75.719 107.719,142.109 107.719,224.00C 107.719,305.891 174.109,372.281 256.00,372.281z"  />
<glyph unicode="&#xe049;" d="M 178.567,221.299 75.638,118.371 0.00,194.009l 0.00-226.009 226.009,0.00 -75.638,75.638 102.928,102.928 -74.732,74.732zM 333.433,226.701 436.362,329.629 512.00,253.991l0.00,226.009 -226.009,0.00 75.638-75.638 -102.928-102.928 74.732-74.732z"  />
<glyph unicode="&#xe048;" d="M 129.75,353.75 0.00,224.00l 129.75-129.75 0.00,86.844 252.50,0.00 0.00-86.844L 512.00,224.00 382.25,353.75l0.00-86.844 -252.50,0.00z"  />
<glyph unicode="&#xe047;" d="M 74.732-32.00  m0.00,0.00, 102.928,102.928 75.638-75.638 0.00,226.009 -226.009,0.00 75.638-75.638L0.00,42.732 74.732-32.00zM 437.268,480.00  m0.00,0.00,-102.928-102.928 -75.638,75.638 0.00-226.009 226.009,0.00L 409.072,302.339 512.00,405.267 437.268,480.00z"  />
<glyph unicode="&#xe046;" d="M 385.749,350.25  m0.00,0.00,-129.75,129.75 -129.75-129.75 86.844,0.00 0.00-134.313 0.00-15.875 0.00-102.313 -86.844,0.00 129.75-129.75 129.75,129.75 -86.844,0.00 0.00,102.313 0.00,15.875 0.00,134.313 86.844,0.00z"  />
<glyph unicode="&#xe045;" d="M 128.00,384.00L0.00,256.00L 96.00,256.00L 96.00,96.00L 288.00,96.00L 224.00,160.00L 160.00,160.00L 160.00,256.00L 256.00,256.00L 128.00,384.00 z M 224.00,352.00L 288.00,288.00L 352.00,288.00L 352.00,192.00L 256.00,192.00L 384.00,64.00L 512.00,192.00L 416.00,192.00L 416.00,352.00L 224.00,352.00z"  />
<glyph unicode="&#xe044;" d="M 256.00-32.00 m0.00,0.00,c-141.376,0.00 -256.00,114.624 -256.00,256.00 0.00,141.376 114.624,256.00 256.00,256.00 141.376,0.00 256.00-114.624 256.00-256.00 0.00-141.376 -114.624-256.00 -256.00-256.00 z m -32.00,351.84 -128.00-95.84 128.00-95.84 0.00,191.68 z m 160.00,0.00 -128.00-95.84 128.00-95.84 0.00,191.68z"  />
<glyph unicode="&#xe043;" d="M 511.999-31.999 m0.00,0.00,c0.00,0.00 -103.363,511.999 -103.363,511.999 0.00,0.00 -127.595,0.00 -127.595,0.00 0.00,0.00 3.91-118.048 3.91-118.048 0.00,0.00 -57.904,0.00 -57.904,0.00 0.00,0.00 3.91,118.048 3.91,118.048 0.00,0.00 -127.595,0.00 -127.595,0.00 0.00,0.00 -103.363-511.999 -103.363-511.999 0.00,0.00 214.00,0.00 214.00,0.00 0.00,0.00 4.882,147.39 4.882,147.39 0.00,0.00 74.237,0.00 74.237,0.00 0.00,0.00 4.882-147.39 4.882-147.39 0.00,0.00 214.00,0.00 214.00,0.00 0.00,0.00 0.00,0.00 0.00,0.00M 291.657,159.475c0.00,0.00 -71.316,0.00 -71.316,0.00 0.00,0.00 5.751,173.638 5.751,173.638 0.00,0.00 59.814,0.00 59.814,0.00 0.00,0.00 5.751-173.638 5.751-173.638 0.00,0.00 0.00,0.00 0.00,0.00"  />
<glyph unicode="&#xe042;" d="M 511.999-31.999 m0.00,0.00,c0.00,282.769 -229.23,511.999 -511.999,511.999l0.00-102.406c 226.216,0.00 409.593-183.378 409.593-409.593l 102.406,0.00 z m -204.813,0.00c0.00,169.662 -137.526,307.187 -307.187,307.187l0.00-102.375c 113.108,0.00 204.813-91.705 204.813-204.813l 102.375,0.00 z m -204.781,0.00c0.00,56.554 -45.852,102.406 -102.406,102.406l0.00-102.406 102.406,0.00z"  />
<glyph unicode="&#xe041;" d="M 0.00,435.812  m0.00,0.00,0.00-338.00 185.906,0.00 0.00-48.719 -45.313,0.00 0.00-36.906 230.813,0.00 0.00,36.906 -45.313,0.00 0.00,48.719 185.906,0.00 0.00,338.00 -512.00,0.00 z m 62.969-63.813 386.063,0.00 0.00-210.406 -386.063,0.00 0.00,210.406z"  />
<glyph unicode="&#xe040;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 106.688,347.531L 405.313,347.531L 405.313,150.406L 296.875,150.406L 296.875,122.00L 323.313,122.00L 323.313,100.469L 188.688,100.469L 188.688,122.00L 215.125,122.00L 215.125,150.406L 106.688,150.406L 106.688,347.531 z M 143.438,310.312L 143.438,187.594L 368.563,187.594L 368.563,310.312L 143.438,310.312z"  />
<glyph unicode="&#xe034;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 122.094,357.906L 389.906,357.906L 389.906,90.094L 122.094,90.094L 122.094,357.906 z M 209.625,306.969C 193.658,306.969 180.719,294.03 180.719,278.062C 180.719,262.095 193.658,249.156 209.625,249.156C 225.592,249.156 238.563,262.095 238.563,278.062C 238.563,294.03 225.592,306.969 209.625,306.969 z M 299.75,306.969C 283.783,306.969 270.844,294.03 270.844,278.062C 270.844,262.095 283.783,249.156 299.75,249.156C 315.717,249.156 328.656,262.095 328.656,278.062C 328.656,294.03 315.717,306.969 299.75,306.969 z M 162.938,215.937C 162.938,164.54 204.602,122.875 256.00,122.875C 307.397,122.875 349.063,164.54 349.063,215.937L 162.938,215.937z"  />
<glyph unicode="&#xe033;" d="M 0.00,289.573  m0.00,0.00, 120.656,0.00 181.508,147.934 0.00-508.853 -181.508,147.934 -120.656,0.00 z m 370.361,24.132c 35.672-35.672 53.858-79.038 54.558-130.098 0.00-48.962 -18.186-90.929 -54.558-125.902L 333.641,95.473c 25.18,25.18 37.77,54.907 37.77,89.18 0.00,34.973 -12.59,65.399 -37.77,91.278l 36.722,37.77 z m 62.95,61.902c 52.46-52.46 78.688-115.76 78.688-189.902 0.00-74.142 -26.23-137.793 -78.688-190.952l-38.82,38.82c 41.968,41.268 62.952,91.804 62.952,151.606 0.00,59.804 -20.984,110.688 -62.952,152.656z"  />
<glyph unicode="&#xe032;" d="M 121.236,77.283  m0.00,0.00,0.00-41.769 201.753,0.00 0.00,41.769 -201.753,0.00 z m 3.415,75.132 -2.89-41.769 201.227-13.66 2.627,41.506 -200.965,13.923 z m -61.997,17.338 0.00-201.753 33.363,0.00 264.274,0.00 21.279,0.00 0.00,201.753 -33.363,0.00 0.00-168.127 -252.191,0.00 0.00,168.127 -33.363,0.00 z m 77.234,71.454 -9.982-40.456 195.711-48.599 9.982,40.718 -195.711,48.337 z M 183.232,342.346 161.954,306.356 335.859,204.167 357.138,240.419 183.232,342.346 z m 106.13,95.885 -34.676-23.38 112.172-167.339 34.676,23.117 -112.172,167.602 z m 135.553,41.769 -41.506-4.991 24.431-200.177 41.506,4.991 -24.431,200.177z"  />
<glyph unicode="&#xe031;" d="M 410.18-20.532 253.476,94.379 93.746-16.287 154.609,168.256 0.00,285.97 194.319,285.114 258.495,468.531 317.728,283.458 512.00,279.102 354.289,165.578z"  />
<glyph unicode="&#xe030;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 257.688,390.437L 298.031,264.469L 430.25,261.50L 322.906,184.25L 360.938,57.562L 254.281,135.781L 145.563,60.437L 187.00,186.062L 81.75,266.187L 214.031,265.594L 257.688,390.437z"  />
<glyph unicode="&#xe02f;" d="M 258.494,468.527  m0.00,0.00,-15.98-45.661 -48.194-137.744 -145.924,0.633 -48.397,0.228 38.52-29.327 116.091-88.41 -45.712-138.554 -15.145-45.965 39.786,27.554 119.94,83.092 117.686-86.283 39.026-28.617L 396.263,25.818 354.273,165.588 472.719,250.832 511.999,279.12 463.628,280.184 317.729,283.476 273.258,422.435 258.494,468.527 z m -1.368-102.035 33.252-103.909 3.52-11.017 11.548-0.253 109.076-2.431 -88.537-63.744 -9.396-6.737 3.343-11.067 31.378-104.492 -87.98,64.503 -9.32,6.838 -9.497-6.585 -89.677-62.123 34.189,103.606 3.596,10.966 -9.193,7.015 -86.764,66.073 109.076-0.481 11.548-0.051 3.824,10.915 36.013,102.972z"  />
<glyph unicode="&#xe02b;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 128.00,352.00L 384.00,352.00L 384.00,96.00L 128.00,96.00L 128.00,352.00z"  />
<glyph unicode="&#xe02a;" d="M 445.455,383.996C 499.976,310.988 512.00,214.998 478.303,134.912 436.346,41.767 345.414-16.399 248.899-17.10 153.888-16.042 69.551,37.778 27.239,118.377l 108.426,0.00c 46.841,0.337 86.991,29.129 87.595,72.539 -0.021,23.768 -8.878,45.594 -28.041,57.337 -16.841,9.602 -34.539,11.502 -52.344,14.667 -11.055,2.315 -27.814,4.548 -28.041,17.068 1.025,20.12 22.349,21.795 36.32,21.868 25.103,0.00 50.207,0.00 75.31,0.00 10.789-0.284 21.439-0.899 30.979-4.80 9.856-4.581 14.861-11.48 14.956-21.334l0.00-75.206c 0.744-24.912 8.844-46.117 26.438-61.604C 316.713,124.526 337.802,118.501 358.928,118.377c 22.57,0.615 43.983,6.814 60.089,20.534 18.497,17.257 26.284,38.847 26.438,61.604 z M 248.899,480.003c 51.541-0.666 100.228-17.064 139.939-43.203l0.00-238.417c-1.327-17.479 -13.981-29.65 -29.91-29.869 -17.454,1.317 -30.218,13.894 -30.444,29.869l0.00,71.472c-0.651,31.64 -9.315,64.874 -40.059,76.539 -8.19,3.022 -16.915,4.534 -26.171,4.534l-122.313,0.00c-21.666-0.545 -41.647-6.66 -57.151-19.734 -16.144-14.856 -23.887-33.321 -24.035-53.337 0.24-13.676 3.357-27.296 10.416-37.87 11.712-15.966 28.535-23.461 45.667-26.669 13.698-3.249 27.757-3.268 40.593-7.467 9.343-3.492 12.219-8.922 12.285-17.601 -0.543-10.323 -6.03-14.842 -14.689-17.334 -12.307-2.873 -25.029-2.395 -36.587-2.40l-108.426,0.00c-5.101,21.221 -7.962,42.81 -8.012,62.937 2.626,138.927 116.163,247.587 248.90,248.551z"  />
<glyph unicode="&#xe029;" d="M 12.996,293.504  m0.00,0.00,0.00,147.244c 1.125,22.497 19.253,38.973 39.244,39.244l 147.244,0.00c 23.679-1.471 51.951-10.755 67.135-27.893l 217.947-242.596c 13.691-17.332 14.078-41.314 0.00-55.784L 313.971-16.876C 297.244-32.008 272.288-31.364 258.187-16.876L 40.889,226.369C 25.047,245.076 13.215,270.087 12.996,293.504 z m 63.892,84.973c 0.929-21.89 18.196-37.687 37.622-37.946 21.953,0.98 37.687,18.478 37.946,37.946 -0.967,21.962 -18.553,37.368 -37.946,37.622 -21.90-0.915 -37.368-18.272 -37.622-37.622z"  />
<glyph unicode="&#xe028;" d="M0.00,281.806  m0.00,0.00,0.00,123.231c 1.475,19.349 15.289,32.606 32.844,32.844l 123.231,0.00c 16.346-0.274 31.574-6.188 44.923-14.25L 394.123,211.505c 11.645-14.953 12.242-33.561 0.00-46.144L 251.348,23.13C 236.921,10.681 216.703,9.555 205.205,23.13L 23.344,225.62C 10.559,241.441 0.19,262.267 0.00,281.806 z m 62.295,48.859c 13.639-12.575 33.214-11.411 44.923,0.00 12.518,13.524 11.472,33.302 0.00,44.923 -13.54,12.326 -33.26,11.348 -44.923,0.00 -12.379-14.458 -11.914-32.52 0.00-44.923 z m 152.41,106.674 47.23,0.00c 19.80-1.221 43.232-9.023 55.915-23.344l 181.861-203.033c 12.288-14.189 11.789-34.57 0.00-46.686L 357.479,22.044c-19.712-11.175 -37.777-10.395 -49.944,3.80l 139.517,139.517c 12.563,13.90 11.221,33.948 0.00,46.144l-162.743,182.094C 265.045,417.642 223.571,436.253 214.704,437.339z"  />
<glyph unicode="&#xe027;" d="M0.00,413.406L0.00,313.406L 512.00,313.406L 512.00,413.406L0.00,413.406 z M 321.219,388.656L 485.75,388.656L 485.75,338.156L 321.219,338.156L 321.219,388.656 z M 0.00,263.375L0.00,163.375L 512.00,163.375L 512.00,263.375L0.00,263.375 z M 208.094,238.625L 485.75,238.625L 485.75,188.125L 208.094,188.125L 208.094,238.625 z M 0.00,113.375L0.00,13.375L 512.00,13.375L 512.00,113.375L0.00,113.375 z M 381.844,88.625L 485.75,88.625L 485.75,38.125L 381.844,38.125L 381.844,88.625z"  />
<glyph unicode="&#xe026;" d="M 423.125,480.00L 334.25,390.656L 393.75,390.656L 393.75,57.344L 334.25,57.344L 423.125-32.00L 512.00,57.344L 452.531,57.344L 452.531,390.656L 512.00,390.656L 423.125,480.00 z M 2.531,391.406L 0.00,300.50L 31.594,300.50C 31.594,362.851 31.637,362.781 111.313,362.781L 111.313,112.00C 111.313,80.741 111.297,80.793 67.563,81.562L 67.563,56.594L 229.469,56.594L 229.469,81.562C 185.806,81.562 185.719,81.639 185.719,112.00L 185.719,362.781C 265.437,362.781 265.656,362.764 265.656,300.50L 297.031,300.50L 294.75,391.406L 2.531,391.406z"  />
<glyph unicode="&#xe025;" d="M 110.00,480.00L 107.50,389.094L 139.094,389.094C 139.094,451.445 139.105,451.375 218.781,451.375L 218.781,200.594C 218.781,169.335 218.765,169.387 175.031,170.156L 175.031,145.187L 336.969,145.187L 336.969,170.156C 293.306,170.156 293.219,170.232 293.219,200.594L 293.219,451.375C 372.937,451.375 373.125,451.358 373.125,389.094L 404.50,389.094L 402.219,480.00L 110.00,480.00 z M 89.344,145.75L 0.00,56.875L 89.344-32.00L 89.344,27.469L 422.656,27.469L 422.656-32.00L 512.00,56.875L 422.656,145.75L 422.656,86.25L 89.344,86.25L 89.344,145.75z"  />
<glyph unicode="&#xe024;" d="M0.00,480.00L0.00,352.00L 128.00,352.00L 128.00,480.00L0.00,480.00 z M 192.00,480.00L 192.00,352.00L 320.00,352.00L 320.00,480.00L 192.00,480.00 z M 384.00,480.00L 384.00,352.00L 512.00,352.00L 512.00,480.00L 384.00,480.00 z M 0.00,288.00L0.00,160.00L 128.00,160.00L 128.00,288.00L0.00,288.00 z M 192.00,288.00L 192.00,160.00L 320.00,160.00L 320.00,288.00L 192.00,288.00 z M 384.00,288.00L 384.00,160.00L 512.00,160.00L 512.00,288.00L 384.00,288.00 z M 0.00,96.00L0.00-32.00L 128.00-32.00L 128.00,96.00L0.00,96.00 z M 192.00,96.00L 192.00-32.00L 320.00-32.00L 320.00,96.00L 192.00,96.00 z M 384.00,96.00L 384.00-32.00L 512.00-32.00L 512.00,96.00L 384.00,96.00z"  />
<glyph unicode="&#xe018;" d="M 512.00,387.415C 508.575,380.185 502.201,371.052 492.878,360.017 483.556,348.982 472.045,339.279 458.346,330.907c 0.381-3.044 0.666-5.898 0.856-8.562C 460.679,281.334 450.856,238.784 437.226,203.334 410.808,137.426 370.327,84.382 312.509,48.365 252.214,13.781 181.995,6.425 117.298,12.69 74.347,17.623 32.014,31.649 0.00,58.068 58.553,51.069 113.197,70.988 156.397,103.161 108.409,101.946 73.542,136.66 57.079,176.793c 7.421-1.945 15.184-1.71 22.261-1.142 8.711,0.818 16.98,1.635 25.115,3.425 -30.599,9.872 -57.373,28.021 -71.349,55.367 -8.198,17.327 -11.899,33.827 -11.987,52.513 14.338-7.549 31.585-14.906 47.376-14.27 -23.847,20.201 -42.965,46.02 -46.519,75.63 -2.244,24.689 3.934,47.227 12.843,68.209 35.672-39.204 75.697-71.467 121.864-91.326 31.572-12.929 63.055-19.843 95.607-19.978 -3.758,29.075 -0.836,57.194 12.843,81.052 16.098,25.65 39.586,40.532 65.926,47.946 37.69,9.665 74.451-3.987 97.605-30.252 24.969,2.697 48.888,13.774 67.924,25.115 -8.089-24.495 -23.839-48.85 -46.805-60.504 21.867,4.05 42.732,10.522 62.216,18.836z"  />
<glyph unicode="&#xe017;" d="M 256.00,480.00 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 z m 0.00-34.205c 122.499,0.00 221.795-99.297 221.795-221.795 0.00-122.499 -99.297-221.812 -221.795-221.812 -122.499,0.00 -221.812,99.313 -221.812,221.812 0.00,122.499 99.313,221.795 221.812,221.795 z M 393.547,249.103c 7.368-6.967 7.139-16.959 1.637-24.017 -6.729-7.099 -17.335-7.401 -24.017-1.637 -20.87,18.938 -43.709,36.658 -64.955,56.222 -0.065-0.836 -5.76,3.76 -8.188,3.821 -2.183,0.00 -3.275-2.547 -3.275-7.642 1.072-21.024 -0.49-43.221 1.91-63.591 0.91-7.46 1.365-11.736 1.365-12.827l 24.563-139.736c 1.407-12.832 -5.606-22.417 -16.921-24.563 -11.33-3.082 -22.973,6.688 -24.563,16.921 0.00,0.00 -19.816,112.83 -20.196,114.627 -0.38,1.797 -1.05,11.749 -4.913,12.281 -4.963-1.801 -4.388-10.16 -4.913-12.281 -0.524-2.122 -20.196-114.627 -20.196-114.627 -3.32-11.837 -13.524-18.833 -24.563-16.921 -12.613,3.154 -18.778,13.234 -16.921,24.563l 24.563,140.281c 3.627,25.928 2.729,49.121 2.729,75.326 0.00,5.096 -1.00,7.735 -3.002,7.915 -2.002,0.182 -4.64-1.183 -7.915-4.094l-64.955-55.676c-7.59-5.655 -18.20-4.713 -24.017,1.637 -5.881,8.403 -5.505,17.496 1.637,24.017l 85.151,75.326c 4.004,2.547 7.734,4.276 11.19,5.186 3.458,0.91 7.734,1.365 12.827,1.365l 56.768,0.00c 5.094,0.00 9.37-0.455 12.827-1.365 3.457-0.91 7.187-2.82 11.19-5.731 27.111-23.781 55.895-49.366 85.151-74.78 z M 293.56,378.314c0.00-20.62 -16.716-37.335 -37.335-37.335 -20.62,0.00 -37.335,16.716 -37.335,37.335 0.00,20.62 16.716,37.335 37.335,37.335 20.62,0.00 37.335-16.716 37.335-37.335z"  />
<glyph unicode="&#xe016;" d="M 482.462,253.538  m0.00,0.00,0.00-285.538 -452.924,0.00 0.00,285.538 78.223,0.00 0.00,71.658c 1.089,42.255 17.904,81.493 45.402,109.402 13.857,13.857 30.177,24.889 48.957,33.094 18.781,8.205 38.929,12.308 60.444,12.308 41.857-0.852 80.232-17.872 108.034-44.581 29.35-29.821 45.289-69.229 46.222-107.487l-90.803,0.00c-0.555,17.821 -7.004,30.358 -18.598,42.119 -12.989,12.202 -28.439,18.48 -44.855,18.598 -17.821-0.555 -33.093-7.004 -44.855-18.598 -12.202-12.989 -18.48-28.439 -18.598-44.855l0.00-71.658z"  />
<glyph unicode="&#xe015;" d="M 256.00,480.00 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 z m 3.583-90.65c 47.828,1.937 82.812-39.787 84.523-83.35l-49.751,0.00c-1.851,19.52 -15.669,34.072 -34.772,33.307 -19.103-0.765 -34.347-15.813 -34.756-34.772l0.00-39.246 155.234,0.00 0.00-156.434 -248.138,0.00 0.00,156.434 42.861,0.00 0.00,39.246c 4.044,48.393 36.971,82.878 84.798,84.815z"  />
<glyph unicode="&#xe014;" d="M 256.00-32.00 m0.00,0.00,c-141.384,0.00 -256.00,114.616 -256.00,256.00 0.00,141.384 114.616,256.00 256.00,256.00 141.384,0.00 256.00-114.616 256.00-256.00 0.00-141.384 -114.616-256.00 -256.00-256.00 z m 0.00,456.348c-110.664,0.00 -200.348-89.711 -200.348-200.348 0.00-110.636 89.683-200.348 200.348-200.348 110.664,0.00 200.348,89.711 200.348,200.348 0.00,110.636 -89.683,200.348 -200.348,200.348 z m 50.087-307.478 -100.174,0.00 0.00,113.809 -62.609,0.00 112.696,106.017 112.696-106.017 -62.609,0.00 0.00-113.809z"  />
<glyph unicode="&#xe013;" d="M 400.885,113.756 m0.00,0.00,c-67.132,24.456 -88.592,45.10 -88.592,89.30 0.00,26.526 21.996,43.717 29.494,66.451 7.498,22.734 11.836,49.65 15.442,69.229 3.606,19.579 5.038,27.152 6.999,48.014 2.397,26.036 -15.033,93.249 -108.228,93.249 -93.168,0.00 -110.652-67.214 -108.201-93.249 1.961-20.861 3.401-28.435 6.999-48.014 3.598-19.579 7.894-46.493 15.387-69.229 7.494-22.735 29.522-39.925 29.522-66.451 0.00-44.201 -21.46-64.844 -88.592-89.30 -67.377-24.511 -111.115-48.681 -111.115-65.757 0.00-17.049 0.00-80.00 0.00-80.00l 512.00,0.00c0.00,0.00 0.00,62.952 0.00,80.00 0.00,17.049 -43.765,41.219 -111.115,65.757z"  />
<glyph unicode="&#xe012;" d="M0.00,417.75  m0.00,0.00,0.00-387.50 512.00,0.00 0.00,387.50 z m 62.781-62.813 386.438,0.00 0.00-261.875 -386.438,0.00 z m 135.781-45.594 0.00-174.438L 349.375,222.375z"  />
<glyph unicode="&#xe011;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00 0.00,82.615 114.615-32.00 256.00-32.00 397.385-32.00 512.00,82.615 512.00,224.00 512.00,365.385 397.385,480.00 256.00,480.00 z m -152.625-140.50 305.219,0.00 0.00-231.00 -305.219,0.00 z m 37.438-37.438 0.00-156.125 230.375,0.00 0.00,156.125 z M 221.75,274.875 311.656,223.031 221.75,170.875z"  />
<glyph unicode="&#xe010;" d="M 0.00,459.047  m0.00,0.00,0.00-364.594 105.50,0.00 0.00-105.50 164.469,105.50 242.031,0.00 0.00,364.594 -512.00,0.00 z m 112.25-91.594 206.25,0.00 0.00-63.594 81.25,63.594 0.00-170.00 -81.25,63.594 0.00-63.594 -206.25,0.00 0.00,170.00z"  />
<glyph unicode="&#xe00f;" d="M 473.875,480.00L0.00,5.562L 38.125-32.00L 512.00,441.844L 473.875,480.00 z M 0.00,479.25L0.00,359.219L 120.00,359.219L 120.00,479.219L0.00,479.25 z M 141.406,479.25L 141.406,359.219L 261.406,359.219L 261.406,479.219L 141.406,479.25 z M 0.00,335.594L0.00,215.594L 120.00,215.594L 120.00,335.594L0.00,335.594 z M 141.406,335.594L 141.406,215.594L 261.406,335.594L 141.406,335.594 z M 352.313,208.50L 278.313,141.094L 512.00,141.094L 512.00,208.50L 352.313,208.50 z M 262.313,122.312L 262.313,54.906L 512.00,54.906L 512.00,122.312L 262.313,122.312 z M 262.313,36.125L 262.313-31.25L 512.00-31.25L 512.00,36.125L 262.313,36.125z"  />
<glyph unicode="&#xe00e;" d="M 406.461,344.155 m0.00,0.00,c-52.88,43.701 -123.116-16.02 -139.636-63.864 10.187-0.175 21.842,0.884 30.579-2.436 13.491-7.298 13.679-21.365 12.719-33.286 -6.015-26.379 -24.708-74.378 -48.711-78.207 -5.051-0.541 -10.283,2.255 -15.696,8.389 -20.977,26.277 -18.379,60.845 -23.273,89.843 -4.579,24.261 -8.032,73.225 -36.804,83.89 -31.69,3.87 -59.518-19.742 -79.83-38.427 -12.448-11.546 -25.167-22.551 -38.157-33.015l0.00-2.165c 3.09-3.716 5.595-7.505 8.389-11.095 4.741-4.772 13.393-3.604 18.672-1.894 19.198,4.991 25.946,9.883 36.262-8.389C 146.524,211.47 158.296,164.099 168.592,123.876 175.789,100.934 185.281,71.631 208.372,62.176c 14.267-6.062 38.878,2.084 49.793,8.66 46.711,29.51 82.857,76.727 108.786,122.317 18.93,38.413 65.995,114.836 39.51,151.002 z m 105.539,135.848 0.00-512.00 -512.00,0.00 0.00,512.00z"  />
<glyph unicode="&#xe10e;" d="M0.00,480.00L0.00-32.00L 512.00-32.00L 512.00,480.00L0.00,480.00 z M 227.281,343.094C 241.778,343.244 255.958,341.637 262.875,341.437C 288.517,340.699 293.046,327.73 292.719,317.062C 292.239,301.439 282.187,235.351 300.813,228.906C 327.953,243.419 346.152,288.494 359.406,317.062C 366.11,331.513 365.05,332.231 380.50,332.25L 441.875,332.344C 456.654,332.362 456.078,332.88 460.813,326.844C 471.825,312.803 426.062,254.398 411.281,238.25C 384.005,208.449 399.919,196.909 404.313,192.812C 424.668,173.833 444.338,154.151 456.563,136.00C 466.281,121.569 462.268,108.133 449.906,107.625L 384.094,104.906C 362.255,104.009 328.296,143.158 322.875,151.687C 318.491,158.723 297.365,167.541 295.375,149.562L 292.594,124.469C 290.573,106.531 277.329,106.95 266.875,106.50C 194.483,103.385 169.83,130.947 133.375,171.625C 106.657,209.411 81.159,247.413 60.031,292.937C 53.707,306.564 50.358,316.561 49.50,327.156C 60.131,335.465 97.446,331.886 122.50,332.437C 129.353,332.588 133.977,328.662 137.594,320.844C 151.708,290.332 167.102,260.369 187.469,233.875C 196.339,225.705 204.18,222.701 208.094,239.312C 210.366,239.522 210.184,267.03 210.313,287.781C 210.401,302.029 208.727,319.117 184.594,327.00C 189.475,339.797 208.643,342.901 227.281,343.094z"  />
<glyph unicode="&#xe00d;" d="M 0.00,290.839  m0.00,0.00, 121.402,0.00 182.631,148.85 0.00-512.00 -182.631,148.85 -121.402,0.00 z m 372.652,24.28c 35.893-35.893 54.191-79.527 54.895-130.903 0.00-49.265 -18.298-91.492 -54.895-126.681l-36.949,38.004c 25.336,25.336 38.004,55.247 38.004,89.732 0.00,35.189 -12.668,65.803 -38.004,91.844z"  />
<glyph unicode="&#xe00c;" d="M 471.632,154.671 m0.00,0.00,q 1.24-1.24 1.24-2.921Q 472.872,150.068 471.632,148.828L 444.19,121.385q-1.24-1.24 -2.833-1.24 -1.416,0.00 -3.01,1.24L 399.218,160.513 360.089,121.385q-1.24-1.24 -2.833-1.24 -1.416,0.00 -3.01,1.24L 326.804,148.828q-1.062,1.062 -1.062,3.01 0.00,1.771 1.062,2.833L 365.932,193.80 326.98,232.929q-1.24,1.062 -1.24,2.833 0.00,1.948 1.24,3.01l 27.266,27.443q 1.24,1.24 3.01,1.24 1.771,0.00 2.833-1.24L 399.218,227.086 438.347,266.214q 1.24,1.24 2.921,1.24 1.683,0.00 2.921-1.24L 471.632,238.771q 1.24-1.24 1.24-2.921 0.00-1.683 -1.24-2.921L 432.503,193.80 z m -471.631,142.623l 117.259,0.00 l 176.399,143.77l0.00-494.528 l-176.399,143.77l-117.259,0.00 L-39.128,297.294 z"  />
<glyph unicode="&#xe00b;" d="M 0.00,314.007  m0.00,0.00, 104.028,0.00 156.495,127.548 0.00-438.728 -156.495,127.548 -104.028,0.00 z m 319.321,20.806c 30.756-30.756 46.436-68.146 47.039-112.169 0.00-42.214 -15.68-78.398 -47.039-108.551l-31.661,32.565c 21.71,21.71 32.565,47.34 32.565,76.89 0.00,30.153 -10.855,56.386 -32.565,78.70l 31.661,32.565 z m 54.276,53.371c 45.23-45.23 67.844-99.807 67.844-163.731 0.00-63.925 -22.615-118.803 -67.844-164.636l-33.47,33.47c 36.184,35.581 54.276,79.152 54.276,130.714 0.00,51.562 -18.092,95.435 -54.276,131.618 z m 49.753,49.753c 27.741-27.741 49.451-60.005 65.131-96.791 15.68-36.787 23.519-75.684 23.519-116.692 0.00-41.008 -7.84-80.056 -23.519-117.145 -15.68-37.088 -37.39-69.503 -65.131-97.244l-32.565,32.565c 50.054,50.054 75.081,110.511 75.081,181.371 0.00,70.86 -25.027,131.317 -75.081,181.371z"  />
<glyph unicode="&#xe0ab;" d="M 288.00,400.00 L 288.00,240.00 L 448.00,400.00 L 448.00,48.00 L 288.00,208.00 L 288.00,48.00 L 112.00,224.00 Z"  />
<glyph unicode="&#xe09a;" d="M 64.00,32.00 L 64.00,416.00 L 128.00,416.00 L 128.00,240.00 L 288.00,400.00 L 288.00,240.00 L 448.00,400.00 L 448.00,48.00 L 288.00,208.00 L 288.00,48.00 L 128.00,208.00 L 128.00,32.00 Z"  />
<glyph unicode="&#xe099;" d="M 448.00,416.00 L 448.00,32.00 L 384.00,32.00 L 384.00,208.00 L 224.00,48.00 L 224.00,208.00 L 64.00,48.00 L 64.00,400.00 L 224.00,240.00 L 224.00,400.00 L 384.00,240.00 L 384.00,416.00 Z"  />
<glyph unicode="&#xe093;" d="M 256.00,48.00 L 256.00,208.00 L 96.00,48.00 L 96.00,400.00 L 256.00,240.00 L 256.00,400.00 L 432.00,224.00 Z"  />
<glyph unicode="&#xe05d;" d="M 96.00,416.00L 416.00,224.00L 96.00,32.00 z"  />
<glyph unicode="&#xe02e;" d="M 128.00,32.00 L 128.00,416.00 L 192.00,416.00 L 192.00,240.00 L 352.00,400.00 L 352.00,48.00 L 192.00,208.00 L 192.00,32.00 Z"  />
<glyph unicode="&#xe02d;" d="M 384.00,416.00 L 384.00,32.00 L 320.00,32.00 L 320.00,208.00 L 160.00,48.00 L 160.00,400.00 L 320.00,240.00 L 320.00,416.00 Z"  />
<glyph unicode="&#xe10d;" d="M 135.731,448.544  m0.00,0.00,0.00-71.366 -135.731,0.00 0.00-207.941 230.92,0.00 0.00,42.676 50.161,0.00 0.00-42.676 230.92,0.00 0.00,207.941 -135.763,0.00 0.00,71.366 z m 36.894-36.894 166.718,0.00 0.00-34.472 -166.718,0.00 z M 0.00,129.187l0.00-129.731 511.999,0.00 0.00,129.731 -230.92,0.00 0.00-41.223 -50.161,0.00 0.00,41.223z"  />
<glyph unicode="&#xe10c;" d="M 437.563,437.719C 371.643,372.439 274.748,332.499 181.406,326.875l-138.625,0.00C 20.959,326.577 1.231,308.013 0.00,283.531l0.00-62.50c 0.298-21.822 18.299-42.112 42.781-43.344l 55.563,0.00c-14.852-50.368 1.115-101.362 18.344-151.406 25.559-24.133 84.006-21.128 103.063,10.281 -40.579,31.899 -60.327,117.738 -11.406,138.906 83.383-9.461 165.988-51.821 229.219-108.625 21.737,0.298 41.509,18.151 42.781,42.50l0.00,102.50C 497.757,216.327 511.184,232.297 512.00,252.125 511.79,270.024 499.441,287.116 480.344,292.687l0.00,102.25C 480.046,416.76 462.045,436.487 437.563,437.719 z m 1.094-55.281 0.00-260.594C 377.552,169.464 302.073,201.41 224.188,215.75l0.00,72.781C 300.614,300.03 375.353,335.276 438.656,382.437z"  />
<glyph unicode="&#xe10b;" d="M 115.95,481.093  m0.00,0.00,0.00-80.215 42.113,0.00 0.00,80.215 z m 242.871,0.00 0.00-80.215 42.113,0.00 0.00,80.215 z m -328.977-38.541 0.00-112.302 457.228,0.00 0.00,112.302 -56.057,0.00 0.00-71.755 -102.275,0.00 0.00,71.755 -140.596,0.00 0.00-71.755 -102.275,0.00 0.00,71.755 z m 0.00-141.787 0.00-331.672 457.228,0.00 0.00,331.672 z m 179.607-76.675c 23.275-0.229 45.294-11.404 54.051-32.212 4.119-12.429 6.318-25.653 1.191-37.225 -6.419-13.349 -19.445-20.338 -32.212-24.817 23.959-6.251 39.743-21.306 39.888-45.779 -0.386-16.786 -8.223-31.643 -20.085-41.361 -12.613-9.971 -27.887-15.565 -42.834-15.667 -42.15,0.00 -63.232,19.014 -63.232,57.028l 37.225,0.00c 0.79-16.004 8.366-28.142 23.939-28.357 19.799,1.349 27.599,14.364 27.762,31.021 -0.008,10.06 -3.659,20.344 -12.408,24.221 -11.287,4.69 -23.878,4.125 -34.875,4.136l0.00,28.953c 17.975-0.376 42.682,2.79 42.865,24.221 -0.699,15.764 -7.165,27.00 -22.467,27.198 -16.30-0.983 -25.244-10.213 -25.412-24.848l-36.63,0.00c 0.795,36.899 31.105,53.322 63.232,53.487 z m 128.439-3.541 32.807,0.00 0.00-189.979 -35.47,0.00 0.00,152.754c-13.591-11.621 -28.639-19.893 -45.184-24.817l0.00,32.493c 19.302,7.484 35.242,17.336 47.847,29.548z"  />
<glyph unicode="&#xe10a;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 166.125,385.469L 192.688,385.469L 192.688,334.875L 166.125,334.875L 166.125,385.469 z M 319.313,385.469L 345.844,385.469L 345.844,334.875L 319.313,334.875L 319.313,385.469 z M 111.813,361.156L 147.156,361.156L 147.156,315.906L 211.656,315.906L 211.656,361.156L 300.313,361.156L 300.313,315.906L 364.844,315.906L 364.844,361.156L 400.188,361.156L 400.188,290.312L 111.813,290.312L 111.813,361.156 z M 111.813,271.719L 400.188,271.719L 400.188,62.531L 111.813,62.531L 111.813,271.719 z M 225.094,223.375C 204.832,223.271 185.72,212.897 185.219,189.625L 208.313,189.625C 208.419,198.855 214.064,204.693 224.344,205.312C 233.994,205.187 238.059,198.098 238.50,188.156C 238.385,174.64 222.805,172.638 211.469,172.875L 211.469,154.625C 218.405,154.618 226.35,154.958 233.469,152.00C 238.987,149.554 241.306,143.064 241.313,136.719C 241.209,126.214 236.268,118.007 223.781,117.156C 213.96,117.292 209.186,124.969 208.688,135.062L 185.219,135.062C 185.219,111.088 198.511,99.094 225.094,99.094C 234.52,99.158 244.139,102.68 252.094,108.969C 259.575,115.098 264.538,124.476 264.781,135.062C 264.69,150.497 254.735,159.995 239.625,163.937C 247.677,166.762 255.889,171.144 259.938,179.562C 263.171,186.861 261.785,195.224 259.188,203.062C 253.665,216.185 239.773,223.23 225.094,223.375 z M 306.094,221.125C 298.144,213.423 288.08,207.22 275.906,202.50L 275.906,182.00C 286.341,185.105 295.835,190.327 304.406,197.656L 304.406,101.312L 326.781,101.312L 326.781,221.125L 306.094,221.125z"  />
<glyph unicode="&#xe0dd;" d="M0.00,480.00  m0.00,0.00,0.00-512.00 399.00,0.00 57.25,0.00 55.75,0.00 0.00,90.625 -55.75,0.00 0.00,49.844 55.75,0.00 0.00,90.625 -55.75,0.00 0.00,49.813 55.75,0.00 0.00,90.625 -55.75,0.00 0.00,49.844 55.75,0.00L 512.00,480.00 456.25,480.00 399.00,480.00 z m 228.125-89.438c 40.869,0.00 74.00-33.131 74.00-74.00 0.00-28.962 -16.636-54.034 -40.875-66.188l 95.875-57.188 0.00-79.531 -258.00,0.00 0.00,79.531L 195.00,250.375c-24.239,12.153 -40.875,37.225 -40.875,66.188 0.00,40.869 33.131,74.00 74.00,74.00z"  />
<glyph unicode="&#xe0dc;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 112.50,367.50L 336.156,367.50L 368.25,367.50L 399.50,367.50L 399.50,316.687L 368.25,316.687L 368.25,288.75L 399.50,288.75L 399.50,237.969L 368.25,237.969L 368.25,210.031L 399.50,210.031L 399.50,159.25L 368.25,159.25L 368.25,131.312L 399.50,131.312L 399.50,80.50L 368.25,80.50L 336.156,80.50L 112.50,80.50L 112.50,367.50 z M 240.375,317.375C 217.466,317.375 198.906,298.784 198.906,275.875C 198.906,259.64 208.225,245.594 221.813,238.781L 168.719,207.00L 168.063,207.00L 168.063,206.719L 168.063,162.156L 312.688,162.156L 312.688,206.719L 312.688,207.00L 312.031,207.00L 258.938,238.781C 272.525,245.594 281.844,259.64 281.844,275.875C 281.844,298.784 263.284,317.375 240.375,317.375z"  />
<glyph unicode="&#xe0db;" d="M 256.00,480.00 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 z m 0.00-74.656 0.00-362.719c-100.165,0.00 -181.375,81.21 -181.375,181.375 0.00,100.165 81.21,181.344 181.375,181.344z"  />
<glyph unicode="&#xe0da;" d="M 258.179,275.20 m0.00,0.00,c-57.832,0.895 -102.009,47.384 -102.40,102.40 0.956,57.316 47.802,101.998 102.40,102.40 57.882-2.189 101.989-46.494 102.40-102.40 -1.138-57.36 -47.747-102.011 -102.40-102.40 z m 82.791-21.243c 72.783-0.85 109.693-64.696 110.026-128.545l0.00-148.698c0.00-5.81 -2.905-8.715 -8.715-8.715l-53.923,0.00c-5.81,0.00 -8.715,2.905 -8.715,8.715l0.00,129.634c-3.364,18.517 -24.499,13.341 -25.055,0.00l0.00-129.634c-0.246-5.309 -4.659-8.658 -9.26-8.715l-180.289,0.00c-5.81,0.00 -8.715,2.905 -8.715,8.715l0.00,129.634c-3.143,18.85 -24.609,13.675 -25.055,0.00l0.00-129.634c-0.246-5.309 -4.659-8.658 -9.26-8.715l-51.745,0.00c-6.173,0.00 -9.26,2.905 -9.26,8.715l0.00,148.698c-0.418,68.042 42.625,128.04 110.57,128.545l 86.604,0.00z"  />
<glyph unicode="&#xe0d9;" d="M 124.00,449.062  m0.00,0.00,0.00-80.00 264.00,0.00 0.00,80.00 -264.00,0.00 z m -70.00-123.375 0.00-80.00 404.00,0.00 0.00,80.00 -404.00,0.00 z m 46.00-123.375 0.00-80.00 312.00,0.00 0.00,80.00 -312.00,0.00 z m -100.00-123.375 0.00-80.00 512.00,0.00 0.00,80.00 -512.00,0.00z"  />
<glyph unicode="&#xe0d8;" d="M 0.00,449.062  m0.00,0.00,0.00-80.00 512.00,0.00 0.00,80.00 -512.00,0.00 z m 0.00-123.375 0.00-80.00 512.00,0.00 0.00,80.00 -512.00,0.00 z m 0.00-123.375 0.00-80.00 512.00,0.00 0.00,80.00 -512.00,0.00 z m 0.00-123.375 0.00-80.00 512.00,0.00 0.00,80.00 -512.00,0.00z"  />
<glyph unicode="&#xe0d7;" d="M 264.00,449.062  m0.00,0.00,0.00-80.00 -264.00,0.00 0.00,80.00 264.00,0.00 z m 140.00-123.375 0.00-80.00 -404.00,0.00 0.00,80.00 404.00,0.00 z m -92.00-123.375 0.00-80.00 -312.00,0.00 0.00,80.00 312.00,0.00 z m 200.00-123.375 0.00-80.00 -512.00,0.00 0.00,80.00 512.00,0.00z"  />
<glyph unicode="&#xe0d6;" d="M 248.00,449.062  m0.00,0.00,0.00-80.00 264.00,0.00 0.00,80.00 -264.00,0.00 z m -140.00-123.375 0.00-80.00 404.00,0.00 0.00,80.00 -404.00,0.00 z m 92.00-123.375 0.00-80.00 312.00,0.00 0.00,80.00 -312.00,0.00 z m -200.00-123.375 0.00-80.00 512.00,0.00 0.00,80.00 -512.00,0.00z"  />
<glyph unicode="&#xe0d5;" d="M 256.00-32.00  m0.00,0.00,-200.00,300.00 107.75,0.00 0.00,212.00 184.50,0.00 0.00-212.00 107.75,0.00 -200.00-300.00z"  />
<glyph unicode="&#xe0d4;" d="M 0.00,224.00  m0.00,0.00, 300.00-200.00 0.00,107.75 212.00,0.00 0.00,184.50 -212.00,0.00 0.00,107.75 -300.00-200.00z"  />
<glyph unicode="&#xe0af;" d="M 512.00,224.00  m0.00,0.00,-300.00,200.00 0.00-107.75 -212.00,0.00 0.00-184.50 212.00,0.00 0.00-107.75 300.00,200.00z"  />
<glyph unicode="&#xe0ae;" d="M 256.00,480.00L 56.00,180.00L 163.75,180.00L 163.75-32.00L 348.25-32.00L 348.25,180.00L 456.00,180.00L 256.00,480.00z"  />
<glyph unicode="&#xe0ad;" d="M 261.544,327.062 m0.00,0.00,c 5.678,47.457 66.141,32.916 66.241-1.629l-3.258-130.309c-5.379-51.733 -57.256-50.389 -59.182,1.086 z m -89.044-2.172c 0.242,45.096 62.443,39.519 66.241,2.715l 4.343-126.508c 0.247-64.67 -57.372-45.977 -59.182-4.887 z m -21.175-23.347 10.859-106.962c 3.424-42.552 -40.459-55.808 -51.037-16.831l-18.46,110.762c-6.375,49.231 52.421,52.317 58.639,13.031 z M 485.241,293.128C 507.473,276.673 504.583,248.334 483.07,235.302 391.425,195.438 393.266,78.531 326.428,27.894 318.644,22.103 307.332,19.208 292.493,19.208l-179.718,0.00c-33.644,2.052 -48.712,32.591 -53.753,59.725L 0.384,409.048c-4.911,40.641 38.793,38.676 48.323,10.316l 27.148-93.931c-5.519-10.452 -7.568-21.961 -6.516-33.12 5.449-34.948 11.526-69.881 17.375-104.79 2.895-17.375 8.507-31.129 16.831-41.265 8.325-10.136 19.366-15.202 33.12-15.202 15.439-0.228 30.379,7.353 38.549,18.46 21.769-25.741 61.776-24.544 79.814,2.715 18.555-25.241 53.232-28.386 74.114-7.058 22.045,25.657 17.883,58.652 18.732,91.759 12.22-4.293 23.592,5.062 30.948,11.945 21.964,20.52 76.445,63.252 106.419,44.251z"  />
<glyph unicode="&#xe0ac;" d="M 209.003,467.474  m0.00,0.00,0.00-189.274L 29.027,336.683 0.00,247.338 179.975,188.855 68.73,35.735 144.769-19.475 256.015,133.615 367.231-19.475 443.24,35.735 331.994,188.855 512.00,247.338l-29.027,89.345 -180.006-58.483 0.00,189.274 -93.964,0.00z"  />
<glyph unicode="&#xe0aa;" d="M 68.312,81.853 m0.00,0.00,c 91.082-91.082 238.755-91.082 329.837,0.00 91.082,91.082 91.082,238.755 0.00,329.837 -91.082,91.082 -238.755,91.082 -329.837,0.00 -91.082-91.082 -91.082-238.755 0.00-329.837 z m 63.555,22.326 243.954,243.954c 48.69-68.313 42.386-163.762 -18.903-225.051 -61.289-61.289 -156.738-67.594 -225.051-18.903 z M 90.637,145.408C 41.948,213.721 48.251,309.169 109.541,370.459 170.831,431.749 266.279,438.052 334.592,389.363L 90.637,145.408z"  />
<glyph unicode="&#xe0d3;" d="M0.00,445.469L0.00,2.531L 42.781,2.531L 42.781,445.469L0.00,445.469 z M 63.063,445.469L 63.063,2.531L 73.344,2.531L 73.344,445.469L 63.063,445.469 z M 98.906,445.469L 98.906,2.531L 131.406,2.531L 131.406,445.469L 98.906,445.469 z M 146.188,445.469L 146.188,2.531L 160.063,2.531L 160.063,445.469L 146.188,445.469 z M 198.625,445.469L 198.625,2.531L 219.75,2.531L 219.75,445.469L 198.625,445.469 z M 228.313,445.469L 228.313,2.531L 236.563,2.531L 236.563,445.469L 228.313,445.469 z M 258.688,445.469L 258.688,2.531L 268.938,2.531L 268.938,445.469L 258.688,445.469 z M 281.688,445.469L 281.688,2.531L 324.188,2.531L 324.188,445.469L 281.688,445.469 z M 339.188,445.469L 339.188,2.531L 360.594,2.531L 360.594,445.469L 339.188,445.469 z M 391.438,445.469L 391.438,2.531L 396.188,2.531L 396.188,445.469L 391.438,445.469 z M 403.594,445.469L 403.594,2.531L 417.875,2.531L 417.875,445.469L 403.594,445.469 z M 438.656,445.469L 438.656,2.531L 448.938,2.531L 448.938,445.469L 438.656,445.469 z M 469.50,445.469L 469.50,2.531L 512.00,2.531L 512.00,445.469L 469.50,445.469z"  />
<glyph unicode="&#xe0d2;" d="M0.00,480.00L0.00-32.00L 512.00-32.00L 512.00,480.00L0.00,480.00 z M 79.563,268.437L 209.813,268.437C 223.137,268.344 237.143,263.219 247.875,253.344C 257.754,243.59 263.557,229.602 263.844,214.625C 263.795,203.124 261.604,189.871 253.969,179.312C 248.633,172.13 240.279,166.699 231.063,163.594L 231.063,162.375C 240.769,159.948 250.337,154.762 257.156,146.187C 265.267,135.698 268.042,121.549 268.281,107.625C 268.185,92.853 263.07,77.033 251.625,65.312C 241.452,55.317 226.845,49.596 211.469,49.281L 79.563,49.281L 79.563,268.437 z M 307.813,268.00L 404.688,268.00L 404.688,232.062L 307.813,232.062L 307.813,268.00 z M 354.188,221.312C 367.704,221.312 379.695,219.557 390.156,216.031C 400.71,212.609 409.591,207.259 416.813,200.00C 424.033,192.845 429.484,183.721 433.188,172.625C 438.072,158.101 438.998,139.506 438.906,122.531L 326.281,122.531C 326.281,110.917 328.59,101.898 333.219,95.469C 337.94,89.143 345.667,86.00 356.406,86.00C 366.609,86.048 378.56,89.32 382.50,100.781C 383.518,103.788 384.031,106.984 384.031,110.406L 438.906,110.406C 438.792,92.968 433.178,75.649 418.469,62.812C 402.22,49.596 379.508,45.825 357.656,45.406C 344.14,45.406 331.924,47.109 321.00,50.531C 310.168,54.057 300.966,59.46 293.375,66.719C 285.784,73.978 279.948,83.102 275.875,94.094C 271.802,105.189 269.75,118.298 269.75,133.437C 269.75,148.163 271.738,161.008 275.719,172.00C 279.70,182.992 285.343,192.116 292.656,199.375C 300.062,206.737 308.944,212.245 319.313,215.875C 329.774,219.504 341.412,221.312 354.188,221.312 z M 142.344,220.375L 142.344,183.062L 185.531,183.062C 189.424,183.093 193.129,184.875 195.938,188.031C 198.665,191.353 200.003,195.729 200.094,200.312L 200.094,203.437C 200.065,207.574 198.476,211.846 195.781,215.406C 193.332,218.299 189.66,220.166 185.531,220.375L 142.344,220.375 z M 356.406,180.875C 346.871,180.875 339.753,178.331 335.031,173.25C 330.402,168.169 327.581,161.273 326.563,152.562L 381.813,152.562C 381.812,161.377 379.60,168.272 375.156,173.25C 370.712,178.331 364.46,180.875 356.406,180.875 z M 142.344,137.781L 142.344,100.312L 190.094,100.312C 193.943,100.342 197.628,102.109 200.50,105.125C 203.215,108.431 204.619,112.828 204.688,117.406L 204.688,120.687C 204.662,124.861 203.31,129.214 200.50,132.812C 198.034,135.722 194.215,137.545 190.094,137.781L 142.344,137.781z"  />
<glyph unicode="&#xe0d1;" d="M 221.761,480.00L 221.761,448.471C 152.171,433.205 100.016,371.342 99.696,297.245L 99.696,161.285L-0.779,74.394L-0.779,50.747L 99.696,50.747L 410.747,50.747L 511.221,50.747L 511.221,74.394L 410.747,161.285L 410.747,297.245C 410.427,371.342 358.271,433.205 288.682,448.471L 288.682,480.00L 221.761,480.00 z M 255.221,44.174C 234.613,44.174 217.898,27.49 217.898,6.881C 217.898-13.727 234.613-30.442 255.221-30.442C 275.83-30.442 292.545-13.727 292.545,6.881C 292.545,27.49 275.83,44.174 255.221,44.174z"  />
<glyph unicode="&#xe0d0;" d="M 160.348,480.00 m0.00,0.00,c-27.387,0.00 -49.588-22.201 -49.588-49.588 0.00-27.387 22.201-49.588 49.588-49.588 27.387,0.00 49.588,22.201 49.588,49.588 0.00,27.387 -22.201,49.588 -49.588,49.588 z m -41.207-124.714 -53.288-71.947c-2.131-2.842 -3.194-5.848 -3.194-9.045l-6.388-59.155c-2.883-25.808 34.024-31.771 38.362-3.731l 5.329,54.886 13.852,18.643 0.537-77.261 -26.106-93.769 -66.603-84.724c-19.365-30.142 20.659-52.587 41.018-28.78l 69.275,88.993c 1.861,2.505 3.013,5.855 4.253,9.045l 20.794,73.545 46.885-52.751 25.569-119.369c 7.058-31.866 56.074-20.892 50.094,9.599l-27.182,124.145c-0.648,3.198 -1.35,6.744 -4.253,9.06l-57.542,65.544 0.00,57.021 0.00,23.972 22.375-28.241c 2.487-3.197 6.222-5.504 11.195-6.925l 52.751-10.12 195.539-257.366c 3.491-4.855 13.373-0.018 9.599,6.388L 299.783,243.38c 21.429,7.184 9.862,31.592 -4.27,34.107l-56.482,11.18 -58.08,73.007c-18.396,18.269 -49.16,13.779 -61.811-6.388z"  />
<glyph unicode="&#xe0cf;" d="M0.00,480.00L0.00-32.00L 512.00-32.00L 512.00,480.00L0.00,480.00 z M 273.813,386.219C 322.949,382.283 351.51,350.819 354.906,310.594C 357.545,289.892 356.825,274.523 353.813,263.219C 381.841,262.30 414.599,249.847 416.688,204.625L 416.688,160.125C 413.781,121.251 399.827,73.219 328.25,63.031L 208.469,62.594C 135.861,61.275 95.874,92.942 95.50,160.687L 96.438,310.844C 99.563,354.522 134.953,380.13 176.25,385.812L 273.813,386.219 z M 192.219,325.469C 150.393,318.679 148.326,271.316 192.219,265.469L 271.625,265.469C 313.45,272.259 315.518,319.621 271.625,325.469L 192.219,325.469 z M 174.219,194.469C 131.16,187.841 130.49,134.062 175.719,128.50L 321.563,128.00C 364.255,134.571 364.135,188.28 320.031,193.969L 174.219,194.469z"  />
<glyph unicode="&#xe0ce;" d="M 0.002-27.125  m0.00,0.00,0.00,40.705 64.253,0.00 0.00,420.836 -64.253,0.00 0.00,40.705 297.714,0.00c 61.225-0.001 107.198-10.317 137.924-30.949 30.724-20.632 46.085-51.693 46.087-93.183 -0.001-29.828 -10.653-53.488 -31.959-70.98 -21.082-17.492 -52.479-28.483 -94.193-32.968 50.46-4.711 89.146-18.166 116.058-40.369 26.912-22.203 40.367-51.693 40.369-88.473 -0.001-49.787 -18.839-86.454 -56.514-110.002 -37.453-23.548 -96.211-35.322 -176.274-35.322l-279.211,0.00m 193.766,292.668 44.068,0.00c 38.574,0.00 67.167,6.951 85.782,20.856 18.614,14.129 27.921,35.658 27.921,64.589 0.00,29.154 -9.084,50.348 -27.248,63.579 -17.942,13.231 -46.761,19.847 -86.454,19.847l-44.068,0.00 0.00-168.873m0.00-251.963 48.106,0.00c 42.835,0.00 74.568,8.522 95.20,25.567 20.632,17.045 30.949,43.395 30.949,79.055 0.00,35.882 -10.429,62.682 -31.285,80.40 -20.856,17.716 -52.479,26.576 -94.864,26.576l-48.106,0.00 0.00-211.596"  />
<glyph unicode="&#xe0f5;" d="M 189.435,475.419 m0.00,0.00,c-31.746,16.71 -94.311-15.577 -112.283-44.001 -8.008-12.719 -7.441-21.885 -7.441-27.086l0.00-278.21 234.624-145.994 44.121,24.091 0.00,270.944L 107.559,413.472c 12.927,16.269 42.001,36.109 63.801,28.141l 214.575-114.769 0.00-301.835 44.233,24.134 0.00,301.823z"  />
<glyph unicode="&#xe0f4;" d="M 100.00,480.00L 100.00,16.00L 100.00-32.00L 256.00,124.00L 412.00-32.00L 412.00,16.00L 412.00,480.00L 100.00,480.00z"  />
<glyph unicode="&#xe0f3;" d="M 100.00,480.00L 100.00,16.00L 100.00-32.00L 256.00,124.00L 412.00-32.00L 412.00,16.00L 412.00,480.00L 100.00,480.00 z M 132.00,448.00L 380.00,448.00L 380.00,48.00L 256.00,172.00L 132.00,48.00L 132.00,448.00z"  />
<glyph unicode="&#xe0f2;" d="M 217.688,31.581 m0.00,0.00,c0.00-35.115 -28.466-63.581 -63.581-63.581 -35.115,0.00 -63.581,28.466 -63.581,63.581 0.00,35.115 28.466,63.581 63.581,63.581 35.115,0.00 63.581-28.466 63.581-63.581 z m 0.00,192.419c0.00-35.115 -28.466-63.581 -63.581-63.581 -35.115,0.00 -63.581,28.466 -63.581,63.581 0.00,35.115 28.466,63.581 63.581,63.581 35.115,0.00 63.581-28.466 63.581-63.581 z m 0.00,192.419c0.00-35.115 -28.466-63.581 -63.581-63.581 -35.115,0.00 -63.581,28.466 -63.581,63.581 0.00,35.115 28.466,63.581 63.581,63.581 35.115,0.00 63.581-28.466 63.581-63.581 z M 421.474,31.581c0.00-35.115 -28.466-63.581 -63.581-63.581 -35.115,0.00 -63.581,28.466 -63.581,63.581 0.00,35.115 28.466,63.581 63.581,63.581 35.115,0.00 63.581-28.466 63.581-63.581 z m 0.00,192.419c0.00-35.115 -28.466-63.581 -63.581-63.581 -35.115,0.00 -63.581,28.466 -63.581,63.581 0.00,35.115 28.466,63.581 63.581,63.581 35.115,0.00 63.581-28.466 63.581-63.581 z m 0.00,192.419c0.00-35.115 -28.466-63.581 -63.581-63.581 -35.115,0.00 -63.581,28.466 -63.581,63.581 0.00,35.115 28.466,63.581 63.581,63.581 35.115,0.00 63.581-28.466 63.581-63.581z"  />
<glyph unicode="&#xe0a9;" d="M 166.712,416.78  m0.00,0.00,-16.109-64.781 -150.603,0.00 0.00-320.781 512.00,0.00 0.00,320.781 -143.578,0.00 -16.109,64.781 -185.60,0.00 z m 90.599-64.656c 79.529,0.00 143.984-64.455 143.984-143.984 0.00-79.529 -64.456-143.984 -143.984-143.984 -79.529,0.00 -143.984,64.456 -143.984,143.984 0.00,79.529 64.455,143.984 143.984,143.984 z m 168.835-31.344 72.585,0.00 0.00-42.146 -72.585,0.00 0.00,42.146 z m -168.835-11.177c-56.037,0.00 -101.463-45.427 -101.463-101.463 0.00-56.037 45.427-101.463 101.463-101.463 56.037,0.00 101.463,45.427 101.463,101.463 0.00,56.037 -45.427,101.463 -101.463,101.463z"  />
<glyph unicode="&#xe0a8;" d="M 256.00,437.531L0.00,387.531L0.00,60.469L 256.00,10.469L 512.00,60.469L 512.00,387.531L 256.00,437.531 z M 171.125,323.375C 196.102,323.375 215.459,315.374 229.156,299.375C 230.077,298.109 230.985,296.901 231.906,295.75C 238.812,285.621 242.962,272.304 244.344,255.844L 214.656,255.844C 211.548,278.634 200.079,291.838 180.281,295.406L 170.781,296.094C 148.681,296.094 133.506,284.284 125.219,260.687C 121.42,249.868 119.50,237.036 119.50,222.187C 119.50,189.958 128.853,168.486 147.50,157.781C 154.291,153.868 162.292,151.906 171.50,151.906C 196.708,151.906 211.769,166.772 216.719,196.469L 246.406,196.469C 243.874,164.125 230.361,142.538 205.844,131.719C 195.714,127.00 184.018,124.625 170.781,124.625C 140.394,124.625 117.899,137.003 103.281,161.75C 93.612,178.21 88.781,198.361 88.781,222.187C 88.781,259.941 99.61,287.907 121.25,306.094C 135.178,317.604 151.787,323.375 171.125,323.375 z M 347.938,323.375C 372.915,323.375 392.24,315.374 405.938,299.375C 406.858,298.109 407.798,296.901 408.719,295.75C 415.625,285.621 419.775,272.304 421.156,255.844L 391.438,255.844C 388.329,278.634 376.892,291.838 357.094,295.406L 347.594,296.094C 325.494,296.094 310.287,284.284 302.00,260.687C 298.202,249.868 296.313,237.036 296.313,222.187C 296.313,189.958 305.634,168.486 324.281,157.781C 331.072,153.868 339.073,151.906 348.281,151.906C 373.489,151.906 388.582,166.772 393.531,196.469L 423.219,196.469C 420.686,164.125 407.173,142.538 382.656,131.719C 372.527,127.00 360.831,124.625 347.594,124.625C 317.206,124.625 294.712,137.003 280.094,161.75C 270.425,178.21 265.594,198.361 265.594,222.187C 265.594,259.941 276.392,287.907 298.031,306.094C 311.959,317.604 328.60,323.375 347.938,323.375z"  />
<glyph unicode="&#xe0a7;" d="M 465.555,77.323  m0.00,0.00,-85.808-10.332 -26.897-82.136 -77.772,37.70 -67.033-54.556 -45.044,73.762 -85.887-9.655 1.985,86.405 -77.473,38.312 48.384,71.615 -44.461,74.115 79.422,34.088 2.667,86.387 85.243-14.262 48.948,71.232 64.001-58.084 79.688,33.461 22.438-83.465 85.128-14.934 -26.248-82.346 63.541-58.587 -66.601-55.083z"  />
<glyph unicode="&#xe0a6;" d="M 0.00,480.00L 0.00,149.031L 0.00-32.00L 181.031-32.00L 512.00-32.00L 512.00,298.969L 428.00,214.969L 428.00,52.00L 265.031,52.00L 84.00,52.00L 84.00,233.031L 84.00,396.00L 246.969,396.00L 330.969,480.00L 0.00,480.00 z M 439.469,473.531L 254.219,288.25L 188.031,354.437L 120.156,286.531L 254.219,152.50L 322.094,220.375L 507.344,405.656L 439.469,473.531z"  />
<glyph unicode="&#xe0a5;" d="M 0.00,480.00L 0.00-32.00L 512.00-32.00L 512.00,480.00L 0.00,480.00 z M 84.00,396.00L 428.00,396.00L 428.00,52.00L 84.00,52.00L 84.00,396.00z"  />
<glyph unicode="&#xe0a4;" d="M 256.00,57.872 332.255,134.127 512.00,313.872 435.744,390.127 256.00,210.383 76.255,390.127l-76.255-76.255 179.745-179.745 76.255-76.255z"  />
<glyph unicode="&#xe0cd;" d="M 89.872,224.00  m0.00,0.00, 76.255-76.255 179.745-179.745 76.255,76.255L 242.383,224.00 422.127,403.744 345.872,480.00 166.128,300.255 89.872,224.00z"  />
<glyph unicode="&#xe0cc;" d="M 422.128,224.00 345.872,300.255 166.128,480.00l-76.255-76.255 179.745-179.745 -179.745-179.745 76.255-76.255 179.745,179.745 76.255,76.255z"  />
<glyph unicode="&#xe0cb;" d="M 256.00,390.129 179.745,313.873 0.00,134.129 76.255,57.873 256.00,237.618 435.744,57.873 512.00,134.129 332.255,313.873 256.00,390.129z" horiz-adv-x="511"  />
<glyph unicode="&#xe0ca;" d="M 336.774,253.118 m0.00,0.00,c 66.564,0.47 87.361-49.915 87.729-100.567l0.00-176.528c-0.208-3.991 -3.098-7.957 -6.954-8.024l-46.004,0.00c-4.239,0.40 -7.434,4.223 -7.489,8.024l0.00,157.805c-2.744,19.603 -24.065,14.518 -24.607,0.00l0.00-157.805c-0.187-4.389 -3.496-7.966 -7.489-8.024l-149.781,0.00c-4.508,0.252 -7.439,4.083 -7.489,8.024l0.00,157.805c-2.744,19.603 -24.065,14.518 -24.607,0.00l0.00-157.805c-0.187-4.389 -3.496-7.966 -7.489-8.024l-47.609,0.00c-4.239,0.40 -7.434,4.223 -7.489,8.024l0.00,176.528c-2.033,64.07 33.795,99.452 88.264,100.567 z M 257.95,480.00c-57.76,0.00 -104.594-47.069 -104.594-105.145 0.00-58.076 46.834-105.161 104.594-105.161 57.76,0.00 104.578,47.085 104.578,105.161 0.00,58.076 -46.818,105.145 -104.578,105.145 z m -59.891-122.634 119.198,0.00c0.00-32.915 -26.684-59.599 -59.599-59.599 -32.915,0.00 -59.599,26.684 -59.599,59.599z"  />
<glyph unicode="&#xe0c9;" d="M 512.00,224.00 m0.00,0.00,c0.00,141.385 -114.615,256.00 -256.00,256.00 -141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 z M 385.219,252.437 256.00,58.593 126.781,252.437l 69.625,0.00 0.00,136.969 119.188,0.00 0.00-136.969 69.625,0.00z"  />
<glyph unicode="&#xe0c8;" d="M 256.00-32.00 m0.00,0.00,c 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 -141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 z M 284.437,94.781 90.594,224.00 284.437,353.218l0.00-69.625 136.969,0.00 0.00-119.188 -136.969,0.00 0.00-69.625z"  />
<glyph unicode="&#xe0f1;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 227.563,353.219L 421.406,224.00L 227.563,94.781L 227.563,164.406L 90.594,164.406L 90.594,283.594L 227.563,283.594L 227.563,353.219z"  />
<glyph unicode="&#xe0f0;" d="M 512.00,224.00 m0.00,0.00,c0.00-141.385 -114.615-256.00 -256.00-256.00 -141.385,0.00 -256.00,114.615 -256.00,256.00 0.00,141.385 114.615,256.00 256.00,256.00 141.385,0.00 256.00-114.615 256.00-256.00 z M 385.219,195.562 256.00,389.406 126.781,195.562l 69.625,0.00 0.00-136.969 119.188,0.00 0.00,136.969 69.625,0.00z"  />
<glyph unicode="&#xe0ef;" d="M 368.642,264.415 m0.00,0.00,c 70.413,6.934 109.816-86.793 55.699-134.341l-405.701,0.00C -33.541,218.752 30.839,336.769 124.985,313.868c 75.476,122.847 215.274,57.028 243.657-49.454z"  />
<glyph unicode="&#xe0ee;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 258.281,346.906C 306.341,347.955 353.941,308.596 367.719,256.906C 422.408,262.292 453.001,189.493 410.969,152.562L 95.875,152.562C 55.346,221.438 105.346,313.10 178.469,295.312C 200.452,331.093 229.445,346.277 258.281,346.906z"  />
<glyph unicode="&#xe109;" d="M 216.00,480.00  m0.00,0.00,-7.781-77.25c-15.899-4.238 -30.965-10.50 -44.875-18.563L 103.25,433.312 46.688,376.75 95.813,316.625C 87.75,302.711 81.455,287.654 77.219,271.75L0.00,264.00l0.00-80.00 77.25-7.781c 4.236-15.89 10.506-30.941 18.563-44.844l-49.125-60.125 56.563-56.563 60.125,49.125c 13.903-8.056 28.953-14.327 44.844-18.563L 216.00-32.00l 80.00,0.00 7.75,77.219c 15.904,4.236 30.961,10.531 44.875,18.594l 60.125-49.125 56.563,56.563 -49.125,60.094c 8.063,13.91 14.324,28.976 18.563,44.875L 512.00,184.00l0.00,80.00 -77.219,7.75C 430.543,287.663 424.257,302.736 416.188,316.656L 465.313,376.75 408.75,433.312 348.656,384.187C 334.736,392.257 319.663,398.543 303.75,402.781L 296.00,480.00 z m 40.00-182.00c 40.869,0.00 74.00-33.131 74.00-74.00 0.00-40.869 -33.131-74.00 -74.00-74.00 -40.869,0.00 -74.00,33.131 -74.00,74.00 0.00,40.869 33.131,74.00 74.00,74.00z"  />
<glyph unicode="&#xe108;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 231.625,380.00L 280.375,380.00L 285.094,332.937C 294.791,330.355 303.985,326.542 312.469,321.625L 349.094,351.562L 383.563,317.094L 353.625,280.469C 358.542,271.985 362.355,262.791 364.938,253.094L 412.00,248.375L 412.00,199.625L 364.938,194.875C 362.355,185.186 358.539,176.008 353.625,167.531L 383.563,130.906L 349.094,96.437L 312.438,126.375C 303.958,121.462 294.786,117.644 285.094,115.062L 280.375,68.00L 231.625,68.00L 226.875,115.062C 217.191,117.644 208.035,121.465 199.563,126.375L 162.906,96.437L 128.438,130.906L 158.375,167.562C 153.465,176.035 149.644,185.191 147.063,194.875L 100.00,199.625L 100.00,248.375L 147.063,253.094C 149.644,262.786 153.462,271.958 158.375,280.437L 128.438,317.094L 162.906,351.562L 199.531,321.625C 208.008,326.539 217.186,330.355 226.875,332.937L 231.625,380.00 z M 256.00,269.094C 231.094,269.094 210.906,248.906 210.906,224.00C 210.906,199.094 231.094,178.906 256.00,178.906C 280.906,178.906 301.094,199.094 301.094,224.00C 301.094,248.906 280.906,269.094 256.00,269.094z"  />
<glyph unicode="&#xe107;" d="M 388.326,441.122  m0.00,0.00,-7.217-34.583c-7.398-1.162 -14.524-3.303 -21.203-6.291l-24.843,25.099 -28.292-22.895 19.351-29.569c-4.311-5.915 -7.832-12.417 -10.506-19.415l-35.349,0.16 -3.80-36.211 34.583-7.217c 1.162-7.394 3.305-14.463 6.291-21.139l-25.099-24.907 22.895-28.292 29.569,19.383c 5.91-4.308 12.424-7.865 19.415-10.538l-0.16-35.317 36.211-3.80 7.185,34.583c 7.40,1.161 14.522,3.271 21.203,6.259l 24.875-25.099 28.292,22.927 -19.383,29.537c 4.311,5.913 7.863,12.42 10.538,19.415l 35.317-0.128 3.80,36.211 -34.583,7.153c-1.162,7.404 -3.268,14.55 -6.259,21.235l 25.099,24.843 -22.927,28.292 -29.537-19.351c-5.917,4.314 -12.445,7.863 -19.447,10.538l 0.16,35.317 -36.179,3.80 z m 6.003-84.109c 1.138-0.004 2.292-0.038 3.449-0.16 18.499-1.943 31.896-18.511 29.952-37.009 -1.943-18.499 -18.511-31.927 -37.009-29.984 -18.499,1.943 -31.927,18.511 -29.984,37.009 1.822,17.343 16.523,30.203 33.593,30.144 z m -259.831-2.97 -4.854-48.09c-9.901-2.639 -19.279-6.539 -27.941-11.559l-37.425,30.591 -35.221-35.221 30.591-37.456c-5.021-8.665 -8.922-18.037 -11.559-27.941l-48.09-4.822 0.00-49.814 48.09-4.854c 2.638-9.895 6.543-19.251 11.559-27.909l-30.591-37.456 35.221-35.221 37.456,30.591c 8.658-5.017 18.013-8.922 27.909-11.559l 4.854-48.09 49.814,0.00 4.822,48.09c 9.904,2.638 19.276,6.539 27.941,11.559l 37.456-30.591 35.221,35.221 -30.591,37.425c 5.021,8.662 8.92,18.04 11.559,27.941l 48.09,4.854 0.00,49.814 -48.09,4.822c-2.639,9.909 -6.535,19.304 -11.559,27.973l 30.591,37.425 -35.221,35.221 -37.425-30.591c-8.669,5.025 -18.063,8.92 -27.973,11.559l-4.822,48.09 -49.814,0.00 z m 24.907-113.327c 25.45,0.00 46.078-20.628 46.078-46.078 0.00-25.45 -20.628-46.078 -46.078-46.078 -25.45,0.00 -46.078,20.628 -46.078,46.078 0.00,25.45 20.628,46.078 46.078,46.078 z m 211.487-61.533 -5.077-25.29c-5.20-0.85 -10.186-2.412 -14.88-4.598l-17.499,18.361 -19.862-16.764 13.603-21.618c-3.03-4.327 -5.529-9.091 -7.408-14.21l-24.811,0.128 -2.682-26.504 24.30-5.269c 0.817-5.409 2.308-10.603 4.407-15.487l-17.627-18.201 16.094-20.692 20.788,14.178c 4.154-3.151 8.722-5.74 13.635-7.696l-0.096-25.865 25.45-2.778 5.045,25.322c 5.201,0.85 10.185,2.38 14.88,4.566l 17.499-18.361 19.894,16.764 -13.635,21.618c 3.03,4.326 5.529,9.092 7.408,14.21l 24.843-0.096 2.65,26.472 -24.30,5.269c-0.817,5.417 -2.305,10.629 -4.407,15.519l 17.627,18.169 -16.094,20.724 -20.756-14.178c-4.159,3.156 -8.746,5.739 -13.667,7.696l 0.128,25.833 -25.45,2.778 z m 4.215-61.501c 0.80-0.003 1.614-0.039 2.427-0.128 13.001-1.422 22.409-13.545 21.043-27.078 -1.366-13.533 -12.991-23.359 -25.993-21.937 -13.001,1.422 -22.441,13.545 -21.075,27.078 1.28,12.688 11.601,22.108 23.598,22.065z"  />
<glyph unicode="&#xe106;" d="M 0.00,459.047  m0.00,0.00,0.00-364.594 105.50,0.00 0.00-105.50 164.469,105.50 242.031,0.00 0.00,364.594 -512.00,0.00z"  />
<glyph unicode="&#xe0a3;" d="M 0.00,454.182  m0.00,0.00,0.00-311.151 90.054,0.00 0.00-90.024 140.343,90.024 206.537,0.00 0.00,311.151 -436.933,0.00 z m 457.489-68.397 0.00-39.154 15.356,0.00 0.00-221.893 -55.947,0.00 -19.577,0.00 0.00-19.577 0.00-39.735 -87.607,56.192 -4.833,3.12 -5.751,0.00 -60.291,0.00 -61.025-39.154 115.535,0.00 112.966-72.435 30.161-19.332 0.00,35.789 0.00,55.978 55.947,0.00 19.577,0.00 0.00,19.577 0.00,261.047 0.00,19.577 -19.577,0.00 -34.933,0.00z"  />
<glyph unicode="&#xe0a2;" d="M 68.312,81.852 m0.00,0.00,c 91.082-91.082 238.755-91.082 329.837,0.00 91.082,91.082 91.082,238.755 0.00,329.837 -91.082,91.082 -238.755,91.082 -329.837,0.00 -91.082-91.082 -91.082-238.755 0.00-329.837 z m 22.769,22.769c-78.507,78.507 -78.507,205.791 0.00,284.299 78.507,78.507 205.791,78.507 284.299,0.00 78.507-78.507 78.507-205.791 0.00-284.299 -78.507-78.507 -205.791-78.507 -284.299,0.00 z m 22.749,12.16 154.751,94.638 94.638,154.751 -10.589,10.589 -154.751-94.638 -94.638-154.751 10.589-10.589z"  />
<glyph unicode="&#xe0a1;" d="M 68.312,81.852 m0.00,0.00,c 91.082-91.082 238.755-91.082 329.837,0.00 91.082,91.082 91.082,238.755 0.00,329.837 -91.082,91.082 -238.755,91.082 -329.837,0.00 -91.082-91.082 -91.082-238.755 0.00-329.837 z m 36.901,25.507 -11.374,11.374 101.503,165.925 165.925,101.503 11.374-11.374 -101.503-165.925 -165.925-101.503z"  />
<glyph unicode="&#xe0a0;" d="M0.00,394.00L0.00,54.00L 512.00,54.00L 512.00,394.00L0.00,394.00 z M 32.00,362.00L 480.00,362.00L 480.00,311.437L 32.00,311.437L 32.00,362.00 z M 32.00,237.719L 480.00,237.719L 480.00,86.00L 32.00,86.00L 32.00,237.719 z M 73.313,141.125C 70.044,141.125 67.544,139.841 65.813,137.25C 64.094,134.672 63.25,130.922 63.25,126.00C 63.25,121.091 64.094,117.341 65.813,114.75C 67.544,112.172 70.044,110.875 73.313,110.875C 76.581,110.875 79.094,112.172 80.813,114.75C 82.544,117.341 83.406,121.091 83.406,126.00C 83.406,130.922 82.544,134.672 80.813,137.25C 79.094,139.841 76.581,141.125 73.313,141.125 z M 98.781,141.125C 95.513,141.125 93.013,139.841 91.281,137.25C 89.563,134.672 88.719,130.922 88.719,126.00C 88.719,121.091 89.563,117.341 91.281,114.75C 93.013,112.172 95.513,110.875 98.781,110.875C 102.049,110.875 104.563,112.172 106.281,114.75C 108.013,117.341 108.875,121.091 108.875,126.00C 108.875,130.922 108.013,134.672 106.281,137.25C 104.563,139.841 102.049,141.125 98.781,141.125 z M 124.25,141.125C 120.982,141.125 118.482,139.841 116.75,137.25C 115.031,134.672 114.188,130.922 114.188,126.00C 114.188,121.091 115.031,117.341 116.75,114.75C 118.482,112.172 120.982,110.875 124.25,110.875C 127.518,110.875 130.031,112.172 131.75,114.75C 133.482,117.341 134.344,121.091 134.344,126.00C 134.344,130.922 133.482,134.672 131.75,137.25C 130.031,139.841 127.518,141.125 124.25,141.125 z M 149.719,141.125C 146.451,141.125 143.951,139.841 142.219,137.25C 140.50,134.672 139.656,130.922 139.656,126.00C 139.656,121.091 140.50,117.341 142.219,114.75C 143.951,112.172 146.451,110.875 149.719,110.875C 152.987,110.875 155.50,112.172 157.219,114.75C 158.951,117.341 159.813,121.091 159.813,126.00C 159.813,130.922 158.951,134.672 157.219,137.25C 155.50,139.841 152.987,141.125 149.719,141.125 z M 189.656,141.125C 186.388,141.125 183.888,139.841 182.156,137.25C 180.438,134.672 179.563,130.922 179.563,126.00C 179.563,121.091 180.438,117.341 182.156,114.75C 183.888,112.172 186.388,110.875 189.656,110.875C 192.924,110.875 195.406,112.172 197.125,114.75C 198.857,117.341 199.719,121.091 199.719,126.00C 199.719,130.922 198.857,134.672 197.125,137.25C 195.406,139.841 192.924,141.125 189.656,141.125 z M 215.125,141.125C 211.857,141.125 209.357,139.841 207.625,137.25C 205.906,134.672 205.031,130.922 205.031,126.00C 205.031,121.091 205.906,117.341 207.625,114.75C 209.357,112.172 211.857,110.875 215.125,110.875C 218.393,110.875 220.875,112.172 222.594,114.75C 224.326,117.341 225.188,121.091 225.188,126.00C 225.188,130.922 224.326,134.672 222.594,137.25C 220.875,139.841 218.393,141.125 215.125,141.125 z M 240.594,141.125C 237.326,141.125 234.826,139.841 233.094,137.25C 231.375,134.672 230.50,130.922 230.50,126.00C 230.50,121.091 231.375,117.341 233.094,114.75C 234.826,112.172 237.326,110.875 240.594,110.875C 243.862,110.875 246.344,112.172 248.063,114.75C 249.794,117.341 250.656,121.091 250.656,126.00C 250.656,130.922 249.794,134.672 248.063,137.25C 246.344,139.841 243.862,141.125 240.594,141.125 z M 266.063,141.125C 262.794,141.125 260.294,139.841 258.563,137.25C 256.844,134.672 255.969,130.922 255.969,126.00C 255.969,121.091 256.844,117.341 258.563,114.75C 260.294,112.172 262.794,110.875 266.063,110.875C 269.331,110.875 271.813,112.172 273.531,114.75C 275.263,117.341 276.125,121.091 276.125,126.00C 276.125,130.922 275.263,134.672 273.531,137.25C 271.813,139.841 269.331,141.125 266.063,141.125 z M 73.313,138.00C 75.357,138.00 76.891,137.005 77.906,135.00C 78.935,133.008 79.469,130.01 79.469,126.00C 79.469,122.003 78.935,119.005 77.906,117.00C 76.891,115.008 75.357,114.00 73.313,114.00C 71.281,114.00 69.747,115.008 68.719,117.00C 67.703,119.005 67.219,122.003 67.219,126.00C 67.219,130.01 67.703,133.008 68.719,135.00C 69.747,137.005 71.281,138.00 73.313,138.00 z M 98.781,138.00C 100.826,138.00 102.359,137.005 103.375,135.00C 104.404,133.008 104.938,130.01 104.938,126.00C 104.938,122.003 104.404,119.005 103.375,117.00C 102.359,115.008 100.826,114.00 98.781,114.00C 96.75,114.00 95.216,115.008 94.188,117.00C 93.172,119.005 92.688,122.003 92.688,126.00C 92.688,130.01 93.172,133.008 94.188,135.00C 95.216,137.005 96.75,138.00 98.781,138.00 z M 124.25,138.00C 126.294,138.00 127.828,137.005 128.844,135.00C 129.872,133.008 130.406,130.01 130.406,126.00C 130.406,122.003 129.872,119.005 128.844,117.00C 127.828,115.008 126.294,114.00 124.25,114.00C 122.219,114.00 120.685,115.008 119.656,117.00C 118.641,119.005 118.156,122.003 118.156,126.00C 118.156,130.01 118.641,133.008 119.656,135.00C 120.685,137.005 122.219,138.00 124.25,138.00 z M 149.719,138.00C 151.763,138.00 153.297,137.005 154.313,135.00C 155.341,133.008 155.875,130.01 155.875,126.00C 155.875,122.003 155.341,119.005 154.313,117.00C 153.297,115.008 151.763,114.00 149.719,114.00C 147.688,114.00 146.154,115.008 145.125,117.00C 144.109,119.005 143.625,122.003 143.625,126.00C 143.625,130.01 144.109,133.008 145.125,135.00C 146.154,137.005 147.688,138.00 149.719,138.00 z M 189.656,138.00C 191.701,138.00 193.234,137.005 194.25,135.00C 195.279,133.008 195.781,130.01 195.781,126.00C 195.781,122.003 195.279,119.005 194.25,117.00C 193.234,115.008 191.701,114.00 189.656,114.00C 187.625,114.00 186.091,115.008 185.063,117.00C 184.047,119.005 183.531,122.003 183.531,126.00C 183.531,130.01 184.047,133.008 185.063,135.00C 186.091,137.005 187.625,138.00 189.656,138.00 z M 215.125,138.00C 217.169,138.00 218.703,137.005 219.719,135.00C 220.747,133.008 221.25,130.01 221.25,126.00C 221.25,122.003 220.747,119.005 219.719,117.00C 218.703,115.008 217.169,114.00 215.125,114.00C 213.094,114.00 211.56,115.008 210.531,117.00C 209.516,119.005 209.00,122.003 209.00,126.00C 209.00,130.01 209.516,133.008 210.531,135.00C 211.56,137.005 213.094,138.00 215.125,138.00 z M 240.594,138.00C 242.638,138.00 244.172,137.005 245.188,135.00C 246.216,133.008 246.719,130.01 246.719,126.00C 246.719,122.003 246.216,119.005 245.188,117.00C 244.172,115.008 242.638,114.00 240.594,114.00C 238.563,114.00 237.029,115.008 236.00,117.00C 234.984,119.005 234.469,122.003 234.469,126.00C 234.469,130.01 234.984,133.008 236.00,135.00C 237.029,137.005 238.563,138.00 240.594,138.00 z M 266.063,138.00C 268.107,138.00 269.641,137.005 270.656,135.00C 271.685,133.008 272.188,130.01 272.188,126.00C 272.188,122.003 271.685,119.005 270.656,117.00C 269.641,115.008 268.107,114.00 266.063,114.00C 264.031,114.00 262.497,115.008 261.469,117.00C 260.453,119.005 259.938,122.003 259.938,126.00C 259.938,130.01 260.453,133.008 261.469,135.00C 262.497,137.005 264.031,138.00 266.063,138.00 z M 164.438,124.00L 164.438,120.812L 174.969,120.812L 174.969,124.00L 164.438,124.00z"  />
<glyph unicode="&#xe09f;" d="M0.00,469.937 0.00,74.375 256.00-21.938 512.00,74.375 512.00,469.937 z m 122.594-157.031c 36.535-0.57 61.954-18.94 62.188-55.50l-39.625,0.00c 0.027,9.758 -4.165,19.046 -12.938,22.75 -9.899,3.54 -22.268,1.786 -28.625-6.594C 96.787,263.386 98.00,251.995 98.00,240.00c-0.375-15.983 7.806-29.80 24.031-29.906 16.439,0.828 24.25,8.848 24.406,23.656l 38.344,0.00c-0.92-39.266 -27.481-54.497 -62.188-54.656 -43.833-0.266 -66.675,30.603 -67.031,66.938 -0.258,43.818 30.721,66.518 67.031,66.875 z m 138.656,0.00c 26.316,0.278 56.409-11.176 57.156-39.906l0.00-2.188 -38.906,0.00 0.00,0.719c-0.241,9.434 -8.805,13.088 -16.688,13.125 -5.713-0.146 -16.988-1.375 -17.156-8.438 1.438-11.164 29.166-13.198 37.781-15.313 20.012-4.252 37.955-15.599 38.531-36.688 -0.649-34.14 -28.351-45.015 -56.938-45.125 -33.963,0.243 -63.591,8.407 -63.844,46.031l 39.25,0.00c-0.366-13.457 10.138-16.288 20.813-16.313 6.396,0.001 18.155,0.232 18.25,8.625 -1.292,10.347 -29.96,13.033 -38.156,15.125 -21.169,5.307 -37.914,16.329 -38.063,38.969 1.463,32.941 31.03,41.273 57.969,41.375 z m 135.75,0.00c 28.201-0.237 57.125-10.906 57.125-42.094l-38.875,0.00c 0.347,9.815 -8.693,13.806 -16.688,13.844 -5.713-0.146 -16.988-1.375 -17.156-8.438 1.222-11.022 29.271-13.223 37.781-15.313 13.938-3.365 28.169-9.01 34.938-21.563 2.262-4.096 3.44-9.133 3.563-15.125 -0.625-34.149 -28.34-45.015 -56.938-45.125 -33.943,0.234 -63.586,8.427 -63.844,46.031l 39.25,0.00c-0.212-8.595 4.379-14.395 12.219-15.75 7.094-0.666 26.743-3.033 26.875,8.063 -1.545,10.512 -29.822,12.998 -38.156,15.125 -21.19,5.31 -37.914,16.308 -38.063,38.969 1.468,32.963 30.997,41.273 57.969,41.375z"  />
<glyph unicode="&#xe09e;" d="M 256.00,396.64 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-31.40 5.656-61.484 16.00-89.281l 70.00,0.00c-14.036,26.673 -22.00,57.047 -22.00,89.281 0.00,106.039 85.961,192.00 192.00,192.00 106.039,0.00 192.00-85.961 192.00-192.00 0.00-32.234 -7.964-62.608 -22.00-89.281l 70.00,0.00c 10.344,27.797 16.00,57.882 16.00,89.281 0.00,141.385 -114.615,256.00 -256.00,256.00 z m 0.00-100.531c-17.673,0.00 -32.00-14.327 -32.00-32.00 0.00-17.673 14.327-32.00 32.00-32.00 17.673,0.00 32.00,14.327 32.00,32.00 0.00,17.673 -14.327,32.00 -32.00,32.00 z m -95.969-31.344c-17.673,0.00 -32.00-14.327 -32.00-32.00 0.00-17.673 14.327-32.00 32.00-32.00 17.673,0.00 32.00,14.327 32.00,32.00 0.00,17.673 -14.327,32.00 -32.00,32.00 z m 191.938,0.00c-17.673,0.00 -32.00-14.327 -32.00-32.00 0.00-17.673 14.327-32.00 32.00-32.00 17.673,0.00 32.00,14.327 32.00,32.00 0.00,17.673 -14.327,32.00 -32.00,32.00 z M 256.00,201.953l-25.094-125.50 0.00-25.094 50.188,0.00 0.00,25.094L 256.00,201.953z"  />
<glyph unicode="&#xe0c7;" d="M0.00,480.00L0.00,224.00L 256.00,224.00L 256.00,480.00L0.00,480.00 z M 256.00,224.00L 256.00-32.00L 512.00-32.00L 512.00,224.00L 256.00,224.00z"  />
<glyph unicode="&#xe0c6;" d="M 186.141,329.919  m0.00,0.00, 58.021,0.00 0.00-211.904 -242.914-0.153c 2.122,59.066 34.117,141.903 184.893,161.603l 0.739-22.704C 118.337,246.661 94.532,206.134 82.712,155.855l 105.952,0.00 -2.523,174.064 z M 271.011,236.091 270.119,118.307 510.932,118.361C 513.248,236.189 408.483,289.542 243.809,286.929l0.00-23.635c 73.014,1.89 164.429-0.817 189.527-106.582l-107.919,0.891 0.00,74.028C 306.093,237.274 289.444,237.372 271.011,236.091z"  />
<glyph unicode="&#xe0c5;" d="M 479.232,319.963  m0.00,0.00,-32.183,0.00 0.00-63.781 -32.768,0.00 -125.221,0.00 -32.768,0.00 0.00,63.781 -32.768,0.00 0.00-97.719 0.00,0.00 32.768,0.00 0.00,0.00 0.00-188.416 95.378,0.00 0.00,93.623 32.768,0.00 0.00-93.623 62.025,0.00 0.00,188.416 0.585,0.00 32.183,0.00 z m -190.171,93.623 0.00-125.221 125.221,0.00 0.00,125.221 z m 222.939-63.195 0.00-160.914 -32.768,0.00 0.00-187.831 -255.707,0.00 0.00,187.831 -95.378,0.00 0.00-62.025 30.427,0.00 0.00-32.183 32.768,0.00 0.00-93.623 -159.159,0.00 0.00,93.623 32.768,0.00 0.00-61.44 93.623,0.00 0.00,61.44 -93.623,0.00 0.00,32.183 30.427,0.00 0.00,62.025 -63.195,0.00 0.00,32.768 158.574,0.00 0.00,128.146 0.585,0.00 64.951,0.00 0.00,95.963 190.757,0.00 0.00-95.963 z m -353.426,0.00 0.00,30.427 32.183,0.00 0.00-30.427 z m -126.391,0.00 0.00-128.146 -32.183,0.00 0.00,128.146 z m 32.768,0.00 -32.768,0.00 0.00,30.427 32.768,0.00 z m 93.623,30.427 -93.623,0.00 0.00,32.768 93.623,0.00z"  />
<glyph unicode="&#xe0c4;" d="M 256.00,480.00 m0.00,0.00,c-141.384,0.00 -256.00-114.616 -256.00-256.00 0.00-141.384 114.616-256.00 256.00-256.00 141.384,0.00 256.00,114.616 256.00,256.00 0.00,141.384 -114.616,256.00 -256.00,256.00 z m 0.00-456.348c-110.664,0.00 -200.348,89.711 -200.348,200.348 0.00,110.636 89.683,200.348 200.348,200.348 110.664,0.00 200.348-89.711 200.348-200.348 0.00-110.636 -89.684-200.348 -200.348-200.348 z m 50.087,307.478 -100.174,0.00 0.00-113.809 -62.609,0.00 112.696-106.017 112.696,106.017 -62.609,0.00 0.00,113.809z"  />
<glyph unicode="&#xe0c3;" d="M 0.489,37.326  m0.00,0.00, 512.00,0.00 0.00-69.327 -512.00,0.00 z m 350.202,442.673 -188.404,0.00 0.00-211.896 -117.752,0.00 211.954-197.39 211.954,197.39 -117.752,0.00z"  />
<glyph unicode="&#xe0c2;" d="M 256.00,480.00 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 z m 0.00-37.09c 55.773,0.00 106.674-20.857 145.329-55.198 -28.40-37.466 -71.562-62.407 -114.788-79.303 -23.571,43.112 -52.586,88.566 -82.124,128.389 16.54,3.995 33.816,6.111 51.583,6.111 z m -93.131-20.75c 28.542-42.677 56.174-82.273 81.459-127.092 -63.892-16.551 -136.062-26.479 -202.732-26.65 14.057,68.215 59.859,124.828 121.272,153.743 z m 262.744-59.753c 30.532-37.372 48.946-85.021 49.281-136.964 -50.63,9.973 -100.987,12.604 -152.268,7.441 -5.777,14.375 -12.746,28.025 -19.437,42.748 44.206,17.829 91.453,48.346 122.424,86.776 z M 262.095,261.203c 5.487-11.664 11.833-24.018 17.783-36.653 -71.296-31.438 -147.121-73.46 -186.505-147.096 -34.986,38.801 -56.284,90.186 -56.284,146.545 0.00,2.14 0.036,4.278 0.097,6.403 76.367,0.371 151.305,9.928 224.908,30.80 z m 212.069-55.425c-0.07-0.855 -0.147-1.71 -0.227-2.561 0.081,0.851 0.156,1.708 0.227,2.561 z m -96.389-4.263c 31.831,0.099 64.692-4.348 94.411-12.158 -9.72-61.146 -44.763-113.854 -94.038-147.048 -11.755,53.443 -22.955,104.576 -42.748,156.142 13.65,2.035 27.906,3.019 42.375,3.064 z m 95.546-3.972c-0.149-1.239 -0.30-2.479 -0.47-3.712 0.171,1.236 0.32,2.47 0.47,3.712 z m -178.448-9.094c 20.189-52.122 36.035-109.849 46.638-166.03 -26.272-11.16 -55.168-17.329 -85.512-17.329 -50.63,0.00 -97.238,17.195 -134.322,46.055 39.644,64.335 101.047,112.994 173.196,137.305z"  />
<glyph unicode="&#xe0ed;" d="M 0.00,480.00L 0.00,149.031L 0.00-32.00L 181.031-32.00L 512.00-32.00L 512.00,298.969L 428.00,214.969L 428.00,52.00L 265.031,52.00L 84.00,52.00L 84.00,233.031L 84.00,396.00L 246.969,396.00L 330.969,480.00L 0.00,480.00 z M 448.00,480.00L 415.219,447.219L 479.219,383.219L 512.00,416.00L 448.00,480.00 z M 399.75,431.75L 212.125,244.125L 276.125,180.125L 463.75,367.75L 399.75,431.75 z M 188.563,214.469C 187.613,214.454 186.645,214.385 185.688,214.312L 185.688,153.687L 246.313,153.687C 246.313,170.203 238.422,186.984 226.125,198.719C 215.953,208.426 202.797,214.688 188.563,214.469z"  />
<glyph unicode="&#xe0ec;" d="M 256.00,448.844L0.00,172.969L 512.00,172.969L 256.00,448.844 z M 0.00,124.312L0.00-7.688L 512.00-7.688L 512.00,124.312L0.00,124.312z"  />
<glyph unicode="&#xe0eb;" d="M 0.00,417.50  m0.00,0.00,0.00-71.969 256.00-145.969 256.00,145.969 0.00,71.969 z m 0.00-118.00 0.00-211.031 130.406,136.688 z m 512.00,0.00 -130.406-74.344 130.406-136.688 z m -345.781-94.781 -166.219-174.219 512.00,0.00 -166.219,174.219 -89.781-51.188z"  />
<glyph unicode="&#xe0ea;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 125.00,323.031L 387.00,323.031L 387.00,286.187L 256.00,211.50L 125.00,286.187L 125.00,323.031 z M 125.00,262.625L 191.719,224.594L 125.00,154.656L 125.00,262.625 z M 387.00,262.625L 387.00,154.656L 320.281,224.594L 387.00,262.625 z M 210.063,214.125L 256.00,187.937L 301.938,214.125L 387.00,124.969L 125.00,124.969L 210.063,214.125z"  />
<glyph unicode="&#xe105;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 256.00,410.00C 358.725,410.00 442.00,326.725 442.00,224.00C 442.00,121.275 358.725,38.00 256.00,38.00C 153.275,38.00 70.00,121.275 70.00,224.00C 70.00,326.725 153.275,410.00 256.00,410.00 z M 120.094,274.281L 120.094,173.719L 391.906,173.719L 391.906,274.281L 120.094,274.281z"  />
<glyph unicode="&#xe104;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 84.188,292.50L 427.813,292.50L 427.813,155.50L 84.188,155.50L 84.188,292.50z"  />
<glyph unicode="&#xe103;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 162.969,429.562L 349.031,429.562L 309.031,147.719L 202.969,147.719L 162.969,429.562 z M 257.00,128.531C 287.405,128.531 312.063,103.874 312.063,73.469C 312.063,43.063 287.405,18.437 257.00,18.437C 226.595,18.437 201.938,43.063 201.938,73.469C 201.938,103.874 226.595,128.531 257.00,128.531z"  />
<glyph unicode="&#xe102;" d="M 335.938,450.594C 331.78,450.377 327.016,447.012 323.906,441.625L 285.75,375.562C 275.983,376.619 266.059,377.224 256.00,377.375C 212.042,377.18 166.475,366.488 123.344,346.00C 91.319,330.161 60.123,307.80 33.031,280.219C 19.726,266.139 2.744,245.752 0.00,224.00C 0.324,205.158 20.545,181.901 33.031,167.781C 58.436,141.282 88.82,119.562 123.344,102.00C 124.517,101.431 125.695,100.868 126.875,100.312L 101.50,56.375C 97.353,49.193 97.773,41.256 102.438,38.562L 128.875,23.281C 133.54,20.588 140.635,24.193 144.781,31.375L 174.313,82.50L 197.688,123.00L 218.781,159.531L 293.188,288.406L 314.281,324.937L 337.688,365.469L 367.219,416.625C 371.365,423.807 370.946,431.744 366.281,434.437L 339.813,449.719C 338.646,450.392 337.323,450.666 335.938,450.594 z M 385.094,347.625L 353.125,292.219C 367.832,273.112 376.563,249.55 376.563,224.00C 376.563,160.317 322.579,108.687 255.969,108.687C 253.089,108.687 250.298,108.998 247.469,109.187L 226.313,72.562C 236.07,71.518 245.935,70.756 256.00,70.625C 299.999,70.823 345.541,81.638 388.625,102.00C 420.65,117.839 451.877,140.20 478.969,167.781C 492.274,181.861 509.256,202.248 512.00,224.00C 511.676,242.842 491.455,266.099 478.969,280.219C 453.564,306.718 423.149,328.438 388.625,346.00C 387.459,346.565 386.267,347.073 385.094,347.625 z M 255.969,339.312C 258.889,339.312 261.788,339.195 264.656,339.00L 239.875,296.094C 205.096,289.043 179.00,259.452 179.00,224.031C 179.00,215.134 180.639,206.615 183.656,198.719C 183.66,198.71 183.653,198.697 183.656,198.687L 158.813,155.656C 144.071,174.781 135.375,198.421 135.375,224.00C 135.375,287.683 189.358,339.312 255.969,339.312 z M 328.063,248.844L 272.219,152.094C 306.811,159.278 332.719,188.734 332.719,224.031C 332.719,232.767 330.976,241.071 328.063,248.844z"  />
<glyph unicode="&#xe09d;" d="M 332.734,224.031 m0.00,0.00,c0.00-40.675 -34.417-73.648 -76.872-73.648 -42.455,0.00 -76.872,32.973 -76.872,73.648 0.00,40.675 34.417,73.648 76.872,73.648 42.455,0.00 76.872-32.973 76.872-73.648 z M 256.001,377.378c-43.958-0.195 -89.521-10.896 -132.653-31.384 -32.025-15.839 -63.234-38.185 -90.326-65.767 -13.306-14.08 -30.277-34.467 -33.021-56.219 0.324-18.842 20.535-42.099 33.021-56.219 25.405-26.499 55.802-48.221 90.326-65.783 40.223-19.52 84.743-30.759 132.653-31.384 43.999,0.198 89.552,11.022 132.636,31.384 32.025,15.839 63.251,38.202 90.342,65.783 13.306,14.08 30.277,34.467 33.021,56.219 -0.324,18.842 -20.535,42.099 -33.021,56.219 -25.405,26.499 -55.818,48.205 -90.342,65.767 -40.202,19.506 -84.832,30.667 -132.636,31.384 z m -0.033-38.079c 66.611,0.00 120.608-51.624 120.608-115.307 0.00-63.683 -53.997-115.307 -120.608-115.307 -66.611,0.00 -120.608,51.624 -120.608,115.307 0.00,63.683 53.997,115.307 120.608,115.307z"  />
<glyph unicode="&#xe09c;" d="M0.00,480.00L0.00-32.00L 512.00-32.00L 512.00,480.00L0.00,480.00 z M 368.313,413.187C 372.031,413.266 375.904,413.146 379.906,412.875C 394.616,412.855 409.979,411.529 425.219,410.187L 423.563,349.562L 382.625,349.562C 363.43,349.988 356.498,342.534 355.875,320.875L 355.875,273.25L 425.219,273.25L 422.469,208.312L 355.875,208.312L 355.875,27.531L 288.219,27.531L 288.219,208.312L 241.25,208.312L 241.25,273.25L 288.219,273.25L 288.219,329.00C 288.219,369.196 305.212,394.781 338.688,407.75C 347.284,411.132 357.157,412.951 368.313,413.187z"  />
<glyph unicode="&#xe09b;" d="M 0.00,422.481  m0.00,0.00,0.00-396.962 396.962,0.00 0.00,166.935 115.038-166.935 0.00,396.962 -115.038-166.935 0.00,166.935 -396.962,0.00z"  />
<glyph unicode="&#xe098;" d="M 258.339,484.812 m0.00,0.00,c-90.822,0.00 -164.464-73.642 -164.464-164.464 0.00-80.107 57.306-146.851 133.143-161.484l0.00-52.94 -70.534,0.00 0.00-62.609 70.534,0.00 0.00-70.503 62.609,0.00 0.00,70.503 70.534,0.00 0.00,62.609 -70.534,0.00 0.00,52.94c 75.853,14.621 133.175,81.366 133.175,161.484 0.00,90.822 -73.642,164.464 -164.464,164.464 z m 0.00-65.399c 54.712,0.00 99.065-44.353 99.065-99.065 0.00-54.712 -44.353-99.065 -99.065-99.065 -54.712,0.00 -99.065,44.353 -99.065,99.065 0.00,54.712 44.353,99.065 99.065,99.065z"  />
<glyph unicode="&#xe0c1;" d="M 172.923,478.111  m0.00,0.00,-96.456-93.12 0.00-31.544 129.102,0.00 0.00,124.663 -32.645,0.00 z m 76.466,0.00 0.00-166.942 -172.923,0.00 0.00-345.058 362.846,0.00 0.00,512.00 -189.922,0.00z"  />
<glyph unicode="&#xe0c0;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 211.938,356.781L 228.875,356.781L 228.875,292.125L 161.906,292.125L 161.906,308.469L 211.938,356.781 z M 251.594,356.781L 350.094,356.781L 350.094,91.219L 161.906,91.219L 161.906,270.187L 251.594,270.187L 251.594,356.781z"  />
<glyph unicode="&#xe0bf;" d="M 121.389,480.00  m0.00,0.00,-96.457-93.12 0.00-418.88 362.845,0.00 0.00,163.195 -44.797-44.797 0.00-73.885 -273.251,0.00 0.00,342.823 84.305,0.00 0.00,80.15 188.946,0.00 0.00-116.478 -133.73-133.73 -39.728-122.397 122.365,39.76 195.179,195.179 -82.637,82.636 -16.653-16.653 0.00,116.195 -266.389,0.00 z m 108.545-315.372 41.303-41.334 -61.198-19.864 19.896,61.198z"  />
<glyph unicode="&#xe0be;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 194.938,385.75L 363.25,385.75L 363.25,312.344L 373.781,322.844L 426.00,270.656L 302.688,147.312L 225.375,122.187L 250.469,199.531L 334.969,284.031L 334.969,357.625L 215.563,357.625L 215.563,306.969L 162.313,306.969L 162.313,90.375L 334.969,90.375L 334.969,137.062L 363.25,165.375L 363.25,62.25L 134.00,62.25L 134.00,326.906L 194.938,385.75 z M 263.531,186.50L 250.969,147.812L 289.625,160.375L 263.531,186.50z"  />
<glyph unicode="&#xe0bd;" d="M 109.049,480.00  m0.00,0.00,-96.457-93.12 0.00-418.88 258.55,0.00 0.00,44.514 -213.753,0.00 0.00,342.823 84.305,0.00 0.00,80.15 188.946,0.00 0.00-133.541 44.797,0.00 0.00,178.054 -266.389,0.00 z m 201.696-217.059 0.00-106.278 -106.31,0.00 0.00-82.385 106.31,0.00 0.00-106.278 82.353,0.00 0.00,106.278 106.31,0.00 0.00,82.385 -106.31,0.00 0.00,106.278 -82.353,0.00z"  />
<glyph unicode="&#xe0bc;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 191.563,385.312L 347.563,385.312L 347.563,281.031L 321.344,281.031L 321.344,359.25L 210.688,359.25L 210.688,312.281L 161.313,312.281L 161.313,111.50L 286.50,111.50L 286.50,85.437L 135.063,85.437L 135.063,330.781L 191.563,385.312 z M 309.688,258.187L 357.906,258.187L 357.906,195.937L 420.188,195.937L 420.188,147.687L 357.906,147.687L 357.906,85.437L 309.688,85.437L 309.688,147.687L 247.438,147.687L 247.438,195.937L 309.688,195.937L 309.688,258.187z"  />
<glyph unicode="&#xe0e9;" d="M 30.219,480.00L 30.219-32.00L 481.781-32.00L 481.781,480.00L 30.219,480.00 z M 53.25,449.25L 108.719,449.25L 108.719,407.062L 53.25,407.062L 53.25,449.25 z M 403.25,449.25L 458.719,449.25L 458.719,407.062L 403.25,407.062L 403.25,449.25 z M 132.563,446.125L 379.438,446.125L 379.438,222.687L 132.563,222.687L 132.563,446.125 z M 53.25,354.719L 108.719,354.719L 108.719,312.531L 53.25,312.531L 53.25,354.719 z M 403.281,354.719L 458.75,354.719L 458.75,312.531L 403.281,312.531L 403.281,354.719 z M 53.25,260.187L 108.719,260.187L 108.719,218.00L 53.25,218.00L 53.25,260.187 z M 403.281,260.187L 458.75,260.187L 458.75,218.00L 403.281,218.00L 403.281,260.187 z M 132.563,207.062L 379.438,207.062L 379.438-16.375L 132.563-16.375L 132.563,207.062 z M 53.25,165.656L 108.719,165.656L 108.719,123.469L 53.25,123.469L 53.25,165.656 z M 403.281,165.656L 458.75,165.656L 458.75,123.469L 403.281,123.469L 403.281,165.656 z M 53.25,71.125L 108.719,71.125L 108.719,28.937L 53.25,28.937L 53.25,71.125 z M 403.281,71.125L 458.75,71.125L 458.75,28.937L 403.281,28.937L 403.281,71.125z"  />
<glyph unicode="&#xe0e8;" d="M0.00,480.00L 177.438,302.562L 177.438-32.00L 334.563,96.562L 334.563,302.562L 512.00,480.00L0.00,480.00z"  />
<glyph unicode="&#xe0e7;" d="M 145.952,21.08C 51.926,74.072 27.171,124.23 41.325,192.736 51.773,243.32 85.986,284.476 89.266,334.964c 14.615-26.596 20.721-45.774 22.354-73.566 46.482,56.95 77.198,135.788 79.017,218.603 0.00,0.00 121.069-71.136 129.013-178.589 10.423,22.147 15.669,57.324 5.246,80.121 31.267-22.799 214.275-225.192 -24.789-360.453 44.946,87.516 11.596,205.601 -66.444,260.138 5.211-23.451 -3.926-110.914 -38.451-149.345 9.566,64.217 -9.102,91.37 -9.102,91.37 0.00,0.00 -6.407-35.97 -31.267-72.305 -22.701-33.18 -38.43-68.397 -8.894-129.857z"  />
<glyph unicode="&#xe0e6;" d="M -0.451,452.309  m0.00,0.00,0.00-411.666 58.445,0.00 0.00,201.023c 164.144,44.674 269.46-137.155 381.812-24.802l0.00,235.445c-174.513-112.904 -266.472,100.335 -440.257,0.00z"  />
<glyph unicode="&#xe101;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 175.094,368.50C 252.322,368.154 309.332,291.097 400.813,350.281L 400.813,195.406C 326.904,121.498 257.603,241.106 149.625,211.719L 149.625,79.50L 111.188,79.50L 111.188,350.281C 134.409,363.688 155.408,368.588 175.094,368.50z"  />
<glyph unicode="&#xe100;" d="M0.00,480.00L0.00-32.00L 512.00-32.00L 512.00,480.00L0.00,480.00 z M 151.438,320.50C 204.741,320.50 247.938,277.303 247.938,224.00C 247.938,170.697 204.741,127.469 151.438,127.469C 98.134,127.469 54.938,170.697 54.938,224.00C 54.938,277.303 98.134,320.50 151.438,320.50 z M 360.563,320.50C 413.866,320.50 457.063,277.303 457.063,224.00C 457.063,170.697 413.866,127.469 360.563,127.469C 307.259,127.469 264.063,170.697 264.063,224.00C 264.063,277.303 307.259,320.50 360.563,320.50z"  />
<glyph unicode="&#xe0ff;" d="M 106.313,429.781 70.594,383.687 0.00,383.687l0.00-365.469 512.00,0.00 0.00,365.469 -259.563,0.00 -35.719,46.094z"  />
<glyph unicode="&#xe0fe;" d="M 106.312,429.781  m0.00,0.00,-35.719-46.094 -70.594,0.00 0.00-61.719 512.00,0.00 0.00,61.719 -259.563,0.00 -35.719,46.094 -110.406,0.00 z m -106.313-125.00 0.00-286.563 512.00,0.00 0.00,286.563 -512.00,0.00z"  />
<glyph unicode="&#xe097;" d="M 106.312,429.781  m0.00,0.00,-35.719-46.094 -70.594,0.00 0.00-260.255 52.724,198.536 371.276,0.00 0.00,61.719 -171.563,0.00 -35.719,46.094 z m -106.313-383.536 0.00-28.027 424.00,0.00 88.00,286.563 -437.276,0.00z"  />
<glyph unicode="&#xe096;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 166.625,346.875L 232.531,346.875L 253.875,319.375L 408.875,319.375L 408.875,101.125L 103.125,101.125L 103.125,319.375L 145.281,319.375L 166.625,346.875z"  />
<glyph unicode="&#xe095;" d="M 142.994,154.365  m0.00,0.00, 185.689,0.00 -92.845,240.583 -92.845-240.583m-142.994-183.317 0.00,35.918 44.389,0.00 180.267,469.983 56.926,0.00 180.605-469.983 49.811,0.00 0.00-35.918 -183.995,0.00 0.00,35.918 56.249,0.00 -42.356,111.141 -212.796,0.00 -42.356-111.141 55.571,0.00 0.00-35.918 -142.316,0.00"  />
<glyph unicode="&#xe094;" d="M 443.49,142.134 m0.00,0.00,c-5.088,8.359 -11.449,13.72 -19.08,16.083 -15.829,5.066 -33.498,4.723 -44.158-6.815 -11.917-15.784 -12.215-39.44 0.00-53.153 18.631-17.587 51.538-8.895 63.238,8.45l0.00,35.435 z m 41.977,141.195c 17.082-15.628 25.623-37.797 25.623-66.509l0.00-165.726c-0.279-4.58 -4.037-8.118 -8.178-8.178l-51.244,0.00c-4.58,0.279 -8.118,4.037 -8.178,8.178l0.00,4.906c-17.107-12.982 -36.902-18.963 -56.696-19.08 -22.462,0.658 -41.99,8.606 -57.242,22.624 -18.782,18.796 -26.019,41.904 -26.168,65.691 0.74,26.025 8.255,49.446 26.44,66.237 16.774,14.19 36.614,20.857 56.969,20.989 22.533,0.00 41.432-5.996 56.696-17.99l0.00,15.809c0.00,25.078 -13.084,37.615 -39.251,37.615 -20.352,0.00 -38.887-8.541 -55.605-25.623 -4.439-3.928 -10.697-2.388 -13.084,2.18l-20.17,34.89c-1.817,3.635 -1.272,6.906 1.635,9.813 12.357,12.357 26.713,21.716 43.067,28.075 40.53,14.061 94.624,13.285 125.386-13.901 z m -335.27,27.258 -35.98-128.656 72.506,0.00 z M 300.115,57.089c 0.727-2.18 1.09-3.635 1.09-4.361 -0.153-4.848 -3.873-8.123 -8.178-8.178l-0.545,0.00 -63.783,0.00c-3.998,0.00 -6.541,1.998 -7.632,5.996L 203.077,113.785 97.863,113.785 79.873,50.547c-1.09-3.998 -3.816-5.996 -8.178-5.996l-63.238,0.00c-6.797,0.566 -9.367,4.738 -8.178,10.358l 106.851,351.079c 1.454,3.998 4.18,5.996 8.178,5.996l 70.324,0.00c 3.998,0.00 6.723-1.999 8.178-5.996L 300.115,57.089z"  />
<glyph unicode="&#xe092;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 128.00,319.844L 256.00,224.00L 128.00,128.156L 128.00,319.844 z M 288.00,319.844L 416.00,224.00L 288.00,128.156L 288.00,319.844z"  />
<glyph unicode="&#xe0bb;" d="M0.00,480.00L0.00-32.00L 512.00-32.00L 512.00,333.312L 397.25,236.437C 406.36,227.082 406.599,213.469 396.719,202.875L 279.25,84.906C 269.436,75.332 256.111,74.863 244.625,84.906L 140.156,189.375C 113.328,190.999 88.871,203.835 69.281,225.094C 51.987,245.349 43.472,271.16 44.906,300.031C 47.297,326.783 59.373,351.029 80.625,370.656C 99.062,386.06 121.742,394.886 147.75,395.562C 177.286,395.327 204.69,382.914 226.219,359.312C 228.023,357.148 229.751,354.876 231.375,352.531C 232.999,350.186 234.525,347.946 235.969,345.781L 244.625,354.437C 254.439,364.012 267.764,364.481 279.25,354.437L 313.906,319.781L 430.813,480.00L0.00,480.00 z M 455.719,480.00L 266.281,219.687C 264.477,217.523 262.307,216.406 259.781,216.406C 257.255,216.406 255.457,217.321 254.375,219.125C 253.654,219.486 250.398,223.454 244.625,231.031C 238.852,238.608 231.83,248.002 223.531,259.187C 223.606,259.657 223.653,260.104 223.719,260.562C 227.771,270.32 230.00,280.995 230.00,292.219C 230.00,337.878 193.003,374.906 147.344,374.906C 101.684,374.906 64.656,337.878 64.656,292.219C 64.656,246.559 101.684,209.562 147.344,209.562C 157.314,209.562 166.869,211.328 175.719,214.562C 175.735,214.568 175.734,214.557 175.75,214.562C 176.156,214.642 176.558,214.699 176.969,214.781L 255.469,151.469C 256.551,150.386 257.605,149.844 258.688,149.844L 260.313,149.844C 262.116,149.844 263.574,150.386 264.656,151.469L 512.00,359.844L 512.00,480.00L 455.719,480.00z"  />
<glyph unicode="&#xe0ba;" d="M 374.764,480.00C 350.798,479.957 324.901,475.728 298.586,461.702 268.977,472.338 237.712,481.316 194.245,478.093 95.936,468.939 58.413,419.264 52.641,348.419c-20.73-2.362 -40.321-7.829 -41.743-62.598 -1.36-62.03 18.052-72.139 38.757-79.006l 1.493-181.853c 2.926-21.472 -1.088-45.384 47.699-50.669l 73.034-1.493c 26.733-3.483 45.279,13.487 55.148,52.163 3.468-31.439 17.286-48.649 43.235-49.176l 84.962,0.00c 19.205,5.118 40.272,6.804 43.219,41.727l 1.493,189.303 22.348-1.493c 18.252,2.643 36.433,5.658 49.192,35.77l0.00,56.641c-3.688,23.123 -9.945,20.397 -16.392,25.351 17.357,3.84 35.283,5.659 41.727,47.699l-1.477,46.206C 495.944,445.98 479.792,462.45 439.315,473.185 420.77,475.893 398.731,480.042 374.764,480.00 z m -169.209-44.363c 11.686,0.131 27.791-1.77 61.566-12.596l 1.048-54.815c-17.574,6.16 -32.964,13.268 -45.316,11.596 -38.226,1.796 -41.811-17.73 -44.268-37.946l0.00-38.994 98.019-1.048c 2.359,51.683 -11.539,117.566 74.082,128.961 37.377,4.971 71.717,0.211 97.717-10.912l-1.048-57.976c-13.443,10.752 -31.59,14.451 -50.59,16.868 -52.85,7.43 -40.676-39.913 -43.219-74.844l 70.619,0.00 0.00-51.638 -70.619,0.00 1.048-233.984 -77.989,2.113 0.00,231.872 -101.18-2.113 0.00-229.759 -77.989,0.00 2.097,229.759 -37.946,0.00 -1.048,57.976 41.107-2.113 -1.048,15.804c 1.841,37.771 -1.459,102.899 79.482,113.045 9.974-0.686 16.388,0.644 25.477,0.747z"  />
<glyph unicode="&#xe0b9;" d="M0.00,480.00L0.00-32.00L 512.00-32.00L 512.00,480.00L0.00,480.00 z M 345.313,409.656C 363.012,409.688 379.272,406.625 392.969,404.625C 422.86,396.697 434.791,384.534 434.344,363.125L 435.438,329.00C 430.679,297.955 417.443,296.617 404.625,293.781C 409.387,290.123 414.026,292.138 416.75,275.062L 416.75,233.25C 407.328,211.012 393.885,208.764 380.406,206.812L 363.906,207.937L 362.813,68.125C 360.635,42.335 345.058,41.092 330.875,37.312L 268.125,37.312C 248.961,37.702 238.78,50.408 236.219,73.625C 228.93,45.064 215.242,32.521 195.50,35.094L 141.563,36.219C 105.534,40.122 108.473,57.768 106.313,73.625L 105.219,207.937C 89.929,213.009 75.589,220.442 76.594,266.25C 77.644,306.696 92.129,310.756 107.438,312.50C 111.70,364.819 139.40,401.49 212.00,408.25C 244.10,410.629 267.197,404.011 289.063,396.156C 308.496,406.514 327.613,409.625 345.313,409.656 z M 220.344,376.906C 213.632,376.831 208.897,375.837 201.531,376.344C 141.757,368.852 144.204,320.769 142.844,292.875L 143.625,281.187L 113.25,282.75L 114.031,239.937L 142.063,239.937L 140.50,70.281L 198.094,70.281L 198.094,239.937L 272.813,241.50L 272.813,70.281L 330.406,68.719L 329.625,241.50L 381.781,241.50L 381.781,279.656L 329.625,279.656C 331.503,305.453 322.534,340.394 361.563,334.906C 375.594,333.121 388.979,330.409 398.906,322.469L 399.688,365.25C 380.487,373.465 355.134,377.015 327.531,373.344C 264.301,364.929 274.554,316.261 272.813,278.094L 200.438,278.875L 200.438,307.656C 202.252,322.586 204.896,337.013 233.125,335.687C 242.247,336.923 253.615,331.674 266.594,327.125L 265.813,367.594C 240.87,375.589 228.973,377.003 220.344,376.906z"  />
<glyph unicode="&#xe0b8;" d="M 0.00,480.00L 0.00,303.437L 61.50,365.469L 202.969,224.00L 61.25,82.281L 0.00,143.00L 0.00-32.00L 176.563-32.00L 114.531,29.50L 256.00,170.969L 397.719,29.25L 337.00-32.00L 512.00-32.00L 512.00,144.562L 450.50,82.531L 309.031,224.00L 450.75,365.719L 512.00,305.00L 512.00,480.00L 335.438,480.00L 397.469,418.50L 256.00,277.031L 114.281,418.75L 175.00,480.00L 0.00,480.00z"  />
<glyph unicode="&#xe0b7;" d="M 320.252,321.38  m0.00,0.00, 98.384,62.243 -96.376,96.376 -62.243-138.541 -36.141,108.424 -96.376-64.251 80.314-64.251 -182.714,0.00 0.00-128.502 32.126,0.00 0.00-224.878 397.554,0.00 0.00,224.878 32.126,0.00 0.00,128.502 z m 10.136,116.418 50.43-50.43 -102.869-65.233 z m -119.394-25.461 28.475-85.426 -71.188,56.95 z m 12.882-412.212 -134.525,0.00 0.00,202.816 134.525,0.00 z m 0.00,224.878 -166.651,0.00 0.00,64.251 166.651,0.00 z m 198.776-224.878 -134.525,0.00 0.00,202.816 134.525,0.00 z m 32.126,224.878 -166.651,0.00 0.00,64.251 166.651,0.00z"  />
<glyph unicode="&#xe0b6;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 256.00,452.125C 381.99,452.125 484.125,349.99 484.125,224.00C 484.125,98.01 381.99-4.125 256.00-4.125C 130.01-4.125 27.875,98.01 27.875,224.00C 27.875,349.99 130.01,452.125 256.00,452.125 z M 142.781,385.312C 136.284,366.428 134.032,345.932 139.844,328.031C 132.822,320.239 127.37,311.287 123.469,301.156C 113.07,268.292 115.61,226.308 138.375,200.906C 146.372,192.139 157.222,184.931 170.875,179.281C 184.528,173.632 202.076,170.028 223.531,168.469C 209.131,161.74 198.98,157.628 195.438,142.75C 179.375,132.017 159.842,134.578 145.688,146.25C 134.501,154.417 129.434,168.933 117.031,174.312C 116.251,175.092 113.815,175.673 109.719,176.062C 105.623,176.452 102.403,175.29 100.063,172.562C 98.892,171.394 98.979,170.145 100.344,168.781C 109.733,161.145 118.77,153.051 124.063,143.344C 129.134,132.823 134.383,125.12 139.844,120.25C 154.993,110.013 175.311,104.687 193.094,111.187C 191.02,98.674 196.614,79.132 192.50,67.937C 190.939,64.82 188.707,62.088 185.781,59.75C 183.174,57.206 175.089,54.024 176.719,50.125C 177.499,48.372 180.225,47.296 184.906,46.906C 195.211,47.169 205.469,51.335 211.531,59.469C 213.677,62.391 214.75,66.199 214.75,70.875L 214.75,118.781C 214.75,124.236 215.909,128.131 218.25,130.469C 220.591,132.807 223.144,134.377 225.875,135.156L 225.875,72.031C 225.875,66.576 225.382,61.897 224.406,58.00C 223.431,54.103 222.561,51.371 221.781,49.812C 219.99,46.809 216.567,44.038 216.50,40.469C 216.50,39.30 217.197,38.632 218.563,38.437C 228.811,38.882 240.702,44.894 244.875,53.344C 248.191,60.357 249.844,67.738 249.844,75.531L 249.844,137.50L 262.719,137.50L 262.719,75.531C 262.719,67.738 264.489,60.357 268.00,53.344C 271.511,46.33 277.37,41.823 285.563,39.875C 289.853,38.706 292.752,38.243 294.313,38.437C 295.873,38.632 296.57,39.30 296.375,40.469C 295.435,44.009 293.478,47.038 291.406,49.812C 288.675,53.319 287.313,60.731 287.313,72.031L 287.313,135.156C 290.043,134.377 292.683,132.807 295.219,130.469C 297.754,128.131 299.00,124.236 299.00,118.781L 299.00,70.875C 299.00,66.199 300.073,62.391 302.219,59.469C 308.74,51.176 318.567,46.969 328.844,46.906C 333.525,47.296 336.251,48.372 337.031,50.125C 337.811,51.878 337.231,53.331 335.281,54.50C 333.331,55.669 330.894,57.412 327.969,59.75C 325.043,62.088 322.811,64.82 321.25,67.937C 319.499,88.038 321.205,109.584 319.781,129.906C 316.97,152.084 308.434,159.38 291.406,167.875C 311.691,169.434 328.37,173.155 341.438,179.00C 380.502,197.981 391.304,227.323 391.469,266.656C 390.853,291.97 383.545,314.053 366.875,330.969C 369.216,339.93 369.913,349.259 368.938,359.00C 367.962,368.741 365.902,377.52 362.781,385.312C 348.349,384.533 336.254,381.628 326.50,376.562C 316.747,371.497 309.728,367.194 305.438,363.687C 270.871,371.535 233.867,371.582 200.719,362.531C 183.757,376.404 162.735,384.133 142.781,385.312z"  />
<glyph unicode="&#xe0e5;" d="M 436.712,352.99  m0.00,0.00, 48.752,0.00 0.00-54.357c-1.867,0.00 -5.323,0.185 -10.367,0.56 -5.043,0.373 -9.806,0.561 -14.29,0.561l-24.095,0.00 0.00-104.232c0.00-25.032 8.218-37.546 24.656-37.546 11.582,0.00 22.041,3.173 31.384,9.526l0.00-56.037c-13.823-7.475 -30.45-11.209 -49.877-11.209 -27.272,0.00 -46.136,9.713 -56.598,29.138 -7.845,14.572 -11.77,37.545 -11.77,68.931l0.00,100.309 0.561,0.00 0.00,1.121 -8.406,0.558c-4.857,0.00 -11.208-0.558 -19.053-1.679l0.00,54.357 27.459,0.00 0.00,21.855c0.00,10.461 -0.561,18.867 -1.681,25.218l 65.004,0.00c-1.119-7.099 -1.68-15.131 -1.68-24.096l0.00-22.978 z M 257.431,104.178c 0.747,7.469 1.118,20.17 1.118,38.105l0.00,174.284c0.00,17.557 -0.371,29.70 -1.118,36.424l 63.324,0.00c-0.749-7.099 -1.122-18.867 -1.122-35.306l0.00-172.038c0.00-19.055 0.374-32.878 1.122-41.468l-63.324,0.00 z M 116.75,355.781c-25.404,0.00 -47.255-8.407 -65.563-25.219 -19.051-17.933 -28.594-40.35 -28.594-67.25 0.00-17.933 5.258-34.717 15.719-50.406 9.339-14.569 19.982-23.922 31.938-28.031l0.00-1.125c-11.955-5.226 -17.938-18.297 -17.938-39.219 0.00-16.066 6.331-28.03 19.031-35.875l0.00-1.125C 36.602,95.951 19.25,74.474 19.25,43.094c0.00-27.275 11.585-47.267 34.75-59.969 18.303-10.088 41.638-15.125 70.031-15.125 69.114,0.00 103.688,28.965 103.688,86.875 0.00,36.238 -26.73,58.47 -80.156,66.688 -12.328,1.867 -21.649,6.337 -28.00,13.438 -4.857,4.855 -7.281,9.706 -7.281,14.563 0.00,13.822 7.465,21.851 22.406,24.094 22.789,3.359 41.366,13.943 55.75,31.688 14.383,17.746 21.594,38.558 21.594,62.469 0.00,7.472 -1.512,15.502 -4.50,24.094 9.715,2.244 17.175,4.289 22.406,6.156l0.00,57.719c-23.539-8.967 -44.256-13.438 -62.188-13.438 -15.693,8.966 -32.694,13.438 -51.00,13.438 z m 2.25-51.531c 11.209,0.00 19.993-4.315 26.344-12.906 5.23-7.848 7.844-17.197 7.844-28.031 0.00-26.151 -11.398-39.219 -34.188-39.219 -23.535,0.00 -35.313,12.908 -35.313,38.688 0.00,27.645 11.778,41.469 35.313,41.469 z m 3.906-228.094c 31.384,0.00 47.094-9.54 47.094-28.594 0.00-20.176 -14.389-30.25 -43.156-30.25 -32.875,0.00 -49.313,9.732 -49.313,29.156 0.00,19.802 15.114,29.688 45.375,29.688 z m 205.283,362.095c0.00-23.057 -17.437-41.749 -38.947-41.749 -21.51,0.00 -38.947,18.692 -38.947,41.749 0.00,23.057 17.437,41.749 38.947,41.749 21.51,0.00 38.947-18.692 38.947-41.749z"  />
<glyph unicode="&#xe0e4;" d="M 0.489,459.722  m0.00,0.00, 215.01-215.00 0.00-210.569 -79.062,0.00 0.00-45.876 240.114,0.00 0.00,45.876 -79.062,0.00 0.00,210.569L 512.489,459.722z"  />
<glyph unicode="&#xe0e3;" d="M 476.417,227.564  m0.00,0.00,-164.552,0.00 21.25-96.988 132.949,0.00 z m -277.885,0.00 -164.552,0.00 10.352-96.988 132.949,0.00 z m 307.853,28.333c 3.634-3.996 5.087-8.354 4.359-13.076L 496.577,112.052C 494.634,103.502 488.539,96.912 480.231,96.796l-160.193,0.00c-8.615,0.573 -14.323,5.975 -15.802,13.621l-25.609,113.878c-13.858,8.631 -32.079,7.373 -46.859,1.09L 206.16,110.417C 204.128,102.136 198.218,96.892 190.359,96.796L 30.166,96.796C 21.154,97.507 15.136,104.009 14.365,112.052L 0.199,242.821c-0.726,5.085 0.545,9.444 3.814,13.076l 184.167,94.807c 8.834,3.941 17.583,0.156 21.25-7.628 3.076-8.891 1.079-19.018 -7.083-22.885l-116.602-52.853 337.276,0.00 -116.602,52.853c-8.65,4.903 -10.887,14.778 -7.628,22.885 4.624,8.294 13.993,11.047 21.795,7.628z"  />
<glyph unicode="&#xe0e2;" d="M 256.00,480.00 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 z M 192.535,410.618c 9.322-5.019 20.341-9.768 33.07-14.249 12.729-4.482 25.368-6.728 37.917-6.728 9.261,0.018 18.50,2.317 26.359,8.073 7.609,4.56 14.974,8.199 24.738,7.262 10.032-1.096 20.597-4.55 31.189-5.123 13.266-7.171 26.179-16.121 38.727-26.877 -6.095-0.358 -12.559-1.00 -19.372-1.897 -6.813-0.896 -13.437-2.228 -19.891-4.02 -6.454-1.792 -12.373-4.135 -17.751-7.003 -5.378-2.868 -9.324-6.445 -11.834-10.748 -3.944-6.454 -6.719-11.924 -8.332-16.405 -3.321-9.293 -2.536-24.119 -10.213-30.93 -1.613-1.076 -2.961-2.327 -4.037-3.761 -1.076-1.434 -1.525-3.311 -1.345-5.641 0.179-2.33 1.35-5.651 3.502-9.953 1.076-2.51 1.958-5.557 2.675-9.143 6.811,0.022 13.876,1.047 19.907,5.382l 35.502-3.226c 9.164,10.322 19.843,10.494 29.033,0.00 2.868-2.868 5.916-7.183 9.143-12.92l-15.06-10.213c-3.586,1.076 -7.884,3.225 -12.904,6.452 -2.504,1.434 -5.023,3.054 -7.538,4.847 -14.308,6.945 -42.325-1.143 -58.083-2.156 -2.055-4.109 -3.71-8.134 -8.592-9.143 -0.848-2.659 -0.029-5.512 -1.086-8.073 -6.813-10.756 -9.138-22.049 -6.987-33.88 3.944-18.644 13.616-27.963 29.033-27.963l 1.621,0.00 4.296,0.00c 7.529,0.00 12.822-0.353 15.87-1.07 3.048-0.717 4.571-1.262 4.571-1.621 -1.792-4.303 -2.418-7.703 -1.88-10.213 1.776-8.053 7.586-14.147 6.987-22.857 -0.557-11.079 -4.04-20.631 -0.259-31.741 4.311-10.777 9.726-22.479 13.714-33.605 1.613-3.227 4.035-5.20 7.262-5.917 6.454-1.076 14.522,3.223 24.203,12.904 7.171,7.888 11.293,16.502 12.369,25.824 1.42,8.251 7.236,15.582 9.143,24.203l0.00,6.987c 1.789,3.586 3.313,7.082 4.571,10.488 1.794,4.951 1.991,11.26 2.415,16.94 5.637,5.637 11.136,10.669 15.06,17.751 2.51,4.303 3.232,8.056 2.156,11.283 -0.345,0.717 -1.243,1.439 -2.691,2.156l-8.073,3.226c 0.138,4.508 8.427,3.837 12.369,3.226l 19.356,11.834c-0.717-24.381 -5.465-47.96 -14.249-70.728 -8.784-22.767 -21.777-43.283 -38.987-61.568 -22.946-25.098 -50.471-43.031 -82.561-53.787 -32.09-10.756 -65.165-12.906 -99.226-6.452 5.864,10.36 9.249,22.033 16.146,32.276 0.00,5.378 0.802,9.95 2.415,13.714 6.845,15.836 18.014,19.957 30.93,32.259 13.033,13.585 12.911,29.637 13.439,49.216 -0.178,12.393 -19.992,20.00 -29.05,26.894 -20.993,14.147 -34.324,34.961 -64.259,28.774 -10.699-1.091 -13.288-3.17 -21.252,3.485l-3.226,1.621 0.276,1.07 1.345,2.691c 3.213,3.361 -1.348,7.586 -5.657,6.192 -0.896-0.179 -1.875-0.276 -2.95-0.276 -0.983,4.803 -4.206,9.272 -4.847,14.525 5.019-3.944 9.334-6.911 12.92-8.883 3.584-1.972 6.632-3.32 9.143-4.037 2.51-1.076 4.659-1.429 6.452-1.07 3.944,0.717 6.173,4.663 6.711,11.834 0.538,7.171 0.281,15.416 -0.794,24.738 1.076,1.433 1.781,2.877 2.14,4.312 3.789,19.596 13.825,15.299 29.05,20.96 2.51,1.434 3.039,3.231 1.605,5.382 0.00,0.359 -0.08,0.535 -0.259,0.535 -0.179,0.00 -0.276,0.193 -0.276,0.551 8.277,4.157 13.152,12.668 18.286,20.425 -4.374,6.932 -11.165,12.72 -18.821,16.681 -4.106,5.064 -20.223,1.959 -23.668,10.213 -2.868,0.359 -5.018,0.904 -6.452,1.621 -14.521,9.41 -20.654,25.865 -36.296,32.535 -6.275,0.538 -12.466,0.441 -18.561-0.276 18.286,14.70 38.191,25.639 59.704,32.81 z M 61.844,258.95c 3.227-5.378 7.173-10.222 11.834-14.525 24.191-22.223 46.931-26.933 77.974-38.176 1.433-1.076 3.406-2.872 5.917-5.382 3.382-2.567 6.244-5.641 9.694-8.073 0.00-1.792 -0.273-4.295 -0.81-7.522 -0.538-3.227 -0.634-8.424 -0.276-15.595 1.036-19.953 17.492-35.749 22.047-54.857 -4.04-24.763 -4.098-49.102 -6.987-73.678 -24.381,10.039 -45.794,24.379 -64.259,43.023 -18.465,18.644 -32.724,40.33 -42.764,65.07 -7.171,17.927 -11.742,36.133 -13.714,54.598 -1.974,18.465 -1.525,36.831 1.345,55.117z"  />
<glyph unicode="&#xe0fd;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 253.938,414.469C 268.274,414.469 282.015,413.026 295.156,410.125C 308.298,407.226 320.866,403.027 332.813,397.562C 331.106,397.904 328.887,398.411 326.156,399.094C 312.477,401.807 299.846,402.999 287.219,394.50C 279.449,389.657 270.927,385.928 261.125,386.312C 249.519,386.312 237.839,388.262 226.063,392.187C 214.286,396.113 203.779,400.472 194.563,405.25C 213.335,411.394 233.116,414.469 253.938,414.469 z M 143.219,375.406C 146.472,375.393 149.576,375.028 152.563,374.281C 157.341,373.087 160.606,370.598 162.313,366.844C 164.702,362.065 168.015,357.627 172.281,353.531C 176.548,349.435 181.065,345.853 185.844,342.781C 188.574,342.099 190.793,341.433 192.50,340.75C 197.57,338.966 200.298,334.181 205.813,334.094C 209.909,335.459 213.173,334.413 215.563,331.00C 223.104,327.217 229.785,321.968 234.50,314.625C 229.876,306.929 224.586,298.506 216.063,294.156C 216.404,294.156 216.563,294.046 216.563,293.875C 216.563,293.704 216.752,293.625 217.094,293.625C 218.461,291.236 217.764,289.365 215.031,288.00C 213.325,287.317 211.724,286.81 210.188,286.469C 208.651,286.127 207.019,285.779 205.313,285.437C 200.875,284.755 197.959,283.899 196.594,282.875C 196.594,282.192 196.087,281.844 195.063,281.844C 195.063,281.502 193.969,280.409 191.75,278.531C 189.531,276.654 187.74,272.803 186.375,267.00C 186.034,265.635 185.337,264.272 184.313,262.906C 185.337,253.349 185.606,245.916 185.094,240.625C 184.582,235.334 182.442,232.18 178.688,231.156C 176.982,230.815 174.763,231.163 172.031,232.187C 169.642,232.87 166.647,234.154 163.063,236.031C 159.478,237.909 155.31,240.904 150.531,245.00C 151.231,238.801 153.057,232.419 155.125,226.062C 159.516,226.924 167.075,226.425 163.844,219.906C 161.53,217.563 162.163,215.973 165.375,214.781C 166.738,214.44 168.101,213.236 169.469,211.187C 174.766,210.72 180.207,210.598 186.125,211.719C 191.075,212.401 196.337,212.56 201.969,212.219C 207.601,211.877 213.163,210.594 218.625,208.375C 234.191,201.868 246.823,181.351 263.938,173.812C 268.202,171.082 271.705,168.356 274.438,165.625C 277.168,162.894 278.531,159.82 278.531,156.406C 278.503,144.566 277.461,132.516 274.438,120.562C 273.413,117.49 270.259,113.243 264.969,107.781C 259.679,102.32 253.609,97.185 246.781,92.406C 244.051,90.358 241.673,87.981 239.625,85.25C 237.918,82.861 236.286,79.786 234.75,76.031C 233.214,72.277 232.438,67.839 232.438,62.719C 229.707,57.599 227.409,52.892 225.531,48.625C 223.654,44.358 222.053,40.887 220.688,38.156C 219.322,34.402 217.928,31.327 216.563,28.937C 202.976,29.727 190.288,34.816 177.656,42.25C 179.131,66.519 183.964,90.574 186.375,114.437C 187.058,116.827 186.868,119.046 185.844,121.094C 174.867,142.909 161.99,153.81 164.875,184.062C 165.558,187.476 165.875,190.043 165.875,191.75C 161.362,196.197 155.072,199.652 150.531,205.062C 119.511,219.602 87.20,220.714 64.50,253.187C 68.254,278.105 76.544,300.96 89.344,321.781C 102.144,342.603 118.104,360.354 137.219,375.031C 139.267,375.287 141.267,375.414 143.219,375.406 z M 377.344,369.906C 398.506,352.157 415.243,330.665 427.531,305.406C 439.819,280.148 445.938,252.506 445.938,222.469L 445.938,218.875L 429.563,213.75C 422.633,215.659 415.252,210.64 412.156,204.031L 420.875,200.969C 422.24,200.286 423.096,199.589 423.438,198.906C 425.334,194.048 423.33,188.144 421.875,183.031C 419.137,179.421 414.642,176.03 411.125,172.281C 410.784,170.575 410.625,168.007 410.625,164.594C 410.625,159.132 408.406,152.476 403.969,144.625C 404.651,142.236 404.651,140.017 403.969,137.969C 402.945,133.531 401.423,129.284 399.375,125.187C 396.992,121.091 395.597,117.32 395.25,113.906C 393.885,104.69 389.795,96.163 382.969,88.312C 373.753,78.755 365.733,74.507 358.906,75.531C 355.834,76.214 353.536,78.164 352.00,81.406C 346.957,92.089 343.815,103.272 338.438,114.937C 334.801,124.628 337.442,135.79 338.188,146.187C 338.464,153.896 333.339,160.904 331.781,168.437C 331.439,170.998 332.104,174.50 333.813,178.937C 333.476,179.279 331.875,179.897 328.969,180.75C 313.478,185.09 302.218,176.80 289.031,188.687C 283.741,193.466 280.238,200.281 278.531,209.156C 276.483,221.444 278.861,232.539 285.688,242.437C 286.029,243.462 286.219,244.476 286.219,245.50C 286.219,247.889 286.377,249.601 286.719,250.625C 288.416,250.966 289.859,251.663 291.063,252.687C 292.248,253.712 293.183,254.726 293.875,255.75C 294.899,257.114 295.596,258.477 295.938,259.844C 332.383,263.167 340.167,269.966 372.75,250.625L 387.594,260.875C 384.18,266.678 381.185,270.926 378.625,273.656C 369.982,282.734 359.07,284.297 350.219,273.656L 314.375,276.75C 309.683,272.147 301.491,272.005 294.906,271.625C 294.906,274.697 294.05,277.772 292.344,280.844C 290.296,284.94 289.281,288.173 289.281,290.562C 289.281,292.95 289.788,294.82 290.813,296.187C 301.669,310.494 299.522,311.497 303.875,330.50C 305.411,334.937 308.216,340.389 312.313,346.875C 321.881,360.452 358.313,367.922 377.344,369.906z"  />
<glyph unicode="&#xe0fc;" d="M0.00,480.00L0.00,389.969C 31.861,420.799 85.098,435.414 132.625,435.812L 290.375,435.812L 248.375,401.937L 203.063,401.937C 214.014,391.861 224.17,381.034 232.25,367.562C 242.699,349.795 248.184,328.913 248.375,306.969C 248.279,285.847 243.194,262.275 230.063,242.562C 219.341,226.798 203.944,213.135 187.75,200.531C 177.101,189.836 167.811,180.921 167.031,163.969C 167.158,151.33 175.432,139.932 186.688,131.75C 205.526,117.14 221.65,104.932 239.344,89.719C 256.316,75.073 272.085,56.943 282.188,34.844C 290.819,14.806 290.91-9.55 284.938-32.00L 512.00-32.00L 512.00,301.531L 417.563,301.531L 417.563,206.00L 376.656,206.00L 376.656,301.531L 282.188,301.531L 282.188,340.844L 376.656,340.844L 376.656,435.812L 417.563,435.812L 417.563,340.844L 512.00,340.844L 512.00,480.00L0.00,480.00 z M 93.50,409.625C 84.283,409.423 74.916,407.396 66.031,403.344C 48.176,394.604 35.063,380.501 30.281,359.094C 26.592,336.95 27.409,313.515 33.031,289.781C 39.695,262.71 52.959,237.024 76.938,218.25C 95.022,205.477 122.414,203.571 145.469,209.812C 163.492,215.176 176.403,232.208 183.406,250.75C 189.765,270.856 187.566,293.702 182.031,316.781C 174.839,346.254 160.531,374.71 135.344,396.219C 123.791,405.191 108.862,409.962 93.50,409.625 z M 0.00,204.344L0.00,74.437C 25.682,93.412 61.337,95.726 93.625,96.812C 103.632,96.812 112.253,96.98 119.531,97.344C 114.437,104.258 109.444,111.546 104.531,119.187C 93.478,136.891 96.204,158.493 104.25,177.625C 66.479,172.78 32.841,179.743 0.00,204.344 z M 126.531,76.687C 108.60,76.622 91.157,73.321 73.406,70.875C 45.858,65.533 19.751,54.546 0.00,32.437L0.00-32.00L 241.281-32.00C 242.109-29.487 242.344-26.64 242.344-23.813C 242.157-5.056 229.70,12.026 214.50,25.031C 193.153,43.168 168.411,57.878 144.656,75.531C 138.538,76.375 132.508,76.709 126.531,76.687z"  />
<glyph unicode="&#xe0fb;" d="M0.00,417.906L0.00,30.094L 512.00,30.094L 512.00,417.906L0.00,417.906 z M 62.938,355.469L 449.063,355.469L 449.063,92.531L 62.938,92.531L 62.938,355.469 z M 391.438,334.656L 325.625,220.531L 294.75,284.906L 275.375,325.344L 251.188,287.625L 197.094,203.375L 174.875,226.719L 158.719,243.687L 140.75,228.656L 77.219,175.625L 109.25,137.25L 154.813,175.281L 182.844,145.844L 204.813,122.781L 222.00,149.562L 269.063,222.906L 301.063,156.125L 321.563,113.344L 345.25,154.469L 434.75,309.687L 391.438,334.656z"  />
<glyph unicode="&#xe0fa;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 107.156,336.719L 404.844,336.719L 404.844,111.281L 107.156,111.281L 107.156,336.719 z M 143.75,300.437L 143.75,147.562L 368.25,147.562L 368.25,300.437L 143.75,300.437 z M 334.75,288.344L 359.906,273.812L 307.875,183.562L 294.125,159.656L 282.188,184.531L 263.594,223.375L 236.219,180.719L 226.25,165.156L 213.469,178.562L 197.188,195.687L 170.688,173.562L 152.063,195.875L 189.00,226.719L 199.438,235.437L 208.844,225.594L 221.75,212.00L 253.188,261.00L 267.25,282.906L 278.531,259.406L 296.469,221.969L 334.75,288.344z"  />
<glyph unicode="&#xe091;" d="M 254.654,399.578 m0.00,0.00,c-44.093,0.00 -79.838-41.732 -79.838-93.212 0.00-35.703 17.193-66.71 42.44-82.367l-29.277-13.568 -77.909-36.134c-7.526-3.764 -11.283-10.145 -11.283-19.177 0.00-28.601 0.00-57.202 0.00-85.803 0.619-10.728 7.056-20.726 17.491-20.896l 277.171,0.00c 11.914,1.036 17.941,10.633 18.059,20.896 0.00,28.601 0.00,57.202 0.00,85.803 0.00,9.032 -3.756,15.414 -11.283,19.177l-75.088,36.134 -31.206,14.784c 24.211,16.009 40.559,46.346 40.559,81.151 0.00,51.479 -35.745,93.212 -79.838,93.212 z m -128.778-32.778c-18.975-0.721 -34.013-8.931 -45.439-22.014 -12.638-15.751 -18.799-34.453 -18.918-53.058 0.776-27.511 13.085-53.554 34.999-67.177l-87.489-40.657c-6.021-2.258 -9.029-7.526 -9.029-15.806l0.00-68.863c 0.47-9.133 5.212-16.808 14.103-16.94l 58.148,0.00 0.00,72.835c 0.962,19.473 10.107,35.212 26.537,42.894l 58.132,27.655c 4.516,2.635 8.845,6.215 12.985,10.732 -23.969,36.982 -27.297,81.276 -11.85,120.235 -10.046,6.148 -21.337,10.099 -32.178,10.164 z m 259.664,0.00c-12.409-0.26 -23.876-4.829 -33.297-11.283 15.026-39.312 10.881-83.634 -11.299-117.982 4.893-5.645 9.986-9.974 15.254-12.985l 55.878-26.537c 17.023-9.336 25.801-25.215 25.97-42.894l0.00-72.835 59.834,0.00c 9.84,0.85 14.034,8.698 14.12,16.94l0.00,68.863c0.00,7.527 -3.008,12.794 -9.029,15.806l-86.371,41.224c 22.399,16.515 33.647,41.267 33.864,66.61 -0.595,20.058 -6.723,38.684 -18.918,53.058 -12.743,13.824 -28.548,21.868 -46.006,22.014z"  />
<glyph unicode="&#xe090;" d="M 256.00,480.00 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 z m -0.519-142.346c 23.613-0.31 43.171-19.533 49.67-44.028 2.477-9.994 2.757-20.134 0.259-30.719 -3.766-14.903 -11.306-29.46 -25.354-38.403l 20.474-9.726 48.648-23.554c 4.779-2.048 7.165-6.144 7.165-12.288l0.00-47.092c0.00-9.712 0.771-18.087 -11.267-21.512l-179.194,0.00c-11.577,0.167 -12.056,11.893 -11.785,21.512l0.00,47.092c0.00,6.144 2.564,10.417 7.684,12.806l 50.172,23.035 19.469,9.224c-8.874,5.803 -15.873,13.817 -20.993,24.057 -6.148,13.518 -8.586,31.067 -4.101,47.108 5.67,21.744 23.426,41.279 49.151,42.488 z m -83.453-21.495c 7.51,0.00 14.33-2.225 20.474-6.663 -1.704-4.778 -3.147-9.817 -4.345-15.108 -1.194-5.29 -1.799-10.829 -1.799-16.632 0.00-8.534 1.193-16.725 3.583-24.576 2.389-7.851 5.807-15.026 10.245-21.512 -2.048-2.731 -4.773-5.117 -8.186-7.165l-37.901-17.41c-5.12-2.731 -9.216-6.56 -12.288-11.51 -3.072-4.949 -4.604-10.504 -4.604-16.648l0.00-47.092 -37.366,0.00c-5.421,0.085 -9.082,5.548 -9.224,11.25l0.00,44.547c0.00,5.12 1.871,8.539 5.625,10.245l 56.835,26.116c-14.684,9.027 -21.769,25.342 -22.517,43.51 0.259,22.384 14.93,46.789 41.467,48.648 z m 167.927,0.00c 23.591-0.373 40.631-23.762 41.483-48.648 -0.13-16.467 -6.558-32.368 -21.512-43.007l 55.814-26.618c 3.755-2.048 5.625-5.467 5.625-10.245l0.00-44.547c-0.056-5.287 -2.91-10.71 -9.208-11.25l-38.403,0.00 0.00,47.092c0.00,6.144 -1.532,11.699 -4.604,16.648 -3.072,4.949 -7.168,8.779 -12.288,11.51 -15.916,7.398 -34.196,12.708 -46.087,25.094 8.874,13.653 13.309,28.843 13.309,45.568 0.00,10.582 -1.871,20.998 -5.625,31.238 6.166,4.071 13.465,7.051 21.495,7.165z"  />
<glyph unicode="&#xe08f;" d="M 261.43,318.388 204.448,407.621c-3.336,6.398 -1.826,14.124 3.763,17.739 6.392,3.356 13.609,1.787 17.201-3.763L 282.393,331.826c 3.336-6.398 1.828-14.126 -3.763-17.739 -6.374-3.073 -14.185-0.989 -17.201,4.30 z m 239.209-16.664c 9.166-16.616 -13.552-30.238 -24.19-36.016 -9.317,0.72 -18.187,1.705 -26.608,2.957 -8.421,1.254 -15.858,2.419 -22.308,3.494 -7.526,1.434 -14.513,2.866 -20.964,4.30 -0.73-3.584 -1.715-7.347 -2.957-11.289 -1.261-3.942 -2.784-8.063 -4.569-12.364 -36.643,7.927 -79.798,29.371 -99.984,62.356l 68.806,70.419 12.364,44.617 26.34-32.253c 18.171-5.108 43.38-5.467 51.067-24.19 6.657-11.215 6.118-34.999 13.439-44.078 3.942-3.942 8.243-7.526 12.901-10.751 4.658-3.226 10.213-8.959 16.664-17.201 z M 242.614,152.286c-16.285,0.116 -33.279,5.765 -49.455,5.913 -9.317,1.075 -12.722-3.046 -10.213-12.364l 22.577-90.846c-0.303-14.593 -8.231-25.768 -19.89-27.684 -11.346-1.09 -22.754,9.144 -25.265,16.933l-29.028,113.96c-0.717,3.942 -2.957,5.823 -6.72,5.644 -3.763-0.179 -6.181-2.06 -7.257-5.644L 90.489,44.776c-3.544-10.644 -12.132-17.611 -22.577-17.739 -15.419,0.272 -26.064,14.593 -23.114,27.953l 32.791,134.387 2.688,81.169c-28.421,7.21 -64.337,26.654 -78.482,53.755 -3.99,8.76 -1.098,17.257 6.451,21.502 8.923,4.078 19.015,0.152 22.577-5.913 13.917-21.783 44.639-35.664 65.581-36.016l 160.189,0.00C 246.68,254.161 241.135,204.445 242.614,152.286 z m 39.241,142.45c 27.135-35.287 66.239-57.40 108.047-66.119 -3.892-11.648 -9.089-22.981 -12.632-33.597 -1.612-4.838 -1.165-11.916 1.344-21.233 10.301-39.464 21.628-81.596 31.716-118.26 3.929-30.711 -38.722-30.057 -45.154-11.289L 342.062,132.397c-6.378,10.826 -22.329,13.354 -25.802,0.00L 295.294,44.776c-10.849-27.054 -49.557-8.864 -45.154,10.213l 19.89,81.707c 0.358,2.866 0.179,5.734 -0.537,8.601 0.347,49.784 1.935,100.719 12.364,149.439z"  />
<glyph unicode="&#xe08e;" d="M 97.221,480.00  m0.00,0.00, 177.284,0.00c 18.762-0.935 32.309-16.123 32.534-32.81l0.00-79.406c 17.431-22.697 41.623-38.783 59.141-60.657 6.158-7.72 13.005-13.694 20.541-17.921 27.00-13.744 58.434-5.417 79.957-24.952 16.846-39.257 -6.72-86.285 -43.701-99.533 -30.20-10.413 -60.316-3.435 -86.988,9.512 0.077-46.872 -0.302-93.743 -0.551-140.614 -2.849-38.158 -28.54-65.366 -65.068-65.62 -36.811,0.104 -63.58,31.839 -64.241,65.62l0.00,55.143c-10.845,1.838 -20.678,5.422 -29.501,10.753 -22.675-3.089 -44.905,3.98 -60.933,17.646C-15.186,124.661 62.463,296.123 64.412,360.34l0.00,86.85c 0.894,18.893 16.038,32.584 32.81,32.81 z m 0.00-118.281c-1.106-51.381 -78.787-226.948 32.534-210.094 10.014-18.579 36.815-25.728 53.764-14.337 17.069-17.308 38.513-22.237 55.418-5.514 0.00-16.543 0.092-32.902 0.276-49.077 0.184-16.175 0.276-32.534 0.276-49.077 0.398-18.931 14.288-32.052 30.88-32.258 19.616,0.432 32.058,15.323 32.258,32.258 0.003,64.164 0.545,127.416 0.551,186.934 42.992-5.356 101.37-56.648 135.238-4.274 4.118,8.385 5.866,15.09 4.274,23.849 -0.735,1.47 -1.47,2.298 -2.206,2.481 -0.735,0.184 -1.93,0.46 -3.584,0.827 -34.078,5.566 -68.152,10.761 -90.71,37.221 -22.333,29.125 -57.493,46.299 -71.686,79.681l0.00,1.379z"  />
<glyph unicode="&#xe08d;" d="M 511.999,65.222 511.999,242.505c-0.935,18.762 -16.123,32.309 -32.81,32.534l-79.406,0.00c-22.697,17.431 -38.783,41.623 -60.657,59.141 -7.72,6.158 -13.694,13.005 -17.921,20.541 -13.744,27.00 -5.417,58.434 -24.952,79.957 -39.257,16.846 -86.285-6.72 -99.533-43.701 -10.413-30.20 -3.435-60.316 9.512-86.988 -46.872,0.077 -93.743-0.302 -140.614-0.551 -38.158-2.849 -65.366-28.54 -65.62-65.068 0.104-36.811 31.839-63.58 65.62-64.241l 55.143,0.00c 1.838-10.845 5.422-20.678 10.753-29.501 -3.089-22.675 3.98-44.905 17.646-60.933 7.499-130.88 178.962-53.231 243.179-51.283l 86.85,0.00C 498.083,33.307 511.774,48.451 511.999,65.222 z m -118.281,0.00c-51.381-1.106 -226.948-78.787 -210.094,32.534 -18.579,10.014 -25.728,36.815 -14.337,53.764 -17.308,17.069 -22.237,38.513 -5.514,55.418 -16.543,0.00 -32.902,0.092 -49.077,0.276 -16.175,0.184 -32.534,0.276 -49.077,0.276 -18.931,0.398 -32.052,14.288 -32.258,30.88 0.432,19.616 15.323,32.058 32.258,32.258 64.164,0.003 127.416,0.545 186.934,0.551 -5.356,42.992 -56.648,101.37 -4.274,135.238 8.385,4.118 15.09,5.866 23.849,4.274 1.47-0.735 2.298-1.47 2.481-2.206 0.184-0.735 0.46-1.93 0.827-3.584 5.566-34.078 10.761-68.152 37.221-90.71 29.125-22.333 46.299-57.493 79.681-71.686l 1.379,0.00z"  />
<glyph unicode="&#xe08c;" d="M0.00,65.222  m0.00,0.00,0.00,177.284C 0.935,261.267 16.123,274.814 32.81,275.039l 79.406,0.00c 22.697,17.431 38.783,41.623 60.657,59.141 7.72,6.158 13.694,13.005 17.921,20.541 13.744,27.00 5.417,58.434 24.952,79.957 39.257,16.846 86.285-6.72 99.533-43.701 10.413-30.20 3.435-60.316 -9.512-86.988 46.872,0.077 93.743-0.302 140.614-0.551 38.158-2.849 65.366-28.54 65.62-65.068 -0.104-36.811 -31.839-63.58 -65.62-64.241l-55.143,0.00c-1.838-10.845 -5.422-20.678 -10.753-29.501 3.089-22.675 -3.98-44.905 -17.646-60.933 -7.499-130.88 -178.962-53.231 -243.179-51.283l-86.85,0.00C 13.916,33.307 0.225,48.451 0.00,65.222 z m 118.281,0.00c 51.381-1.106 226.948-78.787 210.094,32.534 18.579,10.014 25.728,36.815 14.337,53.764 17.308,17.069 22.237,38.513 5.514,55.418 16.543,0.00 32.902,0.092 49.077,0.276 16.175,0.184 32.534,0.276 49.077,0.276 18.931,0.398 32.052,14.288 32.258,30.88 -0.432,19.616 -15.323,32.058 -32.258,32.258 -64.164,0.003 -127.416,0.545 -186.934,0.551 5.356,42.992 56.648,101.37 4.274,135.238 -8.385,4.118 -15.09,5.866 -23.849,4.274 -1.47-0.735 -2.298-1.47 -2.481-2.206 -0.184-0.735 -0.46-1.93 -0.827-3.584 -5.566-34.078 -10.761-68.152 -37.221-90.71 -29.125-22.333 -46.299-57.493 -79.681-71.686l-1.379,0.00z"  />
<glyph unicode="&#xe0b5;" d="M 97.221-31.999  m0.00,0.00, 177.284,0.00c 18.762,0.935 32.309,16.123 32.534,32.81l0.00,79.406c 17.431,22.697 41.623,38.783 59.141,60.657 6.158,7.72 13.005,13.694 20.541,17.921 27.00,13.744 58.434,5.417 79.957,24.952 16.846,39.257 -6.72,86.285 -43.701,99.533 -30.20,10.413 -60.316,3.435 -86.988-9.512 0.077,46.872 -0.302,93.743 -0.551,140.614 -2.849,38.158 -28.54,65.366 -65.068,65.62 -36.811-0.104 -63.58-31.839 -64.241-65.62l0.00-55.143c-10.845-1.838 -20.678-5.422 -29.501-10.753 -22.675,3.089 -44.905-3.98 -60.933-17.646 -130.88-7.499 -53.231-178.962 -51.283-243.179l0.00-86.85c 0.894-18.893 16.038-32.584 32.81-32.81 z m 0.00,118.281c-1.106,51.381 -78.787,226.948 32.534,210.094 10.014,18.579 36.815,25.728 53.764,14.337 17.069,17.308 38.513,22.237 55.418,5.514 0.00,16.543 0.092,32.902 0.276,49.077 0.184,16.175 0.276,32.534 0.276,49.077 0.398,18.931 14.288,32.052 30.88,32.258 19.616-0.432 32.058-15.323 32.258-32.258 0.003-64.164 0.545-127.416 0.551-186.934 42.992,5.356 101.37,56.648 135.238,4.274 4.118-8.385 5.866-15.09 4.274-23.849 -0.735-1.47 -1.47-2.298 -2.206-2.481 -0.735-0.184 -1.93-0.46 -3.584-0.827 -34.078-5.566 -68.152-10.761 -90.71-37.221 -22.333-29.125 -57.493-46.299 -71.686-79.681l0.00-1.379z"  />
<glyph unicode="&#xe0b4;" d="M 102.406,441.719 0.00,166.594l 40.969-160.313 430.063,0.00L 512.00,166.594l-102.406,275.125 -307.188,0.00 z M 40.00,141.25l 432.031,0.00 -28.00-109.625 -376.031,0.00 -28.00,109.625 z m 355.938-34.344c-11.31,0.00 -20.469-9.159 -20.469-20.469 0.00-11.31 9.159-20.50 20.469-20.50 11.31,0.00 20.50,9.19 20.50,20.50 0.00,11.31 -9.19,20.469 -20.50,20.469z"  />
<glyph unicode="&#xe0b3;" d="M 448.00,80.00 m0.00,0.00,c0.00,42.667 0.00,85.333 0.00,128.00 0.00,106.032 -85.968,192.00 -192.00,192.00 -106.032,0.00 -192.00-85.968 -192.00-192.00 0.00-42.667 0.00-85.333 0.00-128.00 -4.714-45.613 -62.975-33.684 -64.00,0.00 0.00,42.667 0.00,85.333 0.00,128.00 0.00,141.392 114.624,256.00 256.00,256.00 141.376,0.00 256.00-114.608 256.00-256.00 0.00-42.667 0.00-85.333 0.00-128.00 -4.714-45.613 -62.975-33.684 -64.00,0.00 z m -336.00,96.00 32.00,0.00c 8.832,0.00 16.00-7.152 16.00-16.00l0.00-160.00c0.00-8.848 -7.168-16.00 -16.00-16.00l-32.00,0.00c-8.832,0.00 -16.00,7.152 -16.00,16.00l0.00,160.00c0.00,8.848 7.168,16.00 16.00,16.00 z m 256.00,0.00 32.00,0.00c 8.848,0.00 16.00-7.152 16.00-16.00l0.00-160.00c0.00-8.848 -7.152-16.00 -16.00-16.00l-32.00,0.00c-8.848,0.00 -16.00,7.152 -16.00,16.00l0.00,160.00c0.00,8.848 7.152,16.00 16.00,16.00z"  />
<glyph unicode="&#xe0b2;" d="M 492.298,472.323 m0.00,0.00,c 11.125-12.898 10.76-29.441 0.00-40.494l-69.739-70.302c-12.785-11.177 -28.949-10.69 -39.931,0.00 -10.909,12.546 -10.99,29.923 0.00,40.494L 452.366,472.323c 12.163,10.326 29.485,10.144 39.931,0.00 z M 144.163,161.87c 12.163,10.325 29.485,10.144 39.931,0.00 10.703-12.192 11.201-30.452 0.00-40.494L 56.988-6.854c-12.785-11.177 -28.949-10.69 -39.931,0.00 -10.91,12.546 -10.99,29.923 0.00,40.494 z m 122.606,93.361c-1.018,20.663 -17.645,35.747 -35.995,35.995 -20.379-1.125 -35.738-17.688 -35.995-35.995 -0.87-13.109 -9.37-21.776 -21.372-21.934 -13.269,0.975 -21.225,10.094 -21.372,21.934 0.741,22.039 8.636,41.60 23.059,56.241 16.071,15.05 35.379,22.912 55.679,23.059 22.008-0.715 41.109-8.70 55.679-23.059 15.071-16.17 22.911-35.84 23.059-56.241 -0.87-13.109 -9.37-21.776 -21.372-21.934 -13.269,0.975 -21.225,10.094 -21.372,21.934 z M 230.774,417.769c 43.174-0.926 83.153-18.24 111.358-46.40 29.709-31.487 45.83-72.49 46.118-112.201 -0.891-36.108 -7.284-53.227 -24.184-80.988 -9.224-21.99 -30.497-38.299 -41.90-58.21 -6.464-20.578 -1.705-42.997 -2.531-65.803 -0.308-25.434 -10.267-53.87 -27.839-67.771 -19.687-11.474 -40.236-15.747 -58.21-15.747 -14.951,1.164 -24.442,11.983 -25.308,25.308 -0.486,6.936 2.242,13.418 6.749,17.997 11.328,11.551 22.44,7.178 36.276,10.686 4.996,1.587 12.21,3.481 14.06,8.718 3.184,9.819 3.082,21.838 3.093,30.089 0.933,20.955 -2.996,40.241 1.406,59.897 3.018,12.664 7.981,24.646 15.467,34.307 5.058,6.653 10.844,12.505 15.185,18.279 6.246,7.728 11.307,16.088 16.31,23.903 5.397,8.257 9.624,16.445 14.623,24.465 4.013,11.541 5.593,23.641 5.624,34.87 -1.018,29.66 -11.805,55.942 -31.214,75.644 -21.632,20.232 -47.736,31.013 -75.082,31.214 -29.628-0.992 -55.451-11.868 -75.082-31.214 -20.252-21.731 -31.013-48.196 -31.214-75.644 -1.086-15.149 -11.455-25.682 -25.308-25.871 -15.221,1.142 -25.682,12.031 -25.871,25.871 0.983,43.33 18.19,83.494 46.118,112.201 30.99,30.066 71.846,46.112 111.358,46.40z"  />
<glyph unicode="&#xe0b1;" d="M 480.13,377.844 m0.00,0.00,c 22.24-68.717 3.628-138.642 -35.596-191.326 -25.89-35.727 -56.832-66.518 -88.465-93.438 -29.104-27.09 -94.233-80.695 -111.498-82.184 -15.259,2.917 -32.38,20.171 -44.495,29.052C 132.007,91.694 58.731,154.621 21.577,223.422 -9.574,289.475 -9.631,371.174 38.851,421.815c 62.865,56.674 157.641,45.599 205.72-13.61 12.912,16.751 28.791,29.925 47.635,39.521 76.393,30.493 155.866-0.579 187.923-69.883z"  />
<glyph unicode="&#xe0b0;" d="M 256.259,477.406C 114.874,477.406 0.259,362.791 0.259,221.406C 0.259,80.021 114.874-34.594 256.259-34.594C 397.644-34.594 512.259,80.021 512.259,221.406C 512.259,362.791 397.644,477.406 256.259,477.406 z M 312.916,330.845C 343.335,331.32 370.846,314.782 383.886,286.59C 395.95,249.317 385.854,211.401 364.58,182.825C 350.537,163.447 333.754,146.735 316.596,132.134C 300.81,117.44 265.478,88.362 256.114,87.554C 247.837,89.137 238.546,98.51 231.976,103.327C 195.054,131.394 155.318,165.511 135.165,202.829C 118.269,238.656 118.238,282.984 144.535,310.452C 178.633,341.192 230.035,335.175 256.114,303.06C 263.117,312.145 271.732,319.301 281.953,324.507C 292.312,328.641 302.776,330.686 312.916,330.845z"  />
<glyph unicode="&#xe0e1;" d="M 338.864,461.206 m0.00,0.00,c-19.667-0.202 -39.839-4.042 -59.575-11.921l-0.896-0.381 -0.896-0.462c-12.511-6.371 -23.914-14.342 -34.05-23.787 -54.554,47.184 -141.406,50.608 -200.827-2.959l-0.597-0.543 -0.543-0.571c-52.125-54.445 -50.904-138.294 -19.659-204.547l 0.272-0.516 0.272-0.543c 36.799-68.143 105.514-126.044 168.133-173.646l 0.163-0.135 0.135-0.109c 4.029-2.954 10.956-9.059 18.953-15.07 7.998-6.01 17.03-12.597 30.249-15.124l 2.959-0.571 2.987,0.244c 13.873,1.196 19.315,6.319 28.43,12.056 9.114,5.738 19.204,13.02 29.57,20.989 20.435,15.71 41.579,33.817 55.501,46.731 0.179,0.166 0.475,0.405 0.652,0.571 0.029,0.025 0.052,0.057 0.081,0.081 29.329,25.027 58.381,53.878 83.008,87.814 0.008,0.01 0.02,0.017 0.027,0.027 0.047,0.062 0.09,0.128 0.135,0.19 39.059,52.588 58.006,123.456 35.408,193.278l-0.407,1.249 -0.543,1.168C 452.435,429.574 397.864,461.812 338.864,461.206 z m 0.706-42.957c 42.51,0.978 79.771-21.784 98.268-60.715 17.092-54.502 2.317-110.033 -29.516-152.792l-0.081-0.109 -0.081-0.109c-22.176-30.602 -49.033-57.389 -76.871-81.08l-0.353-0.326 -0.353-0.326c-12.536-11.669 -33.754-29.846 -53.139-44.749 -9.693-7.452 -18.984-14.11 -26.203-18.654 -2.714-1.709 -5.295-2.874 -7.413-3.774 -2.227,1.216 -5.052,2.929 -7.983,5.132 -5.903,4.435 -12.187,10.098 -19.035,15.152 -0.107,0.081 -0.219,0.163 -0.326,0.244C 155.713,122.366 91.702,178.49 60.921,235.073 35.932,288.459 37.023,352.357 72.326,389.901 120.327,432.582 191.642,423.302 227.208,379.502l 17.324-21.316 16.754,21.75c 9.639,12.505 21.144,22.067 35.109,29.326 14.639,5.718 29.183,8.666 43.174,8.988z"  />
<glyph unicode="&#xe0e0;" d="M 256.00,480.00  m0.00,0.00,-231.832-180.191 0.00-331.809 159.50,0.00 0.00,200.303 144.663,0.00 0.00-200.303 159.50,0.00 0.00,331.809L 256.00,480.00z"  />
<glyph unicode="&#xe0df;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 256.00,362.031L 381.00,264.875L 381.00,85.969L 295.00,85.969L 295.00,193.969L 217.00,193.969L 217.00,85.969L 131.00,85.969L 131.00,264.875L 256.00,362.031z"  />
<glyph unicode="&#xe0de;" d="M 309.867,3.746 m0.00,0.00,c 2.20,0.00 4.125-0.825 5.774-2.475 1.65-1.65 2.475-3.575 2.475-5.774l0.00-18.698c0.00-2.567 -0.825-4.675 -2.475-6.324 -1.65-1.65 -3.575-2.475 -5.774-2.475l-107.24,0.00c-5.866,0.00 -8.799,2.933 -8.799,8.799l0.00,18.698c0.00,2.20 0.825,4.125 2.475,5.774 1.65,1.65 3.758,2.475 6.324,2.475 z m 0.00,53.345c 2.20,0.00 4.125-0.825 5.774-2.475 1.65-1.65 2.475-3.758 2.475-6.324l0.00-18.698c0.00-2.20 -0.825-4.125 -2.475-5.774 -1.65-1.65 -3.575-2.475 -5.774-2.475l-107.24,0.00c-2.567,0.00 -4.675,0.825 -6.324,2.475 -1.65,1.65 -2.475,3.575 -2.475,5.774l0.00,18.698c0.00,5.866 2.933,8.799 8.799,8.799 z m 110.539,170.483 0.00,0.00 45.646-7.149c 4.766-0.733 8.616-2.842 11.549-6.324 2.933-3.483 4.033-7.241 3.30-11.274 -0.733-4.40 -2.933-7.791 -6.599-10.174 -3.667-2.383 -8.066-3.208 -13.199-2.475l-45.645,7.149c-5.133,0.733 -9.074,2.933 -11.824,6.599 -2.75,3.667 -3.758,7.516 -3.025,11.549 0.733,4.033 2.933,7.241 6.599,9.624 3.667,2.383 8.066,3.208 13.199,2.475 z m -4.949,103.94 0.00,0.00 42.346,18.698c 4.40,2.20 8.707,2.658 12.924,1.375 4.216-1.288 7.241-3.946 9.074-7.974 1.833-4.035 1.833-8.068 0.00-12.099 -1.833-4.033 -5.133-6.966 -9.899-8.799l-42.346-19.248c-4.40-1.833 -8.707-2.108 -12.924-0.825 -4.216,1.285 -7.241,3.943 -9.074,7.974 -1.833,4.035 -1.742,8.068 0.275,12.099 2.017,4.035 5.224,6.968 9.624,8.799 z m -71.493,70.393 0.00,0.00 25.297,39.046c 2.933,4.033 6.508,6.691 10.724,7.974 4.223,1.283 8.164,0.825 11.824-1.375 3.667-2.567 5.774-6.049 6.324-10.449 0.55-4.40 -0.458-8.616 -3.025-12.649l-25.297-39.046c-2.933-4.038 -6.508-6.696 -10.724-7.974 -4.216-1.283 -8.157-0.825 -11.824,1.375 -3.667,2.20 -5.866,5.591 -6.599,10.174 -0.733,4.583 0.367,8.891 3.30,12.924 z m -251.875-174.333c 4.766,0.733 9.074-0.092 12.924-2.475 3.85-2.383 6.141-5.591 6.874-9.624 0.733-4.033 -0.367-7.882 -3.30-11.549 -2.933-3.667 -6.966-5.866 -12.099-6.599l-45.645-7.149c-4.766-0.733 -9.074,0.092 -12.924,2.475 -3.85,2.383 -6.141,5.774 -6.874,10.174 -0.733,4.034 0.367,7.792 3.30,11.274 2.933,3.485 6.966,5.592 12.099,6.324 z m 4.949,103.94c 4.40-1.833 7.607-4.766 9.624-8.799 2.021-4.033 2.112-8.066 0.275-12.099 -1.833-4.033 -4.949-6.691 -9.349-7.974 -4.40-1.283 -8.799-1.008 -13.199,0.825l-42.346,19.248c-4.40,1.835 -7.607,4.768 -9.624,8.799 -2.017,4.033 -2.109,8.066 -0.275,12.099 1.833,4.033 4.858,6.691 9.074,7.974 4.216,1.283 8.707,0.825 13.474-1.375 z m 70.943,70.393c 2.933-4.035 4.033-8.343 3.30-12.924 -0.733-4.583 -2.933-7.974 -6.599-10.174 -3.30-2.20 -7.149-2.658 -11.549-1.375 -4.40,1.283 -7.882,3.942 -10.449,7.974l-25.297,39.046c-2.933,4.033 -4.033,8.249 -3.30,12.649 0.733,4.40 2.933,7.882 6.599,10.449 3.30,2.20 7.149,2.658 11.549,1.375 4.40-1.289 7.882-3.947 10.449-7.974 z m 103.94,14.299c0.00-5.133 -1.467-9.349 -4.40-12.649 -2.933-3.30 -6.599-4.949 -10.999-4.949 -4.033,0.00 -7.516,1.65 -10.449,4.949 -2.933,3.30 -4.40,7.516 -4.40,12.649l0.00,46.196c0.00,5.133 1.467,9.349 4.40,12.649 2.933,3.30 6.416,4.949 10.449,4.949 4.40,0.00 8.066-1.65 10.999-4.949 2.933-3.30 4.40-7.516 4.40-12.649 z m 88.816-218.054c-7.149-14.848 -14.94-30.705 -23.373-47.57 -13.303-21.517 -12.631-46.971 -20.898-69.018 -1.467-3.85 -4.216-6.141 -8.249-6.874l-104.49,0.00c-4.033,0.733 -6.782,3.025 -8.249,6.874 -6.372,24.081 -10.241,47.532 -20.898,69.018 -8.432,16.865 -16.223,32.722 -23.373,47.57 -16.484,36.439 -25.095,78.606 -8.249,116.314 6.049,13.199 14.482,24.381 25.297,33.547 10.816,9.166 23.648,16.04 38.496,20.623 14.848,4.583 31.072,6.874 48.67,6.874l 0.55,0.00 0.55,0.00c 17.598,0.00 33.822-2.292 48.67-6.874 14.848-4.583 27.68-11.457 38.496-20.623 10.816-9.166 19.34-20.348 25.573-33.547 15.792-39.559 9.336-78.805 -8.524-116.314z"  />
<glyph unicode="&#xe0f9;" d="M 256.00,480.00 m0.00,0.00,c-141.385,0.00 -256.00-114.615 -256.00-256.00 0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00 0.00,141.385 -114.615,256.00 -256.00,256.00 z m 0.00-95.757c 0.167,0.009 0.332,0.00 0.502,0.00 2.731,0.00 4.956-1.105 6.663-3.323 1.706-2.219 2.561-4.855 2.561-7.927l0.00-28.677c0.00-3.072 -0.855-5.725 -2.561-7.943 -1.704-2.219 -3.93-3.323 -6.663-3.323 -2.731,0.00 -5.028,1.105 -6.906,3.323 -1.877,2.219 -2.821,4.871 -2.821,7.943l0.00,28.677c0.00,3.072 0.943,5.708 2.821,7.927 1.76,2.08 3.893,3.193 6.403,3.323 z m -80.324-19.113c 0.976,0.032 1.975-0.085 2.999-0.34 2.731-0.682 4.956-2.392 6.663-5.123l 15.368-24.576c 1.706-2.731 2.384-5.367 2.042-7.927 -0.342-2.56 -1.535-4.697 -3.583-6.403 -2.389-1.699 -4.953-2.127 -7.684-1.281 -2.729,0.854 -4.955,2.651 -6.663,5.382l-15.87,24.057c-1.706,2.729 -2.295,5.471 -1.783,8.203 0.512,2.726 1.794,4.935 3.842,6.646 1.493,0.853 3.042,1.308 4.669,1.362 z m 160.632,0.00c 1.627-0.053 3.192-0.508 4.685-1.362 4.776-3.755 5.453-8.705 2.042-14.849L 327.165,324.863c-1.706-2.731 -3.932-4.529 -6.663-5.382 -2.731-0.854 -5.294-0.426 -7.684,1.281 -2.048,1.706 -3.241,3.843 -3.583,6.403 -0.344,2.56 0.35,5.197 2.059,7.927l 15.352,24.576c 1.702,2.728 3.927,4.438 6.663,5.123 1.024,0.256 2.023,0.372 2.999,0.34 z m -80.827-46.411 0.519,0.00c 10.921,0.00 21.073-1.459 30.46-4.361 9.386-2.901 17.488-7.158 24.316-12.79 6.827-5.632 12.204-12.63 16.13-20.993 10.617-23.192 4.764-50.422 -5.382-72.965 -4.435-9.216 -9.386-19.117 -14.849-29.698 -3.409-7.168 -5.795-13.562 -7.165-19.194 -1.818-7.532 -2.877-16.247 -5.625-24.332 -1.024-2.389 -2.733-3.744 -5.123-4.085l-65.54,0.00c-2.731,0.341 -4.512,1.696 -5.366,4.085 -2.769,7.857 -3.532,16.061 -5.901,24.332 -1.365,5.632 -3.752,12.025 -7.165,19.194 -5.12,10.582 -9.893,20.482 -14.33,29.698 -15.385,32.31 -16.985,66.701 10.488,93.957 14.507,11.434 32.687,17.151 54.533,17.151 z m -130.659-14.622c 1.773,0.013 3.513-0.395 5.22-1.248l 26.116-11.785c 2.731-1.365 4.778-3.236 6.144-5.625 1.365-2.389 1.365-4.953 0.00-7.684 -1.024-2.389 -2.911-4.01 -5.641-4.863 -2.729-0.854 -5.454-0.604 -8.186,0.762l-26.618,11.785c-2.731,1.365 -4.706,3.325 -5.901,5.885 -1.194,2.56 -1.267,5.035 -0.243,7.425 1.024,2.389 2.983,4.009 5.885,4.863 1.088,0.32 2.162,0.478 3.226,0.486 z m 261.82,0.00c 1.237,0.051 2.475-0.113 3.745-0.486 2.901-0.854 4.877-2.474 5.901-4.863 1.024-2.389 0.935-4.864 -0.259-7.425 -1.194-2.56 -3.154-4.519 -5.885-5.885l-26.634-11.785c-2.731-1.365 -5.456-1.615 -8.186-0.762 -2.731,0.85 -4.601,2.471 -5.625,4.863 -1.365,2.731 -1.365,5.294 0.00,7.684 1.365,2.387 3.413,4.258 6.144,5.625l 26.099,11.785c 1.536,0.768 3.111,1.182 4.701,1.248 z m -231.327-77.747c 2.176,0.096 4.173-0.437 5.966-1.589 2.389-1.536 3.921-3.673 4.604-6.403 0.342-2.731 -0.424-5.117 -2.302-7.165 -1.877-2.048 -4.353-3.419 -7.425-4.101l-28.677-4.604c-3.072-0.342 -5.709,0.263 -7.927,1.799 -2.219,1.536 -3.678,3.673 -4.361,6.403 -0.682,2.731 -0.005,5.117 2.042,7.165 2.048,2.048 4.451,3.241 7.181,3.583l 28.661,4.604c 0.768,0.171 1.512,0.276 2.237,0.308 z m 200.284,0.00c 1.056,0.056 2.155-0.052 3.307-0.308l 28.677-4.604c 2.731-0.342 5.117-1.535 7.165-3.583 2.048-2.048 2.725-4.435 2.042-7.165 -0.682-2.731 -2.126-4.867 -4.345-6.403 -2.219-1.536 -4.871-2.141 -7.943-1.799l-28.661,4.604c-3.072,0.682 -5.547,2.053 -7.425,4.101 -1.877,2.048 -2.66,4.435 -2.318,7.165 0.682,2.731 2.231,4.867 4.62,6.403 1.493,0.96 3.119,1.495 4.879,1.589 z m -133.398-107.315 67.583,0.00c 3.413,0.00 5.123-1.709 5.123-5.123l0.00-11.769c0.00-3.413 -1.709-5.123 -5.123-5.123l-67.583,0.00c-3.413,0.00 -5.123,1.709 -5.123,5.123l0.00,11.769c0.00,3.413 1.709,5.123 5.123,5.123 z m 0.00-32.762 67.583,0.00c 3.413,0.00 5.123-1.887 5.123-5.641l0.00-11.769c0.00-3.413 -1.709-5.123 -5.123-5.123l-67.583,0.00c-3.413,0.00 -5.123,1.709 -5.123,5.123l0.00,11.769c0.00,3.755 1.709,5.641 5.123,5.641z"  />
<glyph unicode="&#xe0f8;" d="M 204.00,480.00L 204.00,360.531L 143.281,360.531L 256.00,191.437L 368.719,360.531L 308.00,360.531L 308.00,480.00L 204.00,480.00 z M 0.00,214.719L0.00-32.00L 512.00-32.00L 512.00,214.719L 343.813,214.719C 343.813,166.238 304.481,126.906 256.00,126.906C 207.519,126.906 168.188,166.238 168.188,214.719L0.00,214.719z"  />
<glyph unicode="&#xe0f7;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C 0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 224.75,387.812L 287.25,387.812L 287.25,316.031L 323.719,316.031L 256.00,214.437L 188.281,316.031L 224.75,316.031L 224.75,387.812 z M 102.188,228.437L 203.25,228.437C 203.25,199.311 226.873,175.656 256.00,175.656C 285.127,175.656 308.75,199.311 308.75,228.437L 409.813,228.437L 409.813,80.187L 102.188,80.187L 102.188,228.437z"  />
<glyph unicode="&#xe0f6;" d="M 40.00,208.00  m0.00,0.00, 118.544,160.00 194.912,0.00 118.544-160.00 -88.00,0.00 -64.00-64.00 -128.00,0.00 -64.00,64.00 -88.00,0.00 z m 100.496,192.00 -140.496-192.00 0.00-160.00 512.00,0.00 0.00,160.00 -140.496,192.00 -231.008,0.00z"  />
<glyph unicode="&#xe08b;" d="M 512.00,437.234  m0.00,0.00,0.00-75.156 -512.00,0.00 0.00,75.125 512.00,0.031 z m -512.00-117.125 144.188-96.125 -144.188-96.125 0.00,192.25 z m 512.00-0.563 0.00-74.906 -296.00,0.00 0.00,74.906 296.00,0.00 z m 0.00-116.781 0.00-74.906 -296.00,0.00 0.00,74.906 296.00,0.00 z m -512.00-116.875 512.00-0.031 0.00-75.094 -512.00,0.00 0.00,75.125z"  />
<glyph unicode="&#xe08a;" d="M 0.00,437.25L 0.00,362.094L 512.00,362.094L 512.00,437.219L 0.00,437.25 z M 512.00,320.125L 367.813,224.00L 512.00,127.875L 512.00,320.125 z M 0.00,319.562L 0.00,244.656L 296.00,244.656L 296.00,319.562L 0.00,319.562 z M 0.00,202.781L 0.00,127.875L 296.00,127.875L 296.00,202.781L 0.00,202.781 z M 512.00,85.906L 0.00,85.875L 0.00,10.781L 512.00,10.781L 512.00,85.906z"  />
<glyph unicode="&#xe089;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 247.969,392.156C 259.699,392.156 269.251,388.993 276.625,382.625C 283.998,376.257 287.687,367.859 287.688,357.469C 287.687,347.078 283.998,338.712 276.625,332.344C 269.251,325.975 259.699,322.781 247.969,322.781C 236.238,322.781 226.686,325.975 219.313,332.344C 212.274,338.712 208.75,347.078 208.75,357.469C 208.75,367.859 212.274,376.257 219.313,382.625C 226.686,388.993 236.238,392.156 247.969,392.156 z M 284.656,280.062L 294.719,268.50C 289.356,254.423 286.656,238.843 286.656,221.75L 286.656,98.562C 286.656,94.205 287.017,91.207 287.688,89.531C 288.693,87.855 290.867,86.176 294.219,84.50C 300.252,80.813 309.113,77.289 320.844,73.937L 317.344,55.844C 288.52,58.86 268.231,60.344 256.50,60.344C 244.769,60.344 224.676,58.86 196.188,55.844L 192.156,73.937C 204.222,76.619 213.115,79.978 218.813,84.00C 223.84,87.016 226.344,91.859 226.344,98.562L 226.344,224.25C 226.344,235.981 221.799,241.844 212.75,241.844L 195.156,238.344L 191.156,258.437C 203.222,263.465 219.132,268.339 238.906,273.031C 258.681,277.723 273.931,280.062 284.656,280.062z"  />
<glyph unicode="&#xe088;" d="M0.00,480.00L0.00,333.969L 151.563,333.969C 174.879,363.873 211.393,383.156 252.469,383.156C 293.547,383.156 330.09,363.876 353.406,333.969L 512.00,333.969L 512.00,480.00L0.00,480.00 z M 409.719,458.281L 457.594,458.281C 474.637,458.281 488.344,444.544 488.344,427.50L 488.344,387.406C 488.344,370.362 474.637,356.625 457.594,356.625L 409.719,356.625C 392.675,356.625 378.969,370.362 378.969,387.406L 378.969,427.50C 378.969,444.544 392.675,458.281 409.719,458.281 z M 56.219,457.812L 73.688,457.812L 73.688,356.594L 56.219,356.594L 56.219,457.812 z M 86.25,457.812L 104.25,457.812L 104.25,356.594L 86.25,356.594L 86.25,457.812 z M 116.813,457.812L 134.281,457.812L 134.281,427.50L 134.281,386.375L 134.281,356.594L 116.813,356.594L 116.813,457.812 z M 43.125,455.094L 43.125,356.594L 25.094,356.594L 25.094,427.50C 25.094,433.631 26.824,439.227 30.281,444.281C 33.738,449.332 38.031,452.929 43.125,455.094 z M 252.281,368.656C 190.175,368.656 139.813,318.52 139.813,256.719C 139.813,194.917 190.175,144.812 252.281,144.812C 314.388,144.812 364.75,194.917 364.75,256.719C 364.75,318.52 314.388,368.656 252.281,368.656 z M 252.281,345.937C 301.802,345.937 341.938,305.997 341.938,256.719C 341.938,207.441 301.802,167.50 252.281,167.50C 202.76,167.50 162.625,207.441 162.625,256.719C 162.625,305.997 202.76,345.937 252.281,345.937 z M 0.00,313.281L0.00-32.00L 512.00-32.00L 512.00,313.281L 366.563,313.281C 375.15,296.277 379.969,277.06 379.969,256.75C 379.969,186.95 322.879,130.375 252.469,130.375C 182.058,130.375 125.00,186.95 125.00,256.75C 125.00,277.065 129.846,296.274 138.438,313.281L0.00,313.281z"  />
<glyph unicode="&#xe087;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 167.344,333.719L 344.625,333.719C 356.557,332.911 365.56,324.229 365.719,313.219L 365.719,135.344C 364.873,122.945 355.853,114.432 344.625,114.281L 167.344,114.281C 154.953,115.126 146.432,124.126 146.281,135.344L 146.281,313.219C 146.965,325.093 156.85,333.578 167.344,333.719 z M 197.188,293.344C 190.825,293.186 186.723,288.29 186.656,282.781L 186.656,165.781C 186.821,159.43 191.694,155.285 197.188,155.219L 314.781,155.219C 321.146,155.384 325.278,160.276 325.344,165.781L 325.344,282.781C 325.188,289.158 320.302,293.278 314.781,293.344L 197.188,293.344z"  />
<glyph unicode="&#xe086;" d="M 246.741,4.351  m0.00,0.00, 65.157,0.00 -7.202-36.351 -199.93,0.00 7.202,36.351 65.157,0.00 87.791,438.955 -65.157,0.00 7.545,36.694 199.93,0.00 -7.545-36.694 -65.157,0.00 -87.791-438.955"  />
<glyph unicode="&#xe085;" d="M 140.058,366.928 m0.00,0.00,c-77.348,0.00 -140.058-62.694 -140.058-140.042 0.00-77.348 62.71-140.058 140.058-140.058 69.001,0.00 126.329,49.903 137.901,115.585 0.131-0.007 0.258-0.027 0.389-0.032l 53.925,0.00 0.00-77.849 59.536,0.00 0.00,77.849 28.073,0.00 0.00-112.669 59.536,0.00 0.00,112.67 32.582,0.00 0.00,59.535 -235.906,0.00c-0.138-0.011 -0.269-0.021 -0.405-0.032 -15.541,60.409 -70.368,105.043 -135.631,105.043 z m 0.00-64.791c 41.563,0.00 75.251-33.688 75.251-75.251 0.00-41.563 -33.688-75.267 -75.251-75.267 -41.563,0.00 -75.267,33.704 -75.267,75.267 0.00,41.563 33.704,75.251 75.267,75.251z"  />
<glyph unicode="&#xe084;" d="M 51.313,406.437L 51.313,138.469L 460.688,138.469L 460.688,406.437L 51.313,406.437 z M 102.094,357.594L 409.906,357.594L 409.906,187.281L 102.094,187.281L 102.094,357.594 z M 0.00,114.094L0.00,68.781L 26.00,41.812L 486.00,41.812L 512.00,68.781L 512.00,114.094L0.00,114.094 z M 208.531,99.25L 303.469,99.25L 303.469,58.219L 208.531,58.219L 208.531,99.25z"  />
<glyph unicode="&#xe083;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 123.719,341.812L 388.281,341.812L 388.281,168.656L 123.719,168.656L 123.719,341.812 z M 156.531,310.25L 156.531,200.187L 355.469,200.187L 355.469,310.25L 156.531,310.25 z M 90.563,152.906L 421.438,152.906L 421.438,123.625L 404.625,106.187L 107.375,106.187L 90.563,123.625L 90.563,152.906 z M 225.313,143.312L 225.313,116.781L 286.688,116.781L 286.688,143.312L 225.313,143.312z"  />
<glyph unicode="&#xe082;" d="M 48.83,168.624 m0.00,0.00,c-2.767,6.67 -6.211,13.299 -7.219,20.494C 28.337,281.885 104.025,357.099 172.72,385.666c 68.696,28.567 147.792-16.876 194.685,31.904 11.715,13.229 23.639,25.756 41.452,25.849 7.425-0.369 13.608-3.858 16.767-10.013 58.615-120.055 -25.129-262.407 -119.699-312.986 -60.015-29.665 -122.117-36.191 -180.247-16.069 -16.164,3.834 -29.121,20.74 -45.877,20.959 -11.555-6.483 -21.152-27.607 -28.993-39.24 -9.134-15.852 -27.319-20.042 -40.405-6.171 -38.165,37.612 41.148,70.992 38.424,88.726 z m 51.00,15.37c 8.197-6.622 20.021-4.745 26.315,1.863 50.328,60.978 118.475,87.73 192.59,85.699 10.922-0.634 18.859,8.21 19.562,17.699 0.219,11.268 -8.452,18.888 -18.165,19.562 -89.577,4.979 -167.291-34.518 -222.165-98.274 -6.951-8.679 -5.689-20.228 1.863-26.548z"  />
<glyph unicode="&#xe081;" d="M0.00,480.00L0.00-32.00L 512.00-32.00L 512.00,480.00L0.00,480.00 z M 125.563,379.344C 145.842,379.115 165.818,365.125 166.688,340.906C 167.121,319.37 148.353,302.966 125.031,302.469L 124.469,302.469C 104.391,302.701 84.784,317.042 83.875,340.906C 84.161,362.203 102.063,378.839 125.563,379.344 z M 343.125,277.594C 365.421,277.456 386.463,270.841 403.75,253.219C 421.716,233.183 427.483,205.556 428.125,177.469L 428.125,49.719L 354.50,49.719L 354.50,168.781C 354.337,191.097 346.692,218.222 317.156,219.125C 299.846,218.941 287.64,208.882 279.281,192.062C 277.00,186.649 276.671,180.426 276.563,174.219L 276.563,49.719L 202.969,49.719C 203.25,111.959 203.637,174.196 203.50,236.437C 203.50,254.118 203.33,266.023 202.969,272.156L 276.563,272.156L 276.563,240.781C 282.809,249.666 289.737,258.092 299.031,264.875C 311.637,273.871 326.779,277.32 343.125,277.594 z M 88.219,272.156L 161.813,272.156L 161.813,49.719L 88.219,49.719L 88.219,272.156z"  />
<glyph unicode="&#xe080;" d="M 0.00,60.204  m0.00,0.00, 92.202,0.00 0.00-92.202 -92.202,0.00 z m 0.00,0.00 92.202,0.00 0.00-92.202 -92.202,0.00 z m 0.00,139.932 92.202,0.00 0.00-92.202 -92.202,0.00 z m 0.00,139.932 92.202,0.00 0.00-92.202 -92.202,0.00 z m 0.00,139.932 92.202,0.00 0.00-92.202 -92.202,0.00 z m 135.506-419.796 376.492,0.00 0.00-92.202 -376.492,0.00 z m 0.00,0.00 376.492,0.00 0.00-92.202 -376.492,0.00 z m 0.00,139.932 376.492,0.00 0.00-92.202 -376.492,0.00 z m 0.00,139.932 376.492,0.00 0.00-92.202 -376.492,0.00 z m 0.00,139.932 376.492,0.00 0.00-92.202 -376.492,0.00z"  />
<glyph unicode="&#xe07f;" d="M 256.00,480.00C 228.195,480.00 206.781,456.801 206.781,429.062C 206.781,402.345 206.594,378.969 206.594,378.969L 157.156,378.969C 156.226,378.969 155.326,378.866 154.438,378.719L 140.688,378.719L 140.688,362.531L 140.688,330.687L 371.313,330.687L 371.313,362.531L 371.313,378.719L 357.563,378.719C 356.675,378.866 355.774,378.969 354.844,378.969L 305.406,378.969C 305.406,378.969 305.969,400.13 305.969,428.906C 305.969,455.624 283.805,480.00 256.00,480.00 z M 74.75,431.281L 74.75-32.00L 437.25-32.00L 437.25,431.281L 322.406,431.281L 322.406,397.719L 404.063,397.719L 404.063,1.625L 107.969,1.625L 107.969,397.719L 189.594,397.719L 189.594,431.281L 74.75,431.281 z M 256.00,430.656C 265.109,430.656 272.469,423.326 272.469,414.25C 272.469,405.157 265.109,397.812 256.00,397.812C 246.891,397.812 239.531,405.157 239.531,414.25C 239.531,423.326 246.891,430.656 256.00,430.656 z M 140.688,298.125L 140.688,281.687L 157.156,281.687L 157.156,298.125L 140.688,298.125 z M 190.125,297.812L 190.125,281.375L 371.313,281.375L 371.313,297.812L 190.125,297.812 z M 140.688,236.125L 140.688,219.687L 157.156,219.687L 157.156,236.125L 140.688,236.125 z M 190.125,235.812L 190.125,219.344L 371.313,219.344L 371.313,235.812L 190.125,235.812 z M 140.688,174.125L 140.688,157.687L 157.156,157.687L 157.156,174.125L 140.688,174.125 z M 190.125,173.781L 190.125,157.344L 371.313,157.344L 371.313,173.781L 190.125,173.781 z M 140.688,112.094L 140.688,95.656L 157.156,95.656L 157.156,112.094L 140.688,112.094 z M 190.125,111.75L 190.125,95.312L 371.313,95.312L 371.313,111.75L 190.125,111.75 z M 140.688,50.094L 140.688,33.656L 157.156,33.656L 157.156,50.094L 140.688,50.094 z M 190.125,49.75L 190.125,33.312L 371.313,33.312L 371.313,49.75L 190.125,49.75z"  />
<glyph unicode="&#xe07e;" d="M 252.475,480.00 m0.00,0.00,c-63.719,0.304 -119.666-37.902 -146.694-97.598 -13.901-33.146 -13.075-78.54 -12.43-118.18l-71.052,0.00 0.00-295.918 467.098,0.00 0.00,295.918 -77.267,0.00 0.00,56.123c0.00,22.002 -4.53,42.311 -12.992,62.057C 374.398,439.093 316.194,479.696 252.475,480.00 z m 0.00-94.225c 37.222-0.988 64.372-28.977 65.992-64.868l0.00-0.562 0.00-56.123 -131.453,0.00 0.00,56.123c 3.513,39.07 28.239,66.418 65.461,65.43z"  />
<glyph unicode="&#xe07d;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 254.156,362.812C 288.728,362.648 320.327,340.602 333.75,309.844C 338.341,299.131 340.781,288.125 340.781,276.187L 340.781,245.75L 382.719,245.75L 382.719,85.187L 129.281,85.187L 129.281,245.75L 167.844,245.75C 167.494,267.257 167.052,291.86 174.594,309.844C 189.258,342.232 219.585,362.977 254.156,362.812 z M 252.281,311.687C 233.132,311.284 220.503,296.723 218.656,276.187L 218.656,245.75L 289.969,245.75L 289.969,276.187L 289.969,276.50C 289.09,295.973 274.352,311.151 254.156,311.687C 253.525,311.704 252.899,311.701 252.281,311.687z"  />
<glyph unicode="&#xe07c;" d="M 255.639,480.00C 124.306,480.00 17.444,379.523 17.444,256.004C 17.444,249.526 17.737,242.976 18.318,236.469L 22.999,138.014L 173.505,150.372L 168.824,248.764C 168.621,251.117 168.481,253.593 168.481,256.004C 168.481,301.205 207.591,337.951 255.639,337.951C 303.687,337.951 342.797,301.176 342.797,256.004C 342.797,253.593 342.686,251.146 342.454,248.764L 337.804,150.372L 488.279,138.014L 492.96,236.469C 493.541,242.976 493.834,249.526 493.834,256.004C 493.834,379.523 386.972,480.00 255.639,480.00 z M 332.187,91.58L 323.137-3.942C 322.324-12.947 329.464-20.914 339.021-21.698L 454.764-31.184C 464.292-31.969 472.799-25.305 473.612-16.299L 482.693,79.16L 332.187,91.58 z M 179.028,91.517L 28.585,79.129L 37.634-16.299C 38.477-25.305 46.986-32.00 56.514-31.216L 172.257-21.729C 181.785-20.945 188.952-12.949 188.109-3.973L 179.028,91.517z"  />
<glyph unicode="&#xe07b;" d="M 310.399,480.00  m0.00,0.00,0.00-71.288 77.801,0.00 -102.553-101.87c-28.776,18.622 -63.076,29.428 -99.904,29.428 -101.694,0.00 -184.143-82.433 -184.143-184.127 0.00-101.694 82.449-184.143 184.143-184.143 101.694,0.00 184.127,82.449 184.127,184.143 0.00,38.654 -11.906,74.526 -32.256,104.145l 100.83,100.83 0.00-77.119 71.288,0.00c0.00,62.496 0.677,137.667 0.666,200.00 z M 185.744,262.154c 60.763,0.00 110.011-49.249 110.011-110.011 0.00-60.763 -49.249-110.028 -110.011-110.028 -60.763,0.00 -110.028,49.265 -110.028,110.028 0.00,60.763 49.265,110.011 110.028,110.011z"  />
<glyph unicode="&#xe07a;" d="M 256.00,480.00 m0.00,0.00,c-106.591,0.00 -193.00-86.409 -193.00-193.00 0.00-35.647 6.977-72.464 27.00-99.00l 166.00-220.00 166.00,220.00c 18.187,24.103 27.00,66.712 27.00,99.00 0.00,106.591 -86.409,193.00 -193.00,193.00 z m 0.00-111.781c 44.849,0.00 81.219-36.369 81.219-81.219 0.00-44.849 -36.369-81.219 -81.219-81.219 -44.849,0.00 -81.219,36.369 -81.219,81.219 0.00,44.849 36.369,81.219 81.219,81.219z"  />
<glyph unicode="&#xe079;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 256.00,393.281C 326.479,393.281 383.625,336.135 383.625,265.656C 383.625,244.307 377.775,216.124 365.75,200.187L 256.00,54.719L 146.25,200.187C 133.011,217.733 128.375,242.086 128.375,265.656C 128.375,336.135 185.521,393.281 256.00,393.281 z M 256.00,319.344C 226.345,319.344 202.313,295.311 202.313,265.656C 202.313,236.001 226.345,211.969 256.00,211.969C 285.655,211.969 309.688,236.001 309.688,265.656C 309.688,295.311 285.655,319.344 256.00,319.344z"  />
<glyph unicode="&#xe078;" d="M 242.188,480.00C 229.12,478.981 216.309,476.471 203.906,472.719L 203.906,404.062L 175.781,404.062L 175.781,461.594C 163.287,455.409 151.441,447.938 140.688,439.062C 140.631,439.016 140.588,438.953 140.531,438.906L 140.531,158.469C 140.588,158.422 140.631,158.36 140.688,158.312C 173.315,131.285 214.578,116.83 256.00,116.75C 298.382,116.766 339.33,131.916 371.313,158.312C 371.37,158.36 371.413,158.422 371.469,158.469L 371.469,438.906C 371.412,438.953 371.369,439.016 371.313,439.062C 360.632,447.91 348.952,455.254 336.719,461.344L 336.719,404.062L 308.594,404.062L 308.594,472.531C 296.113,476.333 283.281,478.94 270.313,480.00L 270.313,404.062L 242.188,404.062L 242.188,480.00 z M 85.313,255.906L 85.313,112.312C 95.602,102.816 106.681,94.192 118.438,86.50C 145.523,68.779 176.188,56.106 209.125,49.875L 209.125,66.437L 302.875,66.437L 302.875,49.875C 335.812,56.106 366.477,68.779 393.563,86.50C 405.319,94.192 416.398,102.816 426.688,112.312L 426.688,255.906L 393.563,255.906L 393.563,128.812C 356.024,98.158 308.165,79.75 256.00,79.75C 203.835,79.75 155.976,98.158 118.438,128.812L 118.438,255.906L 85.313,255.906 z M 302.875,49.875C 287.691,47.002 272.017,45.50 256.00,45.50C 239.983,45.50 224.309,47.002 209.125,49.875L 209.125,3.156L 153.656,3.156L 153.656-32.00L 209.125-32.00L 302.875-32.00L 358.344-32.00L 358.344,3.156L 302.875,3.156L 302.875,49.875z"  />
<glyph unicode="&#xe077;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 247.031,390.50L 247.031,341.125L 265.313,341.125L 265.313,390.50C 273.748,389.81 282.101,388.129 290.219,385.656L 290.219,341.125L 308.50,341.125L 308.50,378.375C 316.457,374.414 324.053,369.629 331.00,363.875C 331.037,363.844 331.057,363.812 331.094,363.781L 331.094,181.375C 331.057,181.344 331.037,181.312 331.00,181.281C 310.198,164.112 283.566,154.26 256.00,154.25C 229.058,154.302 202.222,163.702 181.00,181.281C 180.963,181.312 180.943,181.344 180.906,181.375L 180.906,363.781C 180.943,363.812 180.963,363.844 181.00,363.875C 187.994,369.647 195.686,374.509 203.813,378.531L 203.813,341.125L 222.125,341.125L 222.125,385.781C 230.192,388.222 238.532,389.837 247.031,390.50 z M 144.969,244.75L 166.531,244.75L 166.531,162.094C 190.947,142.155 222.071,130.187 256.00,130.187C 289.929,130.187 321.053,142.155 345.469,162.094L 345.469,244.75L 367.031,244.75L 367.031,151.344C 360.339,145.167 353.115,139.565 345.469,134.562C 327.852,123.036 307.923,114.803 286.50,110.75L 286.50,80.375L 322.563,80.375L 322.563,57.50L 286.50,57.50L 225.50,57.50L 189.438,57.50L 189.438,80.375L 225.50,80.375L 225.50,110.75C 204.077,114.803 184.148,123.036 166.531,134.562C 158.885,139.565 151.661,145.167 144.969,151.344L 144.969,244.75 z M 225.50,110.75C 235.376,108.882 245.582,107.906 256.00,107.906C 266.418,107.906 276.624,108.882 286.50,110.75L 286.50,121.531L 225.50,121.531L 225.50,110.75z"  />
<glyph unicode="&#xe076;" d="M 0.00,296.50  m0.00,0.00, 512.00,0.00 0.00-145.00 -512.00,0.00z"  />
<glyph unicode="&#xe075;" d="M 256.00,480.00C 114.615,480.00 0.00,365.385 0.00,224.00C0.00,82.615 114.615-32.00 256.00-32.00C 397.385-32.00 512.00,82.615 512.00,224.00C 512.00,365.385 397.385,480.00 256.00,480.00 z M 109.00,265.625L 403.031,265.625L 403.031,182.375L 109.00,182.375L 109.00,265.625z"  />
<glyph unicode="&#xe06a;" d="M 64.00,416.00L 224.00,416.00L 224.00,32.00L 64.00,32.00zM 288.00,416.00L 448.00,416.00L 448.00,32.00L 288.00,32.00z"  />
<glyph unicode="&#xe10f;" d="M 18.042,79.89  m0.00,0.00, 79.541,0.00 0.00,73.517c0.00,23.259 11.354,48.943 33.055,70.422 21.70,21.479 53.893,44.821 106.835,81.879 53.179,37.225 85.315,57.955 99.756,70.882 14.44,12.927 13.202,10.848 13.202,29.663l0.00,72.858 0.00,0.889 63.211,0.00 0.00-0.889 0.00-72.858c0.00-28.248 -11.807-56.661 -34.24-76.743 -22.433-20.082 -53.508-39.036 -105.681-75.558 -52.411-36.688 -83.431-60.013 -98.604-75.031 -15.173-15.018 -14.321-15.664 -14.321-25.515l0.00-73.517 82.998,0.00L 130.934-33.002 z m 251.168,0.00 81.221,0.00 0.00,73.517c0.00,9.851 0.819,10.498 -14.354,25.515 -10.037,9.933 -27.827,24.002 -53.335,42.667 3.202,2.257 5.736,4.084 9.12,6.453 18.67,13.07 32.141,22.08 46.092,31.54 17.775-13.421 31.582-24.847 42.602-35.754 21.70-21.479 33.088-47.162 33.088-70.422l0.00-73.517 81.319,0.00L 382.101-33.002z"  />
<glyph unicode="&#xe110;" d="M 466.619,480.00 291.808,305.188c-12.561,7.219 -28.865,5.476 -39.599-5.259 -8.979-8.979 -11.663-21.856 -8.077-33.178 -24.666,12.608 -53.03,14.733 -81.581,2.557C 108.998,242.733 72.05,187.44 0.00,181.016c 5.499-11.322 12.62-23.947 21.354-37.856 30.296-4.77 60.127,4.864 83.44,28.646 -9.054-28.18 -31.178-49.211 -61.098-60.169 7.763-10.351 16.643-21.218 26.671-32.539 34.496,11.533 46.831,27.314 14.556-15.485 13.612-14.139 28.192-29.132 46.107-41.749 7.959,29.388 29.409,51.954 60.14,63.568 -23.547-22.07 -32.977-54.037 -27.165-88.292 17.791-11.969 34.132-21.70 49.012-29.14 12.675,54.372 49.659,110.772 88.292,162.551 12.465,26.239 10.446,54.593 -2.818,81.668 11.385-3.711 24.392-1.059 33.44,7.99 10.735,10.735 12.478,27.038 5.259,39.599L 512.00,434.619 466.619,480.00z"  />
<glyph unicode="&#xe111;" d="M 345.16,422.857  m0.00,0.00,0.00-109.678 57.161,0.00 0.00-114.304 -223.983,0.00 0.00,64.053L0.00,144.035l 178.339-118.893 0.00,64.053 223.983,0.00 109.678,0.00 0.00,109.678 0.00,114.304 0.00,109.678 -109.678,0.00 -57.161,0.00z"  />
<glyph unicode="&#xe112;" d="M 256.002,480.00C 114.617,480.00 0.001,365.385 0.001,224.00c0.00-141.385 114.615-256.00 256.00-256.00 141.385,0.00 256.00,114.615 256.00,256.00C 512.002,365.385 397.387,480.00 256.002,480.00 z M 162.908,342.50c 19.57,0.16 28.956-1.26 44.969-6.813 26.419-9.162 48.919-28.096 64.375-54.188 24.051-45.879 44.866-100.108 61.781-135.813 22.649-31.212 68.91-29.762 85.975-10.848 39.233,43.486 -20.347,67.711 -41.288,74.723 -23.45,7.33 -50.969,19.993 -61.406,41.563 -19.131,54.486 16.035,90.197 61.406,88.969 14.076,2.023 40.835-6.14 58.375-34.50l-22.844-12.375c-9.684,10.251 -23.489,18.757 -36.75,18.875 -29.532,4.159 -45.693-33.509 -27.844-54.438 6.022-6.20 13.381-9.614 41.188-19.031 39.727-13.35 68.689-26.521 70.875-67.469 2.698-55.278 -52.212-88.419 -107.844-75.594 -22.404,6.082 -40.915,22.003 -52.688,45.281 -20.696,40.35 -35.181,89.958 -56.50,125.563 -17.892,28.433 -46.422,44.044 -80.469,44.00 -41.73,0.562 -78.264-32.41 -90.094-65.656 -8.815-35.417 -0.172-71.349 24.50-95.625 57.888-51.315 121.754-17.71 147.156,18.438 1.073,0.00 14.375-28.60 14.375-30.906 -17.284-20.802 -49.734-38.807 -73.563-43.25 -12.711-2.216 -33.14-2.248 -45.188-0.063C 94.791,101.802 55.923,137.841 42.814,184.75 23.356,263.076 74.541,325.58 133.47,339.25c 9.86,2.603 14.707,3.129 29.438,3.25z"  />
<glyph unicode="&#xe113;" d="M 131.671-24.581C 87.371-13.173 54.879,27.299 49.708,72.189 39.918,140.145 68.676,206.663 107.048,261.231 99.875,277.151 90.058,285.787 75.797,264.453 49.833,228.571 30.887,187.895 18.14,145.633 10.051,200.306 49.713,252.694 74.93,291.277 70.058,313.531 42.982,343.405 44.037,342.972 29.718,360.747 13.934,396.762 29.027,417.774 49.539,452.373 87.678,481.103 129.227,479.967 155.109,473.739 167.612,447.147 183.419,428.04c 5.701-7.664 11.401-15.328 17.102-22.993 57.57,30.721 122.528,57.415 188.925,45.206 49.082-7.612 89.85-47.986 98.33-96.862 16.736-82.479 -19.16-165.434 -67.432-230.721 -50.056-66.11 -117.15-124.626 -198.88-145.986 -29.262-6.057 -60.546-8.477 -89.793-1.266 z M 246.685,8.14C 309.34,28.509 356.694,78.033 398.626,126.627 444.448,184.858 475.324,261.819 460.227,336.496 449.229,384.432 404.881,421.433 355.657,423.335 307.783,426.432 260.119,411.565 217.985,389.825c-0.87-6.812 10.08-28.777 20.53-17.236 44.652,23.201 99.259,33.561 147.943,17.649 31.486-11.697 54.267-42.208 55.171-75.988 5.905-71.57 -37.766-136.375 -88.32-182.877 -16.522-19.506 -35.165-27.044 -61.534-13.87 -37.244,17.066 -76.021,31.224 -112.312,50.124 -24.109,22.612 -41.016,51.706 -61.414,77.598 -7.045-8.556 -13.959-23.515 -20.119-34.584 -24.764-48.94 -41.546-111.28 -11.303-161.767 25.966-45.13 84.065-57.837 131.98-47.78 9.505,1.71 18.888,4.083 28.079,7.046 z m 67.124,111.525C 305.778,165.921 300.731,212.847 294.873,259.31 273.929,293.29 247.184,324.672 226.584,358.116 204.743,387.315 182.243,419.459 158.911,444.37 146.647,465.402 121.592,477.581 98.68,465.471 68.102,452.631 37.342,427.902 30.827,393.809c 7.589-26.765 28.491-48.467 43.38-71.861 37.33-49.163 70.287-101.209 107.194-145.352 44.471-19.425 91.209-38.938 133.484-59.203 z M 190.187,193.782c-19.608,9.683 -27.882,35.028 -42.827,51.186 -20.476,28.772 -43.297,56.231 -60.359,87.194 5.585,20.774 12.455,24.741 24.525,38.969 17.763,12.629 53.135,45.23 75.585,13.182 29.687-37.693 59.253-75.788 84.212-116.813l 24.104-99.36 -21.222-16.878C 252.819,163.477 190.187,193.782 190.187,193.782 z m -20.529,94.627c-17.39,23.47 -33.624,48.085 -53.272,69.694 -25.159-16.751 -9.286-38.606 4.239-59.404 22.411-29.144 42.431-60.24 66.475-88.058 33.807,31.006 -11.015,63.237 -17.441,77.768 z m 88.634-23.577c-6.143,21.63 -24.573,39.141 -36.788,58.235 -17.095,22.974 -33.757,46.284 -51.525,68.748 -11.558-6.228 -24.44-6.797 -33.635-16.435 17.44-27.353 37.287-55.751 56.568-82.197 18.762-23.352 42.431-37.537 65.38-28.352 z M 65.541,353.338C 46.285,376.518 75.985,401.575 92.423,416.195 107.527,428.903 126.747,438.394 145.976,435.261c 12.137-1.978 27.037-17.402 16.728-24.192 -25.26-16.638 -57.38-28.26 -74.473-57.09 -7.981-14.986 -13.346-15.145 -22.69-0.64 z M 86.481,369.585C 101.195,392.578 128.132,401.673 149.905,415.83 146.388,441.685 113.014,420.188 100.867,410.284 88.759,398.66 53.864,372.912 77.318,358.878c 4.146,2.543 6.357,6.96 9.163,10.706 z M 45.128,386.281C 40.441,412.158 62.991,434.331 83.326,446.934 94.996,454.04 134.883,467.887 130.918,445.727 100.305,435.977 73.168,414.984 56.258,387.464c-2.578-4.488 -9.345-9.221 -11.13-1.183 z M 373.269,177.49c 30.035,39.882 55.575,92.07 40.024,142.766 -14.962,45.053 -69.391,60.083 -111.857,51.425 -17.187-6.027 -56.695-6.515 -54.612-26.889 18.046-26.047 37.531-51.051 56.452-76.46 6.422-47.152 11.687-95.055 19.078-141.608 19.459,13.826 35.631,32.477 50.915,50.766z"  />
<glyph unicode="&#xe114;" d="M 141.179,98.499  m0.00,0.00,-0.394-31.864 -140.785,0.00 0.00,31.864C 0.00,137.123 32.526,168.06 71.149,168.06c 38.624,0.00 70.527-30.941 70.029-69.561 z M 135.124,243.45c0.00-35.399 -28.575-64.095 -63.974-64.095 -35.399,0.00 -64.217,28.697 -64.217,64.095 0.00,35.399 28.818,64.096 64.217,64.096 35.399,0.00 63.974-28.697 63.974-64.096 z m 180.647-140.069 -0.454-36.746 -162.355,0.00 0.00,36.746c0.00,44.542 37.509,80.219 82.05,80.219 44.541,0.00 81.333-35.681 80.759-80.219 z m -6.983,167.159c0.00-40.822 -32.953-73.915 -73.776-73.915 -40.822,0.00 -74.055,33.093 -74.055,73.915 0.00,40.822 33.233,73.915 74.055,73.915 40.822,0.00 73.776-33.093 73.776-73.915 z m 203.205-162.277 -0.515-41.628 -183.924,0.00 0.00,41.628c0.00,50.459 42.492,90.876 92.951,90.876 50.459,0.00 92.138-40.422 91.488-90.876 z m -7.911,189.367c0.00-46.246 -37.331-83.736 -83.577-83.736 -46.246,0.00 -83.894,37.49 -83.894,83.736 0.00,46.246 37.648,83.736 83.894,83.736 46.246,0.00 83.577-37.49 83.577-83.736z"  />
<glyph unicode="&#xe115;" d="M 309.753,335.22 m0.00,0.00,c-11.836-0.083 -23.715-2.048 -35.091-6.171 -2.37-0.888 -6.21-2.188 -7.894-6.044l 0.518-203.985c 1.006-2.219 2.331-3.451 4.545-4.242l 181.364,0.00c 29.644-0.52 52.745,24.835 56.484,55.719 3.202,33.439 -17.232,63.385 -53.087,68.58 -10.185,1.47 -22.874,0.01 -33.194-4.067 -0.346-0.155 -0.444,0.235 -0.71,2.679 -2.547,22.397 -11.935,42.144 -27.022,60.694 -20.772,22.883 -53.192,37.065 -85.914,36.837 z m -56.189-14.918c-3.46,0.00 -6.771-49.258 -7.32-147.78 8.475-75.554 7.521-77.516 15.524,0.00 -1.137,98.527 -4.745,147.782 -8.205,147.78 z m -21.919-11.729c-3.46-0.107 -6.697-45.564 -7.104-136.051 8.475-75.554 7.521-77.516 15.524,0.00 -1.278,90.916 -4.96,136.158 -8.42,136.051 z m -63.596-14.057c-0.026,0.00 -0.054,0.00 -0.08-0.01 -3.255-0.492 -6.313-41.016 -7.136-121.986 8.475-75.554 7.513-77.516 15.516,0.00 -1.559,81.044 -5.017,121.85 -8.30,121.994 z m 21.353-3.811c-3.354,0.069 -6.601-39.253 -7.431-118.183 8.475-75.554 7.521-77.516 15.524,0.00 -1.278,78.653 -4.739,118.114 -8.093,118.183 z m -42.363-1.587c-3.495-0.037 -6.66-38.935 -6.785-116.596 8.475-75.554 7.513-77.516 15.516,0.00 -1.418,77.807 -5.236,116.633 -8.731,116.596 z m 63.445-2.312c-0.027,0.001 -0.053,0.00 -0.08-0.01 -3.424-0.53 -6.601-39.152 -7.009-114.276 8.475-75.554 7.521-77.516 15.524,0.00 -1.407,76.64 -5.035,114.219 -8.436,114.284 z m -84.128-5.079c-3.011,0.029 -5.865-35.787 -7.248-109.205 8.475-75.554 7.521-77.516 15.524,0.00 -1.998,72.165 -5.218,109.176 -8.276,109.205 z m -20.261-20.30c-2.861,0.175 -5.747-29.285 -7.846-88.904 8.475-75.554 7.521-77.516 15.524,0.00 -1.982,58.92 -4.818,88.729 -7.678,88.904 z m -41.215-29.534c-1.694-0.343 -3.364-19.032 -7.088-56.763 8.013-74.719 7.112-76.66 14.679,0.00 -4.069,37.943 -5.843,57.117 -7.591,56.763 z m -20.436-1.547c-1.694-0.337 -3.364-18.657 -7.088-55.639 8.013-73.235 7.112-75.137 14.679,0.00 -4.007,36.618 -5.789,55.401 -7.511,55.639 -0.027,0.00 -0.053,0.01 -0.08,0.00 z m 40.577-0.845c-1.791-0.344 -3.556-19.04 -7.495-56.771 8.475-74.719 7.521-76.66 15.524,0.00 -4.238,37.36 -6.12,56.528 -7.942,56.771 -0.028,0.00 -0.059,0.01 -0.088,0.00 z m -60.447-9.162c-1.694-0.283 -3.372-15.71 -7.096-46.836 8.013-61.64 7.112-63.241 14.679,0.00 -4.007,30.82 -5.781,46.636 -7.503,46.836 -0.027,0.00 -0.053,0.00 -0.08,0.00 z M 5.797,203.418C 4.412,203.236 3.045,193.32 0.00,173.295 6.551,133.639 5.814,132.609 12.00,173.295 8.673,193.433 7.225,203.607 5.797,203.418z"  />
<glyph unicode="&#xe116;" d="M 235.138,480.00  m0.00,0.00, 69.083-147.775c 0.982,37.373 -30.247,125.585 -69.083,147.775 z m 216.20-10.392c-1.001-0.09 -2.069-1.226 -3.224-3.506 -15.678-28.648 -42.732-45.66 -68.018-52.775 -25.709-7.215 -52.45-24.431 -62.259-43.947 -11.461-26.613 -6.546-47.735 4.601-71.712 14.058,2.13 28.127,7.561 40.035,13.272 30.545,14.871 57.005,38.176 74.216,65.452 6.921,10.969 8.276,9.001 2.316-3.349 -11.221-23.253 -47.987-55.838 -94.155-83.481 -10.29-6.161 -10.441-6.373 -5.822-10.392 14.776-12.856 30.97-20.637 45.669-21.88 63.751-0.293 91.116,68.007 92.903,115.472 -0.474,30.798 -5.683,70.597 -24.54,95.877 -0.574,0.72 -1.121,1.024 -1.722,0.97 z m -232.383-132.50c-101.678,0.00 -184.554-82.876 -184.554-184.554 0.00-101.678 82.876-184.554 184.554-184.554 101.678,0.00 184.523,82.876 184.523,184.554 0.00,25.419 -5.147,49.773 -14.493,71.868l-38.72-16.371c 7.206-17.036 11.206-35.756 11.206-55.498 0.00-76.663 -59.909-138.801 -135.661-142.36 87.664,59.892 127.349,215.00 80.476,313.611 3.724-67.674 0.669-251.815 -104.109-312.797 -70.994,8.258 -125.77,68.263 -125.77,141.546 0.00,78.966 63.582,142.516 142.547,142.516 19.741,0.00 38.399-3.938 55.435-11.143l 16.402,38.657c-22.096,9.346 -46.418,14.524 -71.837,14.524z"  />
<glyph unicode="&#xe117;" d="M 256.00,480.00 C 114.615,480.00 0.00,365.387 0.00,224.00 0.00,162.322 21.826,105.759 58.156,61.562 158.751,168.211 358.66,135.625 408.438,18.344 471.266,64.994 512.00,139.733 512.00,224.00 512.00,365.387 397.385,480.00 256.00,480.00 z m 153.875-133.281 c 23.482-7.725 14.365-47.549 -3.344-46.469 C 308.977,331.32 233.977,347.317 121.00,329.937 c -23.482,7.725 -14.365,47.549 3.344,46.469 100.713,8.776 188.276,6.27 285.531-29.688 z m -33.406-75.344 c 19.88-6.56 12.191-40.294 -2.844-39.375 -82.662,26.317 -146.209,39.866 -241.938,25.156 -19.901,6.547 -12.16,40.29 2.844,39.375 85.231,7.538 159.655,5.242 241.938-25.156 z m -27.313-74.469 c 16.735-5.516 10.271-33.929 -2.375-33.156 -69.629,22.19 -123.167,33.596 -203.813,21.188 -16.747,5.526 -10.262,33.931 2.406,33.156 72.00,6.276 134.196,4.551 203.781-21.188 z m -122.00-144.594 c -39.489,0.00 -75.025-21.197 -91.688-54.219 C 171.388-21.111 212.422-32.00 256.00-32.00 c 26.326,0.00 51.723,3.963 75.625,11.344 -19.264,40.222 -63.328,72.969 -104.469,72.969 z"  />
<glyph unicode="&#xe119;" d="M 453.629,445.311 80.052,221.165 453.629-2.981z"  />
<glyph unicode="&#xe02c;" d="M 26.684,42.382 250.83,415.958 474.976,42.382z"  />
<glyph unicode="&#xe118;" d="M 80.052,445.311 453.629,221.165 80.052-2.981z"  />
<glyph unicode="&#xe11a;" d="M 26.684,415.958 250.83,42.382 474.976,415.958z"  />
<glyph unicode="&#xe11b;" d="M 64.00,416.00L 448.00,416.00L 448.00,32.00L 64.00,32.00z"  />
<glyph unicode="&#x20;" horiz-adv-x="256" />
<glyph class="hidden" unicode="&#xf000;" d="M0,480L 512 -32L0 -32 z" horiz-adv-x="0" />
</font></defs></svg>‘	)∏π∫_Chttp://jsfiddle.net/js/codemirror/lib/codemirror.css?update10082015O\bplist00‘jkX$versionX$objectsY$archiverT$top Ü†Ø #)*0123MNOPQRSTUVWXYZ[\]^_`adeU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Chttp://jsfiddle.net/js/codemirror/lib/codemirror.css?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀ x» »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-aliveXtext/cssUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"55c87ff2-272b"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/'+“+,fg_NSHTTPURLResponse£hi/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—lm_WebResourceResponseÄ    # - 2 7 Z ` { ~ Ç Ö à ã è í ô ú ü ¢ • ® ™ ¨ Æ ∞ ≤ ≥ µ ∑ π ª Ω ø ¡ » – ‹ ﬁ ‡ ‚(-8AGJS\^`gozÖáâãçèëìïóô§¶®™¨Æ∞≤¥∂∏∫≈“ŸÁÔÙ˘.9BHhàúº¡”‹·ÓÒÙ˘%3EH^             n              `O'+/* BASICS */

.CodeMirror {
  /* Set height, width, borders, and global font properties here */
  font-family: monospace;
  height: 300px;
  color: black;
}

/* PADDING */

.CodeMirror-lines {
  padding: 4px 0; /* Vertical padding around content */
}
.CodeMirror pre {
  padding: 0 4px; /* Horizontal padding of content */
}

.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {
  background-color: white; /* The little square between H and V scrollbars */
}

/* GUTTER */

.CodeMirror-gutters {
  border-right: 1px solid #ddd;
  background-color: #f7f7f7;
  white-space: nowrap;
}
.CodeMirror-linenumbers {}
.CodeMirror-linenumber {
  padding: 0 3px 0 5px;
  min-width: 20px;
  text-align: right;
  color: #999;
  white-space: nowrap;
}

.CodeMirror-guttermarker { color: black; }
.CodeMirror-guttermarker-subtle { color: #999; }

/* CURSOR */

.CodeMirror-cursor {
  border-left: 1px solid black;
  border-right: none;
  width: 0;
}
/* Shown when moving in bi-directional text */
.CodeMirror div.CodeMirror-secondarycursor {
  border-left: 1px solid silver;
}
.cm-fat-cursor .CodeMirror-cursor {
  width: auto;
  border: 0;
  background: #7e7;
}
.cm-fat-cursor div.CodeMirror-cursors {
  z-index: 1;
}

.cm-animate-fat-cursor {
  width: auto;
  border: 0;
  -webkit-animation: blink 1.06s steps(1) infinite;
  -moz-animation: blink 1.06s steps(1) infinite;
  animation: blink 1.06s steps(1) infinite;
  background-color: #7e7;
}
@-moz-keyframes blink {
  0% {}
  50% { background-color: transparent; }
  100% {}
}
@-webkit-keyframes blink {
  0% {}
  50% { background-color: transparent; }
  100% {}
}
@keyframes blink {
  0% {}
  50% { background-color: transparent; }
  100% {}
}

/* Can style cursor different in overwrite (non-insert) mode */
.CodeMirror-overwrite .CodeMirror-cursor {}

.cm-tab { display: inline-block; text-decoration: inherit; }

.CodeMirror-ruler {
  border-left: 1px solid #ccc;
  position: absolute;
}

/* DEFAULT THEME */

.cm-s-default .cm-header {color: blue;}
.cm-s-default .cm-quote {color: #090;}
.cm-negative {color: #d44;}
.cm-positive {color: #292;}
.cm-header, .cm-strong {font-weight: bold;}
.cm-em {font-style: italic;}
.cm-link {text-decoration: underline;}
.cm-strikethrough {text-decoration: line-through;}

.cm-s-default .cm-keyword {color: #B62EB4;}
.cm-s-default .cm-atom {color: #219;}
.cm-s-default .cm-number {color: #164;}
.cm-s-default .cm-def {color: #4A90E2;}
.cm-s-default .cm-variable,
.cm-s-default .cm-punctuation,
.cm-s-default .cm-property,
.cm-s-default .cm-operator {}
.cm-s-default .cm-variable-2 {color: #4A90E2;}
.cm-s-default .cm-variable-3 {color: #085;}
.cm-s-default .cm-comment {color: #A0A1A7;}
.cm-s-default .cm-string {color: #4DA24B;}
.cm-s-default .cm-string-2 {color: #f50;}
.cm-s-default .cm-meta {color: #555;}
.cm-s-default .cm-qualifier {color: #555;}
.cm-s-default .cm-builtin {color: #30a;}
.cm-s-default .cm-tag {color: #E65544;}
.cm-s-default .cm-bracket {color: black;}
.cm-s-default .cm-attribute {color: #4A90E2;}
.cm-s-default .cm-hr {color: #999;}
.cm-s-default .cm-link {color: #4A90E2;}

.cm-s-default .cm-error {color: #f00;}
.cm-invalidchar {color: #f00;}

.CodeMirror-composing { border-bottom: 2px solid; }

/* Default styles for common addons */

div.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}
div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}
.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }
.CodeMirror-activeline-background {background: #e8f2ff;}

/* STOP */

/* The rest of this file contains styles related to the mechanics of
   the editor. You probably shouldn't touch them. */

.CodeMirror {
  position: relative;
  overflow: hidden;
  background: white;
}

.CodeMirror-scroll {
  overflow: scroll !important; /* Things will break if this is overridden */
  /* 30px is the magic margin used to hide the element's real scrollbars */
  /* See overflow: hidden in .CodeMirror */
  margin-bottom: -30px; margin-right: -30px;
  padding-bottom: 30px;
  height: 100%;
  outline: none; /* Prevent dragging from highlighting the element */
  position: relative;
}
.CodeMirror-sizer {
  position: relative;
  border-right: 30px solid transparent;
}

/* The fake, visible scrollbars. Used to force redraw during scrolling
   before actuall scrolling happens, thus preventing shaking and
   flickering artifacts. */
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {
  position: absolute;
  z-index: 6;
  display: none;
}
.CodeMirror-vscrollbar {
  right: 0; top: 0;
  overflow-x: hidden;
  overflow-y: scroll;
}
.CodeMirror-hscrollbar {
  bottom: 0; left: 0;
  overflow-y: hidden;
  overflow-x: scroll;
}
.CodeMirror-scrollbar-filler {
  right: 0; bottom: 0;
}
.CodeMirror-gutter-filler {
  left: 0; bottom: 0;
}

.CodeMirror-gutters {
  position: absolute; left: 0; top: 0;
  z-index: 3;
}
.CodeMirror-gutter {
  white-space: normal;
  height: 100%;
  display: inline-block;
  margin-bottom: -30px;
  /* Hack to make IE7 behave */
  *zoom:1;
  *display:inline;
}
.CodeMirror-gutter-wrapper {
  position: absolute;
  z-index: 4;
  background: none !important;
  border: none !important;
}
.CodeMirror-gutter-background {
  position: absolute;
  top: 0; bottom: 0;
  z-index: 4;
}
.CodeMirror-gutter-elt {
  position: absolute;
  cursor: default;
  z-index: 4;
}
.CodeMirror-gutter-wrapper {
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}

.CodeMirror-lines {
  cursor: text;
  min-height: 1px; /* prevents collapsing before first draw */
}
.CodeMirror pre {
  /* Reset some styles that the rest of the page might have set */
  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;
  border-width: 0;
  background: transparent;
  font-family: inherit;
  font-size: inherit;
  margin: 0;
  white-space: pre;
  word-wrap: normal;
  line-height: inherit;
  color: inherit;
  z-index: 2;
  position: relative;
  overflow: visible;
  -webkit-tap-highlight-color: transparent;
}
.CodeMirror-wrap pre {
  word-wrap: break-word;
  white-space: pre-wrap;
  word-break: normal;
}

.CodeMirror-linebackground {
  position: absolute;
  left: 0; right: 0; top: 0; bottom: 0;
  z-index: 0;
}

.CodeMirror-linewidget {
  position: relative;
  z-index: 2;
  overflow: auto;
}

.CodeMirror-widget {}

.CodeMirror-code {
  outline: none;
}

/* Force content-box sizing for the elements where we expect it */
.CodeMirror-scroll,
.CodeMirror-sizer,
.CodeMirror-gutter,
.CodeMirror-gutters,
.CodeMirror-linenumber {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
}

.CodeMirror-measure {
  position: absolute;
  width: 100%;
  height: 0;
  overflow: hidden;
  visibility: hidden;
}

.CodeMirror-cursor { position: absolute; }
.CodeMirror-measure pre { position: static; }

div.CodeMirror-cursors {
  visibility: hidden;
  position: relative;
  z-index: 3;
}
div.CodeMirror-dragcursors {
  visibility: visible;
}

.CodeMirror-focused div.CodeMirror-cursors {
  visibility: visible;
}

.CodeMirror-selected { background: #d9d9d9; }
.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }
.CodeMirror-crosshair { cursor: crosshair; }
.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }
.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }

.cm-searching {
  background: #ffa;
  background: rgba(255, 255, 0, .4);
}

/* IE7 hack to prevent it from returning funny offsetTops on the spans */
.CodeMirror span { *vertical-align: text-bottom; }

/* Used to force a border model for a node */
.cm-force-border { padding-right: .1px; }

@media print {
  /* Hide the cursor when printing */
  .CodeMirror div.CodeMirror-cursors {
    visibility: hidden;
  }
}

/* See issue #2901 */
.cm-tab-wrap-hack:after { content: ''; }

/* Help users use markselection to safely style text background */
span.CodeMirror-selectedtext { background: none; }



/* CUSTOM SETTINGS FOR JSFIDDLE */

.CodeMirror {
  line-height: 1.5em;
  font-size: .85em;
  font-family: "Monaco", "Andale Mono", "Lucida Console", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace;
  /* Necessary so the scrollbar can be absolutely positioned within the wrapper on Lion. */
  position: relative;
  /* This prevents unwanted scrollbars from showing up on the body and wrapper in IE. */
  overflow: hidden;
  height: 100%;
  box-shadow: inset 0 1px 3px #E4E4E4;
  background: #fff;
}

.CodeMirror-gutter-elt {
  z-index: 20;
}

.CodeMirror-gutter-elt .CodeMirror-line-error {
  color: #FF4D4D;
  cursor: help;
  height: 100%;
  padding: 0 3px;
}

.CodeMirror-error-tooltip {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  background: #fff;
  font-size: 13px;
  opacity: .95;
  line-height: 1.4em;
  padding: 10px;
  max-width: 300px;
  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
  z-index: 20;
  border: solid 1px #ACB3B9;
}

.CodeMirror-error-tooltip:after {
  content: ' ';
  display: block;
  position: absolute;
  bottom: -6px;
  left: 50%;
  margin-left: -6px;
  border-right: 6px solid transparent;
  border-left: 6px solid transparent;
  border-top: 6px solid #838383;
}

.CodeMirror-focused .CodeMirror-selected {
  background: #B4D5FF;
}

.CodeMirror-focused .CodeMirror-matchhighlight {
  border: solid 1px #a5c3e9;
  border-radius: 3px;
  margin-left: -1px;
  margin-right: -1px;
}

/* GUTTER */
.CodeMirror-gutters {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 10;
  background-color: rgba(0, 0, 0, 0.03);
  min-width: 2em;
  height: 100%;
  border-right: none;
}

.CodeMirror-linenumber {
  padding: 1px 3px 0 5px;
  line-height: 1.5em;
  min-width: 20px;
  color: #ccc;
  font-family: Helvetica;
  font-size: .9em;
}

.activeline {
  background: #e8f2ff !important;
}

div.CodeMirror span.CodeMirror-matchingbracket {
  color: #67d73e;
}

div.CodeMirror span.CodeMirror-nonmatchingbracket {
  color: #f22;
}
‘	)ºΩæ_Ihttp://jsfiddle.net/js/codemirror/addon/hint/show-hint.css?update10082015Oabplist00‘jkX$versionX$objectsY$archiverT$top Ü†Ø #)*0123MNOPQRSTUVWXYZ[\]^_`adeU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_Ihttp://jsfiddle.net/js/codemirror/addon/hint/show-hint.css?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀRÀ2 »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-aliveXtext/cssUnginx_Mon, 10 Aug 2015 10:41:54 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"55c87ff2-296"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/ñ“+,fg_NSHTTPURLResponse£hi/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—lm_WebResourceResponseÄ    # - 2 7 Z ` { ~ Ç Ö à ã è í ô ú ü ¢ • ® ™ ¨ Æ ∞ ≤ ≥ µ ∑ π ª Ω ø ¡ » – ‹ ﬁ ‡ ‚.3>GMPYbdfmuÄãçèëìïóôõùü™¨Æ∞≤¥∂∏∫ºæ¿ÀÿﬂÌı˙ˇ 4?HNné°¡∆ÿ·ÊÛˆ˘˛*8JMc             n              eOñ.CodeMirror-hints {
  position: absolute;
  z-index: 10;
  overflow: hidden;
  list-style: none;

  margin: 0;
  padding: 2px;

  -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);
  -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);
  box-shadow: 2px 3px 5px rgba(0,0,0,.2);
  border-radius: 3px;
  border: 1px solid silver;

  background: white;
  font-size: 90%;
  font-family: monospace;

  max-height: 20em;
  overflow-y: auto;
}

.CodeMirror-hint {
  margin: 0;
  padding: 0 4px;
  border-radius: 2px;
  max-width: 19em;
  overflow: hidden;
  white-space: pre;
  color: black;
  cursor: pointer;
}

li.CodeMirror-hint-active {
  background: #08f;
  color: white;
}
‘	)¿¡¬_1http://jsfiddle.net/css/screen.css?update10082015OJbplist00‘jkX$versionX$objectsY$archiverT$top Ü†Ø #)*0123MNOPQRSTUVWXYZ[\]^_`adeU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_1http://jsfiddle.net/css/screen.css?update10082015“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÀa. »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-aliveXtext/cssUnginx_Fri, 22 May 2015 11:16:55 GMT_Wed, 16 Sep 2015 05:40:27 GMT_W/"555f1027-43cf"_Wed, 26 Aug 2015 05:40:27 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/Cœ“+,fg_NSHTTPURLResponse£hi/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—lm_WebResourceResponseÄ    # - 2 7 Z ` { ~ Ç Ö à ã è í ô ú ü ¢ • ® ™ ¨ Æ ∞ ≤ ≥ µ ∑ π ª Ω ø ¡ » – ‹ ﬁ ‡ ‚&/58AJLNU]hsuwy{}ÅÉÖáíîñòöúû†¢§¶®≥¿«’›‚Á˙'06Vvä™Ø¡ œ‹ﬂ‚Á˚ˇ!36L             n              NOCœ@-webkit-keyframes rotate { from { -webkit-transform: rotate(0deg); -moz-transform: rotate(0deg); -ms-transform: rotate(0deg); transform: rotate(0deg); }
  to { -webkit-transform: rotate(360deg); -moz-transform: rotate(360deg); -ms-transform: rotate(360deg); transform: rotate(360deg); } }

*, html, body { -webkit-font-smoothing: antialiased; }

a { color: #39464e; text-decoration: none; }
a:hover { text-decoration: underline; }

input, textarea, select { font-family: "Open Sans", "Helvetica", "Arial", "FreeSans", "Verdana", "Tahoma", "Lucida Sans", "Lucida Sans Unicode", "Luxi Sans", sans-serif; }

.errorlist { font-size: .85em; }
.errorlist li { margin-bottom: 5px; color: #f36e65; }

html { height: 100%; }

body { font-family: "Helvetica", "Arial", "FreeSans", "Verdana", "Tahoma", "Lucida Sans", "Lucida Sans Unicode", "Luxi Sans", sans-serif; background: #f6f6f6 url(../img/initializing.png) 50% 50% no-repeat; overflow: hidden; padding: 0; margin: 0; position: relative; font-size: 14px; }
@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2 / 1), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) { body { background: #f6f6f6 url(../img/initializing@2x.png) 50% 50% no-repeat; background-size: 186px 157px; } }

body .CodeMirror * { -webkit-font-smoothing: subpixel-antialiased; }

#show-result #sidebar, #show-result #content { -moz-transition: opacity 0.4s; /* FF3.6+ */ -webkit-transition: opacity 0.4s; /* Chrome, Safari */ -o-transition: opacity 0.4s; /* Opera */ -ms-transition: opacity 0.4s; /* IE 9 */ transition: opacity 0.4s; opacity: 0; }

h1, h2 { position: absolute; top: -900em; left: -900em; }

/* content ================================================================ */
#content { margin: 14px 15px 0 232px; position: relative; background: #F6F6F6; }

/* header ================================================================ */
#header { height: 44px; background: #4679bd; }

#branding { float: left; width: 200px; padding: 0 7px 0 10px; font-size: 10px; color: #fff; }

#home { display: block; width: 200px; height: 44px; line-height: 44px; background: transparent url(../img/logo.png) no-repeat 0 50%; text-indent: 45px; text-transform: uppercase; color: #fff; text-decoration: none; font-size: 17px; text-indent: -900em; }
@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2 / 1), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) { #home { background: transparent url(../img/logo@2x.png) no-repeat 0 50%; background-size: 136px 23px; } }

/* sidebar ================================================================ */
#sidebar { padding: 0; margin: 0; font-size: 11px; width: 217px; position: absolute; top: 45px; left: 0; background-color: #fff; color: #444; height: 100%; }

#sidebar h3 { clear: both; padding: 0; font-size: 12px; font-weight: bold; }

#sidebar input[type='text'], #sidebar input[type='password'], #sidebar textarea { width: 186px; padding: 7px 5px; color: #626262; font-family: "Helvetica", "Arial", "FreeSans", "Verdana", "Tahoma", "Lucida Sans", "Lucida Sans Unicode", "Luxi Sans", sans-serif; font-size: 1em; background: #F6F6F6; border: solid 1px #C0C0C0; box-shadow: inset 0 1px 2px #e4e4e4; border-radius: 2px; outline: none; }

#sidebar input[type='text'].warning { border: solid 1px #e58b85; background: #f6e4e3; }

#sidebar textarea { height: 40px; }

#sidebar a { color: #4679BD; }

#sidebar p { margin: 0 0 7px; line-height: 160%; }

#sidebar select { width: 100%; margin: 3px 0; }

#sidebar pre, #sidebar code { padding: 0 2px; font-family: "Monaco", "Andale Mono", "Lucida Console", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace; font-size: .9em; background: #fffadb; }

#sidebar .element, #sidebar .text { margin: 0; }

#sidebar label { font-size: 11px; }

#sidebar .element strong { font-weight: bold; }

#sidebar .elementBody { padding-top: 0; border-top-style: none; padding-bottom: 0; border-bottom-style: none; overflow: hidden; opacity: 0; height: 0; }

#sidebar .ebCont { padding: 4px 8px 8px; }

#sidebar .ebCont h3 { font-size: 1em; padding: 4px 0 2px; color: #888; border-top: 1px solid #EEEFEE; }

#sidebar .selectPanel { position: relative; height: 54px; }

#sidebar .selectPanel .panelChoice, #sidebar .selectPanel .selectFake { width: 92px; position: absolute; }

#sidebar .selectPanel .selectFake { color: #999; font-size: 1em; line-height: 20px; }

.panelChoice.html { top: 0; left: 0; }

.panelChoice.css { top: 0; right: 0; }

.panelChoice.js { bottom: 0; left: 0; }

.panelChoice.result { bottom: 0; right: 0; }

#sidebar .toggler { color: #333; height: 36px; line-height: 36px; padding: 0 8px; font-size: 13px; font-weight: normal; position: relative; }

#sidebar .toggler em { color: #AEAEAE; font-style: normal; font-size: .8em; position: absolute; top: 10px; right: 10px; background: #f1f1f1; height: 16px; padding: 0 4px; line-height: 16px; border-radius: 2px; }

#sidebar .toggler.active { color: #333; font-weight: bold; }

#sidebar .toggler, #sidebar .element a { cursor: pointer; text-decoration: none; }

#sidebar .element { border-bottom: 1px solid #DFDFDF; }

#sidebar .element a:hover { text-decoration: underline; }

#shell_settings li { margin: 5px 0; }

#shell_settings li input { margin-right: 3px; }

#sidebar-bottom { margin: 10px 0 10px 3px; }

#sidebar #share_links label, #share_links_dropdown label { display: block; padding: 0 0 2px; font-family: "Helvetica", "Arial", "FreeSans", "Verdana", "Tahoma", "Lucida Sans", "Lucida Sans Unicode", "Luxi Sans", sans-serif; font-size: 11px; }

#sidebar #share_links p, #share_links_dropdown p { margin: 0 0 7px; }

#share_links_dropdown input { width: 190px; padding: 7px 5px; color: #626262; font-family: "Helvetica", "Arial", "FreeSans", "Verdana", "Tahoma", "Lucida Sans", "Lucida Sans Unicode", "Luxi Sans", sans-serif; font-size: 1em; border: solid 1px #C0C0C0; background: #F6F6F6; box-shadow: inset 0 1px 2px #e4e4e4; border-radius: 2px; }

.libraryTagAttributes { padding: 5px 0 0; }

/* actions */
#actions { height: 44px; font-size: 13px; }

#actions ul.actionCont { float: left; }

#actions ul.right { float: right; }

#actions li.actionItem { float: left; position: relative; margin-right: 1px; }

#actions li.actionItem .aiButton, #actions li.actionItem .aiButton span, #actions ul.dropdown li.actionItem a.aiButton { height: 44px; }

#actions li.actionItem a.aiButton { display: block; outline: none; text-decoration: none; color: #fff; background: #4072b4; padding: 0 10px; }

#actions li.actionItem.jobboard a.aiButton { background: none; font-size: .9em; font-weight: 800; }

#actions li.actionItem a.aiButton span { line-height: 44px; margin-right: 6px !important; font-size: .85em; }

#actions li.noIcon a.aiButton span { padding: 0 0 0 6px; margin-right: 0; }

#actions li.actionItem #mobile.aiButton span { margin-right: 0; }

#actions li.actionItem a.aiButton span.selected { color: #555; background: #fff; }

#actions ul.dropdown .dropdownCont li { line-height: 26px; }

#actions ul.dropdown .dcWrapper a { color: #4679BD; text-decoration: none; }

#actions ul.dropdown .dcWrapper a:hover { text-decoration: underline; }

#actions ul.dropdown .dropdownCont li a { display: block; text-decoration: none; font-weight: bold; }

#actions ul.dropdown .dropdownCont li a span { margin: 0 6px; }

#actions ul.dropdown .dropdownCont li a:hover { background: #eee; }

#actions ul.dropdown li.actionItem a.aiButton span { padding: 0 0 0 6px; margin-right: 0; }

#actions #toggleSidebarUl { position: absolute; top: 0; left: 165px; margin-left: -40px; }

#actions #toggleSidebar { border-width: 0px; display: none; outline: none; text-decoration: none; text-shadow: 0; color: #ffffff; font-weight: bold; font-size: 12px; background: transparent; }

#actions #toggleSidebar span { text-indent: -999px; padding: 0 8px; width: 12px; }

#actions #showjscode { display: none; }

#actions #collaborate sup { background: rgba(0, 0, 0, 0.5); border-radius: 2px; vertical-align: middle; opacity: 0.4; font-size: .7em; padding: 2px 3px; text-transform: uppercase; }

/* select link */
#select_link { background: transparent url(../img/sprites.png) no-repeat 0 -254px; color: #fdfdfd; float: right; width: 229px; height: 27px; margin: 6px 10px 0; font-size: 13px; padding-left: 15px; line-height: 27px; }

/* universal dropdown container ================================================================ */
div.dropdownCont { position: absolute; top: 44px; right: -30px; z-index: 200; opacity: 0; overflow: hidden; padding: 0 30px 30px; }

div.dropdownCont div.dcWrapper { background-color: #fff; width: 200px; padding: 10px; margin: 0; font-size: 13px; box-shadow: 0 2px 30px rgba(0, 0, 0, 0.4); }

#actions div.dropdownCont div.dcWrapper ul li a { font-weight: normal; color: #4679BD; padding: 0; line-height: 22px; }

#actions div.dropdownCont div.dcWrapper ul li a:hover { background: #fff; }

/* editor ================================================================ */
#content fieldset.column { display: block; height: 100%; width: 50%; }

#content .window { width: 100%; border: 1px solid #C0C0C0; box-shadow: inset 0 1px 2px #e4e4e4; }

#content .top { height: 25%; position: absolute; top: -6px; }

#content .bottom { height: 75%; position: absolute; bottom: -6px; }

#content .right { position: absolute; right: -5px; }

#content .left { position: absolute; left: -5px; }

#handler_vertical { width: 8px; height: 100%; padding: 5px 0; cursor: col-resize; position: absolute; top: -5px; left: 0; background: url(../img/handle-v.png) 3px 50% no-repeat; }

.handler_horizontal { width: 100%; height: 8px; padding: 0 1px; cursor: row-resize; position: absolute; top: 0; left: 0; background: url(../img/handle-h.png) 50% 3px no-repeat; }

#content textarea, #result iframe, body.editbox { min-width: 100px; width: 100%; height: 100%; line-height: 15px; font-family: "Monaco", "Andale Mono", "Lucida Console", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace; font-size: 12px; }

/* editors */
#content textarea, #content iframe { background: #fff; box-shadow: inset 0 1px 3px #E4E4E4; border: 0 !important; }

/* resizing sets display to inline, this overrides */
#content textarea { display: block; }

.heyoffline_overlay { z-index: 100; }

/* editor labels */
.window_label { border: solid 1px #F1F1F1; background: #fff; display: inline-block; height: 22px; padding: 0 6px; line-height: 22px; position: absolute; top: 7px; right: 6px; text-align: center; font-size: 12px; color: #777; border-radius: 1px; z-index: 30; }

/* fullscreen */
.fullscreen { background: transparent url(../img/sprites.png) no-repeat -301px -320px; display: block; width: 31px; height: 31px; text-indent: -9999px; z-index: 100; position: absolute; bottom: 6px; right: 14px; cursor: pointer; }

/* we want editors to fill up all the space available */
.CodeMirror-wrapping { width: 100%; height: 100%; }

/* shim to cover iframes when dragging */
.shim { display: none; width: 100%; height: 100%; z-index: 1; position: absolute; top: 0; left: 0; }

/* external resources ================================================================ */
#sidebar #external-resources-form { height: 30px; }

/* place resource button next to input */
#sidebar #external-resources-form #external_resource { padding-right: 0px; width: 160px; float: left; height: 14px; }

/* custom style inputs/buttons */
#sidebar #external-resources-form .submit, #sidebar .submit { border: none; border: solid 1px #EDEDED; float: right; height: 28px; width: 28px; padding: 0; line-height: 31px; text-align: center; outline: none; color: #333; }

#sidebar #external-resources-form .submit:hover, #sidebar .submit:hover { text-decoration: none; }

#sidebar .commonButton { width: 70%; float: none; display: block; line-height: 28px; text-align: center; color: #555; font-size: 12px; margin-top: 5px; }

/* share socially ================================================================ */
#actions .actionCont .dropdownCont #share-social a { text-decoration: none; margin-left: 5px; display: inline; }

#actions .actionCont .dropdownCont #share-social a:hover { text-decoration: underline; }

#share-social span { color: #ccc; }

/* license text ================================================================ */
#documentation-info { margin: 20px 8px 0; color: #9A9A9A; }

#documentation-info p { font-size: 1em; }

#documentation-info a { text-decoration: none; }

#documentation-info a:hover { text-decoration: underline; }

/* style the external resources list ================================================================ */
#sidebar #external_resources_list li { padding: 5px 0 3px; position: relative; }

#sidebar #external_resources_list li .remove { position: absolute; top: 7px; right: 0; display: block; text-indent: -9000em; width: 10px; height: 10px; background: url(../img/remove-resources.png) -10px 50% no-repeat; }

#sidebar #external_resources_list li a.remove:hover { background: url(../img/remove-resources.png) 0 50% no-repeat; }

/* info box ================================================================ */
#info { background: #FEFFE5; padding: 7px; border: 1px solid #EBBA95; font-size: 11px; color: #C98657; margin: 7px 8px 10px; line-height: 130%; text-shadow: 0 1px 0 #FFF7F4; position: relative; display: none; border-radius: 2px; }

#info #info-close { width: 10px; height: 10px; position: absolute; top: 4px; right: 4px; text-indent: -900em; display: block; background: url(../img/info-close.png); overflow: hidden; }

#info a { font-weight: bold; color: #C98657; }

/* modal window ================================================================ */
#modal { display: none; }

.disqus_thread { width: 600px; }

.disqus_thread .modalBody { max-height: 500px; min-height: 250px; overflow: auto; margin-bottom: 0 !important; }

.modal_jslint { width: 500px; }

.modal_kbd { width: 500px; }

.modal_confirmation { width: 400px; }

.modal_jslint code, .modal_Coffee .error, .modal_jslint .evidence { padding: 0 2px; font-family: "Monaco", "Andale Mono", "Lucida Console", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace; font-size: .9em; background: #fffadb; }

.modal_Coffee .error { padding: 5px 10px; }

.modal_jslint #errors p { margin: 2px 0; }

.modal_jslint p.evidence { display: block; margin-bottom: 10px !important; }

.modalWrap { padding: 10px; background: #fff; z-index: 300; font-size: 1em; opacity: 0; box-shadow: 0 5px 50px rgba(0, 0, 0, 0.3); border: solid 1px #ACB3B9; -moz-transition: all 0.2s; /* FF3.6+ */ -webkit-transition: all 0.2s; /* Chrome, Safari */ -o-transition: all 0.2s; /* Opera */ -ms-transition: all 0.2s; /* IE 9 */ transition: all 0.2s; -moz-transform: scale(0.95); /* FF3.6+ */ -webkit-transform: scale(0.95); /* Chrome, Safari */ -o-transform: scale(0.95); /* Opera */ -ms-transform: scale(0.95); /* IE 9 */ transform: scale(0.95); }

.modalWrap.show { opacity: 1; -moz-transform: scale(1); /* FF3.6+ */ -webkit-transform: scale(1); /* Chrome, Safari */ -o-transform: scale(1); /* Opera */ -ms-transform: scale(1); /* IE 9 */ transform: scale(1); }

.modalWrap .modalHeading { position: relative; height: 50px; }

.modalWrap .modalHeading .close { background: url(../img/modal/close.png) 0 0 no-repeat; width: 15px; height: 15px; display: block; position: absolute; top: 8px; right: 0; text-indent: -9000em; cursor: pointer; }

.modalWrap .modalHeading h3 { font-size: 1.6em; padding: 6px 0; cursor: default; }

.modalWrap .modalBody { position: relative; }

.modalWrap .modalBody strong { font-weight: bold; }

legend { display: none; }

.twitterCont { position: absolute; bottom: 65px; left: 8px; display: block; }

.keyActions { position: absolute; bottom: 40px; left: 8px; display: block; padding: 0 0 0 30px; text-decoration: none; }

.keyActions:before { content: '?'; position: absolute; top: -1px; left: 0; display: block; border: solid 1px #ABABAB; padding: 0 8px; border-radius: 2px; font-family: 'Lucida Grande'; font-size: 10px; color: #999; }

.keyActions:hover { text-decoration: underline; }

#kbd li { padding: 10px 0; border-bottom: solid 1px #E6E6E6; }

#kbd li:last-child { padding: 10px 0 0; border-bottom: none; }

#kbd kbd { border: solid 1px #ABABAB; font-size: 10px; font-family: 'Lucida Grande'; padding: 2px 3px; border-radius: 3px; color: #999; }

#kbd span { padding-left: 10px; }

.warningTooltip { position: absolute; bottom: 0; left: 0; background: rgba(255, 234, 147, 0.9); font-size: .85em; line-height: 1.5em; color: #6c5517; width: 100%; z-index: 100; }

.warningTooltip code, .warningTooltip strong { font-weight: bold; }

.warningTooltip li { border-top: solid 1px #eddf97; padding: 5px 8px; }

#job { display: none; border: solid 1px #DFDFDF; margin: 40px 10px; padding: 6px; border-radius: 2px; position: relative; }
#job:before { content: "JSFiddle Job Board:"; position: absolute; top: -18px; left: 0; color: #999; }
#job:hover { text-decoration: none; border: solid 1px #4679bd; }
#job h4 { font-weight: 800; margin-bottom: 7px; }
#job h5 { margin-bottom: 2px; color: #39464e; }
#job p { margin-bottom: 0; color: #39464e; }
‘	ƒ≈∆«_application/javascript_$http://jsfiddle.net/js/beautifier.jsOlbplist00‘klX$versionX$objectsY$archiverT$top Ü†Ø!#)*0123MNOPQRSTUVWXYZ[\]^_`adefU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄÄ ÄÄÄ”$%&'(WNS.base[NS.relativeÄ ÄÄ_$http://jsfiddle.net/js/beautifier.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#AªçàÕ˙W… »”456ALWNS.keysZNS.objects™789:;<=>?@Ä	Ä
ÄÄÄÄÄÄÄÄ™BCDEFGHIJKÄÄÄÄÄÄÄÄÄÄÄZConnection\Content-TypeVServer]Last-ModifiedWExpiresTEtagTDate_Content-Encoding]Cache-Control_Transfer-EncodingZkeep-alive_application/javascriptUnginx_Sat, 16 Mar 2013 08:01:19 GMT_Wed, 16 Sep 2015 05:40:30 GMT_W/"514426cf-11c19"_Wed, 26 Aug 2015 05:40:30 GMTTgzip_max-age=1814400XIdentity“+,bc\NSDictionary¢b/ _application/javascript“+,gh_NSHTTPURLResponse£ij/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—mn_WebResourceResponseÄ    # - 2 7 [ a |  É Ü â å ê ì ö ù † £ ¶ © ´ ≠ Ø ± ≥ ¥ ∂ ∏ ∫ º æ ¿ ¬ … — › ﬂ · „
#),5>@BIQ\gikmoqsuwy{Üàäåéêíîñòöúß¥ª…—÷€Ó¸4:ZzèØ¥∆œ‘·‰È3ASVl             o              nO /*

 Style HTML
---------------

  Written by Nochum Sossonko, (nsossonko@hotmail.com)

  Based on code initially developed by: Einar Lielmanis, <elfz@laacz.lv>
    http://jsbeautifier.org/


  You are free to use this in any way you want, in case you find this useful or working for you.

  Usage:
    style_html(html_source);

    style_html(html_source, options);

  The options are:
    indent_size (default 4)          ‚Äî indentation size,
    indent_char (default space)      ‚Äî character to indent with,
    max_char (default 70)            -  maximum amount of characters per line,
    brace_style (default "collapse") - "collapse" | "expand" | "end-expand"
            put braces on the same line as control statements (default), or put braces on own line (Allman / ANSI style), or just put end braces on own line.
    unformatted (defaults to inline tags) - list of tags, that shouldn't be reformatted
    indent_scripts (default normal)  - "keep"|"separate"|"normal"

    e.g.

    style_html(html_source, {
      'indent_size': 2,
      'indent_char': ' ',
      'max_char': 78,
      'brace_style': 'expand',
      'unformatted': ['a', 'sub', 'sup', 'b', 'i', 'u']
    });
*/

function style_html(html_source, options) {
//Wrapper function to invoke all the necessary constructors and deal with the output.

  var multi_parser,
      indent_size,
      indent_character,
      max_char,
      brace_style,
      unformatted;

  options = options || {};
  indent_size = options.indent_size || 4;
  indent_character = options.indent_char || ' ';
  brace_style = options.brace_style || 'collapse';
  max_char = options.max_char == 0 ? Infinity : options.max_char || 70;
  unformatted = options.unformatted || ['a', 'span', 'bdo', 'em', 'strong', 'dfn', 'code', 'samp', 'kbd', 'var', 'cite', 'abbr', 'acronym', 'q', 'sub', 'sup', 'tt', 'i', 'b', 'big', 'small', 'u', 's', 'strike', 'font', 'ins', 'del', 'pre', 'address', 'dt', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];

  function Parser() {

    this.pos = 0; //Parser position
    this.token = '';
    this.current_mode = 'CONTENT'; //reflects the current Parser mode: TAG/CONTENT
    this.tags = { //An object to hold tags, their position, and their parent-tags, initiated with default values
      parent: 'parent1',
      parentcount: 1,
      parent1: ''
    };
    this.tag_type = '';
    this.token_text = this.last_token = this.last_text = this.token_type = '';

    this.Utils = { //Uilities made available to the various functions
      whitespace: "\n\r\t ".split(''),
      single_token: 'br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?='.split(','), //all the single tags for HTML
      extra_liners: 'head,body,/html'.split(','), //for tags that need a line of whitespace before them
      in_array: function (what, arr) {
        for (var i=0; i<arr.length; i++) {
          if (what === arr[i]) {
            return true;
          }
        }
        return false;
      }
    }

    this.get_content = function () { //function to capture regular content between tags

      var input_char = '',
          content = [],
          space = false; //if a space is needed

      while (this.input.charAt(this.pos) !== '<') {
        if (this.pos >= this.input.length) {
          return content.length?content.join(''):['', 'TK_EOF'];
        }

        input_char = this.input.charAt(this.pos);
        this.pos++;
        this.line_char_count++;

        if (this.Utils.in_array(input_char, this.Utils.whitespace)) {
          if (content.length) {
            space = true;
          }
          this.line_char_count--;
          continue; //don't want to insert unnecessary space
        }
        else if (space) {
          if (this.line_char_count >= this.max_char) { //insert a line when the max_char is reached
            content.push('\n');
            for (var i=0; i<this.indent_level; i++) {
              content.push(this.indent_string);
            }
            this.line_char_count = 0;
          }
          else{
            content.push(' ');
            this.line_char_count++;
          }
          space = false;
        }
        content.push(input_char); //letter at-a-time (or string) inserted to an array
      }
      return content.length?content.join(''):'';
    }

    this.get_contents_to = function (name) { //get the full content of a script or style to pass to js_beautify
      if (this.pos == this.input.length) {
        return ['', 'TK_EOF'];
      }
      var input_char = '';
      var content = '';
      var reg_match = new RegExp('\<\/' + name + '\\s*\>', 'igm');
      reg_match.lastIndex = this.pos;
      var reg_array = reg_match.exec(this.input);
      var end_script = reg_array?reg_array.index:this.input.length; //absolute end of script
      if(this.pos < end_script) { //get everything in between the script tags
        content = this.input.substring(this.pos, end_script);
        this.pos = end_script;
      }
      return content;
    }

    this.record_tag = function (tag){ //function to record a tag and its parent in this.tags Object
      if (this.tags[tag + 'count']) { //check for the existence of this tag type
        this.tags[tag + 'count']++;
        this.tags[tag + this.tags[tag + 'count']] = this.indent_level; //and record the present indent level
      }
      else { //otherwise initialize this tag type
        this.tags[tag + 'count'] = 1;
        this.tags[tag + this.tags[tag + 'count']] = this.indent_level; //and record the present indent level
      }
      this.tags[tag + this.tags[tag + 'count'] + 'parent'] = this.tags.parent; //set the parent (i.e. in the case of a div this.tags.div1parent)
      this.tags.parent = tag + this.tags[tag + 'count']; //and make this the current parent (i.e. in the case of a div 'div1')
    }

    this.retrieve_tag = function (tag) { //function to retrieve the opening tag to the corresponding closer
      if (this.tags[tag + 'count']) { //if the openener is not in the Object we ignore it
        var temp_parent = this.tags.parent; //check to see if it's a closable tag.
        while (temp_parent) { //till we reach '' (the initial value);
          if (tag + this.tags[tag + 'count'] === temp_parent) { //if this is it use it
            break;
          }
          temp_parent = this.tags[temp_parent + 'parent']; //otherwise keep on climbing up the DOM Tree
        }
        if (temp_parent) { //if we caught something
          this.indent_level = this.tags[tag + this.tags[tag + 'count']]; //set the indent_level accordingly
          this.tags.parent = this.tags[temp_parent + 'parent']; //and set the current parent
        }
        delete this.tags[tag + this.tags[tag + 'count'] + 'parent']; //delete the closed tags parent reference...
        delete this.tags[tag + this.tags[tag + 'count']]; //...and the tag itself
        if (this.tags[tag + 'count'] == 1) {
          delete this.tags[tag + 'count'];
        }
        else {
          this.tags[tag + 'count']--;
        }
      }
    }

    this.get_tag = function () { //function to get a full tag and parse its type
      var input_char = '',
          content = [],
          space = false,
          tag_start, tag_end;

      do {
        if (this.pos >= this.input.length) {
          return content.length?content.join(''):['', 'TK_EOF'];
        }

        input_char = this.input.charAt(this.pos);
        this.pos++;
        this.line_char_count++;

        if (this.Utils.in_array(input_char, this.Utils.whitespace)) { //don't want to insert unnecessary space
          space = true;
          this.line_char_count--;
          continue;
        }

        if (input_char === "'" || input_char === '"') {
          if (!content[1] || content[1] !== '!') { //if we're in a comment strings don't get treated specially
            input_char += this.get_unformatted(input_char);
            space = true;
          }
        }

        if (input_char === '=') { //no space before =
          space = false;
        }

        if (content.length && content[content.length-1] !== '=' && input_char !== '>'
            && space) { //no space after = or before >
          if (this.line_char_count >= this.max_char) {
            this.print_newline(false, content);
            this.line_char_count = 0;
          }
          else {
            content.push(' ');
            this.line_char_count++;
          }
          space = false;
        }
        if (input_char === '<') {
            tag_start = this.pos - 1;
        }
        content.push(input_char); //inserts character at-a-time (or string)
      } while (input_char !== '>');

      var tag_complete = content.join('');
      var tag_index;
      if (tag_complete.indexOf(' ') != -1) { //if there's whitespace, thats where the tag name ends
        tag_index = tag_complete.indexOf(' ');
      }
      else { //otherwise go with the tag ending
        tag_index = tag_complete.indexOf('>');
      }
      var tag_check = tag_complete.substring(1, tag_index).toLowerCase();
      if (tag_complete.charAt(tag_complete.length-2) === '/' ||
          this.Utils.in_array(tag_check, this.Utils.single_token)) { //if this tag name is a single tag type (either in the list or has a closing /)
        this.tag_type = 'SINGLE';
      }
      else if (tag_check === 'script') { //for later script handling
        this.record_tag(tag_check);
        this.tag_type = 'SCRIPT';
      }
      else if (tag_check === 'style') { //for future style handling (for now it justs uses get_content)
        this.record_tag(tag_check);
        this.tag_type = 'STYLE';
      }
      else if (this.Utils.in_array(tag_check, unformatted)) { // do not reformat the "unformatted" tags
        var comment = this.get_unformatted('</'+tag_check+'>', tag_complete); //...delegate to get_unformatted function
        content.push(comment);
        // Preserve collapsed whitespace either before or after this tag.
        if (tag_start > 0 && this.Utils.in_array(this.input.charAt(tag_start - 1), this.Utils.whitespace)){
            content.splice(0, 0, this.input.charAt(tag_start - 1));
        }
        tag_end = this.pos - 1;
        if (this.Utils.in_array(this.input.charAt(tag_end + 1), this.Utils.whitespace)){
            content.push(this.input.charAt(tag_end + 1));
        }
        this.tag_type = 'SINGLE';
      }
      else if (tag_check.charAt(0) === '!') { //peek for <!-- comment
        if (tag_check.indexOf('[if') != -1) { //peek for <!--[if conditional comment
          if (tag_complete.indexOf('!IE') != -1) { //this type needs a closing --> so...
            var comment = this.get_unformatted('-->', tag_complete); //...delegate to get_unformatted
            content.push(comment);
          }
          this.tag_type = 'START';
        }
        else if (tag_check.indexOf('[endif') != -1) {//peek for <!--[endif end conditional comment
          this.tag_type = 'END';
          this.unindent();
        }
        else if (tag_check.indexOf('[cdata[') != -1) { //if it's a <[cdata[ comment...
          var comment = this.get_unformatted(']]>', tag_complete); //...delegate to get_unformatted function
          content.push(comment);
          this.tag_type = 'SINGLE'; //<![CDATA[ comments are treated like single tags
        }
        else {
          var comment = this.get_unformatted('-->', tag_complete);
          content.push(comment);
          this.tag_type = 'SINGLE';
        }
      }
      else {
        if (tag_check.charAt(0) === '/') { //this tag is a double tag so check for tag-ending
          this.retrieve_tag(tag_check.substring(1)); //remove it and all ancestors
          this.tag_type = 'END';
        }
        else { //otherwise it's a start-tag
          this.record_tag(tag_check); //push it on the tag stack
          this.tag_type = 'START';
        }
        if (this.Utils.in_array(tag_check, this.Utils.extra_liners)) { //check if this double needs an extra line
          this.print_newline(true, this.output);
        }
      }
      return content.join(''); //returns fully formatted tag
    }

    this.get_unformatted = function (delimiter, orig_tag) { //function to return unformatted content in its entirety

      if (orig_tag && orig_tag.indexOf(delimiter) != -1) {
        return '';
      }
      var input_char = '';
      var content = '';
      var space = true;
      do {

        if (this.pos >= this.input.length) {
          return content;
        }

        input_char = this.input.charAt(this.pos);
        this.pos++

        if (this.Utils.in_array(input_char, this.Utils.whitespace)) {
          if (!space) {
            this.line_char_count--;
            continue;
          }
          if (input_char === '\n' || input_char === '\r') {
            content += '\n';
            /*  Don't change tab indention for unformatted blocks.  If using code for html editing, this will greatly affect <pre> tags if they are specified in the 'unformatted array'
            for (var i=0; i<this.indent_level; i++) {
              content += this.indent_string;
            }
            space = false; //...and make sure other indentation is erased
            */
            this.line_char_count = 0;
            continue;
          }
        }
        content += input_char;
        this.line_char_count++;
        space = true;


      } while (content.indexOf(delimiter) == -1);
      return content;
    }

    this.get_token = function () { //initial handler for token-retrieval
      var token;

      if (this.last_token === 'TK_TAG_SCRIPT' || this.last_token === 'TK_TAG_STYLE') { //check if we need to format javascript
       var type = this.last_token.substr(7)
       token = this.get_contents_to(type);
        if (typeof token !== 'string') {
          return token;
        }
        return [token, 'TK_' + type];
      }
      if (this.current_mode === 'CONTENT') {
        token = this.get_content();
        if (typeof token !== 'string') {
          return token;
        }
        else {
          return [token, 'TK_CONTENT'];
        }
      }

      if (this.current_mode === 'TAG') {
        token = this.get_tag();
        if (typeof token !== 'string') {
          return token;
        }
        else {
          var tag_name_type = 'TK_TAG_' + this.tag_type;
          return [token, tag_name_type];
        }
      }
    }

    this.get_full_indent = function (level) {
      level = this.indent_level + level || 0;
      if (level < 1)
        return '';

      return Array(level + 1).join(this.indent_string);
    }


    this.printer = function (js_source, indent_character, indent_size, max_char, brace_style) { //handles input/output and some other printing functions

      this.input = js_source || ''; //gets the input for the Parser
      this.output = [];
      this.indent_character = indent_character;
      this.indent_string = '';
      this.indent_size = indent_size;
      this.brace_style = brace_style;
      this.indent_level = 0;
      this.max_char = max_char;
      this.line_char_count = 0; //count to see if max_char was exceeded

      for (var i=0; i<this.indent_size; i++) {
        this.indent_string += this.indent_character;
      }

      this.print_newline = function (ignore, arr) {
        this.line_char_count = 0;
        if (!arr || !arr.length) {
          return;
        }
        if (!ignore) { //we might want the extra line
          while (this.Utils.in_array(arr[arr.length-1], this.Utils.whitespace)) {
            arr.pop();
          }
        }
        arr.push('\n');
        for (var i=0; i<this.indent_level; i++) {
          arr.push(this.indent_string);
        }
      }

      this.print_token = function (text) {
        this.output.push(text);
      }

      this.indent = function () {
        this.indent_level++;
      }

      this.unindent = function () {
        if (this.indent_level > 0) {
          this.indent_level--;
        }
      }
    }
    return this;
  }

  /*_____________________--------------------_____________________*/

  multi_parser = new Parser(); //wrapping functions Parser
  multi_parser.printer(html_source, indent_character, indent_size, max_char, brace_style); //initialize starting values

  while (true) {
      var t = multi_parser.get_token();
      multi_parser.token_text = t[0];
      multi_parser.token_type = t[1];

    if (multi_parser.token_type === 'TK_EOF') {
      break;
    }

    switch (multi_parser.token_type) {
      case 'TK_TAG_START':
        multi_parser.print_newline(false, multi_parser.output);
        multi_parser.print_token(multi_parser.token_text);
        multi_parser.indent();
        multi_parser.current_mode = 'CONTENT';
        break;
      case 'TK_TAG_STYLE':
      case 'TK_TAG_SCRIPT':
        multi_parser.print_newline(false, multi_parser.output);
        multi_parser.print_token(multi_parser.token_text);
        multi_parser.current_mode = 'CONTENT';
        break;
      case 'TK_TAG_END':
        //Print new line only if the tag has no content and has child
        if (multi_parser.last_token === 'TK_CONTENT' && multi_parser.last_text === '') {
            var tag_name = multi_parser.token_text.match(/\w+/)[0];
            var tag_extracted_from_last_output = multi_parser.output[multi_parser.output.length -1].match(/<\s*(\w+)/);
            if (tag_extracted_from_last_output === null || tag_extracted_from_last_output[1] !== tag_name)
                multi_parser.print_newline(true, multi_parser.output);
        }
        multi_parser.print_token(multi_parser.token_text);
        multi_parser.current_mode = 'CONTENT';
        break;
      case 'TK_TAG_SINGLE':
        // Don't add a newline before elements that should remain unformatted.
        var tag_check = multi_parser.token_text.match(/^\s*<([a-z]+)/i);
        if (!tag_check || !multi_parser.Utils.in_array(tag_check[1], unformatted)){
            multi_parser.print_newline(false, multi_parser.output);
        }
        multi_parser.print_token(multi_parser.token_text);
        multi_parser.current_mode = 'CONTENT';
        break;
      case 'TK_CONTENT':
        if (multi_parser.token_text !== '') {
          multi_parser.print_token(multi_parser.token_text);
        }
        multi_parser.current_mode = 'TAG';
        break;
      case 'TK_STYLE':
      case 'TK_SCRIPT':
        if (multi_parser.token_text !== '') {
          multi_parser.output.push('\n');
          var text = multi_parser.token_text;
          if (multi_parser.token_type == 'TK_SCRIPT') {
            var _beautifier = typeof js_beautify == 'function' && js_beautify;
          } else if (multi_parser.token_type == 'TK_STYLE') {
            var _beautifier = typeof css_beautify == 'function' && css_beautify;
          }

          if (options.indent_scripts == "keep") {
            var script_indent_level = 0;
          } else if (options.indent_scripts == "separate") {
            var script_indent_level = -multi_parser.indent_level;
          } else {
            var script_indent_level = 1;
          }

          var indentation = multi_parser.get_full_indent(script_indent_level);
          if (_beautifier) {
            // call the Beautifier if avaliable
            text = _beautifier(text.replace(/^\s*/, indentation), options);
          } else {
            // simply indent the string otherwise
            var white = text.match(/^\s*/)[0];
            var _level = white.match(/[^\n\r]*$/)[0].split(multi_parser.indent_string).length - 1;
            var reindent = multi_parser.get_full_indent(script_indent_level -_level);
            text = text.replace(/^\s*/, indentation)
                   .replace(/\r\n|\r|\n/g, '\n' + reindent)
                   .replace(/\s*$/, '');
          }
          if (text) {
            multi_parser.print_token(text);
            multi_parser.print_newline(true, multi_parser.output);
          }
        }
        multi_parser.current_mode = 'TAG';
        break;
    }
    multi_parser.last_token = multi_parser.token_type;
    multi_parser.last_text = multi_parser.token_text;
  }
  return multi_parser.output.join('');
}

/*

 CSS Beautifier
---------------

    Written by Harutyun Amirjanyan, (amirjanyan@gmail.com)

    Based on code initially developed by: Einar Lielmanis, <elfz@laacz.lv>
        http://jsbeautifier.org/


    You are free to use this in any way you want, in case you find this useful or working for you.

    Usage:
        css_beautify(source_text);
        css_beautify(source_text, options);

    The options are:
        indent_size (default 4)          ‚Äî indentation size,
        indent_char (default space)      ‚Äî character to indent with,

    e.g

    css_beautify(css_source_text, {
      'indent_size': 1,
      'indent_char': '\t'
    });
*/

// http://www.w3.org/TR/CSS21/syndata.html#tokenization
// http://www.w3.org/TR/css3-syntax/
function css_beautify(source_text, options) {
    options = options || {};
    var indentSize = options.indent_size || 4;
    var indentCharacter = options.indent_char || ' ';

    // compatibility
    if (typeof indentSize == "string")
        indentSize = parseInt(indentSize);


    // tokenizer
    var whiteRe = /^\s+$/;
    var wordRe = /[\w$\-_]/;

    var pos = -1, ch;
    function next() {
        return ch = source_text.charAt(++pos)
    }
    function peek() {
        return source_text.charAt(pos+1)
    }
    function eatString(comma) {
        var start = pos;
        while(next()){
            if (ch=="\\"){
                next();
                next();
            } else if (ch == comma) {
                break;
            } else if (ch == "\n") {
                break;
            }
        }
        return source_text.substring(start, pos + 1);
    }

    function eatWhitespace() {
        var start = pos;
        while (whiteRe.test(peek()))
            pos++;
        return pos != start;
    }

    function skipWhitespace() {
        var start = pos;
        do{
        }while (whiteRe.test(next()))
        return pos != start + 1;
    }

    function eatComment() {
        var start = pos;
        next();
        while (next()) {
            if (ch == "*" && peek() == "/") {
                pos ++;
                break;
            }
        }

        return source_text.substring(start, pos + 1);
    }


    function lookBack(str, index) {
        return output.slice(-str.length + (index||0), index).join("").toLowerCase() == str;
    }

    // printer
    var indentString = source_text.match(/^[\r\n]*[\t ]*/)[0];
    var singleIndent = Array(indentSize + 1).join(indentCharacter);
    var indentLevel = 0;
    function indent() {
        indentLevel++;
        indentString += singleIndent;
    }
    function outdent() {
        indentLevel--;
        indentString = indentString.slice(0, -indentSize);
    }

    var print = {}
    print["{"] = function(ch) {
        print.singleSpace();
        output.push(ch);
        print.newLine();
    }
    print["}"] = function(ch) {
        print.newLine();
        output.push(ch);
        print.newLine();
    }

    print.newLine = function(keepWhitespace) {
        if (!keepWhitespace)
            while (whiteRe.test(output[output.length - 1]))
                output.pop();

        if (output.length)
            output.push('\n');
        if (indentString)
            output.push(indentString);
    }
    print.singleSpace = function() {
        if (output.length && !whiteRe.test(output[output.length - 1]))
            output.push(' ');
    }
    var output = [];
    if (indentString)
        output.push(indentString);
    /*_____________________--------------------_____________________*/

    while(true) {
        var isAfterSpace = skipWhitespace();

        if (!ch)
            break;

        if (ch == '{') {
            indent();
            print["{"](ch);
        } else if (ch == '}') {
            outdent();
            print["}"](ch);
        } else if (ch == '"' || ch == '\'') {
            output.push(eatString(ch))
        } else if (ch == ';') {
            output.push(ch, '\n', indentString);
        } else if (ch == '/' && peek() == '*') { // comment
            print.newLine();
            output.push(eatComment(), "\n", indentString);
        } else if (ch == '(') { // may be a url
            if (lookBack("url", -1)) {
              output.push(ch);
              eatWhitespace();
              if (next()) {
                if (ch != ')' && ch != '"' && ch != '\'')
                    output.push(eatString(')'));
                else
                    pos--;
              }
            } else {
              if (isAfterSpace)
                  print.singleSpace();
              output.push(ch);
              eatWhitespace();
            }
        } else if (ch == ')') {
            output.push(ch);
        } else if (ch == ',') {
            eatWhitespace();
            output.push(ch);
            print.singleSpace();
        } else if (ch == ']') {
            output.push(ch);
        }  else if (ch == '[' || ch == '=') { // no whitespace before or after
            eatWhitespace();
            output.push(ch);
        } else {
            if (isAfterSpace)
                print.singleSpace();

            output.push(ch);
        }
    }


    var sweetCode = output.join('').replace(/[\n ]+$/, '');
    return sweetCode;
}


if (typeof exports !== "undefined")
    exports.css_beautify = css_beautify;

/*jslint onevar: false, plusplus: false */
/*jshint curly:true, eqeqeq:true, laxbreak:true, noempty:false */
/*

 JS Beautifier
---------------


  Written by Einar Lielmanis, <einar@jsbeautifier.org>
      http://jsbeautifier.org/

  Originally converted to javascript by Vital, <vital76@gmail.com>
  "End braces on own line" added by Chris J. Shull, <chrisjshull@gmail.com>

  You are free to use this in any way you want, in case you find this useful or working for you.

  Usage:
    js_beautify(js_source_text);
    js_beautify(js_source_text, options);

  The options are:
    indent_size (default 4)          - indentation size,
    indent_char (default space)      - character to indent with,
    preserve_newlines (default true) - whether existing line breaks should be preserved,
    max_preserve_newlines (default unlimited) - maximum number of line breaks to be preserved in one chunk,

    jslint_happy (default false) - if true, then jslint-stricter mode is enforced.

            jslint_happy   !jslint_happy
            ---------------------------------
             function ()      function()

    brace_style (default "collapse") - "collapse" | "expand" | "end-expand" | "expand-strict"
            put braces on the same line as control statements (default), or put braces on own line (Allman / ANSI style), or just put end braces on own line.

            expand-strict: put brace on own line even in such cases:

                var a =
                {
                    a: 5,
                    b: 6
                }
            This mode may break your scripts - e.g "return { a: 1 }" will be broken into two lines, so beware.

    space_before_conditional (default true) - should the space before conditional statement be added, "if(true)" vs "if (true)",

    unescape_strings (default false) - should printable characters in strings encoded in \xNN notation be unescaped, "example" vs "\x65\x78\x61\x6d\x70\x6c\x65"

    e.g

    js_beautify(js_source_text, {
      'indent_size': 1,
      'indent_char': '\t'
    });


*/



function js_beautify(js_source_text, options) {

    var input, output, token_text, last_type, last_text, last_last_text, last_word, flags, flag_store, indent_string;
    var whitespace, wordchar, punct, parser_pos, line_starters, digits;
    var prefix, token_type, do_block_just_closed;
    var wanted_newline, just_added_newline, n_newlines;
    var preindent_string = '';


    // Some interpreters have unexpected results with foo = baz || bar;
    options = options ? options : {};

    var opt_brace_style;

    // compatibility
    if (options.space_after_anon_function !== undefined && options.jslint_happy === undefined) {
        options.jslint_happy = options.space_after_anon_function;
    }
    if (options.braces_on_own_line !== undefined) { //graceful handling of deprecated option
        opt_brace_style = options.braces_on_own_line ? "expand" : "collapse";
    }
    opt_brace_style = options.brace_style ? options.brace_style : (opt_brace_style ? opt_brace_style : "collapse");


    var opt_indent_size = options.indent_size ? options.indent_size : 4,
        opt_indent_char = options.indent_char ? options.indent_char : ' ',
        opt_preserve_newlines = typeof options.preserve_newlines === 'undefined' ? true : options.preserve_newlines,
        opt_break_chained_methods = typeof options.break_chained_methods === 'undefined' ? false : options.break_chained_methods,
        opt_max_preserve_newlines = typeof options.max_preserve_newlines === 'undefined' ? false : options.max_preserve_newlines,
        opt_jslint_happy = options.jslint_happy === 'undefined' ? false : options.jslint_happy,
        opt_keep_array_indentation = typeof options.keep_array_indentation === 'undefined' ? false : options.keep_array_indentation,
        opt_space_before_conditional = typeof options.space_before_conditional === 'undefined' ? true : options.space_before_conditional,
        opt_unescape_strings = typeof options.unescape_strings === 'undefined' ? false : options.unescape_strings;

    just_added_newline = false;

    // cache the source's length.
    var input_length = js_source_text.length;

    function trim_output(eat_newlines) {
        eat_newlines = typeof eat_newlines === 'undefined' ? false : eat_newlines;
        while (output.length && (output[output.length - 1] === ' '
            || output[output.length - 1] === indent_string
            || output[output.length - 1] === preindent_string
            || (eat_newlines && (output[output.length - 1] === '\n' || output[output.length - 1] === '\r')))) {
            output.pop();
        }
    }

    function trim(s) {
        return s.replace(/^\s\s*|\s\s*$/, '');
    }

    // we could use just string.split, but
    // IE doesn't like returning empty strings
    function split_newlines(s) {
        //return s.split(/\x0d\x0a|\x0a/);

        s = s.replace(/\x0d/g, '');
        var out = [],
            idx = s.indexOf("\n");
        while (idx !== -1) {
            out.push(s.substring(0, idx));
            s = s.substring(idx + 1);
            idx = s.indexOf("\n");
        }
        if (s.length) {
            out.push(s);
        }
        return out;
    }

    function force_newline() {
        var old_keep_array_indentation = opt_keep_array_indentation;
        opt_keep_array_indentation = false;
        print_newline();
        opt_keep_array_indentation = old_keep_array_indentation;
    }

    function print_newline(ignore_repeated, reset_statement_flags) {

        flags.eat_next_space = false;
        if (opt_keep_array_indentation && is_array(flags.mode)) {
            return;
        }

        ignore_repeated = typeof ignore_repeated === 'undefined' ? true : ignore_repeated;
        reset_statement_flags = typeof reset_statement_flags === 'undefined' ? true : reset_statement_flags;

        if (reset_statement_flags) {
            flags.if_line = false;
            flags.chain_extra_indentation = 0;
        }

        trim_output();

        if (!output.length) {
            return; // no newline on start of file
        }

        if (output[output.length - 1] !== "\n" || !ignore_repeated) {
            just_added_newline = true;
            output.push("\n");
        }
        if (preindent_string) {
            output.push(preindent_string);
        }
        for (var i = 0; i < flags.indentation_level + flags.chain_extra_indentation; i += 1) {
            output.push(indent_string);
        }
        if (flags.var_line && flags.var_line_reindented) {
            output.push(indent_string); // skip space-stuffing, if indenting with a tab
        }
    }



    function print_single_space() {

        if (last_type === 'TK_COMMENT') {
            return print_newline();
        }
        if (flags.eat_next_space) {
            flags.eat_next_space = false;
            return;
        }
        var last_output = ' ';
        if (output.length) {
            last_output = output[output.length - 1];
        }
        if (last_output !== ' ' && last_output !== '\n' && last_output !== indent_string) { // prevent occassional duplicate space
            output.push(' ');
        }
    }


    function print_token() {
        just_added_newline = false;
        flags.eat_next_space = false;
        output.push(token_text);
    }

    function indent() {
        flags.indentation_level += 1;
    }


    function remove_indent() {
        if (output.length && output[output.length - 1] === indent_string) {
            output.pop();
        }
    }

    function set_mode(mode) {
        if (flags) {
            flag_store.push(flags);
        }
        flags = {
            previous_mode: flags ? flags.mode : 'BLOCK',
            mode: mode,
            var_line: false,
            var_line_tainted: false,
            var_line_reindented: false,
            in_html_comment: false,
            if_line: false,
            chain_extra_indentation: 0,
            in_case_statement: false, // switch(..){ INSIDE HERE }
            in_case: false, // we're on the exact line with "case 0:"
            case_body: false, // the indented case-action block
            eat_next_space: false,
            indentation_level: (flags ? flags.indentation_level + ((flags.var_line && flags.var_line_reindented) ? 1 : 0) : 0),
            ternary_depth: 0
        };
    }

    function is_array(mode) {
        return mode === '[EXPRESSION]' || mode === '[INDENTED-EXPRESSION]';
    }

    function is_expression(mode) {
        return in_array(mode, ['[EXPRESSION]', '(EXPRESSION)', '(FOR-EXPRESSION)', '(COND-EXPRESSION)']);
    }

    function restore_mode() {
        do_block_just_closed = flags.mode === 'DO_BLOCK';
        if (flag_store.length > 0) {
            var mode = flags.mode;
            flags = flag_store.pop();
            flags.previous_mode = mode;
        }
    }

    function all_lines_start_with(lines, c) {
        for (var i = 0; i < lines.length; i++) {
            var line = trim(lines[i]);
            if (line.charAt(0) !== c) {
                return false;
            }
        }
        return true;
    }

    function is_special_word(word) {
        return in_array(word, ['case', 'return', 'do', 'if', 'throw', 'else']);
    }

    function in_array(what, arr) {
        for (var i = 0; i < arr.length; i += 1) {
            if (arr[i] === what) {
                return true;
            }
        }
        return false;
    }

    function look_up(exclude) {
        var local_pos = parser_pos;
        var c = input.charAt(local_pos);
        while (in_array(c, whitespace) && c !== exclude) {
            local_pos++;
            if (local_pos >= input_length) {
                return 0;
            }
            c = input.charAt(local_pos);
        }
        return c;
    }

    function get_next_token() {
        var i;
        var resulting_string;

        n_newlines = 0;

        if (parser_pos >= input_length) {
            return ['', 'TK_EOF'];
        }

        wanted_newline = false;

        var c = input.charAt(parser_pos);
        parser_pos += 1;


        var keep_whitespace = opt_keep_array_indentation && is_array(flags.mode);

        if (keep_whitespace) {

            var whitespace_count = 0;

            while (in_array(c, whitespace)) {

                if (c === "\n") {
                    trim_output();
                    output.push("\n");
                    just_added_newline = true;
                    whitespace_count = 0;
                } else {
                    if (c === '\t') {
                        whitespace_count += 4;
                    } else if (c === '\r') {
                        // nothing
                    } else {
                        whitespace_count += 1;
                    }
                }

                if (parser_pos >= input_length) {
                    return ['', 'TK_EOF'];
                }

                c = input.charAt(parser_pos);
                parser_pos += 1;

            }

            if (just_added_newline) {
                for (i = 0; i < whitespace_count; i++) {
                    output.push(' ');
                }
            }

        } else {
            while (in_array(c, whitespace)) {

                if (c === "\n") {
                    n_newlines += ((opt_max_preserve_newlines) ? (n_newlines <= opt_max_preserve_newlines) ? 1 : 0 : 1);
                }


                if (parser_pos >= input_length) {
                    return ['', 'TK_EOF'];
                }

                c = input.charAt(parser_pos);
                parser_pos += 1;

            }

            if (opt_preserve_newlines) {
                if (n_newlines > 1) {
                    for (i = 0; i < n_newlines; i += 1) {
                        print_newline(i === 0);
                        just_added_newline = true;
                    }
                }
            }
            wanted_newline = n_newlines > 0;
        }


        if (in_array(c, wordchar)) {
            if (parser_pos < input_length) {
                while (in_array(input.charAt(parser_pos), wordchar)) {
                    c += input.charAt(parser_pos);
                    parser_pos += 1;
                    if (parser_pos === input_length) {
                        break;
                    }
                }
            }

            // small and surprisingly unugly hack for 1E-10 representation
            if (parser_pos !== input_length && c.match(/^[0-9]+[Ee]$/) && (input.charAt(parser_pos) === '-' || input.charAt(parser_pos) === '+')) {

                var sign = input.charAt(parser_pos);
                parser_pos += 1;

                var t = get_next_token();
                c += sign + t[0];
                return [c, 'TK_WORD'];
            }

            if (c === 'in') { // hack for 'in' operator
                return [c, 'TK_OPERATOR'];
            }
            if (wanted_newline && last_type !== 'TK_OPERATOR'
                && last_type !== 'TK_EQUALS'
                && !flags.if_line && (opt_preserve_newlines || last_text !== 'var')) {
                print_newline();
            }
            return [c, 'TK_WORD'];
        }

        if (c === '(' || c === '[') {
            return [c, 'TK_START_EXPR'];
        }

        if (c === ')' || c === ']') {
            return [c, 'TK_END_EXPR'];
        }

        if (c === '{') {
            return [c, 'TK_START_BLOCK'];
        }

        if (c === '}') {
            return [c, 'TK_END_BLOCK'];
        }

        if (c === ';') {
            return [c, 'TK_SEMICOLON'];
        }

        if (c === '/') {
            var comment = '';
            // peek for comment /* ... */
            var inline_comment = true;
            if (input.charAt(parser_pos) === '*') {
                parser_pos += 1;
                if (parser_pos < input_length) {
                    while (parser_pos < input_length &&
                        ! (input.charAt(parser_pos) === '*' && input.charAt(parser_pos + 1) && input.charAt(parser_pos + 1) === '/')) {
                        c = input.charAt(parser_pos);
                        comment += c;
                        if (c === "\n" || c === "\r") {
                            inline_comment = false;
                        }
                        parser_pos += 1;
                        if (parser_pos >= input_length) {
                            break;
                        }
                    }
                }
                parser_pos += 2;
                if (inline_comment && n_newlines === 0) {
                    return ['/*' + comment + '*/', 'TK_INLINE_COMMENT'];
                } else {
                    return ['/*' + comment + '*/', 'TK_BLOCK_COMMENT'];
                }
            }
            // peek for comment // ...
            if (input.charAt(parser_pos) === '/') {
                comment = c;
                while (input.charAt(parser_pos) !== '\r' && input.charAt(parser_pos) !== '\n') {
                    comment += input.charAt(parser_pos);
                    parser_pos += 1;
                    if (parser_pos >= input_length) {
                        break;
                    }
                }
                if (wanted_newline) {
                    print_newline();
                }
                return [comment, 'TK_COMMENT'];
            }

        }

        if (c === "'" || // string
        c === '"' || // string
        (c === '/' &&
            ((last_type === 'TK_WORD' && is_special_word(last_text)) ||
                (last_text === ')' && in_array(flags.previous_mode, ['(COND-EXPRESSION)', '(FOR-EXPRESSION)'])) ||
                (last_type === 'TK_COMMA' || last_type === 'TK_COMMENT' || last_type === 'TK_START_EXPR' || last_type === 'TK_START_BLOCK' || last_type === 'TK_END_BLOCK' || last_type === 'TK_OPERATOR' || last_type === 'TK_EQUALS' || last_type === 'TK_EOF' || last_type === 'TK_SEMICOLON')))) { // regexp
            var sep = c;
            var esc = false;
            var esc1 = 0;
            var esc2 = 0;
            resulting_string = c;

            if (parser_pos < input_length) {
                if (sep === '/') {
                    //
                    // handle regexp separately...
                    //
                    var in_char_class = false;
                    while (esc || in_char_class || input.charAt(parser_pos) !== sep) {
                        resulting_string += input.charAt(parser_pos);
                        if (!esc) {
                            esc = input.charAt(parser_pos) === '\\';
                            if (input.charAt(parser_pos) === '[') {
                                in_char_class = true;
                            } else if (input.charAt(parser_pos) === ']') {
                                in_char_class = false;
                            }
                        } else {
                            esc = false;
                        }
                        parser_pos += 1;
                        if (parser_pos >= input_length) {
                            // incomplete string/rexp when end-of-file reached.
                            // bail out with what had been received so far.
                            return [resulting_string, 'TK_STRING'];
                        }
                    }

                } else {
                    //
                    // and handle string also separately
                    //
                    while (esc || input.charAt(parser_pos) !== sep) {
                        resulting_string += input.charAt(parser_pos);
                        if (esc1 && esc1 >= esc2) {
                            esc1 = parseInt(resulting_string.substr(-esc2), 16);
                            if (esc1 && esc1 >= 0x20 && esc1 <= 0x7e) {
                                esc1 = String.fromCharCode(esc1);
                                resulting_string = resulting_string.substr(0, resulting_string.length - esc2 - 2) + (((esc1 === sep) || (esc1 === '\\')) ? '\\' : '') + esc1;
                            }
                            esc1 = 0;
                        }
                        if (esc1) {
                            esc1++;
                        } else if (!esc) {
                            esc = input.charAt(parser_pos) === '\\';
                        } else {
                            esc = false;
                            if (opt_unescape_strings) {
                                if (input.charAt(parser_pos) === 'x') {
                                    esc1++;
                                    esc2 = 2;
                                } else if (input.charAt(parser_pos) === 'u') {
                                    esc1++;
                                    esc2 = 4;
                                }
                            }
                        }
                        parser_pos += 1;
                        if (parser_pos >= input_length) {
                            // incomplete string/rexp when end-of-file reached.
                            // bail out with what had been received so far.
                            return [resulting_string, 'TK_STRING'];
                        }
                    }
                }



            }

            parser_pos += 1;

            resulting_string += sep;

            if (sep === '/') {
                // regexps may have modifiers /regexp/MOD , so fetch those, too
                while (parser_pos < input_length && in_array(input.charAt(parser_pos), wordchar)) {
                    resulting_string += input.charAt(parser_pos);
                    parser_pos += 1;
                }
            }
            return [resulting_string, 'TK_STRING'];
        }

        if (c === '#') {


            if (output.length === 0 && input.charAt(parser_pos) === '!') {
                // shebang
                resulting_string = c;
                while (parser_pos < input_length && c !== '\n') {
                    c = input.charAt(parser_pos);
                    resulting_string += c;
                    parser_pos += 1;
                }
                output.push(trim(resulting_string) + '\n');
                print_newline();
                return get_next_token();
            }



            // Spidermonkey-specific sharp variables for circular references
            // https://developer.mozilla.org/En/Sharp_variables_in_JavaScript
            // http://mxr.mozilla.org/mozilla-central/source/js/src/jsscan.cpp around line 1935
            var sharp = '#';
            if (parser_pos < input_length && in_array(input.charAt(parser_pos), digits)) {
                do {
                    c = input.charAt(parser_pos);
                    sharp += c;
                    parser_pos += 1;
                } while (parser_pos < input_length && c !== '#' && c !== '=');
                if (c === '#') {
                    //
                } else if (input.charAt(parser_pos) === '[' && input.charAt(parser_pos + 1) === ']') {
                    sharp += '[]';
                    parser_pos += 2;
                } else if (input.charAt(parser_pos) === '{' && input.charAt(parser_pos + 1) === '}') {
                    sharp += '{}';
                    parser_pos += 2;
                }
                return [sharp, 'TK_WORD'];
            }
        }

        if (c === '<' && input.substring(parser_pos - 1, parser_pos + 3) === '<!--') {
            parser_pos += 3;
            c = '<!--';
            while (input.charAt(parser_pos) !== '\n' && parser_pos < input_length) {
                c += input.charAt(parser_pos);
                parser_pos++;
            }
            flags.in_html_comment = true;
            return [c, 'TK_COMMENT'];
        }

        if (c === '-' && flags.in_html_comment && input.substring(parser_pos - 1, parser_pos + 2) === '-->') {
            flags.in_html_comment = false;
            parser_pos += 2;
            if (wanted_newline) {
                print_newline();
            }
            return ['-->', 'TK_COMMENT'];
        }

        if (c === '.') {
            return [c, 'TK_DOT'];
        }

        if (in_array(c, punct)) {
            while (parser_pos < input_length && in_array(c + input.charAt(parser_pos), punct)) {
                c += input.charAt(parser_pos);
                parser_pos += 1;
                if (parser_pos >= input_length) {
                    break;
                }
            }

            if (c === ',') {
                return [c, 'TK_COMMA'];
            } else if (c === '=') {
                return [c, 'TK_EQUALS'];
            } else {
                return [c, 'TK_OPERATOR'];
            }
        }

        return [c, 'TK_UNKNOWN'];
    }

    //----------------------------------
    indent_string = '';
    while (opt_indent_size > 0) {
        indent_string += opt_indent_char;
        opt_indent_size -= 1;
    }

    while (js_source_text && (js_source_text.charAt(0) === ' ' || js_source_text.charAt(0) === '\t')) {
        preindent_string += js_source_text.charAt(0);
        js_source_text = js_source_text.substring(1);
    }
    input = js_source_text;

    last_word = ''; // last 'TK_WORD' passed
    last_type = 'TK_START_EXPR'; // last token type
    last_text = ''; // last token text
    last_last_text = ''; // pre-last token text
    output = [];

    do_block_just_closed = false;

    whitespace = "\n\r\t ".split('');
    wordchar = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$'.split('');
    digits = '0123456789'.split('');

    punct = '+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::';
    punct += ' <%= <% %> <?= <? ?>'; // try to be a good boy and try not to break the markup language identifiers
    punct = punct.split(' ');

    // words which should always start on new line.
    line_starters = 'continue,try,throw,return,var,if,switch,case,default,for,while,break,function'.split(',');

    // states showing if we are currently in expression (i.e. "if" case) - 'EXPRESSION', or in usual block (like, procedure), 'BLOCK'.
    // some formatting depends on that.
    flag_store = [];
    set_mode('BLOCK');

    parser_pos = 0;
    while (true) {
        var t = get_next_token();
        token_text = t[0];
        token_type = t[1];
        if (token_type === 'TK_EOF') {
            break;
        }

        switch (token_type) {

        case 'TK_START_EXPR':

            if (token_text === '[') {

                if (last_type === 'TK_WORD' || last_text === ')') {
                    // this is array index specifier, break immediately
                    // a[x], fn()[x]
                    if (in_array(last_text, line_starters)) {
                        print_single_space();
                    }
                    set_mode('(EXPRESSION)');
                    print_token();
                    break;
                }

                if (flags.mode === '[EXPRESSION]' || flags.mode === '[INDENTED-EXPRESSION]') {
                    if (last_last_text === ']' && last_text === ',') {
                        // ], [ goes to new line
                        if (flags.mode === '[EXPRESSION]') {
                            flags.mode = '[INDENTED-EXPRESSION]';
                            if (!opt_keep_array_indentation) {
                                indent();
                            }
                        }
                        set_mode('[EXPRESSION]');
                        if (!opt_keep_array_indentation) {
                            print_newline();
                        }
                    } else if (last_text === '[') {
                        if (flags.mode === '[EXPRESSION]') {
                            flags.mode = '[INDENTED-EXPRESSION]';
                            if (!opt_keep_array_indentation) {
                                indent();
                            }
                        }
                        set_mode('[EXPRESSION]');

                        if (!opt_keep_array_indentation) {
                            print_newline();
                        }
                    } else {
                        set_mode('[EXPRESSION]');
                    }
                } else {
                    set_mode('[EXPRESSION]');
                }



            } else {
                if (last_word === 'for') {
                    set_mode('(FOR-EXPRESSION)');
                } else if (in_array(last_word, ['if', 'while'])) {
                    set_mode('(COND-EXPRESSION)');
                } else {
                    set_mode('(EXPRESSION)');
                }
            }

            if (last_text === ';' || last_type === 'TK_START_BLOCK') {
                print_newline();
            } else if (last_type === 'TK_END_EXPR' || last_type === 'TK_START_EXPR' || last_type === 'TK_END_BLOCK' || last_text === '.') {
                if (wanted_newline) {
                    print_newline();
                }
                // do nothing on (( and )( and ][ and ]( and .(
            } else if (last_type !== 'TK_WORD' && last_type !== 'TK_OPERATOR') {
                print_single_space();
            } else if (last_word === 'function' || last_word === 'typeof') {
                // function() vs function ()
                if (opt_jslint_happy) {
                    print_single_space();
                }
            } else if (in_array(last_text, line_starters) || last_text === 'catch') {
                if (opt_space_before_conditional) {
                    print_single_space();
                }
            }
            print_token();

            break;

        case 'TK_DOT':

            if (is_special_word(last_text)) {
                print_single_space();
            } else if (last_text === ')') {
                if (opt_break_chained_methods || wanted_newline) {
                    flags.chain_extra_indentation = 1;
                    print_newline(true /* ignore_repeated */, false /* reset_statement_flags */);
                }
            }

            print_token();
            break;

        case 'TK_END_EXPR':
            if (token_text === ']') {
                if (opt_keep_array_indentation) {
                    if (last_text === '}') {
                        // trim_output();
                        // print_newline(true);
                        remove_indent();
                        print_token();
                        restore_mode();
                        break;
                    }
                } else {
                    if (flags.mode === '[INDENTED-EXPRESSION]') {
                        if (last_text === ']') {
                            restore_mode();
                            print_newline();
                            print_token();
                            break;
                        }
                    }
                }
            }
            restore_mode();
            print_token();
            break;

        case 'TK_START_BLOCK':

            if (last_word === 'do') {
                set_mode('DO_BLOCK');
            } else {
                set_mode('BLOCK');
            }
            if (opt_brace_style === "expand" || opt_brace_style === "expand-strict") {
                var empty_braces = false;
                if (opt_brace_style === "expand-strict") {
                    empty_braces = (look_up() === '}');
                    if (!empty_braces) {
                        print_newline(true);
                    }
                } else {
                    if (last_type !== 'TK_OPERATOR') {
                        if (last_text === '=' || (is_special_word(last_text) && last_text !== 'else')) {
                            print_single_space();
                        } else {
                            print_newline(true);
                        }
                    }
                }
                print_token();
                if (!empty_braces) {
                    indent();
                }
            } else {
                if (last_type !== 'TK_OPERATOR' && last_type !== 'TK_START_EXPR') {
                    if (last_type === 'TK_START_BLOCK') {
                        print_newline();
                    } else {
                        print_single_space();
                    }
                } else {
                    // if TK_OPERATOR or TK_START_EXPR
                    if (is_array(flags.previous_mode) && last_text === ',') {
                        if (last_last_text === '}') {
                            // }, { in array context
                            print_single_space();
                        } else {
                            print_newline(); // [a, b, c, {
                        }
                    }
                }
                indent();
                print_token();
            }

            break;

        case 'TK_END_BLOCK':
            restore_mode();
            if (opt_brace_style === "expand" || opt_brace_style === "expand-strict") {
                if (last_text !== '{') {
                    print_newline();
                }
                print_token();
            } else {
                if (last_type === 'TK_START_BLOCK') {
                    // nothing
                    if (just_added_newline) {
                        remove_indent();
                    } else {
                        // {}
                        trim_output();
                    }
                } else {
                    if (is_array(flags.mode) && opt_keep_array_indentation) {
                        // we REALLY need a newline here, but newliner would skip that
                        opt_keep_array_indentation = false;
                        print_newline();
                        opt_keep_array_indentation = true;

                    } else {
                        print_newline();
                    }
                }
                print_token();
            }
            break;

        case 'TK_WORD':

            // no, it's not you. even I have problems understanding how this works
            // and what does what.
            if (do_block_just_closed) {
                // do {} ## while ()
                print_single_space();
                print_token();
                print_single_space();
                do_block_just_closed = false;
                break;
            }

            prefix = 'NONE';

            if (token_text === 'function') {
                if (flags.var_line && last_type !== 'TK_EQUALS' ) {
                    flags.var_line_reindented = true;
                }
                if ((just_added_newline || last_text === ';') && last_text !== '{'
                && last_type !== 'TK_BLOCK_COMMENT' && last_type !== 'TK_COMMENT') {
                    // make sure there is a nice clean space of at least one blank line
                    // before a new function definition
                    n_newlines = just_added_newline ? n_newlines : 0;
                    if (!opt_preserve_newlines) {
                        n_newlines = 1;
                    }

                    for (var i = 0; i < 2 - n_newlines; i++) {
                        print_newline(false);
                    }
                }
                if (last_type === 'TK_WORD') {
                    if (last_text === 'get' || last_text === 'set' || last_text === 'new' || last_text === 'return') {
                        print_single_space();
                    } else {
                        print_newline();
                    }
                } else if (last_type === 'TK_OPERATOR' || last_text === '=') {
                    // foo = function
                    print_single_space();
                } else if (is_expression(flags.mode)) {
                    // print nothing
                } else {
                    print_newline();
                }

                print_token();
                last_word = token_text;
                break;
            }

            if (token_text === 'case' || (token_text === 'default' && flags.in_case_statement)) {
                print_newline();
                if (flags.case_body) {
                    // switch cases following one another
                    flags.indentation_level--;
                    flags.case_body = false;
                    remove_indent();
                }
                print_token();
                flags.in_case = true;
                flags.in_case_statement = true;
                break;
            }

            if (last_type === 'TK_END_BLOCK') {

                if (!in_array(token_text.toLowerCase(), ['else', 'catch', 'finally'])) {
                    prefix = 'NEWLINE';
                } else {
                    if (opt_brace_style === "expand" || opt_brace_style === "end-expand" || opt_brace_style === "expand-strict") {
                        prefix = 'NEWLINE';
                    } else {
                        prefix = 'SPACE';
                        print_single_space();
                    }
                }
            } else if (last_type === 'TK_SEMICOLON' && (flags.mode === 'BLOCK' || flags.mode === 'DO_BLOCK')) {
                prefix = 'NEWLINE';
            } else if (last_type === 'TK_SEMICOLON' && is_expression(flags.mode)) {
                prefix = 'SPACE';
            } else if (last_type === 'TK_STRING') {
                prefix = 'NEWLINE';
            } else if (last_type === 'TK_WORD') {
                if (last_text === 'else') {
                    // eat newlines between ...else *** some_op...
                    // won't preserve extra newlines in this place (if any), but don't care that much
                    trim_output(true);
                }
                prefix = 'SPACE';
            } else if (last_type === 'TK_START_BLOCK') {
                prefix = 'NEWLINE';
            } else if (last_type === 'TK_END_EXPR') {
                print_single_space();
                prefix = 'NEWLINE';
            }

            if (in_array(token_text, line_starters) && last_text !== ')') {
                if (last_text === 'else') {
                    prefix = 'SPACE';
                } else {
                    prefix = 'NEWLINE';
                }

            }

            if (flags.if_line && last_type === 'TK_END_EXPR') {
                flags.if_line = false;
            }
            if (in_array(token_text.toLowerCase(), ['else', 'catch', 'finally'])) {
                if (last_type !== 'TK_END_BLOCK' || opt_brace_style === "expand" || opt_brace_style === "end-expand" || opt_brace_style === "expand-strict") {
                    print_newline();
                } else {
                    trim_output(true);
                    print_single_space();
                }
            } else if (prefix === 'NEWLINE') {
                if (is_special_word(last_text)) {
                    // no newline between 'return nnn'
                    print_single_space();
                } else if (last_type !== 'TK_END_EXPR') {
                    if ((last_type !== 'TK_START_EXPR' || token_text !== 'var') && last_text !== ':') {
                        // no need to force newline on 'var': for (var x = 0...)
                        if (token_text === 'if' && last_word === 'else' && last_text !== '{') {
                            // no newline for } else if {
                            print_single_space();
                        } else {
                            flags.var_line = false;
                            flags.var_line_reindented = false;
                            print_newline();
                        }
                    }
                } else if (in_array(token_text, line_starters) && last_text !== ')') {
                    flags.var_line = false;
                    flags.var_line_reindented = false;
                    print_newline();
                }
            } else if (is_array(flags.mode) && last_text === ',' && last_last_text === '}') {
                print_newline(); // }, in lists get a newline treatment
            } else if (prefix === 'SPACE') {
                print_single_space();
            }
            print_token();
            last_word = token_text;

            if (token_text === 'var') {
                flags.var_line = true;
                flags.var_line_reindented = false;
                flags.var_line_tainted = false;
            }

            if (token_text === 'if') {
                flags.if_line = true;
            }
            if (token_text === 'else') {
                flags.if_line = false;
            }

            break;

        case 'TK_SEMICOLON':

            print_token();
            flags.var_line = false;
            flags.var_line_reindented = false;
            if (flags.mode === 'OBJECT') {
                // OBJECT mode is weird and doesn't get reset too well.
                flags.mode = 'BLOCK';
            }
            break;

        case 'TK_STRING':

            if (last_type === 'TK_END_EXPR' && in_array(flags.previous_mode, ['(COND-EXPRESSION)', '(FOR-EXPRESSION)'])) {
                print_single_space();
            } else if (last_type === 'TK_COMMENT' || last_type === 'TK_STRING' || last_type === 'TK_START_BLOCK' || last_type === 'TK_END_BLOCK' || last_type === 'TK_SEMICOLON') {
                print_newline();
            } else if (last_type === 'TK_WORD') {
                print_single_space();
            } else {
                if (opt_preserve_newlines && wanted_newline) {
                    print_newline();
                    output.push(indent_string);
                }
            }
            print_token();
            break;

        case 'TK_EQUALS':
            if (flags.var_line) {
                // just got an '=' in a var-line, different formatting/line-breaking, etc will now be done
                flags.var_line_tainted = true;
            }
            print_single_space();
            print_token();
            print_single_space();
            break;

        case 'TK_COMMA':
            if (flags.var_line) {
                if (is_expression(flags.mode) || last_type === 'TK_END_BLOCK' ) {
                    // do not break on comma, for(var a = 1, b = 2)
                    flags.var_line_tainted = false;
                }
                if (flags.var_line_tainted) {
                    print_token();
                    flags.var_line_reindented = true;
                    flags.var_line_tainted = false;
                    print_newline();
                    break;
                } else {
                    flags.var_line_tainted = false;
                }

                print_token();
                print_single_space();
                break;
            }

            if (last_type === 'TK_COMMENT') {
                print_newline();
            }

            if (last_type === 'TK_END_BLOCK' && flags.mode !== "(EXPRESSION)") {
                print_token();
                if (flags.mode === 'OBJECT' && last_text === '}') {
                    print_newline();
                } else {
                    print_single_space();
                }
            } else {
                if (flags.mode === 'OBJECT') {
                    print_token();
                    print_newline();
                } else {
                    // EXPR or DO_BLOCK
                    print_token();
                    print_single_space();
                }
            }
            break;


        case 'TK_OPERATOR':

            var space_before = true;
            var space_after = true;
            if (is_special_word(last_text)) {
                // "return" had a special handling in TK_WORD. Now we need to return the favor
                print_single_space();
                print_token();
                break;
            }

            // hack for actionscript's import .*;
            if (token_text === '*' && last_type === 'TK_DOT' && !last_last_text.match(/^\d+$/)) {
                print_token();
                break;
            }

            if (token_text === ':' && flags.in_case) {
                flags.case_body = true;
                indent();
                print_token();
                print_newline();
                flags.in_case = false;
                break;
            }

            if (token_text === '::') {
                // no spaces around exotic namespacing syntax operator
                print_token();
                break;
            }

            if (in_array(token_text, ['--', '++', '!']) || (in_array(token_text, ['-', '+']) && (in_array(last_type, ['TK_START_BLOCK', 'TK_START_EXPR', 'TK_EQUALS', 'TK_OPERATOR']) || in_array(last_text, line_starters) || last_text == ','))) {
                // unary operators (and binary +/- pretending to be unary) special cases

                space_before = false;
                space_after = false;

                if (last_text === ';' && is_expression(flags.mode)) {
                    // for (;; ++i)
                    //        ^^^
                    space_before = true;
                }
                if (last_type === 'TK_WORD' && in_array(last_text, line_starters)) {
                    space_before = true;
                }

                if (flags.mode === 'BLOCK' && (last_text === '{' || last_text === ';')) {
                    // { foo; --i }
                    // foo(); --bar;
                    print_newline();
                }
            } else if (token_text === ':') {
                if (flags.ternary_depth === 0) {
                    if (flags.mode === 'BLOCK') {
                        flags.mode = 'OBJECT';
                    }
                    space_before = false;
                } else {
                    flags.ternary_depth -= 1;
                }
            } else if (token_text === '?') {
                flags.ternary_depth += 1;
            }
            if (space_before) {
                print_single_space();
            }

            print_token();

            if (space_after) {
                print_single_space();
            }

            break;

        case 'TK_BLOCK_COMMENT':

            var lines = split_newlines(token_text);
            var j; // iterator for this case

            if (all_lines_start_with(lines.slice(1), '*')) {
                // javadoc: reformat and reindent
                print_newline();
                output.push(lines[0]);
                for (j = 1; j < lines.length; j++) {
                    print_newline();
                    output.push(' ');
                    output.push(trim(lines[j]));
                }

            } else {

                // simple block comment: leave intact
                if (lines.length > 1) {
                    // multiline comment block starts with a new line
                    print_newline();
                } else {
                    // single-line /* comment */ stays where it is
                    if (last_type === 'TK_END_BLOCK') {
                        print_newline();
                    } else {
                        print_single_space();
                    }

                }

                for (j = 0; j < lines.length; j++) {
                    output.push(lines[j]);
                    output.push("\n");
                }

            }
            if (look_up('\n') !== '\n') {
                print_newline();
            }
            break;

        case 'TK_INLINE_COMMENT':
            print_single_space();
            print_token();
            if (is_expression(flags.mode)) {
                print_single_space();
            } else {
                force_newline();
            }
            break;

        case 'TK_COMMENT':

            if (last_text === ',' && !wanted_newline) {
                trim_output(true);
            }
            if (last_type !== 'TK_COMMENT') {
                if (wanted_newline) {
                    print_newline();
                } else {
                    print_single_space();
                }
            }
            print_token();
            print_newline();
            break;

        case 'TK_UNKNOWN':
            print_token();
            break;
        }

        last_last_text = last_text;
        last_type = token_type;
        last_text = token_text;
    }

    var sweet_code = preindent_string + output.join('').replace(/[\r\n ]+$/, '');
    return sweet_code;

}

// Add support for CommonJS. Just put this file somewhere on your require.paths
// and you will be able to `var js_beautify = require("beautify").js_beautify`.
if (typeof exports !== "undefined") {
    exports.js_beautify = js_beautify;
}

var Beautifier = {
  js: function(content) {
    return js_beautify(content, {
      indent_size: 4,
      space_before_conditional: true,
      jslint_happy: true,
      max_char: 0
    });
  },
  html: function(content) {
    return style_html(content, {
      indent_size: 4,
      max_char: 0
    });
  },
  css: function(content) {
    return css_beautify(content, {
      indent_size: 4,
      max_char: 0
    });
  }
}
‘	… ÀÃ_application/javascript_$https://togetherjs.com/togetherjs.jsO€bplist00‘opX$versionX$objectsY$archiverT$top Ü†Ø##)*0123OPQRSTUVWXYZ[\]^_`abcdehijU$null›	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1Ä	ÄÄÄ Ä"ÄÄ!Ä”$%&'(WNS.base[NS.relativeÄ ÄÄ_$https://togetherjs.com/togetherjs.js“+,-.Z$classnameX$classesUNSURL¢-/XNSObject#Aªçà ûº »”456BNWNS.keysZNS.objects´789:;<=>?@AÄ	Ä
ÄÄÄÄÄÄÄÄÄ´CDEFGHIJKLMÄÄÄÄÄÄÄÄÄÄÄÄWX-Cache\Content-TypeVServer]Last-ModifiedTEtagSViaTDateSAge^Content-Length[X-Amz-Cf-IdZConnection_Hit from cloudfront_application/javascriptXAmazonS3_Mon, 05 May 2014 16:57:24 GMT_""e251eda9798232b7961ced473003dee7"_@1.1 ccdb7cbbbb012c3ae165f713113ea6e9.cloudfront.net (CloudFront)_Tue, 25 Aug 2015 00:45:27 GMTU17690U27087_8bmUFNht3kmyDH1FtVX6DwE_FXtkmyzs0AqaII5xLzL-Qu5j73T1bBw==Zkeep-alive“+,fg\NSDictionary¢f/iœ_application/javascript“+,kl_NSHTTPURLResponse£mn/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiver—qr_WebResourceResponseÄ    # - 2 7 ] c ~ Å Ö à ã é í ï ú ü ¢ • ® ´ ≠ Ø ± ≥ µ ∂ ∏ ∫ º æ ¿ ¬ ƒ À ” ﬂ · „ Â%+.7@BDKS^jlnprtvxz|~Äåéêíîñòöúû†¢§¨π¿Œ”◊‹‡Ô˚5>^É∆ÊÏÚ-8=JMPinÇÜö®∫Ω”             s              ’Oiœ/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/*jshint scripturl:true */
(function () {

  var defaultConfiguration = {
    // Disables clicks for a certain element.
    // (e.g., 'canvas' would not show clicks on canvas elements.)
    // Setting this to true will disable clicks globally.
    dontShowClicks: false,
    // Experimental feature to echo clicks to certain elements across clients:
    cloneClicks: false,
    // Enable Mozilla or Google analytics on the page when TogetherJS is activated:
    // FIXME: these don't seem to be working, and probably should be removed in favor
    // of the hub analytics
    enableAnalytics: false,
    // The code to enable (this is defaulting to a Mozilla code):
    analyticsCode: "UA-35433268-28",
    // The base URL of the hub (gets filled in below):
    hubBase: null,
    // A function that will return the name of the user:
    getUserName: null,
    // A function that will return the color of the user:
    getUserColor: null,
    // A function that will return the avatar of the user:
    getUserAvatar: null,
    // The siteName is used in the walkthrough (defaults to document.title):
    siteName: null,
    // Whether to use the minimized version of the code (overriding the built setting)
    useMinimizedCode: undefined,
    // Any events to bind to
    on: {},
    // Hub events to bind to
    hub_on: {},
    // Enables the alt-T alt-T TogetherJS shortcut; however, this setting
    // must be enabled early as TogetherJSConfig_enableShortcut = true;
    enableShortcut: false,
    // The name of this tool as provided to users.  The UI is updated to use this.
    // Because of how it is used in text it should be a proper noun, e.g.,
    // "MySite's Collaboration Tool"
    toolName: null,
    // Used to auto-start TogetherJS with a {prefix: pageName, max: participants}
    // Also with findRoom: "roomName" it will connect to the given room name
    findRoom: null,
    // If true, starts TogetherJS automatically (of course!)
    autoStart: false,
    // If true, then the "Join TogetherJS Session?" confirmation dialog
    // won't come up
    suppressJoinConfirmation: false,
    // If true, then the "Invite a friend" window won't automatically come up
    suppressInvite: false,
    // A room in which to find people to invite to this session,
    inviteFromRoom: null,
    // This is used to keep sessions from crossing over on the same
    // domain, if for some reason you want sessions that are limited
    // to only a portion of the domain:
    storagePrefix: "togetherjs",
    // When true, we treat the entire URL, including the hash, as the identifier
    // of the page; i.e., if you one person is on `http://example.com/#view1`
    // and another person is at `http://example.com/#view2` then these two people
    // are considered to be at completely different URLs
    includeHashInUrl: false,
    // When true, the WebRTC-based mic/chat will be disabled
    disableWebRTC: false,
    // When true, youTube videos will synchronize
    youtube: true,
    // Ignores the following console messages, disables all messages if set to true
    ignoreMessages: ["cursor-update", "keydown", "scroll-update"],
    // Ignores the following forms (will ignore all forms if set to true):
    ignoreForms: [":password"]
  };

  var styleSheet = "/togetherjs/togetherjs.css";

  var baseUrl = "https://togetherjs.com";
  if (baseUrl == "__" + "baseUrl__") {
    // Reset the variable if it doesn't get substituted
    baseUrl = "";
  }
  // True if this file should use minimized sub-resources:
  var min = "no" == "__" + "min__" ? false : "no" == "yes";

  var baseUrlOverride = localStorage.getItem("togetherjs.baseUrlOverride");
  if (baseUrlOverride) {
    try {
      baseUrlOverride = JSON.parse(baseUrlOverride);
    } catch (e) {
      baseUrlOverride = null;
    }
    if ((! baseUrlOverride) || baseUrlOverride.expiresAt < Date.now()) {
      // Ignore because it has expired
      localStorage.removeItem("togetherjs.baseUrlOverride");
    } else {
      baseUrl = baseUrlOverride.baseUrl;
      var logger = console.warn || console.log;
      logger.call(console, "Using TogetherJS baseUrlOverride:", baseUrl);
      logger.call(console, "To undo run: localStorage.removeItem('togetherjs.baseUrlOverride')");
    }
  }

  var configOverride = localStorage.getItem("togetherjs.configOverride");
  if (configOverride) {
    try {
      configOverride = JSON.parse(configOverride);
    } catch (e) {
      configOverride = null;
    }
    if ((! configOverride) || configOverride.expiresAt < Date.now()) {
      localStorage.removeItem("togetherjs.configOverride");
    } else {
      var shownAny = false;
      for (var attr in configOverride) {
        if (attr == "expiresAt" || ! configOverride.hasOwnProperty(attr)) {
          continue;
        }
        if (! shownAny) {
          console.warn("Using TogetherJS configOverride");
          console.warn("To undo run: localStorage.removeItem('togetherjs.configOverride')");
        }
        window["TogetherJSConfig_" + attr] = configOverride[attr];
        console.log("Config override:", attr, "=", configOverride[attr]);
      }
    }
  }

  var version = "unknown";
  // FIXME: we could/should use a version from the checkout, at least
  // for production
  var cacheBust = "";
  if ((! cacheBust) || cacheBust == "") {
    cacheBust = Date.now() + "";
  } else {
    version = cacheBust;
  }

  // Make sure we have all of the console.* methods:
  if (typeof console == "undefined") {
    console = {};
  }
  if (! console.log) {
    console.log = function () {};
  }
  ["debug", "info", "warn", "error"].forEach(function (method) {
    if (! console[method]) {
      console[method] = console.log;
    }
  });

  if (! baseUrl) {
    var scripts = document.getElementsByTagName("script");
    for (var i=0; i<scripts.length; i++) {
      var src = scripts[i].src;
      if (src && src.search(/togetherjs.js(\?.*)?$/) !== -1) {
        baseUrl = src.replace(/\/*togetherjs.js(\?.*)?$/, "");
        console.warn("Detected baseUrl as", baseUrl);
        break;
      } else if (src && src.search(/togetherjs-min.js(\?.*)?$/) !== -1) {
        baseUrl = src.replace(/\/*togetherjs-min.js(\?.*)?$/, "");
        console.warn("Detected baseUrl as", baseUrl);
        break;
      }
    }
  }
  if (! baseUrl) {
    console.warn("Could not determine TogetherJS's baseUrl (looked for a <script> with togetherjs.js and togetherjs-min.js)");
  }

  function addStyle() {
    var existing = document.getElementById("togetherjs-stylesheet");
    if (! existing) {
      var link = document.createElement("link");
      link.id = "togetherjs-stylesheet";
      link.setAttribute("rel", "stylesheet");
      link.href = baseUrl + styleSheet + "?bust=" + cacheBust;
      document.head.appendChild(link);
    }
  }

  function addScript(url) {
    var script = document.createElement("script");
    script.src = baseUrl + url + "?bust=" + cacheBust;
    document.head.appendChild(script);
  }

  var TogetherJS = window.TogetherJS = function TogetherJS(event) {
    if (TogetherJS.running) {
      var session = TogetherJS.require("session");
      session.close();
      return;
    }
    TogetherJS.startup.button = null;
    try {
      if (event && typeof event == "object") {
        if (event.target && typeof event) {
          TogetherJS.startup.button = event.target;
        } else if (event.nodeType == 1) {
          TogetherJS.startup.button = event;
        } else if (event[0] && event[0].nodeType == 1) {
          // Probably a jQuery element
          TogetherJS.startup.button = event[0];
        }
      }
    } catch (e) {
      console.warn("Error determining starting button:", e);
    }
    if (window.TowTruckConfig) {
      console.warn("TowTruckConfig is deprecated; please use TogetherJSConfig");
      if (window.TogetherJSConfig) {
        console.warn("Ignoring TowTruckConfig in favor of TogetherJSConfig");
      } else {
        window.TogetherJSConfig = TowTruckConfig;
      }
    }
    if (window.TogetherJSConfig && (! window.TogetherJSConfig.loaded)) {
      TogetherJS.config(window.TogetherJSConfig);
      window.TogetherJSConfig.loaded = true;
    }

    // This handles loading configuration from global variables.  This
    // includes TogetherJSConfig_on_*, which are attributes folded into
    // the "on" configuration value.
    var attr;
    var attrName;
    var globalOns = {};
    for (attr in window) {
      if (attr.indexOf("TogetherJSConfig_on_") === 0) {
        attrName = attr.substr(("TogetherJSConfig_on_").length);
        globalOns[attrName] = window[attr];
      } else if (attr.indexOf("TogetherJSConfig_") === 0) {
        attrName = attr.substr(("TogetherJSConfig_").length);
        TogetherJS.config(attrName, window[attr]);
      } else if (attr.indexOf("TowTruckConfig_on_") === 0) {
        attrName = attr.substr(("TowTruckConfig_on_").length);
        console.warn("TowTruckConfig_* is deprecated, please rename", attr, "to TogetherJSConfig_on_" + attrName);
        globalOns[attrName] = window[attr];
      } else if (attr.indexOf("TowTruckConfig_") === 0) {
        attrName = attr.substr(("TowTruckConfig_").length);
        console.warn("TowTruckConfig_* is deprecated, please rename", attr, "to TogetherJSConfig_" + attrName);
        TogetherJS.config(attrName, window[attr]);
      }


    }
    // FIXME: copy existing config?
    // FIXME: do this directly in TogetherJS.config() ?
    // FIXME: close these configs?
    var ons = TogetherJS.config.get("on");
    for (attr in globalOns) {
      if (globalOns.hasOwnProperty(attr)) {
        // FIXME: should we avoid overwriting?  Maybe use arrays?
        ons[attr] = globalOns[attr];
      }
    }
    TogetherJS.config("on", ons);
    for (attr in ons) {
      TogetherJS.on(attr, ons[attr]);
    }
    var hubOns = TogetherJS.config.get("hub_on");
    if (hubOns) {
      for (attr in hubOns) {
        if (hubOns.hasOwnProperty(attr)) {
          TogetherJS.hub.on(attr, hubOns[attr]);
        }
      }
    }

    if (! TogetherJS.startup.reason) {
      // Then a call to TogetherJS() from a button must be started TogetherJS
      TogetherJS.startup.reason = "started";
    }

    // FIXME: maybe I should just test for TogetherJS.require:
    if (TogetherJS._loaded) {
      var session = TogetherJS.require("session");
      addStyle();
      session.start();
      return;
    }
    // A sort of signal to session.js to tell it to actually
    // start itself (i.e., put up a UI and try to activate)
    TogetherJS.startup._launch = true;

    addStyle();
    var minSetting = TogetherJS.config.get("useMinimizedCode");
    TogetherJS.config.close("useMinimizedCode");
    if (minSetting !== undefined) {
      min = !! minSetting;
    }
    var requireConfig = TogetherJS._extend(TogetherJS.requireConfig);
    var deps = ["session", "jquery"];
    function callback(session, jquery) {
      TogetherJS._loaded = true;
      if (! min) {
        TogetherJS.require = require.config({context: "togetherjs"});
        TogetherJS._requireObject = require;
      }
    }
    if (! min) {
      if (typeof require == "function") {
        if (! require.config) {
          console.warn("The global require (", require, ") is not requirejs; please use togetherjs-min.js");
          throw new Error("Conflict with window.require");
        }
        TogetherJS.require = require.config(requireConfig);
      }
    }
    if (typeof TogetherJS.require == "function") {
      // This is an already-configured version of require
      TogetherJS.require(deps, callback);
    } else {
      requireConfig.deps = deps;
      requireConfig.callback = callback;
      if (! min) {
        window.require = requireConfig;
      }
    }
    if (min) {
      addScript("/togetherjs/togetherjsPackage.js");
    } else {
      addScript("/togetherjs/libs/require.js");
    }
  };

  TogetherJS.pageLoaded = Date.now();

  TogetherJS._extend = function (base, extensions) {
    if (! extensions) {
      extensions = base;
      base = {};
    }
    for (var a in extensions) {
      if (extensions.hasOwnProperty(a)) {
        base[a] = extensions[a];
      }
    }
    return base;
  };

  TogetherJS._startupInit = {
    // What element, if any, was used to start the session:
    button: null,
    // The startReason is the reason TogetherJS was started.  One of:
    //   null: not started
    //   started: hit the start button (first page view)
    //   joined: joined the session (first page view)
    reason: null,
    // Also, the session may have started on "this" page, or maybe is continued
    // from a past page.  TogetherJS.continued indicates the difference (false the
    // first time TogetherJS is started or joined, true on later page loads).
    continued: false,
    // This is set to tell the session what shareId to use, if the boot
    // code knows (mostly because the URL indicates the id).
    _joinShareId: null,
    // This tells session to start up immediately (otherwise it would wait
    // for session.start() to be run)
    _launch: false
  };
  TogetherJS.startup = TogetherJS._extend(TogetherJS._startupInit);
  TogetherJS.running = false;

  TogetherJS.requireConfig = {
    context: "togetherjs",
    baseUrl: baseUrl + "/togetherjs",
    urlArgs: "bust=" + cacheBust,
    paths: {
      jquery: "libs/jquery-1.8.3.min",
      walkabout: "libs/walkabout/walkabout",
      esprima: "libs/walkabout/lib/esprima",
      falafel: "libs/walkabout/lib/falafel",
      tinycolor: "libs/tinycolor",
      whrandom: "libs/whrandom/random"
    }
  };

  TogetherJS._mixinEvents = function (proto) {
    proto.on = function on(name, callback) {
      if (typeof callback != "function") {
        console.warn("Bad callback for", this, ".once(", name, ", ", callback, ")");
        throw "Error: .once() called with non-callback";
      }
      if (name.search(" ") != -1) {
        var names = name.split(/ +/g);
        names.forEach(function (n) {
          this.on(n, callback);
        }, this);
        return;
      }
      if (this._knownEvents && this._knownEvents.indexOf(name) == -1) {
        var thisString = "" + this;
        if (thisString.length > 20) {
          thisString = thisString.substr(0, 20) + "...";
        }
        console.warn(thisString + ".on('" + name + "', ...): unknown event");
        if (console.trace) {
          console.trace();
        }
      }
      if (! this._listeners) {
        this._listeners = {};
      }
      if (! this._listeners[name]) {
        this._listeners[name] = [];
      }
      if (this._listeners[name].indexOf(callback) == -1) {
        this._listeners[name].push(callback);
      }
    };
    proto.once = function once(name, callback) {
      if (typeof callback != "function") {
        console.warn("Bad callback for", this, ".once(", name, ", ", callback, ")");
        throw "Error: .once() called with non-callback";
      }
      var attr = "onceCallback_" + name;
      // FIXME: maybe I should add the event name to the .once attribute:
      if (! callback[attr]) {
        callback[attr] = function onceCallback() {
          callback.apply(this, arguments);
          this.off(name, onceCallback);
          delete callback[attr];
        };
      }
      this.on(name, callback[attr]);
    };
    proto.off = proto.removeListener = function off(name, callback) {
      if (this._listenerOffs) {
        // Defer the .off() call until the .emit() is done.
        this._listenerOffs.push([name, callback]);
        return;
      }
      if (name.search(" ") != -1) {
        var names = name.split(/ +/g);
        names.forEach(function (n) {
          this.off(n, callback);
        }, this);
        return;
      }
      if ((! this._listeners) || ! this._listeners[name]) {
        return;
      }
      var l = this._listeners[name], _len = l.length;
      for (var i=0; i<_len; i++) {
        if (l[i] == callback) {
          l.splice(i, 1);
          break;
        }
      }
    };
    proto.emit = function emit(name) {
      var offs = this._listenerOffs = [];
      if ((! this._listeners) || ! this._listeners[name]) {
        return;
      }
      var args = Array.prototype.slice.call(arguments, 1);
      var l = this._listeners[name];
      l.forEach(function (callback) {

        callback.apply(this, args);
      }, this);
      delete this._listenerOffs;
      if (offs.length) {
        offs.forEach(function (item) {
          this.off(item[0], item[1]);
        }, this);
      }

    };
    return proto;
  };

  /* This finalizes the unloading of TogetherJS, including unloading modules */
  TogetherJS._teardown = function () {
    var requireObject = TogetherJS._requireObject || window.require;
    // FIXME: this doesn't clear the context for min-case
    if (requireObject.s && requireObject.s.contexts) {
      delete requireObject.s.contexts.togetherjs;
    }
    TogetherJS._loaded = false;
    TogetherJS.startup = TogetherJS._extend(TogetherJS._startupInit);
    TogetherJS.running = false;
  };

  TogetherJS._mixinEvents(TogetherJS);
  TogetherJS._knownEvents = ["ready", "close"];
  TogetherJS.toString = function () {
    return "TogetherJS";
  };

  var defaultHubBase = "https://hub.togetherjs.com";
  if (defaultHubBase == "__" + "hubUrl"+ "__") {
    // Substitution wasn't made
    defaultHubBase = "https://hub.togetherjs.mozillalabs.com";
  }
  defaultConfiguration.hubBase = defaultHubBase;

  TogetherJS._configuration = {};
  TogetherJS._defaultConfiguration = defaultConfiguration;
  TogetherJS._configTrackers = {};
  TogetherJS._configClosed = {};

  /* TogetherJS.config(configurationObject)
     or: TogetherJS.config(configName, value)

     Adds configuration to TogetherJS.  You may also set the global variable TogetherJSConfig
     and when TogetherJS is started that configuration will be loaded.

     Unknown configuration values will lead to console error messages.
     */
  TogetherJS.config = function (name, maybeValue) {
    var settings;
    if (arguments.length == 1) {
      if (typeof name != "object") {
        throw new Error('TogetherJS.config(value) must have an object value (not: ' + name + ')');
      }
      settings = name;
    } else {
      settings = {};
      settings[name] = maybeValue;
    }
    var i;
    var tracker;
    for (var attr in settings) {
      if (settings.hasOwnProperty(attr)) {
        if (TogetherJS._configClosed[attr] && TogetherJS.running) {
          throw new Error("The configuration " + attr + " is finalized and cannot be changed");
        }
      }
    }
    for (var attr in settings) {
      if (! settings.hasOwnProperty(attr)) {
        continue;
      }
      if (attr == "loaded" || attr == "callToStart") {
        continue;
      }
      if (! TogetherJS._defaultConfiguration.hasOwnProperty(attr)) {
        console.warn("Unknown configuration value passed to TogetherJS.config():", attr);
      }
      var previous = TogetherJS._configuration[attr];
      var value = settings[attr];
      TogetherJS._configuration[attr] = value;
      var trackers = TogetherJS._configTrackers[name] || [];
      var failed = false;
      for (i=0; i<trackers.length; i++) {
        try {
          tracker = trackers[i];
          tracker(value, previous);
        } catch (e) {
          console.warn("Error setting configuration", name, "to", value,
                       ":", e, "; reverting to", previous);
          failed = true;
          break;
        }
      }
      if (failed) {
        TogetherJS._configuration[attr] = previous;
        for (i=0; i<trackers.length; i++) {
          try {
            tracker = trackers[i];
            tracker(value);
          } catch (e) {
            console.warn("Error REsetting configuration", name, "to", previous,
                         ":", e, "(ignoring)");
          }
        }
      }
    }
  };

  TogetherJS.config.get = function (name) {
    var value = TogetherJS._configuration[name];
    if (value === undefined) {
      if (! TogetherJS._defaultConfiguration.hasOwnProperty(name)) {
        console.error("Tried to load unknown configuration value:", name);
      }
      value = TogetherJS._defaultConfiguration[name];
    }
    return value;
  };

  TogetherJS.config.track = function (name, callback) {
    if (! TogetherJS._defaultConfiguration.hasOwnProperty(name)) {
      throw new Error("Configuration is unknown: " + name);
    }
    callback(TogetherJS.config.get(name));
    if (! TogetherJS._configTrackers[name]) {
      TogetherJS._configTrackers[name] = [];
    }
    TogetherJS._configTrackers[name].push(callback);
    return callback;
  };

  TogetherJS.config.close = function (name) {
    if (! TogetherJS._defaultConfiguration.hasOwnProperty(name)) {
      throw new Error("Configuration is unknown: " + name);
    }
    TogetherJS._configClosed[name] = true;
  };

  TogetherJS.reinitialize = function () {
    if (TogetherJS.running && typeof TogetherJS.require == "function") {
      TogetherJS.require(["session"], function (session) {
        session.emit("reinitialize");
      });
    }
    // If it's not set, TogetherJS has not been loaded, and reinitialization is not needed
  };

  TogetherJS.refreshUserData = function () {
    if (TogetherJS.running && typeof TogetherJS.require ==  "function") {
      TogetherJS.require(["session"], function (session) {
        session.emit("refresh-user-data");
      });
    }
  };

  // This should contain the output of "git describe --always --dirty"
  // FIXME: substitute this on the server (and update make-static-client)
  TogetherJS.version = version;
  TogetherJS.baseUrl = baseUrl;

  TogetherJS.hub = TogetherJS._mixinEvents({});

  TogetherJS._onmessage = function (msg) {
    var type = msg.type;
    if (type.search(/^app\./) === 0) {
      type = type.substr("app.".length);
    } else {
      type = "togetherjs." + type;
    }
    msg.type = type;
    TogetherJS.hub.emit(msg.type, msg);
  };

  TogetherJS.send = function (msg) {
    if (! TogetherJS.require) {
      throw "You cannot use TogetherJS.send() when TogetherJS is not running";
    }
    var session = TogetherJS.require("session");
    session.appSend(msg);
  };

  TogetherJS.shareUrl = function () {
    if (! TogetherJS.require) {
      return null;
    }
    var session = TogetherJS.require("session");
    return session.shareUrl();
  };

  var listener = null;

  TogetherJS.listenForShortcut = function () {
    console.warn("Listening for alt-T alt-T to start TogetherJS");
    TogetherJS.removeShortcut();
    listener = function listener(event) {
      if (event.which == 84 && event.altKey) {
        if (listener.pressed) {
          // Second hit
          TogetherJS();
        } else {
          listener.pressed = true;
        }
      } else {
        listener.pressed = false;
      }
    };
    TogetherJS.once("ready", TogetherJS.removeShortcut);
    document.addEventListener("keyup", listener, false);
  };

  TogetherJS.removeShortcut = function () {
    if (listener) {
      document.addEventListener("keyup", listener, false);
      listener = null;
    }
  };

  TogetherJS.config.track("enableShortcut", function (enable, previous) {
    if (enable) {
      TogetherJS.listenForShortcut();
    } else if (previous) {
      TogetherJS.removeShortcut();
    }
  });

  TogetherJS.checkForUsersOnChannel = function (address, callback) {
    if (address.search(/^https?:/i) === 0) {
      address = address.replace(/^http/i, 'ws');
    }
    var socket = new WebSocket(address);
    var gotAnswer = false;
    socket.onmessage = function (event) {
      var msg = JSON.parse(event.data);
      if (msg.type != "init-connection") {
        console.warn("Got unexpected first message (should be init-connection):", msg);
        return;
      }
      if (gotAnswer) {
        console.warn("Somehow received two responses from channel; ignoring second");
        socket.close();
        return;
      }
      gotAnswer = true;
      socket.close();
      callback(msg.peerCount);
    };
    socket.onclose = socket.onerror = function () {
      if (! gotAnswer) {
        console.warn("Socket was closed without receiving answer");
        gotAnswer = true;
        callback(undefined);
      }
    };
  };

  // It's nice to replace this early, before the load event fires, so we conflict
  // as little as possible with the app we are embedded in:
  var hash = location.hash.replace(/^#/, "");
  var m = /&?togetherjs=([^&]*)/.exec(hash);
  if (m) {
    TogetherJS.startup._joinShareId = m[1];
    TogetherJS.startup.reason = "joined";
    var newHash = hash.substr(0, m.index) + hash.substr(m.index + m[0].length);
    location.hash = newHash;
  }
  if (window._TogetherJSShareId) {
    // A weird hack for something the addon does, to force a shareId.
    // FIXME: probably should remove, it's a wonky feature.
    TogetherJS.startup._joinShareId = window._TogetherJSShareId;
    delete window._TogetherJSShareId;
  }

  function conditionalActivate() {
    if (window.TogetherJSConfig_noAutoStart) {
      return;
    }
    // A page can define this function to defer TogetherJS from starting
    var callToStart = window.TogetherJSConfig_callToStart;
    if (! callToStart && window.TowTruckConfig_callToStart) {
      callToStart = window.TowTruckConfig_callToStart;
      console.warn("Please rename TowTruckConfig_callToStart to TogetherJSConfig_callToStart");
    }
    if (window.TogetherJSConfig && window.TogetherJSConfig.callToStart) {
      callToStart = window.TogetherJSConfig.callToStart;
    }
    if (callToStart) {
      // FIXME: need to document this:
      callToStart(onload);
    } else {
      onload();
    }
  }

  // FIXME: can we push this up before the load event?
  // Do we need to wait at all?
  function onload() {
    if (TogetherJS.startup._joinShareId) {
      TogetherJS();
    } else if (window._TogetherJSBookmarklet) {
      delete window._TogetherJSBookmarklet;
      TogetherJS();
    } else {
      // FIXME: this doesn't respect storagePrefix:
      var key = "togetherjs-session.status";
      var value = sessionStorage.getItem(key);
      if (value) {
        value = JSON.parse(value);
        if (value && value.running) {
          TogetherJS.startup.continued = true;
          TogetherJS.startup.reason = value.startupReason;
          TogetherJS();
        }
      } else if (window.TogetherJSConfig_autoStart ||
                 (window.TogetherJSConfig && window.TogetherJSConfig.autoStart)) {
        TogetherJS.startup.reason = "joined";
        TogetherJS();
      }
    }
  }

  conditionalActivate();

  // FIXME: wait until load event to double check if this gets set?
  if (window.TogetherJSConfig_enableShortcut) {
    TogetherJS.listenForShortcut();
  }

  // For compatibility:
  window.TowTruck = TogetherJS;

})();
         !   7   I   T   j   à   ü   Æ   ¿       –   —   ˇ  µô  µú  µ°  µ¨  µ“  ∂∫ Å° Å£ ÅÆ Åƒ Å› Å„ Çs â ä ä ä ä ä= çW çZ çc ç| ç¬ íU π π π πE Ωã øÈ ¿ ¿ ¿/ ¿\ ∆± *√ *Œ *Á + 0Ú 8ô 8¢ 8¥ 8„ =k † † †7 †c •‹ ƒ◊ ƒ‡ ƒ˘ ≈7 …æ Ω~ Ωá Ω† ΩÂ ¬s Y b { Ã c Å‡ ÅÈ Ç ÇE ÜŒ n w ê ” \ A— A⁄ AÛ BB F◊ Zd Zm ZÜ Z€ _v áF áO áh á∏ åN ™} ™Ü ™ü ™Ó ØÉ ƒ ƒ ƒ/ ƒz … N W p ¡ X o x ë √ #>  ºE  ºN  ºg  ºò  ¡ /™˙ /´ /´ /´O /Ø« /æ˛ /ø /ø  /øT /√Œ /ÁÔ /Á¯ /Ë /ËD /ÏΩ 0Fv 0F 0Fò 0FÕ 0KH 0[é 0[ó 0[∞ 0[‰ 0`^ 0Ñ≥ 0Ñº 0Ñ’ 0Ö	 0âÇ 0åÌ 0åˆ 0ç 0çE 0ë¡ 0´œ 0´ÿ 0¨ 0∞_ 0≤Ω 0≤∆ 0≤˙ 0∑E 0∏2 0∏; 0∏x 0ºœ 1@ 1I 1W 1í 1
ã 4` 4` 4`[ 4dª 4ãÍ 4ãÛ 4å? 4ê§ 4ì> 4ìG 4ì{ 4ó… 4€ú 4€• 4€æ 4€Â 4‡U 5¸t 5¸} 5¸ñ 5¸Ω 6ú             Õ             6ko